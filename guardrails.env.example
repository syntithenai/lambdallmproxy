# Example Guardrails Configuration
# Copy these environment variables to enable Groq-based content moderation

# ============================================
# GUARDRAILS (AUTO-DETECT, RECOMMENDED)
# ============================================
# The guardrails system now auto-detects an available provider and models
# at runtime. To enable guardrails you only need to set:
#
#   ENABLE_GUARDRAILS=true
#
# The system will prefer 'groq-free' when available, then 'gemini-free',
# then 'groq' and other providers based on available API keys supplied via
# the UI context or environment (indexed providers or legacy env vars).
#
# Optional legacy/manual overrides (NOT required):
#   GUARDRAIL_PROVIDER=groq-free
#   GUARDRAIL_INPUT_MODEL=llama-3.1-8b-instant
#   GUARDRAIL_OUTPUT_MODEL=llama-3.1-8b-instant
#   GUARDRAIL_STRICTNESS=moderate
#   GROQ_API_KEY=your_groq_api_key_here


# ============================================
# GROQ PAID TIER GUARDRAILS (HIGHER ACCURACY)
# ============================================
# Use larger 70B models for better accuracy
# Uncomment these lines to use paid tier instead

# ENABLE_GUARDRAILS=true
# GUARDRAIL_PROVIDER=groq
# GUARDRAIL_INPUT_MODEL=llama-3.1-70b-versatile
# GUARDRAIL_OUTPUT_MODEL=llama-3.1-70b-versatile
# GUARDRAIL_STRICTNESS=moderate
# GROQ_API_KEY=your_groq_api_key_here


# ============================================
# HYBRID CONFIGURATION (FAST INPUT + ACCURATE OUTPUT)
# ============================================
# Use 8B model for input (faster) and 70B for output (more accurate)
# Best of both worlds for production use

# ENABLE_GUARDRAILS=true
# GUARDRAIL_PROVIDER=groq
# GUARDRAIL_INPUT_MODEL=llama-3.1-8b-instant
# GUARDRAIL_OUTPUT_MODEL=llama-3.1-70b-versatile
# GUARDRAIL_STRICTNESS=moderate
# GROQ_API_KEY=your_groq_api_key_here


# ============================================
# INDEXED PROVIDER FORMAT (ALTERNATIVE)
# ============================================
# If you're using the indexed provider format for your Groq configuration

# ENABLE_GUARDRAILS=true
# GUARDRAIL_PROVIDER=groq-free
# GUARDRAIL_INPUT_MODEL=llama-3.1-8b-instant
# GUARDRAIL_OUTPUT_MODEL=llama-3.1-8b-instant
# GUARDRAIL_STRICTNESS=moderate

# Groq provider already configured:
# LLAMDA_LLM_PROXY_PROVIDER_TYPE_0=groq-free
# LLAMDA_LLM_PROXY_PROVIDER_KEY_0=your_groq_api_key_here


# ============================================
# STRICTNESS LEVELS
# ============================================
# Choose one based on your use case:

# GUARDRAIL_STRICTNESS=lenient    # Less restrictive, fewer false positives
# GUARDRAIL_STRICTNESS=moderate   # Balanced (default)
# GUARDRAIL_STRICTNESS=strict     # More restrictive, safer for public apps


# ============================================
# DISABLE GUARDRAILS
# ============================================
# To turn off content moderation completely:

# ENABLE_GUARDRAILS=false


# ============================================
# NOTES
# ============================================
# - Get your Groq API key at: https://console.groq.com/keys
# - Free tier limits: 30 req/min, 6000 tokens/min
# - Input validation happens BEFORE main LLM call
# - Output validation happens AFTER main LLM response
# - Both are tracked separately in billing logs (type: guardrail_input/guardrail_output)
# - System fails "closed" (blocks content) if guardrails error
# - Average latency: 50-100ms for 8B model, 100-200ms for 70B model
# - See GUARDRAILS_GROQ_SETUP.md for detailed documentation
