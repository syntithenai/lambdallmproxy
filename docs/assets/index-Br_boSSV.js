const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/react-Cl0eZOeZ.js","assets/mixin-D3UDm--6.js","assets/hls-Bm3F2dIq.js","assets/react-B1aXuTIE.js","assets/index-Ik4EqAI-.js","assets/dagre-6UL2VRFP-DrFkKx3P.js","assets/graph-Du_q-inP.js","assets/_baseUniq-DtBKkusz.js","assets/layout-Ds-WnxQ4.js","assets/_basePickBy-B7bkgrgY.js","assets/clone-CzipgU7R.js","assets/cose-bilkent-S5V4N54A-DwUjrlzS.js","assets/cytoscape.esm-DtBltrT8.js","assets/c4Diagram-YG6GDRKO-DUsEaJjc.js","assets/chunk-TZMSLE5B-C5jZ-KdS.js","assets/flowDiagram-NV44I4VS-BW4_Tg2k.js","assets/chunk-FMBD7UC4-Dg9uMGAu.js","assets/chunk-55IACEB6-BvIeKcAl.js","assets/chunk-QN33PNHL-BR9v1f_e.js","assets/channel-Cz_yRyWg.js","assets/erDiagram-Q2GNP2WA-B00jDUzU.js","assets/gitGraphDiagram-NY62KEGX-DjAXf0Xi.js","assets/chunk-4BX2VUAB-cNCZg-pJ.js","assets/chunk-QZHKN3VN-DagrDHBZ.js","assets/treemap-KMMF4GRG-D_cdPEDB.js","assets/ganttDiagram-LVOFAZNH-Dh0RIFb3.js","assets/linear-BmmjVayK.js","assets/init-Gi6I4Gst.js","assets/defaultLocale-C4B-KCzX.js","assets/infoDiagram-F6ZHWCRC-15_hbC3E.js","assets/pieDiagram-ADFJNKIX-CfjBoZrL.js","assets/arc-R-3zINIr.js","assets/ordinal-Cboi1Yqb.js","assets/quadrantDiagram-AYHSOK5B-CHi9Xiob.js","assets/xychartDiagram-PRI3JC2R-DmmoStnH.js","assets/requirementDiagram-UZGBJVZJ-DZ6EF743.js","assets/sequenceDiagram-WL72ISMW-CTcwJ9Xg.js","assets/classDiagram-2ON5EDUG-C82vwNFi.js","assets/chunk-B4BG7PRW-ByKIgvRk.js","assets/classDiagram-v2-WZHVMYZB-C82vwNFi.js","assets/stateDiagram-FKZM4ZOC-N7vkjjxG.js","assets/chunk-DI55MBZ5-MTBK4s1o.js","assets/stateDiagram-v2-4FDKWEC3-aNZz1952.js","assets/journeyDiagram-XKPGCS4Q-6C4vR_GX.js","assets/timeline-definition-IT6M3QCI-CjL2KKuN.js","assets/mindmap-definition-VGOIOE7T-reavsnLG.js","assets/kanban-definition-3W4ZIXB7-C6YLYMVY.js","assets/sankeyDiagram-TZEHDZUN-WPOfjSJ4.js","assets/diagram-S2PKOQOG-DulpK0UX.js","assets/diagram-QEK2KX5R-Bzxrx1Wt.js","assets/blockDiagram-VD42YOAC-DGhUjaKI.js","assets/architectureDiagram-VXUJARFQ-DvmPSMxF.js","assets/diagram-PSM6KHXK-Cu9ur84G.js"])))=>i.map(i=>d[i]);
(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();function Al(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Wv={exports:{}},Dh={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fL;function bq(){if(fL)return Dh;fL=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function r(n,a,i){var o=null;if(i!==void 0&&(o=""+i),a.key!==void 0&&(o=""+a.key),"key"in a){i={};for(var l in a)l!=="key"&&(i[l]=a[l])}else i=a;return a=i.ref,{$$typeof:e,type:n,key:o,ref:a!==void 0?a:null,props:i}}return Dh.Fragment=t,Dh.jsx=r,Dh.jsxs=r,Dh}var bL;function yq(){return bL||(bL=1,Wv.exports=bq()),Wv.exports}var s=yq(),Yv={exports:{}},Lh={},Vv={exports:{}},Kv={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yL;function xq(){return yL||(yL=1,(function(e){function t($,Y){var V=$.length;$.push(Y);e:for(;0<V;){var ne=V-1>>>1,P=$[ne];if(0<a(P,Y))$[ne]=Y,$[V]=P,V=ne;else break e}}function r($){return $.length===0?null:$[0]}function n($){if($.length===0)return null;var Y=$[0],V=$.pop();if(V!==Y){$[0]=V;e:for(var ne=0,P=$.length,I=P>>>1;ne<I;){var G=2*(ne+1)-1,F=$[G],ie=G+1,he=$[ie];if(0>a(F,V))ie<P&&0>a(he,F)?($[ne]=he,$[ie]=V,ne=ie):($[ne]=F,$[G]=V,ne=G);else if(ie<P&&0>a(he,V))$[ne]=he,$[ie]=V,ne=ie;else break e}}return Y}function a($,Y){var V=$.sortIndex-Y.sortIndex;return V!==0?V:$.id-Y.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var u=[],d=[],h=1,g=null,f=3,b=!1,x=!1,E=!1,v=!1,T=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;function R($){for(var Y=r(d);Y!==null;){if(Y.callback===null)n(d);else if(Y.startTime<=$)n(d),Y.sortIndex=Y.expirationTime,t(u,Y);else break;Y=r(d)}}function D($){if(E=!1,R($),!x)if(r(u)!==null)x=!0,L||(L=!0,X());else{var Y=r(d);Y!==null&&H(D,Y.startTime-$)}}var L=!1,j=-1,B=5,q=-1;function z(){return v?!0:!(e.unstable_now()-q<B)}function K(){if(v=!1,L){var $=e.unstable_now();q=$;var Y=!0;try{e:{x=!1,E&&(E=!1,w(j),j=-1),b=!0;var V=f;try{t:{for(R($),g=r(u);g!==null&&!(g.expirationTime>$&&z());){var ne=g.callback;if(typeof ne=="function"){g.callback=null,f=g.priorityLevel;var P=ne(g.expirationTime<=$);if($=e.unstable_now(),typeof P=="function"){g.callback=P,R($),Y=!0;break t}g===r(u)&&n(u),R($)}else n(u);g=r(u)}if(g!==null)Y=!0;else{var I=r(d);I!==null&&H(D,I.startTime-$),Y=!1}}break e}finally{g=null,f=V,b=!1}Y=void 0}}finally{Y?X():L=!1}}}var X;if(typeof N=="function")X=function(){N(K)};else if(typeof MessageChannel<"u"){var Q=new MessageChannel,O=Q.port2;Q.port1.onmessage=K,X=function(){O.postMessage(null)}}else X=function(){T(K,0)};function H($,Y){j=T(function(){$(e.unstable_now())},Y)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function($){$.callback=null},e.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<$?Math.floor(1e3/$):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_next=function($){switch(f){case 1:case 2:case 3:var Y=3;break;default:Y=f}var V=f;f=Y;try{return $()}finally{f=V}},e.unstable_requestPaint=function(){v=!0},e.unstable_runWithPriority=function($,Y){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var V=f;f=$;try{return Y()}finally{f=V}},e.unstable_scheduleCallback=function($,Y,V){var ne=e.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?ne+V:ne):V=ne,$){case 1:var P=-1;break;case 2:P=250;break;case 5:P=1073741823;break;case 4:P=1e4;break;default:P=5e3}return P=V+P,$={id:h++,callback:Y,priorityLevel:$,startTime:V,expirationTime:P,sortIndex:-1},V>ne?($.sortIndex=V,t(d,$),r(u)===null&&$===r(d)&&(E?(w(j),j=-1):E=!0,H(D,V-ne))):($.sortIndex=P,t(u,$),x||b||(x=!0,L||(L=!0,X()))),$},e.unstable_shouldYield=z,e.unstable_wrapCallback=function($){var Y=f;return function(){var V=f;f=Y;try{return $.apply(this,arguments)}finally{f=V}}}})(Kv)),Kv}var xL;function Eq(){return xL||(xL=1,Vv.exports=xq()),Vv.exports}var Qv={exports:{}},_r={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var EL;function vq(){if(EL)return _r;EL=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),g=Symbol.for("react.activity"),f=Symbol.iterator;function b(I){return I===null||typeof I!="object"?null:(I=f&&I[f]||I["@@iterator"],typeof I=="function"?I:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,v={};function T(I,G,F){this.props=I,this.context=G,this.refs=v,this.updater=F||x}T.prototype.isReactComponent={},T.prototype.setState=function(I,G){if(typeof I!="object"&&typeof I!="function"&&I!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,I,G,"setState")},T.prototype.forceUpdate=function(I){this.updater.enqueueForceUpdate(this,I,"forceUpdate")};function w(){}w.prototype=T.prototype;function N(I,G,F){this.props=I,this.context=G,this.refs=v,this.updater=F||x}var R=N.prototype=new w;R.constructor=N,E(R,T.prototype),R.isPureReactComponent=!0;var D=Array.isArray;function L(){}var j={H:null,A:null,T:null,S:null},B=Object.prototype.hasOwnProperty;function q(I,G,F){var ie=F.ref;return{$$typeof:e,type:I,key:G,ref:ie!==void 0?ie:null,props:F}}function z(I,G){return q(I.type,G,I.props)}function K(I){return typeof I=="object"&&I!==null&&I.$$typeof===e}function X(I){var G={"=":"=0",":":"=2"};return"$"+I.replace(/[=:]/g,function(F){return G[F]})}var Q=/\/+/g;function O(I,G){return typeof I=="object"&&I!==null&&I.key!=null?X(""+I.key):G.toString(36)}function H(I){switch(I.status){case"fulfilled":return I.value;case"rejected":throw I.reason;default:switch(typeof I.status=="string"?I.then(L,L):(I.status="pending",I.then(function(G){I.status==="pending"&&(I.status="fulfilled",I.value=G)},function(G){I.status==="pending"&&(I.status="rejected",I.reason=G)})),I.status){case"fulfilled":return I.value;case"rejected":throw I.reason}}throw I}function $(I,G,F,ie,he){var ye=typeof I;(ye==="undefined"||ye==="boolean")&&(I=null);var ge=!1;if(I===null)ge=!0;else switch(ye){case"bigint":case"string":case"number":ge=!0;break;case"object":switch(I.$$typeof){case e:case t:ge=!0;break;case h:return ge=I._init,$(ge(I._payload),G,F,ie,he)}}if(ge)return he=he(I),ge=ie===""?"."+O(I,0):ie,D(he)?(F="",ge!=null&&(F=ge.replace(Q,"$&/")+"/"),$(he,G,F,"",function(Ee){return Ee})):he!=null&&(K(he)&&(he=z(he,F+(he.key==null||I&&I.key===he.key?"":(""+he.key).replace(Q,"$&/")+"/")+ge)),G.push(he)),1;ge=0;var pe=ie===""?".":ie+":";if(D(I))for(var Be=0;Be<I.length;Be++)ie=I[Be],ye=pe+O(ie,Be),ge+=$(ie,G,F,ye,he);else if(Be=b(I),typeof Be=="function")for(I=Be.call(I),Be=0;!(ie=I.next()).done;)ie=ie.value,ye=pe+O(ie,Be++),ge+=$(ie,G,F,ye,he);else if(ye==="object"){if(typeof I.then=="function")return $(H(I),G,F,ie,he);throw G=String(I),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(I).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.")}return ge}function Y(I,G,F){if(I==null)return I;var ie=[],he=0;return $(I,ie,"","",function(ye){return G.call(F,ye,he++)}),ie}function V(I){if(I._status===-1){var G=I._result;G=G(),G.then(function(F){(I._status===0||I._status===-1)&&(I._status=1,I._result=F)},function(F){(I._status===0||I._status===-1)&&(I._status=2,I._result=F)}),I._status===-1&&(I._status=0,I._result=G)}if(I._status===1)return I._result.default;throw I._result}var ne=typeof reportError=="function"?reportError:function(I){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var G=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof I=="object"&&I!==null&&typeof I.message=="string"?String(I.message):String(I),error:I});if(!window.dispatchEvent(G))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",I);return}console.error(I)},P={map:Y,forEach:function(I,G,F){Y(I,function(){G.apply(this,arguments)},F)},count:function(I){var G=0;return Y(I,function(){G++}),G},toArray:function(I){return Y(I,function(G){return G})||[]},only:function(I){if(!K(I))throw Error("React.Children.only expected to receive a single React element child.");return I}};return _r.Activity=g,_r.Children=P,_r.Component=T,_r.Fragment=r,_r.Profiler=a,_r.PureComponent=N,_r.StrictMode=n,_r.Suspense=u,_r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=j,_r.__COMPILER_RUNTIME={__proto__:null,c:function(I){return j.H.useMemoCache(I)}},_r.cache=function(I){return function(){return I.apply(null,arguments)}},_r.cacheSignal=function(){return null},_r.cloneElement=function(I,G,F){if(I==null)throw Error("The argument must be a React element, but you passed "+I+".");var ie=E({},I.props),he=I.key;if(G!=null)for(ye in G.key!==void 0&&(he=""+G.key),G)!B.call(G,ye)||ye==="key"||ye==="__self"||ye==="__source"||ye==="ref"&&G.ref===void 0||(ie[ye]=G[ye]);var ye=arguments.length-2;if(ye===1)ie.children=F;else if(1<ye){for(var ge=Array(ye),pe=0;pe<ye;pe++)ge[pe]=arguments[pe+2];ie.children=ge}return q(I.type,he,ie)},_r.createContext=function(I){return I={$$typeof:o,_currentValue:I,_currentValue2:I,_threadCount:0,Provider:null,Consumer:null},I.Provider=I,I.Consumer={$$typeof:i,_context:I},I},_r.createElement=function(I,G,F){var ie,he={},ye=null;if(G!=null)for(ie in G.key!==void 0&&(ye=""+G.key),G)B.call(G,ie)&&ie!=="key"&&ie!=="__self"&&ie!=="__source"&&(he[ie]=G[ie]);var ge=arguments.length-2;if(ge===1)he.children=F;else if(1<ge){for(var pe=Array(ge),Be=0;Be<ge;Be++)pe[Be]=arguments[Be+2];he.children=pe}if(I&&I.defaultProps)for(ie in ge=I.defaultProps,ge)he[ie]===void 0&&(he[ie]=ge[ie]);return q(I,ye,he)},_r.createRef=function(){return{current:null}},_r.forwardRef=function(I){return{$$typeof:l,render:I}},_r.isValidElement=K,_r.lazy=function(I){return{$$typeof:h,_payload:{_status:-1,_result:I},_init:V}},_r.memo=function(I,G){return{$$typeof:d,type:I,compare:G===void 0?null:G}},_r.startTransition=function(I){var G=j.T,F={};j.T=F;try{var ie=I(),he=j.S;he!==null&&he(F,ie),typeof ie=="object"&&ie!==null&&typeof ie.then=="function"&&ie.then(L,ne)}catch(ye){ne(ye)}finally{G!==null&&F.types!==null&&(G.types=F.types),j.T=G}},_r.unstable_useCacheRefresh=function(){return j.H.useCacheRefresh()},_r.use=function(I){return j.H.use(I)},_r.useActionState=function(I,G,F){return j.H.useActionState(I,G,F)},_r.useCallback=function(I,G){return j.H.useCallback(I,G)},_r.useContext=function(I){return j.H.useContext(I)},_r.useDebugValue=function(){},_r.useDeferredValue=function(I,G){return j.H.useDeferredValue(I,G)},_r.useEffect=function(I,G){return j.H.useEffect(I,G)},_r.useEffectEvent=function(I){return j.H.useEffectEvent(I)},_r.useId=function(){return j.H.useId()},_r.useImperativeHandle=function(I,G,F){return j.H.useImperativeHandle(I,G,F)},_r.useInsertionEffect=function(I,G){return j.H.useInsertionEffect(I,G)},_r.useLayoutEffect=function(I,G){return j.H.useLayoutEffect(I,G)},_r.useMemo=function(I,G){return j.H.useMemo(I,G)},_r.useOptimistic=function(I,G){return j.H.useOptimistic(I,G)},_r.useReducer=function(I,G,F){return j.H.useReducer(I,G,F)},_r.useRef=function(I){return j.H.useRef(I)},_r.useState=function(I){return j.H.useState(I)},_r.useSyncExternalStore=function(I,G,F){return j.H.useSyncExternalStore(I,G,F)},_r.useTransition=function(){return j.H.useTransition()},_r.version="19.2.0",_r}var vL;function _y(){return vL||(vL=1,Qv.exports=vq()),Qv.exports}var Xv={exports:{}},is={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var SL;function Sq(){if(SL)return is;SL=1;var e=_y();function t(u){var d="https://react.dev/errors/"+u;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)d+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+u+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var n={d:{f:r,r:function(){throw Error(t(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},a=Symbol.for("react.portal");function i(u,d,h){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:g==null?null:""+g,children:u,containerInfo:d,implementation:h}}var o=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function l(u,d){if(u==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return is.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,is.createPortal=function(u,d){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(t(299));return i(u,d,null,h)},is.flushSync=function(u){var d=o.T,h=n.p;try{if(o.T=null,n.p=2,u)return u()}finally{o.T=d,n.p=h,n.d.f()}},is.preconnect=function(u,d){typeof u=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,n.d.C(u,d))},is.prefetchDNS=function(u){typeof u=="string"&&n.d.D(u)},is.preinit=function(u,d){if(typeof u=="string"&&d&&typeof d.as=="string"){var h=d.as,g=l(h,d.crossOrigin),f=typeof d.integrity=="string"?d.integrity:void 0,b=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;h==="style"?n.d.S(u,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:g,integrity:f,fetchPriority:b}):h==="script"&&n.d.X(u,{crossOrigin:g,integrity:f,fetchPriority:b,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},is.preinitModule=function(u,d){if(typeof u=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var h=l(d.as,d.crossOrigin);n.d.M(u,{crossOrigin:h,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&n.d.M(u)},is.preload=function(u,d){if(typeof u=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var h=d.as,g=l(h,d.crossOrigin);n.d.L(u,h,{crossOrigin:g,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},is.preloadModule=function(u,d){if(typeof u=="string")if(d){var h=l(d.as,d.crossOrigin);n.d.m(u,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:h,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else n.d.m(u)},is.requestFormReset=function(u){n.d.r(u)},is.unstable_batchedUpdates=function(u,d){return u(d)},is.useFormState=function(u,d,h){return o.H.useFormState(u,d,h)},is.useFormStatus=function(){return o.H.useHostTransitionStatus()},is.version="19.2.0",is}var TL;function j4(){if(TL)return Xv.exports;TL=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Xv.exports=Sq(),Xv.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wL;function Tq(){if(wL)return Lh;wL=1;var e=Eq(),t=_y(),r=j4();function n(c){var p="https://react.dev/errors/"+c;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)p+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+c+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(c){return!(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11)}function i(c){var p=c,m=c;if(c.alternate)for(;p.return;)p=p.return;else{c=p;do p=c,(p.flags&4098)!==0&&(m=p.return),c=p.return;while(c)}return p.tag===3?m:null}function o(c){if(c.tag===13){var p=c.memoizedState;if(p===null&&(c=c.alternate,c!==null&&(p=c.memoizedState)),p!==null)return p.dehydrated}return null}function l(c){if(c.tag===31){var p=c.memoizedState;if(p===null&&(c=c.alternate,c!==null&&(p=c.memoizedState)),p!==null)return p.dehydrated}return null}function u(c){if(i(c)!==c)throw Error(n(188))}function d(c){var p=c.alternate;if(!p){if(p=i(c),p===null)throw Error(n(188));return p!==c?null:c}for(var m=c,y=p;;){var S=m.return;if(S===null)break;var k=S.alternate;if(k===null){if(y=S.return,y!==null){m=y;continue}break}if(S.child===k.child){for(k=S.child;k;){if(k===m)return u(S),c;if(k===y)return u(S),p;k=k.sibling}throw Error(n(188))}if(m.return!==y.return)m=S,y=k;else{for(var U=!1,J=S.child;J;){if(J===m){U=!0,m=S,y=k;break}if(J===y){U=!0,y=S,m=k;break}J=J.sibling}if(!U){for(J=k.child;J;){if(J===m){U=!0,m=k,y=S;break}if(J===y){U=!0,y=k,m=S;break}J=J.sibling}if(!U)throw Error(n(189))}}if(m.alternate!==y)throw Error(n(190))}if(m.tag!==3)throw Error(n(188));return m.stateNode.current===m?c:p}function h(c){var p=c.tag;if(p===5||p===26||p===27||p===6)return c;for(c=c.child;c!==null;){if(p=h(c),p!==null)return p;c=c.sibling}return null}var g=Object.assign,f=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),x=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),v=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),w=Symbol.for("react.consumer"),N=Symbol.for("react.context"),R=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),L=Symbol.for("react.suspense_list"),j=Symbol.for("react.memo"),B=Symbol.for("react.lazy"),q=Symbol.for("react.activity"),z=Symbol.for("react.memo_cache_sentinel"),K=Symbol.iterator;function X(c){return c===null||typeof c!="object"?null:(c=K&&c[K]||c["@@iterator"],typeof c=="function"?c:null)}var Q=Symbol.for("react.client.reference");function O(c){if(c==null)return null;if(typeof c=="function")return c.$$typeof===Q?null:c.displayName||c.name||null;if(typeof c=="string")return c;switch(c){case E:return"Fragment";case T:return"Profiler";case v:return"StrictMode";case D:return"Suspense";case L:return"SuspenseList";case q:return"Activity"}if(typeof c=="object")switch(c.$$typeof){case x:return"Portal";case N:return c.displayName||"Context";case w:return(c._context.displayName||"Context")+".Consumer";case R:var p=c.render;return c=c.displayName,c||(c=p.displayName||p.name||"",c=c!==""?"ForwardRef("+c+")":"ForwardRef"),c;case j:return p=c.displayName||null,p!==null?p:O(c.type)||"Memo";case B:p=c._payload,c=c._init;try{return O(c(p))}catch{}}return null}var H=Array.isArray,$=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Y=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,V={pending:!1,data:null,method:null,action:null},ne=[],P=-1;function I(c){return{current:c}}function G(c){0>P||(c.current=ne[P],ne[P]=null,P--)}function F(c,p){P++,ne[P]=c.current,c.current=p}var ie=I(null),he=I(null),ye=I(null),ge=I(null);function pe(c,p){switch(F(ye,p),F(he,c),F(ie,null),p.nodeType){case 9:case 11:c=(c=p.documentElement)&&(c=c.namespaceURI)?BD(c):0;break;default:if(c=p.tagName,p=p.namespaceURI)p=BD(p),c=UD(p,c);else switch(c){case"svg":c=1;break;case"math":c=2;break;default:c=0}}G(ie),F(ie,c)}function Be(){G(ie),G(he),G(ye)}function Ee(c){c.memoizedState!==null&&F(ge,c);var p=ie.current,m=UD(p,c.type);p!==m&&(F(he,c),F(ie,m))}function we(c){he.current===c&&(G(ie),G(he)),ge.current===c&&(G(ge),Ah._currentValue=V)}var Je,Ke;function ze(c){if(Je===void 0)try{throw Error()}catch(m){var p=m.stack.trim().match(/\n( *(at )?)/);Je=p&&p[1]||"",Ke=-1<m.stack.indexOf(`
    at`)?" (<anonymous>)":-1<m.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Je+c+Ke}var Vt=!1;function kt(c,p){if(!c||Vt)return"";Vt=!0;var m=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var y={DetermineComponentFrameRoot:function(){try{if(p){var rt=function(){throw Error()};if(Object.defineProperty(rt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(rt,[])}catch(Ge){var Pe=Ge}Reflect.construct(c,[],rt)}else{try{rt.call()}catch(Ge){Pe=Ge}c.call(rt.prototype)}}else{try{throw Error()}catch(Ge){Pe=Ge}(rt=c())&&typeof rt.catch=="function"&&rt.catch(function(){})}}catch(Ge){if(Ge&&Pe&&typeof Ge.stack=="string")return[Ge.stack,Pe.stack]}return[null,null]}};y.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var S=Object.getOwnPropertyDescriptor(y.DetermineComponentFrameRoot,"name");S&&S.configurable&&Object.defineProperty(y.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var k=y.DetermineComponentFrameRoot(),U=k[0],J=k[1];if(U&&J){var xe=U.split(`
`),Oe=J.split(`
`);for(S=y=0;y<xe.length&&!xe[y].includes("DetermineComponentFrameRoot");)y++;for(;S<Oe.length&&!Oe[S].includes("DetermineComponentFrameRoot");)S++;if(y===xe.length||S===Oe.length)for(y=xe.length-1,S=Oe.length-1;1<=y&&0<=S&&xe[y]!==Oe[S];)S--;for(;1<=y&&0<=S;y--,S--)if(xe[y]!==Oe[S]){if(y!==1||S!==1)do if(y--,S--,0>S||xe[y]!==Oe[S]){var Ye=`
`+xe[y].replace(" at new "," at ");return c.displayName&&Ye.includes("<anonymous>")&&(Ye=Ye.replace("<anonymous>",c.displayName)),Ye}while(1<=y&&0<=S);break}}}finally{Vt=!1,Error.prepareStackTrace=m}return(m=c?c.displayName||c.name:"")?ze(m):""}function wt(c,p){switch(c.tag){case 26:case 27:case 5:return ze(c.type);case 16:return ze("Lazy");case 13:return c.child!==p&&p!==null?ze("Suspense Fallback"):ze("Suspense");case 19:return ze("SuspenseList");case 0:case 15:return kt(c.type,!1);case 11:return kt(c.type.render,!1);case 1:return kt(c.type,!0);case 31:return ze("Activity");default:return""}}function _t(c){try{var p="",m=null;do p+=wt(c,m),m=c,c=c.return;while(c);return p}catch(y){return`
Error generating stack: `+y.message+`
`+y.stack}}var jt=Object.prototype.hasOwnProperty,mt=e.unstable_scheduleCallback,zt=e.unstable_cancelCallback,ar=e.unstable_shouldYield,kr=e.unstable_requestPaint,dr=e.unstable_now,Jt=e.unstable_getCurrentPriorityLevel,le=e.unstable_ImmediatePriority,se=e.unstable_UserBlockingPriority,Ce=e.unstable_NormalPriority,De=e.unstable_LowPriority,dt=e.unstable_IdlePriority,lt=e.log,qt=e.unstable_setDisableYieldValue,Ft=null,Ct=null;function je(c){if(typeof lt=="function"&&qt(c),Ct&&typeof Ct.setStrictMode=="function")try{Ct.setStrictMode(Ft,c)}catch{}}var it=Math.clz32?Math.clz32:Qr,mr=Math.log,Ut=Math.LN2;function Qr(c){return c>>>=0,c===0?32:31-(mr(c)/Ut|0)|0}var Mt=256,nn=262144,Bn=4194304;function Xr(c){var p=c&42;if(p!==0)return p;switch(c&-c){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return c&261888;case 262144:case 524288:case 1048576:case 2097152:return c&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return c&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return c}}function be(c,p,m){var y=c.pendingLanes;if(y===0)return 0;var S=0,k=c.suspendedLanes,U=c.pingedLanes;c=c.warmLanes;var J=y&134217727;return J!==0?(y=J&~k,y!==0?S=Xr(y):(U&=J,U!==0?S=Xr(U):m||(m=J&~c,m!==0&&(S=Xr(m))))):(J=y&~k,J!==0?S=Xr(J):U!==0?S=Xr(U):m||(m=y&~c,m!==0&&(S=Xr(m)))),S===0?0:p!==0&&p!==S&&(p&k)===0&&(k=S&-S,m=p&-p,k>=m||k===32&&(m&4194048)!==0)?p:S}function Ue(c,p){return(c.pendingLanes&~(c.suspendedLanes&~c.pingedLanes)&p)===0}function et(c,p){switch(c){case 1:case 2:case 4:case 8:case 64:return p+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return p+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ht(){var c=Bn;return Bn<<=1,(Bn&62914560)===0&&(Bn=4194304),c}function Ar(c){for(var p=[],m=0;31>m;m++)p.push(c);return p}function Ur(c,p){c.pendingLanes|=p,p!==268435456&&(c.suspendedLanes=0,c.pingedLanes=0,c.warmLanes=0)}function It(c,p,m,y,S,k){var U=c.pendingLanes;c.pendingLanes=m,c.suspendedLanes=0,c.pingedLanes=0,c.warmLanes=0,c.expiredLanes&=m,c.entangledLanes&=m,c.errorRecoveryDisabledLanes&=m,c.shellSuspendCounter=0;var J=c.entanglements,xe=c.expirationTimes,Oe=c.hiddenUpdates;for(m=U&~m;0<m;){var Ye=31-it(m),rt=1<<Ye;J[Ye]=0,xe[Ye]=-1;var Pe=Oe[Ye];if(Pe!==null)for(Oe[Ye]=null,Ye=0;Ye<Pe.length;Ye++){var Ge=Pe[Ye];Ge!==null&&(Ge.lane&=-536870913)}m&=~rt}y!==0&&At(c,y,0),k!==0&&S===0&&c.tag!==0&&(c.suspendedLanes|=k&~(U&~p))}function At(c,p,m){c.pendingLanes|=p,c.suspendedLanes&=~p;var y=31-it(p);c.entangledLanes|=p,c.entanglements[y]=c.entanglements[y]|1073741824|m&261930}function er(c,p){var m=c.entangledLanes|=p;for(c=c.entanglements;m;){var y=31-it(m),S=1<<y;S&p|c[y]&p&&(c[y]|=p),m&=~S}}function fn(c,p){var m=p&-p;return m=(m&42)!==0?1:Nr(m),(m&(c.suspendedLanes|p))!==0?0:m}function Nr(c){switch(c){case 2:c=1;break;case 8:c=4;break;case 32:c=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:c=128;break;case 268435456:c=134217728;break;default:c=0}return c}function Gn(c){return c&=-c,2<c?8<c?(c&134217727)!==0?32:268435456:8:2}function xs(){var c=Y.p;return c!==0?c:(c=window.event,c===void 0?32:cL(c.type))}function lr(c,p){var m=Y.p;try{return Y.p=c,p()}finally{Y.p=m}}var fa=Math.random().toString(36).slice(2),en="__reactFiber$"+fa,cn="__reactProps$"+fa,Ba="__reactContainer$"+fa,ba="__reactEvents$"+fa,ns="__reactListeners$"+fa,as="__reactHandles$"+fa,Es="__reactResources$"+fa,Pt="__reactMarker$"+fa;function ve(c){delete c[en],delete c[cn],delete c[ba],delete c[ns],delete c[as]}function nt(c){var p=c[en];if(p)return p;for(var m=c.parentNode;m;){if(p=m[Ba]||m[en]){if(m=p.alternate,p.child!==null||m!==null&&m.child!==null)for(c=YD(c);c!==null;){if(m=c[en])return m;c=YD(c)}return p}c=m,m=c.parentNode}return null}function Dt(c){if(c=c[en]||c[Ba]){var p=c.tag;if(p===5||p===6||p===13||p===31||p===26||p===27||p===3)return c}return null}function Fr(c){var p=c.tag;if(p===5||p===26||p===27||p===6)return c.stateNode;throw Error(n(33))}function yn(c){var p=c[Es];return p||(p=c[Es]={hoistableStyles:new Map,hoistableScripts:new Map}),p}function Sr(c){c[Pt]=!0}var ra=new Set,xn={};function wn(c,p){ct(c,p),ct(c+"Capture",p)}function ct(c,p){for(xn[c]=p,c=0;c<p.length;c++)ra.add(p[c])}var Rt=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Er={},Rr={};function Mn(c){return jt.call(Rr,c)?!0:jt.call(Er,c)?!1:Rt.test(c)?Rr[c]=!0:(Er[c]=!0,!1)}function Pn(c,p,m){if(Mn(p))if(m===null)c.removeAttribute(p);else{switch(typeof m){case"undefined":case"function":case"symbol":c.removeAttribute(p);return;case"boolean":var y=p.toLowerCase().slice(0,5);if(y!=="data-"&&y!=="aria-"){c.removeAttribute(p);return}}c.setAttribute(p,""+m)}}function ya(c,p,m){if(m===null)c.removeAttribute(p);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":c.removeAttribute(p);return}c.setAttribute(p,""+m)}}function Aa(c,p,m,y){if(y===null)c.removeAttribute(m);else{switch(typeof y){case"undefined":case"function":case"symbol":case"boolean":c.removeAttribute(m);return}c.setAttributeNS(p,m,""+y)}}function an(c){switch(typeof c){case"bigint":case"boolean":case"number":case"string":case"undefined":return c;case"object":return c;default:return""}}function En(c){var p=c.type;return(c=c.nodeName)&&c.toLowerCase()==="input"&&(p==="checkbox"||p==="radio")}function Yi(c,p,m){var y=Object.getOwnPropertyDescriptor(c.constructor.prototype,p);if(!c.hasOwnProperty(p)&&typeof y<"u"&&typeof y.get=="function"&&typeof y.set=="function"){var S=y.get,k=y.set;return Object.defineProperty(c,p,{configurable:!0,get:function(){return S.call(this)},set:function(U){m=""+U,k.call(this,U)}}),Object.defineProperty(c,p,{enumerable:y.enumerable}),{getValue:function(){return m},setValue:function(U){m=""+U},stopTracking:function(){c._valueTracker=null,delete c[p]}}}}function Vi(c){if(!c._valueTracker){var p=En(c)?"checked":"value";c._valueTracker=Yi(c,p,""+c[p])}}function si(c){if(!c)return!1;var p=c._valueTracker;if(!p)return!0;var m=p.getValue(),y="";return c&&(y=En(c)?c.checked?"true":"false":c.value),c=y,c!==m?(p.setValue(c),!0):!1}function Ki(c){if(c=c||(typeof document<"u"?document:void 0),typeof c>"u")return null;try{return c.activeElement||c.body}catch{return c.body}}var vo=/[\n"\\]/g;function ua(c){return c.replace(vo,function(p){return"\\"+p.charCodeAt(0).toString(16)+" "})}function ii(c,p,m,y,S,k,U,J){c.name="",U!=null&&typeof U!="function"&&typeof U!="symbol"&&typeof U!="boolean"?c.type=U:c.removeAttribute("type"),p!=null?U==="number"?(p===0&&c.value===""||c.value!=p)&&(c.value=""+an(p)):c.value!==""+an(p)&&(c.value=""+an(p)):U!=="submit"&&U!=="reset"||c.removeAttribute("value"),p!=null?Si(c,U,an(p)):m!=null?Si(c,U,an(m)):y!=null&&c.removeAttribute("value"),S==null&&k!=null&&(c.defaultChecked=!!k),S!=null&&(c.checked=S&&typeof S!="function"&&typeof S!="symbol"),J!=null&&typeof J!="function"&&typeof J!="symbol"&&typeof J!="boolean"?c.name=""+an(J):c.removeAttribute("name")}function vs(c,p,m,y,S,k,U,J){if(k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"&&(c.type=k),p!=null||m!=null){if(!(k!=="submit"&&k!=="reset"||p!=null)){Vi(c);return}m=m!=null?""+an(m):"",p=p!=null?""+an(p):m,J||p===c.value||(c.value=p),c.defaultValue=p}y=y??S,y=typeof y!="function"&&typeof y!="symbol"&&!!y,c.checked=J?c.checked:!!y,c.defaultChecked=!!y,U!=null&&typeof U!="function"&&typeof U!="symbol"&&typeof U!="boolean"&&(c.name=U),Vi(c)}function Si(c,p,m){p==="number"&&Ki(c.ownerDocument)===c||c.defaultValue===""+m||(c.defaultValue=""+m)}function Kn(c,p,m,y){if(c=c.options,p){p={};for(var S=0;S<m.length;S++)p["$"+m[S]]=!0;for(m=0;m<c.length;m++)S=p.hasOwnProperty("$"+c[m].value),c[m].selected!==S&&(c[m].selected=S),S&&y&&(c[m].defaultSelected=!0)}else{for(m=""+an(m),p=null,S=0;S<c.length;S++){if(c[S].value===m){c[S].selected=!0,y&&(c[S].defaultSelected=!0);return}p!==null||c[S].disabled||(p=c[S])}p!==null&&(p.selected=!0)}}function So(c,p,m){if(p!=null&&(p=""+an(p),p!==c.value&&(c.value=p),m==null)){c.defaultValue!==p&&(c.defaultValue=p);return}c.defaultValue=m!=null?""+an(m):""}function Qi(c,p,m,y){if(p==null){if(y!=null){if(m!=null)throw Error(n(92));if(H(y)){if(1<y.length)throw Error(n(93));y=y[0]}m=y}m==null&&(m=""),p=m}m=an(p),c.defaultValue=m,y=c.textContent,y===m&&y!==""&&y!==null&&(c.value=y),Vi(c)}function rr(c,p){if(p){var m=c.firstChild;if(m&&m===c.lastChild&&m.nodeType===3){m.nodeValue=p;return}}c.textContent=p}var de=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Se(c,p,m){var y=p.indexOf("--")===0;m==null||typeof m=="boolean"||m===""?y?c.setProperty(p,""):p==="float"?c.cssFloat="":c[p]="":y?c.setProperty(p,m):typeof m!="number"||m===0||de.has(p)?p==="float"?c.cssFloat=m:c[p]=(""+m).trim():c[p]=m+"px"}function $e(c,p,m){if(p!=null&&typeof p!="object")throw Error(n(62));if(c=c.style,m!=null){for(var y in m)!m.hasOwnProperty(y)||p!=null&&p.hasOwnProperty(y)||(y.indexOf("--")===0?c.setProperty(y,""):y==="float"?c.cssFloat="":c[y]="");for(var S in p)y=p[S],p.hasOwnProperty(S)&&m[S]!==y&&Se(c,S,y)}else for(var k in p)p.hasOwnProperty(k)&&Se(c,k,p[k])}function Nt(c){if(c.indexOf("-")===-1)return!1;switch(c){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var pr=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ir=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function un(c){return Ir.test(""+c)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":c}function Xe(){}var Lt=null;function Bt(c){return c=c.target||c.srcElement||window,c.correspondingUseElement&&(c=c.correspondingUseElement),c.nodeType===3?c.parentNode:c}var Kt=null,Br=null;function sa(c){var p=Dt(c);if(p&&(c=p.stateNode)){var m=c[cn]||null;e:switch(c=p.stateNode,p.type){case"input":if(ii(c,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name),p=m.name,m.type==="radio"&&p!=null){for(m=c;m.parentNode;)m=m.parentNode;for(m=m.querySelectorAll('input[name="'+ua(""+p)+'"][type="radio"]'),p=0;p<m.length;p++){var y=m[p];if(y!==c&&y.form===c.form){var S=y[cn]||null;if(!S)throw Error(n(90));ii(y,S.value,S.defaultValue,S.defaultValue,S.checked,S.defaultChecked,S.type,S.name)}}for(p=0;p<m.length;p++)y=m[p],y.form===c.form&&si(y)}break e;case"textarea":So(c,m.value,m.defaultValue);break e;case"select":p=m.value,p!=null&&Kn(c,!!m.multiple,p,!1)}}}var Na=!1;function Mr(c,p,m){if(Na)return c(p,m);Na=!0;try{var y=c(p);return y}finally{if(Na=!1,(Kt!==null||Br!==null)&&(Yf(),Kt&&(p=Kt,c=Br,Br=Kt=null,sa(p),c)))for(p=0;p<c.length;p++)sa(c[p])}}function Ss(c,p){var m=c.stateNode;if(m===null)return null;var y=m[cn]||null;if(y===null)return null;m=y[p];e:switch(p){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(y=!y.disabled)||(c=c.type,y=!(c==="button"||c==="input"||c==="select"||c==="textarea")),c=!y;break e;default:c=!1}if(c)return null;if(m&&typeof m!="function")throw Error(n(231,p,typeof m));return m}var Xi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Kp=!1;if(Xi)try{var An={};Object.defineProperty(An,"passive",{get:function(){Kp=!0}}),window.addEventListener("test",An,An),window.removeEventListener("test",An,An)}catch{Kp=!1}var To=null,Qp=null,_c=null;function sf(){if(_c)return _c;var c,p=Qp,m=p.length,y,S="value"in To?To.value:To.textContent,k=S.length;for(c=0;c<m&&p[c]===S[c];c++);var U=m-c;for(y=1;y<=U&&p[m-y]===S[k-y];y++);return _c=S.slice(c,1<y?1-y:void 0)}function Ac(c){var p=c.keyCode;return"charCode"in c?(c=c.charCode,c===0&&p===13&&(c=13)):c=p,c===10&&(c=13),32<=c||c===13?c:0}function qu(){return!0}function Xo(){return!1}function da(c){function p(m,y,S,k,U){this._reactName=m,this._targetInst=S,this.type=y,this.nativeEvent=k,this.target=U,this.currentTarget=null;for(var J in c)c.hasOwnProperty(J)&&(m=c[J],this[J]=m?m(k):k[J]);return this.isDefaultPrevented=(k.defaultPrevented!=null?k.defaultPrevented:k.returnValue===!1)?qu:Xo,this.isPropagationStopped=Xo,this}return g(p.prototype,{preventDefault:function(){this.defaultPrevented=!0;var m=this.nativeEvent;m&&(m.preventDefault?m.preventDefault():typeof m.returnValue!="unknown"&&(m.returnValue=!1),this.isDefaultPrevented=qu)},stopPropagation:function(){var m=this.nativeEvent;m&&(m.stopPropagation?m.stopPropagation():typeof m.cancelBubble!="unknown"&&(m.cancelBubble=!0),this.isPropagationStopped=qu)},persist:function(){},isPersistent:qu}),p}var Zo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(c){return c.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Wu=da(Zo),Nc=g({},Zo,{view:0,detail:0}),Gx=da(Nc),Xp,Zi,Ll,Yu=g({},Nc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Vu,button:0,buttons:0,relatedTarget:function(c){return c.relatedTarget===void 0?c.fromElement===c.srcElement?c.toElement:c.fromElement:c.relatedTarget},movementX:function(c){return"movementX"in c?c.movementX:(c!==Ll&&(Ll&&c.type==="mousemove"?(Xp=c.screenX-Ll.screenX,Zi=c.screenY-Ll.screenY):Zi=Xp=0,Ll=c),Xp)},movementY:function(c){return"movementY"in c?c.movementY:Zi}}),of=da(Yu),qx=g({},Yu,{dataTransfer:0}),Wx=da(qx),lf=g({},Nc,{relatedTarget:0}),Zp=da(lf),Ic=g({},Zo,{animationName:0,elapsedTime:0,pseudoElement:0}),Yx=da(Ic),Vx=g({},Zo,{clipboardData:function(c){return"clipboardData"in c?c.clipboardData:window.clipboardData}}),Kx=da(Vx),Qx=g({},Zo,{data:0}),cf=da(Qx),Xx={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Zx={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Jx={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function eE(c){var p=this.nativeEvent;return p.getModifierState?p.getModifierState(c):(c=Jx[c])?!!p[c]:!1}function Vu(){return eE}var tE=g({},Nc,{key:function(c){if(c.key){var p=Xx[c.key]||c.key;if(p!=="Unidentified")return p}return c.type==="keypress"?(c=Ac(c),c===13?"Enter":String.fromCharCode(c)):c.type==="keydown"||c.type==="keyup"?Zx[c.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Vu,charCode:function(c){return c.type==="keypress"?Ac(c):0},keyCode:function(c){return c.type==="keydown"||c.type==="keyup"?c.keyCode:0},which:function(c){return c.type==="keypress"?Ac(c):c.type==="keydown"||c.type==="keyup"?c.keyCode:0}}),rE=da(tE),nE=g({},Yu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),W=da(nE),oe=g({},Nc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Vu}),He=da(oe),Tt=g({},Zo,{propertyName:0,elapsedTime:0,pseudoElement:0}),tt=da(Tt),ae=g({},Yu,{deltaX:function(c){return"deltaX"in c?c.deltaX:"wheelDeltaX"in c?-c.wheelDeltaX:0},deltaY:function(c){return"deltaY"in c?c.deltaY:"wheelDeltaY"in c?-c.wheelDeltaY:"wheelDelta"in c?-c.wheelDelta:0},deltaZ:0,deltaMode:0}),ut=da(ae),Me=g({},Zo,{newState:0,oldState:0}),Ve=da(Me),ke=[9,13,27,32],gt=Xi&&"CompositionEvent"in window,ot=null;Xi&&"documentMode"in document&&(ot=document.documentMode);var Fe=Xi&&"TextEvent"in window&&!ot,yt=Xi&&(!gt||ot&&8<ot&&11>=ot),Cr=" ",na=!1;function js(c,p){switch(c){case"keyup":return ke.indexOf(p.keyCode)!==-1;case"keydown":return p.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Fs(c){return c=c.detail,typeof c=="object"&&"data"in c?c.data:null}var Qn=!1;function Bs(c,p){switch(c){case"compositionend":return Fs(p);case"keypress":return p.which!==32?null:(na=!0,Cr);case"textInput":return c=p.data,c===Cr&&na?null:c;default:return null}}function Ts(c,p){if(Qn)return c==="compositionend"||!gt&&js(c,p)?(c=sf(),_c=Qp=To=null,Qn=!1,c):null;switch(c){case"paste":return null;case"keypress":if(!(p.ctrlKey||p.altKey||p.metaKey)||p.ctrlKey&&p.altKey){if(p.char&&1<p.char.length)return p.char;if(p.which)return String.fromCharCode(p.which)}return null;case"compositionend":return yt&&p.locale!=="ko"?null:p.data;default:return null}}var Ji={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Us(c){var p=c&&c.nodeName&&c.nodeName.toLowerCase();return p==="input"?!!Ji[c.type]:p==="textarea"}function Ti(c,p,m,y){Kt?Br?Br.push(y):Br=[y]:Kt=y,p=e0(p,"onChange"),0<p.length&&(m=new Wu("onChange","change",null,m,y),c.push({event:m,listeners:p}))}var ss=null,Jo=null;function Jp(c){LD(c,0)}function $s(c){var p=Fr(c);if(si(p))return c}function Ku(c,p){if(c==="change")return p}var uf=!1;if(Xi){var Rc;if(Xi){var fr="oninput"in document;if(!fr){var ee=document.createElement("div");ee.setAttribute("oninput","return;"),fr=typeof ee.oninput=="function"}Rc=fr}else Rc=!1;uf=Rc&&(!document.documentMode||9<document.documentMode)}function qa(){ss&&(ss.detachEvent("onpropertychange",ia),Jo=ss=null)}function ia(c){if(c.propertyName==="value"&&$s(Jo)){var p=[];Ti(p,Jo,c,Bt(c)),Mr(Jp,p)}}function Dc(c,p,m){c==="focusin"?(qa(),ss=p,Jo=m,ss.attachEvent("onpropertychange",ia)):c==="focusout"&&qa()}function Qu(c){if(c==="selectionchange"||c==="keyup"||c==="keydown")return $s(Jo)}function df(c,p){if(c==="click")return $s(p)}function wi(c,p){if(c==="input"||c==="change")return $s(p)}function pf(c,p){return c===p&&(c!==0||1/c===1/p)||c!==c&&p!==p}var at=typeof Object.is=="function"?Object.is:pf;function Ae(c,p){if(at(c,p))return!0;if(typeof c!="object"||c===null||typeof p!="object"||p===null)return!1;var m=Object.keys(c),y=Object.keys(p);if(m.length!==y.length)return!1;for(y=0;y<m.length;y++){var S=m[y];if(!jt.call(p,S)||!at(c[S],p[S]))return!1}return!0}function Qe(c){for(;c&&c.firstChild;)c=c.firstChild;return c}function nr(c,p){var m=Qe(c);c=0;for(var y;m;){if(m.nodeType===3){if(y=c+m.textContent.length,c<=p&&y>=p)return{node:m,offset:p-c};c=y}e:{for(;m;){if(m.nextSibling){m=m.nextSibling;break e}m=m.parentNode}m=void 0}m=Qe(m)}}function sr(c,p){return c&&p?c===p?!0:c&&c.nodeType===3?!1:p&&p.nodeType===3?sr(c,p.parentNode):"contains"in c?c.contains(p):c.compareDocumentPosition?!!(c.compareDocumentPosition(p)&16):!1:!1}function xt(c){c=c!=null&&c.ownerDocument!=null&&c.ownerDocument.defaultView!=null?c.ownerDocument.defaultView:window;for(var p=Ki(c.document);p instanceof c.HTMLIFrameElement;){try{var m=typeof p.contentWindow.location.href=="string"}catch{m=!1}if(m)c=p.contentWindow;else break;p=Ki(c.document)}return p}function tn(c){var p=c&&c.nodeName&&c.nodeName.toLowerCase();return p&&(p==="input"&&(c.type==="text"||c.type==="search"||c.type==="tel"||c.type==="url"||c.type==="password")||p==="textarea"||c.contentEditable==="true")}var Ia=Xi&&"documentMode"in document&&11>=document.documentMode,Nn=null,vn=null,dn=null,oi=!1;function kn(c,p,m){var y=m.window===m?m.document:m.nodeType===9?m:m.ownerDocument;oi||Nn==null||Nn!==Ki(y)||(y=Nn,"selectionStart"in y&&tn(y)?y={start:y.selectionStart,end:y.selectionEnd}:(y=(y.ownerDocument&&y.ownerDocument.defaultView||window).getSelection(),y={anchorNode:y.anchorNode,anchorOffset:y.anchorOffset,focusNode:y.focusNode,focusOffset:y.focusOffset}),dn&&Ae(dn,y)||(dn=y,y=e0(vn,"onSelect"),0<y.length&&(p=new Wu("onSelect","select",null,p,m),c.push({event:p,listeners:y}),p.target=Nn)))}function qn(c,p){var m={};return m[c.toLowerCase()]=p.toLowerCase(),m["Webkit"+c]="webkit"+p,m["Moz"+c]="moz"+p,m}var ws={animationend:qn("Animation","AnimationEnd"),animationiteration:qn("Animation","AnimationIteration"),animationstart:qn("Animation","AnimationStart"),transitionrun:qn("Transition","TransitionRun"),transitionstart:qn("Transition","TransitionStart"),transitioncancel:qn("Transition","TransitionCancel"),transitionend:qn("Transition","TransitionEnd")},aE={},lI={};Xi&&(lI=document.createElement("div").style,"AnimationEvent"in window||(delete ws.animationend.animation,delete ws.animationiteration.animation,delete ws.animationstart.animation),"TransitionEvent"in window||delete ws.transitionend.transition);function Lc(c){if(aE[c])return aE[c];if(!ws[c])return c;var p=ws[c],m;for(m in p)if(p.hasOwnProperty(m)&&m in lI)return aE[c]=p[m];return c}var cI=Lc("animationend"),uI=Lc("animationiteration"),dI=Lc("animationstart"),Xz=Lc("transitionrun"),Zz=Lc("transitionstart"),Jz=Lc("transitioncancel"),pI=Lc("transitionend"),hI=new Map,sE="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");sE.push("scrollEnd");function eo(c,p){hI.set(c,p),wn(p,[c])}var hf=typeof reportError=="function"?reportError:function(c){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var p=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof c=="object"&&c!==null&&typeof c.message=="string"?String(c.message):String(c),error:c});if(!window.dispatchEvent(p))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",c);return}console.error(c)},ki=[],Xu=0,iE=0;function gf(){for(var c=Xu,p=iE=Xu=0;p<c;){var m=ki[p];ki[p++]=null;var y=ki[p];ki[p++]=null;var S=ki[p];ki[p++]=null;var k=ki[p];if(ki[p++]=null,y!==null&&S!==null){var U=y.pending;U===null?S.next=S:(S.next=U.next,U.next=S),y.pending=S}k!==0&&gI(m,S,k)}}function mf(c,p,m,y){ki[Xu++]=c,ki[Xu++]=p,ki[Xu++]=m,ki[Xu++]=y,iE|=y,c.lanes|=y,c=c.alternate,c!==null&&(c.lanes|=y)}function oE(c,p,m,y){return mf(c,p,m,y),ff(c)}function Oc(c,p){return mf(c,null,null,p),ff(c)}function gI(c,p,m){c.lanes|=m;var y=c.alternate;y!==null&&(y.lanes|=m);for(var S=!1,k=c.return;k!==null;)k.childLanes|=m,y=k.alternate,y!==null&&(y.childLanes|=m),k.tag===22&&(c=k.stateNode,c===null||c._visibility&1||(S=!0)),c=k,k=k.return;return c.tag===3?(k=c.stateNode,S&&p!==null&&(S=31-it(m),c=k.hiddenUpdates,y=c[S],y===null?c[S]=[p]:y.push(p),p.lane=m|536870912),k):null}function ff(c){if(50<vh)throw vh=0,fv=null,Error(n(185));for(var p=c.return;p!==null;)c=p,p=c.return;return c.tag===3?c.stateNode:null}var Zu={};function eG(c,p,m,y){this.tag=c,this.key=m,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=p,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=y,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function li(c,p,m,y){return new eG(c,p,m,y)}function lE(c){return c=c.prototype,!(!c||!c.isReactComponent)}function el(c,p){var m=c.alternate;return m===null?(m=li(c.tag,p,c.key,c.mode),m.elementType=c.elementType,m.type=c.type,m.stateNode=c.stateNode,m.alternate=c,c.alternate=m):(m.pendingProps=p,m.type=c.type,m.flags=0,m.subtreeFlags=0,m.deletions=null),m.flags=c.flags&65011712,m.childLanes=c.childLanes,m.lanes=c.lanes,m.child=c.child,m.memoizedProps=c.memoizedProps,m.memoizedState=c.memoizedState,m.updateQueue=c.updateQueue,p=c.dependencies,m.dependencies=p===null?null:{lanes:p.lanes,firstContext:p.firstContext},m.sibling=c.sibling,m.index=c.index,m.ref=c.ref,m.refCleanup=c.refCleanup,m}function mI(c,p){c.flags&=65011714;var m=c.alternate;return m===null?(c.childLanes=0,c.lanes=p,c.child=null,c.subtreeFlags=0,c.memoizedProps=null,c.memoizedState=null,c.updateQueue=null,c.dependencies=null,c.stateNode=null):(c.childLanes=m.childLanes,c.lanes=m.lanes,c.child=m.child,c.subtreeFlags=0,c.deletions=null,c.memoizedProps=m.memoizedProps,c.memoizedState=m.memoizedState,c.updateQueue=m.updateQueue,c.type=m.type,p=m.dependencies,c.dependencies=p===null?null:{lanes:p.lanes,firstContext:p.firstContext}),c}function bf(c,p,m,y,S,k){var U=0;if(y=c,typeof c=="function")lE(c)&&(U=1);else if(typeof c=="string")U=sq(c,m,ie.current)?26:c==="html"||c==="head"||c==="body"?27:5;else e:switch(c){case q:return c=li(31,m,p,S),c.elementType=q,c.lanes=k,c;case E:return Mc(m.children,S,k,p);case v:U=8,S|=24;break;case T:return c=li(12,m,p,S|2),c.elementType=T,c.lanes=k,c;case D:return c=li(13,m,p,S),c.elementType=D,c.lanes=k,c;case L:return c=li(19,m,p,S),c.elementType=L,c.lanes=k,c;default:if(typeof c=="object"&&c!==null)switch(c.$$typeof){case N:U=10;break e;case w:U=9;break e;case R:U=11;break e;case j:U=14;break e;case B:U=16,y=null;break e}U=29,m=Error(n(130,c===null?"null":typeof c,"")),y=null}return p=li(U,m,p,S),p.elementType=c,p.type=y,p.lanes=k,p}function Mc(c,p,m,y){return c=li(7,c,y,p),c.lanes=m,c}function cE(c,p,m){return c=li(6,c,null,p),c.lanes=m,c}function fI(c){var p=li(18,null,null,0);return p.stateNode=c,p}function uE(c,p,m){return p=li(4,c.children!==null?c.children:[],c.key,p),p.lanes=m,p.stateNode={containerInfo:c.containerInfo,pendingChildren:null,implementation:c.implementation},p}var bI=new WeakMap;function Ci(c,p){if(typeof c=="object"&&c!==null){var m=bI.get(c);return m!==void 0?m:(p={value:c,source:p,stack:_t(p)},bI.set(c,p),p)}return{value:c,source:p,stack:_t(p)}}var Ju=[],ed=0,yf=null,eh=0,_i=[],Ai=0,Ol=null,wo=1,ko="";function tl(c,p){Ju[ed++]=eh,Ju[ed++]=yf,yf=c,eh=p}function yI(c,p,m){_i[Ai++]=wo,_i[Ai++]=ko,_i[Ai++]=Ol,Ol=c;var y=wo;c=ko;var S=32-it(y)-1;y&=~(1<<S),m+=1;var k=32-it(p)+S;if(30<k){var U=S-S%5;k=(y&(1<<U)-1).toString(32),y>>=U,S-=U,wo=1<<32-it(p)+S|m<<S|y,ko=k+c}else wo=1<<k|m<<S|y,ko=c}function dE(c){c.return!==null&&(tl(c,1),yI(c,1,0))}function pE(c){for(;c===yf;)yf=Ju[--ed],Ju[ed]=null,eh=Ju[--ed],Ju[ed]=null;for(;c===Ol;)Ol=_i[--Ai],_i[Ai]=null,ko=_i[--Ai],_i[Ai]=null,wo=_i[--Ai],_i[Ai]=null}function xI(c,p){_i[Ai++]=wo,_i[Ai++]=ko,_i[Ai++]=Ol,wo=p.id,ko=p.overflow,Ol=c}var Wa=null,Wn=null,rn=!1,Ml=null,Ni=!1,hE=Error(n(519));function Pl(c){var p=Error(n(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw th(Ci(p,c)),hE}function EI(c){var p=c.stateNode,m=c.type,y=c.memoizedProps;switch(p[en]=c,p[cn]=y,m){case"dialog":zr("cancel",p),zr("close",p);break;case"iframe":case"object":case"embed":zr("load",p);break;case"video":case"audio":for(m=0;m<Th.length;m++)zr(Th[m],p);break;case"source":zr("error",p);break;case"img":case"image":case"link":zr("error",p),zr("load",p);break;case"details":zr("toggle",p);break;case"input":zr("invalid",p),vs(p,y.value,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name,!0);break;case"select":zr("invalid",p);break;case"textarea":zr("invalid",p),Qi(p,y.value,y.defaultValue,y.children)}m=y.children,typeof m!="string"&&typeof m!="number"&&typeof m!="bigint"||p.textContent===""+m||y.suppressHydrationWarning===!0||jD(p.textContent,m)?(y.popover!=null&&(zr("beforetoggle",p),zr("toggle",p)),y.onScroll!=null&&zr("scroll",p),y.onScrollEnd!=null&&zr("scrollend",p),y.onClick!=null&&(p.onclick=Xe),p=!0):p=!1,p||Pl(c,!0)}function vI(c){for(Wa=c.return;Wa;)switch(Wa.tag){case 5:case 31:case 13:Ni=!1;return;case 27:case 3:Ni=!0;return;default:Wa=Wa.return}}function td(c){if(c!==Wa)return!1;if(!rn)return vI(c),rn=!0,!1;var p=c.tag,m;if((m=p!==3&&p!==27)&&((m=p===5)&&(m=c.type,m=!(m!=="form"&&m!=="button")||Rv(c.type,c.memoizedProps)),m=!m),m&&Wn&&Pl(c),vI(c),p===13){if(c=c.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(n(317));Wn=WD(c)}else if(p===31){if(c=c.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(n(317));Wn=WD(c)}else p===27?(p=Wn,Ql(c.type)?(c=Pv,Pv=null,Wn=c):Wn=p):Wn=Wa?Ri(c.stateNode.nextSibling):null;return!0}function Pc(){Wn=Wa=null,rn=!1}function gE(){var c=Ml;return c!==null&&(qs===null?qs=c:qs.push.apply(qs,c),Ml=null),c}function th(c){Ml===null?Ml=[c]:Ml.push(c)}var mE=I(null),jc=null,rl=null;function jl(c,p,m){F(mE,p._currentValue),p._currentValue=m}function nl(c){c._currentValue=mE.current,G(mE)}function fE(c,p,m){for(;c!==null;){var y=c.alternate;if((c.childLanes&p)!==p?(c.childLanes|=p,y!==null&&(y.childLanes|=p)):y!==null&&(y.childLanes&p)!==p&&(y.childLanes|=p),c===m)break;c=c.return}}function bE(c,p,m,y){var S=c.child;for(S!==null&&(S.return=c);S!==null;){var k=S.dependencies;if(k!==null){var U=S.child;k=k.firstContext;e:for(;k!==null;){var J=k;k=S;for(var xe=0;xe<p.length;xe++)if(J.context===p[xe]){k.lanes|=m,J=k.alternate,J!==null&&(J.lanes|=m),fE(k.return,m,c),y||(U=null);break e}k=J.next}}else if(S.tag===18){if(U=S.return,U===null)throw Error(n(341));U.lanes|=m,k=U.alternate,k!==null&&(k.lanes|=m),fE(U,m,c),U=null}else U=S.child;if(U!==null)U.return=S;else for(U=S;U!==null;){if(U===c){U=null;break}if(S=U.sibling,S!==null){S.return=U.return,U=S;break}U=U.return}S=U}}function rd(c,p,m,y){c=null;for(var S=p,k=!1;S!==null;){if(!k){if((S.flags&524288)!==0)k=!0;else if((S.flags&262144)!==0)break}if(S.tag===10){var U=S.alternate;if(U===null)throw Error(n(387));if(U=U.memoizedProps,U!==null){var J=S.type;at(S.pendingProps.value,U.value)||(c!==null?c.push(J):c=[J])}}else if(S===ge.current){if(U=S.alternate,U===null)throw Error(n(387));U.memoizedState.memoizedState!==S.memoizedState.memoizedState&&(c!==null?c.push(Ah):c=[Ah])}S=S.return}c!==null&&bE(p,c,m,y),p.flags|=262144}function xf(c){for(c=c.firstContext;c!==null;){if(!at(c.context._currentValue,c.memoizedValue))return!0;c=c.next}return!1}function Fc(c){jc=c,rl=null,c=c.dependencies,c!==null&&(c.firstContext=null)}function Ya(c){return SI(jc,c)}function Ef(c,p){return jc===null&&Fc(c),SI(c,p)}function SI(c,p){var m=p._currentValue;if(p={context:p,memoizedValue:m,next:null},rl===null){if(c===null)throw Error(n(308));rl=p,c.dependencies={lanes:0,firstContext:p},c.flags|=524288}else rl=rl.next=p;return m}var tG=typeof AbortController<"u"?AbortController:function(){var c=[],p=this.signal={aborted:!1,addEventListener:function(m,y){c.push(y)}};this.abort=function(){p.aborted=!0,c.forEach(function(m){return m()})}},rG=e.unstable_scheduleCallback,nG=e.unstable_NormalPriority,xa={$$typeof:N,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function yE(){return{controller:new tG,data:new Map,refCount:0}}function rh(c){c.refCount--,c.refCount===0&&rG(nG,function(){c.controller.abort()})}var nh=null,xE=0,nd=0,ad=null;function aG(c,p){if(nh===null){var m=nh=[];xE=0,nd=Sv(),ad={status:"pending",value:void 0,then:function(y){m.push(y)}}}return xE++,p.then(TI,TI),p}function TI(){if(--xE===0&&nh!==null){ad!==null&&(ad.status="fulfilled");var c=nh;nh=null,nd=0,ad=null;for(var p=0;p<c.length;p++)(0,c[p])()}}function sG(c,p){var m=[],y={status:"pending",value:null,reason:null,then:function(S){m.push(S)}};return c.then(function(){y.status="fulfilled",y.value=p;for(var S=0;S<m.length;S++)(0,m[S])(p)},function(S){for(y.status="rejected",y.reason=S,S=0;S<m.length;S++)(0,m[S])(void 0)}),y}var wI=$.S;$.S=function(c,p){oD=dr(),typeof p=="object"&&p!==null&&typeof p.then=="function"&&aG(c,p),wI!==null&&wI(c,p)};var Bc=I(null);function EE(){var c=Bc.current;return c!==null?c:jn.pooledCache}function vf(c,p){p===null?F(Bc,Bc.current):F(Bc,p.pool)}function kI(){var c=EE();return c===null?null:{parent:xa._currentValue,pool:c}}var sd=Error(n(460)),vE=Error(n(474)),Sf=Error(n(542)),Tf={then:function(){}};function CI(c){return c=c.status,c==="fulfilled"||c==="rejected"}function _I(c,p,m){switch(m=c[m],m===void 0?c.push(p):m!==p&&(p.then(Xe,Xe),p=m),p.status){case"fulfilled":return p.value;case"rejected":throw c=p.reason,NI(c),c;default:if(typeof p.status=="string")p.then(Xe,Xe);else{if(c=jn,c!==null&&100<c.shellSuspendCounter)throw Error(n(482));c=p,c.status="pending",c.then(function(y){if(p.status==="pending"){var S=p;S.status="fulfilled",S.value=y}},function(y){if(p.status==="pending"){var S=p;S.status="rejected",S.reason=y}})}switch(p.status){case"fulfilled":return p.value;case"rejected":throw c=p.reason,NI(c),c}throw $c=p,sd}}function Uc(c){try{var p=c._init;return p(c._payload)}catch(m){throw m!==null&&typeof m=="object"&&typeof m.then=="function"?($c=m,sd):m}}var $c=null;function AI(){if($c===null)throw Error(n(459));var c=$c;return $c=null,c}function NI(c){if(c===sd||c===Sf)throw Error(n(483))}var id=null,ah=0;function wf(c){var p=ah;return ah+=1,id===null&&(id=[]),_I(id,c,p)}function sh(c,p){p=p.props.ref,c.ref=p!==void 0?p:null}function kf(c,p){throw p.$$typeof===f?Error(n(525)):(c=Object.prototype.toString.call(p),Error(n(31,c==="[object Object]"?"object with keys {"+Object.keys(p).join(", ")+"}":c)))}function II(c){function p(_e,Te){if(c){var Le=_e.deletions;Le===null?(_e.deletions=[Te],_e.flags|=16):Le.push(Te)}}function m(_e,Te){if(!c)return null;for(;Te!==null;)p(_e,Te),Te=Te.sibling;return null}function y(_e){for(var Te=new Map;_e!==null;)_e.key!==null?Te.set(_e.key,_e):Te.set(_e.index,_e),_e=_e.sibling;return Te}function S(_e,Te){return _e=el(_e,Te),_e.index=0,_e.sibling=null,_e}function k(_e,Te,Le){return _e.index=Le,c?(Le=_e.alternate,Le!==null?(Le=Le.index,Le<Te?(_e.flags|=67108866,Te):Le):(_e.flags|=67108866,Te)):(_e.flags|=1048576,Te)}function U(_e){return c&&_e.alternate===null&&(_e.flags|=67108866),_e}function J(_e,Te,Le,Ze){return Te===null||Te.tag!==6?(Te=cE(Le,_e.mode,Ze),Te.return=_e,Te):(Te=S(Te,Le),Te.return=_e,Te)}function xe(_e,Te,Le,Ze){var cr=Le.type;return cr===E?Ye(_e,Te,Le.props.children,Ze,Le.key):Te!==null&&(Te.elementType===cr||typeof cr=="object"&&cr!==null&&cr.$$typeof===B&&Uc(cr)===Te.type)?(Te=S(Te,Le.props),sh(Te,Le),Te.return=_e,Te):(Te=bf(Le.type,Le.key,Le.props,null,_e.mode,Ze),sh(Te,Le),Te.return=_e,Te)}function Oe(_e,Te,Le,Ze){return Te===null||Te.tag!==4||Te.stateNode.containerInfo!==Le.containerInfo||Te.stateNode.implementation!==Le.implementation?(Te=uE(Le,_e.mode,Ze),Te.return=_e,Te):(Te=S(Te,Le.children||[]),Te.return=_e,Te)}function Ye(_e,Te,Le,Ze,cr){return Te===null||Te.tag!==7?(Te=Mc(Le,_e.mode,Ze,cr),Te.return=_e,Te):(Te=S(Te,Le),Te.return=_e,Te)}function rt(_e,Te,Le){if(typeof Te=="string"&&Te!==""||typeof Te=="number"||typeof Te=="bigint")return Te=cE(""+Te,_e.mode,Le),Te.return=_e,Te;if(typeof Te=="object"&&Te!==null){switch(Te.$$typeof){case b:return Le=bf(Te.type,Te.key,Te.props,null,_e.mode,Le),sh(Le,Te),Le.return=_e,Le;case x:return Te=uE(Te,_e.mode,Le),Te.return=_e,Te;case B:return Te=Uc(Te),rt(_e,Te,Le)}if(H(Te)||X(Te))return Te=Mc(Te,_e.mode,Le,null),Te.return=_e,Te;if(typeof Te.then=="function")return rt(_e,wf(Te),Le);if(Te.$$typeof===N)return rt(_e,Ef(_e,Te),Le);kf(_e,Te)}return null}function Pe(_e,Te,Le,Ze){var cr=Te!==null?Te.key:null;if(typeof Le=="string"&&Le!==""||typeof Le=="number"||typeof Le=="bigint")return cr!==null?null:J(_e,Te,""+Le,Ze);if(typeof Le=="object"&&Le!==null){switch(Le.$$typeof){case b:return Le.key===cr?xe(_e,Te,Le,Ze):null;case x:return Le.key===cr?Oe(_e,Te,Le,Ze):null;case B:return Le=Uc(Le),Pe(_e,Te,Le,Ze)}if(H(Le)||X(Le))return cr!==null?null:Ye(_e,Te,Le,Ze,null);if(typeof Le.then=="function")return Pe(_e,Te,wf(Le),Ze);if(Le.$$typeof===N)return Pe(_e,Te,Ef(_e,Le),Ze);kf(_e,Le)}return null}function Ge(_e,Te,Le,Ze,cr){if(typeof Ze=="string"&&Ze!==""||typeof Ze=="number"||typeof Ze=="bigint")return _e=_e.get(Le)||null,J(Te,_e,""+Ze,cr);if(typeof Ze=="object"&&Ze!==null){switch(Ze.$$typeof){case b:return _e=_e.get(Ze.key===null?Le:Ze.key)||null,xe(Te,_e,Ze,cr);case x:return _e=_e.get(Ze.key===null?Le:Ze.key)||null,Oe(Te,_e,Ze,cr);case B:return Ze=Uc(Ze),Ge(_e,Te,Le,Ze,cr)}if(H(Ze)||X(Ze))return _e=_e.get(Le)||null,Ye(Te,_e,Ze,cr,null);if(typeof Ze.then=="function")return Ge(_e,Te,Le,wf(Ze),cr);if(Ze.$$typeof===N)return Ge(_e,Te,Le,Ef(Te,Ze),cr);kf(Te,Ze)}return null}function Gt(_e,Te,Le,Ze){for(var cr=null,pn=null,tr=Te,Pr=Te=0,Jr=null;tr!==null&&Pr<Le.length;Pr++){tr.index>Pr?(Jr=tr,tr=null):Jr=tr.sibling;var hn=Pe(_e,tr,Le[Pr],Ze);if(hn===null){tr===null&&(tr=Jr);break}c&&tr&&hn.alternate===null&&p(_e,tr),Te=k(hn,Te,Pr),pn===null?cr=hn:pn.sibling=hn,pn=hn,tr=Jr}if(Pr===Le.length)return m(_e,tr),rn&&tl(_e,Pr),cr;if(tr===null){for(;Pr<Le.length;Pr++)tr=rt(_e,Le[Pr],Ze),tr!==null&&(Te=k(tr,Te,Pr),pn===null?cr=tr:pn.sibling=tr,pn=tr);return rn&&tl(_e,Pr),cr}for(tr=y(tr);Pr<Le.length;Pr++)Jr=Ge(tr,_e,Pr,Le[Pr],Ze),Jr!==null&&(c&&Jr.alternate!==null&&tr.delete(Jr.key===null?Pr:Jr.key),Te=k(Jr,Te,Pr),pn===null?cr=Jr:pn.sibling=Jr,pn=Jr);return c&&tr.forEach(function(tc){return p(_e,tc)}),rn&&tl(_e,Pr),cr}function br(_e,Te,Le,Ze){if(Le==null)throw Error(n(151));for(var cr=null,pn=null,tr=Te,Pr=Te=0,Jr=null,hn=Le.next();tr!==null&&!hn.done;Pr++,hn=Le.next()){tr.index>Pr?(Jr=tr,tr=null):Jr=tr.sibling;var tc=Pe(_e,tr,hn.value,Ze);if(tc===null){tr===null&&(tr=Jr);break}c&&tr&&tc.alternate===null&&p(_e,tr),Te=k(tc,Te,Pr),pn===null?cr=tc:pn.sibling=tc,pn=tc,tr=Jr}if(hn.done)return m(_e,tr),rn&&tl(_e,Pr),cr;if(tr===null){for(;!hn.done;Pr++,hn=Le.next())hn=rt(_e,hn.value,Ze),hn!==null&&(Te=k(hn,Te,Pr),pn===null?cr=hn:pn.sibling=hn,pn=hn);return rn&&tl(_e,Pr),cr}for(tr=y(tr);!hn.done;Pr++,hn=Le.next())hn=Ge(tr,_e,Pr,hn.value,Ze),hn!==null&&(c&&hn.alternate!==null&&tr.delete(hn.key===null?Pr:hn.key),Te=k(hn,Te,Pr),pn===null?cr=hn:pn.sibling=hn,pn=hn);return c&&tr.forEach(function(fq){return p(_e,fq)}),rn&&tl(_e,Pr),cr}function Dn(_e,Te,Le,Ze){if(typeof Le=="object"&&Le!==null&&Le.type===E&&Le.key===null&&(Le=Le.props.children),typeof Le=="object"&&Le!==null){switch(Le.$$typeof){case b:e:{for(var cr=Le.key;Te!==null;){if(Te.key===cr){if(cr=Le.type,cr===E){if(Te.tag===7){m(_e,Te.sibling),Ze=S(Te,Le.props.children),Ze.return=_e,_e=Ze;break e}}else if(Te.elementType===cr||typeof cr=="object"&&cr!==null&&cr.$$typeof===B&&Uc(cr)===Te.type){m(_e,Te.sibling),Ze=S(Te,Le.props),sh(Ze,Le),Ze.return=_e,_e=Ze;break e}m(_e,Te);break}else p(_e,Te);Te=Te.sibling}Le.type===E?(Ze=Mc(Le.props.children,_e.mode,Ze,Le.key),Ze.return=_e,_e=Ze):(Ze=bf(Le.type,Le.key,Le.props,null,_e.mode,Ze),sh(Ze,Le),Ze.return=_e,_e=Ze)}return U(_e);case x:e:{for(cr=Le.key;Te!==null;){if(Te.key===cr)if(Te.tag===4&&Te.stateNode.containerInfo===Le.containerInfo&&Te.stateNode.implementation===Le.implementation){m(_e,Te.sibling),Ze=S(Te,Le.children||[]),Ze.return=_e,_e=Ze;break e}else{m(_e,Te);break}else p(_e,Te);Te=Te.sibling}Ze=uE(Le,_e.mode,Ze),Ze.return=_e,_e=Ze}return U(_e);case B:return Le=Uc(Le),Dn(_e,Te,Le,Ze)}if(H(Le))return Gt(_e,Te,Le,Ze);if(X(Le)){if(cr=X(Le),typeof cr!="function")throw Error(n(150));return Le=cr.call(Le),br(_e,Te,Le,Ze)}if(typeof Le.then=="function")return Dn(_e,Te,wf(Le),Ze);if(Le.$$typeof===N)return Dn(_e,Te,Ef(_e,Le),Ze);kf(_e,Le)}return typeof Le=="string"&&Le!==""||typeof Le=="number"||typeof Le=="bigint"?(Le=""+Le,Te!==null&&Te.tag===6?(m(_e,Te.sibling),Ze=S(Te,Le),Ze.return=_e,_e=Ze):(m(_e,Te),Ze=cE(Le,_e.mode,Ze),Ze.return=_e,_e=Ze),U(_e)):m(_e,Te)}return function(_e,Te,Le,Ze){try{ah=0;var cr=Dn(_e,Te,Le,Ze);return id=null,cr}catch(tr){if(tr===sd||tr===Sf)throw tr;var pn=li(29,tr,null,_e.mode);return pn.lanes=Ze,pn.return=_e,pn}finally{}}}var Hc=II(!0),RI=II(!1),Fl=!1;function SE(c){c.updateQueue={baseState:c.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function TE(c,p){c=c.updateQueue,p.updateQueue===c&&(p.updateQueue={baseState:c.baseState,firstBaseUpdate:c.firstBaseUpdate,lastBaseUpdate:c.lastBaseUpdate,shared:c.shared,callbacks:null})}function Bl(c){return{lane:c,tag:0,payload:null,callback:null,next:null}}function Ul(c,p,m){var y=c.updateQueue;if(y===null)return null;if(y=y.shared,(bn&2)!==0){var S=y.pending;return S===null?p.next=p:(p.next=S.next,S.next=p),y.pending=p,p=ff(c),gI(c,null,m),p}return mf(c,y,p,m),ff(c)}function ih(c,p,m){if(p=p.updateQueue,p!==null&&(p=p.shared,(m&4194048)!==0)){var y=p.lanes;y&=c.pendingLanes,m|=y,p.lanes=m,er(c,m)}}function wE(c,p){var m=c.updateQueue,y=c.alternate;if(y!==null&&(y=y.updateQueue,m===y)){var S=null,k=null;if(m=m.firstBaseUpdate,m!==null){do{var U={lane:m.lane,tag:m.tag,payload:m.payload,callback:null,next:null};k===null?S=k=U:k=k.next=U,m=m.next}while(m!==null);k===null?S=k=p:k=k.next=p}else S=k=p;m={baseState:y.baseState,firstBaseUpdate:S,lastBaseUpdate:k,shared:y.shared,callbacks:y.callbacks},c.updateQueue=m;return}c=m.lastBaseUpdate,c===null?m.firstBaseUpdate=p:c.next=p,m.lastBaseUpdate=p}var kE=!1;function oh(){if(kE){var c=ad;if(c!==null)throw c}}function lh(c,p,m,y){kE=!1;var S=c.updateQueue;Fl=!1;var k=S.firstBaseUpdate,U=S.lastBaseUpdate,J=S.shared.pending;if(J!==null){S.shared.pending=null;var xe=J,Oe=xe.next;xe.next=null,U===null?k=Oe:U.next=Oe,U=xe;var Ye=c.alternate;Ye!==null&&(Ye=Ye.updateQueue,J=Ye.lastBaseUpdate,J!==U&&(J===null?Ye.firstBaseUpdate=Oe:J.next=Oe,Ye.lastBaseUpdate=xe))}if(k!==null){var rt=S.baseState;U=0,Ye=Oe=xe=null,J=k;do{var Pe=J.lane&-536870913,Ge=Pe!==J.lane;if(Ge?(Zr&Pe)===Pe:(y&Pe)===Pe){Pe!==0&&Pe===nd&&(kE=!0),Ye!==null&&(Ye=Ye.next={lane:0,tag:J.tag,payload:J.payload,callback:null,next:null});e:{var Gt=c,br=J;Pe=p;var Dn=m;switch(br.tag){case 1:if(Gt=br.payload,typeof Gt=="function"){rt=Gt.call(Dn,rt,Pe);break e}rt=Gt;break e;case 3:Gt.flags=Gt.flags&-65537|128;case 0:if(Gt=br.payload,Pe=typeof Gt=="function"?Gt.call(Dn,rt,Pe):Gt,Pe==null)break e;rt=g({},rt,Pe);break e;case 2:Fl=!0}}Pe=J.callback,Pe!==null&&(c.flags|=64,Ge&&(c.flags|=8192),Ge=S.callbacks,Ge===null?S.callbacks=[Pe]:Ge.push(Pe))}else Ge={lane:Pe,tag:J.tag,payload:J.payload,callback:J.callback,next:null},Ye===null?(Oe=Ye=Ge,xe=rt):Ye=Ye.next=Ge,U|=Pe;if(J=J.next,J===null){if(J=S.shared.pending,J===null)break;Ge=J,J=Ge.next,Ge.next=null,S.lastBaseUpdate=Ge,S.shared.pending=null}}while(!0);Ye===null&&(xe=rt),S.baseState=xe,S.firstBaseUpdate=Oe,S.lastBaseUpdate=Ye,k===null&&(S.shared.lanes=0),ql|=U,c.lanes=U,c.memoizedState=rt}}function DI(c,p){if(typeof c!="function")throw Error(n(191,c));c.call(p)}function LI(c,p){var m=c.callbacks;if(m!==null)for(c.callbacks=null,c=0;c<m.length;c++)DI(m[c],p)}var od=I(null),Cf=I(0);function OI(c,p){c=pl,F(Cf,c),F(od,p),pl=c|p.baseLanes}function CE(){F(Cf,pl),F(od,od.current)}function _E(){pl=Cf.current,G(od),G(Cf)}var ci=I(null),Ii=null;function $l(c){var p=c.alternate;F(pa,pa.current&1),F(ci,c),Ii===null&&(p===null||od.current!==null||p.memoizedState!==null)&&(Ii=c)}function AE(c){F(pa,pa.current),F(ci,c),Ii===null&&(Ii=c)}function MI(c){c.tag===22?(F(pa,pa.current),F(ci,c),Ii===null&&(Ii=c)):Hl()}function Hl(){F(pa,pa.current),F(ci,ci.current)}function ui(c){G(ci),Ii===c&&(Ii=null),G(pa)}var pa=I(0);function _f(c){for(var p=c;p!==null;){if(p.tag===13){var m=p.memoizedState;if(m!==null&&(m=m.dehydrated,m===null||Ov(m)||Mv(m)))return p}else if(p.tag===19&&(p.memoizedProps.revealOrder==="forwards"||p.memoizedProps.revealOrder==="backwards"||p.memoizedProps.revealOrder==="unstable_legacy-backwards"||p.memoizedProps.revealOrder==="together")){if((p.flags&128)!==0)return p}else if(p.child!==null){p.child.return=p,p=p.child;continue}if(p===c)break;for(;p.sibling===null;){if(p.return===null||p.return===c)return null;p=p.return}p.sibling.return=p.return,p=p.sibling}return null}var al=0,Dr=null,In=null,Ea=null,Af=!1,ld=!1,zc=!1,Nf=0,ch=0,cd=null,iG=0;function oa(){throw Error(n(321))}function NE(c,p){if(p===null)return!1;for(var m=0;m<p.length&&m<c.length;m++)if(!at(c[m],p[m]))return!1;return!0}function IE(c,p,m,y,S,k){return al=k,Dr=p,p.memoizedState=null,p.updateQueue=null,p.lanes=0,$.H=c===null||c.memoizedState===null?yR:qE,zc=!1,k=m(y,S),zc=!1,ld&&(k=jI(p,m,y,S)),PI(c),k}function PI(c){$.H=ph;var p=In!==null&&In.next!==null;if(al=0,Ea=In=Dr=null,Af=!1,ch=0,cd=null,p)throw Error(n(300));c===null||va||(c=c.dependencies,c!==null&&xf(c)&&(va=!0))}function jI(c,p,m,y){Dr=c;var S=0;do{if(ld&&(cd=null),ch=0,ld=!1,25<=S)throw Error(n(301));if(S+=1,Ea=In=null,c.updateQueue!=null){var k=c.updateQueue;k.lastEffect=null,k.events=null,k.stores=null,k.memoCache!=null&&(k.memoCache.index=0)}$.H=xR,k=p(m,y)}while(ld);return k}function oG(){var c=$.H,p=c.useState()[0];return p=typeof p.then=="function"?uh(p):p,c=c.useState()[0],(In!==null?In.memoizedState:null)!==c&&(Dr.flags|=1024),p}function RE(){var c=Nf!==0;return Nf=0,c}function DE(c,p,m){p.updateQueue=c.updateQueue,p.flags&=-2053,c.lanes&=~m}function LE(c){if(Af){for(c=c.memoizedState;c!==null;){var p=c.queue;p!==null&&(p.pending=null),c=c.next}Af=!1}al=0,Ea=In=Dr=null,ld=!1,ch=Nf=0,cd=null}function ks(){var c={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ea===null?Dr.memoizedState=Ea=c:Ea=Ea.next=c,Ea}function ha(){if(In===null){var c=Dr.alternate;c=c!==null?c.memoizedState:null}else c=In.next;var p=Ea===null?Dr.memoizedState:Ea.next;if(p!==null)Ea=p,In=c;else{if(c===null)throw Dr.alternate===null?Error(n(467)):Error(n(310));In=c,c={memoizedState:In.memoizedState,baseState:In.baseState,baseQueue:In.baseQueue,queue:In.queue,next:null},Ea===null?Dr.memoizedState=Ea=c:Ea=Ea.next=c}return Ea}function If(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function uh(c){var p=ch;return ch+=1,cd===null&&(cd=[]),c=_I(cd,c,p),p=Dr,(Ea===null?p.memoizedState:Ea.next)===null&&(p=p.alternate,$.H=p===null||p.memoizedState===null?yR:qE),c}function Rf(c){if(c!==null&&typeof c=="object"){if(typeof c.then=="function")return uh(c);if(c.$$typeof===N)return Ya(c)}throw Error(n(438,String(c)))}function OE(c){var p=null,m=Dr.updateQueue;if(m!==null&&(p=m.memoCache),p==null){var y=Dr.alternate;y!==null&&(y=y.updateQueue,y!==null&&(y=y.memoCache,y!=null&&(p={data:y.data.map(function(S){return S.slice()}),index:0})))}if(p==null&&(p={data:[],index:0}),m===null&&(m=If(),Dr.updateQueue=m),m.memoCache=p,m=p.data[p.index],m===void 0)for(m=p.data[p.index]=Array(c),y=0;y<c;y++)m[y]=z;return p.index++,m}function sl(c,p){return typeof p=="function"?p(c):p}function Df(c){var p=ha();return ME(p,In,c)}function ME(c,p,m){var y=c.queue;if(y===null)throw Error(n(311));y.lastRenderedReducer=m;var S=c.baseQueue,k=y.pending;if(k!==null){if(S!==null){var U=S.next;S.next=k.next,k.next=U}p.baseQueue=S=k,y.pending=null}if(k=c.baseState,S===null)c.memoizedState=k;else{p=S.next;var J=U=null,xe=null,Oe=p,Ye=!1;do{var rt=Oe.lane&-536870913;if(rt!==Oe.lane?(Zr&rt)===rt:(al&rt)===rt){var Pe=Oe.revertLane;if(Pe===0)xe!==null&&(xe=xe.next={lane:0,revertLane:0,gesture:null,action:Oe.action,hasEagerState:Oe.hasEagerState,eagerState:Oe.eagerState,next:null}),rt===nd&&(Ye=!0);else if((al&Pe)===Pe){Oe=Oe.next,Pe===nd&&(Ye=!0);continue}else rt={lane:0,revertLane:Oe.revertLane,gesture:null,action:Oe.action,hasEagerState:Oe.hasEagerState,eagerState:Oe.eagerState,next:null},xe===null?(J=xe=rt,U=k):xe=xe.next=rt,Dr.lanes|=Pe,ql|=Pe;rt=Oe.action,zc&&m(k,rt),k=Oe.hasEagerState?Oe.eagerState:m(k,rt)}else Pe={lane:rt,revertLane:Oe.revertLane,gesture:Oe.gesture,action:Oe.action,hasEagerState:Oe.hasEagerState,eagerState:Oe.eagerState,next:null},xe===null?(J=xe=Pe,U=k):xe=xe.next=Pe,Dr.lanes|=rt,ql|=rt;Oe=Oe.next}while(Oe!==null&&Oe!==p);if(xe===null?U=k:xe.next=J,!at(k,c.memoizedState)&&(va=!0,Ye&&(m=ad,m!==null)))throw m;c.memoizedState=k,c.baseState=U,c.baseQueue=xe,y.lastRenderedState=k}return S===null&&(y.lanes=0),[c.memoizedState,y.dispatch]}function PE(c){var p=ha(),m=p.queue;if(m===null)throw Error(n(311));m.lastRenderedReducer=c;var y=m.dispatch,S=m.pending,k=p.memoizedState;if(S!==null){m.pending=null;var U=S=S.next;do k=c(k,U.action),U=U.next;while(U!==S);at(k,p.memoizedState)||(va=!0),p.memoizedState=k,p.baseQueue===null&&(p.baseState=k),m.lastRenderedState=k}return[k,y]}function FI(c,p,m){var y=Dr,S=ha(),k=rn;if(k){if(m===void 0)throw Error(n(407));m=m()}else m=p();var U=!at((In||S).memoizedState,m);if(U&&(S.memoizedState=m,va=!0),S=S.queue,BE($I.bind(null,y,S,c),[c]),S.getSnapshot!==p||U||Ea!==null&&Ea.memoizedState.tag&1){if(y.flags|=2048,ud(9,{destroy:void 0},UI.bind(null,y,S,m,p),null),jn===null)throw Error(n(349));k||(al&127)!==0||BI(y,p,m)}return m}function BI(c,p,m){c.flags|=16384,c={getSnapshot:p,value:m},p=Dr.updateQueue,p===null?(p=If(),Dr.updateQueue=p,p.stores=[c]):(m=p.stores,m===null?p.stores=[c]:m.push(c))}function UI(c,p,m,y){p.value=m,p.getSnapshot=y,HI(p)&&zI(c)}function $I(c,p,m){return m(function(){HI(p)&&zI(c)})}function HI(c){var p=c.getSnapshot;c=c.value;try{var m=p();return!at(c,m)}catch{return!0}}function zI(c){var p=Oc(c,2);p!==null&&Ws(p,c,2)}function jE(c){var p=ks();if(typeof c=="function"){var m=c;if(c=m(),zc){je(!0);try{m()}finally{je(!1)}}}return p.memoizedState=p.baseState=c,p.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:sl,lastRenderedState:c},p}function GI(c,p,m,y){return c.baseState=m,ME(c,In,typeof y=="function"?y:sl)}function lG(c,p,m,y,S){if(Mf(c))throw Error(n(485));if(c=p.action,c!==null){var k={payload:S,action:c,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(U){k.listeners.push(U)}};$.T!==null?m(!0):k.isTransition=!1,y(k),m=p.pending,m===null?(k.next=p.pending=k,qI(p,k)):(k.next=m.next,p.pending=m.next=k)}}function qI(c,p){var m=p.action,y=p.payload,S=c.state;if(p.isTransition){var k=$.T,U={};$.T=U;try{var J=m(S,y),xe=$.S;xe!==null&&xe(U,J),WI(c,p,J)}catch(Oe){FE(c,p,Oe)}finally{k!==null&&U.types!==null&&(k.types=U.types),$.T=k}}else try{k=m(S,y),WI(c,p,k)}catch(Oe){FE(c,p,Oe)}}function WI(c,p,m){m!==null&&typeof m=="object"&&typeof m.then=="function"?m.then(function(y){YI(c,p,y)},function(y){return FE(c,p,y)}):YI(c,p,m)}function YI(c,p,m){p.status="fulfilled",p.value=m,VI(p),c.state=m,p=c.pending,p!==null&&(m=p.next,m===p?c.pending=null:(m=m.next,p.next=m,qI(c,m)))}function FE(c,p,m){var y=c.pending;if(c.pending=null,y!==null){y=y.next;do p.status="rejected",p.reason=m,VI(p),p=p.next;while(p!==y)}c.action=null}function VI(c){c=c.listeners;for(var p=0;p<c.length;p++)(0,c[p])()}function KI(c,p){return p}function QI(c,p){if(rn){var m=jn.formState;if(m!==null){e:{var y=Dr;if(rn){if(Wn){t:{for(var S=Wn,k=Ni;S.nodeType!==8;){if(!k){S=null;break t}if(S=Ri(S.nextSibling),S===null){S=null;break t}}k=S.data,S=k==="F!"||k==="F"?S:null}if(S){Wn=Ri(S.nextSibling),y=S.data==="F!";break e}}Pl(y)}y=!1}y&&(p=m[0])}}return m=ks(),m.memoizedState=m.baseState=p,y={pending:null,lanes:0,dispatch:null,lastRenderedReducer:KI,lastRenderedState:p},m.queue=y,m=mR.bind(null,Dr,y),y.dispatch=m,y=jE(!1),k=GE.bind(null,Dr,!1,y.queue),y=ks(),S={state:p,dispatch:null,action:c,pending:null},y.queue=S,m=lG.bind(null,Dr,S,k,m),S.dispatch=m,y.memoizedState=c,[p,m,!1]}function XI(c){var p=ha();return ZI(p,In,c)}function ZI(c,p,m){if(p=ME(c,p,KI)[0],c=Df(sl)[0],typeof p=="object"&&p!==null&&typeof p.then=="function")try{var y=uh(p)}catch(U){throw U===sd?Sf:U}else y=p;p=ha();var S=p.queue,k=S.dispatch;return m!==p.memoizedState&&(Dr.flags|=2048,ud(9,{destroy:void 0},cG.bind(null,S,m),null)),[y,k,c]}function cG(c,p){c.action=p}function JI(c){var p=ha(),m=In;if(m!==null)return ZI(p,m,c);ha(),p=p.memoizedState,m=ha();var y=m.queue.dispatch;return m.memoizedState=c,[p,y,!1]}function ud(c,p,m,y){return c={tag:c,create:m,deps:y,inst:p,next:null},p=Dr.updateQueue,p===null&&(p=If(),Dr.updateQueue=p),m=p.lastEffect,m===null?p.lastEffect=c.next=c:(y=m.next,m.next=c,c.next=y,p.lastEffect=c),c}function eR(){return ha().memoizedState}function Lf(c,p,m,y){var S=ks();Dr.flags|=c,S.memoizedState=ud(1|p,{destroy:void 0},m,y===void 0?null:y)}function Of(c,p,m,y){var S=ha();y=y===void 0?null:y;var k=S.memoizedState.inst;In!==null&&y!==null&&NE(y,In.memoizedState.deps)?S.memoizedState=ud(p,k,m,y):(Dr.flags|=c,S.memoizedState=ud(1|p,k,m,y))}function tR(c,p){Lf(8390656,8,c,p)}function BE(c,p){Of(2048,8,c,p)}function uG(c){Dr.flags|=4;var p=Dr.updateQueue;if(p===null)p=If(),Dr.updateQueue=p,p.events=[c];else{var m=p.events;m===null?p.events=[c]:m.push(c)}}function rR(c){var p=ha().memoizedState;return uG({ref:p,nextImpl:c}),function(){if((bn&2)!==0)throw Error(n(440));return p.impl.apply(void 0,arguments)}}function nR(c,p){return Of(4,2,c,p)}function aR(c,p){return Of(4,4,c,p)}function sR(c,p){if(typeof p=="function"){c=c();var m=p(c);return function(){typeof m=="function"?m():p(null)}}if(p!=null)return c=c(),p.current=c,function(){p.current=null}}function iR(c,p,m){m=m!=null?m.concat([c]):null,Of(4,4,sR.bind(null,p,c),m)}function UE(){}function oR(c,p){var m=ha();p=p===void 0?null:p;var y=m.memoizedState;return p!==null&&NE(p,y[1])?y[0]:(m.memoizedState=[c,p],c)}function lR(c,p){var m=ha();p=p===void 0?null:p;var y=m.memoizedState;if(p!==null&&NE(p,y[1]))return y[0];if(y=c(),zc){je(!0);try{c()}finally{je(!1)}}return m.memoizedState=[y,p],y}function $E(c,p,m){return m===void 0||(al&1073741824)!==0&&(Zr&261930)===0?c.memoizedState=p:(c.memoizedState=m,c=cD(),Dr.lanes|=c,ql|=c,m)}function cR(c,p,m,y){return at(m,p)?m:od.current!==null?(c=$E(c,m,y),at(c,p)||(va=!0),c):(al&42)===0||(al&1073741824)!==0&&(Zr&261930)===0?(va=!0,c.memoizedState=m):(c=cD(),Dr.lanes|=c,ql|=c,p)}function uR(c,p,m,y,S){var k=Y.p;Y.p=k!==0&&8>k?k:8;var U=$.T,J={};$.T=J,GE(c,!1,p,m);try{var xe=S(),Oe=$.S;if(Oe!==null&&Oe(J,xe),xe!==null&&typeof xe=="object"&&typeof xe.then=="function"){var Ye=sG(xe,y);dh(c,p,Ye,hi(c))}else dh(c,p,y,hi(c))}catch(rt){dh(c,p,{then:function(){},status:"rejected",reason:rt},hi())}finally{Y.p=k,U!==null&&J.types!==null&&(U.types=J.types),$.T=U}}function dG(){}function HE(c,p,m,y){if(c.tag!==5)throw Error(n(476));var S=dR(c).queue;uR(c,S,p,V,m===null?dG:function(){return pR(c),m(y)})}function dR(c){var p=c.memoizedState;if(p!==null)return p;p={memoizedState:V,baseState:V,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:sl,lastRenderedState:V},next:null};var m={};return p.next={memoizedState:m,baseState:m,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:sl,lastRenderedState:m},next:null},c.memoizedState=p,c=c.alternate,c!==null&&(c.memoizedState=p),p}function pR(c){var p=dR(c);p.next===null&&(p=c.alternate.memoizedState),dh(c,p.next.queue,{},hi())}function zE(){return Ya(Ah)}function hR(){return ha().memoizedState}function gR(){return ha().memoizedState}function pG(c){for(var p=c.return;p!==null;){switch(p.tag){case 24:case 3:var m=hi();c=Bl(m);var y=Ul(p,c,m);y!==null&&(Ws(y,p,m),ih(y,p,m)),p={cache:yE()},c.payload=p;return}p=p.return}}function hG(c,p,m){var y=hi();m={lane:y,revertLane:0,gesture:null,action:m,hasEagerState:!1,eagerState:null,next:null},Mf(c)?fR(p,m):(m=oE(c,p,m,y),m!==null&&(Ws(m,c,y),bR(m,p,y)))}function mR(c,p,m){var y=hi();dh(c,p,m,y)}function dh(c,p,m,y){var S={lane:y,revertLane:0,gesture:null,action:m,hasEagerState:!1,eagerState:null,next:null};if(Mf(c))fR(p,S);else{var k=c.alternate;if(c.lanes===0&&(k===null||k.lanes===0)&&(k=p.lastRenderedReducer,k!==null))try{var U=p.lastRenderedState,J=k(U,m);if(S.hasEagerState=!0,S.eagerState=J,at(J,U))return mf(c,p,S,0),jn===null&&gf(),!1}catch{}finally{}if(m=oE(c,p,S,y),m!==null)return Ws(m,c,y),bR(m,p,y),!0}return!1}function GE(c,p,m,y){if(y={lane:2,revertLane:Sv(),gesture:null,action:y,hasEagerState:!1,eagerState:null,next:null},Mf(c)){if(p)throw Error(n(479))}else p=oE(c,m,y,2),p!==null&&Ws(p,c,2)}function Mf(c){var p=c.alternate;return c===Dr||p!==null&&p===Dr}function fR(c,p){ld=Af=!0;var m=c.pending;m===null?p.next=p:(p.next=m.next,m.next=p),c.pending=p}function bR(c,p,m){if((m&4194048)!==0){var y=p.lanes;y&=c.pendingLanes,m|=y,p.lanes=m,er(c,m)}}var ph={readContext:Ya,use:Rf,useCallback:oa,useContext:oa,useEffect:oa,useImperativeHandle:oa,useLayoutEffect:oa,useInsertionEffect:oa,useMemo:oa,useReducer:oa,useRef:oa,useState:oa,useDebugValue:oa,useDeferredValue:oa,useTransition:oa,useSyncExternalStore:oa,useId:oa,useHostTransitionStatus:oa,useFormState:oa,useActionState:oa,useOptimistic:oa,useMemoCache:oa,useCacheRefresh:oa};ph.useEffectEvent=oa;var yR={readContext:Ya,use:Rf,useCallback:function(c,p){return ks().memoizedState=[c,p===void 0?null:p],c},useContext:Ya,useEffect:tR,useImperativeHandle:function(c,p,m){m=m!=null?m.concat([c]):null,Lf(4194308,4,sR.bind(null,p,c),m)},useLayoutEffect:function(c,p){return Lf(4194308,4,c,p)},useInsertionEffect:function(c,p){Lf(4,2,c,p)},useMemo:function(c,p){var m=ks();p=p===void 0?null:p;var y=c();if(zc){je(!0);try{c()}finally{je(!1)}}return m.memoizedState=[y,p],y},useReducer:function(c,p,m){var y=ks();if(m!==void 0){var S=m(p);if(zc){je(!0);try{m(p)}finally{je(!1)}}}else S=p;return y.memoizedState=y.baseState=S,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:c,lastRenderedState:S},y.queue=c,c=c.dispatch=hG.bind(null,Dr,c),[y.memoizedState,c]},useRef:function(c){var p=ks();return c={current:c},p.memoizedState=c},useState:function(c){c=jE(c);var p=c.queue,m=mR.bind(null,Dr,p);return p.dispatch=m,[c.memoizedState,m]},useDebugValue:UE,useDeferredValue:function(c,p){var m=ks();return $E(m,c,p)},useTransition:function(){var c=jE(!1);return c=uR.bind(null,Dr,c.queue,!0,!1),ks().memoizedState=c,[!1,c]},useSyncExternalStore:function(c,p,m){var y=Dr,S=ks();if(rn){if(m===void 0)throw Error(n(407));m=m()}else{if(m=p(),jn===null)throw Error(n(349));(Zr&127)!==0||BI(y,p,m)}S.memoizedState=m;var k={value:m,getSnapshot:p};return S.queue=k,tR($I.bind(null,y,k,c),[c]),y.flags|=2048,ud(9,{destroy:void 0},UI.bind(null,y,k,m,p),null),m},useId:function(){var c=ks(),p=jn.identifierPrefix;if(rn){var m=ko,y=wo;m=(y&~(1<<32-it(y)-1)).toString(32)+m,p="_"+p+"R_"+m,m=Nf++,0<m&&(p+="H"+m.toString(32)),p+="_"}else m=iG++,p="_"+p+"r_"+m.toString(32)+"_";return c.memoizedState=p},useHostTransitionStatus:zE,useFormState:QI,useActionState:QI,useOptimistic:function(c){var p=ks();p.memoizedState=p.baseState=c;var m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return p.queue=m,p=GE.bind(null,Dr,!0,m),m.dispatch=p,[c,p]},useMemoCache:OE,useCacheRefresh:function(){return ks().memoizedState=pG.bind(null,Dr)},useEffectEvent:function(c){var p=ks(),m={impl:c};return p.memoizedState=m,function(){if((bn&2)!==0)throw Error(n(440));return m.impl.apply(void 0,arguments)}}},qE={readContext:Ya,use:Rf,useCallback:oR,useContext:Ya,useEffect:BE,useImperativeHandle:iR,useInsertionEffect:nR,useLayoutEffect:aR,useMemo:lR,useReducer:Df,useRef:eR,useState:function(){return Df(sl)},useDebugValue:UE,useDeferredValue:function(c,p){var m=ha();return cR(m,In.memoizedState,c,p)},useTransition:function(){var c=Df(sl)[0],p=ha().memoizedState;return[typeof c=="boolean"?c:uh(c),p]},useSyncExternalStore:FI,useId:hR,useHostTransitionStatus:zE,useFormState:XI,useActionState:XI,useOptimistic:function(c,p){var m=ha();return GI(m,In,c,p)},useMemoCache:OE,useCacheRefresh:gR};qE.useEffectEvent=rR;var xR={readContext:Ya,use:Rf,useCallback:oR,useContext:Ya,useEffect:BE,useImperativeHandle:iR,useInsertionEffect:nR,useLayoutEffect:aR,useMemo:lR,useReducer:PE,useRef:eR,useState:function(){return PE(sl)},useDebugValue:UE,useDeferredValue:function(c,p){var m=ha();return In===null?$E(m,c,p):cR(m,In.memoizedState,c,p)},useTransition:function(){var c=PE(sl)[0],p=ha().memoizedState;return[typeof c=="boolean"?c:uh(c),p]},useSyncExternalStore:FI,useId:hR,useHostTransitionStatus:zE,useFormState:JI,useActionState:JI,useOptimistic:function(c,p){var m=ha();return In!==null?GI(m,In,c,p):(m.baseState=c,[c,m.queue.dispatch])},useMemoCache:OE,useCacheRefresh:gR};xR.useEffectEvent=rR;function WE(c,p,m,y){p=c.memoizedState,m=m(y,p),m=m==null?p:g({},p,m),c.memoizedState=m,c.lanes===0&&(c.updateQueue.baseState=m)}var YE={enqueueSetState:function(c,p,m){c=c._reactInternals;var y=hi(),S=Bl(y);S.payload=p,m!=null&&(S.callback=m),p=Ul(c,S,y),p!==null&&(Ws(p,c,y),ih(p,c,y))},enqueueReplaceState:function(c,p,m){c=c._reactInternals;var y=hi(),S=Bl(y);S.tag=1,S.payload=p,m!=null&&(S.callback=m),p=Ul(c,S,y),p!==null&&(Ws(p,c,y),ih(p,c,y))},enqueueForceUpdate:function(c,p){c=c._reactInternals;var m=hi(),y=Bl(m);y.tag=2,p!=null&&(y.callback=p),p=Ul(c,y,m),p!==null&&(Ws(p,c,m),ih(p,c,m))}};function ER(c,p,m,y,S,k,U){return c=c.stateNode,typeof c.shouldComponentUpdate=="function"?c.shouldComponentUpdate(y,k,U):p.prototype&&p.prototype.isPureReactComponent?!Ae(m,y)||!Ae(S,k):!0}function vR(c,p,m,y){c=p.state,typeof p.componentWillReceiveProps=="function"&&p.componentWillReceiveProps(m,y),typeof p.UNSAFE_componentWillReceiveProps=="function"&&p.UNSAFE_componentWillReceiveProps(m,y),p.state!==c&&YE.enqueueReplaceState(p,p.state,null)}function Gc(c,p){var m=p;if("ref"in p){m={};for(var y in p)y!=="ref"&&(m[y]=p[y])}if(c=c.defaultProps){m===p&&(m=g({},m));for(var S in c)m[S]===void 0&&(m[S]=c[S])}return m}function SR(c){hf(c)}function TR(c){console.error(c)}function wR(c){hf(c)}function Pf(c,p){try{var m=c.onUncaughtError;m(p.value,{componentStack:p.stack})}catch(y){setTimeout(function(){throw y})}}function kR(c,p,m){try{var y=c.onCaughtError;y(m.value,{componentStack:m.stack,errorBoundary:p.tag===1?p.stateNode:null})}catch(S){setTimeout(function(){throw S})}}function VE(c,p,m){return m=Bl(m),m.tag=3,m.payload={element:null},m.callback=function(){Pf(c,p)},m}function CR(c){return c=Bl(c),c.tag=3,c}function _R(c,p,m,y){var S=m.type.getDerivedStateFromError;if(typeof S=="function"){var k=y.value;c.payload=function(){return S(k)},c.callback=function(){kR(p,m,y)}}var U=m.stateNode;U!==null&&typeof U.componentDidCatch=="function"&&(c.callback=function(){kR(p,m,y),typeof S!="function"&&(Wl===null?Wl=new Set([this]):Wl.add(this));var J=y.stack;this.componentDidCatch(y.value,{componentStack:J!==null?J:""})})}function gG(c,p,m,y,S){if(m.flags|=32768,y!==null&&typeof y=="object"&&typeof y.then=="function"){if(p=m.alternate,p!==null&&rd(p,m,S,!0),m=ci.current,m!==null){switch(m.tag){case 31:case 13:return Ii===null?Vf():m.alternate===null&&la===0&&(la=3),m.flags&=-257,m.flags|=65536,m.lanes=S,y===Tf?m.flags|=16384:(p=m.updateQueue,p===null?m.updateQueue=new Set([y]):p.add(y),xv(c,y,S)),!1;case 22:return m.flags|=65536,y===Tf?m.flags|=16384:(p=m.updateQueue,p===null?(p={transitions:null,markerInstances:null,retryQueue:new Set([y])},m.updateQueue=p):(m=p.retryQueue,m===null?p.retryQueue=new Set([y]):m.add(y)),xv(c,y,S)),!1}throw Error(n(435,m.tag))}return xv(c,y,S),Vf(),!1}if(rn)return p=ci.current,p!==null?((p.flags&65536)===0&&(p.flags|=256),p.flags|=65536,p.lanes=S,y!==hE&&(c=Error(n(422),{cause:y}),th(Ci(c,m)))):(y!==hE&&(p=Error(n(423),{cause:y}),th(Ci(p,m))),c=c.current.alternate,c.flags|=65536,S&=-S,c.lanes|=S,y=Ci(y,m),S=VE(c.stateNode,y,S),wE(c,S),la!==4&&(la=2)),!1;var k=Error(n(520),{cause:y});if(k=Ci(k,m),Eh===null?Eh=[k]:Eh.push(k),la!==4&&(la=2),p===null)return!0;y=Ci(y,m),m=p;do{switch(m.tag){case 3:return m.flags|=65536,c=S&-S,m.lanes|=c,c=VE(m.stateNode,y,c),wE(m,c),!1;case 1:if(p=m.type,k=m.stateNode,(m.flags&128)===0&&(typeof p.getDerivedStateFromError=="function"||k!==null&&typeof k.componentDidCatch=="function"&&(Wl===null||!Wl.has(k))))return m.flags|=65536,S&=-S,m.lanes|=S,S=CR(S),_R(S,c,m,y),wE(m,S),!1}m=m.return}while(m!==null);return!1}var KE=Error(n(461)),va=!1;function Va(c,p,m,y){p.child=c===null?RI(p,null,m,y):Hc(p,c.child,m,y)}function AR(c,p,m,y,S){m=m.render;var k=p.ref;if("ref"in y){var U={};for(var J in y)J!=="ref"&&(U[J]=y[J])}else U=y;return Fc(p),y=IE(c,p,m,U,k,S),J=RE(),c!==null&&!va?(DE(c,p,S),il(c,p,S)):(rn&&J&&dE(p),p.flags|=1,Va(c,p,y,S),p.child)}function NR(c,p,m,y,S){if(c===null){var k=m.type;return typeof k=="function"&&!lE(k)&&k.defaultProps===void 0&&m.compare===null?(p.tag=15,p.type=k,IR(c,p,k,y,S)):(c=bf(m.type,null,y,p,p.mode,S),c.ref=p.ref,c.return=p,p.child=c)}if(k=c.child,!nv(c,S)){var U=k.memoizedProps;if(m=m.compare,m=m!==null?m:Ae,m(U,y)&&c.ref===p.ref)return il(c,p,S)}return p.flags|=1,c=el(k,y),c.ref=p.ref,c.return=p,p.child=c}function IR(c,p,m,y,S){if(c!==null){var k=c.memoizedProps;if(Ae(k,y)&&c.ref===p.ref)if(va=!1,p.pendingProps=y=k,nv(c,S))(c.flags&131072)!==0&&(va=!0);else return p.lanes=c.lanes,il(c,p,S)}return QE(c,p,m,y,S)}function RR(c,p,m,y){var S=y.children,k=c!==null?c.memoizedState:null;if(c===null&&p.stateNode===null&&(p.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),y.mode==="hidden"){if((p.flags&128)!==0){if(k=k!==null?k.baseLanes|m:m,c!==null){for(y=p.child=c.child,S=0;y!==null;)S=S|y.lanes|y.childLanes,y=y.sibling;y=S&~k}else y=0,p.child=null;return DR(c,p,k,m,y)}if((m&536870912)!==0)p.memoizedState={baseLanes:0,cachePool:null},c!==null&&vf(p,k!==null?k.cachePool:null),k!==null?OI(p,k):CE(),MI(p);else return y=p.lanes=536870912,DR(c,p,k!==null?k.baseLanes|m:m,m,y)}else k!==null?(vf(p,k.cachePool),OI(p,k),Hl(),p.memoizedState=null):(c!==null&&vf(p,null),CE(),Hl());return Va(c,p,S,m),p.child}function hh(c,p){return c!==null&&c.tag===22||p.stateNode!==null||(p.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),p.sibling}function DR(c,p,m,y,S){var k=EE();return k=k===null?null:{parent:xa._currentValue,pool:k},p.memoizedState={baseLanes:m,cachePool:k},c!==null&&vf(p,null),CE(),MI(p),c!==null&&rd(c,p,y,!0),p.childLanes=S,null}function jf(c,p){return p=Bf({mode:p.mode,children:p.children},c.mode),p.ref=c.ref,c.child=p,p.return=c,p}function LR(c,p,m){return Hc(p,c.child,null,m),c=jf(p,p.pendingProps),c.flags|=2,ui(p),p.memoizedState=null,c}function mG(c,p,m){var y=p.pendingProps,S=(p.flags&128)!==0;if(p.flags&=-129,c===null){if(rn){if(y.mode==="hidden")return c=jf(p,y),p.lanes=536870912,hh(null,c);if(AE(p),(c=Wn)?(c=qD(c,Ni),c=c!==null&&c.data==="&"?c:null,c!==null&&(p.memoizedState={dehydrated:c,treeContext:Ol!==null?{id:wo,overflow:ko}:null,retryLane:536870912,hydrationErrors:null},m=fI(c),m.return=p,p.child=m,Wa=p,Wn=null)):c=null,c===null)throw Pl(p);return p.lanes=536870912,null}return jf(p,y)}var k=c.memoizedState;if(k!==null){var U=k.dehydrated;if(AE(p),S)if(p.flags&256)p.flags&=-257,p=LR(c,p,m);else if(p.memoizedState!==null)p.child=c.child,p.flags|=128,p=null;else throw Error(n(558));else if(va||rd(c,p,m,!1),S=(m&c.childLanes)!==0,va||S){if(y=jn,y!==null&&(U=fn(y,m),U!==0&&U!==k.retryLane))throw k.retryLane=U,Oc(c,U),Ws(y,c,U),KE;Vf(),p=LR(c,p,m)}else c=k.treeContext,Wn=Ri(U.nextSibling),Wa=p,rn=!0,Ml=null,Ni=!1,c!==null&&xI(p,c),p=jf(p,y),p.flags|=4096;return p}return c=el(c.child,{mode:y.mode,children:y.children}),c.ref=p.ref,p.child=c,c.return=p,c}function Ff(c,p){var m=p.ref;if(m===null)c!==null&&c.ref!==null&&(p.flags|=4194816);else{if(typeof m!="function"&&typeof m!="object")throw Error(n(284));(c===null||c.ref!==m)&&(p.flags|=4194816)}}function QE(c,p,m,y,S){return Fc(p),m=IE(c,p,m,y,void 0,S),y=RE(),c!==null&&!va?(DE(c,p,S),il(c,p,S)):(rn&&y&&dE(p),p.flags|=1,Va(c,p,m,S),p.child)}function OR(c,p,m,y,S,k){return Fc(p),p.updateQueue=null,m=jI(p,y,m,S),PI(c),y=RE(),c!==null&&!va?(DE(c,p,k),il(c,p,k)):(rn&&y&&dE(p),p.flags|=1,Va(c,p,m,k),p.child)}function MR(c,p,m,y,S){if(Fc(p),p.stateNode===null){var k=Zu,U=m.contextType;typeof U=="object"&&U!==null&&(k=Ya(U)),k=new m(y,k),p.memoizedState=k.state!==null&&k.state!==void 0?k.state:null,k.updater=YE,p.stateNode=k,k._reactInternals=p,k=p.stateNode,k.props=y,k.state=p.memoizedState,k.refs={},SE(p),U=m.contextType,k.context=typeof U=="object"&&U!==null?Ya(U):Zu,k.state=p.memoizedState,U=m.getDerivedStateFromProps,typeof U=="function"&&(WE(p,m,U,y),k.state=p.memoizedState),typeof m.getDerivedStateFromProps=="function"||typeof k.getSnapshotBeforeUpdate=="function"||typeof k.UNSAFE_componentWillMount!="function"&&typeof k.componentWillMount!="function"||(U=k.state,typeof k.componentWillMount=="function"&&k.componentWillMount(),typeof k.UNSAFE_componentWillMount=="function"&&k.UNSAFE_componentWillMount(),U!==k.state&&YE.enqueueReplaceState(k,k.state,null),lh(p,y,k,S),oh(),k.state=p.memoizedState),typeof k.componentDidMount=="function"&&(p.flags|=4194308),y=!0}else if(c===null){k=p.stateNode;var J=p.memoizedProps,xe=Gc(m,J);k.props=xe;var Oe=k.context,Ye=m.contextType;U=Zu,typeof Ye=="object"&&Ye!==null&&(U=Ya(Ye));var rt=m.getDerivedStateFromProps;Ye=typeof rt=="function"||typeof k.getSnapshotBeforeUpdate=="function",J=p.pendingProps!==J,Ye||typeof k.UNSAFE_componentWillReceiveProps!="function"&&typeof k.componentWillReceiveProps!="function"||(J||Oe!==U)&&vR(p,k,y,U),Fl=!1;var Pe=p.memoizedState;k.state=Pe,lh(p,y,k,S),oh(),Oe=p.memoizedState,J||Pe!==Oe||Fl?(typeof rt=="function"&&(WE(p,m,rt,y),Oe=p.memoizedState),(xe=Fl||ER(p,m,xe,y,Pe,Oe,U))?(Ye||typeof k.UNSAFE_componentWillMount!="function"&&typeof k.componentWillMount!="function"||(typeof k.componentWillMount=="function"&&k.componentWillMount(),typeof k.UNSAFE_componentWillMount=="function"&&k.UNSAFE_componentWillMount()),typeof k.componentDidMount=="function"&&(p.flags|=4194308)):(typeof k.componentDidMount=="function"&&(p.flags|=4194308),p.memoizedProps=y,p.memoizedState=Oe),k.props=y,k.state=Oe,k.context=U,y=xe):(typeof k.componentDidMount=="function"&&(p.flags|=4194308),y=!1)}else{k=p.stateNode,TE(c,p),U=p.memoizedProps,Ye=Gc(m,U),k.props=Ye,rt=p.pendingProps,Pe=k.context,Oe=m.contextType,xe=Zu,typeof Oe=="object"&&Oe!==null&&(xe=Ya(Oe)),J=m.getDerivedStateFromProps,(Oe=typeof J=="function"||typeof k.getSnapshotBeforeUpdate=="function")||typeof k.UNSAFE_componentWillReceiveProps!="function"&&typeof k.componentWillReceiveProps!="function"||(U!==rt||Pe!==xe)&&vR(p,k,y,xe),Fl=!1,Pe=p.memoizedState,k.state=Pe,lh(p,y,k,S),oh();var Ge=p.memoizedState;U!==rt||Pe!==Ge||Fl||c!==null&&c.dependencies!==null&&xf(c.dependencies)?(typeof J=="function"&&(WE(p,m,J,y),Ge=p.memoizedState),(Ye=Fl||ER(p,m,Ye,y,Pe,Ge,xe)||c!==null&&c.dependencies!==null&&xf(c.dependencies))?(Oe||typeof k.UNSAFE_componentWillUpdate!="function"&&typeof k.componentWillUpdate!="function"||(typeof k.componentWillUpdate=="function"&&k.componentWillUpdate(y,Ge,xe),typeof k.UNSAFE_componentWillUpdate=="function"&&k.UNSAFE_componentWillUpdate(y,Ge,xe)),typeof k.componentDidUpdate=="function"&&(p.flags|=4),typeof k.getSnapshotBeforeUpdate=="function"&&(p.flags|=1024)):(typeof k.componentDidUpdate!="function"||U===c.memoizedProps&&Pe===c.memoizedState||(p.flags|=4),typeof k.getSnapshotBeforeUpdate!="function"||U===c.memoizedProps&&Pe===c.memoizedState||(p.flags|=1024),p.memoizedProps=y,p.memoizedState=Ge),k.props=y,k.state=Ge,k.context=xe,y=Ye):(typeof k.componentDidUpdate!="function"||U===c.memoizedProps&&Pe===c.memoizedState||(p.flags|=4),typeof k.getSnapshotBeforeUpdate!="function"||U===c.memoizedProps&&Pe===c.memoizedState||(p.flags|=1024),y=!1)}return k=y,Ff(c,p),y=(p.flags&128)!==0,k||y?(k=p.stateNode,m=y&&typeof m.getDerivedStateFromError!="function"?null:k.render(),p.flags|=1,c!==null&&y?(p.child=Hc(p,c.child,null,S),p.child=Hc(p,null,m,S)):Va(c,p,m,S),p.memoizedState=k.state,c=p.child):c=il(c,p,S),c}function PR(c,p,m,y){return Pc(),p.flags|=256,Va(c,p,m,y),p.child}var XE={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ZE(c){return{baseLanes:c,cachePool:kI()}}function JE(c,p,m){return c=c!==null?c.childLanes&~m:0,p&&(c|=pi),c}function jR(c,p,m){var y=p.pendingProps,S=!1,k=(p.flags&128)!==0,U;if((U=k)||(U=c!==null&&c.memoizedState===null?!1:(pa.current&2)!==0),U&&(S=!0,p.flags&=-129),U=(p.flags&32)!==0,p.flags&=-33,c===null){if(rn){if(S?$l(p):Hl(),(c=Wn)?(c=qD(c,Ni),c=c!==null&&c.data!=="&"?c:null,c!==null&&(p.memoizedState={dehydrated:c,treeContext:Ol!==null?{id:wo,overflow:ko}:null,retryLane:536870912,hydrationErrors:null},m=fI(c),m.return=p,p.child=m,Wa=p,Wn=null)):c=null,c===null)throw Pl(p);return Mv(c)?p.lanes=32:p.lanes=536870912,null}var J=y.children;return y=y.fallback,S?(Hl(),S=p.mode,J=Bf({mode:"hidden",children:J},S),y=Mc(y,S,m,null),J.return=p,y.return=p,J.sibling=y,p.child=J,y=p.child,y.memoizedState=ZE(m),y.childLanes=JE(c,U,m),p.memoizedState=XE,hh(null,y)):($l(p),ev(p,J))}var xe=c.memoizedState;if(xe!==null&&(J=xe.dehydrated,J!==null)){if(k)p.flags&256?($l(p),p.flags&=-257,p=tv(c,p,m)):p.memoizedState!==null?(Hl(),p.child=c.child,p.flags|=128,p=null):(Hl(),J=y.fallback,S=p.mode,y=Bf({mode:"visible",children:y.children},S),J=Mc(J,S,m,null),J.flags|=2,y.return=p,J.return=p,y.sibling=J,p.child=y,Hc(p,c.child,null,m),y=p.child,y.memoizedState=ZE(m),y.childLanes=JE(c,U,m),p.memoizedState=XE,p=hh(null,y));else if($l(p),Mv(J)){if(U=J.nextSibling&&J.nextSibling.dataset,U)var Oe=U.dgst;U=Oe,y=Error(n(419)),y.stack="",y.digest=U,th({value:y,source:null,stack:null}),p=tv(c,p,m)}else if(va||rd(c,p,m,!1),U=(m&c.childLanes)!==0,va||U){if(U=jn,U!==null&&(y=fn(U,m),y!==0&&y!==xe.retryLane))throw xe.retryLane=y,Oc(c,y),Ws(U,c,y),KE;Ov(J)||Vf(),p=tv(c,p,m)}else Ov(J)?(p.flags|=192,p.child=c.child,p=null):(c=xe.treeContext,Wn=Ri(J.nextSibling),Wa=p,rn=!0,Ml=null,Ni=!1,c!==null&&xI(p,c),p=ev(p,y.children),p.flags|=4096);return p}return S?(Hl(),J=y.fallback,S=p.mode,xe=c.child,Oe=xe.sibling,y=el(xe,{mode:"hidden",children:y.children}),y.subtreeFlags=xe.subtreeFlags&65011712,Oe!==null?J=el(Oe,J):(J=Mc(J,S,m,null),J.flags|=2),J.return=p,y.return=p,y.sibling=J,p.child=y,hh(null,y),y=p.child,J=c.child.memoizedState,J===null?J=ZE(m):(S=J.cachePool,S!==null?(xe=xa._currentValue,S=S.parent!==xe?{parent:xe,pool:xe}:S):S=kI(),J={baseLanes:J.baseLanes|m,cachePool:S}),y.memoizedState=J,y.childLanes=JE(c,U,m),p.memoizedState=XE,hh(c.child,y)):($l(p),m=c.child,c=m.sibling,m=el(m,{mode:"visible",children:y.children}),m.return=p,m.sibling=null,c!==null&&(U=p.deletions,U===null?(p.deletions=[c],p.flags|=16):U.push(c)),p.child=m,p.memoizedState=null,m)}function ev(c,p){return p=Bf({mode:"visible",children:p},c.mode),p.return=c,c.child=p}function Bf(c,p){return c=li(22,c,null,p),c.lanes=0,c}function tv(c,p,m){return Hc(p,c.child,null,m),c=ev(p,p.pendingProps.children),c.flags|=2,p.memoizedState=null,c}function FR(c,p,m){c.lanes|=p;var y=c.alternate;y!==null&&(y.lanes|=p),fE(c.return,p,m)}function rv(c,p,m,y,S,k){var U=c.memoizedState;U===null?c.memoizedState={isBackwards:p,rendering:null,renderingStartTime:0,last:y,tail:m,tailMode:S,treeForkCount:k}:(U.isBackwards=p,U.rendering=null,U.renderingStartTime=0,U.last=y,U.tail=m,U.tailMode=S,U.treeForkCount=k)}function BR(c,p,m){var y=p.pendingProps,S=y.revealOrder,k=y.tail;y=y.children;var U=pa.current,J=(U&2)!==0;if(J?(U=U&1|2,p.flags|=128):U&=1,F(pa,U),Va(c,p,y,m),y=rn?eh:0,!J&&c!==null&&(c.flags&128)!==0)e:for(c=p.child;c!==null;){if(c.tag===13)c.memoizedState!==null&&FR(c,m,p);else if(c.tag===19)FR(c,m,p);else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===p)break e;for(;c.sibling===null;){if(c.return===null||c.return===p)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}switch(S){case"forwards":for(m=p.child,S=null;m!==null;)c=m.alternate,c!==null&&_f(c)===null&&(S=m),m=m.sibling;m=S,m===null?(S=p.child,p.child=null):(S=m.sibling,m.sibling=null),rv(p,!1,S,m,k,y);break;case"backwards":case"unstable_legacy-backwards":for(m=null,S=p.child,p.child=null;S!==null;){if(c=S.alternate,c!==null&&_f(c)===null){p.child=S;break}c=S.sibling,S.sibling=m,m=S,S=c}rv(p,!0,m,null,k,y);break;case"together":rv(p,!1,null,null,void 0,y);break;default:p.memoizedState=null}return p.child}function il(c,p,m){if(c!==null&&(p.dependencies=c.dependencies),ql|=p.lanes,(m&p.childLanes)===0)if(c!==null){if(rd(c,p,m,!1),(m&p.childLanes)===0)return null}else return null;if(c!==null&&p.child!==c.child)throw Error(n(153));if(p.child!==null){for(c=p.child,m=el(c,c.pendingProps),p.child=m,m.return=p;c.sibling!==null;)c=c.sibling,m=m.sibling=el(c,c.pendingProps),m.return=p;m.sibling=null}return p.child}function nv(c,p){return(c.lanes&p)!==0?!0:(c=c.dependencies,!!(c!==null&&xf(c)))}function fG(c,p,m){switch(p.tag){case 3:pe(p,p.stateNode.containerInfo),jl(p,xa,c.memoizedState.cache),Pc();break;case 27:case 5:Ee(p);break;case 4:pe(p,p.stateNode.containerInfo);break;case 10:jl(p,p.type,p.memoizedProps.value);break;case 31:if(p.memoizedState!==null)return p.flags|=128,AE(p),null;break;case 13:var y=p.memoizedState;if(y!==null)return y.dehydrated!==null?($l(p),p.flags|=128,null):(m&p.child.childLanes)!==0?jR(c,p,m):($l(p),c=il(c,p,m),c!==null?c.sibling:null);$l(p);break;case 19:var S=(c.flags&128)!==0;if(y=(m&p.childLanes)!==0,y||(rd(c,p,m,!1),y=(m&p.childLanes)!==0),S){if(y)return BR(c,p,m);p.flags|=128}if(S=p.memoizedState,S!==null&&(S.rendering=null,S.tail=null,S.lastEffect=null),F(pa,pa.current),y)break;return null;case 22:return p.lanes=0,RR(c,p,m,p.pendingProps);case 24:jl(p,xa,c.memoizedState.cache)}return il(c,p,m)}function UR(c,p,m){if(c!==null)if(c.memoizedProps!==p.pendingProps)va=!0;else{if(!nv(c,m)&&(p.flags&128)===0)return va=!1,fG(c,p,m);va=(c.flags&131072)!==0}else va=!1,rn&&(p.flags&1048576)!==0&&yI(p,eh,p.index);switch(p.lanes=0,p.tag){case 16:e:{var y=p.pendingProps;if(c=Uc(p.elementType),p.type=c,typeof c=="function")lE(c)?(y=Gc(c,y),p.tag=1,p=MR(null,p,c,y,m)):(p.tag=0,p=QE(null,p,c,y,m));else{if(c!=null){var S=c.$$typeof;if(S===R){p.tag=11,p=AR(null,p,c,y,m);break e}else if(S===j){p.tag=14,p=NR(null,p,c,y,m);break e}}throw p=O(c)||c,Error(n(306,p,""))}}return p;case 0:return QE(c,p,p.type,p.pendingProps,m);case 1:return y=p.type,S=Gc(y,p.pendingProps),MR(c,p,y,S,m);case 3:e:{if(pe(p,p.stateNode.containerInfo),c===null)throw Error(n(387));y=p.pendingProps;var k=p.memoizedState;S=k.element,TE(c,p),lh(p,y,null,m);var U=p.memoizedState;if(y=U.cache,jl(p,xa,y),y!==k.cache&&bE(p,[xa],m,!0),oh(),y=U.element,k.isDehydrated)if(k={element:y,isDehydrated:!1,cache:U.cache},p.updateQueue.baseState=k,p.memoizedState=k,p.flags&256){p=PR(c,p,y,m);break e}else if(y!==S){S=Ci(Error(n(424)),p),th(S),p=PR(c,p,y,m);break e}else{switch(c=p.stateNode.containerInfo,c.nodeType){case 9:c=c.body;break;default:c=c.nodeName==="HTML"?c.ownerDocument.body:c}for(Wn=Ri(c.firstChild),Wa=p,rn=!0,Ml=null,Ni=!0,m=RI(p,null,y,m),p.child=m;m;)m.flags=m.flags&-3|4096,m=m.sibling}else{if(Pc(),y===S){p=il(c,p,m);break e}Va(c,p,y,m)}p=p.child}return p;case 26:return Ff(c,p),c===null?(m=XD(p.type,null,p.pendingProps,null))?p.memoizedState=m:rn||(m=p.type,c=p.pendingProps,y=t0(ye.current).createElement(m),y[en]=p,y[cn]=c,Ka(y,m,c),Sr(y),p.stateNode=y):p.memoizedState=XD(p.type,c.memoizedProps,p.pendingProps,c.memoizedState),null;case 27:return Ee(p),c===null&&rn&&(y=p.stateNode=VD(p.type,p.pendingProps,ye.current),Wa=p,Ni=!0,S=Wn,Ql(p.type)?(Pv=S,Wn=Ri(y.firstChild)):Wn=S),Va(c,p,p.pendingProps.children,m),Ff(c,p),c===null&&(p.flags|=4194304),p.child;case 5:return c===null&&rn&&((S=y=Wn)&&(y=WG(y,p.type,p.pendingProps,Ni),y!==null?(p.stateNode=y,Wa=p,Wn=Ri(y.firstChild),Ni=!1,S=!0):S=!1),S||Pl(p)),Ee(p),S=p.type,k=p.pendingProps,U=c!==null?c.memoizedProps:null,y=k.children,Rv(S,k)?y=null:U!==null&&Rv(S,U)&&(p.flags|=32),p.memoizedState!==null&&(S=IE(c,p,oG,null,null,m),Ah._currentValue=S),Ff(c,p),Va(c,p,y,m),p.child;case 6:return c===null&&rn&&((c=m=Wn)&&(m=YG(m,p.pendingProps,Ni),m!==null?(p.stateNode=m,Wa=p,Wn=null,c=!0):c=!1),c||Pl(p)),null;case 13:return jR(c,p,m);case 4:return pe(p,p.stateNode.containerInfo),y=p.pendingProps,c===null?p.child=Hc(p,null,y,m):Va(c,p,y,m),p.child;case 11:return AR(c,p,p.type,p.pendingProps,m);case 7:return Va(c,p,p.pendingProps,m),p.child;case 8:return Va(c,p,p.pendingProps.children,m),p.child;case 12:return Va(c,p,p.pendingProps.children,m),p.child;case 10:return y=p.pendingProps,jl(p,p.type,y.value),Va(c,p,y.children,m),p.child;case 9:return S=p.type._context,y=p.pendingProps.children,Fc(p),S=Ya(S),y=y(S),p.flags|=1,Va(c,p,y,m),p.child;case 14:return NR(c,p,p.type,p.pendingProps,m);case 15:return IR(c,p,p.type,p.pendingProps,m);case 19:return BR(c,p,m);case 31:return mG(c,p,m);case 22:return RR(c,p,m,p.pendingProps);case 24:return Fc(p),y=Ya(xa),c===null?(S=EE(),S===null&&(S=jn,k=yE(),S.pooledCache=k,k.refCount++,k!==null&&(S.pooledCacheLanes|=m),S=k),p.memoizedState={parent:y,cache:S},SE(p),jl(p,xa,S)):((c.lanes&m)!==0&&(TE(c,p),lh(p,null,null,m),oh()),S=c.memoizedState,k=p.memoizedState,S.parent!==y?(S={parent:y,cache:y},p.memoizedState=S,p.lanes===0&&(p.memoizedState=p.updateQueue.baseState=S),jl(p,xa,y)):(y=k.cache,jl(p,xa,y),y!==S.cache&&bE(p,[xa],m,!0))),Va(c,p,p.pendingProps.children,m),p.child;case 29:throw p.pendingProps}throw Error(n(156,p.tag))}function ol(c){c.flags|=4}function av(c,p,m,y,S){if((p=(c.mode&32)!==0)&&(p=!1),p){if(c.flags|=16777216,(S&335544128)===S)if(c.stateNode.complete)c.flags|=8192;else if(hD())c.flags|=8192;else throw $c=Tf,vE}else c.flags&=-16777217}function $R(c,p){if(p.type!=="stylesheet"||(p.state.loading&4)!==0)c.flags&=-16777217;else if(c.flags|=16777216,!rL(p))if(hD())c.flags|=8192;else throw $c=Tf,vE}function Uf(c,p){p!==null&&(c.flags|=4),c.flags&16384&&(p=c.tag!==22?Ht():536870912,c.lanes|=p,gd|=p)}function gh(c,p){if(!rn)switch(c.tailMode){case"hidden":p=c.tail;for(var m=null;p!==null;)p.alternate!==null&&(m=p),p=p.sibling;m===null?c.tail=null:m.sibling=null;break;case"collapsed":m=c.tail;for(var y=null;m!==null;)m.alternate!==null&&(y=m),m=m.sibling;y===null?p||c.tail===null?c.tail=null:c.tail.sibling=null:y.sibling=null}}function Yn(c){var p=c.alternate!==null&&c.alternate.child===c.child,m=0,y=0;if(p)for(var S=c.child;S!==null;)m|=S.lanes|S.childLanes,y|=S.subtreeFlags&65011712,y|=S.flags&65011712,S.return=c,S=S.sibling;else for(S=c.child;S!==null;)m|=S.lanes|S.childLanes,y|=S.subtreeFlags,y|=S.flags,S.return=c,S=S.sibling;return c.subtreeFlags|=y,c.childLanes=m,p}function bG(c,p,m){var y=p.pendingProps;switch(pE(p),p.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Yn(p),null;case 1:return Yn(p),null;case 3:return m=p.stateNode,y=null,c!==null&&(y=c.memoizedState.cache),p.memoizedState.cache!==y&&(p.flags|=2048),nl(xa),Be(),m.pendingContext&&(m.context=m.pendingContext,m.pendingContext=null),(c===null||c.child===null)&&(td(p)?ol(p):c===null||c.memoizedState.isDehydrated&&(p.flags&256)===0||(p.flags|=1024,gE())),Yn(p),null;case 26:var S=p.type,k=p.memoizedState;return c===null?(ol(p),k!==null?(Yn(p),$R(p,k)):(Yn(p),av(p,S,null,y,m))):k?k!==c.memoizedState?(ol(p),Yn(p),$R(p,k)):(Yn(p),p.flags&=-16777217):(c=c.memoizedProps,c!==y&&ol(p),Yn(p),av(p,S,c,y,m)),null;case 27:if(we(p),m=ye.current,S=p.type,c!==null&&p.stateNode!=null)c.memoizedProps!==y&&ol(p);else{if(!y){if(p.stateNode===null)throw Error(n(166));return Yn(p),null}c=ie.current,td(p)?EI(p):(c=VD(S,y,m),p.stateNode=c,ol(p))}return Yn(p),null;case 5:if(we(p),S=p.type,c!==null&&p.stateNode!=null)c.memoizedProps!==y&&ol(p);else{if(!y){if(p.stateNode===null)throw Error(n(166));return Yn(p),null}if(k=ie.current,td(p))EI(p);else{var U=t0(ye.current);switch(k){case 1:k=U.createElementNS("http://www.w3.org/2000/svg",S);break;case 2:k=U.createElementNS("http://www.w3.org/1998/Math/MathML",S);break;default:switch(S){case"svg":k=U.createElementNS("http://www.w3.org/2000/svg",S);break;case"math":k=U.createElementNS("http://www.w3.org/1998/Math/MathML",S);break;case"script":k=U.createElement("div"),k.innerHTML="<script><\/script>",k=k.removeChild(k.firstChild);break;case"select":k=typeof y.is=="string"?U.createElement("select",{is:y.is}):U.createElement("select"),y.multiple?k.multiple=!0:y.size&&(k.size=y.size);break;default:k=typeof y.is=="string"?U.createElement(S,{is:y.is}):U.createElement(S)}}k[en]=p,k[cn]=y;e:for(U=p.child;U!==null;){if(U.tag===5||U.tag===6)k.appendChild(U.stateNode);else if(U.tag!==4&&U.tag!==27&&U.child!==null){U.child.return=U,U=U.child;continue}if(U===p)break e;for(;U.sibling===null;){if(U.return===null||U.return===p)break e;U=U.return}U.sibling.return=U.return,U=U.sibling}p.stateNode=k;e:switch(Ka(k,S,y),S){case"button":case"input":case"select":case"textarea":y=!!y.autoFocus;break e;case"img":y=!0;break e;default:y=!1}y&&ol(p)}}return Yn(p),av(p,p.type,c===null?null:c.memoizedProps,p.pendingProps,m),null;case 6:if(c&&p.stateNode!=null)c.memoizedProps!==y&&ol(p);else{if(typeof y!="string"&&p.stateNode===null)throw Error(n(166));if(c=ye.current,td(p)){if(c=p.stateNode,m=p.memoizedProps,y=null,S=Wa,S!==null)switch(S.tag){case 27:case 5:y=S.memoizedProps}c[en]=p,c=!!(c.nodeValue===m||y!==null&&y.suppressHydrationWarning===!0||jD(c.nodeValue,m)),c||Pl(p,!0)}else c=t0(c).createTextNode(y),c[en]=p,p.stateNode=c}return Yn(p),null;case 31:if(m=p.memoizedState,c===null||c.memoizedState!==null){if(y=td(p),m!==null){if(c===null){if(!y)throw Error(n(318));if(c=p.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(n(557));c[en]=p}else Pc(),(p.flags&128)===0&&(p.memoizedState=null),p.flags|=4;Yn(p),c=!1}else m=gE(),c!==null&&c.memoizedState!==null&&(c.memoizedState.hydrationErrors=m),c=!0;if(!c)return p.flags&256?(ui(p),p):(ui(p),null);if((p.flags&128)!==0)throw Error(n(558))}return Yn(p),null;case 13:if(y=p.memoizedState,c===null||c.memoizedState!==null&&c.memoizedState.dehydrated!==null){if(S=td(p),y!==null&&y.dehydrated!==null){if(c===null){if(!S)throw Error(n(318));if(S=p.memoizedState,S=S!==null?S.dehydrated:null,!S)throw Error(n(317));S[en]=p}else Pc(),(p.flags&128)===0&&(p.memoizedState=null),p.flags|=4;Yn(p),S=!1}else S=gE(),c!==null&&c.memoizedState!==null&&(c.memoizedState.hydrationErrors=S),S=!0;if(!S)return p.flags&256?(ui(p),p):(ui(p),null)}return ui(p),(p.flags&128)!==0?(p.lanes=m,p):(m=y!==null,c=c!==null&&c.memoizedState!==null,m&&(y=p.child,S=null,y.alternate!==null&&y.alternate.memoizedState!==null&&y.alternate.memoizedState.cachePool!==null&&(S=y.alternate.memoizedState.cachePool.pool),k=null,y.memoizedState!==null&&y.memoizedState.cachePool!==null&&(k=y.memoizedState.cachePool.pool),k!==S&&(y.flags|=2048)),m!==c&&m&&(p.child.flags|=8192),Uf(p,p.updateQueue),Yn(p),null);case 4:return Be(),c===null&&Cv(p.stateNode.containerInfo),Yn(p),null;case 10:return nl(p.type),Yn(p),null;case 19:if(G(pa),y=p.memoizedState,y===null)return Yn(p),null;if(S=(p.flags&128)!==0,k=y.rendering,k===null)if(S)gh(y,!1);else{if(la!==0||c!==null&&(c.flags&128)!==0)for(c=p.child;c!==null;){if(k=_f(c),k!==null){for(p.flags|=128,gh(y,!1),c=k.updateQueue,p.updateQueue=c,Uf(p,c),p.subtreeFlags=0,c=m,m=p.child;m!==null;)mI(m,c),m=m.sibling;return F(pa,pa.current&1|2),rn&&tl(p,y.treeForkCount),p.child}c=c.sibling}y.tail!==null&&dr()>qf&&(p.flags|=128,S=!0,gh(y,!1),p.lanes=4194304)}else{if(!S)if(c=_f(k),c!==null){if(p.flags|=128,S=!0,c=c.updateQueue,p.updateQueue=c,Uf(p,c),gh(y,!0),y.tail===null&&y.tailMode==="hidden"&&!k.alternate&&!rn)return Yn(p),null}else 2*dr()-y.renderingStartTime>qf&&m!==536870912&&(p.flags|=128,S=!0,gh(y,!1),p.lanes=4194304);y.isBackwards?(k.sibling=p.child,p.child=k):(c=y.last,c!==null?c.sibling=k:p.child=k,y.last=k)}return y.tail!==null?(c=y.tail,y.rendering=c,y.tail=c.sibling,y.renderingStartTime=dr(),c.sibling=null,m=pa.current,F(pa,S?m&1|2:m&1),rn&&tl(p,y.treeForkCount),c):(Yn(p),null);case 22:case 23:return ui(p),_E(),y=p.memoizedState!==null,c!==null?c.memoizedState!==null!==y&&(p.flags|=8192):y&&(p.flags|=8192),y?(m&536870912)!==0&&(p.flags&128)===0&&(Yn(p),p.subtreeFlags&6&&(p.flags|=8192)):Yn(p),m=p.updateQueue,m!==null&&Uf(p,m.retryQueue),m=null,c!==null&&c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(m=c.memoizedState.cachePool.pool),y=null,p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(y=p.memoizedState.cachePool.pool),y!==m&&(p.flags|=2048),c!==null&&G(Bc),null;case 24:return m=null,c!==null&&(m=c.memoizedState.cache),p.memoizedState.cache!==m&&(p.flags|=2048),nl(xa),Yn(p),null;case 25:return null;case 30:return null}throw Error(n(156,p.tag))}function yG(c,p){switch(pE(p),p.tag){case 1:return c=p.flags,c&65536?(p.flags=c&-65537|128,p):null;case 3:return nl(xa),Be(),c=p.flags,(c&65536)!==0&&(c&128)===0?(p.flags=c&-65537|128,p):null;case 26:case 27:case 5:return we(p),null;case 31:if(p.memoizedState!==null){if(ui(p),p.alternate===null)throw Error(n(340));Pc()}return c=p.flags,c&65536?(p.flags=c&-65537|128,p):null;case 13:if(ui(p),c=p.memoizedState,c!==null&&c.dehydrated!==null){if(p.alternate===null)throw Error(n(340));Pc()}return c=p.flags,c&65536?(p.flags=c&-65537|128,p):null;case 19:return G(pa),null;case 4:return Be(),null;case 10:return nl(p.type),null;case 22:case 23:return ui(p),_E(),c!==null&&G(Bc),c=p.flags,c&65536?(p.flags=c&-65537|128,p):null;case 24:return nl(xa),null;case 25:return null;default:return null}}function HR(c,p){switch(pE(p),p.tag){case 3:nl(xa),Be();break;case 26:case 27:case 5:we(p);break;case 4:Be();break;case 31:p.memoizedState!==null&&ui(p);break;case 13:ui(p);break;case 19:G(pa);break;case 10:nl(p.type);break;case 22:case 23:ui(p),_E(),c!==null&&G(Bc);break;case 24:nl(xa)}}function mh(c,p){try{var m=p.updateQueue,y=m!==null?m.lastEffect:null;if(y!==null){var S=y.next;m=S;do{if((m.tag&c)===c){y=void 0;var k=m.create,U=m.inst;y=k(),U.destroy=y}m=m.next}while(m!==S)}}catch(J){_n(p,p.return,J)}}function zl(c,p,m){try{var y=p.updateQueue,S=y!==null?y.lastEffect:null;if(S!==null){var k=S.next;y=k;do{if((y.tag&c)===c){var U=y.inst,J=U.destroy;if(J!==void 0){U.destroy=void 0,S=p;var xe=m,Oe=J;try{Oe()}catch(Ye){_n(S,xe,Ye)}}}y=y.next}while(y!==k)}}catch(Ye){_n(p,p.return,Ye)}}function zR(c){var p=c.updateQueue;if(p!==null){var m=c.stateNode;try{LI(p,m)}catch(y){_n(c,c.return,y)}}}function GR(c,p,m){m.props=Gc(c.type,c.memoizedProps),m.state=c.memoizedState;try{m.componentWillUnmount()}catch(y){_n(c,p,y)}}function fh(c,p){try{var m=c.ref;if(m!==null){switch(c.tag){case 26:case 27:case 5:var y=c.stateNode;break;case 30:y=c.stateNode;break;default:y=c.stateNode}typeof m=="function"?c.refCleanup=m(y):m.current=y}}catch(S){_n(c,p,S)}}function Co(c,p){var m=c.ref,y=c.refCleanup;if(m!==null)if(typeof y=="function")try{y()}catch(S){_n(c,p,S)}finally{c.refCleanup=null,c=c.alternate,c!=null&&(c.refCleanup=null)}else if(typeof m=="function")try{m(null)}catch(S){_n(c,p,S)}else m.current=null}function qR(c){var p=c.type,m=c.memoizedProps,y=c.stateNode;try{e:switch(p){case"button":case"input":case"select":case"textarea":m.autoFocus&&y.focus();break e;case"img":m.src?y.src=m.src:m.srcSet&&(y.srcset=m.srcSet)}}catch(S){_n(c,c.return,S)}}function sv(c,p,m){try{var y=c.stateNode;UG(y,c.type,m,p),y[cn]=p}catch(S){_n(c,c.return,S)}}function WR(c){return c.tag===5||c.tag===3||c.tag===26||c.tag===27&&Ql(c.type)||c.tag===4}function iv(c){e:for(;;){for(;c.sibling===null;){if(c.return===null||WR(c.return))return null;c=c.return}for(c.sibling.return=c.return,c=c.sibling;c.tag!==5&&c.tag!==6&&c.tag!==18;){if(c.tag===27&&Ql(c.type)||c.flags&2||c.child===null||c.tag===4)continue e;c.child.return=c,c=c.child}if(!(c.flags&2))return c.stateNode}}function ov(c,p,m){var y=c.tag;if(y===5||y===6)c=c.stateNode,p?(m.nodeType===9?m.body:m.nodeName==="HTML"?m.ownerDocument.body:m).insertBefore(c,p):(p=m.nodeType===9?m.body:m.nodeName==="HTML"?m.ownerDocument.body:m,p.appendChild(c),m=m._reactRootContainer,m!=null||p.onclick!==null||(p.onclick=Xe));else if(y!==4&&(y===27&&Ql(c.type)&&(m=c.stateNode,p=null),c=c.child,c!==null))for(ov(c,p,m),c=c.sibling;c!==null;)ov(c,p,m),c=c.sibling}function $f(c,p,m){var y=c.tag;if(y===5||y===6)c=c.stateNode,p?m.insertBefore(c,p):m.appendChild(c);else if(y!==4&&(y===27&&Ql(c.type)&&(m=c.stateNode),c=c.child,c!==null))for($f(c,p,m),c=c.sibling;c!==null;)$f(c,p,m),c=c.sibling}function YR(c){var p=c.stateNode,m=c.memoizedProps;try{for(var y=c.type,S=p.attributes;S.length;)p.removeAttributeNode(S[0]);Ka(p,y,m),p[en]=c,p[cn]=m}catch(k){_n(c,c.return,k)}}var ll=!1,Sa=!1,lv=!1,VR=typeof WeakSet=="function"?WeakSet:Set,Ua=null;function xG(c,p){if(c=c.containerInfo,Nv=l0,c=xt(c),tn(c)){if("selectionStart"in c)var m={start:c.selectionStart,end:c.selectionEnd};else e:{m=(m=c.ownerDocument)&&m.defaultView||window;var y=m.getSelection&&m.getSelection();if(y&&y.rangeCount!==0){m=y.anchorNode;var S=y.anchorOffset,k=y.focusNode;y=y.focusOffset;try{m.nodeType,k.nodeType}catch{m=null;break e}var U=0,J=-1,xe=-1,Oe=0,Ye=0,rt=c,Pe=null;t:for(;;){for(var Ge;rt!==m||S!==0&&rt.nodeType!==3||(J=U+S),rt!==k||y!==0&&rt.nodeType!==3||(xe=U+y),rt.nodeType===3&&(U+=rt.nodeValue.length),(Ge=rt.firstChild)!==null;)Pe=rt,rt=Ge;for(;;){if(rt===c)break t;if(Pe===m&&++Oe===S&&(J=U),Pe===k&&++Ye===y&&(xe=U),(Ge=rt.nextSibling)!==null)break;rt=Pe,Pe=rt.parentNode}rt=Ge}m=J===-1||xe===-1?null:{start:J,end:xe}}else m=null}m=m||{start:0,end:0}}else m=null;for(Iv={focusedElem:c,selectionRange:m},l0=!1,Ua=p;Ua!==null;)if(p=Ua,c=p.child,(p.subtreeFlags&1028)!==0&&c!==null)c.return=p,Ua=c;else for(;Ua!==null;){switch(p=Ua,k=p.alternate,c=p.flags,p.tag){case 0:if((c&4)!==0&&(c=p.updateQueue,c=c!==null?c.events:null,c!==null))for(m=0;m<c.length;m++)S=c[m],S.ref.impl=S.nextImpl;break;case 11:case 15:break;case 1:if((c&1024)!==0&&k!==null){c=void 0,m=p,S=k.memoizedProps,k=k.memoizedState,y=m.stateNode;try{var Gt=Gc(m.type,S);c=y.getSnapshotBeforeUpdate(Gt,k),y.__reactInternalSnapshotBeforeUpdate=c}catch(br){_n(m,m.return,br)}}break;case 3:if((c&1024)!==0){if(c=p.stateNode.containerInfo,m=c.nodeType,m===9)Lv(c);else if(m===1)switch(c.nodeName){case"HEAD":case"HTML":case"BODY":Lv(c);break;default:c.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((c&1024)!==0)throw Error(n(163))}if(c=p.sibling,c!==null){c.return=p.return,Ua=c;break}Ua=p.return}}function KR(c,p,m){var y=m.flags;switch(m.tag){case 0:case 11:case 15:ul(c,m),y&4&&mh(5,m);break;case 1:if(ul(c,m),y&4)if(c=m.stateNode,p===null)try{c.componentDidMount()}catch(U){_n(m,m.return,U)}else{var S=Gc(m.type,p.memoizedProps);p=p.memoizedState;try{c.componentDidUpdate(S,p,c.__reactInternalSnapshotBeforeUpdate)}catch(U){_n(m,m.return,U)}}y&64&&zR(m),y&512&&fh(m,m.return);break;case 3:if(ul(c,m),y&64&&(c=m.updateQueue,c!==null)){if(p=null,m.child!==null)switch(m.child.tag){case 27:case 5:p=m.child.stateNode;break;case 1:p=m.child.stateNode}try{LI(c,p)}catch(U){_n(m,m.return,U)}}break;case 27:p===null&&y&4&&YR(m);case 26:case 5:ul(c,m),p===null&&y&4&&qR(m),y&512&&fh(m,m.return);break;case 12:ul(c,m);break;case 31:ul(c,m),y&4&&ZR(c,m);break;case 13:ul(c,m),y&4&&JR(c,m),y&64&&(c=m.memoizedState,c!==null&&(c=c.dehydrated,c!==null&&(m=AG.bind(null,m),VG(c,m))));break;case 22:if(y=m.memoizedState!==null||ll,!y){p=p!==null&&p.memoizedState!==null||Sa,S=ll;var k=Sa;ll=y,(Sa=p)&&!k?dl(c,m,(m.subtreeFlags&8772)!==0):ul(c,m),ll=S,Sa=k}break;case 30:break;default:ul(c,m)}}function QR(c){var p=c.alternate;p!==null&&(c.alternate=null,QR(p)),c.child=null,c.deletions=null,c.sibling=null,c.tag===5&&(p=c.stateNode,p!==null&&ve(p)),c.stateNode=null,c.return=null,c.dependencies=null,c.memoizedProps=null,c.memoizedState=null,c.pendingProps=null,c.stateNode=null,c.updateQueue=null}var Xn=null,Hs=!1;function cl(c,p,m){for(m=m.child;m!==null;)XR(c,p,m),m=m.sibling}function XR(c,p,m){if(Ct&&typeof Ct.onCommitFiberUnmount=="function")try{Ct.onCommitFiberUnmount(Ft,m)}catch{}switch(m.tag){case 26:Sa||Co(m,p),cl(c,p,m),m.memoizedState?m.memoizedState.count--:m.stateNode&&(m=m.stateNode,m.parentNode.removeChild(m));break;case 27:Sa||Co(m,p);var y=Xn,S=Hs;Ql(m.type)&&(Xn=m.stateNode,Hs=!1),cl(c,p,m),kh(m.stateNode),Xn=y,Hs=S;break;case 5:Sa||Co(m,p);case 6:if(y=Xn,S=Hs,Xn=null,cl(c,p,m),Xn=y,Hs=S,Xn!==null)if(Hs)try{(Xn.nodeType===9?Xn.body:Xn.nodeName==="HTML"?Xn.ownerDocument.body:Xn).removeChild(m.stateNode)}catch(k){_n(m,p,k)}else try{Xn.removeChild(m.stateNode)}catch(k){_n(m,p,k)}break;case 18:Xn!==null&&(Hs?(c=Xn,zD(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,m.stateNode),Sd(c)):zD(Xn,m.stateNode));break;case 4:y=Xn,S=Hs,Xn=m.stateNode.containerInfo,Hs=!0,cl(c,p,m),Xn=y,Hs=S;break;case 0:case 11:case 14:case 15:zl(2,m,p),Sa||zl(4,m,p),cl(c,p,m);break;case 1:Sa||(Co(m,p),y=m.stateNode,typeof y.componentWillUnmount=="function"&&GR(m,p,y)),cl(c,p,m);break;case 21:cl(c,p,m);break;case 22:Sa=(y=Sa)||m.memoizedState!==null,cl(c,p,m),Sa=y;break;default:cl(c,p,m)}}function ZR(c,p){if(p.memoizedState===null&&(c=p.alternate,c!==null&&(c=c.memoizedState,c!==null))){c=c.dehydrated;try{Sd(c)}catch(m){_n(p,p.return,m)}}}function JR(c,p){if(p.memoizedState===null&&(c=p.alternate,c!==null&&(c=c.memoizedState,c!==null&&(c=c.dehydrated,c!==null))))try{Sd(c)}catch(m){_n(p,p.return,m)}}function EG(c){switch(c.tag){case 31:case 13:case 19:var p=c.stateNode;return p===null&&(p=c.stateNode=new VR),p;case 22:return c=c.stateNode,p=c._retryCache,p===null&&(p=c._retryCache=new VR),p;default:throw Error(n(435,c.tag))}}function Hf(c,p){var m=EG(c);p.forEach(function(y){if(!m.has(y)){m.add(y);var S=NG.bind(null,c,y);y.then(S,S)}})}function zs(c,p){var m=p.deletions;if(m!==null)for(var y=0;y<m.length;y++){var S=m[y],k=c,U=p,J=U;e:for(;J!==null;){switch(J.tag){case 27:if(Ql(J.type)){Xn=J.stateNode,Hs=!1;break e}break;case 5:Xn=J.stateNode,Hs=!1;break e;case 3:case 4:Xn=J.stateNode.containerInfo,Hs=!0;break e}J=J.return}if(Xn===null)throw Error(n(160));XR(k,U,S),Xn=null,Hs=!1,k=S.alternate,k!==null&&(k.return=null),S.return=null}if(p.subtreeFlags&13886)for(p=p.child;p!==null;)eD(p,c),p=p.sibling}var to=null;function eD(c,p){var m=c.alternate,y=c.flags;switch(c.tag){case 0:case 11:case 14:case 15:zs(p,c),Gs(c),y&4&&(zl(3,c,c.return),mh(3,c),zl(5,c,c.return));break;case 1:zs(p,c),Gs(c),y&512&&(Sa||m===null||Co(m,m.return)),y&64&&ll&&(c=c.updateQueue,c!==null&&(y=c.callbacks,y!==null&&(m=c.shared.hiddenCallbacks,c.shared.hiddenCallbacks=m===null?y:m.concat(y))));break;case 26:var S=to;if(zs(p,c),Gs(c),y&512&&(Sa||m===null||Co(m,m.return)),y&4){var k=m!==null?m.memoizedState:null;if(y=c.memoizedState,m===null)if(y===null)if(c.stateNode===null){e:{y=c.type,m=c.memoizedProps,S=S.ownerDocument||S;t:switch(y){case"title":k=S.getElementsByTagName("title")[0],(!k||k[Pt]||k[en]||k.namespaceURI==="http://www.w3.org/2000/svg"||k.hasAttribute("itemprop"))&&(k=S.createElement(y),S.head.insertBefore(k,S.querySelector("head > title"))),Ka(k,y,m),k[en]=c,Sr(k),y=k;break e;case"link":var U=eL("link","href",S).get(y+(m.href||""));if(U){for(var J=0;J<U.length;J++)if(k=U[J],k.getAttribute("href")===(m.href==null||m.href===""?null:m.href)&&k.getAttribute("rel")===(m.rel==null?null:m.rel)&&k.getAttribute("title")===(m.title==null?null:m.title)&&k.getAttribute("crossorigin")===(m.crossOrigin==null?null:m.crossOrigin)){U.splice(J,1);break t}}k=S.createElement(y),Ka(k,y,m),S.head.appendChild(k);break;case"meta":if(U=eL("meta","content",S).get(y+(m.content||""))){for(J=0;J<U.length;J++)if(k=U[J],k.getAttribute("content")===(m.content==null?null:""+m.content)&&k.getAttribute("name")===(m.name==null?null:m.name)&&k.getAttribute("property")===(m.property==null?null:m.property)&&k.getAttribute("http-equiv")===(m.httpEquiv==null?null:m.httpEquiv)&&k.getAttribute("charset")===(m.charSet==null?null:m.charSet)){U.splice(J,1);break t}}k=S.createElement(y),Ka(k,y,m),S.head.appendChild(k);break;default:throw Error(n(468,y))}k[en]=c,Sr(k),y=k}c.stateNode=y}else tL(S,c.type,c.stateNode);else c.stateNode=JD(S,y,c.memoizedProps);else k!==y?(k===null?m.stateNode!==null&&(m=m.stateNode,m.parentNode.removeChild(m)):k.count--,y===null?tL(S,c.type,c.stateNode):JD(S,y,c.memoizedProps)):y===null&&c.stateNode!==null&&sv(c,c.memoizedProps,m.memoizedProps)}break;case 27:zs(p,c),Gs(c),y&512&&(Sa||m===null||Co(m,m.return)),m!==null&&y&4&&sv(c,c.memoizedProps,m.memoizedProps);break;case 5:if(zs(p,c),Gs(c),y&512&&(Sa||m===null||Co(m,m.return)),c.flags&32){S=c.stateNode;try{rr(S,"")}catch(Gt){_n(c,c.return,Gt)}}y&4&&c.stateNode!=null&&(S=c.memoizedProps,sv(c,S,m!==null?m.memoizedProps:S)),y&1024&&(lv=!0);break;case 6:if(zs(p,c),Gs(c),y&4){if(c.stateNode===null)throw Error(n(162));y=c.memoizedProps,m=c.stateNode;try{m.nodeValue=y}catch(Gt){_n(c,c.return,Gt)}}break;case 3:if(a0=null,S=to,to=r0(p.containerInfo),zs(p,c),to=S,Gs(c),y&4&&m!==null&&m.memoizedState.isDehydrated)try{Sd(p.containerInfo)}catch(Gt){_n(c,c.return,Gt)}lv&&(lv=!1,tD(c));break;case 4:y=to,to=r0(c.stateNode.containerInfo),zs(p,c),Gs(c),to=y;break;case 12:zs(p,c),Gs(c);break;case 31:zs(p,c),Gs(c),y&4&&(y=c.updateQueue,y!==null&&(c.updateQueue=null,Hf(c,y)));break;case 13:zs(p,c),Gs(c),c.child.flags&8192&&c.memoizedState!==null!=(m!==null&&m.memoizedState!==null)&&(Gf=dr()),y&4&&(y=c.updateQueue,y!==null&&(c.updateQueue=null,Hf(c,y)));break;case 22:S=c.memoizedState!==null;var xe=m!==null&&m.memoizedState!==null,Oe=ll,Ye=Sa;if(ll=Oe||S,Sa=Ye||xe,zs(p,c),Sa=Ye,ll=Oe,Gs(c),y&8192)e:for(p=c.stateNode,p._visibility=S?p._visibility&-2:p._visibility|1,S&&(m===null||xe||ll||Sa||qc(c)),m=null,p=c;;){if(p.tag===5||p.tag===26){if(m===null){xe=m=p;try{if(k=xe.stateNode,S)U=k.style,typeof U.setProperty=="function"?U.setProperty("display","none","important"):U.display="none";else{J=xe.stateNode;var rt=xe.memoizedProps.style,Pe=rt!=null&&rt.hasOwnProperty("display")?rt.display:null;J.style.display=Pe==null||typeof Pe=="boolean"?"":(""+Pe).trim()}}catch(Gt){_n(xe,xe.return,Gt)}}}else if(p.tag===6){if(m===null){xe=p;try{xe.stateNode.nodeValue=S?"":xe.memoizedProps}catch(Gt){_n(xe,xe.return,Gt)}}}else if(p.tag===18){if(m===null){xe=p;try{var Ge=xe.stateNode;S?GD(Ge,!0):GD(xe.stateNode,!1)}catch(Gt){_n(xe,xe.return,Gt)}}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===c)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===c)break e;for(;p.sibling===null;){if(p.return===null||p.return===c)break e;m===p&&(m=null),p=p.return}m===p&&(m=null),p.sibling.return=p.return,p=p.sibling}y&4&&(y=c.updateQueue,y!==null&&(m=y.retryQueue,m!==null&&(y.retryQueue=null,Hf(c,m))));break;case 19:zs(p,c),Gs(c),y&4&&(y=c.updateQueue,y!==null&&(c.updateQueue=null,Hf(c,y)));break;case 30:break;case 21:break;default:zs(p,c),Gs(c)}}function Gs(c){var p=c.flags;if(p&2){try{for(var m,y=c.return;y!==null;){if(WR(y)){m=y;break}y=y.return}if(m==null)throw Error(n(160));switch(m.tag){case 27:var S=m.stateNode,k=iv(c);$f(c,k,S);break;case 5:var U=m.stateNode;m.flags&32&&(rr(U,""),m.flags&=-33);var J=iv(c);$f(c,J,U);break;case 3:case 4:var xe=m.stateNode.containerInfo,Oe=iv(c);ov(c,Oe,xe);break;default:throw Error(n(161))}}catch(Ye){_n(c,c.return,Ye)}c.flags&=-3}p&4096&&(c.flags&=-4097)}function tD(c){if(c.subtreeFlags&1024)for(c=c.child;c!==null;){var p=c;tD(p),p.tag===5&&p.flags&1024&&p.stateNode.reset(),c=c.sibling}}function ul(c,p){if(p.subtreeFlags&8772)for(p=p.child;p!==null;)KR(c,p.alternate,p),p=p.sibling}function qc(c){for(c=c.child;c!==null;){var p=c;switch(p.tag){case 0:case 11:case 14:case 15:zl(4,p,p.return),qc(p);break;case 1:Co(p,p.return);var m=p.stateNode;typeof m.componentWillUnmount=="function"&&GR(p,p.return,m),qc(p);break;case 27:kh(p.stateNode);case 26:case 5:Co(p,p.return),qc(p);break;case 22:p.memoizedState===null&&qc(p);break;case 30:qc(p);break;default:qc(p)}c=c.sibling}}function dl(c,p,m){for(m=m&&(p.subtreeFlags&8772)!==0,p=p.child;p!==null;){var y=p.alternate,S=c,k=p,U=k.flags;switch(k.tag){case 0:case 11:case 15:dl(S,k,m),mh(4,k);break;case 1:if(dl(S,k,m),y=k,S=y.stateNode,typeof S.componentDidMount=="function")try{S.componentDidMount()}catch(Oe){_n(y,y.return,Oe)}if(y=k,S=y.updateQueue,S!==null){var J=y.stateNode;try{var xe=S.shared.hiddenCallbacks;if(xe!==null)for(S.shared.hiddenCallbacks=null,S=0;S<xe.length;S++)DI(xe[S],J)}catch(Oe){_n(y,y.return,Oe)}}m&&U&64&&zR(k),fh(k,k.return);break;case 27:YR(k);case 26:case 5:dl(S,k,m),m&&y===null&&U&4&&qR(k),fh(k,k.return);break;case 12:dl(S,k,m);break;case 31:dl(S,k,m),m&&U&4&&ZR(S,k);break;case 13:dl(S,k,m),m&&U&4&&JR(S,k);break;case 22:k.memoizedState===null&&dl(S,k,m),fh(k,k.return);break;case 30:break;default:dl(S,k,m)}p=p.sibling}}function cv(c,p){var m=null;c!==null&&c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(m=c.memoizedState.cachePool.pool),c=null,p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(c=p.memoizedState.cachePool.pool),c!==m&&(c!=null&&c.refCount++,m!=null&&rh(m))}function uv(c,p){c=null,p.alternate!==null&&(c=p.alternate.memoizedState.cache),p=p.memoizedState.cache,p!==c&&(p.refCount++,c!=null&&rh(c))}function ro(c,p,m,y){if(p.subtreeFlags&10256)for(p=p.child;p!==null;)rD(c,p,m,y),p=p.sibling}function rD(c,p,m,y){var S=p.flags;switch(p.tag){case 0:case 11:case 15:ro(c,p,m,y),S&2048&&mh(9,p);break;case 1:ro(c,p,m,y);break;case 3:ro(c,p,m,y),S&2048&&(c=null,p.alternate!==null&&(c=p.alternate.memoizedState.cache),p=p.memoizedState.cache,p!==c&&(p.refCount++,c!=null&&rh(c)));break;case 12:if(S&2048){ro(c,p,m,y),c=p.stateNode;try{var k=p.memoizedProps,U=k.id,J=k.onPostCommit;typeof J=="function"&&J(U,p.alternate===null?"mount":"update",c.passiveEffectDuration,-0)}catch(xe){_n(p,p.return,xe)}}else ro(c,p,m,y);break;case 31:ro(c,p,m,y);break;case 13:ro(c,p,m,y);break;case 23:break;case 22:k=p.stateNode,U=p.alternate,p.memoizedState!==null?k._visibility&2?ro(c,p,m,y):bh(c,p):k._visibility&2?ro(c,p,m,y):(k._visibility|=2,dd(c,p,m,y,(p.subtreeFlags&10256)!==0||!1)),S&2048&&cv(U,p);break;case 24:ro(c,p,m,y),S&2048&&uv(p.alternate,p);break;default:ro(c,p,m,y)}}function dd(c,p,m,y,S){for(S=S&&((p.subtreeFlags&10256)!==0||!1),p=p.child;p!==null;){var k=c,U=p,J=m,xe=y,Oe=U.flags;switch(U.tag){case 0:case 11:case 15:dd(k,U,J,xe,S),mh(8,U);break;case 23:break;case 22:var Ye=U.stateNode;U.memoizedState!==null?Ye._visibility&2?dd(k,U,J,xe,S):bh(k,U):(Ye._visibility|=2,dd(k,U,J,xe,S)),S&&Oe&2048&&cv(U.alternate,U);break;case 24:dd(k,U,J,xe,S),S&&Oe&2048&&uv(U.alternate,U);break;default:dd(k,U,J,xe,S)}p=p.sibling}}function bh(c,p){if(p.subtreeFlags&10256)for(p=p.child;p!==null;){var m=c,y=p,S=y.flags;switch(y.tag){case 22:bh(m,y),S&2048&&cv(y.alternate,y);break;case 24:bh(m,y),S&2048&&uv(y.alternate,y);break;default:bh(m,y)}p=p.sibling}}var yh=8192;function pd(c,p,m){if(c.subtreeFlags&yh)for(c=c.child;c!==null;)nD(c,p,m),c=c.sibling}function nD(c,p,m){switch(c.tag){case 26:pd(c,p,m),c.flags&yh&&c.memoizedState!==null&&iq(m,to,c.memoizedState,c.memoizedProps);break;case 5:pd(c,p,m);break;case 3:case 4:var y=to;to=r0(c.stateNode.containerInfo),pd(c,p,m),to=y;break;case 22:c.memoizedState===null&&(y=c.alternate,y!==null&&y.memoizedState!==null?(y=yh,yh=16777216,pd(c,p,m),yh=y):pd(c,p,m));break;default:pd(c,p,m)}}function aD(c){var p=c.alternate;if(p!==null&&(c=p.child,c!==null)){p.child=null;do p=c.sibling,c.sibling=null,c=p;while(c!==null)}}function xh(c){var p=c.deletions;if((c.flags&16)!==0){if(p!==null)for(var m=0;m<p.length;m++){var y=p[m];Ua=y,iD(y,c)}aD(c)}if(c.subtreeFlags&10256)for(c=c.child;c!==null;)sD(c),c=c.sibling}function sD(c){switch(c.tag){case 0:case 11:case 15:xh(c),c.flags&2048&&zl(9,c,c.return);break;case 3:xh(c);break;case 12:xh(c);break;case 22:var p=c.stateNode;c.memoizedState!==null&&p._visibility&2&&(c.return===null||c.return.tag!==13)?(p._visibility&=-3,zf(c)):xh(c);break;default:xh(c)}}function zf(c){var p=c.deletions;if((c.flags&16)!==0){if(p!==null)for(var m=0;m<p.length;m++){var y=p[m];Ua=y,iD(y,c)}aD(c)}for(c=c.child;c!==null;){switch(p=c,p.tag){case 0:case 11:case 15:zl(8,p,p.return),zf(p);break;case 22:m=p.stateNode,m._visibility&2&&(m._visibility&=-3,zf(p));break;default:zf(p)}c=c.sibling}}function iD(c,p){for(;Ua!==null;){var m=Ua;switch(m.tag){case 0:case 11:case 15:zl(8,m,p);break;case 23:case 22:if(m.memoizedState!==null&&m.memoizedState.cachePool!==null){var y=m.memoizedState.cachePool.pool;y!=null&&y.refCount++}break;case 24:rh(m.memoizedState.cache)}if(y=m.child,y!==null)y.return=m,Ua=y;else e:for(m=c;Ua!==null;){y=Ua;var S=y.sibling,k=y.return;if(QR(y),y===m){Ua=null;break e}if(S!==null){S.return=k,Ua=S;break e}Ua=k}}}var vG={getCacheForType:function(c){var p=Ya(xa),m=p.data.get(c);return m===void 0&&(m=c(),p.data.set(c,m)),m},cacheSignal:function(){return Ya(xa).controller.signal}},SG=typeof WeakMap=="function"?WeakMap:Map,bn=0,jn=null,Hr=null,Zr=0,Cn=0,di=null,Gl=!1,hd=!1,dv=!1,pl=0,la=0,ql=0,Wc=0,pv=0,pi=0,gd=0,Eh=null,qs=null,hv=!1,Gf=0,oD=0,qf=1/0,Wf=null,Wl=null,Ra=0,Yl=null,md=null,hl=0,gv=0,mv=null,lD=null,vh=0,fv=null;function hi(){return(bn&2)!==0&&Zr!==0?Zr&-Zr:$.T!==null?Sv():xs()}function cD(){if(pi===0)if((Zr&536870912)===0||rn){var c=nn;nn<<=1,(nn&3932160)===0&&(nn=262144),pi=c}else pi=536870912;return c=ci.current,c!==null&&(c.flags|=32),pi}function Ws(c,p,m){(c===jn&&(Cn===2||Cn===9)||c.cancelPendingCommit!==null)&&(fd(c,0),Vl(c,Zr,pi,!1)),Ur(c,m),((bn&2)===0||c!==jn)&&(c===jn&&((bn&2)===0&&(Wc|=m),la===4&&Vl(c,Zr,pi,!1)),_o(c))}function uD(c,p,m){if((bn&6)!==0)throw Error(n(327));var y=!m&&(p&127)===0&&(p&c.expiredLanes)===0||Ue(c,p),S=y?kG(c,p):yv(c,p,!0),k=y;do{if(S===0){hd&&!y&&Vl(c,p,0,!1);break}else{if(m=c.current.alternate,k&&!TG(m)){S=yv(c,p,!1),k=!1;continue}if(S===2){if(k=p,c.errorRecoveryDisabledLanes&k)var U=0;else U=c.pendingLanes&-536870913,U=U!==0?U:U&536870912?536870912:0;if(U!==0){p=U;e:{var J=c;S=Eh;var xe=J.current.memoizedState.isDehydrated;if(xe&&(fd(J,U).flags|=256),U=yv(J,U,!1),U!==2){if(dv&&!xe){J.errorRecoveryDisabledLanes|=k,Wc|=k,S=4;break e}k=qs,qs=S,k!==null&&(qs===null?qs=k:qs.push.apply(qs,k))}S=U}if(k=!1,S!==2)continue}}if(S===1){fd(c,0),Vl(c,p,0,!0);break}e:{switch(y=c,k=S,k){case 0:case 1:throw Error(n(345));case 4:if((p&4194048)!==p)break;case 6:Vl(y,p,pi,!Gl);break e;case 2:qs=null;break;case 3:case 5:break;default:throw Error(n(329))}if((p&62914560)===p&&(S=Gf+300-dr(),10<S)){if(Vl(y,p,pi,!Gl),be(y,0,!0)!==0)break e;hl=p,y.timeoutHandle=$D(dD.bind(null,y,m,qs,Wf,hv,p,pi,Wc,gd,Gl,k,"Throttled",-0,0),S);break e}dD(y,m,qs,Wf,hv,p,pi,Wc,gd,Gl,k,null,-0,0)}}break}while(!0);_o(c)}function dD(c,p,m,y,S,k,U,J,xe,Oe,Ye,rt,Pe,Ge){if(c.timeoutHandle=-1,rt=p.subtreeFlags,rt&8192||(rt&16785408)===16785408){rt={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Xe},nD(p,k,rt);var Gt=(k&62914560)===k?Gf-dr():(k&4194048)===k?oD-dr():0;if(Gt=oq(rt,Gt),Gt!==null){hl=k,c.cancelPendingCommit=Gt(xD.bind(null,c,p,k,m,y,S,U,J,xe,Ye,rt,null,Pe,Ge)),Vl(c,k,U,!Oe);return}}xD(c,p,k,m,y,S,U,J,xe)}function TG(c){for(var p=c;;){var m=p.tag;if((m===0||m===11||m===15)&&p.flags&16384&&(m=p.updateQueue,m!==null&&(m=m.stores,m!==null)))for(var y=0;y<m.length;y++){var S=m[y],k=S.getSnapshot;S=S.value;try{if(!at(k(),S))return!1}catch{return!1}}if(m=p.child,p.subtreeFlags&16384&&m!==null)m.return=p,p=m;else{if(p===c)break;for(;p.sibling===null;){if(p.return===null||p.return===c)return!0;p=p.return}p.sibling.return=p.return,p=p.sibling}}return!0}function Vl(c,p,m,y){p&=~pv,p&=~Wc,c.suspendedLanes|=p,c.pingedLanes&=~p,y&&(c.warmLanes|=p),y=c.expirationTimes;for(var S=p;0<S;){var k=31-it(S),U=1<<k;y[k]=-1,S&=~U}m!==0&&At(c,m,p)}function Yf(){return(bn&6)===0?(Sh(0),!1):!0}function bv(){if(Hr!==null){if(Cn===0)var c=Hr.return;else c=Hr,rl=jc=null,LE(c),id=null,ah=0,c=Hr;for(;c!==null;)HR(c.alternate,c),c=c.return;Hr=null}}function fd(c,p){var m=c.timeoutHandle;m!==-1&&(c.timeoutHandle=-1,zG(m)),m=c.cancelPendingCommit,m!==null&&(c.cancelPendingCommit=null,m()),hl=0,bv(),jn=c,Hr=m=el(c.current,null),Zr=p,Cn=0,di=null,Gl=!1,hd=Ue(c,p),dv=!1,gd=pi=pv=Wc=ql=la=0,qs=Eh=null,hv=!1,(p&8)!==0&&(p|=p&32);var y=c.entangledLanes;if(y!==0)for(c=c.entanglements,y&=p;0<y;){var S=31-it(y),k=1<<S;p|=c[S],y&=~k}return pl=p,gf(),m}function pD(c,p){Dr=null,$.H=ph,p===sd||p===Sf?(p=AI(),Cn=3):p===vE?(p=AI(),Cn=4):Cn=p===KE?8:p!==null&&typeof p=="object"&&typeof p.then=="function"?6:1,di=p,Hr===null&&(la=1,Pf(c,Ci(p,c.current)))}function hD(){var c=ci.current;return c===null?!0:(Zr&4194048)===Zr?Ii===null:(Zr&62914560)===Zr||(Zr&536870912)!==0?c===Ii:!1}function gD(){var c=$.H;return $.H=ph,c===null?ph:c}function mD(){var c=$.A;return $.A=vG,c}function Vf(){la=4,Gl||(Zr&4194048)!==Zr&&ci.current!==null||(hd=!0),(ql&134217727)===0&&(Wc&134217727)===0||jn===null||Vl(jn,Zr,pi,!1)}function yv(c,p,m){var y=bn;bn|=2;var S=gD(),k=mD();(jn!==c||Zr!==p)&&(Wf=null,fd(c,p)),p=!1;var U=la;e:do try{if(Cn!==0&&Hr!==null){var J=Hr,xe=di;switch(Cn){case 8:bv(),U=6;break e;case 3:case 2:case 9:case 6:ci.current===null&&(p=!0);var Oe=Cn;if(Cn=0,di=null,bd(c,J,xe,Oe),m&&hd){U=0;break e}break;default:Oe=Cn,Cn=0,di=null,bd(c,J,xe,Oe)}}wG(),U=la;break}catch(Ye){pD(c,Ye)}while(!0);return p&&c.shellSuspendCounter++,rl=jc=null,bn=y,$.H=S,$.A=k,Hr===null&&(jn=null,Zr=0,gf()),U}function wG(){for(;Hr!==null;)fD(Hr)}function kG(c,p){var m=bn;bn|=2;var y=gD(),S=mD();jn!==c||Zr!==p?(Wf=null,qf=dr()+500,fd(c,p)):hd=Ue(c,p);e:do try{if(Cn!==0&&Hr!==null){p=Hr;var k=di;t:switch(Cn){case 1:Cn=0,di=null,bd(c,p,k,1);break;case 2:case 9:if(CI(k)){Cn=0,di=null,bD(p);break}p=function(){Cn!==2&&Cn!==9||jn!==c||(Cn=7),_o(c)},k.then(p,p);break e;case 3:Cn=7;break e;case 4:Cn=5;break e;case 7:CI(k)?(Cn=0,di=null,bD(p)):(Cn=0,di=null,bd(c,p,k,7));break;case 5:var U=null;switch(Hr.tag){case 26:U=Hr.memoizedState;case 5:case 27:var J=Hr;if(U?rL(U):J.stateNode.complete){Cn=0,di=null;var xe=J.sibling;if(xe!==null)Hr=xe;else{var Oe=J.return;Oe!==null?(Hr=Oe,Kf(Oe)):Hr=null}break t}}Cn=0,di=null,bd(c,p,k,5);break;case 6:Cn=0,di=null,bd(c,p,k,6);break;case 8:bv(),la=6;break e;default:throw Error(n(462))}}CG();break}catch(Ye){pD(c,Ye)}while(!0);return rl=jc=null,$.H=y,$.A=S,bn=m,Hr!==null?0:(jn=null,Zr=0,gf(),la)}function CG(){for(;Hr!==null&&!ar();)fD(Hr)}function fD(c){var p=UR(c.alternate,c,pl);c.memoizedProps=c.pendingProps,p===null?Kf(c):Hr=p}function bD(c){var p=c,m=p.alternate;switch(p.tag){case 15:case 0:p=OR(m,p,p.pendingProps,p.type,void 0,Zr);break;case 11:p=OR(m,p,p.pendingProps,p.type.render,p.ref,Zr);break;case 5:LE(p);default:HR(m,p),p=Hr=mI(p,pl),p=UR(m,p,pl)}c.memoizedProps=c.pendingProps,p===null?Kf(c):Hr=p}function bd(c,p,m,y){rl=jc=null,LE(p),id=null,ah=0;var S=p.return;try{if(gG(c,S,p,m,Zr)){la=1,Pf(c,Ci(m,c.current)),Hr=null;return}}catch(k){if(S!==null)throw Hr=S,k;la=1,Pf(c,Ci(m,c.current)),Hr=null;return}p.flags&32768?(rn||y===1?c=!0:hd||(Zr&536870912)!==0?c=!1:(Gl=c=!0,(y===2||y===9||y===3||y===6)&&(y=ci.current,y!==null&&y.tag===13&&(y.flags|=16384))),yD(p,c)):Kf(p)}function Kf(c){var p=c;do{if((p.flags&32768)!==0){yD(p,Gl);return}c=p.return;var m=bG(p.alternate,p,pl);if(m!==null){Hr=m;return}if(p=p.sibling,p!==null){Hr=p;return}Hr=p=c}while(p!==null);la===0&&(la=5)}function yD(c,p){do{var m=yG(c.alternate,c);if(m!==null){m.flags&=32767,Hr=m;return}if(m=c.return,m!==null&&(m.flags|=32768,m.subtreeFlags=0,m.deletions=null),!p&&(c=c.sibling,c!==null)){Hr=c;return}Hr=c=m}while(c!==null);la=6,Hr=null}function xD(c,p,m,y,S,k,U,J,xe){c.cancelPendingCommit=null;do Qf();while(Ra!==0);if((bn&6)!==0)throw Error(n(327));if(p!==null){if(p===c.current)throw Error(n(177));if(k=p.lanes|p.childLanes,k|=iE,It(c,m,k,U,J,xe),c===jn&&(Hr=jn=null,Zr=0),md=p,Yl=c,hl=m,gv=k,mv=S,lD=y,(p.subtreeFlags&10256)!==0||(p.flags&10256)!==0?(c.callbackNode=null,c.callbackPriority=0,IG(Ce,function(){return wD(),null})):(c.callbackNode=null,c.callbackPriority=0),y=(p.flags&13878)!==0,(p.subtreeFlags&13878)!==0||y){y=$.T,$.T=null,S=Y.p,Y.p=2,U=bn,bn|=4;try{xG(c,p,m)}finally{bn=U,Y.p=S,$.T=y}}Ra=1,ED(),vD(),SD()}}function ED(){if(Ra===1){Ra=0;var c=Yl,p=md,m=(p.flags&13878)!==0;if((p.subtreeFlags&13878)!==0||m){m=$.T,$.T=null;var y=Y.p;Y.p=2;var S=bn;bn|=4;try{eD(p,c);var k=Iv,U=xt(c.containerInfo),J=k.focusedElem,xe=k.selectionRange;if(U!==J&&J&&J.ownerDocument&&sr(J.ownerDocument.documentElement,J)){if(xe!==null&&tn(J)){var Oe=xe.start,Ye=xe.end;if(Ye===void 0&&(Ye=Oe),"selectionStart"in J)J.selectionStart=Oe,J.selectionEnd=Math.min(Ye,J.value.length);else{var rt=J.ownerDocument||document,Pe=rt&&rt.defaultView||window;if(Pe.getSelection){var Ge=Pe.getSelection(),Gt=J.textContent.length,br=Math.min(xe.start,Gt),Dn=xe.end===void 0?br:Math.min(xe.end,Gt);!Ge.extend&&br>Dn&&(U=Dn,Dn=br,br=U);var _e=nr(J,br),Te=nr(J,Dn);if(_e&&Te&&(Ge.rangeCount!==1||Ge.anchorNode!==_e.node||Ge.anchorOffset!==_e.offset||Ge.focusNode!==Te.node||Ge.focusOffset!==Te.offset)){var Le=rt.createRange();Le.setStart(_e.node,_e.offset),Ge.removeAllRanges(),br>Dn?(Ge.addRange(Le),Ge.extend(Te.node,Te.offset)):(Le.setEnd(Te.node,Te.offset),Ge.addRange(Le))}}}}for(rt=[],Ge=J;Ge=Ge.parentNode;)Ge.nodeType===1&&rt.push({element:Ge,left:Ge.scrollLeft,top:Ge.scrollTop});for(typeof J.focus=="function"&&J.focus(),J=0;J<rt.length;J++){var Ze=rt[J];Ze.element.scrollLeft=Ze.left,Ze.element.scrollTop=Ze.top}}l0=!!Nv,Iv=Nv=null}finally{bn=S,Y.p=y,$.T=m}}c.current=p,Ra=2}}function vD(){if(Ra===2){Ra=0;var c=Yl,p=md,m=(p.flags&8772)!==0;if((p.subtreeFlags&8772)!==0||m){m=$.T,$.T=null;var y=Y.p;Y.p=2;var S=bn;bn|=4;try{KR(c,p.alternate,p)}finally{bn=S,Y.p=y,$.T=m}}Ra=3}}function SD(){if(Ra===4||Ra===3){Ra=0,kr();var c=Yl,p=md,m=hl,y=lD;(p.subtreeFlags&10256)!==0||(p.flags&10256)!==0?Ra=5:(Ra=0,md=Yl=null,TD(c,c.pendingLanes));var S=c.pendingLanes;if(S===0&&(Wl=null),Gn(m),p=p.stateNode,Ct&&typeof Ct.onCommitFiberRoot=="function")try{Ct.onCommitFiberRoot(Ft,p,void 0,(p.current.flags&128)===128)}catch{}if(y!==null){p=$.T,S=Y.p,Y.p=2,$.T=null;try{for(var k=c.onRecoverableError,U=0;U<y.length;U++){var J=y[U];k(J.value,{componentStack:J.stack})}}finally{$.T=p,Y.p=S}}(hl&3)!==0&&Qf(),_o(c),S=c.pendingLanes,(m&261930)!==0&&(S&42)!==0?c===fv?vh++:(vh=0,fv=c):vh=0,Sh(0)}}function TD(c,p){(c.pooledCacheLanes&=p)===0&&(p=c.pooledCache,p!=null&&(c.pooledCache=null,rh(p)))}function Qf(){return ED(),vD(),SD(),wD()}function wD(){if(Ra!==5)return!1;var c=Yl,p=gv;gv=0;var m=Gn(hl),y=$.T,S=Y.p;try{Y.p=32>m?32:m,$.T=null,m=mv,mv=null;var k=Yl,U=hl;if(Ra=0,md=Yl=null,hl=0,(bn&6)!==0)throw Error(n(331));var J=bn;if(bn|=4,sD(k.current),rD(k,k.current,U,m),bn=J,Sh(0,!1),Ct&&typeof Ct.onPostCommitFiberRoot=="function")try{Ct.onPostCommitFiberRoot(Ft,k)}catch{}return!0}finally{Y.p=S,$.T=y,TD(c,p)}}function kD(c,p,m){p=Ci(m,p),p=VE(c.stateNode,p,2),c=Ul(c,p,2),c!==null&&(Ur(c,2),_o(c))}function _n(c,p,m){if(c.tag===3)kD(c,c,m);else for(;p!==null;){if(p.tag===3){kD(p,c,m);break}else if(p.tag===1){var y=p.stateNode;if(typeof p.type.getDerivedStateFromError=="function"||typeof y.componentDidCatch=="function"&&(Wl===null||!Wl.has(y))){c=Ci(m,c),m=CR(2),y=Ul(p,m,2),y!==null&&(_R(m,y,p,c),Ur(y,2),_o(y));break}}p=p.return}}function xv(c,p,m){var y=c.pingCache;if(y===null){y=c.pingCache=new SG;var S=new Set;y.set(p,S)}else S=y.get(p),S===void 0&&(S=new Set,y.set(p,S));S.has(m)||(dv=!0,S.add(m),c=_G.bind(null,c,p,m),p.then(c,c))}function _G(c,p,m){var y=c.pingCache;y!==null&&y.delete(p),c.pingedLanes|=c.suspendedLanes&m,c.warmLanes&=~m,jn===c&&(Zr&m)===m&&(la===4||la===3&&(Zr&62914560)===Zr&&300>dr()-Gf?(bn&2)===0&&fd(c,0):pv|=m,gd===Zr&&(gd=0)),_o(c)}function CD(c,p){p===0&&(p=Ht()),c=Oc(c,p),c!==null&&(Ur(c,p),_o(c))}function AG(c){var p=c.memoizedState,m=0;p!==null&&(m=p.retryLane),CD(c,m)}function NG(c,p){var m=0;switch(c.tag){case 31:case 13:var y=c.stateNode,S=c.memoizedState;S!==null&&(m=S.retryLane);break;case 19:y=c.stateNode;break;case 22:y=c.stateNode._retryCache;break;default:throw Error(n(314))}y!==null&&y.delete(p),CD(c,m)}function IG(c,p){return mt(c,p)}var Xf=null,yd=null,Ev=!1,Zf=!1,vv=!1,Kl=0;function _o(c){c!==yd&&c.next===null&&(yd===null?Xf=yd=c:yd=yd.next=c),Zf=!0,Ev||(Ev=!0,DG())}function Sh(c,p){if(!vv&&Zf){vv=!0;do for(var m=!1,y=Xf;y!==null;){if(c!==0){var S=y.pendingLanes;if(S===0)var k=0;else{var U=y.suspendedLanes,J=y.pingedLanes;k=(1<<31-it(42|c)+1)-1,k&=S&~(U&~J),k=k&201326741?k&201326741|1:k?k|2:0}k!==0&&(m=!0,ID(y,k))}else k=Zr,k=be(y,y===jn?k:0,y.cancelPendingCommit!==null||y.timeoutHandle!==-1),(k&3)===0||Ue(y,k)||(m=!0,ID(y,k));y=y.next}while(m);vv=!1}}function RG(){_D()}function _D(){Zf=Ev=!1;var c=0;Kl!==0&&HG()&&(c=Kl);for(var p=dr(),m=null,y=Xf;y!==null;){var S=y.next,k=AD(y,p);k===0?(y.next=null,m===null?Xf=S:m.next=S,S===null&&(yd=m)):(m=y,(c!==0||(k&3)!==0)&&(Zf=!0)),y=S}Ra!==0&&Ra!==5||Sh(c),Kl!==0&&(Kl=0)}function AD(c,p){for(var m=c.suspendedLanes,y=c.pingedLanes,S=c.expirationTimes,k=c.pendingLanes&-62914561;0<k;){var U=31-it(k),J=1<<U,xe=S[U];xe===-1?((J&m)===0||(J&y)!==0)&&(S[U]=et(J,p)):xe<=p&&(c.expiredLanes|=J),k&=~J}if(p=jn,m=Zr,m=be(c,c===p?m:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),y=c.callbackNode,m===0||c===p&&(Cn===2||Cn===9)||c.cancelPendingCommit!==null)return y!==null&&y!==null&&zt(y),c.callbackNode=null,c.callbackPriority=0;if((m&3)===0||Ue(c,m)){if(p=m&-m,p===c.callbackPriority)return p;switch(y!==null&&zt(y),Gn(m)){case 2:case 8:m=se;break;case 32:m=Ce;break;case 268435456:m=dt;break;default:m=Ce}return y=ND.bind(null,c),m=mt(m,y),c.callbackPriority=p,c.callbackNode=m,p}return y!==null&&y!==null&&zt(y),c.callbackPriority=2,c.callbackNode=null,2}function ND(c,p){if(Ra!==0&&Ra!==5)return c.callbackNode=null,c.callbackPriority=0,null;var m=c.callbackNode;if(Qf()&&c.callbackNode!==m)return null;var y=Zr;return y=be(c,c===jn?y:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),y===0?null:(uD(c,y,p),AD(c,dr()),c.callbackNode!=null&&c.callbackNode===m?ND.bind(null,c):null)}function ID(c,p){if(Qf())return null;uD(c,p,!0)}function DG(){GG(function(){(bn&6)!==0?mt(le,RG):_D()})}function Sv(){if(Kl===0){var c=nd;c===0&&(c=Mt,Mt<<=1,(Mt&261888)===0&&(Mt=256)),Kl=c}return Kl}function RD(c){return c==null||typeof c=="symbol"||typeof c=="boolean"?null:typeof c=="function"?c:un(""+c)}function DD(c,p){var m=p.ownerDocument.createElement("input");return m.name=p.name,m.value=p.value,c.id&&m.setAttribute("form",c.id),p.parentNode.insertBefore(m,p),c=new FormData(c),m.parentNode.removeChild(m),c}function LG(c,p,m,y,S){if(p==="submit"&&m&&m.stateNode===S){var k=RD((S[cn]||null).action),U=y.submitter;U&&(p=(p=U[cn]||null)?RD(p.formAction):U.getAttribute("formAction"),p!==null&&(k=p,U=null));var J=new Wu("action","action",null,y,S);c.push({event:J,listeners:[{instance:null,listener:function(){if(y.defaultPrevented){if(Kl!==0){var xe=U?DD(S,U):new FormData(S);HE(m,{pending:!0,data:xe,method:S.method,action:k},null,xe)}}else typeof k=="function"&&(J.preventDefault(),xe=U?DD(S,U):new FormData(S),HE(m,{pending:!0,data:xe,method:S.method,action:k},k,xe))},currentTarget:S}]})}}for(var Tv=0;Tv<sE.length;Tv++){var wv=sE[Tv],OG=wv.toLowerCase(),MG=wv[0].toUpperCase()+wv.slice(1);eo(OG,"on"+MG)}eo(cI,"onAnimationEnd"),eo(uI,"onAnimationIteration"),eo(dI,"onAnimationStart"),eo("dblclick","onDoubleClick"),eo("focusin","onFocus"),eo("focusout","onBlur"),eo(Xz,"onTransitionRun"),eo(Zz,"onTransitionStart"),eo(Jz,"onTransitionCancel"),eo(pI,"onTransitionEnd"),ct("onMouseEnter",["mouseout","mouseover"]),ct("onMouseLeave",["mouseout","mouseover"]),ct("onPointerEnter",["pointerout","pointerover"]),ct("onPointerLeave",["pointerout","pointerover"]),wn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),wn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),wn("onBeforeInput",["compositionend","keypress","textInput","paste"]),wn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),wn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),wn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Th="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),PG=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Th));function LD(c,p){p=(p&4)!==0;for(var m=0;m<c.length;m++){var y=c[m],S=y.event;y=y.listeners;e:{var k=void 0;if(p)for(var U=y.length-1;0<=U;U--){var J=y[U],xe=J.instance,Oe=J.currentTarget;if(J=J.listener,xe!==k&&S.isPropagationStopped())break e;k=J,S.currentTarget=Oe;try{k(S)}catch(Ye){hf(Ye)}S.currentTarget=null,k=xe}else for(U=0;U<y.length;U++){if(J=y[U],xe=J.instance,Oe=J.currentTarget,J=J.listener,xe!==k&&S.isPropagationStopped())break e;k=J,S.currentTarget=Oe;try{k(S)}catch(Ye){hf(Ye)}S.currentTarget=null,k=xe}}}}function zr(c,p){var m=p[ba];m===void 0&&(m=p[ba]=new Set);var y=c+"__bubble";m.has(y)||(OD(p,c,2,!1),m.add(y))}function kv(c,p,m){var y=0;p&&(y|=4),OD(m,c,y,p)}var Jf="_reactListening"+Math.random().toString(36).slice(2);function Cv(c){if(!c[Jf]){c[Jf]=!0,ra.forEach(function(m){m!=="selectionchange"&&(PG.has(m)||kv(m,!1,c),kv(m,!0,c))});var p=c.nodeType===9?c:c.ownerDocument;p===null||p[Jf]||(p[Jf]=!0,kv("selectionchange",!1,p))}}function OD(c,p,m,y){switch(cL(p)){case 2:var S=uq;break;case 8:S=dq;break;default:S=$v}m=S.bind(null,p,m,c),S=void 0,!Kp||p!=="touchstart"&&p!=="touchmove"&&p!=="wheel"||(S=!0),y?S!==void 0?c.addEventListener(p,m,{capture:!0,passive:S}):c.addEventListener(p,m,!0):S!==void 0?c.addEventListener(p,m,{passive:S}):c.addEventListener(p,m,!1)}function _v(c,p,m,y,S){var k=y;if((p&1)===0&&(p&2)===0&&y!==null)e:for(;;){if(y===null)return;var U=y.tag;if(U===3||U===4){var J=y.stateNode.containerInfo;if(J===S)break;if(U===4)for(U=y.return;U!==null;){var xe=U.tag;if((xe===3||xe===4)&&U.stateNode.containerInfo===S)return;U=U.return}for(;J!==null;){if(U=nt(J),U===null)return;if(xe=U.tag,xe===5||xe===6||xe===26||xe===27){y=k=U;continue e}J=J.parentNode}}y=y.return}Mr(function(){var Oe=k,Ye=Bt(m),rt=[];e:{var Pe=hI.get(c);if(Pe!==void 0){var Ge=Wu,Gt=c;switch(c){case"keypress":if(Ac(m)===0)break e;case"keydown":case"keyup":Ge=rE;break;case"focusin":Gt="focus",Ge=Zp;break;case"focusout":Gt="blur",Ge=Zp;break;case"beforeblur":case"afterblur":Ge=Zp;break;case"click":if(m.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ge=of;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ge=Wx;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ge=He;break;case cI:case uI:case dI:Ge=Yx;break;case pI:Ge=tt;break;case"scroll":case"scrollend":Ge=Gx;break;case"wheel":Ge=ut;break;case"copy":case"cut":case"paste":Ge=Kx;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ge=W;break;case"toggle":case"beforetoggle":Ge=Ve}var br=(p&4)!==0,Dn=!br&&(c==="scroll"||c==="scrollend"),_e=br?Pe!==null?Pe+"Capture":null:Pe;br=[];for(var Te=Oe,Le;Te!==null;){var Ze=Te;if(Le=Ze.stateNode,Ze=Ze.tag,Ze!==5&&Ze!==26&&Ze!==27||Le===null||_e===null||(Ze=Ss(Te,_e),Ze!=null&&br.push(wh(Te,Ze,Le))),Dn)break;Te=Te.return}0<br.length&&(Pe=new Ge(Pe,Gt,null,m,Ye),rt.push({event:Pe,listeners:br}))}}if((p&7)===0){e:{if(Pe=c==="mouseover"||c==="pointerover",Ge=c==="mouseout"||c==="pointerout",Pe&&m!==Lt&&(Gt=m.relatedTarget||m.fromElement)&&(nt(Gt)||Gt[Ba]))break e;if((Ge||Pe)&&(Pe=Ye.window===Ye?Ye:(Pe=Ye.ownerDocument)?Pe.defaultView||Pe.parentWindow:window,Ge?(Gt=m.relatedTarget||m.toElement,Ge=Oe,Gt=Gt?nt(Gt):null,Gt!==null&&(Dn=i(Gt),br=Gt.tag,Gt!==Dn||br!==5&&br!==27&&br!==6)&&(Gt=null)):(Ge=null,Gt=Oe),Ge!==Gt)){if(br=of,Ze="onMouseLeave",_e="onMouseEnter",Te="mouse",(c==="pointerout"||c==="pointerover")&&(br=W,Ze="onPointerLeave",_e="onPointerEnter",Te="pointer"),Dn=Ge==null?Pe:Fr(Ge),Le=Gt==null?Pe:Fr(Gt),Pe=new br(Ze,Te+"leave",Ge,m,Ye),Pe.target=Dn,Pe.relatedTarget=Le,Ze=null,nt(Ye)===Oe&&(br=new br(_e,Te+"enter",Gt,m,Ye),br.target=Le,br.relatedTarget=Dn,Ze=br),Dn=Ze,Ge&&Gt)t:{for(br=jG,_e=Ge,Te=Gt,Le=0,Ze=_e;Ze;Ze=br(Ze))Le++;Ze=0;for(var cr=Te;cr;cr=br(cr))Ze++;for(;0<Le-Ze;)_e=br(_e),Le--;for(;0<Ze-Le;)Te=br(Te),Ze--;for(;Le--;){if(_e===Te||Te!==null&&_e===Te.alternate){br=_e;break t}_e=br(_e),Te=br(Te)}br=null}else br=null;Ge!==null&&MD(rt,Pe,Ge,br,!1),Gt!==null&&Dn!==null&&MD(rt,Dn,Gt,br,!0)}}e:{if(Pe=Oe?Fr(Oe):window,Ge=Pe.nodeName&&Pe.nodeName.toLowerCase(),Ge==="select"||Ge==="input"&&Pe.type==="file")var pn=Ku;else if(Us(Pe))if(uf)pn=wi;else{pn=Qu;var tr=Dc}else Ge=Pe.nodeName,!Ge||Ge.toLowerCase()!=="input"||Pe.type!=="checkbox"&&Pe.type!=="radio"?Oe&&Nt(Oe.elementType)&&(pn=Ku):pn=df;if(pn&&(pn=pn(c,Oe))){Ti(rt,pn,m,Ye);break e}tr&&tr(c,Pe,Oe),c==="focusout"&&Oe&&Pe.type==="number"&&Oe.memoizedProps.value!=null&&Si(Pe,"number",Pe.value)}switch(tr=Oe?Fr(Oe):window,c){case"focusin":(Us(tr)||tr.contentEditable==="true")&&(Nn=tr,vn=Oe,dn=null);break;case"focusout":dn=vn=Nn=null;break;case"mousedown":oi=!0;break;case"contextmenu":case"mouseup":case"dragend":oi=!1,kn(rt,m,Ye);break;case"selectionchange":if(Ia)break;case"keydown":case"keyup":kn(rt,m,Ye)}var Pr;if(gt)e:{switch(c){case"compositionstart":var Jr="onCompositionStart";break e;case"compositionend":Jr="onCompositionEnd";break e;case"compositionupdate":Jr="onCompositionUpdate";break e}Jr=void 0}else Qn?js(c,m)&&(Jr="onCompositionEnd"):c==="keydown"&&m.keyCode===229&&(Jr="onCompositionStart");Jr&&(yt&&m.locale!=="ko"&&(Qn||Jr!=="onCompositionStart"?Jr==="onCompositionEnd"&&Qn&&(Pr=sf()):(To=Ye,Qp="value"in To?To.value:To.textContent,Qn=!0)),tr=e0(Oe,Jr),0<tr.length&&(Jr=new cf(Jr,c,null,m,Ye),rt.push({event:Jr,listeners:tr}),Pr?Jr.data=Pr:(Pr=Fs(m),Pr!==null&&(Jr.data=Pr)))),(Pr=Fe?Bs(c,m):Ts(c,m))&&(Jr=e0(Oe,"onBeforeInput"),0<Jr.length&&(tr=new cf("onBeforeInput","beforeinput",null,m,Ye),rt.push({event:tr,listeners:Jr}),tr.data=Pr)),LG(rt,c,Oe,m,Ye)}LD(rt,p)})}function wh(c,p,m){return{instance:c,listener:p,currentTarget:m}}function e0(c,p){for(var m=p+"Capture",y=[];c!==null;){var S=c,k=S.stateNode;if(S=S.tag,S!==5&&S!==26&&S!==27||k===null||(S=Ss(c,m),S!=null&&y.unshift(wh(c,S,k)),S=Ss(c,p),S!=null&&y.push(wh(c,S,k))),c.tag===3)return y;c=c.return}return[]}function jG(c){if(c===null)return null;do c=c.return;while(c&&c.tag!==5&&c.tag!==27);return c||null}function MD(c,p,m,y,S){for(var k=p._reactName,U=[];m!==null&&m!==y;){var J=m,xe=J.alternate,Oe=J.stateNode;if(J=J.tag,xe!==null&&xe===y)break;J!==5&&J!==26&&J!==27||Oe===null||(xe=Oe,S?(Oe=Ss(m,k),Oe!=null&&U.unshift(wh(m,Oe,xe))):S||(Oe=Ss(m,k),Oe!=null&&U.push(wh(m,Oe,xe)))),m=m.return}U.length!==0&&c.push({event:p,listeners:U})}var FG=/\r\n?/g,BG=/\u0000|\uFFFD/g;function PD(c){return(typeof c=="string"?c:""+c).replace(FG,`
`).replace(BG,"")}function jD(c,p){return p=PD(p),PD(c)===p}function Rn(c,p,m,y,S,k){switch(m){case"children":typeof y=="string"?p==="body"||p==="textarea"&&y===""||rr(c,y):(typeof y=="number"||typeof y=="bigint")&&p!=="body"&&rr(c,""+y);break;case"className":ya(c,"class",y);break;case"tabIndex":ya(c,"tabindex",y);break;case"dir":case"role":case"viewBox":case"width":case"height":ya(c,m,y);break;case"style":$e(c,y,k);break;case"data":if(p!=="object"){ya(c,"data",y);break}case"src":case"href":if(y===""&&(p!=="a"||m!=="href")){c.removeAttribute(m);break}if(y==null||typeof y=="function"||typeof y=="symbol"||typeof y=="boolean"){c.removeAttribute(m);break}y=un(""+y),c.setAttribute(m,y);break;case"action":case"formAction":if(typeof y=="function"){c.setAttribute(m,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof k=="function"&&(m==="formAction"?(p!=="input"&&Rn(c,p,"name",S.name,S,null),Rn(c,p,"formEncType",S.formEncType,S,null),Rn(c,p,"formMethod",S.formMethod,S,null),Rn(c,p,"formTarget",S.formTarget,S,null)):(Rn(c,p,"encType",S.encType,S,null),Rn(c,p,"method",S.method,S,null),Rn(c,p,"target",S.target,S,null)));if(y==null||typeof y=="symbol"||typeof y=="boolean"){c.removeAttribute(m);break}y=un(""+y),c.setAttribute(m,y);break;case"onClick":y!=null&&(c.onclick=Xe);break;case"onScroll":y!=null&&zr("scroll",c);break;case"onScrollEnd":y!=null&&zr("scrollend",c);break;case"dangerouslySetInnerHTML":if(y!=null){if(typeof y!="object"||!("__html"in y))throw Error(n(61));if(m=y.__html,m!=null){if(S.children!=null)throw Error(n(60));c.innerHTML=m}}break;case"multiple":c.multiple=y&&typeof y!="function"&&typeof y!="symbol";break;case"muted":c.muted=y&&typeof y!="function"&&typeof y!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(y==null||typeof y=="function"||typeof y=="boolean"||typeof y=="symbol"){c.removeAttribute("xlink:href");break}m=un(""+y),c.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",m);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":y!=null&&typeof y!="function"&&typeof y!="symbol"?c.setAttribute(m,""+y):c.removeAttribute(m);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":y&&typeof y!="function"&&typeof y!="symbol"?c.setAttribute(m,""):c.removeAttribute(m);break;case"capture":case"download":y===!0?c.setAttribute(m,""):y!==!1&&y!=null&&typeof y!="function"&&typeof y!="symbol"?c.setAttribute(m,y):c.removeAttribute(m);break;case"cols":case"rows":case"size":case"span":y!=null&&typeof y!="function"&&typeof y!="symbol"&&!isNaN(y)&&1<=y?c.setAttribute(m,y):c.removeAttribute(m);break;case"rowSpan":case"start":y==null||typeof y=="function"||typeof y=="symbol"||isNaN(y)?c.removeAttribute(m):c.setAttribute(m,y);break;case"popover":zr("beforetoggle",c),zr("toggle",c),Pn(c,"popover",y);break;case"xlinkActuate":Aa(c,"http://www.w3.org/1999/xlink","xlink:actuate",y);break;case"xlinkArcrole":Aa(c,"http://www.w3.org/1999/xlink","xlink:arcrole",y);break;case"xlinkRole":Aa(c,"http://www.w3.org/1999/xlink","xlink:role",y);break;case"xlinkShow":Aa(c,"http://www.w3.org/1999/xlink","xlink:show",y);break;case"xlinkTitle":Aa(c,"http://www.w3.org/1999/xlink","xlink:title",y);break;case"xlinkType":Aa(c,"http://www.w3.org/1999/xlink","xlink:type",y);break;case"xmlBase":Aa(c,"http://www.w3.org/XML/1998/namespace","xml:base",y);break;case"xmlLang":Aa(c,"http://www.w3.org/XML/1998/namespace","xml:lang",y);break;case"xmlSpace":Aa(c,"http://www.w3.org/XML/1998/namespace","xml:space",y);break;case"is":Pn(c,"is",y);break;case"innerText":case"textContent":break;default:(!(2<m.length)||m[0]!=="o"&&m[0]!=="O"||m[1]!=="n"&&m[1]!=="N")&&(m=pr.get(m)||m,Pn(c,m,y))}}function Av(c,p,m,y,S,k){switch(m){case"style":$e(c,y,k);break;case"dangerouslySetInnerHTML":if(y!=null){if(typeof y!="object"||!("__html"in y))throw Error(n(61));if(m=y.__html,m!=null){if(S.children!=null)throw Error(n(60));c.innerHTML=m}}break;case"children":typeof y=="string"?rr(c,y):(typeof y=="number"||typeof y=="bigint")&&rr(c,""+y);break;case"onScroll":y!=null&&zr("scroll",c);break;case"onScrollEnd":y!=null&&zr("scrollend",c);break;case"onClick":y!=null&&(c.onclick=Xe);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!xn.hasOwnProperty(m))e:{if(m[0]==="o"&&m[1]==="n"&&(S=m.endsWith("Capture"),p=m.slice(2,S?m.length-7:void 0),k=c[cn]||null,k=k!=null?k[m]:null,typeof k=="function"&&c.removeEventListener(p,k,S),typeof y=="function")){typeof k!="function"&&k!==null&&(m in c?c[m]=null:c.hasAttribute(m)&&c.removeAttribute(m)),c.addEventListener(p,y,S);break e}m in c?c[m]=y:y===!0?c.setAttribute(m,""):Pn(c,m,y)}}}function Ka(c,p,m){switch(p){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":zr("error",c),zr("load",c);var y=!1,S=!1,k;for(k in m)if(m.hasOwnProperty(k)){var U=m[k];if(U!=null)switch(k){case"src":y=!0;break;case"srcSet":S=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,p));default:Rn(c,p,k,U,m,null)}}S&&Rn(c,p,"srcSet",m.srcSet,m,null),y&&Rn(c,p,"src",m.src,m,null);return;case"input":zr("invalid",c);var J=k=U=S=null,xe=null,Oe=null;for(y in m)if(m.hasOwnProperty(y)){var Ye=m[y];if(Ye!=null)switch(y){case"name":S=Ye;break;case"type":U=Ye;break;case"checked":xe=Ye;break;case"defaultChecked":Oe=Ye;break;case"value":k=Ye;break;case"defaultValue":J=Ye;break;case"children":case"dangerouslySetInnerHTML":if(Ye!=null)throw Error(n(137,p));break;default:Rn(c,p,y,Ye,m,null)}}vs(c,k,J,xe,Oe,U,S,!1);return;case"select":zr("invalid",c),y=U=k=null;for(S in m)if(m.hasOwnProperty(S)&&(J=m[S],J!=null))switch(S){case"value":k=J;break;case"defaultValue":U=J;break;case"multiple":y=J;default:Rn(c,p,S,J,m,null)}p=k,m=U,c.multiple=!!y,p!=null?Kn(c,!!y,p,!1):m!=null&&Kn(c,!!y,m,!0);return;case"textarea":zr("invalid",c),k=S=y=null;for(U in m)if(m.hasOwnProperty(U)&&(J=m[U],J!=null))switch(U){case"value":y=J;break;case"defaultValue":S=J;break;case"children":k=J;break;case"dangerouslySetInnerHTML":if(J!=null)throw Error(n(91));break;default:Rn(c,p,U,J,m,null)}Qi(c,y,S,k);return;case"option":for(xe in m)if(m.hasOwnProperty(xe)&&(y=m[xe],y!=null))switch(xe){case"selected":c.selected=y&&typeof y!="function"&&typeof y!="symbol";break;default:Rn(c,p,xe,y,m,null)}return;case"dialog":zr("beforetoggle",c),zr("toggle",c),zr("cancel",c),zr("close",c);break;case"iframe":case"object":zr("load",c);break;case"video":case"audio":for(y=0;y<Th.length;y++)zr(Th[y],c);break;case"image":zr("error",c),zr("load",c);break;case"details":zr("toggle",c);break;case"embed":case"source":case"link":zr("error",c),zr("load",c);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Oe in m)if(m.hasOwnProperty(Oe)&&(y=m[Oe],y!=null))switch(Oe){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,p));default:Rn(c,p,Oe,y,m,null)}return;default:if(Nt(p)){for(Ye in m)m.hasOwnProperty(Ye)&&(y=m[Ye],y!==void 0&&Av(c,p,Ye,y,m,void 0));return}}for(J in m)m.hasOwnProperty(J)&&(y=m[J],y!=null&&Rn(c,p,J,y,m,null))}function UG(c,p,m,y){switch(p){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var S=null,k=null,U=null,J=null,xe=null,Oe=null,Ye=null;for(Ge in m){var rt=m[Ge];if(m.hasOwnProperty(Ge)&&rt!=null)switch(Ge){case"checked":break;case"value":break;case"defaultValue":xe=rt;default:y.hasOwnProperty(Ge)||Rn(c,p,Ge,null,y,rt)}}for(var Pe in y){var Ge=y[Pe];if(rt=m[Pe],y.hasOwnProperty(Pe)&&(Ge!=null||rt!=null))switch(Pe){case"type":k=Ge;break;case"name":S=Ge;break;case"checked":Oe=Ge;break;case"defaultChecked":Ye=Ge;break;case"value":U=Ge;break;case"defaultValue":J=Ge;break;case"children":case"dangerouslySetInnerHTML":if(Ge!=null)throw Error(n(137,p));break;default:Ge!==rt&&Rn(c,p,Pe,Ge,y,rt)}}ii(c,U,J,xe,Oe,Ye,k,S);return;case"select":Ge=U=J=Pe=null;for(k in m)if(xe=m[k],m.hasOwnProperty(k)&&xe!=null)switch(k){case"value":break;case"multiple":Ge=xe;default:y.hasOwnProperty(k)||Rn(c,p,k,null,y,xe)}for(S in y)if(k=y[S],xe=m[S],y.hasOwnProperty(S)&&(k!=null||xe!=null))switch(S){case"value":Pe=k;break;case"defaultValue":J=k;break;case"multiple":U=k;default:k!==xe&&Rn(c,p,S,k,y,xe)}p=J,m=U,y=Ge,Pe!=null?Kn(c,!!m,Pe,!1):!!y!=!!m&&(p!=null?Kn(c,!!m,p,!0):Kn(c,!!m,m?[]:"",!1));return;case"textarea":Ge=Pe=null;for(J in m)if(S=m[J],m.hasOwnProperty(J)&&S!=null&&!y.hasOwnProperty(J))switch(J){case"value":break;case"children":break;default:Rn(c,p,J,null,y,S)}for(U in y)if(S=y[U],k=m[U],y.hasOwnProperty(U)&&(S!=null||k!=null))switch(U){case"value":Pe=S;break;case"defaultValue":Ge=S;break;case"children":break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(n(91));break;default:S!==k&&Rn(c,p,U,S,y,k)}So(c,Pe,Ge);return;case"option":for(var Gt in m)if(Pe=m[Gt],m.hasOwnProperty(Gt)&&Pe!=null&&!y.hasOwnProperty(Gt))switch(Gt){case"selected":c.selected=!1;break;default:Rn(c,p,Gt,null,y,Pe)}for(xe in y)if(Pe=y[xe],Ge=m[xe],y.hasOwnProperty(xe)&&Pe!==Ge&&(Pe!=null||Ge!=null))switch(xe){case"selected":c.selected=Pe&&typeof Pe!="function"&&typeof Pe!="symbol";break;default:Rn(c,p,xe,Pe,y,Ge)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var br in m)Pe=m[br],m.hasOwnProperty(br)&&Pe!=null&&!y.hasOwnProperty(br)&&Rn(c,p,br,null,y,Pe);for(Oe in y)if(Pe=y[Oe],Ge=m[Oe],y.hasOwnProperty(Oe)&&Pe!==Ge&&(Pe!=null||Ge!=null))switch(Oe){case"children":case"dangerouslySetInnerHTML":if(Pe!=null)throw Error(n(137,p));break;default:Rn(c,p,Oe,Pe,y,Ge)}return;default:if(Nt(p)){for(var Dn in m)Pe=m[Dn],m.hasOwnProperty(Dn)&&Pe!==void 0&&!y.hasOwnProperty(Dn)&&Av(c,p,Dn,void 0,y,Pe);for(Ye in y)Pe=y[Ye],Ge=m[Ye],!y.hasOwnProperty(Ye)||Pe===Ge||Pe===void 0&&Ge===void 0||Av(c,p,Ye,Pe,y,Ge);return}}for(var _e in m)Pe=m[_e],m.hasOwnProperty(_e)&&Pe!=null&&!y.hasOwnProperty(_e)&&Rn(c,p,_e,null,y,Pe);for(rt in y)Pe=y[rt],Ge=m[rt],!y.hasOwnProperty(rt)||Pe===Ge||Pe==null&&Ge==null||Rn(c,p,rt,Pe,y,Ge)}function FD(c){switch(c){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function $G(){if(typeof performance.getEntriesByType=="function"){for(var c=0,p=0,m=performance.getEntriesByType("resource"),y=0;y<m.length;y++){var S=m[y],k=S.transferSize,U=S.initiatorType,J=S.duration;if(k&&J&&FD(U)){for(U=0,J=S.responseEnd,y+=1;y<m.length;y++){var xe=m[y],Oe=xe.startTime;if(Oe>J)break;var Ye=xe.transferSize,rt=xe.initiatorType;Ye&&FD(rt)&&(xe=xe.responseEnd,U+=Ye*(xe<J?1:(J-Oe)/(xe-Oe)))}if(--y,p+=8*(k+U)/(S.duration/1e3),c++,10<c)break}}if(0<c)return p/c/1e6}return navigator.connection&&(c=navigator.connection.downlink,typeof c=="number")?c:5}var Nv=null,Iv=null;function t0(c){return c.nodeType===9?c:c.ownerDocument}function BD(c){switch(c){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function UD(c,p){if(c===0)switch(p){case"svg":return 1;case"math":return 2;default:return 0}return c===1&&p==="foreignObject"?0:c}function Rv(c,p){return c==="textarea"||c==="noscript"||typeof p.children=="string"||typeof p.children=="number"||typeof p.children=="bigint"||typeof p.dangerouslySetInnerHTML=="object"&&p.dangerouslySetInnerHTML!==null&&p.dangerouslySetInnerHTML.__html!=null}var Dv=null;function HG(){var c=window.event;return c&&c.type==="popstate"?c===Dv?!1:(Dv=c,!0):(Dv=null,!1)}var $D=typeof setTimeout=="function"?setTimeout:void 0,zG=typeof clearTimeout=="function"?clearTimeout:void 0,HD=typeof Promise=="function"?Promise:void 0,GG=typeof queueMicrotask=="function"?queueMicrotask:typeof HD<"u"?function(c){return HD.resolve(null).then(c).catch(qG)}:$D;function qG(c){setTimeout(function(){throw c})}function Ql(c){return c==="head"}function zD(c,p){var m=p,y=0;do{var S=m.nextSibling;if(c.removeChild(m),S&&S.nodeType===8)if(m=S.data,m==="/$"||m==="/&"){if(y===0){c.removeChild(S),Sd(p);return}y--}else if(m==="$"||m==="$?"||m==="$~"||m==="$!"||m==="&")y++;else if(m==="html")kh(c.ownerDocument.documentElement);else if(m==="head"){m=c.ownerDocument.head,kh(m);for(var k=m.firstChild;k;){var U=k.nextSibling,J=k.nodeName;k[Pt]||J==="SCRIPT"||J==="STYLE"||J==="LINK"&&k.rel.toLowerCase()==="stylesheet"||m.removeChild(k),k=U}}else m==="body"&&kh(c.ownerDocument.body);m=S}while(m);Sd(p)}function GD(c,p){var m=c;c=0;do{var y=m.nextSibling;if(m.nodeType===1?p?(m._stashedDisplay=m.style.display,m.style.display="none"):(m.style.display=m._stashedDisplay||"",m.getAttribute("style")===""&&m.removeAttribute("style")):m.nodeType===3&&(p?(m._stashedText=m.nodeValue,m.nodeValue=""):m.nodeValue=m._stashedText||""),y&&y.nodeType===8)if(m=y.data,m==="/$"){if(c===0)break;c--}else m!=="$"&&m!=="$?"&&m!=="$~"&&m!=="$!"||c++;m=y}while(m)}function Lv(c){var p=c.firstChild;for(p&&p.nodeType===10&&(p=p.nextSibling);p;){var m=p;switch(p=p.nextSibling,m.nodeName){case"HTML":case"HEAD":case"BODY":Lv(m),ve(m);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(m.rel.toLowerCase()==="stylesheet")continue}c.removeChild(m)}}function WG(c,p,m,y){for(;c.nodeType===1;){var S=m;if(c.nodeName.toLowerCase()!==p.toLowerCase()){if(!y&&(c.nodeName!=="INPUT"||c.type!=="hidden"))break}else if(y){if(!c[Pt])switch(p){case"meta":if(!c.hasAttribute("itemprop"))break;return c;case"link":if(k=c.getAttribute("rel"),k==="stylesheet"&&c.hasAttribute("data-precedence"))break;if(k!==S.rel||c.getAttribute("href")!==(S.href==null||S.href===""?null:S.href)||c.getAttribute("crossorigin")!==(S.crossOrigin==null?null:S.crossOrigin)||c.getAttribute("title")!==(S.title==null?null:S.title))break;return c;case"style":if(c.hasAttribute("data-precedence"))break;return c;case"script":if(k=c.getAttribute("src"),(k!==(S.src==null?null:S.src)||c.getAttribute("type")!==(S.type==null?null:S.type)||c.getAttribute("crossorigin")!==(S.crossOrigin==null?null:S.crossOrigin))&&k&&c.hasAttribute("async")&&!c.hasAttribute("itemprop"))break;return c;default:return c}}else if(p==="input"&&c.type==="hidden"){var k=S.name==null?null:""+S.name;if(S.type==="hidden"&&c.getAttribute("name")===k)return c}else return c;if(c=Ri(c.nextSibling),c===null)break}return null}function YG(c,p,m){if(p==="")return null;for(;c.nodeType!==3;)if((c.nodeType!==1||c.nodeName!=="INPUT"||c.type!=="hidden")&&!m||(c=Ri(c.nextSibling),c===null))return null;return c}function qD(c,p){for(;c.nodeType!==8;)if((c.nodeType!==1||c.nodeName!=="INPUT"||c.type!=="hidden")&&!p||(c=Ri(c.nextSibling),c===null))return null;return c}function Ov(c){return c.data==="$?"||c.data==="$~"}function Mv(c){return c.data==="$!"||c.data==="$?"&&c.ownerDocument.readyState!=="loading"}function VG(c,p){var m=c.ownerDocument;if(c.data==="$~")c._reactRetry=p;else if(c.data!=="$?"||m.readyState!=="loading")p();else{var y=function(){p(),m.removeEventListener("DOMContentLoaded",y)};m.addEventListener("DOMContentLoaded",y),c._reactRetry=y}}function Ri(c){for(;c!=null;c=c.nextSibling){var p=c.nodeType;if(p===1||p===3)break;if(p===8){if(p=c.data,p==="$"||p==="$!"||p==="$?"||p==="$~"||p==="&"||p==="F!"||p==="F")break;if(p==="/$"||p==="/&")return null}}return c}var Pv=null;function WD(c){c=c.nextSibling;for(var p=0;c;){if(c.nodeType===8){var m=c.data;if(m==="/$"||m==="/&"){if(p===0)return Ri(c.nextSibling);p--}else m!=="$"&&m!=="$!"&&m!=="$?"&&m!=="$~"&&m!=="&"||p++}c=c.nextSibling}return null}function YD(c){c=c.previousSibling;for(var p=0;c;){if(c.nodeType===8){var m=c.data;if(m==="$"||m==="$!"||m==="$?"||m==="$~"||m==="&"){if(p===0)return c;p--}else m!=="/$"&&m!=="/&"||p++}c=c.previousSibling}return null}function VD(c,p,m){switch(p=t0(m),c){case"html":if(c=p.documentElement,!c)throw Error(n(452));return c;case"head":if(c=p.head,!c)throw Error(n(453));return c;case"body":if(c=p.body,!c)throw Error(n(454));return c;default:throw Error(n(451))}}function kh(c){for(var p=c.attributes;p.length;)c.removeAttributeNode(p[0]);ve(c)}var Di=new Map,KD=new Set;function r0(c){return typeof c.getRootNode=="function"?c.getRootNode():c.nodeType===9?c:c.ownerDocument}var gl=Y.d;Y.d={f:KG,r:QG,D:XG,C:ZG,L:JG,m:eq,X:rq,S:tq,M:nq};function KG(){var c=gl.f(),p=Yf();return c||p}function QG(c){var p=Dt(c);p!==null&&p.tag===5&&p.type==="form"?pR(p):gl.r(c)}var xd=typeof document>"u"?null:document;function QD(c,p,m){var y=xd;if(y&&typeof p=="string"&&p){var S=ua(p);S='link[rel="'+c+'"][href="'+S+'"]',typeof m=="string"&&(S+='[crossorigin="'+m+'"]'),KD.has(S)||(KD.add(S),c={rel:c,crossOrigin:m,href:p},y.querySelector(S)===null&&(p=y.createElement("link"),Ka(p,"link",c),Sr(p),y.head.appendChild(p)))}}function XG(c){gl.D(c),QD("dns-prefetch",c,null)}function ZG(c,p){gl.C(c,p),QD("preconnect",c,p)}function JG(c,p,m){gl.L(c,p,m);var y=xd;if(y&&c&&p){var S='link[rel="preload"][as="'+ua(p)+'"]';p==="image"&&m&&m.imageSrcSet?(S+='[imagesrcset="'+ua(m.imageSrcSet)+'"]',typeof m.imageSizes=="string"&&(S+='[imagesizes="'+ua(m.imageSizes)+'"]')):S+='[href="'+ua(c)+'"]';var k=S;switch(p){case"style":k=Ed(c);break;case"script":k=vd(c)}Di.has(k)||(c=g({rel:"preload",href:p==="image"&&m&&m.imageSrcSet?void 0:c,as:p},m),Di.set(k,c),y.querySelector(S)!==null||p==="style"&&y.querySelector(Ch(k))||p==="script"&&y.querySelector(_h(k))||(p=y.createElement("link"),Ka(p,"link",c),Sr(p),y.head.appendChild(p)))}}function eq(c,p){gl.m(c,p);var m=xd;if(m&&c){var y=p&&typeof p.as=="string"?p.as:"script",S='link[rel="modulepreload"][as="'+ua(y)+'"][href="'+ua(c)+'"]',k=S;switch(y){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":k=vd(c)}if(!Di.has(k)&&(c=g({rel:"modulepreload",href:c},p),Di.set(k,c),m.querySelector(S)===null)){switch(y){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(m.querySelector(_h(k)))return}y=m.createElement("link"),Ka(y,"link",c),Sr(y),m.head.appendChild(y)}}}function tq(c,p,m){gl.S(c,p,m);var y=xd;if(y&&c){var S=yn(y).hoistableStyles,k=Ed(c);p=p||"default";var U=S.get(k);if(!U){var J={loading:0,preload:null};if(U=y.querySelector(Ch(k)))J.loading=5;else{c=g({rel:"stylesheet",href:c,"data-precedence":p},m),(m=Di.get(k))&&jv(c,m);var xe=U=y.createElement("link");Sr(xe),Ka(xe,"link",c),xe._p=new Promise(function(Oe,Ye){xe.onload=Oe,xe.onerror=Ye}),xe.addEventListener("load",function(){J.loading|=1}),xe.addEventListener("error",function(){J.loading|=2}),J.loading|=4,n0(U,p,y)}U={type:"stylesheet",instance:U,count:1,state:J},S.set(k,U)}}}function rq(c,p){gl.X(c,p);var m=xd;if(m&&c){var y=yn(m).hoistableScripts,S=vd(c),k=y.get(S);k||(k=m.querySelector(_h(S)),k||(c=g({src:c,async:!0},p),(p=Di.get(S))&&Fv(c,p),k=m.createElement("script"),Sr(k),Ka(k,"link",c),m.head.appendChild(k)),k={type:"script",instance:k,count:1,state:null},y.set(S,k))}}function nq(c,p){gl.M(c,p);var m=xd;if(m&&c){var y=yn(m).hoistableScripts,S=vd(c),k=y.get(S);k||(k=m.querySelector(_h(S)),k||(c=g({src:c,async:!0,type:"module"},p),(p=Di.get(S))&&Fv(c,p),k=m.createElement("script"),Sr(k),Ka(k,"link",c),m.head.appendChild(k)),k={type:"script",instance:k,count:1,state:null},y.set(S,k))}}function XD(c,p,m,y){var S=(S=ye.current)?r0(S):null;if(!S)throw Error(n(446));switch(c){case"meta":case"title":return null;case"style":return typeof m.precedence=="string"&&typeof m.href=="string"?(p=Ed(m.href),m=yn(S).hoistableStyles,y=m.get(p),y||(y={type:"style",instance:null,count:0,state:null},m.set(p,y)),y):{type:"void",instance:null,count:0,state:null};case"link":if(m.rel==="stylesheet"&&typeof m.href=="string"&&typeof m.precedence=="string"){c=Ed(m.href);var k=yn(S).hoistableStyles,U=k.get(c);if(U||(S=S.ownerDocument||S,U={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},k.set(c,U),(k=S.querySelector(Ch(c)))&&!k._p&&(U.instance=k,U.state.loading=5),Di.has(c)||(m={rel:"preload",as:"style",href:m.href,crossOrigin:m.crossOrigin,integrity:m.integrity,media:m.media,hrefLang:m.hrefLang,referrerPolicy:m.referrerPolicy},Di.set(c,m),k||aq(S,c,m,U.state))),p&&y===null)throw Error(n(528,""));return U}if(p&&y!==null)throw Error(n(529,""));return null;case"script":return p=m.async,m=m.src,typeof m=="string"&&p&&typeof p!="function"&&typeof p!="symbol"?(p=vd(m),m=yn(S).hoistableScripts,y=m.get(p),y||(y={type:"script",instance:null,count:0,state:null},m.set(p,y)),y):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,c))}}function Ed(c){return'href="'+ua(c)+'"'}function Ch(c){return'link[rel="stylesheet"]['+c+"]"}function ZD(c){return g({},c,{"data-precedence":c.precedence,precedence:null})}function aq(c,p,m,y){c.querySelector('link[rel="preload"][as="style"]['+p+"]")?y.loading=1:(p=c.createElement("link"),y.preload=p,p.addEventListener("load",function(){return y.loading|=1}),p.addEventListener("error",function(){return y.loading|=2}),Ka(p,"link",m),Sr(p),c.head.appendChild(p))}function vd(c){return'[src="'+ua(c)+'"]'}function _h(c){return"script[async]"+c}function JD(c,p,m){if(p.count++,p.instance===null)switch(p.type){case"style":var y=c.querySelector('style[data-href~="'+ua(m.href)+'"]');if(y)return p.instance=y,Sr(y),y;var S=g({},m,{"data-href":m.href,"data-precedence":m.precedence,href:null,precedence:null});return y=(c.ownerDocument||c).createElement("style"),Sr(y),Ka(y,"style",S),n0(y,m.precedence,c),p.instance=y;case"stylesheet":S=Ed(m.href);var k=c.querySelector(Ch(S));if(k)return p.state.loading|=4,p.instance=k,Sr(k),k;y=ZD(m),(S=Di.get(S))&&jv(y,S),k=(c.ownerDocument||c).createElement("link"),Sr(k);var U=k;return U._p=new Promise(function(J,xe){U.onload=J,U.onerror=xe}),Ka(k,"link",y),p.state.loading|=4,n0(k,m.precedence,c),p.instance=k;case"script":return k=vd(m.src),(S=c.querySelector(_h(k)))?(p.instance=S,Sr(S),S):(y=m,(S=Di.get(k))&&(y=g({},m),Fv(y,S)),c=c.ownerDocument||c,S=c.createElement("script"),Sr(S),Ka(S,"link",y),c.head.appendChild(S),p.instance=S);case"void":return null;default:throw Error(n(443,p.type))}else p.type==="stylesheet"&&(p.state.loading&4)===0&&(y=p.instance,p.state.loading|=4,n0(y,m.precedence,c));return p.instance}function n0(c,p,m){for(var y=m.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),S=y.length?y[y.length-1]:null,k=S,U=0;U<y.length;U++){var J=y[U];if(J.dataset.precedence===p)k=J;else if(k!==S)break}k?k.parentNode.insertBefore(c,k.nextSibling):(p=m.nodeType===9?m.head:m,p.insertBefore(c,p.firstChild))}function jv(c,p){c.crossOrigin==null&&(c.crossOrigin=p.crossOrigin),c.referrerPolicy==null&&(c.referrerPolicy=p.referrerPolicy),c.title==null&&(c.title=p.title)}function Fv(c,p){c.crossOrigin==null&&(c.crossOrigin=p.crossOrigin),c.referrerPolicy==null&&(c.referrerPolicy=p.referrerPolicy),c.integrity==null&&(c.integrity=p.integrity)}var a0=null;function eL(c,p,m){if(a0===null){var y=new Map,S=a0=new Map;S.set(m,y)}else S=a0,y=S.get(m),y||(y=new Map,S.set(m,y));if(y.has(c))return y;for(y.set(c,null),m=m.getElementsByTagName(c),S=0;S<m.length;S++){var k=m[S];if(!(k[Pt]||k[en]||c==="link"&&k.getAttribute("rel")==="stylesheet")&&k.namespaceURI!=="http://www.w3.org/2000/svg"){var U=k.getAttribute(p)||"";U=c+U;var J=y.get(U);J?J.push(k):y.set(U,[k])}}return y}function tL(c,p,m){c=c.ownerDocument||c,c.head.insertBefore(m,p==="title"?c.querySelector("head > title"):null)}function sq(c,p,m){if(m===1||p.itemProp!=null)return!1;switch(c){case"meta":case"title":return!0;case"style":if(typeof p.precedence!="string"||typeof p.href!="string"||p.href==="")break;return!0;case"link":if(typeof p.rel!="string"||typeof p.href!="string"||p.href===""||p.onLoad||p.onError)break;switch(p.rel){case"stylesheet":return c=p.disabled,typeof p.precedence=="string"&&c==null;default:return!0}case"script":if(p.async&&typeof p.async!="function"&&typeof p.async!="symbol"&&!p.onLoad&&!p.onError&&p.src&&typeof p.src=="string")return!0}return!1}function rL(c){return!(c.type==="stylesheet"&&(c.state.loading&3)===0)}function iq(c,p,m,y){if(m.type==="stylesheet"&&(typeof y.media!="string"||matchMedia(y.media).matches!==!1)&&(m.state.loading&4)===0){if(m.instance===null){var S=Ed(y.href),k=p.querySelector(Ch(S));if(k){p=k._p,p!==null&&typeof p=="object"&&typeof p.then=="function"&&(c.count++,c=s0.bind(c),p.then(c,c)),m.state.loading|=4,m.instance=k,Sr(k);return}k=p.ownerDocument||p,y=ZD(y),(S=Di.get(S))&&jv(y,S),k=k.createElement("link"),Sr(k);var U=k;U._p=new Promise(function(J,xe){U.onload=J,U.onerror=xe}),Ka(k,"link",y),m.instance=k}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(m,p),(p=m.state.preload)&&(m.state.loading&3)===0&&(c.count++,m=s0.bind(c),p.addEventListener("load",m),p.addEventListener("error",m))}}var Bv=0;function oq(c,p){return c.stylesheets&&c.count===0&&o0(c,c.stylesheets),0<c.count||0<c.imgCount?function(m){var y=setTimeout(function(){if(c.stylesheets&&o0(c,c.stylesheets),c.unsuspend){var k=c.unsuspend;c.unsuspend=null,k()}},6e4+p);0<c.imgBytes&&Bv===0&&(Bv=62500*$G());var S=setTimeout(function(){if(c.waitingForImages=!1,c.count===0&&(c.stylesheets&&o0(c,c.stylesheets),c.unsuspend)){var k=c.unsuspend;c.unsuspend=null,k()}},(c.imgBytes>Bv?50:800)+p);return c.unsuspend=m,function(){c.unsuspend=null,clearTimeout(y),clearTimeout(S)}}:null}function s0(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)o0(this,this.stylesheets);else if(this.unsuspend){var c=this.unsuspend;this.unsuspend=null,c()}}}var i0=null;function o0(c,p){c.stylesheets=null,c.unsuspend!==null&&(c.count++,i0=new Map,p.forEach(lq,c),i0=null,s0.call(c))}function lq(c,p){if(!(p.state.loading&4)){var m=i0.get(c);if(m)var y=m.get(null);else{m=new Map,i0.set(c,m);for(var S=c.querySelectorAll("link[data-precedence],style[data-precedence]"),k=0;k<S.length;k++){var U=S[k];(U.nodeName==="LINK"||U.getAttribute("media")!=="not all")&&(m.set(U.dataset.precedence,U),y=U)}y&&m.set(null,y)}S=p.instance,U=S.getAttribute("data-precedence"),k=m.get(U)||y,k===y&&m.set(null,S),m.set(U,S),this.count++,y=s0.bind(this),S.addEventListener("load",y),S.addEventListener("error",y),k?k.parentNode.insertBefore(S,k.nextSibling):(c=c.nodeType===9?c.head:c,c.insertBefore(S,c.firstChild)),p.state.loading|=4}}var Ah={$$typeof:N,Provider:null,Consumer:null,_currentValue:V,_currentValue2:V,_threadCount:0};function cq(c,p,m,y,S,k,U,J,xe){this.tag=1,this.containerInfo=c,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ar(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ar(0),this.hiddenUpdates=Ar(null),this.identifierPrefix=y,this.onUncaughtError=S,this.onCaughtError=k,this.onRecoverableError=U,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=xe,this.incompleteTransitions=new Map}function nL(c,p,m,y,S,k,U,J,xe,Oe,Ye,rt){return c=new cq(c,p,m,U,xe,Oe,Ye,rt,J),p=1,k===!0&&(p|=24),k=li(3,null,null,p),c.current=k,k.stateNode=c,p=yE(),p.refCount++,c.pooledCache=p,p.refCount++,k.memoizedState={element:y,isDehydrated:m,cache:p},SE(k),c}function aL(c){return c?(c=Zu,c):Zu}function sL(c,p,m,y,S,k){S=aL(S),y.context===null?y.context=S:y.pendingContext=S,y=Bl(p),y.payload={element:m},k=k===void 0?null:k,k!==null&&(y.callback=k),m=Ul(c,y,p),m!==null&&(Ws(m,c,p),ih(m,c,p))}function iL(c,p){if(c=c.memoizedState,c!==null&&c.dehydrated!==null){var m=c.retryLane;c.retryLane=m!==0&&m<p?m:p}}function Uv(c,p){iL(c,p),(c=c.alternate)&&iL(c,p)}function oL(c){if(c.tag===13||c.tag===31){var p=Oc(c,67108864);p!==null&&Ws(p,c,67108864),Uv(c,67108864)}}function lL(c){if(c.tag===13||c.tag===31){var p=hi();p=Nr(p);var m=Oc(c,p);m!==null&&Ws(m,c,p),Uv(c,p)}}var l0=!0;function uq(c,p,m,y){var S=$.T;$.T=null;var k=Y.p;try{Y.p=2,$v(c,p,m,y)}finally{Y.p=k,$.T=S}}function dq(c,p,m,y){var S=$.T;$.T=null;var k=Y.p;try{Y.p=8,$v(c,p,m,y)}finally{Y.p=k,$.T=S}}function $v(c,p,m,y){if(l0){var S=Hv(y);if(S===null)_v(c,p,y,c0,m),uL(c,y);else if(hq(S,c,p,m,y))y.stopPropagation();else if(uL(c,y),p&4&&-1<pq.indexOf(c)){for(;S!==null;){var k=Dt(S);if(k!==null)switch(k.tag){case 3:if(k=k.stateNode,k.current.memoizedState.isDehydrated){var U=Xr(k.pendingLanes);if(U!==0){var J=k;for(J.pendingLanes|=2,J.entangledLanes|=2;U;){var xe=1<<31-it(U);J.entanglements[1]|=xe,U&=~xe}_o(k),(bn&6)===0&&(qf=dr()+500,Sh(0))}}break;case 31:case 13:J=Oc(k,2),J!==null&&Ws(J,k,2),Yf(),Uv(k,2)}if(k=Hv(y),k===null&&_v(c,p,y,c0,m),k===S)break;S=k}S!==null&&y.stopPropagation()}else _v(c,p,y,null,m)}}function Hv(c){return c=Bt(c),zv(c)}var c0=null;function zv(c){if(c0=null,c=nt(c),c!==null){var p=i(c);if(p===null)c=null;else{var m=p.tag;if(m===13){if(c=o(p),c!==null)return c;c=null}else if(m===31){if(c=l(p),c!==null)return c;c=null}else if(m===3){if(p.stateNode.current.memoizedState.isDehydrated)return p.tag===3?p.stateNode.containerInfo:null;c=null}else p!==c&&(c=null)}}return c0=c,null}function cL(c){switch(c){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Jt()){case le:return 2;case se:return 8;case Ce:case De:return 32;case dt:return 268435456;default:return 32}default:return 32}}var Gv=!1,Xl=null,Zl=null,Jl=null,Nh=new Map,Ih=new Map,ec=[],pq="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function uL(c,p){switch(c){case"focusin":case"focusout":Xl=null;break;case"dragenter":case"dragleave":Zl=null;break;case"mouseover":case"mouseout":Jl=null;break;case"pointerover":case"pointerout":Nh.delete(p.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ih.delete(p.pointerId)}}function Rh(c,p,m,y,S,k){return c===null||c.nativeEvent!==k?(c={blockedOn:p,domEventName:m,eventSystemFlags:y,nativeEvent:k,targetContainers:[S]},p!==null&&(p=Dt(p),p!==null&&oL(p)),c):(c.eventSystemFlags|=y,p=c.targetContainers,S!==null&&p.indexOf(S)===-1&&p.push(S),c)}function hq(c,p,m,y,S){switch(p){case"focusin":return Xl=Rh(Xl,c,p,m,y,S),!0;case"dragenter":return Zl=Rh(Zl,c,p,m,y,S),!0;case"mouseover":return Jl=Rh(Jl,c,p,m,y,S),!0;case"pointerover":var k=S.pointerId;return Nh.set(k,Rh(Nh.get(k)||null,c,p,m,y,S)),!0;case"gotpointercapture":return k=S.pointerId,Ih.set(k,Rh(Ih.get(k)||null,c,p,m,y,S)),!0}return!1}function dL(c){var p=nt(c.target);if(p!==null){var m=i(p);if(m!==null){if(p=m.tag,p===13){if(p=o(m),p!==null){c.blockedOn=p,lr(c.priority,function(){lL(m)});return}}else if(p===31){if(p=l(m),p!==null){c.blockedOn=p,lr(c.priority,function(){lL(m)});return}}else if(p===3&&m.stateNode.current.memoizedState.isDehydrated){c.blockedOn=m.tag===3?m.stateNode.containerInfo:null;return}}}c.blockedOn=null}function u0(c){if(c.blockedOn!==null)return!1;for(var p=c.targetContainers;0<p.length;){var m=Hv(c.nativeEvent);if(m===null){m=c.nativeEvent;var y=new m.constructor(m.type,m);Lt=y,m.target.dispatchEvent(y),Lt=null}else return p=Dt(m),p!==null&&oL(p),c.blockedOn=m,!1;p.shift()}return!0}function pL(c,p,m){u0(c)&&m.delete(p)}function gq(){Gv=!1,Xl!==null&&u0(Xl)&&(Xl=null),Zl!==null&&u0(Zl)&&(Zl=null),Jl!==null&&u0(Jl)&&(Jl=null),Nh.forEach(pL),Ih.forEach(pL)}function d0(c,p){c.blockedOn===p&&(c.blockedOn=null,Gv||(Gv=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,gq)))}var p0=null;function hL(c){p0!==c&&(p0=c,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){p0===c&&(p0=null);for(var p=0;p<c.length;p+=3){var m=c[p],y=c[p+1],S=c[p+2];if(typeof y!="function"){if(zv(y||m)===null)continue;break}var k=Dt(m);k!==null&&(c.splice(p,3),p-=3,HE(k,{pending:!0,data:S,method:m.method,action:y},y,S))}}))}function Sd(c){function p(xe){return d0(xe,c)}Xl!==null&&d0(Xl,c),Zl!==null&&d0(Zl,c),Jl!==null&&d0(Jl,c),Nh.forEach(p),Ih.forEach(p);for(var m=0;m<ec.length;m++){var y=ec[m];y.blockedOn===c&&(y.blockedOn=null)}for(;0<ec.length&&(m=ec[0],m.blockedOn===null);)dL(m),m.blockedOn===null&&ec.shift();if(m=(c.ownerDocument||c).$$reactFormReplay,m!=null)for(y=0;y<m.length;y+=3){var S=m[y],k=m[y+1],U=S[cn]||null;if(typeof k=="function")U||hL(m);else if(U){var J=null;if(k&&k.hasAttribute("formAction")){if(S=k,U=k[cn]||null)J=U.formAction;else if(zv(S)!==null)continue}else J=U.action;typeof J=="function"?m[y+1]=J:(m.splice(y,3),y-=3),hL(m)}}}function gL(){function c(k){k.canIntercept&&k.info==="react-transition"&&k.intercept({handler:function(){return new Promise(function(U){return S=U})},focusReset:"manual",scroll:"manual"})}function p(){S!==null&&(S(),S=null),y||setTimeout(m,20)}function m(){if(!y&&!navigation.transition){var k=navigation.currentEntry;k&&k.url!=null&&navigation.navigate(k.url,{state:k.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var y=!1,S=null;return navigation.addEventListener("navigate",c),navigation.addEventListener("navigatesuccess",p),navigation.addEventListener("navigateerror",p),setTimeout(m,100),function(){y=!0,navigation.removeEventListener("navigate",c),navigation.removeEventListener("navigatesuccess",p),navigation.removeEventListener("navigateerror",p),S!==null&&(S(),S=null)}}}function qv(c){this._internalRoot=c}h0.prototype.render=qv.prototype.render=function(c){var p=this._internalRoot;if(p===null)throw Error(n(409));var m=p.current,y=hi();sL(m,y,c,p,null,null)},h0.prototype.unmount=qv.prototype.unmount=function(){var c=this._internalRoot;if(c!==null){this._internalRoot=null;var p=c.containerInfo;sL(c.current,2,null,c,null,null),Yf(),p[Ba]=null}};function h0(c){this._internalRoot=c}h0.prototype.unstable_scheduleHydration=function(c){if(c){var p=xs();c={blockedOn:null,target:c,priority:p};for(var m=0;m<ec.length&&p!==0&&p<ec[m].priority;m++);ec.splice(m,0,c),m===0&&dL(c)}};var mL=t.version;if(mL!=="19.2.0")throw Error(n(527,mL,"19.2.0"));Y.findDOMNode=function(c){var p=c._reactInternals;if(p===void 0)throw typeof c.render=="function"?Error(n(188)):(c=Object.keys(c).join(","),Error(n(268,c)));return c=d(p),c=c!==null?h(c):null,c=c===null?null:c.stateNode,c};var mq={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var g0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!g0.isDisabled&&g0.supportsFiber)try{Ft=g0.inject(mq),Ct=g0}catch{}}return Lh.createRoot=function(c,p){if(!a(c))throw Error(n(299));var m=!1,y="",S=SR,k=TR,U=wR;return p!=null&&(p.unstable_strictMode===!0&&(m=!0),p.identifierPrefix!==void 0&&(y=p.identifierPrefix),p.onUncaughtError!==void 0&&(S=p.onUncaughtError),p.onCaughtError!==void 0&&(k=p.onCaughtError),p.onRecoverableError!==void 0&&(U=p.onRecoverableError)),p=nL(c,1,!1,null,null,m,y,null,S,k,U,gL),c[Ba]=p.current,Cv(c),new qv(p)},Lh.hydrateRoot=function(c,p,m){if(!a(c))throw Error(n(299));var y=!1,S="",k=SR,U=TR,J=wR,xe=null;return m!=null&&(m.unstable_strictMode===!0&&(y=!0),m.identifierPrefix!==void 0&&(S=m.identifierPrefix),m.onUncaughtError!==void 0&&(k=m.onUncaughtError),m.onCaughtError!==void 0&&(U=m.onCaughtError),m.onRecoverableError!==void 0&&(J=m.onRecoverableError),m.formState!==void 0&&(xe=m.formState)),p=nL(c,1,!0,p,m??null,y,S,xe,k,U,J,gL),p.context=aL(null),m=p.current,y=hi(),y=Nr(y),S=Bl(y),S.callback=null,Ul(m,S,y),m=y,p.current.lanes=m,Ur(p,m),_o(p),c[Ba]=p.current,Cv(c),new h0(p)},Lh.version="19.2.0",Lh}var kL;function wq(){if(kL)return Yv.exports;kL=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Yv.exports=Tq(),Yv.exports}var kq=wq();const Tr=e=>typeof e=="string",Oh=()=>{let e,t;const r=new Promise((n,a)=>{e=n,t=a});return r.resolve=e,r.reject=t,r},CL=e=>e==null?"":""+e,Cq=(e,t,r)=>{e.forEach(n=>{t[n]&&(r[n]=t[n])})},_q=/###/g,_L=e=>e&&e.indexOf("###")>-1?e.replace(_q,"."):e,AL=e=>!e||Tr(e),wg=(e,t,r)=>{const n=Tr(t)?t.split("."):t;let a=0;for(;a<n.length-1;){if(AL(e))return{};const i=_L(n[a]);!e[i]&&r&&(e[i]=new r),Object.prototype.hasOwnProperty.call(e,i)?e=e[i]:e={},++a}return AL(e)?{}:{obj:e,k:_L(n[a])}},NL=(e,t,r)=>{const{obj:n,k:a}=wg(e,t,Object);if(n!==void 0||t.length===1){n[a]=r;return}let i=t[t.length-1],o=t.slice(0,t.length-1),l=wg(e,o,Object);for(;l.obj===void 0&&o.length;)i=`${o[o.length-1]}.${i}`,o=o.slice(0,o.length-1),l=wg(e,o,Object),l?.obj&&typeof l.obj[`${l.k}.${i}`]<"u"&&(l.obj=void 0);l.obj[`${l.k}.${i}`]=r},Aq=(e,t,r,n)=>{const{obj:a,k:i}=wg(e,t,Object);a[i]=a[i]||[],a[i].push(r)},wb=(e,t)=>{const{obj:r,k:n}=wg(e,t);if(r&&Object.prototype.hasOwnProperty.call(r,n))return r[n]},Nq=(e,t,r)=>{const n=wb(e,r);return n!==void 0?n:wb(t,r)},F4=(e,t,r)=>{for(const n in t)n!=="__proto__"&&n!=="constructor"&&(n in e?Tr(e[n])||e[n]instanceof String||Tr(t[n])||t[n]instanceof String?r&&(e[n]=t[n]):F4(e[n],t[n],r):e[n]=t[n]);return e},Td=e=>e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var Iq={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const Rq=e=>Tr(e)?e.replace(/[&<>"'\/]/g,t=>Iq[t]):e;class Dq{constructor(t){this.capacity=t,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(t){const r=this.regExpMap.get(t);if(r!==void 0)return r;const n=new RegExp(t);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(t,n),this.regExpQueue.push(t),n}}const Lq=[" ",",","?","!",";"],Oq=new Dq(20),Mq=(e,t,r)=>{t=t||"",r=r||"";const n=Lq.filter(o=>t.indexOf(o)<0&&r.indexOf(o)<0);if(n.length===0)return!0;const a=Oq.getRegExp(`(${n.map(o=>o==="?"?"\\?":o).join("|")})`);let i=!a.test(e);if(!i){const o=e.indexOf(r);o>0&&!a.test(e.substring(0,o))&&(i=!0)}return i},y1=(e,t,r=".")=>{if(!e)return;if(e[t])return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0;const n=t.split(r);let a=e;for(let i=0;i<n.length;){if(!a||typeof a!="object")return;let o,l="";for(let u=i;u<n.length;++u)if(u!==i&&(l+=r),l+=n[u],o=a[l],o!==void 0){if(["string","number","boolean"].indexOf(typeof o)>-1&&u<n.length-1)continue;i+=u-i+1;break}a=o}return a},Kg=e=>e?.replace("_","-"),Pq={type:"logger",log(e){this.output("log",e)},warn(e){this.output("warn",e)},error(e){this.output("error",e)},output(e,t){console?.[e]?.apply?.(console,t)}};class kb{constructor(t,r={}){this.init(t,r)}init(t,r={}){this.prefix=r.prefix||"i18next:",this.logger=t||Pq,this.options=r,this.debug=r.debug}log(...t){return this.forward(t,"log","",!0)}warn(...t){return this.forward(t,"warn","",!0)}error(...t){return this.forward(t,"error","")}deprecate(...t){return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}forward(t,r,n,a){return a&&!this.debug?null:(Tr(t[0])&&(t[0]=`${n}${this.prefix} ${t[0]}`),this.logger[r](t))}create(t){return new kb(this.logger,{prefix:`${this.prefix}:${t}:`,...this.options})}clone(t){return t=t||this.options,t.prefix=t.prefix||this.prefix,new kb(this.logger,t)}}var $o=new kb;class Ay{constructor(){this.observers={}}on(t,r){return t.split(" ").forEach(n=>{this.observers[n]||(this.observers[n]=new Map);const a=this.observers[n].get(r)||0;this.observers[n].set(r,a+1)}),this}off(t,r){if(this.observers[t]){if(!r){delete this.observers[t];return}this.observers[t].delete(r)}}emit(t,...r){this.observers[t]&&Array.from(this.observers[t].entries()).forEach(([a,i])=>{for(let o=0;o<i;o++)a(...r)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([a,i])=>{for(let o=0;o<i;o++)a.apply(a,[t,...r])})}}class IL extends Ay{constructor(t,r={ns:["translation"],defaultNS:"translation"}){super(),this.data=t||{},this.options=r,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(t){this.options.ns.indexOf(t)<0&&this.options.ns.push(t)}removeNamespaces(t){const r=this.options.ns.indexOf(t);r>-1&&this.options.ns.splice(r,1)}getResource(t,r,n,a={}){const i=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator,o=a.ignoreJSONStructure!==void 0?a.ignoreJSONStructure:this.options.ignoreJSONStructure;let l;t.indexOf(".")>-1?l=t.split("."):(l=[t,r],n&&(Array.isArray(n)?l.push(...n):Tr(n)&&i?l.push(...n.split(i)):l.push(n)));const u=wb(this.data,l);return!u&&!r&&!n&&t.indexOf(".")>-1&&(t=l[0],r=l[1],n=l.slice(2).join(".")),u||!o||!Tr(n)?u:y1(this.data?.[t]?.[r],n,i)}addResource(t,r,n,a,i={silent:!1}){const o=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator;let l=[t,r];n&&(l=l.concat(o?n.split(o):n)),t.indexOf(".")>-1&&(l=t.split("."),a=r,r=l[1]),this.addNamespaces(r),NL(this.data,l,a),i.silent||this.emit("added",t,r,n,a)}addResources(t,r,n,a={silent:!1}){for(const i in n)(Tr(n[i])||Array.isArray(n[i]))&&this.addResource(t,r,i,n[i],{silent:!0});a.silent||this.emit("added",t,r,n)}addResourceBundle(t,r,n,a,i,o={silent:!1,skipCopy:!1}){let l=[t,r];t.indexOf(".")>-1&&(l=t.split("."),a=n,n=r,r=l[1]),this.addNamespaces(r);let u=wb(this.data,l)||{};o.skipCopy||(n=JSON.parse(JSON.stringify(n))),a?F4(u,n,i):u={...u,...n},NL(this.data,l,u),o.silent||this.emit("added",t,r,n)}removeResourceBundle(t,r){this.hasResourceBundle(t,r)&&delete this.data[t][r],this.removeNamespaces(r),this.emit("removed",t,r)}hasResourceBundle(t,r){return this.getResource(t,r)!==void 0}getResourceBundle(t,r){return r||(r=this.options.defaultNS),this.getResource(t,r)}getDataByLanguage(t){return this.data[t]}hasLanguageSomeTranslations(t){const r=this.getDataByLanguage(t);return!!(r&&Object.keys(r)||[]).find(a=>r[a]&&Object.keys(r[a]).length>0)}toJSON(){return this.data}}var B4={processors:{},addPostProcessor(e){this.processors[e.name]=e},handle(e,t,r,n,a){return e.forEach(i=>{t=this.processors[i]?.process(t,r,n,a)??t}),t}};const U4=Symbol("i18next/PATH_KEY");function jq(){const e=[],t=Object.create(null);let r;return t.get=(n,a)=>(r?.revoke?.(),a===U4?e:(e.push(a),r=Proxy.revocable(n,t),r.proxy)),Proxy.revocable(Object.create(null),t).proxy}function x1(e,t){const{[U4]:r}=e(jq());return r.join(t?.keySeparator??".")}const RL={},Zv=e=>!Tr(e)&&typeof e!="boolean"&&typeof e!="number";class Cb extends Ay{constructor(t,r={}){super(),Cq(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],t,this),this.options=r,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=$o.create("translator")}changeLanguage(t){t&&(this.language=t)}exists(t,r={interpolation:{}}){const n={...r};if(t==null)return!1;const a=this.resolve(t,n);if(a?.res===void 0)return!1;const i=Zv(a.res);return!(n.returnObjects===!1&&i)}extractFromKey(t,r){let n=r.nsSeparator!==void 0?r.nsSeparator:this.options.nsSeparator;n===void 0&&(n=":");const a=r.keySeparator!==void 0?r.keySeparator:this.options.keySeparator;let i=r.ns||this.options.defaultNS||[];const o=n&&t.indexOf(n)>-1,l=!this.options.userDefinedKeySeparator&&!r.keySeparator&&!this.options.userDefinedNsSeparator&&!r.nsSeparator&&!Mq(t,n,a);if(o&&!l){const u=t.match(this.interpolator.nestingRegexp);if(u&&u.length>0)return{key:t,namespaces:Tr(i)?[i]:i};const d=t.split(n);(n!==a||n===a&&this.options.ns.indexOf(d[0])>-1)&&(i=d.shift()),t=d.join(a)}return{key:t,namespaces:Tr(i)?[i]:i}}translate(t,r,n){let a=typeof r=="object"?{...r}:r;if(typeof a!="object"&&this.options.overloadTranslationOptionHandler&&(a=this.options.overloadTranslationOptionHandler(arguments)),typeof a=="object"&&(a={...a}),a||(a={}),t==null)return"";typeof t=="function"&&(t=x1(t,{...this.options,...a})),Array.isArray(t)||(t=[String(t)]);const i=a.returnDetails!==void 0?a.returnDetails:this.options.returnDetails,o=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator,{key:l,namespaces:u}=this.extractFromKey(t[t.length-1],a),d=u[u.length-1];let h=a.nsSeparator!==void 0?a.nsSeparator:this.options.nsSeparator;h===void 0&&(h=":");const g=a.lng||this.language,f=a.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(g?.toLowerCase()==="cimode")return f?i?{res:`${d}${h}${l}`,usedKey:l,exactUsedKey:l,usedLng:g,usedNS:d,usedParams:this.getUsedParamsDetails(a)}:`${d}${h}${l}`:i?{res:l,usedKey:l,exactUsedKey:l,usedLng:g,usedNS:d,usedParams:this.getUsedParamsDetails(a)}:l;const b=this.resolve(t,a);let x=b?.res;const E=b?.usedKey||l,v=b?.exactUsedKey||l,T=["[object Number]","[object Function]","[object RegExp]"],w=a.joinArrays!==void 0?a.joinArrays:this.options.joinArrays,N=!this.i18nFormat||this.i18nFormat.handleAsObject,R=a.count!==void 0&&!Tr(a.count),D=Cb.hasDefaultValue(a),L=R?this.pluralResolver.getSuffix(g,a.count,a):"",j=a.ordinal&&R?this.pluralResolver.getSuffix(g,a.count,{ordinal:!1}):"",B=R&&!a.ordinal&&a.count===0,q=B&&a[`defaultValue${this.options.pluralSeparator}zero`]||a[`defaultValue${L}`]||a[`defaultValue${j}`]||a.defaultValue;let z=x;N&&!x&&D&&(z=q);const K=Zv(z),X=Object.prototype.toString.apply(z);if(N&&z&&K&&T.indexOf(X)<0&&!(Tr(w)&&Array.isArray(z))){if(!a.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const Q=this.options.returnedObjectHandler?this.options.returnedObjectHandler(E,z,{...a,ns:u}):`key '${l} (${this.language})' returned an object instead of string.`;return i?(b.res=Q,b.usedParams=this.getUsedParamsDetails(a),b):Q}if(o){const Q=Array.isArray(z),O=Q?[]:{},H=Q?v:E;for(const $ in z)if(Object.prototype.hasOwnProperty.call(z,$)){const Y=`${H}${o}${$}`;D&&!x?O[$]=this.translate(Y,{...a,defaultValue:Zv(q)?q[$]:void 0,joinArrays:!1,ns:u}):O[$]=this.translate(Y,{...a,joinArrays:!1,ns:u}),O[$]===Y&&(O[$]=z[$])}x=O}}else if(N&&Tr(w)&&Array.isArray(x))x=x.join(w),x&&(x=this.extendTranslation(x,t,a,n));else{let Q=!1,O=!1;!this.isValidLookup(x)&&D&&(Q=!0,x=q),this.isValidLookup(x)||(O=!0,x=l);const $=(a.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&O?void 0:x,Y=D&&q!==x&&this.options.updateMissing;if(O||Q||Y){if(this.logger.log(Y?"updateKey":"missingKey",g,d,l,Y?q:x),o){const I=this.resolve(l,{...a,keySeparator:!1});I&&I.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let V=[];const ne=this.languageUtils.getFallbackCodes(this.options.fallbackLng,a.lng||this.language);if(this.options.saveMissingTo==="fallback"&&ne&&ne[0])for(let I=0;I<ne.length;I++)V.push(ne[I]);else this.options.saveMissingTo==="all"?V=this.languageUtils.toResolveHierarchy(a.lng||this.language):V.push(a.lng||this.language);const P=(I,G,F)=>{const ie=D&&F!==x?F:$;this.options.missingKeyHandler?this.options.missingKeyHandler(I,d,G,ie,Y,a):this.backendConnector?.saveMissing&&this.backendConnector.saveMissing(I,d,G,ie,Y,a),this.emit("missingKey",I,d,G,x)};this.options.saveMissing&&(this.options.saveMissingPlurals&&R?V.forEach(I=>{const G=this.pluralResolver.getSuffixes(I,a);B&&a[`defaultValue${this.options.pluralSeparator}zero`]&&G.indexOf(`${this.options.pluralSeparator}zero`)<0&&G.push(`${this.options.pluralSeparator}zero`),G.forEach(F=>{P([I],l+F,a[`defaultValue${F}`]||q)})}):P(V,l,q))}x=this.extendTranslation(x,t,a,b,n),O&&x===l&&this.options.appendNamespaceToMissingKey&&(x=`${d}${h}${l}`),(O||Q)&&this.options.parseMissingKeyHandler&&(x=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${d}${h}${l}`:l,Q?x:void 0,a))}return i?(b.res=x,b.usedParams=this.getUsedParamsDetails(a),b):x}extendTranslation(t,r,n,a,i){if(this.i18nFormat?.parse)t=this.i18nFormat.parse(t,{...this.options.interpolation.defaultVariables,...n},n.lng||this.language||a.usedLng,a.usedNS,a.usedKey,{resolved:a});else if(!n.skipInterpolation){n.interpolation&&this.interpolator.init({...n,interpolation:{...this.options.interpolation,...n.interpolation}});const u=Tr(t)&&(n?.interpolation?.skipOnVariables!==void 0?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let d;if(u){const g=t.match(this.interpolator.nestingRegexp);d=g&&g.length}let h=n.replace&&!Tr(n.replace)?n.replace:n;if(this.options.interpolation.defaultVariables&&(h={...this.options.interpolation.defaultVariables,...h}),t=this.interpolator.interpolate(t,h,n.lng||this.language||a.usedLng,n),u){const g=t.match(this.interpolator.nestingRegexp),f=g&&g.length;d<f&&(n.nest=!1)}!n.lng&&a&&a.res&&(n.lng=this.language||a.usedLng),n.nest!==!1&&(t=this.interpolator.nest(t,(...g)=>i?.[0]===g[0]&&!n.context?(this.logger.warn(`It seems you are nesting recursively key: ${g[0]} in key: ${r[0]}`),null):this.translate(...g,r),n)),n.interpolation&&this.interpolator.reset()}const o=n.postProcess||this.options.postProcess,l=Tr(o)?[o]:o;return t!=null&&l?.length&&n.applyPostProcessor!==!1&&(t=B4.handle(l,t,r,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...a,usedParams:this.getUsedParamsDetails(n)},...n}:n,this)),t}resolve(t,r={}){let n,a,i,o,l;return Tr(t)&&(t=[t]),t.forEach(u=>{if(this.isValidLookup(n))return;const d=this.extractFromKey(u,r),h=d.key;a=h;let g=d.namespaces;this.options.fallbackNS&&(g=g.concat(this.options.fallbackNS));const f=r.count!==void 0&&!Tr(r.count),b=f&&!r.ordinal&&r.count===0,x=r.context!==void 0&&(Tr(r.context)||typeof r.context=="number")&&r.context!=="",E=r.lngs?r.lngs:this.languageUtils.toResolveHierarchy(r.lng||this.language,r.fallbackLng);g.forEach(v=>{this.isValidLookup(n)||(l=v,!RL[`${E[0]}-${v}`]&&this.utils?.hasLoadedNamespace&&!this.utils?.hasLoadedNamespace(l)&&(RL[`${E[0]}-${v}`]=!0,this.logger.warn(`key "${a}" for languages "${E.join(", ")}" won't get resolved as namespace "${l}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),E.forEach(T=>{if(this.isValidLookup(n))return;o=T;const w=[h];if(this.i18nFormat?.addLookupKeys)this.i18nFormat.addLookupKeys(w,h,T,v,r);else{let R;f&&(R=this.pluralResolver.getSuffix(T,r.count,r));const D=`${this.options.pluralSeparator}zero`,L=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(f&&(r.ordinal&&R.indexOf(L)===0&&w.push(h+R.replace(L,this.options.pluralSeparator)),w.push(h+R),b&&w.push(h+D)),x){const j=`${h}${this.options.contextSeparator||"_"}${r.context}`;w.push(j),f&&(r.ordinal&&R.indexOf(L)===0&&w.push(j+R.replace(L,this.options.pluralSeparator)),w.push(j+R),b&&w.push(j+D))}}let N;for(;N=w.pop();)this.isValidLookup(n)||(i=N,n=this.getResource(T,v,N,r))}))})}),{res:n,usedKey:a,exactUsedKey:i,usedLng:o,usedNS:l}}isValidLookup(t){return t!==void 0&&!(!this.options.returnNull&&t===null)&&!(!this.options.returnEmptyString&&t==="")}getResource(t,r,n,a={}){return this.i18nFormat?.getResource?this.i18nFormat.getResource(t,r,n,a):this.resourceStore.getResource(t,r,n,a)}getUsedParamsDetails(t={}){const r=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],n=t.replace&&!Tr(t.replace);let a=n?t.replace:t;if(n&&typeof t.count<"u"&&(a.count=t.count),this.options.interpolation.defaultVariables&&(a={...this.options.interpolation.defaultVariables,...a}),!n){a={...a};for(const i of r)delete a[i]}return a}static hasDefaultValue(t){const r="defaultValue";for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&r===n.substring(0,r.length)&&t[n]!==void 0)return!0;return!1}}class DL{constructor(t){this.options=t,this.supportedLngs=this.options.supportedLngs||!1,this.logger=$o.create("languageUtils")}getScriptPartFromCode(t){if(t=Kg(t),!t||t.indexOf("-")<0)return null;const r=t.split("-");return r.length===2||(r.pop(),r[r.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(r.join("-"))}getLanguagePartFromCode(t){if(t=Kg(t),!t||t.indexOf("-")<0)return t;const r=t.split("-");return this.formatLanguageCode(r[0])}formatLanguageCode(t){if(Tr(t)&&t.indexOf("-")>-1){let r;try{r=Intl.getCanonicalLocales(t)[0]}catch{}return r&&this.options.lowerCaseLng&&(r=r.toLowerCase()),r||(this.options.lowerCaseLng?t.toLowerCase():t)}return this.options.cleanCode||this.options.lowerCaseLng?t.toLowerCase():t}isSupportedCode(t){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(t=this.getLanguagePartFromCode(t)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(t)>-1}getBestMatchFromCodes(t){if(!t)return null;let r;return t.forEach(n=>{if(r)return;const a=this.formatLanguageCode(n);(!this.options.supportedLngs||this.isSupportedCode(a))&&(r=a)}),!r&&this.options.supportedLngs&&t.forEach(n=>{if(r)return;const a=this.getScriptPartFromCode(n);if(this.isSupportedCode(a))return r=a;const i=this.getLanguagePartFromCode(n);if(this.isSupportedCode(i))return r=i;r=this.options.supportedLngs.find(o=>{if(o===i)return o;if(!(o.indexOf("-")<0&&i.indexOf("-")<0)&&(o.indexOf("-")>0&&i.indexOf("-")<0&&o.substring(0,o.indexOf("-"))===i||o.indexOf(i)===0&&i.length>1))return o})}),r||(r=this.getFallbackCodes(this.options.fallbackLng)[0]),r}getFallbackCodes(t,r){if(!t)return[];if(typeof t=="function"&&(t=t(r)),Tr(t)&&(t=[t]),Array.isArray(t))return t;if(!r)return t.default||[];let n=t[r];return n||(n=t[this.getScriptPartFromCode(r)]),n||(n=t[this.formatLanguageCode(r)]),n||(n=t[this.getLanguagePartFromCode(r)]),n||(n=t.default),n||[]}toResolveHierarchy(t,r){const n=this.getFallbackCodes((r===!1?[]:r)||this.options.fallbackLng||[],t),a=[],i=o=>{o&&(this.isSupportedCode(o)?a.push(o):this.logger.warn(`rejecting language code not found in supportedLngs: ${o}`))};return Tr(t)&&(t.indexOf("-")>-1||t.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&i(this.formatLanguageCode(t)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&i(this.getScriptPartFromCode(t)),this.options.load!=="currentOnly"&&i(this.getLanguagePartFromCode(t))):Tr(t)&&i(this.formatLanguageCode(t)),n.forEach(o=>{a.indexOf(o)<0&&i(this.formatLanguageCode(o))}),a}}const LL={zero:0,one:1,two:2,few:3,many:4,other:5},OL={select:e=>e===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class Fq{constructor(t,r={}){this.languageUtils=t,this.options=r,this.logger=$o.create("pluralResolver"),this.pluralRulesCache={}}addRule(t,r){this.rules[t]=r}clearCache(){this.pluralRulesCache={}}getRule(t,r={}){const n=Kg(t==="dev"?"en":t),a=r.ordinal?"ordinal":"cardinal",i=JSON.stringify({cleanedCode:n,type:a});if(i in this.pluralRulesCache)return this.pluralRulesCache[i];let o;try{o=new Intl.PluralRules(n,{type:a})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),OL;if(!t.match(/-|_/))return OL;const u=this.languageUtils.getLanguagePartFromCode(t);o=this.getRule(u,r)}return this.pluralRulesCache[i]=o,o}needsPlural(t,r={}){let n=this.getRule(t,r);return n||(n=this.getRule("dev",r)),n?.resolvedOptions().pluralCategories.length>1}getPluralFormsOfKey(t,r,n={}){return this.getSuffixes(t,n).map(a=>`${r}${a}`)}getSuffixes(t,r={}){let n=this.getRule(t,r);return n||(n=this.getRule("dev",r)),n?n.resolvedOptions().pluralCategories.sort((a,i)=>LL[a]-LL[i]).map(a=>`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${a}`):[]}getSuffix(t,r,n={}){const a=this.getRule(t,n);return a?`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${a.select(r)}`:(this.logger.warn(`no plural rule found for: ${t}`),this.getSuffix("dev",r,n))}}const ML=(e,t,r,n=".",a=!0)=>{let i=Nq(e,t,r);return!i&&a&&Tr(r)&&(i=y1(e,r,n),i===void 0&&(i=y1(t,r,n))),i},Jv=e=>e.replace(/\$/g,"$$$$");class Bq{constructor(t={}){this.logger=$o.create("interpolator"),this.options=t,this.format=t?.interpolation?.format||(r=>r),this.init(t)}init(t={}){t.interpolation||(t.interpolation={escapeValue:!0});const{escape:r,escapeValue:n,useRawValueToEscape:a,prefix:i,prefixEscaped:o,suffix:l,suffixEscaped:u,formatSeparator:d,unescapeSuffix:h,unescapePrefix:g,nestingPrefix:f,nestingPrefixEscaped:b,nestingSuffix:x,nestingSuffixEscaped:E,nestingOptionsSeparator:v,maxReplaces:T,alwaysFormat:w}=t.interpolation;this.escape=r!==void 0?r:Rq,this.escapeValue=n!==void 0?n:!0,this.useRawValueToEscape=a!==void 0?a:!1,this.prefix=i?Td(i):o||"{{",this.suffix=l?Td(l):u||"}}",this.formatSeparator=d||",",this.unescapePrefix=h?"":g||"-",this.unescapeSuffix=this.unescapePrefix?"":h||"",this.nestingPrefix=f?Td(f):b||Td("$t("),this.nestingSuffix=x?Td(x):E||Td(")"),this.nestingOptionsSeparator=v||",",this.maxReplaces=T||1e3,this.alwaysFormat=w!==void 0?w:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const t=(r,n)=>r?.source===n?(r.lastIndex=0,r):new RegExp(n,"g");this.regexp=t(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=t(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=t(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(t,r,n,a){let i,o,l;const u=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},d=b=>{if(b.indexOf(this.formatSeparator)<0){const T=ML(r,u,b,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(T,void 0,n,{...a,...r,interpolationkey:b}):T}const x=b.split(this.formatSeparator),E=x.shift().trim(),v=x.join(this.formatSeparator).trim();return this.format(ML(r,u,E,this.options.keySeparator,this.options.ignoreJSONStructure),v,n,{...a,...r,interpolationkey:E})};this.resetRegExp();const h=a?.missingInterpolationHandler||this.options.missingInterpolationHandler,g=a?.interpolation?.skipOnVariables!==void 0?a.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:b=>Jv(b)},{regex:this.regexp,safeValue:b=>this.escapeValue?Jv(this.escape(b)):Jv(b)}].forEach(b=>{for(l=0;i=b.regex.exec(t);){const x=i[1].trim();if(o=d(x),o===void 0)if(typeof h=="function"){const v=h(t,i,a);o=Tr(v)?v:""}else if(a&&Object.prototype.hasOwnProperty.call(a,x))o="";else if(g){o=i[0];continue}else this.logger.warn(`missed to pass in variable ${x} for interpolating ${t}`),o="";else!Tr(o)&&!this.useRawValueToEscape&&(o=CL(o));const E=b.safeValue(o);if(t=t.replace(i[0],E),g?(b.regex.lastIndex+=o.length,b.regex.lastIndex-=i[0].length):b.regex.lastIndex=0,l++,l>=this.maxReplaces)break}}),t}nest(t,r,n={}){let a,i,o;const l=(u,d)=>{const h=this.nestingOptionsSeparator;if(u.indexOf(h)<0)return u;const g=u.split(new RegExp(`${h}[ ]*{`));let f=`{${g[1]}`;u=g[0],f=this.interpolate(f,o);const b=f.match(/'/g),x=f.match(/"/g);((b?.length??0)%2===0&&!x||x.length%2!==0)&&(f=f.replace(/'/g,'"'));try{o=JSON.parse(f),d&&(o={...d,...o})}catch(E){return this.logger.warn(`failed parsing options string in nesting for key ${u}`,E),`${u}${h}${f}`}return o.defaultValue&&o.defaultValue.indexOf(this.prefix)>-1&&delete o.defaultValue,u};for(;a=this.nestingRegexp.exec(t);){let u=[];o={...n},o=o.replace&&!Tr(o.replace)?o.replace:o,o.applyPostProcessor=!1,delete o.defaultValue;const d=/{.*}/.test(a[1])?a[1].lastIndexOf("}")+1:a[1].indexOf(this.formatSeparator);if(d!==-1&&(u=a[1].slice(d).split(this.formatSeparator).map(h=>h.trim()).filter(Boolean),a[1]=a[1].slice(0,d)),i=r(l.call(this,a[1].trim(),o),o),i&&a[0]===t&&!Tr(i))return i;Tr(i)||(i=CL(i)),i||(this.logger.warn(`missed to resolve ${a[1]} for nesting ${t}`),i=""),u.length&&(i=u.reduce((h,g)=>this.format(h,g,n.lng,{...n,interpolationkey:a[1].trim()}),i.trim())),t=t.replace(a[0],i),this.regexp.lastIndex=0}return t}}const Uq=e=>{let t=e.toLowerCase().trim();const r={};if(e.indexOf("(")>-1){const n=e.split("(");t=n[0].toLowerCase().trim();const a=n[1].substring(0,n[1].length-1);t==="currency"&&a.indexOf(":")<0?r.currency||(r.currency=a.trim()):t==="relativetime"&&a.indexOf(":")<0?r.range||(r.range=a.trim()):a.split(";").forEach(o=>{if(o){const[l,...u]=o.split(":"),d=u.join(":").trim().replace(/^'+|'+$/g,""),h=l.trim();r[h]||(r[h]=d),d==="false"&&(r[h]=!1),d==="true"&&(r[h]=!0),isNaN(d)||(r[h]=parseInt(d,10))}})}return{formatName:t,formatOptions:r}},PL=e=>{const t={};return(r,n,a)=>{let i=a;a&&a.interpolationkey&&a.formatParams&&a.formatParams[a.interpolationkey]&&a[a.interpolationkey]&&(i={...i,[a.interpolationkey]:void 0});const o=n+JSON.stringify(i);let l=t[o];return l||(l=e(Kg(n),a),t[o]=l),l(r)}},$q=e=>(t,r,n)=>e(Kg(r),n)(t);class Hq{constructor(t={}){this.logger=$o.create("formatter"),this.options=t,this.init(t)}init(t,r={interpolation:{}}){this.formatSeparator=r.interpolation.formatSeparator||",";const n=r.cacheInBuiltFormats?PL:$q;this.formats={number:n((a,i)=>{const o=new Intl.NumberFormat(a,{...i});return l=>o.format(l)}),currency:n((a,i)=>{const o=new Intl.NumberFormat(a,{...i,style:"currency"});return l=>o.format(l)}),datetime:n((a,i)=>{const o=new Intl.DateTimeFormat(a,{...i});return l=>o.format(l)}),relativetime:n((a,i)=>{const o=new Intl.RelativeTimeFormat(a,{...i});return l=>o.format(l,i.range||"day")}),list:n((a,i)=>{const o=new Intl.ListFormat(a,{...i});return l=>o.format(l)})}}add(t,r){this.formats[t.toLowerCase().trim()]=r}addCached(t,r){this.formats[t.toLowerCase().trim()]=PL(r)}format(t,r,n,a={}){const i=r.split(this.formatSeparator);if(i.length>1&&i[0].indexOf("(")>1&&i[0].indexOf(")")<0&&i.find(l=>l.indexOf(")")>-1)){const l=i.findIndex(u=>u.indexOf(")")>-1);i[0]=[i[0],...i.splice(1,l)].join(this.formatSeparator)}return i.reduce((l,u)=>{const{formatName:d,formatOptions:h}=Uq(u);if(this.formats[d]){let g=l;try{const f=a?.formatParams?.[a.interpolationkey]||{},b=f.locale||f.lng||a.locale||a.lng||n;g=this.formats[d](l,b,{...h,...a,...f})}catch(f){this.logger.warn(f)}return g}else this.logger.warn(`there was no format function for ${d}`);return l},t)}}const zq=(e,t)=>{e.pending[t]!==void 0&&(delete e.pending[t],e.pendingCount--)};class Gq extends Ay{constructor(t,r,n,a={}){super(),this.backend=t,this.store=r,this.services=n,this.languageUtils=n.languageUtils,this.options=a,this.logger=$o.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=a.maxParallelReads||10,this.readingCalls=0,this.maxRetries=a.maxRetries>=0?a.maxRetries:5,this.retryTimeout=a.retryTimeout>=1?a.retryTimeout:350,this.state={},this.queue=[],this.backend?.init?.(n,a.backend,a)}queueLoad(t,r,n,a){const i={},o={},l={},u={};return t.forEach(d=>{let h=!0;r.forEach(g=>{const f=`${d}|${g}`;!n.reload&&this.store.hasResourceBundle(d,g)?this.state[f]=2:this.state[f]<0||(this.state[f]===1?o[f]===void 0&&(o[f]=!0):(this.state[f]=1,h=!1,o[f]===void 0&&(o[f]=!0),i[f]===void 0&&(i[f]=!0),u[g]===void 0&&(u[g]=!0)))}),h||(l[d]=!0)}),(Object.keys(i).length||Object.keys(o).length)&&this.queue.push({pending:o,pendingCount:Object.keys(o).length,loaded:{},errors:[],callback:a}),{toLoad:Object.keys(i),pending:Object.keys(o),toLoadLanguages:Object.keys(l),toLoadNamespaces:Object.keys(u)}}loaded(t,r,n){const a=t.split("|"),i=a[0],o=a[1];r&&this.emit("failedLoading",i,o,r),!r&&n&&this.store.addResourceBundle(i,o,n,void 0,void 0,{skipCopy:!0}),this.state[t]=r?-1:2,r&&n&&(this.state[t]=0);const l={};this.queue.forEach(u=>{Aq(u.loaded,[i],o),zq(u,t),r&&u.errors.push(r),u.pendingCount===0&&!u.done&&(Object.keys(u.loaded).forEach(d=>{l[d]||(l[d]={});const h=u.loaded[d];h.length&&h.forEach(g=>{l[d][g]===void 0&&(l[d][g]=!0)})}),u.done=!0,u.errors.length?u.callback(u.errors):u.callback())}),this.emit("loaded",l),this.queue=this.queue.filter(u=>!u.done)}read(t,r,n,a=0,i=this.retryTimeout,o){if(!t.length)return o(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:t,ns:r,fcName:n,tried:a,wait:i,callback:o});return}this.readingCalls++;const l=(d,h)=>{if(this.readingCalls--,this.waitingReads.length>0){const g=this.waitingReads.shift();this.read(g.lng,g.ns,g.fcName,g.tried,g.wait,g.callback)}if(d&&h&&a<this.maxRetries){setTimeout(()=>{this.read.call(this,t,r,n,a+1,i*2,o)},i);return}o(d,h)},u=this.backend[n].bind(this.backend);if(u.length===2){try{const d=u(t,r);d&&typeof d.then=="function"?d.then(h=>l(null,h)).catch(l):l(null,d)}catch(d){l(d)}return}return u(t,r,l)}prepareLoading(t,r,n={},a){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),a&&a();Tr(t)&&(t=this.languageUtils.toResolveHierarchy(t)),Tr(r)&&(r=[r]);const i=this.queueLoad(t,r,n,a);if(!i.toLoad.length)return i.pending.length||a(),null;i.toLoad.forEach(o=>{this.loadOne(o)})}load(t,r,n){this.prepareLoading(t,r,{},n)}reload(t,r,n){this.prepareLoading(t,r,{reload:!0},n)}loadOne(t,r=""){const n=t.split("|"),a=n[0],i=n[1];this.read(a,i,"read",void 0,void 0,(o,l)=>{o&&this.logger.warn(`${r}loading namespace ${i} for language ${a} failed`,o),!o&&l&&this.logger.log(`${r}loaded namespace ${i} for language ${a}`,l),this.loaded(t,o,l)})}saveMissing(t,r,n,a,i,o={},l=()=>{}){if(this.services?.utils?.hasLoadedNamespace&&!this.services?.utils?.hasLoadedNamespace(r)){this.logger.warn(`did not save key "${n}" as the namespace "${r}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(n==null||n==="")){if(this.backend?.create){const u={...o,isUpdate:i},d=this.backend.create.bind(this.backend);if(d.length<6)try{let h;d.length===5?h=d(t,r,n,a,u):h=d(t,r,n,a),h&&typeof h.then=="function"?h.then(g=>l(null,g)).catch(l):l(null,h)}catch(h){l(h)}else d(t,r,n,a,l,u)}!t||!t[0]||this.store.addResource(t[0],r,n,a)}}}const jL=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:e=>{let t={};if(typeof e[1]=="object"&&(t=e[1]),Tr(e[1])&&(t.defaultValue=e[1]),Tr(e[2])&&(t.tDescription=e[2]),typeof e[2]=="object"||typeof e[3]=="object"){const r=e[3]||e[2];Object.keys(r).forEach(n=>{t[n]=r[n]})}return t},interpolation:{escapeValue:!0,format:e=>e,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),FL=e=>(Tr(e.ns)&&(e.ns=[e.ns]),Tr(e.fallbackLng)&&(e.fallbackLng=[e.fallbackLng]),Tr(e.fallbackNS)&&(e.fallbackNS=[e.fallbackNS]),e.supportedLngs?.indexOf?.("cimode")<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),typeof e.initImmediate=="boolean"&&(e.initAsync=e.initImmediate),e),m0=()=>{},qq=e=>{Object.getOwnPropertyNames(Object.getPrototypeOf(e)).forEach(r=>{typeof e[r]=="function"&&(e[r]=e[r].bind(e))})};class Qg extends Ay{constructor(t={},r){if(super(),this.options=FL(t),this.services={},this.logger=$o,this.modules={external:[]},qq(this),r&&!this.isInitialized&&!t.isClone){if(!this.options.initAsync)return this.init(t,r),this;setTimeout(()=>{this.init(t,r)},0)}}init(t={},r){this.isInitializing=!0,typeof t=="function"&&(r=t,t={}),t.defaultNS==null&&t.ns&&(Tr(t.ns)?t.defaultNS=t.ns:t.ns.indexOf("translation")<0&&(t.defaultNS=t.ns[0]));const n=jL();this.options={...n,...this.options,...FL(t)},this.options.interpolation={...n.interpolation,...this.options.interpolation},t.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=t.keySeparator),t.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=t.nsSeparator);const a=d=>d?typeof d=="function"?new d:d:null;if(!this.options.isClone){this.modules.logger?$o.init(a(this.modules.logger),this.options):$o.init(null,this.options);let d;this.modules.formatter?d=this.modules.formatter:d=Hq;const h=new DL(this.options);this.store=new IL(this.options.resources,this.options);const g=this.services;g.logger=$o,g.resourceStore=this.store,g.languageUtils=h,g.pluralResolver=new Fq(h,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==n.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),d&&(!this.options.interpolation.format||this.options.interpolation.format===n.interpolation.format)&&(g.formatter=a(d),g.formatter.init&&g.formatter.init(g,this.options),this.options.interpolation.format=g.formatter.format.bind(g.formatter)),g.interpolator=new Bq(this.options),g.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},g.backendConnector=new Gq(a(this.modules.backend),g.resourceStore,g,this.options),g.backendConnector.on("*",(b,...x)=>{this.emit(b,...x)}),this.modules.languageDetector&&(g.languageDetector=a(this.modules.languageDetector),g.languageDetector.init&&g.languageDetector.init(g,this.options.detection,this.options)),this.modules.i18nFormat&&(g.i18nFormat=a(this.modules.i18nFormat),g.i18nFormat.init&&g.i18nFormat.init(this)),this.translator=new Cb(this.services,this.options),this.translator.on("*",(b,...x)=>{this.emit(b,...x)}),this.modules.external.forEach(b=>{b.init&&b.init(this)})}if(this.format=this.options.interpolation.format,r||(r=m0),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const d=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);d.length>0&&d[0]!=="dev"&&(this.options.lng=d[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(d=>{this[d]=(...h)=>this.store[d](...h)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(d=>{this[d]=(...h)=>(this.store[d](...h),this)});const l=Oh(),u=()=>{const d=(h,g)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),l.resolve(g),r(h,g)};if(this.languages&&!this.isInitialized)return d(null,this.t.bind(this));this.changeLanguage(this.options.lng,d)};return this.options.resources||!this.options.initAsync?u():setTimeout(u,0),l}loadResources(t,r=m0){let n=r;const a=Tr(t)?t:this.language;if(typeof t=="function"&&(n=t),!this.options.resources||this.options.partialBundledLanguages){if(a?.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return n();const i=[],o=l=>{if(!l||l==="cimode")return;this.services.languageUtils.toResolveHierarchy(l).forEach(d=>{d!=="cimode"&&i.indexOf(d)<0&&i.push(d)})};a?o(a):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(u=>o(u)),this.options.preload?.forEach?.(l=>o(l)),this.services.backendConnector.load(i,this.options.ns,l=>{!l&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),n(l)})}else n(null)}reloadResources(t,r,n){const a=Oh();return typeof t=="function"&&(n=t,t=void 0),typeof r=="function"&&(n=r,r=void 0),t||(t=this.languages),r||(r=this.options.ns),n||(n=m0),this.services.backendConnector.reload(t,r,i=>{a.resolve(),n(i)}),a}use(t){if(!t)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!t.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return t.type==="backend"&&(this.modules.backend=t),(t.type==="logger"||t.log&&t.warn&&t.error)&&(this.modules.logger=t),t.type==="languageDetector"&&(this.modules.languageDetector=t),t.type==="i18nFormat"&&(this.modules.i18nFormat=t),t.type==="postProcessor"&&B4.addPostProcessor(t),t.type==="formatter"&&(this.modules.formatter=t),t.type==="3rdParty"&&this.modules.external.push(t),this}setResolvedLanguage(t){if(!(!t||!this.languages)&&!(["cimode","dev"].indexOf(t)>-1)){for(let r=0;r<this.languages.length;r++){const n=this.languages[r];if(!(["cimode","dev"].indexOf(n)>-1)&&this.store.hasLanguageSomeTranslations(n)){this.resolvedLanguage=n;break}}!this.resolvedLanguage&&this.languages.indexOf(t)<0&&this.store.hasLanguageSomeTranslations(t)&&(this.resolvedLanguage=t,this.languages.unshift(t))}}changeLanguage(t,r){this.isLanguageChangingTo=t;const n=Oh();this.emit("languageChanging",t);const a=l=>{this.language=l,this.languages=this.services.languageUtils.toResolveHierarchy(l),this.resolvedLanguage=void 0,this.setResolvedLanguage(l)},i=(l,u)=>{u?this.isLanguageChangingTo===t&&(a(u),this.translator.changeLanguage(u),this.isLanguageChangingTo=void 0,this.emit("languageChanged",u),this.logger.log("languageChanged",u)):this.isLanguageChangingTo=void 0,n.resolve((...d)=>this.t(...d)),r&&r(l,(...d)=>this.t(...d))},o=l=>{!t&&!l&&this.services.languageDetector&&(l=[]);const u=Tr(l)?l:l&&l[0],d=this.store.hasLanguageSomeTranslations(u)?u:this.services.languageUtils.getBestMatchFromCodes(Tr(l)?[l]:l);d&&(this.language||a(d),this.translator.language||this.translator.changeLanguage(d),this.services.languageDetector?.cacheUserLanguage?.(d)),this.loadResources(d,h=>{i(h,d)})};return!t&&this.services.languageDetector&&!this.services.languageDetector.async?o(this.services.languageDetector.detect()):!t&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(o):this.services.languageDetector.detect(o):o(t),n}getFixedT(t,r,n){const a=(i,o,...l)=>{let u;typeof o!="object"?u=this.options.overloadTranslationOptionHandler([i,o].concat(l)):u={...o},u.lng=u.lng||a.lng,u.lngs=u.lngs||a.lngs,u.ns=u.ns||a.ns,u.keyPrefix!==""&&(u.keyPrefix=u.keyPrefix||n||a.keyPrefix);const d=this.options.keySeparator||".";let h;return u.keyPrefix&&Array.isArray(i)?h=i.map(g=>(typeof g=="function"&&(g=x1(g,{...this.options,...o})),`${u.keyPrefix}${d}${g}`)):(typeof i=="function"&&(i=x1(i,{...this.options,...o})),h=u.keyPrefix?`${u.keyPrefix}${d}${i}`:i),this.t(h,u)};return Tr(t)?a.lng=t:a.lngs=t,a.ns=r,a.keyPrefix=n,a}t(...t){return this.translator?.translate(...t)}exists(...t){return this.translator?.exists(...t)}setDefaultNamespace(t){this.options.defaultNS=t}hasLoadedNamespace(t,r={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const n=r.lng||this.resolvedLanguage||this.languages[0],a=this.options?this.options.fallbackLng:!1,i=this.languages[this.languages.length-1];if(n.toLowerCase()==="cimode")return!0;const o=(l,u)=>{const d=this.services.backendConnector.state[`${l}|${u}`];return d===-1||d===0||d===2};if(r.precheck){const l=r.precheck(this,o);if(l!==void 0)return l}return!!(this.hasResourceBundle(n,t)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||o(n,t)&&(!a||o(i,t)))}loadNamespaces(t,r){const n=Oh();return this.options.ns?(Tr(t)&&(t=[t]),t.forEach(a=>{this.options.ns.indexOf(a)<0&&this.options.ns.push(a)}),this.loadResources(a=>{n.resolve(),r&&r(a)}),n):(r&&r(),Promise.resolve())}loadLanguages(t,r){const n=Oh();Tr(t)&&(t=[t]);const a=this.options.preload||[],i=t.filter(o=>a.indexOf(o)<0&&this.services.languageUtils.isSupportedCode(o));return i.length?(this.options.preload=a.concat(i),this.loadResources(o=>{n.resolve(),r&&r(o)}),n):(r&&r(),Promise.resolve())}dir(t){if(t||(t=this.resolvedLanguage||(this.languages?.length>0?this.languages[0]:this.language)),!t)return"rtl";try{const a=new Intl.Locale(t);if(a&&a.getTextInfo){const i=a.getTextInfo();if(i&&i.direction)return i.direction}}catch{}const r=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],n=this.services?.languageUtils||new DL(jL());return t.toLowerCase().indexOf("-latn")>1?"ltr":r.indexOf(n.getLanguagePartFromCode(t))>-1||t.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(t={},r){return new Qg(t,r)}cloneInstance(t={},r=m0){const n=t.forkResourceStore;n&&delete t.forkResourceStore;const a={...this.options,...t,isClone:!0},i=new Qg(a);if((t.debug!==void 0||t.prefix!==void 0)&&(i.logger=i.logger.clone(t)),["store","services","language"].forEach(l=>{i[l]=this[l]}),i.services={...this.services},i.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},n){const l=Object.keys(this.store.data).reduce((u,d)=>(u[d]={...this.store.data[d]},u[d]=Object.keys(u[d]).reduce((h,g)=>(h[g]={...u[d][g]},h),u[d]),u),{});i.store=new IL(l,a),i.services.resourceStore=i.store}return i.translator=new Cb(i.services,a),i.translator.on("*",(l,...u)=>{i.emit(l,...u)}),i.init(a,r),i.translator.options=a,i.translator.backendConnector.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},i}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const ms=Qg.createInstance();ms.createInstance=Qg.createInstance;ms.createInstance;ms.dir;ms.init;ms.loadResources;ms.reloadResources;ms.use;ms.changeLanguage;ms.getFixedT;ms.t;ms.exists;ms.setDefaultNamespace;ms.hasLoadedNamespace;ms.loadNamespaces;ms.loadLanguages;var C=_y();const ir=Al(C),Wq=(e,t,r,n)=>{const a=[r,{code:t,...n||{}}];if(e?.services?.logger?.forward)return e.services.logger.forward(a,"warn","react-i18next::",!0);gu(a[0])&&(a[0]=`react-i18next:: ${a[0]}`),e?.services?.logger?.warn?e.services.logger.warn(...a):console?.warn&&console.warn(...a)},BL={},$4=(e,t,r,n)=>{gu(r)&&BL[r]||(gu(r)&&(BL[r]=new Date),Wq(e,t,r,n))},H4=(e,t)=>()=>{if(e.isInitialized)t();else{const r=()=>{setTimeout(()=>{e.off("initialized",r)},0),t()};e.on("initialized",r)}},E1=(e,t,r)=>{e.loadNamespaces(t,H4(e,r))},UL=(e,t,r,n)=>{if(gu(r)&&(r=[r]),e.options.preload&&e.options.preload.indexOf(t)>-1)return E1(e,r,n);r.forEach(a=>{e.options.ns.indexOf(a)<0&&e.options.ns.push(a)}),e.loadLanguages(t,H4(e,n))},Yq=(e,t,r={})=>!t.languages||!t.languages.length?($4(t,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:t.languages}),!0):t.hasLoadedNamespace(e,{lng:r.lng,precheck:(n,a)=>{if(r.bindI18n&&r.bindI18n.indexOf("languageChanging")>-1&&n.services.backendConnector.backend&&n.isLanguageChangingTo&&!a(n.isLanguageChangingTo,e))return!1}}),gu=e=>typeof e=="string",Vq=e=>typeof e=="object"&&e!==null,Kq=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,Qq={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},Xq=e=>Qq[e],Zq=e=>e.replace(Kq,Xq);let v1={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:Zq};const Jq=(e={})=>{v1={...v1,...e}},eW=()=>v1;let z4;const tW=e=>{z4=e},rW=()=>z4,nW={type:"3rdParty",init(e){Jq(e.options.react),tW(e)}},aW=C.createContext();class sW{constructor(){this.usedNamespaces={}}addUsedNamespaces(t){t.forEach(r=>{this.usedNamespaces[r]||(this.usedNamespaces[r]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}var eS={exports:{}},tS={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $L;function iW(){if($L)return tS;$L=1;var e=_y();function t(g,f){return g===f&&(g!==0||1/g===1/f)||g!==g&&f!==f}var r=typeof Object.is=="function"?Object.is:t,n=e.useState,a=e.useEffect,i=e.useLayoutEffect,o=e.useDebugValue;function l(g,f){var b=f(),x=n({inst:{value:b,getSnapshot:f}}),E=x[0].inst,v=x[1];return i(function(){E.value=b,E.getSnapshot=f,u(E)&&v({inst:E})},[g,b,f]),a(function(){return u(E)&&v({inst:E}),g(function(){u(E)&&v({inst:E})})},[g]),o(b),b}function u(g){var f=g.getSnapshot;g=g.value;try{var b=f();return!r(g,b)}catch{return!0}}function d(g,f){return f()}var h=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d:l;return tS.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:h,tS}var HL;function oW(){return HL||(HL=1,eS.exports=iW()),eS.exports}var lW=oW();const cW=(e,t)=>gu(t)?t:Vq(t)&&gu(t.defaultValue)?t.defaultValue:Array.isArray(e)?e[e.length-1]:e,uW={t:cW,ready:!1},dW=()=>()=>{},xc=(e,t={})=>{const{i18n:r}=t,{i18n:n,defaultNS:a}=C.useContext(aW)||{},i=r||n||rW();i&&!i.reportNamespaces&&(i.reportNamespaces=new sW),i||$4(i,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const o=C.useMemo(()=>({...eW(),...i?.options?.react,...t}),[i,t]),{useSuspense:l,keyPrefix:u}=o,d=C.useMemo(()=>{const N=a||i?.options?.defaultNS;return gu(N)?[N]:N||["translation"]},[e,a,i]);i?.reportNamespaces?.addUsedNamespaces?.(d);const h=C.useCallback(N=>{if(!i)return dW;const{bindI18n:R,bindI18nStore:D}=o;return R&&i.on(R,N),D&&i.store.on(D,N),()=>{R&&R.split(" ").forEach(L=>i.off(L,N)),D&&D.split(" ").forEach(L=>i.store.off(L,N))}},[i,o]),g=C.useRef(),f=C.useCallback(()=>{if(!i)return uW;const N=!!(i.isInitialized||i.initializedStoreOnce)&&d.every(j=>Yq(j,i,o)),R=i.getFixedT(t.lng||i.language,o.nsMode==="fallback"?d:d[0],u),D=g.current;if(D&&D.ready===N&&D.lng===(t.lng||i.language)&&D.keyPrefix===u)return D;const L={t:R,ready:N,lng:t.lng||i.language,keyPrefix:u};return g.current=L,L},[i,d,u,o,t.lng]),[b,x]=C.useState(0),{t:E,ready:v}=lW.useSyncExternalStore(h,f,f);C.useEffect(()=>{if(i&&!v&&!l){const N=()=>x(R=>R+1);t.lng?UL(i,t.lng,d,N):E1(i,d,N)}},[i,t.lng,d,v,l,b]);const T=i||{},w=C.useMemo(()=>{const N=[E,T,v];return N.t=E,N.i18n=T,N.ready=v,N},[E,T,v]);if(i&&l&&!v)throw new Promise(N=>{const R=()=>N();t.lng?UL(i,t.lng,d,R):E1(i,d,R)});return w},{slice:pW,forEach:hW}=[];function gW(e){return hW.call(pW.call(arguments,1),t=>{if(t)for(const r in t)e[r]===void 0&&(e[r]=t[r])}),e}function mW(e){return typeof e!="string"?!1:[/<\s*script.*?>/i,/<\s*\/\s*script\s*>/i,/<\s*img.*?on\w+\s*=/i,/<\s*\w+\s*on\w+\s*=.*?>/i,/javascript\s*:/i,/vbscript\s*:/i,/expression\s*\(/i,/eval\s*\(/i,/alert\s*\(/i,/document\.cookie/i,/document\.write\s*\(/i,/window\.location/i,/innerHTML/i].some(r=>r.test(e))}const zL=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,fW=function(e,t){const n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{path:"/"},a=encodeURIComponent(t);let i=`${e}=${a}`;if(n.maxAge>0){const o=n.maxAge-0;if(Number.isNaN(o))throw new Error("maxAge should be a Number");i+=`; Max-Age=${Math.floor(o)}`}if(n.domain){if(!zL.test(n.domain))throw new TypeError("option domain is invalid");i+=`; Domain=${n.domain}`}if(n.path){if(!zL.test(n.path))throw new TypeError("option path is invalid");i+=`; Path=${n.path}`}if(n.expires){if(typeof n.expires.toUTCString!="function")throw new TypeError("option expires is invalid");i+=`; Expires=${n.expires.toUTCString()}`}if(n.httpOnly&&(i+="; HttpOnly"),n.secure&&(i+="; Secure"),n.sameSite)switch(typeof n.sameSite=="string"?n.sameSite.toLowerCase():n.sameSite){case!0:i+="; SameSite=Strict";break;case"lax":i+="; SameSite=Lax";break;case"strict":i+="; SameSite=Strict";break;case"none":i+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return n.partitioned&&(i+="; Partitioned"),i},GL={create(e,t,r,n){let a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};r&&(a.expires=new Date,a.expires.setTime(a.expires.getTime()+r*60*1e3)),n&&(a.domain=n),document.cookie=fW(e,t,a)},read(e){const t=`${e}=`,r=document.cookie.split(";");for(let n=0;n<r.length;n++){let a=r[n];for(;a.charAt(0)===" ";)a=a.substring(1,a.length);if(a.indexOf(t)===0)return a.substring(t.length,a.length)}return null},remove(e,t){this.create(e,"",-1,t)}};var bW={name:"cookie",lookup(e){let{lookupCookie:t}=e;if(t&&typeof document<"u")return GL.read(t)||void 0},cacheUserLanguage(e,t){let{lookupCookie:r,cookieMinutes:n,cookieDomain:a,cookieOptions:i}=t;r&&typeof document<"u"&&GL.create(r,e,n,a,i)}},yW={name:"querystring",lookup(e){let{lookupQuerystring:t}=e,r;if(typeof window<"u"){let{search:n}=window.location;!window.location.search&&window.location.hash?.indexOf("?")>-1&&(n=window.location.hash.substring(window.location.hash.indexOf("?")));const i=n.substring(1).split("&");for(let o=0;o<i.length;o++){const l=i[o].indexOf("=");l>0&&i[o].substring(0,l)===t&&(r=i[o].substring(l+1))}}return r}},xW={name:"hash",lookup(e){let{lookupHash:t,lookupFromHashIndex:r}=e,n;if(typeof window<"u"){const{hash:a}=window.location;if(a&&a.length>2){const i=a.substring(1);if(t){const o=i.split("&");for(let l=0;l<o.length;l++){const u=o[l].indexOf("=");u>0&&o[l].substring(0,u)===t&&(n=o[l].substring(u+1))}}if(n)return n;if(!n&&r>-1){const o=a.match(/\/([a-zA-Z-]*)/g);return Array.isArray(o)?o[typeof r=="number"?r:0]?.replace("/",""):void 0}}}return n}};let wd=null;const qL=()=>{if(wd!==null)return wd;try{if(wd=typeof window<"u"&&window.localStorage!==null,!wd)return!1;const e="i18next.translate.boo";window.localStorage.setItem(e,"foo"),window.localStorage.removeItem(e)}catch{wd=!1}return wd};var EW={name:"localStorage",lookup(e){let{lookupLocalStorage:t}=e;if(t&&qL())return window.localStorage.getItem(t)||void 0},cacheUserLanguage(e,t){let{lookupLocalStorage:r}=t;r&&qL()&&window.localStorage.setItem(r,e)}};let kd=null;const WL=()=>{if(kd!==null)return kd;try{if(kd=typeof window<"u"&&window.sessionStorage!==null,!kd)return!1;const e="i18next.translate.boo";window.sessionStorage.setItem(e,"foo"),window.sessionStorage.removeItem(e)}catch{kd=!1}return kd};var vW={name:"sessionStorage",lookup(e){let{lookupSessionStorage:t}=e;if(t&&WL())return window.sessionStorage.getItem(t)||void 0},cacheUserLanguage(e,t){let{lookupSessionStorage:r}=t;r&&WL()&&window.sessionStorage.setItem(r,e)}},SW={name:"navigator",lookup(e){const t=[];if(typeof navigator<"u"){const{languages:r,userLanguage:n,language:a}=navigator;if(r)for(let i=0;i<r.length;i++)t.push(r[i]);n&&t.push(n),a&&t.push(a)}return t.length>0?t:void 0}},TW={name:"htmlTag",lookup(e){let{htmlTag:t}=e,r;const n=t||(typeof document<"u"?document.documentElement:null);return n&&typeof n.getAttribute=="function"&&(r=n.getAttribute("lang")),r}},wW={name:"path",lookup(e){let{lookupFromPathIndex:t}=e;if(typeof window>"u")return;const r=window.location.pathname.match(/\/([a-zA-Z-]*)/g);return Array.isArray(r)?r[typeof t=="number"?t:0]?.replace("/",""):void 0}},kW={name:"subdomain",lookup(e){let{lookupFromSubdomainIndex:t}=e;const r=typeof t=="number"?t+1:1,n=typeof window<"u"&&window.location?.hostname?.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i);if(n)return n[r]}};let G4=!1;try{document.cookie,G4=!0}catch{}const q4=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];G4||q4.splice(1,1);const CW=()=>({order:q4,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:e=>e});class W4{constructor(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(t,r)}init(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{languageUtils:{}},r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=t,this.options=gW(r,this.options||{},CW()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=a=>a.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=n,this.addDetector(bW),this.addDetector(yW),this.addDetector(EW),this.addDetector(vW),this.addDetector(SW),this.addDetector(TW),this.addDetector(wW),this.addDetector(kW),this.addDetector(xW)}addDetector(t){return this.detectors[t.name]=t,this}detect(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.order,r=[];return t.forEach(n=>{if(this.detectors[n]){let a=this.detectors[n].lookup(this.options);a&&typeof a=="string"&&(a=[a]),a&&(r=r.concat(a))}}),r=r.filter(n=>n!=null&&!mW(n)).map(n=>this.options.convertDetectedLanguage(n)),this.services&&this.services.languageUtils&&this.services.languageUtils.getBestMatchFromCodes?r:r.length>0?r[0]:null}cacheUserLanguage(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.caches;r&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(t)>-1||r.forEach(n=>{this.detectors[n]&&this.detectors[n].cacheUserLanguage(t,this.options)}))}}W4.type="languageDetector";const _W={save:"Save",cancel:"Cancel",delete:"Delete",edit:"Edit",close:"Close",loading:"Loading...",error:"Error",success:"Success",confirm:"Confirm",back:"Back",next:"Next",submit:"Submit",clear:"Clear",search:"Search",filter:"Filter",export:"Export",import:"Import",download:"Download",upload:"Upload",copy:"Copy",paste:"Paste",cut:"Cut",undo:"Undo",redo:"Redo",select:"Select",selectAll:"Select All",deselectAll:"Deselect All"},AW={signIn:"Sign in with Google",signOut:"Sign Out",authRequired:"Authentication is required to use this application",tokenExpired:"Your session has expired. Please sign in again.",welcomeBack:"Welcome back!",signInPrompt:"Sign in to continue",signInRequired:"You must sign in to use this feature",signingIn:"Signing in...",signingOut:"Signing out...",researchAgent:"Research Agent",tagline:"AI-powered research assistant",secureAuth:"Secure authentication powered by Google",whyChooseTitle:"Why Choose Research Agent?",whyChooseIntro:"Unlike standard AI chatbots that simply answer questions, Research Agent is your comprehensive research companion built for deep investigation and knowledge building.",keyAdvantagesTitle:"Key Advantages:",webConnected:"Web-Connected Intelligence",webConnectedDesc:"Real-time web search and content extraction ensure you get current, accurate informationnot outdated training data",multiTool:"Multi-Tool Orchestration",multiToolDesc:"Seamlessly combines web search, code execution, YouTube transcripts, image generation, and document analysis in a single conversation",knowledgeBase:"Knowledge Base Integration",knowledgeBaseDesc:"Save findings to your personal knowledge base, create snippets, and build comprehensive research documents over time",advancedPlanning:"Advanced Planning",advancedPlanningDesc:"Generate structured research plans with expert personas, search strategies, and methodological approaches",costEffective:"Smart Model Selection",costEffectiveDesc:"Automatic selection of models that do the job economically or powerfully based on selection strategy. Bring your own keys to save 25%",transparency:"Full Transparency",transparencyDesc:"Track every API call, token usage, and cost in real-time billing dashboard",perfectFor:"Perfect for: Academic research, market analysis, content creation, technical documentation, competitive intelligence, and any task requiring thorough investigation."},NW={placeholder:"Type your message here...",send:"Send",retry:"Retry",stop:"Stop",thinking:"Thinking...",generating:"Generating response...",newChat:"New Chat",clearHistory:"Clear History",loadChat:"Load Chat",systemPrompt:"System Prompt",customInstructions:"Custom Instructions",temperature:"Temperature",maxTokens:"Max Tokens",model:"Model",provider:"Provider",history:"Chat History",continue:"Continue",regenerate:"Regenerate",edit:"Edit",delete:"Delete",copy:"Copy",copied:"Copied!",selectFiles:"Select Files",attachFiles:"Attach Files",pasteImage:"Paste Image",recording:"Recording...",voiceInput:"Voice Input",stopRecording:"Stop Recording",processing:"Processing...",noMessages:"No messages yet. Start a conversation!",clearConfirm:"Are you sure you want to clear all messages?",deleteConfirm:"Are you sure you want to delete this message?",loadingHistory:"Loading chat history...",savingChat:"Saving chat...",chatSaved:"Chat saved successfully",chatLoaded:"Chat loaded successfully",errorSaving:"Error saving chat",errorLoading:"Error loading chat",signInRequired:"Please sign in to use this feature",providerRequired:"Please configure at least one provider in Settings",messageError:"Error sending message",streamError:"Error in message stream",toolExecution:"Executing tool...",toolExecuted:"Tool executed successfully",toolError:"Tool execution error",searchingWeb:"Searching the web...",scrapingContent:"Scraping content...",transcribingAudio:"Transcribing audio...",generatingImage:"Generating image...",generatingChart:"Generating chart...",executingCode:"Executing code...",planningMode:"Planning Mode",exitPlanning:"Exit Planning",startPlanning:"Start Planning",mcpServers:"MCP Servers",addMCPServer:"Add MCP Server",mcpServerName:"Server Name",mcpServerUrl:"Server URL",exampleServers:"Example Servers",officialServers:"Official MCP Servers",sampleServers:"Sample Servers",instructions:"Instructions",availableTools:"Available Tools",enableServer:"Enable Server",disableServer:"Disable Server",removeServer:"Remove Server",serverAdded:"Server added successfully",serverRemoved:"Server removed successfully",invalidUrl:"Invalid URL format",nameRequired:"Server name is required",urlRequired:"Server URL is required",chatHistory:"Chat History",examples:"Examples",attachContext:"Attach Context",attachContextTooltip:"Attach knowledge base snippets as context for this conversation",searchProvider:"Search Provider:",functionCall:"Function Call:",code:"Code:",arguments:"Arguments:",callId:"Call ID:",result:"Result:",url:"URL:",viewRawHtml:"View raw uncompressed HTML",copyOutputToClipboard:"Copy output to clipboard",copyCodeToClipboard:"Copy code to clipboard",captureToSwag:"Capture to Swag",captureOutputToSwag:"Capture output to Swag",captureCodeToSwag:"Capture code to Swag",grabImage:"Grab image",noSummarization:"No summarization",usingProxy:"Using proxy for enhanced privacy and bot detection evasion",contentExtracted:"Content intelligently extracted",truncatedToFit:"Truncated to fit model",scrapeMethod:"Scrape Method:",tier:"Tier",scrapeTime:"Scrape Time:",totalTime:"Total Time:",format:"Format:",originalSize:"Original Size:",compressedSize:"Compressed Size:",compression:"Compression:",compressionStrategy:"Compression Strategy:",basicExtraction:"Basic extraction",rawHtml:"Raw HTML ({{count}} chars)",rawText:"Raw Text ({{count}} chars)",contentProcessingPipeline:"Content Processing Pipeline:",size:"Size:",titlePrompt:"Title/Prompt",finalPrompt:"Final Prompt",deleteChat:"Delete Chat",clearAllChats:"Clear All Chats",confirmClearAll:"Are you sure you want to clear all chat history?",confirmDelete:"Are you sure you want to delete this chat?",noChatsYet:"No chats yet",startChatting:"Start chatting to see history here",chatDeleted:"Chat deleted",allChatsCleared:"All chats cleared",chatTitle:"Chat Title",enterChatTitle:"Enter a title for this chat...",signInToChat:"Please sign in to start chatting",streamingResponse:"Streaming response...",imageAddedToSwag:"Image added to Swag!",imageAddedWithoutConversion:"Image added to Swag (without conversion)!",contentCapturedToSwag:"Content captured to Swag!",contentCapturedWithoutConversion:"Content captured to Swag (without image conversion)!",planningTransferred:"Planning prompts transferred to new chat",failedToTransfer:"Failed to transfer planning data",addedToPlaylist:"Added {{count}} video{{plural}} to playlist",transcriptionStopped:"Transcription stopped",failedToStopTranscription:"Failed to stop transcription: {{error}}",fileTypeNotSupported:"File type not supported: {{name}}. Supported types: JPEG, PNG, GIF, WebP, PDF",fileTooLarge:"File too large: {{name}} ({{size}}MB). Max size: {{maxSize}}MB",imageTokenWarning:"Image {{name}} may use many tokens (~{{tokens}}k). Consider using a smaller image.",fileAdded:"Added {{name}}",failedToProcess:"Failed to process {{name}}",signInToSendMessages:"Please sign in to send messages",foundRelevantChunks:" Found {{count}} relevant chunks from knowledge base",noRelevantContext:"No relevant context found in knowledge base",failedToRetrieveRag:"Failed to retrieve RAG context, continuing without it",sessionExpired:"Your session has expired. Please sign in again.",todoLimitReached:"Todo auto-progression limit reached. Please continue manually.",snippetSaved:"Saved snippet: {{title}}",snippetDeleted:"Deleted snippet: {{title}}",copiedToClipboard:"Copied to clipboard!",outputCopied:"Output copied to clipboard!",codeCopied:"Code copied to clipboard!",inputPlaceholder:"Type your message... (Shift+Enter for new line,  for history)",continueProcessing:"Continue Processing",stopGenerating:"Stop generating response",sendMessage:"Send message",chatMessageInput:"Chat message input",editPlan:"Edit Plan",makeAPlan:"Make A Plan",close:"Close",failedToLoadChat:"Failed to load chat",mcpServerNamePlaceholder:"Server Name (e.g., filesystem, github)",mcpServerUrlPlaceholder:"Server URL (e.g., http://localhost:3000)",noMcpServers:"No MCP servers configured",addServer:"Add Server",remove:"Remove",chatHistoryTitle:"Chat History",noChatHistory:"No chat history found. Start a conversation to save it automatically.",allChatHistoryCleared:"All chat history cleared",loadChatSuccess:"Chat loaded successfully",examplesTitle:"Chat Examples",tryExample:"Try this example",attachContextTitle:"Attach Context from Swag",snippetsAttached:"{{count}} snippet{{plural}} attached",attachSnippets:"Attach Snippets",searchSnippets:"Search snippets...",selectAll:"Select All",selectNone:"Select None",deleteSelected:"Delete Selected",cancel:"Cancel",load:"Load",confirmDeleteChat:"Are you sure you want to delete this chat?",confirmClearHistory:"Are you sure you want to clear all chat history?",confirmDeleteSelected:"Are you sure you want to delete {{count}} selected chat{{plural}}?",chatLoadedFrom:"Loaded from",chatSavedAt:"Saved at",noTitle:"No title",clearAttachedSnippets:"Clear all attached snippets",mcpServerConfiguration:"MCP Server Configuration",typeMessageFirst:"Type a message first",typeMessage:"Type a message",signInToSend:"Please sign in to send messages"},IW={title:"Research Planning",query:"Research Query",generatePlan:"Generate Plan",savePlan:"Save Plan",loadSaved:"Load Saved",transferToChat:"Transfer to Chat",clearAll:"Clear All",debug:"Debug",planning:"Planning...",planGenerated:"Plan generated successfully",noPlan:"No plan generated yet",enterQuery:"Enter your research query or topic...",researchFocus:"Research Focus",methodology:"Methodology",expectedOutcome:"Expected Outcome",initializing:"Initializing...",processing:"Processing...",signInToGenerate:"Sign in to Generate Plan",generating:"Generating...",signInToUsePlanning:"Please sign in to use planning",signInRequired:"Please sign in with Google to use the planning feature",authExpired:"Authentication expired. Please sign out and sign in again to continue.",authRequired:"Authentication required. Please sign in with Google to continue.",enterResearchQuestion:"Please enter a research question",debugCopied:"Debug info copied to clipboard!",debugCopyFailed:"Failed to copy debug info",savePlanTooltip:"Save the current plan to your saved plans list",loadSavedPlans:"Load Saved Plans",debugTooltip:"Copy debug info for Copilot troubleshooting",transferTooltip:"Transfer to Chat",clearAllTooltip:"Clear all planning data and start fresh",systemPromptEditable:"Generated System Prompt (Editable):",systemPromptHelp:"This defines the AI's role and behavior. Edit as needed before transferring to chat.",userQueryEditable:"Generated User Query (Editable):",userQueryHelp:"This is the message that will be sent to the chat. Edit to refine your query.",generatedPrompts:"Generated Prompts",llmInfoTooltip:"View LLM transparency info (model, tokens, cost)",llmCalls:"call",llmCallsPlural:"calls",cannotSavePlan:"Cannot save plan: No valid plan generated",planSavedSuccess:"Plan saved successfully",planSaveFailed:"Failed to save plan",loadSavedPlan:"Load Saved Plan",storage:"Storage",storageWarning:"Storage is {{percentage}}% full",storageWarningHelp:"Consider deleting old plans to free up space.",noSavedPlans:"No saved plans found",saved:"Saved",load:"Load",simpleQueryDetected:"Simple Query Detected",simpleQueryHelp:"This query can be answered directly without extensive planning.",comprehensiveResearchPlan:" Comprehensive Research Plan",analysisSummary:" Analysis Summary",queryType:"Query Type:",complexity:"Complexity:",researchApproach:"Research Approach:",estimatedSources:"Estimated Sources:",reasoning:"Reasoning:",expertPersona:" Expert Persona",searchQueries:" Search Queries:",researchQuestions:" Research Questions:",suggestedSources:" Suggested Sources:",sources:"Sources:",variousRelevantSources:"Various relevant sources",researchMethodology:" Research Methodology:",enhancedSystemPrompt:" Enhanced System Prompt:",enhancedUserPrompt:" Enhanced User Prompt:",debugRawLlmResponse:" Debug: Raw LLM Response Fields",longFormDocumentPlan:" Long-Form Document Plan",longFormNote:"Note: This will be built in stages using snippets. Each section will be researched and written separately, then combined into a final document.",documentStructure:" Document Structure:",keywords:"Keywords:",workflow:" Workflow:",needMoreInfo:" Need More Information",pleaseClarify:"Please clarify:",updateQueryDetails:"Update your query with more details:",provideMoreDetails:"Provide more specific details...",regeneratePlanWithClarifications:"Regenerate Plan with Clarifications",moreInfoRequired:" More Info Required",planType:"Plan Type:",detectedComplexityPatterns:" Detected Complexity Patterns:",estimatedIterations:"Estimated Iterations",toolsRequired:"Tools Required",suggestedWorkflow:" Suggested Workflow:",requiredTools:" Required Tools:",guidanceQuestions:" Please answer these questions to refine your plan:",updatePromptWithAnswers:"Update your research prompt with answers:",guidanceTip:" Tip: Include answers to the questions above in your updated query. The more specific you are, the better the AI can create an effective multi-iteration plan with proper tool usage and few-shot examples.",guidanceExamplePlaceholder:`Example: I want to build a comprehensive research report on climate change by:
1. Creating 25 todos for different sub-topics (policy, science, economics, etc.)
2. Searching the web for each topic and saving results to snippets
3. Generating charts to visualize key data points
4. Combining all snippets into a master analysis

Please create a detailed plan with few-shot examples showing how to use create_todo, search_web, create_snippet, and generate_chart together in each iteration...`,generateDetailedExecutionPlan:" Generate Detailed Execution Plan",forcePlan:" Force Plan",forcePlanTooltip:"Let AI answer the questions and force plan generation",reset:" Reset",resetTooltip:"Clear guidance mode and return to previous state",aboutGuidanceMode:"About Guidance Mode:",guidanceModeHelp:"This mode detects complex projects that require multiple iterations and extensive tool usage. Answer the questions above to help create a detailed execution plan with few-shot examples showing how to use todos, snippets, and multiple tool calls per iteration.",forcingPlan:"Forcing plan generation...",forcePlanError:"Force plan error",forcePlanFailed:"Force plan failed",clarificationAnswer:"Please use your best judgment based on the original query."},RW={title:"Settings",language:"Language",selectLanguage:"Select Language",providers:"Providers",cloudSync:"Cloud Sync",billing:"Billing",general:"General",generalDescription:"Configure general application settings including language and display preferences",languageHelp:"Changes the interface language and instructs the AI to respond in your selected language",providerCredentials:"Provider Credentials",providerDescription:"Configure your LLM provider API keys. The backend automatically selects the best model for each request",modelSelectionStrategy:"Model Selection Strategy",modelStrategyDescription:"Choose how the system selects models for your requests. This balances cost, quality, and performance",cheap:"Cheap (Recommended)",cheapDescription:"Prioritize free providers (Groq, Gemini) and smallest capable models. Falls back to paid providers only when rate-limited. Best for most use cases",balanced:"Balanced",balancedDescription:"Choose models that reliably do the job without compromising quality. Uses free tier when quality is equivalent, paid models when quality matters. Balances cost vs. capability",powerful:"Powerful",powerfulDescription:"Use the best available models (GPT-4o, Gemini 2.5 Pro, o1) for maximum capability. Prioritizes quality over cost. Uses reasoning models for complex analysis",fastest:"Fastest",fastestDescription:"Prioritize low-latency models (Groq) for quick responses. May sacrifice some quality for speed in simple requests. Great for interactive sessions",tavilyApiKey:"Tavily API Key (Optional)",tavilyPlaceholder:"tvly-...",tavilyHelp:"Enables enhanced web search and scraping via Tavily API. Falls back to DuckDuckGo if not provided",enabledTools:"Enabled Tools",webSearch:"Web Search",webSearchDescription:"Search the web for current information, news, and articles",executeJs:"JavaScript Execution",executeJsDescription:"Execute JavaScript code for calculations and data processing",scrapeUrl:"Web Scraping",scrapeUrlDescription:"Extract content from specific URLs and websites",youtubeSearch:"YouTube Search",youtubeDescription:"Search YouTube for videos with transcript support",transcribe:"Transcribe Audio/Video",transcribeDescription:"Convert audio and video files to text transcriptions",generateChart:"Generate Charts",chartDescription:"Create visualizations and charts from data",generateImage:"Generate Images",imageDescription:"Create AI-generated images from text descriptions",searchKnowledgeBase:"Search Knowledge Base",ragDescription:"Search through uploaded documents and knowledge base",manageTodos:"Manage To-Dos",todosDescription:"Create and manage task lists and reminders",manageSnippets:"Manage Snippets",snippetsDescription:"Save and retrieve code snippets and text",askLlm:"Ask LLM",askLlmDescription:"Delegate sub-questions to other LLM instances",generateReasoning:"Generate Reasoning Chain",reasoningDescription:"Step-by-step analytical reasoning for complex problems",proxySettings:"Proxy Configuration",proxyDescription:"Configure HTTP/HTTPS proxy for web requests",enableProxy:"Enable Proxy",proxyUrl:"Proxy URL",proxyUrlPlaceholder:"http://proxy.example.com:8080",proxyUsername:"Username (Optional)",proxyPassword:"Password (Optional)",locationServices:"Location Services",locationDescription:"Use your location for localized search results and region-specific information",enableLocation:"Enable Location Services",locationHelp:"Allows web searches to return locally relevant results",currentLocation:"Current Location",requestLocation:"Request Location",clearLocation:"Clear Location",locationPermission:"Location Permission",permissionGranted:"Granted",permissionDenied:"Denied",permissionPrompt:"Not requested",tabs:{general:"General",provider:"Provider",cloud:"Cloud Sync",tools:"Tools",proxy:"Proxy",location:"Location",tts:"TTS",rag:"RAG"},appearance:"Appearance",theme:"Theme",darkMode:"Dark Mode",lightMode:"Light Mode",notifications:"Notifications",privacy:"Privacy",accessibility:"Accessibility",fontSize:"Font Size",lineHeight:"Line Height"},DW={en:"English",es:"Espaol",fr:"Franais",de:"Deutsch",zh:"",ja:"",ar:"",nl:"Nederlands",pt:"Portugus",ru:""},LW={title:"Billing Dashboard",balance:"Credit Balance",totalCost:"Total Cost",totalTokens:"Total Tokens",totalRequests:"Total Requests",cost:"Cost",tokens:"Tokens",tokensIn:"Tokens In",tokensOut:"Tokens Out",timestamp:"Timestamp",noTransactions:"No transactions yet",creditsPurchased:"Credits purchased successfully",insufficientCredits:"Insufficient credits",purchaseCredits:"Add Credit",amount:"Amount",paymentMethod:"Payment Method",transactions:"Transactions",overview:"Overview",exportCSV:"Export CSV",clearData:"Clear Data",clearDataConfirm:"Are you sure you want to clear billing data?",dataClearedSuccess:" Success: Cleared {{count}} transactions. {{remaining}} remaining.",dataClearError:" Error: {{message}}",noDataToExport:"No data to export",startDate:"Start Date",endDate:"End Date",type:"Type",provider:"Provider",model:"Model",duration:"Duration",status:"Status",allTypes:"All Types",allProviders:"All Providers",clearFilters:"Clear Filters",quickRanges:"Quick ranges:",today:"Today",last7Days:"Last 7 Days",last30Days:"Last 30 Days",thisMonth:"This Month",byType:"By Type",byProvider:"By Provider",byModel:"By Model",requests:"Requests",groupByRequestId:" Group by Request ID",itemsPerPage:"per page",totalRequestGroups:"{{count}} total request groups (showing {{showing}}), {{ungrouped}} ungrouped",totalTransactionsShowing:"{{total}} total transactions (showing {{showing}})",requestGroup:" Request Group ({{count}} transactions)",signInRequired:" Sign In Required",signInToViewBilling:"Please sign in with Google to view your billing data.",howToAccessBilling:" How to Access Billing Data:",signInStep1:'Click the "Sign in with Google" button in the top navigation bar',signInStep2:"That's it! Your billing data will load automatically",billingDataNote:" Your billing data is stored in a centralized service account Google Sheet and retrieved automatically. No additional permissions or Drive access needed - just sign in with Google.",debugInfo:" Debug Info",loading:"Loading billing data...",errorLoading:" Error Loading Billing Data",retry:" Retry",noBillingData:"No billing data available. Please wait...",noTransactionsMessage:"No transactions found",noBillingDataYet:" No Billing Data Yet",startUsingChat:"Start using the chat to generate billing records. All API usage is automatically tracked.",refresh:" Refresh",usageOnly:"Usage only (excl. credits)",totalCredits:"Total Credits",userQueries:"User Queries",llmCalls:"LLM Calls",userQueriesLlmCalls:"User Queries / LLM Calls",newBalance:"New balance:",creditsToAdd:"Credits to add:",minimumPurchase:"Minimum purchase is $5.00",addCreditsTitle:" Add Credits",purchaseCreditsDescription:"Purchase credits to use AI features. Minimum purchase: $5.00",enterAmount:"Enter amount (min $5.00)",tipUseOwnKeys:" Tip: Add your own API keys in Settings for $0 LLM costs! Only infrastructure costs apply when using your own keys.",loadingPayPal:"Loading PayPal...",paypalNotLoaded:" PayPal SDK not loaded. Please refresh the page.",close:"Close",clearBillingData:"Clear Billing Data",clearDataWarning:" Warning: This action cannot be undone. Your billing data will be permanently deleted.",clearAll:"Clear All",clearByProvider:"Clear by Provider",clearByDateRange:"Clear by Date Range",clearAllDescription:"This will delete all transactions from your billing sheet.",considerExportFirst:"Consider exporting to CSV first for your records.",selectProvider:"Select Provider:",selectProviderPlaceholder:"-- Select Provider --",clearProviderHint:"Useful for aligning with provider billing cycles (e.g., clear monthly).",clearDateRangeHint:"Leave blank to clear from beginning/to end. Both can be used together.",confirmUndoCheckbox:"I understand this action cannot be undone",cancel:"Cancel",page:"Page",of:"of",first:" First",prev:" Prev",next:"Next ",last:"Last ",types:{chat:"Chat",embedding:"Embedding",guardrail_input:" Guardrail Input",guardrail_output:" Guardrail Output",planning:"Planning",assessment:"Assessment",image_generation:" Image Generation",tts:" Text-to-Speech",chat_iteration:"Chat Iteration",credit_added:"Credit Added",summary:"Summary",lambda_invocation:"Lambda Invocation"}},OW={generic:"An error occurred",network:"Network error",timeout:"Request timed out",unauthorized:"Unauthorized access",forbidden:"Access forbidden",notFound:"Resource not found",serverError:"Server error",validationError:"Validation error",tryAgain:"Please try again"},MW={title:"Knowledge Base",newSnippet:"New Snippet",editSnippet:"Edit Snippet",deleteSnippet:"Delete Snippet",searchSnippets:"Search snippets...",noSnippets:"No snippets found",tags:"Tags",addTag:"Add Tag",removeTag:"Remove Tag",filterByTag:"Filter by Tag",content:"Content",created:"Created",modified:"Modified",source:"Source"},PW={readAloud:"Read Aloud",stopReading:"Stop Reading",pauseReading:"Pause Reading",resumeReading:"Resume Reading",voice:"Voice",speed:"Speed",volume:"Volume",provider:"TTS Provider"},jW={title:"Playlist",addToPlaylist:"Add to Playlist",removeFromPlaylist:"Remove from Playlist",playNext:"Play Next",playNow:"Play Now",clearPlaylist:"Clear Playlist",emptyPlaylist:"Playlist is empty"},FW={search:"Web Search",scrape:"Scrape Content",transcribe:"Transcribe",youtube:"YouTube",javascript:"Execute JavaScript",generateChart:"Generate Chart",generateImage:"Generate Image"},BW={common:_W,auth:AW,chat:NW,planning:IW,settings:RW,languages:DW,billing:LW,errors:OW,swag:MW,tts:PW,playlist:jW,tools:FW},UW={save:"Guardar",cancel:"Cancelar",delete:"Eliminar",edit:"Editar",close:"Cerrar",loading:"Cargando...",error:"Error",success:"xito",confirm:"Confirmar",back:"Atrs",next:"Siguiente",submit:"Enviar",clear:"Limpiar",search:"Buscar",filter:"Filtrar",export:"Exportar",import:"Importar",download:"Descargar",upload:"Subir",copy:"Copiar",paste:"Pegar",cut:"Cortar",undo:"Deshacer",redo:"Rehacer",select:"Seleccionar",selectAll:"Seleccionar todo",deselectAll:"Deseleccionar todo"},$W={signIn:"Iniciar sesin con Google",signOut:"Cerrar sesin",authRequired:"Se requiere autenticacin para usar esta aplicacin",tokenExpired:"Tu sesin ha expirado. Por favor inicia sesin nuevamente.",welcomeBack:"Bienvenido de nuevo!",signInPrompt:"Iniciar sesin para continuar",signInRequired:"Debes iniciar sesin para usar esta funcin",signingIn:"Iniciando sesin...",signingOut:"Cerrando sesin...",researchAgent:"Agente de Investigacin",tagline:"Asistente de investigacin con IA",secureAuth:"Autenticacin segura con tecnologa de Google",whyChooseTitle:"Por qu elegir Research Agent?",whyChooseIntro:"A diferencia de los chatbots de IA estndar que simplemente responden preguntas, Research Agent es tu compaero integral de investigacin diseado para investigaciones profundas y construccin de conocimiento.",keyAdvantagesTitle:"Ventajas Clave:",webConnected:"Inteligencia Conectada a la Web",webConnectedDesc:"La bsqueda web en tiempo real y extraccin de contenido garantizan informacin actual y precisa, no datos de entrenamiento obsoletos",multiTool:"Orquestacin Multi-Herramienta",multiToolDesc:"Combina perfectamente bsqueda web, ejecucin de cdigo, transcripciones de YouTube, generacin de imgenes y anlisis de documentos en una sola conversacin",knowledgeBase:"Integracin de Base de Conocimiento",knowledgeBaseDesc:"Guarda hallazgos en tu base de conocimiento personal, crea fragmentos y construye documentos de investigacin integrales con el tiempo",advancedPlanning:"Planificacin Avanzada",advancedPlanningDesc:"Genera planes de investigacin estructurados con personas expertas, estrategias de bsqueda y enfoques metodolgicos",costEffective:"Seleccin Inteligente de Modelos",costEffectiveDesc:"Seleccin automtica de modelos que hacen el trabajo de manera econmica o potente segn la estrategia de seleccin. Trae tus propias claves para ahorrar un 25%",transparency:"Transparencia Total",transparencyDesc:"Rastrea cada llamada API, uso de tokens y costos en el panel de facturacin en tiempo real",perfectFor:"Perfecto para: Investigacin acadmica, anlisis de mercado, creacin de contenido, documentacin tcnica, inteligencia competitiva y cualquier tarea que requiera investigacin exhaustiva."},HW={placeholder:"Escribe tu mensaje aqu...",send:"Enviar",retry:"Reintentar",stop:"Detener",thinking:"Pensando...",generating:"Generando respuesta...",newChat:"Nuevo Chat",clearHistory:"Limpiar Historial",loadChat:"Cargar Chat",systemPrompt:"Indicacin del Sistema",customInstructions:"Instrucciones Personalizadas",temperature:"Temperatura",maxTokens:"Tokens Mximos",model:"Modelo",provider:"Proveedor",history:"Historial de Chat",continue:"Continuar",regenerate:"Regenerar",edit:"Editar",delete:"Eliminar",copy:"Copiar",copied:"Copiado!",selectFiles:"Seleccionar Archivos",attachFiles:"Adjuntar Archivos",pasteImage:"Pegar Imagen",recording:"Grabando...",voiceInput:"Entrada de Voz",stopRecording:"Detener Grabacin",processing:"Procesando...",noMessages:"No hay mensajes an. Inicia una conversacin!",clearConfirm:"Ests seguro de que quieres limpiar todos los mensajes?",deleteConfirm:"Ests seguro de que quieres eliminar este mensaje?",loadingHistory:"Cargando historial de chat...",savingChat:"Guardando chat...",chatSaved:"Chat guardado exitosamente",chatLoaded:"Chat cargado exitosamente",errorSaving:"Error al guardar el chat",errorLoading:"Error al cargar el chat",signInRequired:"Por favor inicia sesin para usar esta funcin",providerRequired:"Por favor configura al menos un proveedor en Configuracin",messageError:"Error al enviar el mensaje",streamError:"Error en el flujo del mensaje",toolExecution:"Ejecutando herramienta...",toolExecuted:"Herramienta ejecutada exitosamente",toolError:"Error de ejecucin de herramienta",searchingWeb:"Buscando en la web...",scrapingContent:"Extrayendo contenido...",transcribingAudio:"Transcribiendo audio...",generatingImage:"Generando imagen...",generatingChart:"Generando grfico...",executingCode:"Ejecutando cdigo...",planningMode:"Modo de Planificacin",exitPlanning:"Salir de Planificacin",startPlanning:"Iniciar Planificacin",mcpServers:"Servidores MCP",addMCPServer:"Agregar Servidor MCP",mcpServerName:"Nombre del Servidor",mcpServerUrl:"URL del Servidor",exampleServers:"Servidores de Ejemplo",officialServers:"Servidores MCP Oficiales",sampleServers:"Servidores de Muestra",instructions:"Instrucciones",availableTools:"Herramientas Disponibles",enableServer:"Habilitar Servidor",disableServer:"Deshabilitar Servidor",removeServer:"Eliminar Servidor",serverAdded:"Servidor agregado exitosamente",serverRemoved:"Servidor eliminado exitosamente",invalidUrl:"Formato de URL invlido",nameRequired:"Se requiere el nombre del servidor",urlRequired:"Se requiere la URL del servidor",chatHistory:"Historial de Chat",examples:"Ejemplos",attachContext:"Adjuntar Contexto",attachContextTooltip:"Adjunta fragmentos de la base de conocimiento como contexto para esta conversacin",searchProvider:"Proveedor de Bsqueda:",functionCall:"Llamada de Funcin:",code:"Cdigo:",arguments:"Argumentos:",callId:"ID de Llamada:",result:"Resultado:",url:"URL:",viewRawHtml:"Ver HTML sin procesar sin comprimir",copyOutputToClipboard:"Copiar salida al portapapeles",copyCodeToClipboard:"Copiar cdigo al portapapeles",captureToSwag:"Capturar a Swag",captureOutputToSwag:"Capturar salida a Swag",captureCodeToSwag:"Capturar cdigo a Swag",grabImage:"Capturar imagen",noSummarization:"Sin resumen",usingProxy:"Usando proxy para mayor privacidad y evasin de deteccin de bots",contentExtracted:"Contenido extrado inteligentemente",truncatedToFit:"Truncado para ajustarse al modelo",scrapeMethod:"Mtodo de Extraccin:",tier:"Nivel",scrapeTime:"Tiempo de Extraccin:",totalTime:"Tiempo Total:",format:"Formato:",originalSize:"Tamao Original:",compressedSize:"Tamao Comprimido:",compression:"Compresin:",compressionStrategy:"Estrategia de Compresin:",basicExtraction:"Extraccin bsica",rawHtml:"HTML Sin Procesar ({{count}} caracteres)",rawText:"Texto Sin Procesar ({{count}} caracteres)",contentProcessingPipeline:"Pipeline de Procesamiento de Contenido:",size:"Tamao:",titlePrompt:"Ttulo/Indicacin",finalPrompt:"Indicacin Final",deleteChat:"Eliminar Chat",clearAllChats:"Limpiar Todos los Chats",confirmClearAll:"Ests seguro de que quieres limpiar todo el historial de chat?",confirmDelete:"Ests seguro de que quieres eliminar este chat?",noChatsYet:"No hay chats an",startChatting:"Comienza a chatear para ver el historial aqu",chatDeleted:"Chat eliminado",allChatsCleared:"Todos los chats limpiados",chatTitle:"Ttulo del Chat",enterChatTitle:"Ingresa un ttulo para este chat...",signInToChat:"Por favor inicia sesin para comenzar a chatear",streamingResponse:"Respuesta en transmisin...",imageAddedToSwag:"Imagen agregada a Swag!",imageAddedWithoutConversion:"Imagen agregada a Swag (sin conversin)!",contentCapturedToSwag:"Contenido capturado a Swag!",contentCapturedWithoutConversion:"Contenido capturado a Swag (sin conversin de imagen)!",planningTransferred:"Indicaciones de planificacin transferidas a nuevo chat",failedToTransfer:"Error al transferir datos de planificacin",addedToPlaylist:"{{count}} video{{plural}} agregado{{plural}} a la lista de reproduccin",transcriptionStopped:"Transcripcin detenida",failedToStopTranscription:"Error al detener la transcripcin: {{error}}",fileTypeNotSupported:"Tipo de archivo no compatible: {{name}}. Tipos compatibles: JPEG, PNG, GIF, WebP, PDF",fileTooLarge:"Archivo demasiado grande: {{name}} ({{size}}MB). Tamao mximo: {{maxSize}}MB",imageTokenWarning:"La imagen {{name}} puede usar muchos tokens (~{{tokens}}k). Considera usar una imagen ms pequea.",fileAdded:"{{name}} agregado",failedToProcess:"Error al procesar {{name}}",signInToSendMessages:"Por favor inicia sesin para enviar mensajes",foundRelevantChunks:" Se encontraron {{count}} fragmentos relevantes de la base de conocimiento",noRelevantContext:"No se encontr contexto relevante en la base de conocimiento",failedToRetrieveRag:"Error al recuperar el contexto RAG, continuando sin l",sessionExpired:"Tu sesin ha expirado. Por favor inicia sesin nuevamente.",todoLimitReached:"Lmite de progresin automtica de tareas alcanzado. Por favor contina manualmente.",snippetSaved:"Fragmento guardado: {{title}}",snippetDeleted:"Fragmento eliminado: {{title}}",copiedToClipboard:"Copiado al portapapeles!",outputCopied:"Salida copiada al portapapeles!",codeCopied:"Cdigo copiado al portapapeles!",inputPlaceholder:"Escribe tu mensaje... (Shift+Enter para nueva lnea,  para historial)",continueProcessing:"Continuar Procesamiento",stopGenerating:"Detener generacin de respuesta",sendMessage:"Enviar mensaje",chatMessageInput:"Entrada de mensaje de chat",editPlan:"Editar Plan",makeAPlan:"Hacer un Plan",close:"Cerrar",failedToLoadChat:"Error al cargar el chat",mcpServerNamePlaceholder:"Nombre del Servidor (ej., filesystem, github)",mcpServerUrlPlaceholder:"URL del Servidor (ej., http://localhost:3000)",noMcpServers:"No hay servidores MCP configurados",addServer:"Agregar Servidor",remove:"Eliminar",chatHistoryTitle:"Historial de Chat",noChatHistory:"No se encontr historial de chat. Inicia una conversacin para guardarla automticamente.",allChatHistoryCleared:"Todo el historial de chat limpiado",loadChatSuccess:"Chat cargado exitosamente",examplesTitle:"Ejemplos de Chat",tryExample:"Prueba este ejemplo",attachContextTitle:"Adjuntar Contexto de Swag",snippetsAttached:"{{count}} fragmento{{plural}} adjunto{{plural}}",attachSnippets:"Adjuntar Fragmentos",searchSnippets:"Buscar fragmentos...",selectAll:"Seleccionar Todo",selectNone:"Seleccionar Ninguno",deleteSelected:"Eliminar Seleccionados",cancel:"Cancelar",load:"Cargar",confirmDeleteChat:"Ests seguro de que quieres eliminar este chat?",confirmClearHistory:"Ests seguro de que quieres limpiar todo el historial de chat?",confirmDeleteSelected:"Ests seguro de que quieres eliminar {{count}} chat{{plural}} seleccionado{{plural}}?",chatLoadedFrom:"Cargado desde",chatSavedAt:"Guardado en",noTitle:"Sin ttulo",clearAttachedSnippets:"Limpiar todos los fragmentos adjuntos",mcpServerConfiguration:"Configuracin del Servidor MCP",typeMessageFirst:"Escribe un mensaje primero",typeMessage:"Escribe un mensaje",signInToSend:"Por favor inicia sesin para enviar mensajes"},zW={title:"Planificacin de Investigacin",query:"Consulta de Investigacin",generatePlan:"Generar Plan",savePlan:"Guardar Plan",loadSaved:"Cargar Guardado",transferToChat:"Transferir al Chat",clearAll:"Limpiar Todo",debug:"Depurar",planning:"Planificando...",planGenerated:"Plan generado exitosamente",noPlan:"An no se ha generado ningn plan",enterQuery:"Ingresa tu consulta o tema de investigacin...",researchFocus:"Enfoque de Investigacin",methodology:"Metodologa",expectedOutcome:"Resultado Esperado",initializing:"Inicializando...",processing:"Procesando...",signInToGenerate:"Inicia sesin para Generar Plan",generating:"Generando...",signInToUsePlanning:"Por favor inicia sesin para usar la planificacin",signInRequired:"Por favor inicia sesin con Google para usar la funcin de planificacin",authExpired:"Autenticacin expirada. Por favor cierra sesin e inicia sesin nuevamente para continuar.",authRequired:"Se requiere autenticacin. Por favor inicia sesin con Google para continuar.",enterResearchQuestion:"Por favor ingresa una pregunta de investigacin",debugCopied:"Informacin de depuracin copiada al portapapeles!",debugCopyFailed:"Error al copiar informacin de depuracin",savePlanTooltip:"Guarda el plan actual en tu lista de planes guardados",loadSavedPlans:"Cargar Planes Guardados",debugTooltip:"Copiar informacin de depuracin para solucin de problemas de Copilot",transferTooltip:"Transferir al Chat",clearAllTooltip:"Limpiar todos los datos de planificacin y comenzar de nuevo",systemPromptEditable:"Indicacin del Sistema Generada (Editable):",systemPromptHelp:"Esto define el rol y comportamiento de la IA. Edtalo segn sea necesario antes de transferir al chat.",userQueryEditable:"Consulta de Usuario Generada (Editable):",userQueryHelp:"Este es el mensaje que se enviar al chat. Edtalo para refinar tu consulta.",generatedPrompts:"Indicaciones Generadas",llmInfoTooltip:"Ver informacin de transparencia del LLM (modelo, tokens, costo)",llmCalls:"llamada",llmCallsPlural:"llamadas",cannotSavePlan:"No se puede guardar el plan: No se gener un plan vlido",planSavedSuccess:"Plan guardado exitosamente",planSaveFailed:"Error al guardar el plan",loadSavedPlan:"Cargar Plan Guardado",storage:"Almacenamiento",storageWarning:"El almacenamiento est al {{percentage}}% de su capacidad",storageWarningHelp:"Considera eliminar planes antiguos para liberar espacio.",noSavedPlans:"No se encontraron planes guardados",saved:"Guardado",load:"Cargar",simpleQueryDetected:"Consulta Simple Detectada",simpleQueryHelp:"Esta consulta puede responderse directamente sin planificacin extensa.",comprehensiveResearchPlan:" Plan de Investigacin Completo",analysisSummary:" Resumen del Anlisis",queryType:"Tipo de Consulta:",complexity:"Complejidad:",researchApproach:"Enfoque de Investigacin:",estimatedSources:"Fuentes Estimadas:",reasoning:"Razonamiento:",expertPersona:" Persona Experta",searchQueries:" Consultas de Bsqueda:",researchQuestions:" Preguntas de Investigacin:",suggestedSources:" Fuentes Sugeridas:",sources:"Fuentes:",variousRelevantSources:"Varias fuentes relevantes",researchMethodology:" Metodologa de Investigacin:",enhancedSystemPrompt:" Indicacin del Sistema Mejorada:",enhancedUserPrompt:" Indicacin de Usuario Mejorada:",debugRawLlmResponse:" Depurar: Campos de Respuesta Bruta del LLM",longFormDocumentPlan:" Plan de Documento de Formato Largo",longFormNote:"Nota: Esto se construir en etapas usando fragmentos. Cada seccin se investigar y escribir por separado, luego se combinar en un documento final.",documentStructure:" Estructura del Documento:",keywords:"Palabras Clave:",workflow:" Flujo de Trabajo:",needMoreInfo:" Se Necesita Ms Informacin",pleaseClarify:"Por favor aclara:",updateQueryDetails:"Actualiza tu consulta con ms detalles:",provideMoreDetails:"Proporciona detalles ms especficos...",regeneratePlanWithClarifications:"Regenerar Plan con Aclaraciones",moreInfoRequired:" Se Requiere Ms Informacin",planType:"Tipo de Plan:",detectedComplexityPatterns:" Patrones de Complejidad Detectados:",estimatedIterations:"Iteraciones Estimadas",toolsRequired:"Herramientas Requeridas",suggestedWorkflow:" Flujo de Trabajo Sugerido:",requiredTools:" Herramientas Requeridas:",guidanceQuestions:" Por favor responde estas preguntas para refinar tu plan:",updatePromptWithAnswers:"Actualiza tu indicacin de investigacin con las respuestas:",guidanceTip:" Consejo: Incluye las respuestas a las preguntas anteriores en tu consulta actualizada. Cuanto ms especfico seas, mejor podr la IA crear un plan de mltiples iteraciones efectivo con el uso apropiado de herramientas y ejemplos de pocos disparos.",guidanceExamplePlaceholder:`Ejemplo: Quiero construir un informe de investigacin completo sobre el cambio climtico:
1. Creando 25 tareas para diferentes subtemas (poltica, ciencia, economa, etc.)
2. Buscando en la web para cada tema y guardando los resultados en fragmentos
3. Generando grficos para visualizar puntos de datos clave
4. Combinando todos los fragmentos en un anlisis maestro

Por favor crea un plan detallado con ejemplos de pocos disparos que muestren cmo usar create_todo, search_web, create_snippet y generate_chart juntos en cada iteracin...`,generateDetailedExecutionPlan:" Generar Plan de Ejecucin Detallado",forcePlan:" Forzar Plan",forcePlanTooltip:"Deja que la IA responda las preguntas y fuerce la generacin del plan",reset:" Reiniciar",resetTooltip:"Limpiar modo de gua y volver al estado anterior",aboutGuidanceMode:"Acerca del Modo de Gua:",guidanceModeHelp:"Este modo detecta proyectos complejos que requieren mltiples iteraciones y uso extensivo de herramientas. Responde las preguntas anteriores para ayudar a crear un plan de ejecucin detallado con ejemplos de pocos disparos que muestren cmo usar tareas, fragmentos y mltiples llamadas de herramientas por iteracin.",forcingPlan:"Forzando generacin del plan...",forcePlanError:"Error al forzar el plan",forcePlanFailed:"Fall al forzar el plan",clarificationAnswer:"Por favor usa tu mejor criterio basndote en la consulta original."},GW={title:"Configuracin",language:"Idioma",selectLanguage:"Seleccionar Idioma",providers:"Proveedores",cloudSync:"Sincronizacin en la Nube",billing:"Facturacin",general:"General",generalDescription:"Configura ajustes generales de la aplicacin incluyendo idioma y preferencias de visualizacin",languageHelp:"Cambia el idioma de la interfaz e instruye a la IA para responder en tu idioma seleccionado",providerCredentials:"Credenciales de Proveedor",providerDescription:"Configura tus claves API de proveedor LLM. El backend selecciona automticamente el mejor modelo para cada solicitud",modelSelectionStrategy:"Estrategia de Seleccin de Modelo",modelStrategyDescription:"Elige cmo el sistema selecciona modelos para tus solicitudes. Esto equilibra costo, calidad y rendimiento",cheap:"Econmico (Recomendado)",cheapDescription:"Prioriza proveedores gratuitos (Groq, Gemini) y modelos ms pequeos capaces. Recurre a proveedores de pago solo cuando est limitado por tasa. Mejor para la mayora de los casos de uso",balanced:"Equilibrado",balancedDescription:"Elige modelos que hagan el trabajo de manera confiable sin comprometer la calidad. Usa nivel gratuito cuando la calidad es equivalente, modelos de pago cuando la calidad importa. Equilibra costo vs. capacidad",powerful:"Potente",powerfulDescription:"Usa los mejores modelos disponibles (GPT-4o, Gemini 2.5 Pro, o1) para mxima capacidad. Prioriza calidad sobre costo. Usa modelos de razonamiento para anlisis complejo",fastest:"Ms Rpido",fastestDescription:"Prioriza modelos de baja latencia (Groq) para respuestas rpidas. Puede sacrificar algo de calidad por velocidad en solicitudes simples. Excelente para sesiones interactivas",tavilyApiKey:"Clave API de Tavily (Opcional)",tavilyPlaceholder:"tvly-...",tavilyHelp:"Habilita bsqueda y extraccin web mejorada a travs de la API de Tavily. Recurre a DuckDuckGo si no se proporciona",enabledTools:"Herramientas Habilitadas",webSearch:"Bsqueda Web",webSearchDescription:"Busca en la web informacin actual, noticias y artculos",executeJs:"Ejecucin de JavaScript",executeJsDescription:"Ejecuta cdigo JavaScript para clculos y procesamiento de datos",scrapeUrl:"Extraccin Web",scrapeUrlDescription:"Extrae contenido de URLs y sitios web especficos",youtubeSearch:"Bsqueda en YouTube",youtubeDescription:"Busca videos en YouTube con soporte de transcripcin",transcribe:"Transcribir Audio/Video",transcribeDescription:"Convierte archivos de audio y video a transcripciones de texto",generateChart:"Generar Grficos",chartDescription:"Crea visualizaciones y grficos a partir de datos",generateImage:"Generar Imgenes",imageDescription:"Crea imgenes generadas por IA a partir de descripciones de texto",searchKnowledgeBase:"Buscar en Base de Conocimiento",ragDescription:"Busca en documentos cargados y base de conocimiento",manageTodos:"Gestionar Tareas",todosDescription:"Crea y gestiona listas de tareas y recordatorios",manageSnippets:"Gestionar Fragmentos",snippetsDescription:"Guarda y recupera fragmentos de cdigo y texto",askLlm:"Preguntar a LLM",askLlmDescription:"Delega sub-preguntas a otras instancias de LLM",generateReasoning:"Generar Cadena de Razonamiento",reasoningDescription:"Razonamiento analtico paso a paso para problemas complejos",proxySettings:"Configuracin de Proxy",proxyDescription:"Configura proxy HTTP/HTTPS para solicitudes web",enableProxy:"Habilitar Proxy",proxyUrl:"URL del Proxy",proxyUrlPlaceholder:"http://proxy.example.com:8080",proxyUsername:"Usuario (Opcional)",proxyPassword:"Contrasea (Opcional)",locationServices:"Servicios de Ubicacin",locationDescription:"Usa tu ubicacin para resultados de bsqueda localizados e informacin especfica de la regin",enableLocation:"Habilitar Servicios de Ubicacin",locationHelp:"Permite que las bsquedas web devuelvan resultados localmente relevantes",currentLocation:"Ubicacin Actual",requestLocation:"Solicitar Ubicacin",clearLocation:"Limpiar Ubicacin",locationPermission:"Permiso de Ubicacin",permissionGranted:"Concedido",permissionDenied:"Denegado",permissionPrompt:"No solicitado",tabs:{general:"General",provider:"Proveedor",cloud:"Sincronizacin en la Nube",tools:"Herramientas",proxy:"Proxy",location:"Ubicacin",tts:"TTS",rag:"RAG"},appearance:"Apariencia",theme:"Tema",darkMode:"Modo Oscuro",lightMode:"Modo Claro",notifications:"Notificaciones",privacy:"Privacidad",accessibility:"Accesibilidad",fontSize:"Tamao de Fuente",lineHeight:"Altura de Lnea"},qW={en:"English",es:"Espaol",fr:"Franais",de:"Deutsch",zh:"",ja:"",ar:"",nl:"Nederlands",pt:"Portugus",ru:""},WW={title:"Panel de Facturacin",balance:"Saldo de Crdito",totalCost:"Costo Total",totalTokens:"Tokens Totales",totalRequests:"Solicitudes Totales",cost:"Costo",tokens:"Tokens",tokensIn:"Tokens Entrantes",tokensOut:"Tokens Salientes",timestamp:"Marca de Tiempo",noTransactions:"An no hay transacciones",creditsPurchased:"Crditos comprados exitosamente",insufficientCredits:"Crditos insuficientes",purchaseCredits:"Agregar Crdito",amount:"Monto",paymentMethod:"Mtodo de Pago",transactions:"Transacciones",overview:"Resumen",exportCSV:"Exportar CSV",clearData:"Limpiar Datos",clearDataConfirm:"Ests seguro de que quieres limpiar los datos de facturacin?",dataClearedSuccess:" xito: Se limpiaron {{count}} transacciones. {{remaining}} restantes.",dataClearError:" Error: {{message}}",noDataToExport:"No hay datos para exportar",startDate:"Fecha de Inicio",endDate:"Fecha de Fin",type:"Tipo",provider:"Proveedor",model:"Modelo",duration:"Duracin",status:"Estado",allTypes:"Todos los Tipos",allProviders:"Todos los Proveedores",clearFilters:"Limpiar Filtros",quickRanges:"Rangos rpidos:",today:"Hoy",last7Days:"ltimos 7 Das",last30Days:"ltimos 30 Das",thisMonth:"Este Mes",byType:"Por Tipo",byProvider:"Por Proveedor",byModel:"Por Modelo",requests:"Solicitudes",groupByRequestId:" Agrupar por ID de Solicitud",itemsPerPage:"por pgina",totalRequestGroups:"{{count}} grupos de solicitudes totales (mostrando {{showing}}), {{ungrouped}} sin agrupar",totalTransactionsShowing:"{{total}} transacciones totales (mostrando {{showing}})",requestGroup:" Grupo de Solicitudes ({{count}} transacciones)",signInRequired:" Se Requiere Inicio de Sesin",signInToViewBilling:"Por favor inicia sesin con Google para ver tus datos de facturacin.",howToAccessBilling:" Cmo Acceder a los Datos de Facturacin:",signInStep1:'Haz clic en el botn "Iniciar sesin con Google" en la barra de navegacin superior',signInStep2:"Eso es todo! Tus datos de facturacin se cargarn automticamente",billingDataNote:" Tus datos de facturacin se almacenan en una Hoja de clculo de Google de cuenta de servicio centralizada y se recuperan automticamente. No se necesitan permisos adicionales ni acceso a Drive - solo inicia sesin con Google.",debugInfo:" Informacin de Depuracin",loading:"Cargando datos de facturacin...",errorLoading:" Error al Cargar Datos de Facturacin",retry:" Reintentar",noBillingData:"No hay datos de facturacin disponibles. Por favor espera...",noTransactionsMessage:"No se encontraron transacciones",noBillingDataYet:" An No Hay Datos de Facturacin",startUsingChat:"Comienza a usar el chat para generar registros de facturacin. Todo el uso de API se rastrea automticamente.",refresh:" Actualizar",usageOnly:"Solo uso (excl. crditos)",totalCredits:"Crditos Totales",userQueries:"Consultas de Usuario",llmCalls:"Llamadas LLM",userQueriesLlmCalls:"Consultas de Usuario / Llamadas LLM",newBalance:"Nuevo saldo:",creditsToAdd:"Crditos a agregar:",minimumPurchase:"La compra mnima es $5.00",addCreditsTitle:" Agregar Crditos",purchaseCreditsDescription:"Compra crditos para usar funciones de IA. Compra mnima: $5.00",enterAmount:"Ingresa el monto (mn $5.00)",tipUseOwnKeys:" Consejo: Agrega tus propias claves API en Configuracin para costos LLM de $0! Solo se aplican costos de infraestructura cuando usas tus propias claves.",loadingPayPal:"Cargando PayPal...",paypalNotLoaded:" SDK de PayPal no cargado. Por favor actualiza la pgina.",close:"Cerrar",clearBillingData:"Limpiar Datos de Facturacin",clearDataWarning:" Advertencia: Esta accin no se puede deshacer. Tus datos de facturacin se eliminarn permanentemente.",clearAll:"Limpiar Todo",clearByProvider:"Limpiar por Proveedor",clearByDateRange:"Limpiar por Rango de Fechas",clearAllDescription:"Esto eliminar todas las transacciones de tu hoja de facturacin.",considerExportFirst:"Considera exportar a CSV primero para tus registros.",selectProvider:"Seleccionar Proveedor:",selectProviderPlaceholder:"-- Seleccionar Proveedor --",clearProviderHint:"til para alinearse con los ciclos de facturacin del proveedor (ej., limpiar mensualmente).",clearDateRangeHint:"Dejar en blanco para limpiar desde el principio/hasta el final. Ambos pueden usarse juntos.",confirmUndoCheckbox:"Entiendo que esta accin no se puede deshacer",cancel:"Cancelar",page:"Pgina",of:"de",first:" Primera",prev:" Anterior",next:"Siguiente ",last:"ltima ",types:{chat:"Chat",embedding:"Incrustacin",guardrail_input:" Entrada de Guardarral",guardrail_output:" Salida de Guardarral",planning:"Planificacin",assessment:"Evaluacin",image_generation:" Generacin de Imagen",tts:" Texto a Voz",chat_iteration:"Iteracin de Chat",credit_added:"Crdito Agregado",summary:"Resumen",lambda_invocation:"Invocacin Lambda"}},YW={generic:"Ocurri un error",network:"Error de red",timeout:"Tiempo de espera agotado",unauthorized:"Acceso no autorizado",forbidden:"Acceso prohibido",notFound:"Recurso no encontrado",serverError:"Error del servidor",validationError:"Error de validacin",tryAgain:"Por favor intenta nuevamente"},VW={title:"Base de Conocimiento",newSnippet:"Nuevo Fragmento",editSnippet:"Editar Fragmento",deleteSnippet:"Eliminar Fragmento",searchSnippets:"Buscar fragmentos...",noSnippets:"No se encontraron fragmentos",tags:"Etiquetas",addTag:"Agregar Etiqueta",removeTag:"Eliminar Etiqueta",filterByTag:"Filtrar por Etiqueta",content:"Contenido",created:"Creado",modified:"Modificado",source:"Fuente"},KW={readAloud:"Leer en Voz Alta",stopReading:"Detener Lectura",pauseReading:"Pausar Lectura",resumeReading:"Reanudar Lectura",voice:"Voz",speed:"Velocidad",volume:"Volumen",provider:"Proveedor de TTS"},QW={title:"Lista de Reproduccin",addToPlaylist:"Agregar a Lista de Reproduccin",removeFromPlaylist:"Eliminar de Lista de Reproduccin",playNext:"Reproducir Siguiente",playNow:"Reproducir Ahora",clearPlaylist:"Limpiar Lista de Reproduccin",emptyPlaylist:"La lista de reproduccin est vaca"},XW={search:"Bsqueda Web",scrape:"Extraer Contenido",transcribe:"Transcribir",youtube:"YouTube",javascript:"Ejecutar JavaScript",generateChart:"Generar Grfico",generateImage:"Generar Imagen"},ZW={common:UW,auth:$W,chat:HW,planning:zW,settings:GW,languages:qW,billing:WW,errors:YW,swag:VW,tts:KW,playlist:QW,tools:XW},JW={save:"Enregistrer",cancel:"Annuler",delete:"Supprimer",edit:"Modifier",close:"Fermer",loading:"Chargement...",error:"Erreur",success:"Succs",confirm:"Confirmer",back:"Retour",next:"Suivant",submit:"Soumettre",clear:"Effacer",search:"Rechercher",filter:"Filtrer",export:"Exporter",import:"Importer",download:"Tlcharger",upload:"Tlverser",copy:"Copier",paste:"Coller",cut:"Couper",undo:"Annuler",redo:"Refaire",select:"Slectionner",selectAll:"Tout slectionner",deselectAll:"Tout dslectionner"},eY={signIn:"Se connecter avec Google",signOut:"Se dconnecter",authRequired:"L'authentification est requise pour utiliser cette application",tokenExpired:"Votre session a expir. Veuillez vous reconnecter.",welcomeBack:"Content de vous revoir !",signInPrompt:"Se connecter pour continuer",signInRequired:"Vous devez vous connecter pour utiliser cette fonctionnalit",signingIn:"Connexion...",signingOut:"Dconnexion...",researchAgent:"Agent de Recherche",tagline:"Assistant de recherche aliment par l'IA",secureAuth:"Authentification scurise par Google",whyChooseTitle:"Pourquoi choisir Research Agent ?",whyChooseIntro:"Contrairement aux chatbots IA standards qui rpondent simplement aux questions, Research Agent est votre compagnon de recherche complet conu pour l'investigation approfondie et la construction de connaissances.",keyAdvantagesTitle:"Avantages Cls :",webConnected:"Intelligence Connecte au Web",webConnectedDesc:"La recherche web en temps rel et l'extraction de contenu garantissent des informations actuelles et prcises, pas des donnes d'entranement obsoltes",multiTool:"Orchestration Multi-Outils",multiToolDesc:"Combine de manire transparente la recherche web, l'excution de code, les transcriptions YouTube, la gnration d'images et l'analyse de documents dans une seule conversation",knowledgeBase:"Intgration de Base de Connaissances",knowledgeBaseDesc:"Sauvegardez les dcouvertes dans votre base de connaissances personnelle, crez des extraits et construisez des documents de recherche complets au fil du temps",advancedPlanning:"Planification Avance",advancedPlanningDesc:"Gnrez des plans de recherche structurs avec des personas experts, des stratgies de recherche et des approches mthodologiques",costEffective:"Slection Intelligente de Modles",costEffectiveDesc:"Slection automatique de modles qui font le travail de manire conomique ou puissante selon la stratgie de slection. Apportez vos propres cls pour conomiser 25%",transparency:"Transparence Totale",transparencyDesc:"Suivez chaque appel API, utilisation de jetons et cot dans le tableau de bord de facturation en temps rel",perfectFor:"Parfait pour : Recherche acadmique, analyse de march, cration de contenu, documentation technique, veille concurrentielle et toute tche ncessitant une investigation approfondie."},tY={placeholder:"Tapez votre message ici...",send:"Envoyer",retry:"Ressayer",stop:"Arrter",thinking:"Rflexion...",generating:"Gnration de la rponse...",newChat:"Nouveau Chat",clearHistory:"Effacer l'historique",loadChat:"Charger le chat",systemPrompt:"Instruction systme",customInstructions:"Instructions personnalises",temperature:"Temprature",maxTokens:"Tokens maximum",model:"Modle",provider:"Fournisseur",history:"Historique du chat",continue:"Continuer",regenerate:"Rgnrer",edit:"Modifier",delete:"Supprimer",copy:"Copier",copied:"Copi !",selectFiles:"Slectionner des fichiers",attachFiles:"Joindre des fichiers",pasteImage:"Coller une image",recording:"Enregistrement...",voiceInput:"Entre vocale",stopRecording:"Arrter l'enregistrement",processing:"Traitement...",noMessages:"Aucun message pour le moment. Commencez une conversation !",clearConfirm:"tes-vous sr de vouloir effacer tous les messages ?",deleteConfirm:"tes-vous sr de vouloir supprimer ce message ?",loadingHistory:"Chargement de l'historique du chat...",savingChat:"Enregistrement du chat...",chatSaved:"Chat enregistr avec succs",chatLoaded:"Chat charg avec succs",errorSaving:"Erreur lors de l'enregistrement du chat",errorLoading:"Erreur lors du chargement du chat",signInRequired:"Veuillez vous connecter pour utiliser cette fonctionnalit",providerRequired:"Veuillez configurer au moins un fournisseur dans les paramtres",messageError:"Erreur lors de l'envoi du message",streamError:"Erreur dans le flux du message",toolExecution:"Excution de l'outil...",toolExecuted:"Outil excut avec succs",toolError:"Erreur d'excution de l'outil",searchingWeb:"Recherche sur le web...",scrapingContent:"Extraction du contenu...",transcribingAudio:"Transcription de l'audio...",generatingImage:"Gnration de l'image...",generatingChart:"Gnration du graphique...",executingCode:"Excution du code...",planningMode:"Mode planification",exitPlanning:"Quitter la planification",startPlanning:"Dmarrer la planification",mcpServers:"Serveurs MCP",addMCPServer:"Ajouter un serveur MCP",mcpServerName:"Nombre del Servidor",mcpServerUrl:"URL del Servidor",exampleServers:"Servidores de Ejemplo",officialServers:"Servidores MCP Oficiales",sampleServers:"Servidores de Muestra",instructions:"Instrucciones",availableTools:"Herramientas Disponibles",enableServer:"Habilitar Servidor",disableServer:"Deshabilitar Servidor",removeServer:"Eliminar Servidor",serverAdded:"Servidor agregado exitosamente",serverRemoved:"Servidor eliminado exitosamente",invalidUrl:"Formato de URL invlido",nameRequired:"Se requiere el nombre del servidor",urlRequired:"Se requiere la URL del servidor",chatHistory:"Historique du chat",examples:"Ejemplos",attachContext:"Adjuntar Contexto",attachContextTooltip:"Adjunta fragmentos de la base de conocimiento como contexto para esta conversacin",searchProvider:"Proveedor de Bsqueda:",functionCall:"Llamada de Funcin:",code:"Cdigo:",arguments:"Argumentos:",callId:"ID de Llamada:",result:"Resultado:",url:"URL:",viewRawHtml:"Ver HTML sin procesar sin comprimir",copyOutputToClipboard:"Copiar salida al portapapeles",copyCodeToClipboard:"Copiar cdigo al portapapeles",captureToSwag:"Capturar a Swag",captureOutputToSwag:"Capturar salida a Swag",captureCodeToSwag:"Capturar cdigo a Swag",grabImage:"Capturar imagen",noSummarization:"Sin resumen",usingProxy:"Usando proxy para mayor privacidad y evasin de deteccin de bots",contentExtracted:"Contenido extrado inteligentemente",truncatedToFit:"Truncado para ajustarse al modelo",scrapeMethod:"Mtodo de Extraccin:",tier:"Nivel",scrapeTime:"Tiempo de Extraccin:",totalTime:"Tiempo Total:",format:"Formato:",originalSize:"Tamao Original:",compressedSize:"Tamao Comprimido:",compression:"Compresin:",compressionStrategy:"Estrategia de Compresin:",basicExtraction:"Extraccin bsica",rawHtml:"HTML Sin Procesar ({{count}} caracteres)",rawText:"Texto Sin Procesar ({{count}} caracteres)",contentProcessingPipeline:"Pipeline de Procesamiento de Contenido:",size:"Tamao:",titlePrompt:"Ttulo/Indicacin",finalPrompt:"Indicacin Final",deleteChat:"Eliminar Chat",clearAllChats:"Limpiar Todos los Chats",confirmClearAll:"Ests seguro de que quieres limpiar todo el historial de chat?",confirmDelete:"Ests seguro de que quieres eliminar este chat?",noChatsYet:"No hay chats an",startChatting:"Comienza a chatear para ver el historial aqu",chatDeleted:"Chat eliminado",allChatsCleared:"Todos los chats limpiados",chatTitle:"Ttulo del Chat",enterChatTitle:"Ingresa un ttulo para este chat...",signInToChat:"Por favor inicia sesin para comenzar a chatear",streamingResponse:"Respuesta en transmisin...",imageAddedToSwag:"Imagen agregada a Swag!",imageAddedWithoutConversion:"Imagen agregada a Swag (sin conversin)!",contentCapturedToSwag:"Contenido capturado a Swag!",contentCapturedWithoutConversion:"Contenido capturado a Swag (sin conversin de imagen)!",planningTransferred:"Indicaciones de planificacin transferidas a nuevo chat",failedToTransfer:"Error al transferir datos de planificacin",addedToPlaylist:"{{count}} video{{plural}} agregado{{plural}} a la lista de reproduccin",transcriptionStopped:"Transcripcin detenida",failedToStopTranscription:"Error al detener la transcripcin: {{error}}",fileTypeNotSupported:"Tipo de archivo no compatible: {{name}}. Tipos compatibles: JPEG, PNG, GIF, WebP, PDF",fileTooLarge:"Archivo demasiado grande: {{name}} ({{size}}MB). Tamao mximo: {{maxSize}}MB",imageTokenWarning:"La imagen {{name}} puede usar muchos tokens (~{{tokens}}k). Considera usar una imagen ms pequea.",fileAdded:"{{name}} agregado",failedToProcess:"Error al procesar {{name}}",signInToSendMessages:"Por favor inicia sesin para enviar mensajes",foundRelevantChunks:" Se encontraron {{count}} fragmentos relevantes de la base de conocimiento",noRelevantContext:"No se encontr contexto relevante en la base de conocimiento",failedToRetrieveRag:"Error al recuperar el contexto RAG, continuando sin l",sessionExpired:"Tu sesin ha expirado. Por favor inicia sesin nuevamente.",todoLimitReached:"Lmite de progresin automtica de tareas alcanzado. Por favor contina manualmente.",snippetSaved:"Fragmento guardado: {{title}}",snippetDeleted:"Fragmento eliminado: {{title}}",copiedToClipboard:"Copiado al portapapeles!",outputCopied:"Salida copiada al portapapeles!",codeCopied:"Cdigo copiado al portapapeles!",inputPlaceholder:"Escribe tu mensaje... (Shift+Enter para nueva lnea,  para historial)",continueProcessing:"Continuar Procesamiento",stopGenerating:"Detener generacin de respuesta",sendMessage:"Enviar mensaje",chatMessageInput:"Entrada de mensaje de chat",editPlan:"Editar Plan",makeAPlan:"Hacer un Plan",close:"Cerrar",failedToLoadChat:"Erreur lors du chargement du chat",mcpServerNamePlaceholder:"Nombre del Servidor (ej., filesystem, github)",mcpServerUrlPlaceholder:"URL del Servidor (ej., http://localhost:3000)",noMcpServers:"No hay servidores MCP configurados",addServer:"Agregar Servidor",remove:"Supprimer",chatHistoryTitle:"Historique du chat",noChatHistory:"No se encontr historial de chat. Inicia una conversacin para guardarla automticamente.",allChatHistoryCleared:"Todo el historial de chat limpiado",loadChatSuccess:"Chat charg avec succs",examplesTitle:"Ejemplos de Chat",tryExample:"Prueba este ejemplo",attachContextTitle:"Adjuntar Contexto de Swag",snippetsAttached:"{{count}} fragmento{{plural}} adjunto{{plural}}",attachSnippets:"Adjuntar Fragmentos",searchSnippets:"Buscar fragmentos...",selectAll:"Tout slectionner",selectNone:"Seleccionar Ninguno",deleteSelected:"Eliminar Seleccionados",cancel:"Cancelar",load:"Cargar",confirmDeleteChat:"Ests seguro de que quieres eliminar este chat?",confirmClearHistory:"Ests seguro de que quieres limpiar todo el historial de chat?",confirmDeleteSelected:"Ests seguro de que quieres eliminar {{count}} chat{{plural}} seleccionado{{plural}}?",chatLoadedFrom:"Cargado desde",chatSavedAt:"Guardado en",noTitle:"Sin ttulo",clearAttachedSnippets:"Limpiar todos los fragmentos adjuntos",mcpServerConfiguration:"Configuracin del Servidor MCP",typeMessageFirst:"Escribe un mensaje primero",typeMessage:"Escribe un mensaje",signInToSend:"Por favor inicia sesin para enviar mensajes"},rY={title:"Planification de la Recherche",query:"Consulta de Investigacin",generatePlan:"Gnrer un Plan",savePlan:"Guardar Plan",loadSaved:"Cargar Guardado",transferToChat:"Transferir al Chat",clearAll:"Limpiar Todo",debug:"Depurar",planning:"Planificando...",planGenerated:"Plan generado exitosamente",noPlan:"An no se ha generado ningn plan",enterQuery:"Ingresa tu consulta o tema de investigacin...",researchFocus:"Enfoque de Investigacin",methodology:"Metodologa",expectedOutcome:"Resultado Esperado",initializing:"Inicializando...",processing:"Traitement...",signInToGenerate:"Inicia sesin para Generar Plan",generating:"Generando...",signInToUsePlanning:"Por favor inicia sesin para usar la planificacin",signInRequired:"Por favor inicia sesin con Google para usar la funcin de planificacin",authExpired:"Autenticacin expirada. Por favor cierra sesin e inicia sesin nuevamente para continuar.",authRequired:"Se requiere autenticacin. Por favor inicia sesin con Google para continuar.",enterResearchQuestion:"Por favor ingresa una pregunta de investigacin",debugCopied:"Informacin de depuracin copiada al portapapeles!",debugCopyFailed:"Error al copiar informacin de depuracin",savePlanTooltip:"Guarda el plan actual en tu lista de planes guardados",loadSavedPlans:"Cargar Planes Guardados",debugTooltip:"Copiar informacin de depuracin para solucin de problemas de Copilot",transferTooltip:"Transferir al Chat",clearAllTooltip:"Limpiar todos los datos de planificacin y comenzar de nuevo",systemPromptEditable:"Indicacin del Sistema Generada (Editable):",systemPromptHelp:"Esto define el rol y comportamiento de la IA. Edtalo segn sea necesario antes de transferir al chat.",userQueryEditable:"Consulta de Usuario Generada (Editable):",userQueryHelp:"Este es el mensaje que se enviar al chat. Edtalo para refinar tu consulta.",generatedPrompts:"Indicaciones Generadas",llmInfoTooltip:"Ver informacin de transparencia del LLM (modelo, tokens, costo)",llmCalls:"llamada",llmCallsPlural:"llamadas",cannotSavePlan:"No se puede guardar el plan: No se gener un plan vlido",planSavedSuccess:"Plan guardado exitosamente",planSaveFailed:"Error al guardar el plan",loadSavedPlan:"Cargar Plan Guardado",storage:"Almacenamiento",storageWarning:"El almacenamiento est al {{percentage}}% de su capacidad",storageWarningHelp:"Considera eliminar planes antiguos para liberar espacio.",noSavedPlans:"No se encontraron planes guardados",saved:"Guardado",load:"Cargar",simpleQueryDetected:"Consulta Simple Detectada",simpleQueryHelp:"Esta consulta puede responderse directamente sin planificacin extensa.",comprehensiveResearchPlan:" Plan de Investigacin Completo",analysisSummary:" Resumen del Anlisis",queryType:"Tipo de Consulta:",complexity:"Complejidad:",researchApproach:"Enfoque de Investigacin:",estimatedSources:"Fuentes Estimadas:",reasoning:"Razonamiento:",expertPersona:" Persona Experta",searchQueries:" Consultas de Bsqueda:",researchQuestions:" Preguntas de Investigacin:",suggestedSources:" Fuentes Sugeridas:",sources:"Fuentes:",variousRelevantSources:"Varias fuentes relevantes",researchMethodology:" Metodologa de Investigacin:",enhancedSystemPrompt:" Indicacin del Sistema Mejorada:",enhancedUserPrompt:" Indicacin de Usuario Mejorada:",debugRawLlmResponse:" Depurar: Campos de Respuesta Bruta del LLM",longFormDocumentPlan:" Plan de Documento de Formato Largo",longFormNote:"Nota: Esto se construir en etapas usando fragmentos. Cada seccin se investigar y escribir por separado, luego se combinar en un documento final.",documentStructure:" Estructura del Documento:",keywords:"Palabras Clave:",workflow:" Flujo de Trabajo:",needMoreInfo:" Se Necesita Ms Informacin",pleaseClarify:"Por favor aclara:",updateQueryDetails:"Actualiza tu consulta con ms detalles:",provideMoreDetails:"Proporciona detalles ms especficos...",regeneratePlanWithClarifications:"Regenerar Plan con Aclaraciones",moreInfoRequired:" Se Requiere Ms Informacin",planType:"Tipo de Plan:",detectedComplexityPatterns:" Patrones de Complejidad Detectados:",estimatedIterations:"Iteraciones Estimadas",toolsRequired:"Herramientas Requeridas",suggestedWorkflow:" Flujo de Trabajo Sugerido:",requiredTools:" Herramientas Requeridas:",guidanceQuestions:" Por favor responde estas preguntas para refinar tu plan:",updatePromptWithAnswers:"Actualiza tu indicacin de investigacin con las respuestas:",guidanceTip:" Consejo: Incluye las respuestas a las preguntas anteriores en tu consulta actualizada. Cuanto ms especfico seas, mejor podr la IA crear un plan de mltiples iteraciones efectivo con el uso apropiado de herramientas y ejemplos de pocos disparos.",guidanceExamplePlaceholder:`Ejemplo: Quiero construir un informe de investigacin completo sobre el cambio climtico:
1. Creando 25 tareas para diferentes subtemas (poltica, ciencia, economa, etc.)
2. Buscando en la web para cada tema y guardando los resultados en fragmentos
3. Generando grficos para visualizar puntos de datos clave
4. Combinando todos los fragmentos en un anlisis maestro

Por favor crea un plan detallado con ejemplos de pocos disparos que muestren cmo usar create_todo, search_web, create_snippet y generate_chart juntos en cada iteracin...`,generateDetailedExecutionPlan:" Generar Plan de Ejecucin Detallado",forcePlan:" Forzar Plan",forcePlanTooltip:"Deja que la IA responda las preguntas y fuerce la generacin del plan",reset:" Reiniciar",resetTooltip:"Limpiar modo de gua y volver al estado anterior",aboutGuidanceMode:"Acerca del Modo de Gua:",guidanceModeHelp:"Este modo detecta proyectos complejos que requieren mltiples iteraciones y uso extensivo de herramientas. Responde las preguntas anteriores para ayudar a crear un plan de ejecucin detallado con ejemplos de pocos disparos que muestren cmo usar tareas, fragmentos y mltiples llamadas de herramientas por iteracin.",forcingPlan:"Forzando generacin del plan...",forcePlanError:"Error al forzar el plan",forcePlanFailed:"Fall al forzar el plan",clarificationAnswer:"Por favor usa tu mejor criterio basndote en la consulta original."},nY={title:"Paramtres",language:"Langue",selectLanguage:"Slectionner la Langue",providers:"Proveedores",cloudSync:"Sincronizacin en la Nube",billing:"Facturacin",general:"General",generalDescription:"Configura ajustes generales de la aplicacin incluyendo idioma y preferencias de visualizacin",languageHelp:"Cambia el idioma de la interfaz e instruye a la IA para responder en tu idioma seleccionado",providerCredentials:"Credenciales de Proveedor",providerDescription:"Configura tus claves API de proveedor LLM. El backend selecciona automticamente el mejor modelo para cada solicitud",modelSelectionStrategy:"Estrategia de Seleccin de Modelo",modelStrategyDescription:"Elige cmo el sistema selecciona modelos para tus solicitudes. Esto equilibra costo, calidad y rendimiento",cheap:"Econmico (Recomendado)",cheapDescription:"Prioriza proveedores gratuitos (Groq, Gemini) y modelos ms pequeos capaces. Recurre a proveedores de pago solo cuando est limitado por tasa. Mejor para la mayora de los casos de uso",balanced:"Equilibrado",balancedDescription:"Elige modelos que hagan el trabajo de manera confiable sin comprometer la calidad. Usa nivel gratuito cuando la calidad es equivalente, modelos de pago cuando la calidad importa. Equilibra costo vs. capacidad",powerful:"Potente",powerfulDescription:"Usa los mejores modelos disponibles (GPT-4o, Gemini 2.5 Pro, o1) para mxima capacidad. Prioriza calidad sobre costo. Usa modelos de razonamiento para anlisis complejo",fastest:"Ms Rpido",fastestDescription:"Prioriza modelos de baja latencia (Groq) para respuestas rpidas. Puede sacrificar algo de calidad por velocidad en solicitudes simples. Excelente para sesiones interactivas",tavilyApiKey:"Clave API de Tavily (Opcional)",tavilyPlaceholder:"tvly-...",tavilyHelp:"Habilita bsqueda y extraccin web mejorada a travs de la API de Tavily. Recurre a DuckDuckGo si no se proporciona",enabledTools:"Herramientas Habilitadas",webSearch:"Bsqueda Web",webSearchDescription:"Busca en la web informacin actual, noticias y artculos",executeJs:"Ejecucin de JavaScript",executeJsDescription:"Ejecuta cdigo JavaScript para clculos y procesamiento de datos",scrapeUrl:"Extraccin Web",scrapeUrlDescription:"Extrae contenido de URLs y sitios web especficos",youtubeSearch:"Bsqueda en YouTube",youtubeDescription:"Busca videos en YouTube con soporte de transcripcin",transcribe:"Transcribir Audio/Video",transcribeDescription:"Convierte archivos de audio y video a transcripciones de texto",generateChart:"Generar Grficos",chartDescription:"Crea visualizaciones y grficos a partir de datos",generateImage:"Generar Imgenes",imageDescription:"Crea imgenes generadas por IA a partir de descripciones de texto",searchKnowledgeBase:"Buscar en Base de Conocimiento",ragDescription:"Busca en documentos cargados y base de conocimiento",manageTodos:"Gestionar Tareas",todosDescription:"Crea y gestiona listas de tareas y recordatorios",manageSnippets:"Gestionar Fragmentos",snippetsDescription:"Guarda y recupera fragmentos de cdigo y texto",askLlm:"Preguntar a LLM",askLlmDescription:"Delega sub-preguntas a otras instancias de LLM",generateReasoning:"Generar Cadena de Razonamiento",reasoningDescription:"Razonamiento analtico paso a paso para problemas complejos",proxySettings:"Configuracin de Proxy",proxyDescription:"Configura proxy HTTP/HTTPS para solicitudes web",enableProxy:"Habilitar Proxy",proxyUrl:"URL del Proxy",proxyUrlPlaceholder:"http://proxy.example.com:8080",proxyUsername:"Usuario (Opcional)",proxyPassword:"Contrasea (Opcional)",locationServices:"Servicios de Ubicacin",locationDescription:"Usa tu ubicacin para resultados de bsqueda localizados e informacin especfica de la regin",enableLocation:"Habilitar Servicios de Ubicacin",locationHelp:"Permite que las bsquedas web devuelvan resultados localmente relevantes",currentLocation:"Ubicacin Actual",requestLocation:"Solicitar Ubicacin",clearLocation:"Limpiar Ubicacin",locationPermission:"Permiso de Ubicacin",permissionGranted:"Concedido",permissionDenied:"Denegado",permissionPrompt:"No solicitado",tabs:{general:"General",provider:"Fournisseur",cloud:"Sincronizacin en la Nube",tools:"Herramientas",proxy:"Proxy",location:"Ubicacin",tts:"TTS",rag:"RAG"},appearance:"Apariencia",theme:"Tema",darkMode:"Modo Oscuro",lightMode:"Modo Claro",notifications:"Notificaciones",privacy:"Privacidad",accessibility:"Accesibilidad",fontSize:"Tamao de Fuente",lineHeight:"Altura de Lnea"},aY={en:"English",es:"Espaol",fr:"Franais",de:"Deutsch",zh:"",ja:"",ar:"",nl:"Nederlands",pt:"Portugus",ru:""},sY={title:"Panel de Facturacin",balance:"Saldo de Crdito",totalCost:"Costo Total",totalTokens:"Tokens Totales",totalRequests:"Solicitudes Totales",cost:"Costo",tokens:"Tokens",tokensIn:"Tokens Entrantes",tokensOut:"Tokens Salientes",timestamp:"Marca de Tiempo",noTransactions:"An no hay transacciones",creditsPurchased:"Crditos comprados exitosamente",insufficientCredits:"Crditos insuficientes",purchaseCredits:"Agregar Crdito",amount:"Monto",paymentMethod:"Mtodo de Pago",transactions:"Transacciones",overview:"Resumen",exportCSV:"Exportar CSV",clearData:"Limpiar Datos",clearDataConfirm:"Ests seguro de que quieres limpiar los datos de facturacin?",dataClearedSuccess:" xito: Se limpiaron {{count}} transacciones. {{remaining}} restantes.",dataClearError:" Error: {{message}}",noDataToExport:"No hay datos para exportar",startDate:"Fecha de Inicio",endDate:"Fecha de Fin",type:"Tipo",provider:"Fournisseur",model:"Modle",duration:"Duracin",status:"Estado",allTypes:"Todos los Tipos",allProviders:"Todos los Proveedores",clearFilters:"Limpiar Filtros",quickRanges:"Rangos rpidos:",today:"Hoy",last7Days:"ltimos 7 Das",last30Days:"ltimos 30 Das",thisMonth:"Este Mes",byType:"Por Tipo",byProvider:"Por Proveedor",byModel:"Por Modelo",requests:"Solicitudes",groupByRequestId:" Agrupar por ID de Solicitud",itemsPerPage:"por pgina",totalRequestGroups:"{{count}} grupos de solicitudes totales (mostrando {{showing}}), {{ungrouped}} sin agrupar",totalTransactionsShowing:"{{total}} transacciones totales (mostrando {{showing}})",requestGroup:" Grupo de Solicitudes ({{count}} transacciones)",signInRequired:" Se Requiere Inicio de Sesin",signInToViewBilling:"Por favor inicia sesin con Google para ver tus datos de facturacin.",howToAccessBilling:" Cmo Acceder a los Datos de Facturacin:",signInStep1:'Haz clic en el botn "Iniciar sesin con Google" en la barra de navegacin superior',signInStep2:"Eso es todo! Tus datos de facturacin se cargarn automticamente",billingDataNote:" Tus datos de facturacin se almacenan en una Hoja de clculo de Google de cuenta de servicio centralizada y se recuperan automticamente. No se necesitan permisos adicionales ni acceso a Drive - solo inicia sesin con Google.",debugInfo:" Informacin de Depuracin",loading:"Cargando datos de facturacin...",errorLoading:" Error al Cargar Datos de Facturacin",retry:" Reintentar",noBillingData:"No hay datos de facturacin disponibles. Por favor espera...",noTransactionsMessage:"No se encontraron transacciones",noBillingDataYet:" An No Hay Datos de Facturacin",startUsingChat:"Comienza a usar el chat para generar registros de facturacin. Todo el uso de API se rastrea automticamente.",refresh:" Actualizar",usageOnly:"Solo uso (excl. crditos)",totalCredits:"Crditos Totales",userQueries:"Consultas de Usuario",llmCalls:"Llamadas LLM",userQueriesLlmCalls:"Consultas de Usuario / Llamadas LLM",newBalance:"Nuevo saldo:",creditsToAdd:"Crditos a agregar:",minimumPurchase:"La compra mnima es $5.00",addCreditsTitle:" Agregar Crditos",purchaseCreditsDescription:"Compra crditos para usar funciones de IA. Compra mnima: $5.00",enterAmount:"Ingresa el monto (mn $5.00)",tipUseOwnKeys:" Consejo: Agrega tus propias claves API en Configuracin para costos LLM de $0! Solo se aplican costos de infraestructura cuando usas tus propias claves.",loadingPayPal:"Cargando PayPal...",paypalNotLoaded:" SDK de PayPal no cargado. Por favor actualiza la pgina.",close:"Cerrar",clearBillingData:"Limpiar Datos de Facturacin",clearDataWarning:" Advertencia: Esta accin no se puede deshacer. Tus datos de facturacin se eliminarn permanentemente.",clearAll:"Limpiar Todo",clearByProvider:"Limpiar por Proveedor",clearByDateRange:"Limpiar por Rango de Fechas",clearAllDescription:"Esto eliminar todas las transacciones de tu hoja de facturacin.",considerExportFirst:"Considera exportar a CSV primero para tus registros.",selectProvider:"Seleccionar Proveedor:",selectProviderPlaceholder:"-- Seleccionar Proveedor --",clearProviderHint:"til para alinearse con los ciclos de facturacin del proveedor (ej., limpiar mensualmente).",clearDateRangeHint:"Dejar en blanco para limpiar desde el principio/hasta el final. Ambos pueden usarse juntos.",confirmUndoCheckbox:"Entiendo que esta accin no se puede deshacer",cancel:"Cancelar",page:"Pgina",of:"de",first:" Primera",prev:" Anterior",next:"Siguiente ",last:"ltima ",types:{chat:"Chat",embedding:"Incrustacin",guardrail_input:" Entrada de Guardarral",guardrail_output:" Salida de Guardarral",planning:"Planificacin",assessment:"Evaluacin",image_generation:" Generacin de Imagen",tts:" Texto a Voz",chat_iteration:"Iteracin de Chat",credit_added:"Crdito Agregado",summary:"Resumen",lambda_invocation:"Invocacin Lambda"}},iY={generic:"Ocurri un error",network:"Error de red",timeout:"Tiempo de espera agotado",unauthorized:"Acceso no autorizado",forbidden:"Acceso prohibido",notFound:"Recurso no encontrado",serverError:"Error del servidor",validationError:"Error de validacin",tryAgain:"Por favor intenta nuevamente"},oY={title:"Base de Conocimiento",newSnippet:"Nuevo Fragmento",editSnippet:"Editar Fragmento",deleteSnippet:"Eliminar Fragmento",searchSnippets:"Buscar fragmentos...",noSnippets:"No se encontraron fragmentos",tags:"Etiquetas",addTag:"Agregar Etiqueta",removeTag:"Eliminar Etiqueta",filterByTag:"Filtrar por Etiqueta",content:"Contenido",created:"Creado",modified:"Modificado",source:"Fuente"},lY={readAloud:"Leer en Voz Alta",stopReading:"Detener Lectura",pauseReading:"Pausar Lectura",resumeReading:"Reanudar Lectura",voice:"Voz",speed:"Velocidad",volume:"Volumen",provider:"Proveedor de TTS"},cY={title:"Lista de Reproduccin",addToPlaylist:"Agregar a Lista de Reproduccin",removeFromPlaylist:"Eliminar de Lista de Reproduccin",playNext:"Reproducir Siguiente",playNow:"Reproducir Ahora",clearPlaylist:"Limpiar Lista de Reproduccin",emptyPlaylist:"La lista de reproduccin est vaca"},uY={search:"Bsqueda Web",scrape:"Extraer Contenido",transcribe:"Transcribir",youtube:"YouTube",javascript:"Ejecutar JavaScript",generateChart:"Generar Grfico",generateImage:"Generar Imagen"},dY={common:JW,auth:eY,chat:tY,planning:rY,settings:nY,languages:aY,billing:sY,errors:iY,swag:oY,tts:lY,playlist:cY,tools:uY},pY={save:"Speichern",cancel:"Abbrechen",delete:"Lschen",edit:"Bearbeiten",close:"Schlieen",loading:"Laden...",error:"Fehler",success:"Erfolg",confirm:"Besttigen",back:"Zurck",next:"Weiter",submit:"Absenden",clear:"Lschen",search:"Suchen",filter:"Filtern",export:"Exportieren",import:"Importieren",download:"Herunterladen",upload:"Hochladen",copy:"Kopieren",paste:"Einfgen",cut:"Ausschneiden",undo:"Rckgngig",redo:"Wiederholen",select:"Auswhlen",selectAll:"Alles auswhlen",deselectAll:"Alle abwhlen"},hY={signIn:"Mit Google anmelden",signOut:"Abmelden",authRequired:"Authentifizierung ist erforderlich, um diese Anwendung zu verwenden",tokenExpired:"Ihre Sitzung ist abgelaufen. Bitte melden Sie sich erneut an.",welcomeBack:"Willkommen zurck!",signInPrompt:"Anmelden, um fortzufahren",signInRequired:"Sie mssen sich anmelden, um diese Funktion zu nutzen",signingIn:"Anmelden...",signingOut:"Abmelden...",researchAgent:"Forschungsagent",tagline:"KI-gesttzter Forschungsassistent",secureAuth:"Sichere Authentifizierung von Google",whyChooseTitle:"Warum Research Agent whlen?",whyChooseIntro:"Im Gegensatz zu Standard-KI-Chatbots, die einfach nur Fragen beantworten, ist Research Agent Ihr umfassender Forschungsbegleiter fr tiefgehende Untersuchungen und Wissensaufbau.",keyAdvantagesTitle:"Hauptvorteile:",webConnected:"Web-verbundene Intelligenz",webConnectedDesc:"Echtzeit-Websuche und Content-Extraktion stellen aktuelle, przise Informationen sicher  keine veralteten Trainingsdaten",multiTool:"Multi-Tool-Orchestrierung",multiToolDesc:"Kombiniert nahtlos Websuche, Code-Ausfhrung, YouTube-Transkripte, Bildgenerierung und Dokumentanalyse in einer einzigen Konversation",knowledgeBase:"Wissensdatenbank-Integration",knowledgeBaseDesc:"Speichern Sie Erkenntnisse in Ihrer persnlichen Wissensdatenbank, erstellen Sie Snippets und bauen Sie im Laufe der Zeit umfassende Forschungsdokumente auf",advancedPlanning:"Erweiterte Planung",advancedPlanningDesc:"Generieren Sie strukturierte Forschungsplne mit Experten-Personas, Suchstrategien und methodischen Anstzen",costEffective:"Intelligente Modellauswahl",costEffectiveDesc:"Automatische Auswahl von Modellen, die die Aufgabe wirtschaftlich oder leistungsstark erledigen, basierend auf der Auswahlstrategie. Verwenden Sie Ihre eigenen Schlssel, um 25% zu sparen",transparency:"Volle Transparenz",transparencyDesc:"Verfolgen Sie jeden API-Aufruf, Token-Verbrauch und Kosten im Echtzeit-Abrechnungs-Dashboard",perfectFor:"Perfekt fr: Akademische Forschung, Marktanalyse, Content-Erstellung, technische Dokumentation, Competitive Intelligence und jede Aufgabe, die grndliche Untersuchungen erfordert."},gY={placeholder:"Geben Sie Ihre Nachricht hier ein...",send:"Senden",retry:"Wiederholen",stop:"Stoppen",thinking:"Denken...",generating:"Antwort wird generiert...",newChat:"Neuer Chat",clearHistory:"Verlauf lschen",loadChat:"Chat laden",systemPrompt:"Systemaufforderung",customInstructions:"Benutzerdefinierte Anweisungen",temperature:"Temperatur",maxTokens:"Maximale Tokens",model:"Modell",provider:"Anbieter",history:"Chat-Verlauf",continue:"Fortsetzen",regenerate:"Neu generieren",edit:"Bearbeiten",delete:"Lschen",copy:"Kopieren",copied:"Kopiert!",selectFiles:"Dateien auswhlen",attachFiles:"Dateien anhngen",pasteImage:"Bild einfgen",recording:"Aufnahme...",voiceInput:"Spracheingabe",stopRecording:"Aufnahme stoppen",processing:"Verarbeitung...",noMessages:"Noch keine Nachrichten. Starten Sie ein Gesprch!",clearConfirm:"Sind Sie sicher, dass Sie alle Nachrichten lschen mchten?",deleteConfirm:"Sind Sie sicher, dass Sie diese Nachricht lschen mchten?",loadingHistory:"Chat-Verlauf wird geladen...",savingChat:"Chat wird gespeichert...",chatSaved:"Chat erfolgreich gespeichert",chatLoaded:"Chat erfolgreich geladen",errorSaving:"Fehler beim Speichern des Chats",errorLoading:"Fehler beim Laden des Chats",signInRequired:"Bitte melden Sie sich an, um diese Funktion zu nutzen",providerRequired:"Bitte konfigurieren Sie mindestens einen Anbieter in den Einstellungen",messageError:"Fehler beim Senden der Nachricht",streamError:"Fehler im Nachrichtenfluss",toolExecution:"Tool wird ausgefhrt...",toolExecuted:"Tool erfolgreich ausgefhrt",toolError:"Tool-Ausfhrungsfehler",searchingWeb:"Suche im Web...",scrapingContent:"Inhalt wird extrahiert...",transcribingAudio:"Audio wird transkribiert...",generatingImage:"Bild wird generiert...",generatingChart:"Diagramm wird erstellt...",executingCode:"Code wird ausgefhrt...",planningMode:"Planungsmodus",exitPlanning:"Planung beenden",startPlanning:"Planung starten",mcpServers:"MCP-Server",addMCPServer:"MCP-Server hinzufgen",mcpServerName:"Nombre del Servidor",mcpServerUrl:"URL del Servidor",exampleServers:"Servidores de Ejemplo",officialServers:"Servidores MCP Oficiales",sampleServers:"Servidores de Muestra",instructions:"Instrucciones",availableTools:"Herramientas Disponibles",enableServer:"Habilitar Servidor",disableServer:"Deshabilitar Servidor",removeServer:"Eliminar Servidor",serverAdded:"Servidor agregado exitosamente",serverRemoved:"Servidor eliminado exitosamente",invalidUrl:"Formato de URL invlido",nameRequired:"Se requiere el nombre del servidor",urlRequired:"Se requiere la URL del servidor",chatHistory:"Chat-Verlauf",examples:"Ejemplos",attachContext:"Adjuntar Contexto",attachContextTooltip:"Adjunta fragmentos de la base de conocimiento como contexto para esta conversacin",searchProvider:"Proveedor de Bsqueda:",functionCall:"Llamada de Funcin:",code:"Cdigo:",arguments:"Argumentos:",callId:"ID de Llamada:",result:"Resultado:",url:"URL:",viewRawHtml:"Ver HTML sin procesar sin comprimir",copyOutputToClipboard:"Copiar salida al portapapeles",copyCodeToClipboard:"Copiar cdigo al portapapeles",captureToSwag:"Capturar a Swag",captureOutputToSwag:"Capturar salida a Swag",captureCodeToSwag:"Capturar cdigo a Swag",grabImage:"Capturar imagen",noSummarization:"Sin resumen",usingProxy:"Usando proxy para mayor privacidad y evasin de deteccin de bots",contentExtracted:"Contenido extrado inteligentemente",truncatedToFit:"Truncado para ajustarse al modelo",scrapeMethod:"Mtodo de Extraccin:",tier:"Nivel",scrapeTime:"Tiempo de Extraccin:",totalTime:"Tiempo Total:",format:"Formato:",originalSize:"Tamao Original:",compressedSize:"Tamao Comprimido:",compression:"Compresin:",compressionStrategy:"Estrategia de Compresin:",basicExtraction:"Extraccin bsica",rawHtml:"HTML Sin Procesar ({{count}} caracteres)",rawText:"Texto Sin Procesar ({{count}} caracteres)",contentProcessingPipeline:"Pipeline de Procesamiento de Contenido:",size:"Tamao:",titlePrompt:"Ttulo/Indicacin",finalPrompt:"Indicacin Final",deleteChat:"Eliminar Chat",clearAllChats:"Limpiar Todos los Chats",confirmClearAll:"Ests seguro de que quieres limpiar todo el historial de chat?",confirmDelete:"Ests seguro de que quieres eliminar este chat?",noChatsYet:"No hay chats an",startChatting:"Comienza a chatear para ver el historial aqu",chatDeleted:"Chat eliminado",allChatsCleared:"Todos los chats limpiados",chatTitle:"Ttulo del Chat",enterChatTitle:"Ingresa un ttulo para este chat...",signInToChat:"Por favor inicia sesin para comenzar a chatear",streamingResponse:"Respuesta en transmisin...",imageAddedToSwag:"Imagen agregada a Swag!",imageAddedWithoutConversion:"Imagen agregada a Swag (sin conversin)!",contentCapturedToSwag:"Contenido capturado a Swag!",contentCapturedWithoutConversion:"Contenido capturado a Swag (sin conversin de imagen)!",planningTransferred:"Indicaciones de planificacin transferidas a nuevo chat",failedToTransfer:"Error al transferir datos de planificacin",addedToPlaylist:"{{count}} video{{plural}} agregado{{plural}} a la lista de reproduccin",transcriptionStopped:"Transcripcin detenida",failedToStopTranscription:"Error al detener la transcripcin: {{error}}",fileTypeNotSupported:"Tipo de archivo no compatible: {{name}}. Tipos compatibles: JPEG, PNG, GIF, WebP, PDF",fileTooLarge:"Archivo demasiado grande: {{name}} ({{size}}MB). Tamao mximo: {{maxSize}}MB",imageTokenWarning:"La imagen {{name}} puede usar muchos tokens (~{{tokens}}k). Considera usar una imagen ms pequea.",fileAdded:"{{name}} agregado",failedToProcess:"Error al procesar {{name}}",signInToSendMessages:"Por favor inicia sesin para enviar mensajes",foundRelevantChunks:" Se encontraron {{count}} fragmentos relevantes de la base de conocimiento",noRelevantContext:"No se encontr contexto relevante en la base de conocimiento",failedToRetrieveRag:"Error al recuperar el contexto RAG, continuando sin l",sessionExpired:"Tu sesin ha expirado. Por favor inicia sesin nuevamente.",todoLimitReached:"Lmite de progresin automtica de tareas alcanzado. Por favor contina manualmente.",snippetSaved:"Fragmento guardado: {{title}}",snippetDeleted:"Fragmento eliminado: {{title}}",copiedToClipboard:"Copiado al portapapeles!",outputCopied:"Salida copiada al portapapeles!",codeCopied:"Cdigo copiado al portapapeles!",inputPlaceholder:"Escribe tu mensaje... (Shift+Enter para nueva lnea,  para historial)",continueProcessing:"Continuar Procesamiento",stopGenerating:"Detener generacin de respuesta",sendMessage:"Enviar mensaje",chatMessageInput:"Entrada de mensaje de chat",editPlan:"Editar Plan",makeAPlan:"Hacer un Plan",close:"Cerrar",failedToLoadChat:"Fehler beim Laden des Chats",mcpServerNamePlaceholder:"Nombre del Servidor (ej., filesystem, github)",mcpServerUrlPlaceholder:"URL del Servidor (ej., http://localhost:3000)",noMcpServers:"No hay servidores MCP configurados",addServer:"Agregar Servidor",remove:"Lschen",chatHistoryTitle:"Chat-Verlauf",noChatHistory:"No se encontr historial de chat. Inicia una conversacin para guardarla automticamente.",allChatHistoryCleared:"Todo el historial de chat limpiado",loadChatSuccess:"Chat erfolgreich geladen",examplesTitle:"Ejemplos de Chat",tryExample:"Prueba este ejemplo",attachContextTitle:"Adjuntar Contexto de Swag",snippetsAttached:"{{count}} fragmento{{plural}} adjunto{{plural}}",attachSnippets:"Adjuntar Fragmentos",searchSnippets:"Buscar fragmentos...",selectAll:"Alles auswhlen",selectNone:"Seleccionar Ninguno",deleteSelected:"Eliminar Seleccionados",cancel:"Cancelar",load:"Cargar",confirmDeleteChat:"Ests seguro de que quieres eliminar este chat?",confirmClearHistory:"Ests seguro de que quieres limpiar todo el historial de chat?",confirmDeleteSelected:"Ests seguro de que quieres eliminar {{count}} chat{{plural}} seleccionado{{plural}}?",chatLoadedFrom:"Cargado desde",chatSavedAt:"Guardado en",noTitle:"Sin ttulo",clearAttachedSnippets:"Limpiar todos los fragmentos adjuntos",mcpServerConfiguration:"Configuracin del Servidor MCP",typeMessageFirst:"Escribe un mensaje primero",typeMessage:"Escribe un mensaje",signInToSend:"Por favor inicia sesin para enviar mensajes"},mY={title:"Forschungsplanung",query:"Consulta de Investigacin",generatePlan:"Plan Generieren",savePlan:"Guardar Plan",loadSaved:"Cargar Guardado",transferToChat:"Transferir al Chat",clearAll:"Limpiar Todo",debug:"Depurar",planning:"Planificando...",planGenerated:"Plan generado exitosamente",noPlan:"An no se ha generado ningn plan",enterQuery:"Ingresa tu consulta o tema de investigacin...",researchFocus:"Enfoque de Investigacin",methodology:"Metodologa",expectedOutcome:"Resultado Esperado",initializing:"Inicializando...",processing:"Verarbeitung...",signInToGenerate:"Inicia sesin para Generar Plan",generating:"Generando...",signInToUsePlanning:"Por favor inicia sesin para usar la planificacin",signInRequired:"Por favor inicia sesin con Google para usar la funcin de planificacin",authExpired:"Autenticacin expirada. Por favor cierra sesin e inicia sesin nuevamente para continuar.",authRequired:"Se requiere autenticacin. Por favor inicia sesin con Google para continuar.",enterResearchQuestion:"Por favor ingresa una pregunta de investigacin",debugCopied:"Informacin de depuracin copiada al portapapeles!",debugCopyFailed:"Error al copiar informacin de depuracin",savePlanTooltip:"Guarda el plan actual en tu lista de planes guardados",loadSavedPlans:"Cargar Planes Guardados",debugTooltip:"Copiar informacin de depuracin para solucin de problemas de Copilot",transferTooltip:"Transferir al Chat",clearAllTooltip:"Limpiar todos los datos de planificacin y comenzar de nuevo",systemPromptEditable:"Indicacin del Sistema Generada (Editable):",systemPromptHelp:"Esto define el rol y comportamiento de la IA. Edtalo segn sea necesario antes de transferir al chat.",userQueryEditable:"Consulta de Usuario Generada (Editable):",userQueryHelp:"Este es el mensaje que se enviar al chat. Edtalo para refinar tu consulta.",generatedPrompts:"Indicaciones Generadas",llmInfoTooltip:"Ver informacin de transparencia del LLM (modelo, tokens, costo)",llmCalls:"llamada",llmCallsPlural:"llamadas",cannotSavePlan:"No se puede guardar el plan: No se gener un plan vlido",planSavedSuccess:"Plan guardado exitosamente",planSaveFailed:"Error al guardar el plan",loadSavedPlan:"Cargar Plan Guardado",storage:"Almacenamiento",storageWarning:"El almacenamiento est al {{percentage}}% de su capacidad",storageWarningHelp:"Considera eliminar planes antiguos para liberar espacio.",noSavedPlans:"No se encontraron planes guardados",saved:"Guardado",load:"Cargar",simpleQueryDetected:"Consulta Simple Detectada",simpleQueryHelp:"Esta consulta puede responderse directamente sin planificacin extensa.",comprehensiveResearchPlan:" Plan de Investigacin Completo",analysisSummary:" Resumen del Anlisis",queryType:"Tipo de Consulta:",complexity:"Complejidad:",researchApproach:"Enfoque de Investigacin:",estimatedSources:"Fuentes Estimadas:",reasoning:"Razonamiento:",expertPersona:" Persona Experta",searchQueries:" Consultas de Bsqueda:",researchQuestions:" Preguntas de Investigacin:",suggestedSources:" Fuentes Sugeridas:",sources:"Fuentes:",variousRelevantSources:"Varias fuentes relevantes",researchMethodology:" Metodologa de Investigacin:",enhancedSystemPrompt:" Indicacin del Sistema Mejorada:",enhancedUserPrompt:" Indicacin de Usuario Mejorada:",debugRawLlmResponse:" Depurar: Campos de Respuesta Bruta del LLM",longFormDocumentPlan:" Plan de Documento de Formato Largo",longFormNote:"Nota: Esto se construir en etapas usando fragmentos. Cada seccin se investigar y escribir por separado, luego se combinar en un documento final.",documentStructure:" Estructura del Documento:",keywords:"Palabras Clave:",workflow:" Flujo de Trabajo:",needMoreInfo:" Se Necesita Ms Informacin",pleaseClarify:"Por favor aclara:",updateQueryDetails:"Actualiza tu consulta con ms detalles:",provideMoreDetails:"Proporciona detalles ms especficos...",regeneratePlanWithClarifications:"Regenerar Plan con Aclaraciones",moreInfoRequired:" Se Requiere Ms Informacin",planType:"Tipo de Plan:",detectedComplexityPatterns:" Patrones de Complejidad Detectados:",estimatedIterations:"Iteraciones Estimadas",toolsRequired:"Herramientas Requeridas",suggestedWorkflow:" Flujo de Trabajo Sugerido:",requiredTools:" Herramientas Requeridas:",guidanceQuestions:" Por favor responde estas preguntas para refinar tu plan:",updatePromptWithAnswers:"Actualiza tu indicacin de investigacin con las respuestas:",guidanceTip:" Consejo: Incluye las respuestas a las preguntas anteriores en tu consulta actualizada. Cuanto ms especfico seas, mejor podr la IA crear un plan de mltiples iteraciones efectivo con el uso apropiado de herramientas y ejemplos de pocos disparos.",guidanceExamplePlaceholder:`Ejemplo: Quiero construir un informe de investigacin completo sobre el cambio climtico:
1. Creando 25 tareas para diferentes subtemas (poltica, ciencia, economa, etc.)
2. Buscando en la web para cada tema y guardando los resultados en fragmentos
3. Generando grficos para visualizar puntos de datos clave
4. Combinando todos los fragmentos en un anlisis maestro

Por favor crea un plan detallado con ejemplos de pocos disparos que muestren cmo usar create_todo, search_web, create_snippet y generate_chart juntos en cada iteracin...`,generateDetailedExecutionPlan:" Generar Plan de Ejecucin Detallado",forcePlan:" Forzar Plan",forcePlanTooltip:"Deja que la IA responda las preguntas y fuerce la generacin del plan",reset:" Reiniciar",resetTooltip:"Limpiar modo de gua y volver al estado anterior",aboutGuidanceMode:"Acerca del Modo de Gua:",guidanceModeHelp:"Este modo detecta proyectos complejos que requieren mltiples iteraciones y uso extensivo de herramientas. Responde las preguntas anteriores para ayudar a crear un plan de ejecucin detallado con ejemplos de pocos disparos que muestren cmo usar tareas, fragmentos y mltiples llamadas de herramientas por iteracin.",forcingPlan:"Forzando generacin del plan...",forcePlanError:"Error al forzar el plan",forcePlanFailed:"Fall al forzar el plan",clarificationAnswer:"Por favor usa tu mejor criterio basndote en la consulta original."},fY={title:"Einstellungen",language:"Sprache",selectLanguage:"Sprache Auswhlen",providers:"Proveedores",cloudSync:"Sincronizacin en la Nube",billing:"Facturacin",general:"General",generalDescription:"Configura ajustes generales de la aplicacin incluyendo idioma y preferencias de visualizacin",languageHelp:"Cambia el idioma de la interfaz e instruye a la IA para responder en tu idioma seleccionado",providerCredentials:"Credenciales de Proveedor",providerDescription:"Configura tus claves API de proveedor LLM. El backend selecciona automticamente el mejor modelo para cada solicitud",modelSelectionStrategy:"Estrategia de Seleccin de Modelo",modelStrategyDescription:"Elige cmo el sistema selecciona modelos para tus solicitudes. Esto equilibra costo, calidad y rendimiento",cheap:"Econmico (Recomendado)",cheapDescription:"Prioriza proveedores gratuitos (Groq, Gemini) y modelos ms pequeos capaces. Recurre a proveedores de pago solo cuando est limitado por tasa. Mejor para la mayora de los casos de uso",balanced:"Equilibrado",balancedDescription:"Elige modelos que hagan el trabajo de manera confiable sin comprometer la calidad. Usa nivel gratuito cuando la calidad es equivalente, modelos de pago cuando la calidad importa. Equilibra costo vs. capacidad",powerful:"Potente",powerfulDescription:"Usa los mejores modelos disponibles (GPT-4o, Gemini 2.5 Pro, o1) para mxima capacidad. Prioriza calidad sobre costo. Usa modelos de razonamiento para anlisis complejo",fastest:"Ms Rpido",fastestDescription:"Prioriza modelos de baja latencia (Groq) para respuestas rpidas. Puede sacrificar algo de calidad por velocidad en solicitudes simples. Excelente para sesiones interactivas",tavilyApiKey:"Clave API de Tavily (Opcional)",tavilyPlaceholder:"tvly-...",tavilyHelp:"Habilita bsqueda y extraccin web mejorada a travs de la API de Tavily. Recurre a DuckDuckGo si no se proporciona",enabledTools:"Herramientas Habilitadas",webSearch:"Bsqueda Web",webSearchDescription:"Busca en la web informacin actual, noticias y artculos",executeJs:"Ejecucin de JavaScript",executeJsDescription:"Ejecuta cdigo JavaScript para clculos y procesamiento de datos",scrapeUrl:"Extraccin Web",scrapeUrlDescription:"Extrae contenido de URLs y sitios web especficos",youtubeSearch:"Bsqueda en YouTube",youtubeDescription:"Busca videos en YouTube con soporte de transcripcin",transcribe:"Transcribir Audio/Video",transcribeDescription:"Convierte archivos de audio y video a transcripciones de texto",generateChart:"Generar Grficos",chartDescription:"Crea visualizaciones y grficos a partir de datos",generateImage:"Generar Imgenes",imageDescription:"Crea imgenes generadas por IA a partir de descripciones de texto",searchKnowledgeBase:"Buscar en Base de Conocimiento",ragDescription:"Busca en documentos cargados y base de conocimiento",manageTodos:"Gestionar Tareas",todosDescription:"Crea y gestiona listas de tareas y recordatorios",manageSnippets:"Gestionar Fragmentos",snippetsDescription:"Guarda y recupera fragmentos de cdigo y texto",askLlm:"Preguntar a LLM",askLlmDescription:"Delega sub-preguntas a otras instancias de LLM",generateReasoning:"Generar Cadena de Razonamiento",reasoningDescription:"Razonamiento analtico paso a paso para problemas complejos",proxySettings:"Configuracin de Proxy",proxyDescription:"Configura proxy HTTP/HTTPS para solicitudes web",enableProxy:"Habilitar Proxy",proxyUrl:"URL del Proxy",proxyUrlPlaceholder:"http://proxy.example.com:8080",proxyUsername:"Usuario (Opcional)",proxyPassword:"Contrasea (Opcional)",locationServices:"Servicios de Ubicacin",locationDescription:"Usa tu ubicacin para resultados de bsqueda localizados e informacin especfica de la regin",enableLocation:"Habilitar Servicios de Ubicacin",locationHelp:"Permite que las bsquedas web devuelvan resultados localmente relevantes",currentLocation:"Ubicacin Actual",requestLocation:"Solicitar Ubicacin",clearLocation:"Limpiar Ubicacin",locationPermission:"Permiso de Ubicacin",permissionGranted:"Concedido",permissionDenied:"Denegado",permissionPrompt:"No solicitado",tabs:{general:"General",provider:"Anbieter",cloud:"Sincronizacin en la Nube",tools:"Herramientas",proxy:"Proxy",location:"Ubicacin",tts:"TTS",rag:"RAG"},appearance:"Apariencia",theme:"Tema",darkMode:"Modo Oscuro",lightMode:"Modo Claro",notifications:"Notificaciones",privacy:"Privacidad",accessibility:"Accesibilidad",fontSize:"Tamao de Fuente",lineHeight:"Altura de Lnea"},bY={en:"English",es:"Espaol",fr:"Franais",de:"Deutsch",zh:"",ja:"",ar:"",nl:"Nederlands",pt:"Portugus",ru:""},yY={title:"Panel de Facturacin",balance:"Saldo de Crdito",totalCost:"Costo Total",totalTokens:"Tokens Totales",totalRequests:"Solicitudes Totales",cost:"Costo",tokens:"Tokens",tokensIn:"Tokens Entrantes",tokensOut:"Tokens Salientes",timestamp:"Marca de Tiempo",noTransactions:"An no hay transacciones",creditsPurchased:"Crditos comprados exitosamente",insufficientCredits:"Crditos insuficientes",purchaseCredits:"Agregar Crdito",amount:"Monto",paymentMethod:"Mtodo de Pago",transactions:"Transacciones",overview:"Resumen",exportCSV:"Exportar CSV",clearData:"Limpiar Datos",clearDataConfirm:"Ests seguro de que quieres limpiar los datos de facturacin?",dataClearedSuccess:" xito: Se limpiaron {{count}} transacciones. {{remaining}} restantes.",dataClearError:" Error: {{message}}",noDataToExport:"No hay datos para exportar",startDate:"Fecha de Inicio",endDate:"Fecha de Fin",type:"Tipo",provider:"Anbieter",model:"Modell",duration:"Duracin",status:"Estado",allTypes:"Todos los Tipos",allProviders:"Todos los Proveedores",clearFilters:"Limpiar Filtros",quickRanges:"Rangos rpidos:",today:"Hoy",last7Days:"ltimos 7 Das",last30Days:"ltimos 30 Das",thisMonth:"Este Mes",byType:"Por Tipo",byProvider:"Por Proveedor",byModel:"Por Modelo",requests:"Solicitudes",groupByRequestId:" Agrupar por ID de Solicitud",itemsPerPage:"por pgina",totalRequestGroups:"{{count}} grupos de solicitudes totales (mostrando {{showing}}), {{ungrouped}} sin agrupar",totalTransactionsShowing:"{{total}} transacciones totales (mostrando {{showing}})",requestGroup:" Grupo de Solicitudes ({{count}} transacciones)",signInRequired:" Se Requiere Inicio de Sesin",signInToViewBilling:"Por favor inicia sesin con Google para ver tus datos de facturacin.",howToAccessBilling:" Cmo Acceder a los Datos de Facturacin:",signInStep1:'Haz clic en el botn "Iniciar sesin con Google" en la barra de navegacin superior',signInStep2:"Eso es todo! Tus datos de facturacin se cargarn automticamente",billingDataNote:" Tus datos de facturacin se almacenan en una Hoja de clculo de Google de cuenta de servicio centralizada y se recuperan automticamente. No se necesitan permisos adicionales ni acceso a Drive - solo inicia sesin con Google.",debugInfo:" Informacin de Depuracin",loading:"Cargando datos de facturacin...",errorLoading:" Error al Cargar Datos de Facturacin",retry:" Reintentar",noBillingData:"No hay datos de facturacin disponibles. Por favor espera...",noTransactionsMessage:"No se encontraron transacciones",noBillingDataYet:" An No Hay Datos de Facturacin",startUsingChat:"Comienza a usar el chat para generar registros de facturacin. Todo el uso de API se rastrea automticamente.",refresh:" Actualizar",usageOnly:"Solo uso (excl. crditos)",totalCredits:"Crditos Totales",userQueries:"Consultas de Usuario",llmCalls:"Llamadas LLM",userQueriesLlmCalls:"Consultas de Usuario / Llamadas LLM",newBalance:"Nuevo saldo:",creditsToAdd:"Crditos a agregar:",minimumPurchase:"La compra mnima es $5.00",addCreditsTitle:" Agregar Crditos",purchaseCreditsDescription:"Compra crditos para usar funciones de IA. Compra mnima: $5.00",enterAmount:"Ingresa el monto (mn $5.00)",tipUseOwnKeys:" Consejo: Agrega tus propias claves API en Configuracin para costos LLM de $0! Solo se aplican costos de infraestructura cuando usas tus propias claves.",loadingPayPal:"Cargando PayPal...",paypalNotLoaded:" SDK de PayPal no cargado. Por favor actualiza la pgina.",close:"Cerrar",clearBillingData:"Limpiar Datos de Facturacin",clearDataWarning:" Advertencia: Esta accin no se puede deshacer. Tus datos de facturacin se eliminarn permanentemente.",clearAll:"Limpiar Todo",clearByProvider:"Limpiar por Proveedor",clearByDateRange:"Limpiar por Rango de Fechas",clearAllDescription:"Esto eliminar todas las transacciones de tu hoja de facturacin.",considerExportFirst:"Considera exportar a CSV primero para tus registros.",selectProvider:"Seleccionar Proveedor:",selectProviderPlaceholder:"-- Seleccionar Proveedor --",clearProviderHint:"til para alinearse con los ciclos de facturacin del proveedor (ej., limpiar mensualmente).",clearDateRangeHint:"Dejar en blanco para limpiar desde el principio/hasta el final. Ambos pueden usarse juntos.",confirmUndoCheckbox:"Entiendo que esta accin no se puede deshacer",cancel:"Cancelar",page:"Pgina",of:"de",first:" Primera",prev:" Anterior",next:"Siguiente ",last:"ltima ",types:{chat:"Chat",embedding:"Incrustacin",guardrail_input:" Entrada de Guardarral",guardrail_output:" Salida de Guardarral",planning:"Planificacin",assessment:"Evaluacin",image_generation:" Generacin de Imagen",tts:" Texto a Voz",chat_iteration:"Iteracin de Chat",credit_added:"Crdito Agregado",summary:"Resumen",lambda_invocation:"Invocacin Lambda"}},xY={generic:"Ocurri un error",network:"Error de red",timeout:"Tiempo de espera agotado",unauthorized:"Acceso no autorizado",forbidden:"Acceso prohibido",notFound:"Recurso no encontrado",serverError:"Error del servidor",validationError:"Error de validacin",tryAgain:"Por favor intenta nuevamente"},EY={title:"Base de Conocimiento",newSnippet:"Nuevo Fragmento",editSnippet:"Editar Fragmento",deleteSnippet:"Eliminar Fragmento",searchSnippets:"Buscar fragmentos...",noSnippets:"No se encontraron fragmentos",tags:"Etiquetas",addTag:"Agregar Etiqueta",removeTag:"Eliminar Etiqueta",filterByTag:"Filtrar por Etiqueta",content:"Contenido",created:"Creado",modified:"Modificado",source:"Fuente"},vY={readAloud:"Leer en Voz Alta",stopReading:"Detener Lectura",pauseReading:"Pausar Lectura",resumeReading:"Reanudar Lectura",voice:"Voz",speed:"Velocidad",volume:"Volumen",provider:"Proveedor de TTS"},SY={title:"Lista de Reproduccin",addToPlaylist:"Agregar a Lista de Reproduccin",removeFromPlaylist:"Eliminar de Lista de Reproduccin",playNext:"Reproducir Siguiente",playNow:"Reproducir Ahora",clearPlaylist:"Limpiar Lista de Reproduccin",emptyPlaylist:"La lista de reproduccin est vaca"},TY={search:"Bsqueda Web",scrape:"Extraer Contenido",transcribe:"Transcribir",youtube:"YouTube",javascript:"Ejecutar JavaScript",generateChart:"Generar Grfico",generateImage:"Generar Imagen"},wY={common:pY,auth:hY,chat:gY,planning:mY,settings:fY,languages:bY,billing:yY,errors:xY,swag:EY,tts:vY,playlist:SY,tools:TY},kY={save:"",cancel:"",delete:"",edit:"",close:"",loading:"...",error:"",success:"",confirm:"",back:"",next:"",submit:"",clear:"",search:"",filter:"",export:"",import:"",download:"",upload:"",copy:"",paste:"",cut:"",undo:"",redo:"",select:"",selectAll:"",deselectAll:""},CY={signIn:" Google ",signOut:"",authRequired:"",tokenExpired:"",welcomeBack:"",signInPrompt:"",signInRequired:"",signingIn:"...",signingOut:"...",researchAgent:"",tagline:"AI",secureAuth:" Google ",whyChooseTitle:" Research Agent",whyChooseIntro:" AI Research Agent ",keyAdvantagesTitle:"",webConnected:"",webConnectedDesc:"",multiTool:"",multiToolDesc:"YouTube ",knowledgeBase:"",knowledgeBaseDesc:"",advancedPlanning:"",advancedPlanningDesc:"",costEffective:"",costEffectiveDesc:"25%",transparency:"",transparencyDesc:" API ",perfectFor:""},_Y={placeholder:"...",send:"",retry:"Retry",stop:"",thinking:"...",generating:"Generating response...",newChat:"New Chat",clearHistory:"Clear History",loadChat:"Load Chat",systemPrompt:"System Prompt",customInstructions:"Custom Instructions",temperature:"Temperature",maxTokens:"Max Tokens",model:"Model",provider:"Provider",history:"Chat History",continue:"Continue",regenerate:"Regenerate",edit:"",delete:"",copy:"",copied:"Copied!",selectFiles:"Select Files",attachFiles:"Attach Files",pasteImage:"Paste Image",recording:"Recording...",voiceInput:"Voice Input",stopRecording:"Stop Recording",processing:"Processing...",noMessages:"No messages yet. Start a conversation!",clearConfirm:"Are you sure you want to clear all messages?",deleteConfirm:"Are you sure you want to delete this message?",loadingHistory:"Loading chat history...",savingChat:"Saving chat...",chatSaved:"Chat saved successfully",chatLoaded:"Chat loaded successfully",errorSaving:"Error saving chat",errorLoading:"Error loading chat",signInRequired:"Please sign in to use this feature",providerRequired:"Please configure at least one provider in Settings",messageError:"Error sending message",streamError:"Error in message stream",toolExecution:"Executing tool...",toolExecuted:"Tool executed successfully",toolError:"Tool execution error",searchingWeb:"Searching the web...",scrapingContent:"Scraping content...",transcribingAudio:"Transcribing audio...",generatingImage:"Generating image...",generatingChart:"Generating chart...",executingCode:"Executing code...",planningMode:"Planning Mode",exitPlanning:"Exit Planning",startPlanning:"Start Planning",mcpServers:"MCP Servers",addMCPServer:"Add MCP Server",mcpServerName:"Server Name",mcpServerUrl:"Server URL",exampleServers:"Example Servers",officialServers:"Official MCP Servers",sampleServers:"Sample Servers",instructions:"Instructions",availableTools:"Available Tools",enableServer:"Enable Server",disableServer:"Disable Server",removeServer:"Remove Server",serverAdded:"Server added successfully",serverRemoved:"Server removed successfully",invalidUrl:"Invalid URL format",nameRequired:"Server name is required",urlRequired:"Server URL is required",chatHistory:"Chat History",examples:"Examples",attachContext:"Attach Context",attachContextTooltip:"Attach knowledge base snippets as context for this conversation",searchProvider:"Search Provider:",functionCall:"Function Call:",code:"Code:",arguments:"Arguments:",callId:"Call ID:",result:"Result:",url:"URL:",viewRawHtml:"View raw uncompressed HTML",copyOutputToClipboard:"Copy output to clipboard",copyCodeToClipboard:"Copy code to clipboard",captureToSwag:"Capture to Swag",captureOutputToSwag:"Capture output to Swag",captureCodeToSwag:"Capture code to Swag",grabImage:"Grab image",noSummarization:"No summarization",usingProxy:"Using proxy for enhanced privacy and bot detection evasion",contentExtracted:"Content intelligently extracted",truncatedToFit:"Truncated to fit model",scrapeMethod:"Scrape Method:",tier:"Tier",scrapeTime:"Scrape Time:",totalTime:"Total Time:",format:"Format:",originalSize:"Original Size:",compressedSize:"Compressed Size:",compression:"Compression:",compressionStrategy:"Compression Strategy:",basicExtraction:"Basic extraction",rawHtml:"Raw HTML ({{count}} chars)",rawText:"Raw Text ({{count}} chars)",contentProcessingPipeline:"Content Processing Pipeline:",size:"Size:",titlePrompt:"Title/Prompt",finalPrompt:"Final Prompt",deleteChat:"Delete Chat",clearAllChats:"Clear All Chats",confirmClearAll:"Are you sure you want to clear all chat history?",confirmDelete:"Are you sure you want to delete this chat?",noChatsYet:"No chats yet",startChatting:"Start chatting to see history here",chatDeleted:"Chat deleted",allChatsCleared:"All chats cleared",chatTitle:"Chat Title",enterChatTitle:"Enter a title for this chat...",signInToChat:"Please sign in to start chatting",streamingResponse:"Streaming response...",imageAddedToSwag:"Image added to Swag!",imageAddedWithoutConversion:"Image added to Swag (without conversion)!",contentCapturedToSwag:"Content captured to Swag!",contentCapturedWithoutConversion:"Content captured to Swag (without image conversion)!",planningTransferred:"Planning prompts transferred to new chat",failedToTransfer:"Failed to transfer planning data",addedToPlaylist:"Added {{count}} video{{plural}} to playlist",transcriptionStopped:"Transcription stopped",failedToStopTranscription:"Failed to stop transcription: {{error}}",fileTypeNotSupported:"File type not supported: {{name}}. Supported types: JPEG, PNG, GIF, WebP, PDF",fileTooLarge:"File too large: {{name}} ({{size}}MB). Max size: {{maxSize}}MB",imageTokenWarning:"Image {{name}} may use many tokens (~{{tokens}}k). Consider using a smaller image.",fileAdded:"Added {{name}}",failedToProcess:"Failed to process {{name}}",signInToSendMessages:"Please sign in to send messages",foundRelevantChunks:" Found {{count}} relevant chunks from knowledge base",noRelevantContext:"No relevant context found in knowledge base",failedToRetrieveRag:"Failed to retrieve RAG context, continuing without it",sessionExpired:"Your session has expired. Please sign in again.",todoLimitReached:"Todo auto-progression limit reached. Please continue manually.",snippetSaved:"Saved snippet: {{title}}",snippetDeleted:"Deleted snippet: {{title}}",copiedToClipboard:"Copied to clipboard!",outputCopied:"Output copied to clipboard!",codeCopied:"Code copied to clipboard!",inputPlaceholder:"Type your message... (Shift+Enter for new line,  for history)",continueProcessing:"Continue Processing",stopGenerating:"Stop generating response",sendMessage:"Send message",chatMessageInput:"Chat message input",editPlan:"Edit Plan",makeAPlan:"Make A Plan",close:"Close",failedToLoadChat:"Failed to load chat",mcpServerNamePlaceholder:"Server Name (e.g., filesystem, github)",mcpServerUrlPlaceholder:"Server URL (e.g., http://localhost:3000)",noMcpServers:"No MCP servers configured",addServer:"Add Server",remove:"Remove",chatHistoryTitle:"Chat History",noChatHistory:"No chat history found. Start a conversation to save it automatically.",allChatHistoryCleared:"All chat history cleared",loadChatSuccess:"Chat loaded successfully",examplesTitle:"Chat Examples",tryExample:"Try this example",attachContextTitle:"Attach Context from Swag",snippetsAttached:"{{count}} snippet{{plural}} attached",attachSnippets:"Attach Snippets",searchSnippets:"Search snippets...",selectAll:"",selectNone:"Select None",deleteSelected:"Delete Selected",cancel:"Cancel",load:"Load",confirmDeleteChat:"Are you sure you want to delete this chat?",confirmClearHistory:"Are you sure you want to clear all chat history?",confirmDeleteSelected:"Are you sure you want to delete {{count}} selected chat{{plural}}?",chatLoadedFrom:"Loaded from",chatSavedAt:"Saved at",noTitle:"No title",clearAttachedSnippets:"Clear all attached snippets",mcpServerConfiguration:"MCP Server Configuration",typeMessageFirst:"Type a message first",typeMessage:"Type a message",signInToSend:"Please sign in to send messages"},AY={title:"",query:"Research Query",generatePlan:"",savePlan:"Save Plan",loadSaved:"Load Saved",transferToChat:"Transfer to Chat",clearAll:"Clear All",debug:"Debug",planning:"Planning...",planGenerated:"Plan generated successfully",noPlan:"No plan generated yet",enterQuery:"Enter your research query or topic...",researchFocus:"Research Focus",methodology:"Methodology",expectedOutcome:"Expected Outcome",initializing:"Initializing...",processing:"Processing...",signInToGenerate:"Sign in to Generate Plan",generating:"Generating...",signInToUsePlanning:"Please sign in to use planning",signInRequired:"Please sign in with Google to use the planning feature",authExpired:"Authentication expired. Please sign out and sign in again to continue.",authRequired:"Authentication required. Please sign in with Google to continue.",enterResearchQuestion:"Please enter a research question",debugCopied:"Debug info copied to clipboard!",debugCopyFailed:"Failed to copy debug info",savePlanTooltip:"Save the current plan to your saved plans list",loadSavedPlans:"Load Saved Plans",debugTooltip:"Copy debug info for Copilot troubleshooting",transferTooltip:"Transfer to Chat",clearAllTooltip:"Clear all planning data and start fresh",systemPromptEditable:"Generated System Prompt (Editable):",systemPromptHelp:"This defines the AI's role and behavior. Edit as needed before transferring to chat.",userQueryEditable:"Generated User Query (Editable):",userQueryHelp:"This is the message that will be sent to the chat. Edit to refine your query.",generatedPrompts:"Generated Prompts",llmInfoTooltip:"View LLM transparency info (model, tokens, cost)",llmCalls:"call",llmCallsPlural:"calls",cannotSavePlan:"Cannot save plan: No valid plan generated",planSavedSuccess:"Plan saved successfully",planSaveFailed:"Failed to save plan",loadSavedPlan:"Load Saved Plan",storage:"Storage",storageWarning:"Storage is {{percentage}}% full",storageWarningHelp:"Consider deleting old plans to free up space.",noSavedPlans:"No saved plans found",saved:"Saved",load:"Load",simpleQueryDetected:"Simple Query Detected",simpleQueryHelp:"This query can be answered directly without extensive planning.",comprehensiveResearchPlan:" Comprehensive Research Plan",analysisSummary:" Analysis Summary",queryType:"Query Type:",complexity:"Complexity:",researchApproach:"Research Approach:",estimatedSources:"Estimated Sources:",reasoning:"Reasoning:",expertPersona:" Expert Persona",searchQueries:" Search Queries:",researchQuestions:" Research Questions:",suggestedSources:" Suggested Sources:",sources:"Sources:",variousRelevantSources:"Various relevant sources",researchMethodology:" Research Methodology:",enhancedSystemPrompt:" Enhanced System Prompt:",enhancedUserPrompt:" Enhanced User Prompt:",debugRawLlmResponse:" Debug: Raw LLM Response Fields",longFormDocumentPlan:" Long-Form Document Plan",longFormNote:"Note: This will be built in stages using snippets. Each section will be researched and written separately, then combined into a final document.",documentStructure:" Document Structure:",keywords:"Keywords:",workflow:" Workflow:",needMoreInfo:" Need More Information",pleaseClarify:"Please clarify:",updateQueryDetails:"Update your query with more details:",provideMoreDetails:"Provide more specific details...",regeneratePlanWithClarifications:"Regenerate Plan with Clarifications",moreInfoRequired:" More Info Required",planType:"Plan Type:",detectedComplexityPatterns:" Detected Complexity Patterns:",estimatedIterations:"Estimated Iterations",toolsRequired:"Tools Required",suggestedWorkflow:" Suggested Workflow:",requiredTools:" Required Tools:",guidanceQuestions:" Please answer these questions to refine your plan:",updatePromptWithAnswers:"Update your research prompt with answers:",guidanceTip:" Tip: Include answers to the questions above in your updated query. The more specific you are, the better the AI can create an effective multi-iteration plan with proper tool usage and few-shot examples.",guidanceExamplePlaceholder:`Example: I want to build a comprehensive research report on climate change by:
1. Creating 25 todos for different sub-topics (policy, science, economics, etc.)
2. Searching the web for each topic and saving results to snippets
3. Generating charts to visualize key data points
4. Combining all snippets into a master analysis

Please create a detailed plan with few-shot examples showing how to use create_todo, search_web, create_snippet, and generate_chart together in each iteration...`,generateDetailedExecutionPlan:" Generate Detailed Execution Plan",forcePlan:" Force Plan",forcePlanTooltip:"Let AI answer the questions and force plan generation",reset:" Reset",resetTooltip:"Clear guidance mode and return to previous state",aboutGuidanceMode:"About Guidance Mode:",guidanceModeHelp:"This mode detects complex projects that require multiple iterations and extensive tool usage. Answer the questions above to help create a detailed execution plan with few-shot examples showing how to use todos, snippets, and multiple tool calls per iteration.",forcingPlan:"Forcing plan generation...",forcePlanError:"Force plan error",forcePlanFailed:"Force plan failed",clarificationAnswer:"Please use your best judgment based on the original query."},NY={title:"",language:"",selectLanguage:"",providers:"Providers",cloudSync:"Cloud Sync",billing:"Billing",general:"General",generalDescription:"Configure general application settings including language and display preferences",languageHelp:"Changes the interface language and instructs the AI to respond in your selected language",providerCredentials:"Provider Credentials",providerDescription:"Configure your LLM provider API keys. The backend automatically selects the best model for each request",modelSelectionStrategy:"Model Selection Strategy",modelStrategyDescription:"Choose how the system selects models for your requests. This balances cost, quality, and performance",cheap:"Cheap (Recommended)",cheapDescription:"Prioritize free providers (Groq, Gemini) and smallest capable models. Falls back to paid providers only when rate-limited. Best for most use cases",balanced:"Balanced",balancedDescription:"Choose models that reliably do the job without compromising quality. Uses free tier when quality is equivalent, paid models when quality matters. Balances cost vs. capability",powerful:"Powerful",powerfulDescription:"Use the best available models (GPT-4o, Gemini 2.5 Pro, o1) for maximum capability. Prioritizes quality over cost. Uses reasoning models for complex analysis",fastest:"Fastest",fastestDescription:"Prioritize low-latency models (Groq) for quick responses. May sacrifice some quality for speed in simple requests. Great for interactive sessions",tavilyApiKey:"Tavily API Key (Optional)",tavilyPlaceholder:"tvly-...",tavilyHelp:"Enables enhanced web search and scraping via Tavily API. Falls back to DuckDuckGo if not provided",enabledTools:"Enabled Tools",webSearch:"Web Search",webSearchDescription:"Search the web for current information, news, and articles",executeJs:"JavaScript Execution",executeJsDescription:"Execute JavaScript code for calculations and data processing",scrapeUrl:"Web Scraping",scrapeUrlDescription:"Extract content from specific URLs and websites",youtubeSearch:"YouTube Search",youtubeDescription:"Search YouTube for videos with transcript support",transcribe:"Transcribe Audio/Video",transcribeDescription:"Convert audio and video files to text transcriptions",generateChart:"Generate Charts",chartDescription:"Create visualizations and charts from data",generateImage:"Generate Images",imageDescription:"Create AI-generated images from text descriptions",searchKnowledgeBase:"Search Knowledge Base",ragDescription:"Search through uploaded documents and knowledge base",manageTodos:"Manage To-Dos",todosDescription:"Create and manage task lists and reminders",manageSnippets:"Manage Snippets",snippetsDescription:"Save and retrieve code snippets and text",askLlm:"Ask LLM",askLlmDescription:"Delegate sub-questions to other LLM instances",generateReasoning:"Generate Reasoning Chain",reasoningDescription:"Step-by-step analytical reasoning for complex problems",proxySettings:"Proxy Configuration",proxyDescription:"Configure HTTP/HTTPS proxy for web requests",enableProxy:"Enable Proxy",proxyUrl:"Proxy URL",proxyUrlPlaceholder:"http://proxy.example.com:8080",proxyUsername:"Username (Optional)",proxyPassword:"Password (Optional)",locationServices:"Location Services",locationDescription:"Use your location for localized search results and region-specific information",enableLocation:"Enable Location Services",locationHelp:"Allows web searches to return locally relevant results",currentLocation:"Current Location",requestLocation:"Request Location",clearLocation:"Clear Location",locationPermission:"Location Permission",permissionGranted:"Granted",permissionDenied:"Denied",permissionPrompt:"Not requested",tabs:{general:"General",provider:"Provider",cloud:"Cloud Sync",tools:"Tools",proxy:"Proxy",location:"Location",tts:"TTS",rag:"RAG"},appearance:"Appearance",theme:"Theme",darkMode:"Dark Mode",lightMode:"Light Mode",notifications:"Notifications",privacy:"Privacy",accessibility:"Accessibility",fontSize:"Font Size",lineHeight:"Line Height"},IY={en:"English",es:"Espaol",fr:"Franais",de:"Deutsch",zh:"",ja:"",ar:"",nl:"Nederlands",pt:"Portugus",ru:""},RY={title:"Billing Dashboard",balance:"Credit Balance",totalCost:"Total Cost",totalTokens:"Total Tokens",totalRequests:"Total Requests",cost:"Cost",tokens:"Tokens",tokensIn:"Tokens In",tokensOut:"Tokens Out",timestamp:"Timestamp",noTransactions:"No transactions yet",creditsPurchased:"Credits purchased successfully",insufficientCredits:"Insufficient credits",purchaseCredits:"Add Credit",amount:"Amount",paymentMethod:"Payment Method",transactions:"Transactions",overview:"Overview",exportCSV:"Export CSV",clearData:"Clear Data",clearDataConfirm:"Are you sure you want to clear billing data?",dataClearedSuccess:" Success: Cleared {{count}} transactions. {{remaining}} remaining.",dataClearError:" Error: {{message}}",noDataToExport:"No data to export",startDate:"Start Date",endDate:"End Date",type:"Type",provider:"Provider",model:"Model",duration:"Duration",status:"Status",allTypes:"All Types",allProviders:"All Providers",clearFilters:"Clear Filters",quickRanges:"Quick ranges:",today:"Today",last7Days:"Last 7 Days",last30Days:"Last 30 Days",thisMonth:"This Month",byType:"By Type",byProvider:"By Provider",byModel:"By Model",requests:"Requests",groupByRequestId:" Group by Request ID",itemsPerPage:"per page",totalRequestGroups:"{{count}} total request groups (showing {{showing}}), {{ungrouped}} ungrouped",totalTransactionsShowing:"{{total}} total transactions (showing {{showing}})",requestGroup:" Request Group ({{count}} transactions)",signInRequired:" Sign In Required",signInToViewBilling:"Please sign in with Google to view your billing data.",howToAccessBilling:" How to Access Billing Data:",signInStep1:'Click the "Sign in with Google" button in the top navigation bar',signInStep2:"That's it! Your billing data will load automatically",billingDataNote:" Your billing data is stored in a centralized service account Google Sheet and retrieved automatically. No additional permissions or Drive access needed - just sign in with Google.",debugInfo:" Debug Info",loading:"Loading billing data...",errorLoading:" Error Loading Billing Data",retry:" Retry",noBillingData:"No billing data available. Please wait...",noTransactionsMessage:"No transactions found",noBillingDataYet:" No Billing Data Yet",startUsingChat:"Start using the chat to generate billing records. All API usage is automatically tracked.",refresh:" Refresh",usageOnly:"Usage only (excl. credits)",totalCredits:"Total Credits",userQueries:"User Queries",llmCalls:"LLM Calls",userQueriesLlmCalls:"User Queries / LLM Calls",newBalance:"New balance:",creditsToAdd:"Credits to add:",minimumPurchase:"Minimum purchase is $5.00",addCreditsTitle:" Add Credits",purchaseCreditsDescription:"Purchase credits to use AI features. Minimum purchase: $5.00",enterAmount:"Enter amount (min $5.00)",tipUseOwnKeys:" Tip: Add your own API keys in Settings for $0 LLM costs! Only infrastructure costs apply when using your own keys.",loadingPayPal:"Loading PayPal...",paypalNotLoaded:" PayPal SDK not loaded. Please refresh the page.",close:"Close",clearBillingData:"Clear Billing Data",clearDataWarning:" Warning: This action cannot be undone. Your billing data will be permanently deleted.",clearAll:"Clear All",clearByProvider:"Clear by Provider",clearByDateRange:"Clear by Date Range",clearAllDescription:"This will delete all transactions from your billing sheet.",considerExportFirst:"Consider exporting to CSV first for your records.",selectProvider:"Select Provider:",selectProviderPlaceholder:"-- Select Provider --",clearProviderHint:"Useful for aligning with provider billing cycles (e.g., clear monthly).",clearDateRangeHint:"Leave blank to clear from beginning/to end. Both can be used together.",confirmUndoCheckbox:"I understand this action cannot be undone",cancel:"Cancel",page:"Page",of:"of",first:" First",prev:" Prev",next:"Next ",last:"Last ",types:{chat:"Chat",embedding:"Embedding",guardrail_input:" Guardrail Input",guardrail_output:" Guardrail Output",planning:"Planning",assessment:"Assessment",image_generation:" Image Generation",tts:" Text-to-Speech",chat_iteration:"Chat Iteration",credit_added:"Credit Added",summary:"Summary",lambda_invocation:"Lambda Invocation"}},DY={generic:"An error occurred",network:"Network error",timeout:"Request timed out",unauthorized:"Unauthorized access",forbidden:"Access forbidden",notFound:"Resource not found",serverError:"Server error",validationError:"Validation error",tryAgain:"Please try again"},LY={title:"Knowledge Base",newSnippet:"New Snippet",editSnippet:"Edit Snippet",deleteSnippet:"Delete Snippet",searchSnippets:"Search snippets...",noSnippets:"No snippets found",tags:"Tags",addTag:"Add Tag",removeTag:"Remove Tag",filterByTag:"Filter by Tag",content:"Content",created:"Created",modified:"Modified",source:"Source"},OY={readAloud:"Read Aloud",stopReading:"Stop Reading",pauseReading:"Pause Reading",resumeReading:"Resume Reading",voice:"Voice",speed:"Speed",volume:"Volume",provider:"TTS Provider"},MY={title:"Playlist",addToPlaylist:"Add to Playlist",removeFromPlaylist:"Remove from Playlist",playNext:"Play Next",playNow:"Play Now",clearPlaylist:"Clear Playlist",emptyPlaylist:"Playlist is empty"},PY={search:"Web Search",scrape:"Scrape Content",transcribe:"Transcribe",youtube:"YouTube",javascript:"Execute JavaScript",generateChart:"Generate Chart",generateImage:"Generate Image"},jY={common:kY,auth:CY,chat:_Y,planning:AY,settings:NY,languages:IY,billing:RY,errors:DY,swag:LY,tts:OY,playlist:MY,tools:PY},FY={save:"",cancel:"",delete:"",edit:"",close:"",loading:"...",error:"",success:"",confirm:"",back:"",next:"",submit:"",clear:"",search:"",filter:"",export:"",import:"",download:"",upload:"",copy:"",paste:"",cut:"",undo:"",redo:"",select:"",selectAll:"",deselectAll:""},BY={signIn:"Google",signOut:"",authRequired:"",tokenExpired:"",welcomeBack:"",signInPrompt:"",signInRequired:"",signingIn:"...",signingOut:"...",researchAgent:"",tagline:"AI",secureAuth:"Google",whyChooseTitle:"Research Agent",whyChooseIntro:"AIResearch Agent",keyAdvantagesTitle:"",webConnected:"Web",webConnectedDesc:"Web",multiTool:"",multiToolDesc:"WebYouTube",knowledgeBase:"",knowledgeBaseDesc:"",advancedPlanning:"",advancedPlanningDesc:"",costEffective:"",costEffectiveDesc:"25%",transparency:"",transparencyDesc:"API",perfectFor:""},UY={placeholder:"...",send:"",retry:"Retry",stop:"",thinking:"...",generating:"Generating response...",newChat:"New Chat",clearHistory:"Clear History",loadChat:"Load Chat",systemPrompt:"System Prompt",customInstructions:"Custom Instructions",temperature:"Temperature",maxTokens:"Max Tokens",model:"Model",provider:"Provider",history:"Chat History",continue:"Continue",regenerate:"Regenerate",edit:"",delete:"",copy:"",copied:"Copied!",selectFiles:"Select Files",attachFiles:"Attach Files",pasteImage:"Paste Image",recording:"Recording...",voiceInput:"Voice Input",stopRecording:"Stop Recording",processing:"Processing...",noMessages:"No messages yet. Start a conversation!",clearConfirm:"Are you sure you want to clear all messages?",deleteConfirm:"Are you sure you want to delete this message?",loadingHistory:"Loading chat history...",savingChat:"Saving chat...",chatSaved:"Chat saved successfully",chatLoaded:"Chat loaded successfully",errorSaving:"Error saving chat",errorLoading:"Error loading chat",signInRequired:"Please sign in to use this feature",providerRequired:"Please configure at least one provider in Settings",messageError:"Error sending message",streamError:"Error in message stream",toolExecution:"Executing tool...",toolExecuted:"Tool executed successfully",toolError:"Tool execution error",searchingWeb:"Searching the web...",scrapingContent:"Scraping content...",transcribingAudio:"Transcribing audio...",generatingImage:"Generating image...",generatingChart:"Generating chart...",executingCode:"Executing code...",planningMode:"Planning Mode",exitPlanning:"Exit Planning",startPlanning:"Start Planning",mcpServers:"MCP Servers",addMCPServer:"Add MCP Server",mcpServerName:"Server Name",mcpServerUrl:"Server URL",exampleServers:"Example Servers",officialServers:"Official MCP Servers",sampleServers:"Sample Servers",instructions:"Instructions",availableTools:"Available Tools",enableServer:"Enable Server",disableServer:"Disable Server",removeServer:"Remove Server",serverAdded:"Server added successfully",serverRemoved:"Server removed successfully",invalidUrl:"Invalid URL format",nameRequired:"Server name is required",urlRequired:"Server URL is required",chatHistory:"Chat History",examples:"Examples",attachContext:"Attach Context",attachContextTooltip:"Attach knowledge base snippets as context for this conversation",searchProvider:"Search Provider:",functionCall:"Function Call:",code:"Code:",arguments:"Arguments:",callId:"Call ID:",result:"Result:",url:"URL:",viewRawHtml:"View raw uncompressed HTML",copyOutputToClipboard:"Copy output to clipboard",copyCodeToClipboard:"Copy code to clipboard",captureToSwag:"Capture to Swag",captureOutputToSwag:"Capture output to Swag",captureCodeToSwag:"Capture code to Swag",grabImage:"Grab image",noSummarization:"No summarization",usingProxy:"Using proxy for enhanced privacy and bot detection evasion",contentExtracted:"Content intelligently extracted",truncatedToFit:"Truncated to fit model",scrapeMethod:"Scrape Method:",tier:"Tier",scrapeTime:"Scrape Time:",totalTime:"Total Time:",format:"Format:",originalSize:"Original Size:",compressedSize:"Compressed Size:",compression:"Compression:",compressionStrategy:"Compression Strategy:",basicExtraction:"Basic extraction",rawHtml:"Raw HTML ({{count}} chars)",rawText:"Raw Text ({{count}} chars)",contentProcessingPipeline:"Content Processing Pipeline:",size:"Size:",titlePrompt:"Title/Prompt",finalPrompt:"Final Prompt",deleteChat:"Delete Chat",clearAllChats:"Clear All Chats",confirmClearAll:"Are you sure you want to clear all chat history?",confirmDelete:"Are you sure you want to delete this chat?",noChatsYet:"No chats yet",startChatting:"Start chatting to see history here",chatDeleted:"Chat deleted",allChatsCleared:"All chats cleared",chatTitle:"Chat Title",enterChatTitle:"Enter a title for this chat...",signInToChat:"Please sign in to start chatting",streamingResponse:"Streaming response...",imageAddedToSwag:"Image added to Swag!",imageAddedWithoutConversion:"Image added to Swag (without conversion)!",contentCapturedToSwag:"Content captured to Swag!",contentCapturedWithoutConversion:"Content captured to Swag (without image conversion)!",planningTransferred:"Planning prompts transferred to new chat",failedToTransfer:"Failed to transfer planning data",addedToPlaylist:"Added {{count}} video{{plural}} to playlist",transcriptionStopped:"Transcription stopped",failedToStopTranscription:"Failed to stop transcription: {{error}}",fileTypeNotSupported:"File type not supported: {{name}}. Supported types: JPEG, PNG, GIF, WebP, PDF",fileTooLarge:"File too large: {{name}} ({{size}}MB). Max size: {{maxSize}}MB",imageTokenWarning:"Image {{name}} may use many tokens (~{{tokens}}k). Consider using a smaller image.",fileAdded:"Added {{name}}",failedToProcess:"Failed to process {{name}}",signInToSendMessages:"Please sign in to send messages",foundRelevantChunks:" Found {{count}} relevant chunks from knowledge base",noRelevantContext:"No relevant context found in knowledge base",failedToRetrieveRag:"Failed to retrieve RAG context, continuing without it",sessionExpired:"Your session has expired. Please sign in again.",todoLimitReached:"Todo auto-progression limit reached. Please continue manually.",snippetSaved:"Saved snippet: {{title}}",snippetDeleted:"Deleted snippet: {{title}}",copiedToClipboard:"Copied to clipboard!",outputCopied:"Output copied to clipboard!",codeCopied:"Code copied to clipboard!",inputPlaceholder:"Type your message... (Shift+Enter for new line,  for history)",continueProcessing:"Continue Processing",stopGenerating:"Stop generating response",sendMessage:"Send message",chatMessageInput:"Chat message input",editPlan:"Edit Plan",makeAPlan:"Make A Plan",close:"Close",failedToLoadChat:"Failed to load chat",mcpServerNamePlaceholder:"Server Name (e.g., filesystem, github)",mcpServerUrlPlaceholder:"Server URL (e.g., http://localhost:3000)",noMcpServers:"No MCP servers configured",addServer:"Add Server",remove:"Remove",chatHistoryTitle:"Chat History",noChatHistory:"No chat history found. Start a conversation to save it automatically.",allChatHistoryCleared:"All chat history cleared",loadChatSuccess:"Chat loaded successfully",examplesTitle:"Chat Examples",tryExample:"Try this example",attachContextTitle:"Attach Context from Swag",snippetsAttached:"{{count}} snippet{{plural}} attached",attachSnippets:"Attach Snippets",searchSnippets:"Search snippets...",selectAll:"",selectNone:"Select None",deleteSelected:"Delete Selected",cancel:"Cancel",load:"Load",confirmDeleteChat:"Are you sure you want to delete this chat?",confirmClearHistory:"Are you sure you want to clear all chat history?",confirmDeleteSelected:"Are you sure you want to delete {{count}} selected chat{{plural}}?",chatLoadedFrom:"Loaded from",chatSavedAt:"Saved at",noTitle:"No title",clearAttachedSnippets:"Clear all attached snippets",mcpServerConfiguration:"MCP Server Configuration",typeMessageFirst:"Type a message first",typeMessage:"Type a message",signInToSend:"Please sign in to send messages"},$Y={title:"",query:"Research Query",generatePlan:"",savePlan:"Save Plan",loadSaved:"Load Saved",transferToChat:"Transfer to Chat",clearAll:"Clear All",debug:"Debug",planning:"Planning...",planGenerated:"Plan generated successfully",noPlan:"No plan generated yet",enterQuery:"Enter your research query or topic...",researchFocus:"Research Focus",methodology:"Methodology",expectedOutcome:"Expected Outcome",initializing:"Initializing...",processing:"Processing...",signInToGenerate:"Sign in to Generate Plan",generating:"Generating...",signInToUsePlanning:"Please sign in to use planning",signInRequired:"Please sign in with Google to use the planning feature",authExpired:"Authentication expired. Please sign out and sign in again to continue.",authRequired:"Authentication required. Please sign in with Google to continue.",enterResearchQuestion:"Please enter a research question",debugCopied:"Debug info copied to clipboard!",debugCopyFailed:"Failed to copy debug info",savePlanTooltip:"Save the current plan to your saved plans list",loadSavedPlans:"Load Saved Plans",debugTooltip:"Copy debug info for Copilot troubleshooting",transferTooltip:"Transfer to Chat",clearAllTooltip:"Clear all planning data and start fresh",systemPromptEditable:"Generated System Prompt (Editable):",systemPromptHelp:"This defines the AI's role and behavior. Edit as needed before transferring to chat.",userQueryEditable:"Generated User Query (Editable):",userQueryHelp:"This is the message that will be sent to the chat. Edit to refine your query.",generatedPrompts:"Generated Prompts",llmInfoTooltip:"View LLM transparency info (model, tokens, cost)",llmCalls:"call",llmCallsPlural:"calls",cannotSavePlan:"Cannot save plan: No valid plan generated",planSavedSuccess:"Plan saved successfully",planSaveFailed:"Failed to save plan",loadSavedPlan:"Load Saved Plan",storage:"Storage",storageWarning:"Storage is {{percentage}}% full",storageWarningHelp:"Consider deleting old plans to free up space.",noSavedPlans:"No saved plans found",saved:"Saved",load:"Load",simpleQueryDetected:"Simple Query Detected",simpleQueryHelp:"This query can be answered directly without extensive planning.",comprehensiveResearchPlan:" Comprehensive Research Plan",analysisSummary:" Analysis Summary",queryType:"Query Type:",complexity:"Complexity:",researchApproach:"Research Approach:",estimatedSources:"Estimated Sources:",reasoning:"Reasoning:",expertPersona:" Expert Persona",searchQueries:" Search Queries:",researchQuestions:" Research Questions:",suggestedSources:" Suggested Sources:",sources:"Sources:",variousRelevantSources:"Various relevant sources",researchMethodology:" Research Methodology:",enhancedSystemPrompt:" Enhanced System Prompt:",enhancedUserPrompt:" Enhanced User Prompt:",debugRawLlmResponse:" Debug: Raw LLM Response Fields",longFormDocumentPlan:" Long-Form Document Plan",longFormNote:"Note: This will be built in stages using snippets. Each section will be researched and written separately, then combined into a final document.",documentStructure:" Document Structure:",keywords:"Keywords:",workflow:" Workflow:",needMoreInfo:" Need More Information",pleaseClarify:"Please clarify:",updateQueryDetails:"Update your query with more details:",provideMoreDetails:"Provide more specific details...",regeneratePlanWithClarifications:"Regenerate Plan with Clarifications",moreInfoRequired:" More Info Required",planType:"Plan Type:",detectedComplexityPatterns:" Detected Complexity Patterns:",estimatedIterations:"Estimated Iterations",toolsRequired:"Tools Required",suggestedWorkflow:" Suggested Workflow:",requiredTools:" Required Tools:",guidanceQuestions:" Please answer these questions to refine your plan:",updatePromptWithAnswers:"Update your research prompt with answers:",guidanceTip:" Tip: Include answers to the questions above in your updated query. The more specific you are, the better the AI can create an effective multi-iteration plan with proper tool usage and few-shot examples.",guidanceExamplePlaceholder:`Example: I want to build a comprehensive research report on climate change by:
1. Creating 25 todos for different sub-topics (policy, science, economics, etc.)
2. Searching the web for each topic and saving results to snippets
3. Generating charts to visualize key data points
4. Combining all snippets into a master analysis

Please create a detailed plan with few-shot examples showing how to use create_todo, search_web, create_snippet, and generate_chart together in each iteration...`,generateDetailedExecutionPlan:" Generate Detailed Execution Plan",forcePlan:" Force Plan",forcePlanTooltip:"Let AI answer the questions and force plan generation",reset:" Reset",resetTooltip:"Clear guidance mode and return to previous state",aboutGuidanceMode:"About Guidance Mode:",guidanceModeHelp:"This mode detects complex projects that require multiple iterations and extensive tool usage. Answer the questions above to help create a detailed execution plan with few-shot examples showing how to use todos, snippets, and multiple tool calls per iteration.",forcingPlan:"Forcing plan generation...",forcePlanError:"Force plan error",forcePlanFailed:"Force plan failed",clarificationAnswer:"Please use your best judgment based on the original query."},HY={title:"",language:"",selectLanguage:"",providers:"Providers",cloudSync:"Cloud Sync",billing:"Billing",general:"General",generalDescription:"Configure general application settings including language and display preferences",languageHelp:"Changes the interface language and instructs the AI to respond in your selected language",providerCredentials:"Provider Credentials",providerDescription:"Configure your LLM provider API keys. The backend automatically selects the best model for each request",modelSelectionStrategy:"Model Selection Strategy",modelStrategyDescription:"Choose how the system selects models for your requests. This balances cost, quality, and performance",cheap:"Cheap (Recommended)",cheapDescription:"Prioritize free providers (Groq, Gemini) and smallest capable models. Falls back to paid providers only when rate-limited. Best for most use cases",balanced:"Balanced",balancedDescription:"Choose models that reliably do the job without compromising quality. Uses free tier when quality is equivalent, paid models when quality matters. Balances cost vs. capability",powerful:"Powerful",powerfulDescription:"Use the best available models (GPT-4o, Gemini 2.5 Pro, o1) for maximum capability. Prioritizes quality over cost. Uses reasoning models for complex analysis",fastest:"Fastest",fastestDescription:"Prioritize low-latency models (Groq) for quick responses. May sacrifice some quality for speed in simple requests. Great for interactive sessions",tavilyApiKey:"Tavily API Key (Optional)",tavilyPlaceholder:"tvly-...",tavilyHelp:"Enables enhanced web search and scraping via Tavily API. Falls back to DuckDuckGo if not provided",enabledTools:"Enabled Tools",webSearch:"Web Search",webSearchDescription:"Search the web for current information, news, and articles",executeJs:"JavaScript Execution",executeJsDescription:"Execute JavaScript code for calculations and data processing",scrapeUrl:"Web Scraping",scrapeUrlDescription:"Extract content from specific URLs and websites",youtubeSearch:"YouTube Search",youtubeDescription:"Search YouTube for videos with transcript support",transcribe:"Transcribe Audio/Video",transcribeDescription:"Convert audio and video files to text transcriptions",generateChart:"Generate Charts",chartDescription:"Create visualizations and charts from data",generateImage:"Generate Images",imageDescription:"Create AI-generated images from text descriptions",searchKnowledgeBase:"Search Knowledge Base",ragDescription:"Search through uploaded documents and knowledge base",manageTodos:"Manage To-Dos",todosDescription:"Create and manage task lists and reminders",manageSnippets:"Manage Snippets",snippetsDescription:"Save and retrieve code snippets and text",askLlm:"Ask LLM",askLlmDescription:"Delegate sub-questions to other LLM instances",generateReasoning:"Generate Reasoning Chain",reasoningDescription:"Step-by-step analytical reasoning for complex problems",proxySettings:"Proxy Configuration",proxyDescription:"Configure HTTP/HTTPS proxy for web requests",enableProxy:"Enable Proxy",proxyUrl:"Proxy URL",proxyUrlPlaceholder:"http://proxy.example.com:8080",proxyUsername:"Username (Optional)",proxyPassword:"Password (Optional)",locationServices:"Location Services",locationDescription:"Use your location for localized search results and region-specific information",enableLocation:"Enable Location Services",locationHelp:"Allows web searches to return locally relevant results",currentLocation:"Current Location",requestLocation:"Request Location",clearLocation:"Clear Location",locationPermission:"Location Permission",permissionGranted:"Granted",permissionDenied:"Denied",permissionPrompt:"Not requested",tabs:{general:"General",provider:"Provider",cloud:"Cloud Sync",tools:"Tools",proxy:"Proxy",location:"Location",tts:"TTS",rag:"RAG"},appearance:"Appearance",theme:"Theme",darkMode:"Dark Mode",lightMode:"Light Mode",notifications:"Notifications",privacy:"Privacy",accessibility:"Accessibility",fontSize:"Font Size",lineHeight:"Line Height"},zY={en:"English",es:"Espaol",fr:"Franais",de:"Deutsch",zh:"",ja:"",ar:"",nl:"Nederlands",pt:"Portugus",ru:""},GY={title:"Billing Dashboard",balance:"Credit Balance",totalCost:"Total Cost",totalTokens:"Total Tokens",totalRequests:"Total Requests",cost:"Cost",tokens:"Tokens",tokensIn:"Tokens In",tokensOut:"Tokens Out",timestamp:"Timestamp",noTransactions:"No transactions yet",creditsPurchased:"Credits purchased successfully",insufficientCredits:"Insufficient credits",purchaseCredits:"Add Credit",amount:"Amount",paymentMethod:"Payment Method",transactions:"Transactions",overview:"Overview",exportCSV:"Export CSV",clearData:"Clear Data",clearDataConfirm:"Are you sure you want to clear billing data?",dataClearedSuccess:" Success: Cleared {{count}} transactions. {{remaining}} remaining.",dataClearError:" Error: {{message}}",noDataToExport:"No data to export",startDate:"Start Date",endDate:"End Date",type:"Type",provider:"Provider",model:"Model",duration:"Duration",status:"Status",allTypes:"All Types",allProviders:"All Providers",clearFilters:"Clear Filters",quickRanges:"Quick ranges:",today:"Today",last7Days:"Last 7 Days",last30Days:"Last 30 Days",thisMonth:"This Month",byType:"By Type",byProvider:"By Provider",byModel:"By Model",requests:"Requests",groupByRequestId:" Group by Request ID",itemsPerPage:"per page",totalRequestGroups:"{{count}} total request groups (showing {{showing}}), {{ungrouped}} ungrouped",totalTransactionsShowing:"{{total}} total transactions (showing {{showing}})",requestGroup:" Request Group ({{count}} transactions)",signInRequired:" Sign In Required",signInToViewBilling:"Please sign in with Google to view your billing data.",howToAccessBilling:" How to Access Billing Data:",signInStep1:'Click the "Sign in with Google" button in the top navigation bar',signInStep2:"That's it! Your billing data will load automatically",billingDataNote:" Your billing data is stored in a centralized service account Google Sheet and retrieved automatically. No additional permissions or Drive access needed - just sign in with Google.",debugInfo:" Debug Info",loading:"Loading billing data...",errorLoading:" Error Loading Billing Data",retry:" Retry",noBillingData:"No billing data available. Please wait...",noTransactionsMessage:"No transactions found",noBillingDataYet:" No Billing Data Yet",startUsingChat:"Start using the chat to generate billing records. All API usage is automatically tracked.",refresh:" Refresh",usageOnly:"Usage only (excl. credits)",totalCredits:"Total Credits",userQueries:"User Queries",llmCalls:"LLM Calls",userQueriesLlmCalls:"User Queries / LLM Calls",newBalance:"New balance:",creditsToAdd:"Credits to add:",minimumPurchase:"Minimum purchase is $5.00",addCreditsTitle:" Add Credits",purchaseCreditsDescription:"Purchase credits to use AI features. Minimum purchase: $5.00",enterAmount:"Enter amount (min $5.00)",tipUseOwnKeys:" Tip: Add your own API keys in Settings for $0 LLM costs! Only infrastructure costs apply when using your own keys.",loadingPayPal:"Loading PayPal...",paypalNotLoaded:" PayPal SDK not loaded. Please refresh the page.",close:"Close",clearBillingData:"Clear Billing Data",clearDataWarning:" Warning: This action cannot be undone. Your billing data will be permanently deleted.",clearAll:"Clear All",clearByProvider:"Clear by Provider",clearByDateRange:"Clear by Date Range",clearAllDescription:"This will delete all transactions from your billing sheet.",considerExportFirst:"Consider exporting to CSV first for your records.",selectProvider:"Select Provider:",selectProviderPlaceholder:"-- Select Provider --",clearProviderHint:"Useful for aligning with provider billing cycles (e.g., clear monthly).",clearDateRangeHint:"Leave blank to clear from beginning/to end. Both can be used together.",confirmUndoCheckbox:"I understand this action cannot be undone",cancel:"Cancel",page:"Page",of:"of",first:" First",prev:" Prev",next:"Next ",last:"Last ",types:{chat:"Chat",embedding:"Embedding",guardrail_input:" Guardrail Input",guardrail_output:" Guardrail Output",planning:"Planning",assessment:"Assessment",image_generation:" Image Generation",tts:" Text-to-Speech",chat_iteration:"Chat Iteration",credit_added:"Credit Added",summary:"Summary",lambda_invocation:"Lambda Invocation"}},qY={generic:"An error occurred",network:"Network error",timeout:"Request timed out",unauthorized:"Unauthorized access",forbidden:"Access forbidden",notFound:"Resource not found",serverError:"Server error",validationError:"Validation error",tryAgain:"Please try again"},WY={title:"Knowledge Base",newSnippet:"New Snippet",editSnippet:"Edit Snippet",deleteSnippet:"Delete Snippet",searchSnippets:"Search snippets...",noSnippets:"No snippets found",tags:"Tags",addTag:"Add Tag",removeTag:"Remove Tag",filterByTag:"Filter by Tag",content:"Content",created:"Created",modified:"Modified",source:"Source"},YY={readAloud:"Read Aloud",stopReading:"Stop Reading",pauseReading:"Pause Reading",resumeReading:"Resume Reading",voice:"Voice",speed:"Speed",volume:"Volume",provider:"TTS Provider"},VY={title:"Playlist",addToPlaylist:"Add to Playlist",removeFromPlaylist:"Remove from Playlist",playNext:"Play Next",playNow:"Play Now",clearPlaylist:"Clear Playlist",emptyPlaylist:"Playlist is empty"},KY={search:"Web Search",scrape:"Scrape Content",transcribe:"Transcribe",youtube:"YouTube",javascript:"Execute JavaScript",generateChart:"Generate Chart",generateImage:"Generate Image"},QY={common:FY,auth:BY,chat:UY,planning:$Y,settings:HY,languages:zY,billing:GY,errors:qY,swag:WY,tts:YY,playlist:VY,tools:KY},XY={save:"",cancel:"",delete:"",edit:"",close:"",loading:" ...",error:"",success:"",confirm:"",back:"",next:"",submit:"",clear:"",search:"",filter:"",export:"",import:"",download:"",upload:"",copy:"",paste:"",cut:"",undo:"",redo:"",select:"",selectAll:" ",deselectAll:"  "},ZY={signIn:"   Google",signOut:" ",authRequired:"    ",tokenExpired:"  .     .",welcomeBack:" !",signInPrompt:"  ",signInRequired:"      ",signingIn:"  ...",signingOut:"  ...",researchAgent:" ",tagline:"    ",secureAuth:"   Google",whyChooseTitle:"  Research Agent",whyChooseIntro:"            Research Agent         .",keyAdvantagesTitle:" :",webConnected:"  ",webConnectedDesc:"            -    ",multiTool:"  ",multiToolDesc:"          YouTube       ",knowledgeBase:"  ",knowledgeBaseDesc:"                ",advancedPlanning:" ",advancedPlanningDesc:"           ",costEffective:"  ",costEffectiveDesc:"             .     25%",transparency:" ",transparencyDesc:"   API         ",perfectFor:" :               ."},JY={placeholder:"  ...",send:"",retry:"Retry",stop:"",thinking:" ...",generating:"Generating response...",newChat:"New Chat",clearHistory:"Clear History",loadChat:"Load Chat",systemPrompt:"System Prompt",customInstructions:"Custom Instructions",temperature:"Temperature",maxTokens:"Max Tokens",model:"Model",provider:"Provider",history:"Chat History",continue:"Continue",regenerate:"Regenerate",edit:"",delete:"",copy:"",copied:"Copied!",selectFiles:"Select Files",attachFiles:"Attach Files",pasteImage:"Paste Image",recording:"Recording...",voiceInput:"Voice Input",stopRecording:"Stop Recording",processing:"Processing...",noMessages:"No messages yet. Start a conversation!",clearConfirm:"Are you sure you want to clear all messages?",deleteConfirm:"Are you sure you want to delete this message?",loadingHistory:"Loading chat history...",savingChat:"Saving chat...",chatSaved:"Chat saved successfully",chatLoaded:"Chat loaded successfully",errorSaving:"Error saving chat",errorLoading:"Error loading chat",signInRequired:"Please sign in to use this feature",providerRequired:"Please configure at least one provider in Settings",messageError:"Error sending message",streamError:"Error in message stream",toolExecution:"Executing tool...",toolExecuted:"Tool executed successfully",toolError:"Tool execution error",searchingWeb:"Searching the web...",scrapingContent:"Scraping content...",transcribingAudio:"Transcribing audio...",generatingImage:"Generating image...",generatingChart:"Generating chart...",executingCode:"Executing code...",planningMode:"Planning Mode",exitPlanning:"Exit Planning",startPlanning:"Start Planning",mcpServers:"MCP Servers",addMCPServer:"Add MCP Server",mcpServerName:"Server Name",mcpServerUrl:"Server URL",exampleServers:"Example Servers",officialServers:"Official MCP Servers",sampleServers:"Sample Servers",instructions:"Instructions",availableTools:"Available Tools",enableServer:"Enable Server",disableServer:"Disable Server",removeServer:"Remove Server",serverAdded:"Server added successfully",serverRemoved:"Server removed successfully",invalidUrl:"Invalid URL format",nameRequired:"Server name is required",urlRequired:"Server URL is required",chatHistory:"Chat History",examples:"Examples",attachContext:"Attach Context",attachContextTooltip:"Attach knowledge base snippets as context for this conversation",searchProvider:"Search Provider:",functionCall:"Function Call:",code:"Code:",arguments:"Arguments:",callId:"Call ID:",result:"Result:",url:"URL:",viewRawHtml:"View raw uncompressed HTML",copyOutputToClipboard:"Copy output to clipboard",copyCodeToClipboard:"Copy code to clipboard",captureToSwag:"Capture to Swag",captureOutputToSwag:"Capture output to Swag",captureCodeToSwag:"Capture code to Swag",grabImage:"Grab image",noSummarization:"No summarization",usingProxy:"Using proxy for enhanced privacy and bot detection evasion",contentExtracted:"Content intelligently extracted",truncatedToFit:"Truncated to fit model",scrapeMethod:"Scrape Method:",tier:"Tier",scrapeTime:"Scrape Time:",totalTime:"Total Time:",format:"Format:",originalSize:"Original Size:",compressedSize:"Compressed Size:",compression:"Compression:",compressionStrategy:"Compression Strategy:",basicExtraction:"Basic extraction",rawHtml:"Raw HTML ({{count}} chars)",rawText:"Raw Text ({{count}} chars)",contentProcessingPipeline:"Content Processing Pipeline:",size:"Size:",titlePrompt:"Title/Prompt",finalPrompt:"Final Prompt",deleteChat:"Delete Chat",clearAllChats:"Clear All Chats",confirmClearAll:"Are you sure you want to clear all chat history?",confirmDelete:"Are you sure you want to delete this chat?",noChatsYet:"No chats yet",startChatting:"Start chatting to see history here",chatDeleted:"Chat deleted",allChatsCleared:"All chats cleared",chatTitle:"Chat Title",enterChatTitle:"Enter a title for this chat...",signInToChat:"Please sign in to start chatting",streamingResponse:"Streaming response...",imageAddedToSwag:"Image added to Swag!",imageAddedWithoutConversion:"Image added to Swag (without conversion)!",contentCapturedToSwag:"Content captured to Swag!",contentCapturedWithoutConversion:"Content captured to Swag (without image conversion)!",planningTransferred:"Planning prompts transferred to new chat",failedToTransfer:"Failed to transfer planning data",addedToPlaylist:"Added {{count}} video{{plural}} to playlist",transcriptionStopped:"Transcription stopped",failedToStopTranscription:"Failed to stop transcription: {{error}}",fileTypeNotSupported:"File type not supported: {{name}}. Supported types: JPEG, PNG, GIF, WebP, PDF",fileTooLarge:"File too large: {{name}} ({{size}}MB). Max size: {{maxSize}}MB",imageTokenWarning:"Image {{name}} may use many tokens (~{{tokens}}k). Consider using a smaller image.",fileAdded:"Added {{name}}",failedToProcess:"Failed to process {{name}}",signInToSendMessages:"Please sign in to send messages",foundRelevantChunks:" Found {{count}} relevant chunks from knowledge base",noRelevantContext:"No relevant context found in knowledge base",failedToRetrieveRag:"Failed to retrieve RAG context, continuing without it",sessionExpired:"Your session has expired. Please sign in again.",todoLimitReached:"Todo auto-progression limit reached. Please continue manually.",snippetSaved:"Saved snippet: {{title}}",snippetDeleted:"Deleted snippet: {{title}}",copiedToClipboard:"Copied to clipboard!",outputCopied:"Output copied to clipboard!",codeCopied:"Code copied to clipboard!",inputPlaceholder:"Type your message... (Shift+Enter for new line,  for history)",continueProcessing:"Continue Processing",stopGenerating:"Stop generating response",sendMessage:"Send message",chatMessageInput:"Chat message input",editPlan:"Edit Plan",makeAPlan:"Make A Plan",close:"Close",failedToLoadChat:"Failed to load chat",mcpServerNamePlaceholder:"Server Name (e.g., filesystem, github)",mcpServerUrlPlaceholder:"Server URL (e.g., http://localhost:3000)",noMcpServers:"No MCP servers configured",addServer:"Add Server",remove:"Remove",chatHistoryTitle:"Chat History",noChatHistory:"No chat history found. Start a conversation to save it automatically.",allChatHistoryCleared:"All chat history cleared",loadChatSuccess:"Chat loaded successfully",examplesTitle:"Chat Examples",tryExample:"Try this example",attachContextTitle:"Attach Context from Swag",snippetsAttached:"{{count}} snippet{{plural}} attached",attachSnippets:"Attach Snippets",searchSnippets:"Search snippets...",selectAll:" ",selectNone:"Select None",deleteSelected:"Delete Selected",cancel:"Cancel",load:"Load",confirmDeleteChat:"Are you sure you want to delete this chat?",confirmClearHistory:"Are you sure you want to clear all chat history?",confirmDeleteSelected:"Are you sure you want to delete {{count}} selected chat{{plural}}?",chatLoadedFrom:"Loaded from",chatSavedAt:"Saved at",noTitle:"No title",clearAttachedSnippets:"Clear all attached snippets",mcpServerConfiguration:"MCP Server Configuration",typeMessageFirst:"Type a message first",typeMessage:"Type a message",signInToSend:"Please sign in to send messages"},eV={title:" ",query:"Research Query",generatePlan:" ",savePlan:"Save Plan",loadSaved:"Load Saved",transferToChat:"Transfer to Chat",clearAll:"Clear All",debug:"Debug",planning:"Planning...",planGenerated:"Plan generated successfully",noPlan:"No plan generated yet",enterQuery:"Enter your research query or topic...",researchFocus:"Research Focus",methodology:"Methodology",expectedOutcome:"Expected Outcome",initializing:"Initializing...",processing:"Processing...",signInToGenerate:"Sign in to Generate Plan",generating:"Generating...",signInToUsePlanning:"Please sign in to use planning",signInRequired:"Please sign in with Google to use the planning feature",authExpired:"Authentication expired. Please sign out and sign in again to continue.",authRequired:"Authentication required. Please sign in with Google to continue.",enterResearchQuestion:"Please enter a research question",debugCopied:"Debug info copied to clipboard!",debugCopyFailed:"Failed to copy debug info",savePlanTooltip:"Save the current plan to your saved plans list",loadSavedPlans:"Load Saved Plans",debugTooltip:"Copy debug info for Copilot troubleshooting",transferTooltip:"Transfer to Chat",clearAllTooltip:"Clear all planning data and start fresh",systemPromptEditable:"Generated System Prompt (Editable):",systemPromptHelp:"This defines the AI's role and behavior. Edit as needed before transferring to chat.",userQueryEditable:"Generated User Query (Editable):",userQueryHelp:"This is the message that will be sent to the chat. Edit to refine your query.",generatedPrompts:"Generated Prompts",llmInfoTooltip:"View LLM transparency info (model, tokens, cost)",llmCalls:"call",llmCallsPlural:"calls",cannotSavePlan:"Cannot save plan: No valid plan generated",planSavedSuccess:"Plan saved successfully",planSaveFailed:"Failed to save plan",loadSavedPlan:"Load Saved Plan",storage:"Storage",storageWarning:"Storage is {{percentage}}% full",storageWarningHelp:"Consider deleting old plans to free up space.",noSavedPlans:"No saved plans found",saved:"Saved",load:"Load",simpleQueryDetected:"Simple Query Detected",simpleQueryHelp:"This query can be answered directly without extensive planning.",comprehensiveResearchPlan:" Comprehensive Research Plan",analysisSummary:" Analysis Summary",queryType:"Query Type:",complexity:"Complexity:",researchApproach:"Research Approach:",estimatedSources:"Estimated Sources:",reasoning:"Reasoning:",expertPersona:" Expert Persona",searchQueries:" Search Queries:",researchQuestions:" Research Questions:",suggestedSources:" Suggested Sources:",sources:"Sources:",variousRelevantSources:"Various relevant sources",researchMethodology:" Research Methodology:",enhancedSystemPrompt:" Enhanced System Prompt:",enhancedUserPrompt:" Enhanced User Prompt:",debugRawLlmResponse:" Debug: Raw LLM Response Fields",longFormDocumentPlan:" Long-Form Document Plan",longFormNote:"Note: This will be built in stages using snippets. Each section will be researched and written separately, then combined into a final document.",documentStructure:" Document Structure:",keywords:"Keywords:",workflow:" Workflow:",needMoreInfo:" Need More Information",pleaseClarify:"Please clarify:",updateQueryDetails:"Update your query with more details:",provideMoreDetails:"Provide more specific details...",regeneratePlanWithClarifications:"Regenerate Plan with Clarifications",moreInfoRequired:" More Info Required",planType:"Plan Type:",detectedComplexityPatterns:" Detected Complexity Patterns:",estimatedIterations:"Estimated Iterations",toolsRequired:"Tools Required",suggestedWorkflow:" Suggested Workflow:",requiredTools:" Required Tools:",guidanceQuestions:" Please answer these questions to refine your plan:",updatePromptWithAnswers:"Update your research prompt with answers:",guidanceTip:" Tip: Include answers to the questions above in your updated query. The more specific you are, the better the AI can create an effective multi-iteration plan with proper tool usage and few-shot examples.",guidanceExamplePlaceholder:`Example: I want to build a comprehensive research report on climate change by:
1. Creating 25 todos for different sub-topics (policy, science, economics, etc.)
2. Searching the web for each topic and saving results to snippets
3. Generating charts to visualize key data points
4. Combining all snippets into a master analysis

Please create a detailed plan with few-shot examples showing how to use create_todo, search_web, create_snippet, and generate_chart together in each iteration...`,generateDetailedExecutionPlan:" Generate Detailed Execution Plan",forcePlan:" Force Plan",forcePlanTooltip:"Let AI answer the questions and force plan generation",reset:" Reset",resetTooltip:"Clear guidance mode and return to previous state",aboutGuidanceMode:"About Guidance Mode:",guidanceModeHelp:"This mode detects complex projects that require multiple iterations and extensive tool usage. Answer the questions above to help create a detailed execution plan with few-shot examples showing how to use todos, snippets, and multiple tool calls per iteration.",forcingPlan:"Forcing plan generation...",forcePlanError:"Force plan error",forcePlanFailed:"Force plan failed",clarificationAnswer:"Please use your best judgment based on the original query."},tV={title:"",language:"",selectLanguage:" ",providers:"Providers",cloudSync:"Cloud Sync",billing:"Billing",general:"General",generalDescription:"Configure general application settings including language and display preferences",languageHelp:"Changes the interface language and instructs the AI to respond in your selected language",providerCredentials:"Provider Credentials",providerDescription:"Configure your LLM provider API keys. The backend automatically selects the best model for each request",modelSelectionStrategy:"Model Selection Strategy",modelStrategyDescription:"Choose how the system selects models for your requests. This balances cost, quality, and performance",cheap:"Cheap (Recommended)",cheapDescription:"Prioritize free providers (Groq, Gemini) and smallest capable models. Falls back to paid providers only when rate-limited. Best for most use cases",balanced:"Balanced",balancedDescription:"Choose models that reliably do the job without compromising quality. Uses free tier when quality is equivalent, paid models when quality matters. Balances cost vs. capability",powerful:"Powerful",powerfulDescription:"Use the best available models (GPT-4o, Gemini 2.5 Pro, o1) for maximum capability. Prioritizes quality over cost. Uses reasoning models for complex analysis",fastest:"Fastest",fastestDescription:"Prioritize low-latency models (Groq) for quick responses. May sacrifice some quality for speed in simple requests. Great for interactive sessions",tavilyApiKey:"Tavily API Key (Optional)",tavilyPlaceholder:"tvly-...",tavilyHelp:"Enables enhanced web search and scraping via Tavily API. Falls back to DuckDuckGo if not provided",enabledTools:"Enabled Tools",webSearch:"Web Search",webSearchDescription:"Search the web for current information, news, and articles",executeJs:"JavaScript Execution",executeJsDescription:"Execute JavaScript code for calculations and data processing",scrapeUrl:"Web Scraping",scrapeUrlDescription:"Extract content from specific URLs and websites",youtubeSearch:"YouTube Search",youtubeDescription:"Search YouTube for videos with transcript support",transcribe:"Transcribe Audio/Video",transcribeDescription:"Convert audio and video files to text transcriptions",generateChart:"Generate Charts",chartDescription:"Create visualizations and charts from data",generateImage:"Generate Images",imageDescription:"Create AI-generated images from text descriptions",searchKnowledgeBase:"Search Knowledge Base",ragDescription:"Search through uploaded documents and knowledge base",manageTodos:"Manage To-Dos",todosDescription:"Create and manage task lists and reminders",manageSnippets:"Manage Snippets",snippetsDescription:"Save and retrieve code snippets and text",askLlm:"Ask LLM",askLlmDescription:"Delegate sub-questions to other LLM instances",generateReasoning:"Generate Reasoning Chain",reasoningDescription:"Step-by-step analytical reasoning for complex problems",proxySettings:"Proxy Configuration",proxyDescription:"Configure HTTP/HTTPS proxy for web requests",enableProxy:"Enable Proxy",proxyUrl:"Proxy URL",proxyUrlPlaceholder:"http://proxy.example.com:8080",proxyUsername:"Username (Optional)",proxyPassword:"Password (Optional)",locationServices:"Location Services",locationDescription:"Use your location for localized search results and region-specific information",enableLocation:"Enable Location Services",locationHelp:"Allows web searches to return locally relevant results",currentLocation:"Current Location",requestLocation:"Request Location",clearLocation:"Clear Location",locationPermission:"Location Permission",permissionGranted:"Granted",permissionDenied:"Denied",permissionPrompt:"Not requested",tabs:{general:"General",provider:"Provider",cloud:"Cloud Sync",tools:"Tools",proxy:"Proxy",location:"Location",tts:"TTS",rag:"RAG"},appearance:"Appearance",theme:"Theme",darkMode:"Dark Mode",lightMode:"Light Mode",notifications:"Notifications",privacy:"Privacy",accessibility:"Accessibility",fontSize:"Font Size",lineHeight:"Line Height"},rV={en:"English",es:"Espaol",fr:"Franais",de:"Deutsch",zh:"",ja:"",ar:"",nl:"Nederlands",pt:"Portugus",ru:""},nV={title:"Billing Dashboard",balance:"Credit Balance",totalCost:"Total Cost",totalTokens:"Total Tokens",totalRequests:"Total Requests",cost:"Cost",tokens:"Tokens",tokensIn:"Tokens In",tokensOut:"Tokens Out",timestamp:"Timestamp",noTransactions:"No transactions yet",creditsPurchased:"Credits purchased successfully",insufficientCredits:"Insufficient credits",purchaseCredits:"Add Credit",amount:"Amount",paymentMethod:"Payment Method",transactions:"Transactions",overview:"Overview",exportCSV:"Export CSV",clearData:"Clear Data",clearDataConfirm:"Are you sure you want to clear billing data?",dataClearedSuccess:" Success: Cleared {{count}} transactions. {{remaining}} remaining.",dataClearError:" Error: {{message}}",noDataToExport:"No data to export",startDate:"Start Date",endDate:"End Date",type:"Type",provider:"Provider",model:"Model",duration:"Duration",status:"Status",allTypes:"All Types",allProviders:"All Providers",clearFilters:"Clear Filters",quickRanges:"Quick ranges:",today:"Today",last7Days:"Last 7 Days",last30Days:"Last 30 Days",thisMonth:"This Month",byType:"By Type",byProvider:"By Provider",byModel:"By Model",requests:"Requests",groupByRequestId:" Group by Request ID",itemsPerPage:"per page",totalRequestGroups:"{{count}} total request groups (showing {{showing}}), {{ungrouped}} ungrouped",totalTransactionsShowing:"{{total}} total transactions (showing {{showing}})",requestGroup:" Request Group ({{count}} transactions)",signInRequired:" Sign In Required",signInToViewBilling:"Please sign in with Google to view your billing data.",howToAccessBilling:" How to Access Billing Data:",signInStep1:'Click the "Sign in with Google" button in the top navigation bar',signInStep2:"That's it! Your billing data will load automatically",billingDataNote:" Your billing data is stored in a centralized service account Google Sheet and retrieved automatically. No additional permissions or Drive access needed - just sign in with Google.",debugInfo:" Debug Info",loading:"Loading billing data...",errorLoading:" Error Loading Billing Data",retry:" Retry",noBillingData:"No billing data available. Please wait...",noTransactionsMessage:"No transactions found",noBillingDataYet:" No Billing Data Yet",startUsingChat:"Start using the chat to generate billing records. All API usage is automatically tracked.",refresh:" Refresh",usageOnly:"Usage only (excl. credits)",totalCredits:"Total Credits",userQueries:"User Queries",llmCalls:"LLM Calls",userQueriesLlmCalls:"User Queries / LLM Calls",newBalance:"New balance:",creditsToAdd:"Credits to add:",minimumPurchase:"Minimum purchase is $5.00",addCreditsTitle:" Add Credits",purchaseCreditsDescription:"Purchase credits to use AI features. Minimum purchase: $5.00",enterAmount:"Enter amount (min $5.00)",tipUseOwnKeys:" Tip: Add your own API keys in Settings for $0 LLM costs! Only infrastructure costs apply when using your own keys.",loadingPayPal:"Loading PayPal...",paypalNotLoaded:" PayPal SDK not loaded. Please refresh the page.",close:"Close",clearBillingData:"Clear Billing Data",clearDataWarning:" Warning: This action cannot be undone. Your billing data will be permanently deleted.",clearAll:"Clear All",clearByProvider:"Clear by Provider",clearByDateRange:"Clear by Date Range",clearAllDescription:"This will delete all transactions from your billing sheet.",considerExportFirst:"Consider exporting to CSV first for your records.",selectProvider:"Select Provider:",selectProviderPlaceholder:"-- Select Provider --",clearProviderHint:"Useful for aligning with provider billing cycles (e.g., clear monthly).",clearDateRangeHint:"Leave blank to clear from beginning/to end. Both can be used together.",confirmUndoCheckbox:"I understand this action cannot be undone",cancel:"Cancel",page:"Page",of:"of",first:" First",prev:" Prev",next:"Next ",last:"Last ",types:{chat:"Chat",embedding:"Embedding",guardrail_input:" Guardrail Input",guardrail_output:" Guardrail Output",planning:"Planning",assessment:"Assessment",image_generation:" Image Generation",tts:" Text-to-Speech",chat_iteration:"Chat Iteration",credit_added:"Credit Added",summary:"Summary",lambda_invocation:"Lambda Invocation"}},aV={generic:"An error occurred",network:"Network error",timeout:"Request timed out",unauthorized:"Unauthorized access",forbidden:"Access forbidden",notFound:"Resource not found",serverError:"Server error",validationError:"Validation error",tryAgain:"Please try again"},sV={title:"Knowledge Base",newSnippet:"New Snippet",editSnippet:"Edit Snippet",deleteSnippet:"Delete Snippet",searchSnippets:"Search snippets...",noSnippets:"No snippets found",tags:"Tags",addTag:"Add Tag",removeTag:"Remove Tag",filterByTag:"Filter by Tag",content:"Content",created:"Created",modified:"Modified",source:"Source"},iV={readAloud:"Read Aloud",stopReading:"Stop Reading",pauseReading:"Pause Reading",resumeReading:"Resume Reading",voice:"Voice",speed:"Speed",volume:"Volume",provider:"TTS Provider"},oV={title:"Playlist",addToPlaylist:"Add to Playlist",removeFromPlaylist:"Remove from Playlist",playNext:"Play Next",playNow:"Play Now",clearPlaylist:"Clear Playlist",emptyPlaylist:"Playlist is empty"},lV={search:"Web Search",scrape:"Scrape Content",transcribe:"Transcribe",youtube:"YouTube",javascript:"Execute JavaScript",generateChart:"Generate Chart",generateImage:"Generate Image"},cV={common:XY,auth:ZY,chat:JY,planning:eV,settings:tV,languages:rV,billing:nV,errors:aV,swag:sV,tts:iV,playlist:oV,tools:lV},uV={save:"Opslaan",cancel:"Annuleren",delete:"Verwijderen",edit:"Bewerken",close:"Sluiten",loading:"Laden...",error:"Fout",success:"Succes",confirm:"Bevestigen",back:"Terug",next:"Volgende",submit:"Verzenden",clear:"Wissen",search:"Zoeken",filter:"Filteren",export:"Exporteren",import:"Importeren",download:"Downloaden",upload:"Uploaden",copy:"Kopiren",paste:"Plakken",cut:"Knippen",undo:"Ongedaan maken",redo:"Opnieuw",select:"Selecteren",selectAll:"Alles selecteren",deselectAll:"Alles deselecteren"},dV={signIn:"Inloggen met Google",signOut:"Uitloggen",authRequired:"Authenticatie is vereist om deze applicatie te gebruiken",tokenExpired:"Uw sessie is verlopen. Log opnieuw in.",welcomeBack:"Welkom terug!",signInPrompt:"Inloggen om door te gaan",signInRequired:"U moet inloggen om deze functie te gebruiken",signingIn:"Inloggen...",signingOut:"Uitloggen...",researchAgent:"Onderzoeksagent",tagline:"AI-aangedreven onderzoeksassistent",secureAuth:"Veilige authenticatie mogelijk gemaakt door Google",whyChooseTitle:"Waarom kiezen voor Research Agent?",whyChooseIntro:"In tegenstelling tot standaard AI-chatbots die simpelweg vragen beantwoorden, is Research Agent uw uitgebreide onderzoekspartner gebouwd voor diepgaand onderzoek en kennisopbouw.",keyAdvantagesTitle:"Belangrijkste Voordelen:",webConnected:"Web-verbonden Intelligentie",webConnectedDesc:"Real-time webzoeken en content-extractie zorgen voor actuele, nauwkeurige informatie  geen verouderde trainingsgegevens",multiTool:"Multi-Tool Orkestratie",multiToolDesc:"Combineert naadloos webzoeken, code-uitvoering, YouTube-transcripties, beeldgeneratie en documentanalyse in n gesprek",knowledgeBase:"Kennisbank Integratie",knowledgeBaseDesc:"Sla bevindingen op in uw persoonlijke kennisbank, creer fragmenten en bouw uitgebreide onderzoeksdocumenten in de loop van de tijd",advancedPlanning:"Geavanceerde Planning",advancedPlanningDesc:"Genereer gestructureerde onderzoeksplannen met expert-persona's, zoekstrategien en methodologische benaderingen",costEffective:"Slimme Modelselectie",costEffectiveDesc:"Automatische selectie van modellen die het werk economisch of krachtig uitvoeren op basis van de selectiestrategie. Gebruik je eigen sleutels om 25% te besparen",transparency:"Volledige Transparantie",transparencyDesc:"Volg elke API-aanroep, token-gebruik en kosten in real-time facturatie-dashboard",perfectFor:"Perfect voor: Academisch onderzoek, marktanalyse, contentcreatie, technische documentatie, competitieve intelligentie en elke taak die grondig onderzoek vereist."},pV={placeholder:"Typ hier uw bericht...",send:"Verzenden",retry:"Opnieuw proberen",stop:"Stoppen",thinking:"Denken...",generating:"Antwoord genereren...",newChat:"Nieuwe chat",clearHistory:"Geschiedenis wissen",loadChat:"Chat laden",systemPrompt:"Systeemprompt",customInstructions:"Aangepaste instructies",temperature:"Temperatuur",maxTokens:"Max tokens",model:"Model",provider:"Provider",history:"Chatgeschiedenis",continue:"Doorgaan",regenerate:"Opnieuw genereren",edit:"Bewerken",delete:"Verwijderen",copy:"Kopiren",copied:"Copied!",selectFiles:"Select Files",attachFiles:"Attach Files",pasteImage:"Paste Image",recording:"Recording...",voiceInput:"Voice Input",stopRecording:"Stop Recording",processing:"Processing...",noMessages:"No messages yet. Start a conversation!",clearConfirm:"Are you sure you want to clear all messages?",deleteConfirm:"Are you sure you want to delete this message?",loadingHistory:"Loading chat history...",savingChat:"Saving chat...",chatSaved:"Chat saved successfully",chatLoaded:"Chat loaded successfully",errorSaving:"Error saving chat",errorLoading:"Error loading chat",signInRequired:"Log in om deze functie te gebruiken",providerRequired:"Configureer minimaal n provider in Instellingen",messageError:"Error sending message",streamError:"Error in message stream",toolExecution:"Executing tool...",toolExecuted:"Tool executed successfully",toolError:"Tool execution error",searchingWeb:"Searching the web...",scrapingContent:"Scraping content...",transcribingAudio:"Transcribing audio...",generatingImage:"Generating image...",generatingChart:"Generating chart...",executingCode:"Executing code...",planningMode:"Planning Mode",exitPlanning:"Exit Planning",startPlanning:"Start Planning",mcpServers:"MCP Servers",addMCPServer:"Add MCP Server",mcpServerName:"Server Name",mcpServerUrl:"Server URL",exampleServers:"Example Servers",officialServers:"Official MCP Servers",sampleServers:"Sample Servers",instructions:"Instructions",availableTools:"Available Tools",enableServer:"Enable Server",disableServer:"Disable Server",removeServer:"Remove Server",serverAdded:"Server added successfully",serverRemoved:"Server removed successfully",invalidUrl:"Invalid URL format",nameRequired:"Server name is required",urlRequired:"Server URL is required",chatHistory:"Chat History",examples:"Examples",attachContext:"Attach Context",attachContextTooltip:"Attach knowledge base snippets as context for this conversation",searchProvider:"Search Provider:",functionCall:"Function Call:",code:"Code:",arguments:"Arguments:",callId:"Call ID:",result:"Result:",url:"URL:",viewRawHtml:"View raw uncompressed HTML",copyOutputToClipboard:"Copy output to clipboard",copyCodeToClipboard:"Copy code to clipboard",captureToSwag:"Capture to Swag",captureOutputToSwag:"Capture output to Swag",captureCodeToSwag:"Capture code to Swag",grabImage:"Grab image",noSummarization:"No summarization",usingProxy:"Using proxy for enhanced privacy and bot detection evasion",contentExtracted:"Content intelligently extracted",truncatedToFit:"Truncated to fit model",scrapeMethod:"Scrape Method:",tier:"Tier",scrapeTime:"Scrape Time:",totalTime:"Total Time:",format:"Format:",originalSize:"Original Size:",compressedSize:"Compressed Size:",compression:"Compression:",compressionStrategy:"Compression Strategy:",basicExtraction:"Basic extraction",rawHtml:"Raw HTML ({{count}} chars)",rawText:"Raw Text ({{count}} chars)",contentProcessingPipeline:"Content Processing Pipeline:",size:"Size:",titlePrompt:"Title/Prompt",finalPrompt:"Final Prompt",deleteChat:"Delete Chat",clearAllChats:"Clear All Chats",confirmClearAll:"Are you sure you want to clear all chat history?",confirmDelete:"Are you sure you want to delete this chat?",noChatsYet:"No chats yet",startChatting:"Start chatting to see history here",chatDeleted:"Chat deleted",allChatsCleared:"All chats cleared",chatTitle:"Chat Title",enterChatTitle:"Enter a title for this chat...",signInToChat:"Please sign in to start chatting",streamingResponse:"Streaming response...",imageAddedToSwag:"Image added to Swag!",imageAddedWithoutConversion:"Image added to Swag (without conversion)!",contentCapturedToSwag:"Content captured to Swag!",contentCapturedWithoutConversion:"Content captured to Swag (without image conversion)!",planningTransferred:"Planning prompts transferred to new chat",failedToTransfer:"Failed to transfer planning data",addedToPlaylist:"Added {{count}} video{{plural}} to playlist",transcriptionStopped:"Transcription stopped",failedToStopTranscription:"Failed to stop transcription: {{error}}",fileTypeNotSupported:"File type not supported: {{name}}. Supported types: JPEG, PNG, GIF, WebP, PDF",fileTooLarge:"File too large: {{name}} ({{size}}MB). Max size: {{maxSize}}MB",imageTokenWarning:"Image {{name}} may use many tokens (~{{tokens}}k). Consider using a smaller image.",fileAdded:"Added {{name}}",failedToProcess:"Failed to process {{name}}",signInToSendMessages:"Please sign in to send messages",foundRelevantChunks:" Found {{count}} relevant chunks from knowledge base",noRelevantContext:"No relevant context found in knowledge base",failedToRetrieveRag:"Failed to retrieve RAG context, continuing without it",sessionExpired:"Your session has expired. Please sign in again.",todoLimitReached:"Todo auto-progression limit reached. Please continue manually.",snippetSaved:"Saved snippet: {{title}}",snippetDeleted:"Deleted snippet: {{title}}",copiedToClipboard:"Copied to clipboard!",outputCopied:"Output copied to clipboard!",codeCopied:"Code copied to clipboard!",inputPlaceholder:"Type your message... (Shift+Enter for new line,  for history)",continueProcessing:"Continue Processing",stopGenerating:"Stop generating response",sendMessage:"Send message",chatMessageInput:"Chat message input",editPlan:"Edit Plan",makeAPlan:"Make A Plan",close:"Close",failedToLoadChat:"Failed to load chat",mcpServerNamePlaceholder:"Server Name (e.g., filesystem, github)",mcpServerUrlPlaceholder:"Server URL (e.g., http://localhost:3000)",noMcpServers:"No MCP servers configured",addServer:"Add Server",remove:"Remove",chatHistoryTitle:"Chat History",noChatHistory:"No chat history found. Start a conversation to save it automatically.",allChatHistoryCleared:"All chat history cleared",loadChatSuccess:"Chat loaded successfully",examplesTitle:"Chat Examples",tryExample:"Try this example",attachContextTitle:"Attach Context from Swag",snippetsAttached:"{{count}} snippet{{plural}} attached",attachSnippets:"Attach Snippets",searchSnippets:"Search snippets...",selectAll:"Alles selecteren",selectNone:"Select None",deleteSelected:"Delete Selected",cancel:"Cancel",load:"Load",confirmDeleteChat:"Are you sure you want to delete this chat?",confirmClearHistory:"Are you sure you want to clear all chat history?",confirmDeleteSelected:"Are you sure you want to delete {{count}} selected chat{{plural}}?",chatLoadedFrom:"Loaded from",chatSavedAt:"Saved at",noTitle:"No title",clearAttachedSnippets:"Clear all attached snippets",mcpServerConfiguration:"MCP Server Configuration",typeMessageFirst:"Type a message first",typeMessage:"Type a message",signInToSend:"Please sign in to send messages"},hV={title:"Onderzoeksplanning",query:"Onderzoeksvraag",generatePlan:"Plan genereren",savePlan:"Plan opslaan",loadSaved:"Load Saved",transferToChat:"Overdragen naar chat",clearAll:"Alles wissen",debug:"Debug",planning:"Plannen...",planGenerated:"Plan succesvol gegenereerd",noPlan:"Nog geen plan gegenereerd",enterQuery:"Voer uw onderzoeksvraag in",researchFocus:"Research Focus",methodology:"Methodology",expectedOutcome:"Expected Outcome",initializing:"Initializing...",processing:"Processing...",signInToGenerate:"Sign in to Generate Plan",generating:"Generating...",signInToUsePlanning:"Please sign in to use planning",signInRequired:"Please sign in with Google to use the planning feature",authExpired:"Authentication expired. Please sign out and sign in again to continue.",authRequired:"Authentication required. Please sign in with Google to continue.",enterResearchQuestion:"Please enter a research question",debugCopied:"Debug info copied to clipboard!",debugCopyFailed:"Failed to copy debug info",savePlanTooltip:"Save the current plan to your saved plans list",loadSavedPlans:"Load Saved Plans",debugTooltip:"Copy debug info for Copilot troubleshooting",transferTooltip:"Transfer to Chat",clearAllTooltip:"Clear all planning data and start fresh",systemPromptEditable:"Generated System Prompt (Editable):",systemPromptHelp:"This defines the AI's role and behavior. Edit as needed before transferring to chat.",userQueryEditable:"Generated User Query (Editable):",userQueryHelp:"This is the message that will be sent to the chat. Edit to refine your query.",generatedPrompts:"Generated Prompts",llmInfoTooltip:"View LLM transparency info (model, tokens, cost)",llmCalls:"call",llmCallsPlural:"calls",cannotSavePlan:"Cannot save plan: No valid plan generated",planSavedSuccess:"Plan saved successfully",planSaveFailed:"Failed to save plan",loadSavedPlan:"Load Saved Plan",storage:"Storage",storageWarning:"Storage is {{percentage}}% full",storageWarningHelp:"Consider deleting old plans to free up space.",noSavedPlans:"No saved plans found",saved:"Saved",load:"Load",simpleQueryDetected:"Simple Query Detected",simpleQueryHelp:"This query can be answered directly without extensive planning.",comprehensiveResearchPlan:" Comprehensive Research Plan",analysisSummary:" Analysis Summary",queryType:"Query Type:",complexity:"Complexity:",researchApproach:"Research Approach:",estimatedSources:"Estimated Sources:",reasoning:"Reasoning:",expertPersona:" Expert Persona",searchQueries:" Search Queries:",researchQuestions:" Research Questions:",suggestedSources:" Suggested Sources:",sources:"Sources:",variousRelevantSources:"Various relevant sources",researchMethodology:" Research Methodology:",enhancedSystemPrompt:" Enhanced System Prompt:",enhancedUserPrompt:" Enhanced User Prompt:",debugRawLlmResponse:" Debug: Raw LLM Response Fields",longFormDocumentPlan:" Long-Form Document Plan",longFormNote:"Note: This will be built in stages using snippets. Each section will be researched and written separately, then combined into a final document.",documentStructure:" Document Structure:",keywords:"Keywords:",workflow:" Workflow:",needMoreInfo:" Need More Information",pleaseClarify:"Please clarify:",updateQueryDetails:"Update your query with more details:",provideMoreDetails:"Provide more specific details...",regeneratePlanWithClarifications:"Regenerate Plan with Clarifications",moreInfoRequired:" More Info Required",planType:"Plan Type:",detectedComplexityPatterns:" Detected Complexity Patterns:",estimatedIterations:"Estimated Iterations",toolsRequired:"Tools Required",suggestedWorkflow:" Suggested Workflow:",requiredTools:" Required Tools:",guidanceQuestions:" Please answer these questions to refine your plan:",updatePromptWithAnswers:"Update your research prompt with answers:",guidanceTip:" Tip: Include answers to the questions above in your updated query. The more specific you are, the better the AI can create an effective multi-iteration plan with proper tool usage and few-shot examples.",guidanceExamplePlaceholder:`Example: I want to build a comprehensive research report on climate change by:
1. Creating 25 todos for different sub-topics (policy, science, economics, etc.)
2. Searching the web for each topic and saving results to snippets
3. Generating charts to visualize key data points
4. Combining all snippets into a master analysis

Please create a detailed plan with few-shot examples showing how to use create_todo, search_web, create_snippet, and generate_chart together in each iteration...`,generateDetailedExecutionPlan:" Generate Detailed Execution Plan",forcePlan:" Force Plan",forcePlanTooltip:"Let AI answer the questions and force plan generation",reset:" Reset",resetTooltip:"Clear guidance mode and return to previous state",aboutGuidanceMode:"About Guidance Mode:",guidanceModeHelp:"This mode detects complex projects that require multiple iterations and extensive tool usage. Answer the questions above to help create a detailed execution plan with few-shot examples showing how to use todos, snippets, and multiple tool calls per iteration.",forcingPlan:"Forcing plan generation...",forcePlanError:"Force plan error",forcePlanFailed:"Force plan failed",clarificationAnswer:"Please use your best judgment based on the original query."},gV={title:"Instellingen",language:"Taal",selectLanguage:"Selecteer taal",providers:"Providers",cloudSync:"Cloudsynchronisatie",billing:"Facturering",general:"Algemeen",generalDescription:"Configure general application settings including language and display preferences",languageHelp:"Changes the interface language and instructs the AI to respond in your selected language",providerCredentials:"Provider Credentials",providerDescription:"Configure your LLM provider API keys. The backend automatically selects the best model for each request",modelSelectionStrategy:"Model Selection Strategy",modelStrategyDescription:"Choose how the system selects models for your requests. This balances cost, quality, and performance",cheap:"Cheap (Recommended)",cheapDescription:"Prioritize free providers (Groq, Gemini) and smallest capable models. Falls back to paid providers only when rate-limited. Best for most use cases",balanced:"Balanced",balancedDescription:"Choose models that reliably do the job without compromising quality. Uses free tier when quality is equivalent, paid models when quality matters. Balances cost vs. capability",powerful:"Powerful",powerfulDescription:"Use the best available models (GPT-4o, Gemini 2.5 Pro, o1) for maximum capability. Prioritizes quality over cost. Uses reasoning models for complex analysis",fastest:"Fastest",fastestDescription:"Prioritize low-latency models (Groq) for quick responses. May sacrifice some quality for speed in simple requests. Great for interactive sessions",tavilyApiKey:"Tavily API Key (Optional)",tavilyPlaceholder:"tvly-...",tavilyHelp:"Enables enhanced web search and scraping via Tavily API. Falls back to DuckDuckGo if not provided",enabledTools:"Enabled Tools",webSearch:"Web Search",webSearchDescription:"Search the web for current information, news, and articles",executeJs:"JavaScript Execution",executeJsDescription:"Execute JavaScript code for calculations and data processing",scrapeUrl:"Web Scraping",scrapeUrlDescription:"Extract content from specific URLs and websites",youtubeSearch:"YouTube Search",youtubeDescription:"Search YouTube for videos with transcript support",transcribe:"Transcribe Audio/Video",transcribeDescription:"Convert audio and video files to text transcriptions",generateChart:"Generate Charts",chartDescription:"Create visualizations and charts from data",generateImage:"Generate Images",imageDescription:"Create AI-generated images from text descriptions",searchKnowledgeBase:"Search Knowledge Base",ragDescription:"Search through uploaded documents and knowledge base",manageTodos:"Manage To-Dos",todosDescription:"Create and manage task lists and reminders",manageSnippets:"Manage Snippets",snippetsDescription:"Save and retrieve code snippets and text",askLlm:"Ask LLM",askLlmDescription:"Delegate sub-questions to other LLM instances",generateReasoning:"Generate Reasoning Chain",reasoningDescription:"Step-by-step analytical reasoning for complex problems",proxySettings:"Proxy Configuration",proxyDescription:"Configure HTTP/HTTPS proxy for web requests",enableProxy:"Enable Proxy",proxyUrl:"Proxy URL",proxyUrlPlaceholder:"http://proxy.example.com:8080",proxyUsername:"Username (Optional)",proxyPassword:"Password (Optional)",locationServices:"Location Services",locationDescription:"Use your location for localized search results and region-specific information",enableLocation:"Enable Location Services",locationHelp:"Allows web searches to return locally relevant results",currentLocation:"Current Location",requestLocation:"Request Location",clearLocation:"Clear Location",locationPermission:"Location Permission",permissionGranted:"Granted",permissionDenied:"Denied",permissionPrompt:"Not requested",tabs:{general:"General",provider:"Provider",cloud:"Cloud Sync",tools:"Tools",proxy:"Proxy",location:"Location",tts:"TTS",rag:"RAG"},appearance:"Uiterlijk",theme:"Thema",darkMode:"Donkere modus",lightMode:"Lichte modus",notifications:"Notifications",privacy:"Privacy",accessibility:"Accessibility",fontSize:"Font Size",lineHeight:"Line Height"},mV={en:"English",es:"Espaol",fr:"Franais",de:"Deutsch",zh:"",ja:"",ar:"",nl:"Nederlands",pt:"Portugus",ru:""},fV={title:"Facturering",balance:"Saldo",totalCost:"Total Cost",totalTokens:"Total Tokens",totalRequests:"Total Requests",cost:"Kosten",tokens:"Tokens",tokensIn:"Tokens In",tokensOut:"Tokens Out",timestamp:"Timestamp",noTransactions:"No transactions yet",creditsPurchased:"Credits purchased successfully",insufficientCredits:"Insufficient credits",purchaseCredits:"Add Credit",amount:"Amount",paymentMethod:"Payment Method",transactions:"Transactions",overview:"Overview",exportCSV:"Export CSV",clearData:"Clear Data",clearDataConfirm:"Are you sure you want to clear billing data?",dataClearedSuccess:" Success: Cleared {{count}} transactions. {{remaining}} remaining.",dataClearError:" Error: {{message}}",noDataToExport:"No data to export",startDate:"Start Date",endDate:"End Date",type:"Type",provider:"Provider",model:"Model",duration:"Duration",status:"Status",allTypes:"All Types",allProviders:"All Providers",clearFilters:"Clear Filters",quickRanges:"Quick ranges:",today:"Today",last7Days:"Last 7 Days",last30Days:"Last 30 Days",thisMonth:"This Month",byType:"By Type",byProvider:"By Provider",byModel:"By Model",requests:"Requests",groupByRequestId:" Group by Request ID",itemsPerPage:"per page",totalRequestGroups:"{{count}} total request groups (showing {{showing}}), {{ungrouped}} ungrouped",totalTransactionsShowing:"{{total}} total transactions (showing {{showing}})",requestGroup:" Request Group ({{count}} transactions)",signInRequired:" Sign In Required",signInToViewBilling:"Please sign in with Google to view your billing data.",howToAccessBilling:" How to Access Billing Data:",signInStep1:'Click the "Sign in with Google" button in the top navigation bar',signInStep2:"That's it! Your billing data will load automatically",billingDataNote:" Your billing data is stored in a centralized service account Google Sheet and retrieved automatically. No additional permissions or Drive access needed - just sign in with Google.",debugInfo:" Debug Info",loading:"Loading billing data...",errorLoading:" Error Loading Billing Data",retry:" Retry",noBillingData:"No billing data available. Please wait...",noTransactionsMessage:"No transactions found",noBillingDataYet:" No Billing Data Yet",startUsingChat:"Start using the chat to generate billing records. All API usage is automatically tracked.",refresh:" Refresh",usageOnly:"Usage only (excl. credits)",totalCredits:"Total Credits",userQueries:"User Queries",llmCalls:"LLM Calls",userQueriesLlmCalls:"User Queries / LLM Calls",newBalance:"New balance:",creditsToAdd:"Credits to add:",minimumPurchase:"Minimum purchase is $5.00",addCreditsTitle:" Add Credits",purchaseCreditsDescription:"Purchase credits to use AI features. Minimum purchase: $5.00",enterAmount:"Enter amount (min $5.00)",tipUseOwnKeys:" Tip: Add your own API keys in Settings for $0 LLM costs! Only infrastructure costs apply when using your own keys.",loadingPayPal:"Loading PayPal...",paypalNotLoaded:" PayPal SDK not loaded. Please refresh the page.",close:"Close",clearBillingData:"Clear Billing Data",clearDataWarning:" Warning: This action cannot be undone. Your billing data will be permanently deleted.",clearAll:"Clear All",clearByProvider:"Clear by Provider",clearByDateRange:"Clear by Date Range",clearAllDescription:"This will delete all transactions from your billing sheet.",considerExportFirst:"Consider exporting to CSV first for your records.",selectProvider:"Select Provider:",selectProviderPlaceholder:"-- Select Provider --",clearProviderHint:"Useful for aligning with provider billing cycles (e.g., clear monthly).",clearDateRangeHint:"Leave blank to clear from beginning/to end. Both can be used together.",confirmUndoCheckbox:"I understand this action cannot be undone",cancel:"Cancel",page:"Page",of:"of",first:" First",prev:" Prev",next:"Next ",last:"Last ",types:{chat:"Chat",embedding:"Embedding",guardrail_input:" Guardrail Input",guardrail_output:" Guardrail Output",planning:"Planning",assessment:"Assessment",image_generation:" Image Generation",tts:" Text-to-Speech",chat_iteration:"Chat Iteration",credit_added:"Credit Added",summary:"Summary",lambda_invocation:"Lambda Invocation"}},bV={generic:"Er is een fout opgetreden",network:"Netwerkfout",timeout:"Request timed out",unauthorized:"Ongeautoriseerde toegang",forbidden:"Access forbidden",notFound:"Resource not found",serverError:"Server error",validationError:"Validation error",tryAgain:"Probeer het opnieuw"},yV={title:"Kennisbank",newSnippet:"New Snippet",editSnippet:"Edit Snippet",deleteSnippet:"Delete Snippet",searchSnippets:"Zoek fragmenten...",noSnippets:"Geen fragmenten gevonden",tags:"Tags",addTag:"Add Tag",removeTag:"Remove Tag",filterByTag:"Filter by Tag",content:"Content",created:"Created",modified:"Modified",source:"Source"},xV={readAloud:"Read Aloud",stopReading:"Stop Reading",pauseReading:"Pause Reading",resumeReading:"Resume Reading",voice:"Voice",speed:"Speed",volume:"Volume",provider:"TTS Provider"},EV={title:"Playlist",addToPlaylist:"Add to Playlist",removeFromPlaylist:"Remove from Playlist",playNext:"Play Next",playNow:"Play Now",clearPlaylist:"Clear Playlist",emptyPlaylist:"Playlist is empty"},vV={search:"Web Search",scrape:"Scrape Content",transcribe:"Transcribe",youtube:"YouTube",javascript:"Execute JavaScript",generateChart:"Generate Chart",generateImage:"Generate Image"},SV={common:uV,auth:dV,chat:pV,planning:hV,settings:gV,languages:mV,billing:fV,errors:bV,swag:yV,tts:xV,playlist:EV,tools:vV},TV={save:"Salvar",cancel:"Cancelar",delete:"Excluir",edit:"Editar",close:"Fechar",loading:"Carregando...",error:"Erro",success:"Sucesso",confirm:"Confirmar",back:"Voltar",next:"Prximo",submit:"Enviar",clear:"Limpar",search:"Buscar",filter:"Filtrar",export:"Exportar",import:"Importar",download:"Baixar",upload:"Enviar",copy:"Copiar",paste:"Colar",cut:"Recortar",undo:"Desfazer",redo:"Refazer",select:"Selecionar",selectAll:"Selecionar tudo",deselectAll:"Desselecionar tudo"},wV={signIn:"Entrar com Google",signOut:"Sair",authRequired:"A autenticao  necessria para usar este aplicativo",tokenExpired:"Sua sesso expirou. Por favor, entre novamente.",welcomeBack:"Bem-vindo de volta!",signInPrompt:"Entrar para continuar",signInRequired:"Voc deve entrar para usar este recurso",signingIn:"Entrando...",signingOut:"Saindo...",researchAgent:"Agente de Pesquisa",tagline:"Assistente de pesquisa com IA",secureAuth:"Autenticao segura fornecida pelo Google",whyChooseTitle:"Por que escolher o Research Agent?",whyChooseIntro:"Ao contrrio dos chatbots de IA padro que simplesmente respondem perguntas, o Research Agent  seu companheiro de pesquisa abrangente criado para investigao profunda e construo de conhecimento.",keyAdvantagesTitle:"Principais Vantagens:",webConnected:"Inteligncia Conectada  Web",webConnectedDesc:"Pesquisa web em tempo real e extrao de contedo garantem informaes atuais e precisas  no dados de treinamento desatualizados",multiTool:"Orquestrao Multi-Ferramentas",multiToolDesc:"Combina perfeitamente pesquisa web, execuo de cdigo, transcries do YouTube, gerao de imagens e anlise de documentos em uma nica conversa",knowledgeBase:"Integrao de Base de Conhecimento",knowledgeBaseDesc:"Salve descobertas em sua base de conhecimento pessoal, crie trechos e construa documentos de pesquisa abrangentes ao longo do tempo",advancedPlanning:"Planejamento Avanado",advancedPlanningDesc:"Gere planos de pesquisa estruturados com personas especializadas, estratgias de busca e abordagens metodolgicas",costEffective:"Seleo Inteligente de Modelos",costEffectiveDesc:"Seleo automtica de modelos que fazem o trabalho de forma econmica ou poderosa com base na estratgia de seleo. Traga suas prprias chaves para economizar 25%",transparency:"Transparncia Total",transparencyDesc:"Rastreie cada chamada de API, uso de tokens e custo no painel de cobrana em tempo real",perfectFor:"Perfeito para: Pesquisa acadmica, anlise de mercado, criao de contedo, documentao tcnica, inteligncia competitiva e qualquer tarefa que exija investigao minuciosa."},kV={placeholder:"Digite sua mensagem aqui...",send:"Enviar",retry:"Tentar novamente",stop:"Parar",thinking:"Pensando...",generating:"Gerando resposta...",newChat:"Nova conversa",clearHistory:"Limpar histrico",loadChat:"Carregar conversa",systemPrompt:"Prompt do sistema",customInstructions:"Instrues personalizadas",temperature:"Temperatura",maxTokens:"Mximo de tokens",model:"Modelo",provider:"Provedor",history:"Histrico de conversa",continue:"Continuar",regenerate:"Regenerar",edit:"Editar",delete:"Excluir",copy:"Copiar",copied:"Copied!",selectFiles:"Select Files",attachFiles:"Attach Files",pasteImage:"Paste Image",recording:"Recording...",voiceInput:"Voice Input",stopRecording:"Stop Recording",processing:"Processing...",noMessages:"No messages yet. Start a conversation!",clearConfirm:"Are you sure you want to clear all messages?",deleteConfirm:"Are you sure you want to delete this message?",loadingHistory:"Loading chat history...",savingChat:"Saving chat...",chatSaved:"Chat saved successfully",chatLoaded:"Chat loaded successfully",errorSaving:"Error saving chat",errorLoading:"Error loading chat",signInRequired:"Por favor, entre para usar este recurso",providerRequired:"Configure pelo menos um provedor nas Configuraes",messageError:"Error sending message",streamError:"Error in message stream",toolExecution:"Executing tool...",toolExecuted:"Tool executed successfully",toolError:"Tool execution error",searchingWeb:"Searching the web...",scrapingContent:"Scraping content...",transcribingAudio:"Transcribing audio...",generatingImage:"Generating image...",generatingChart:"Generating chart...",executingCode:"Executing code...",planningMode:"Planning Mode",exitPlanning:"Exit Planning",startPlanning:"Start Planning",mcpServers:"MCP Servers",addMCPServer:"Add MCP Server",mcpServerName:"Server Name",mcpServerUrl:"Server URL",exampleServers:"Example Servers",officialServers:"Official MCP Servers",sampleServers:"Sample Servers",instructions:"Instructions",availableTools:"Available Tools",enableServer:"Enable Server",disableServer:"Disable Server",removeServer:"Remove Server",serverAdded:"Server added successfully",serverRemoved:"Server removed successfully",invalidUrl:"Invalid URL format",nameRequired:"Server name is required",urlRequired:"Server URL is required",chatHistory:"Chat History",examples:"Examples",attachContext:"Attach Context",attachContextTooltip:"Attach knowledge base snippets as context for this conversation",searchProvider:"Search Provider:",functionCall:"Function Call:",code:"Code:",arguments:"Arguments:",callId:"Call ID:",result:"Result:",url:"URL:",viewRawHtml:"View raw uncompressed HTML",copyOutputToClipboard:"Copy output to clipboard",copyCodeToClipboard:"Copy code to clipboard",captureToSwag:"Capture to Swag",captureOutputToSwag:"Capture output to Swag",captureCodeToSwag:"Capture code to Swag",grabImage:"Grab image",noSummarization:"No summarization",usingProxy:"Using proxy for enhanced privacy and bot detection evasion",contentExtracted:"Content intelligently extracted",truncatedToFit:"Truncated to fit model",scrapeMethod:"Scrape Method:",tier:"Tier",scrapeTime:"Scrape Time:",totalTime:"Total Time:",format:"Format:",originalSize:"Original Size:",compressedSize:"Compressed Size:",compression:"Compression:",compressionStrategy:"Compression Strategy:",basicExtraction:"Basic extraction",rawHtml:"Raw HTML ({{count}} chars)",rawText:"Raw Text ({{count}} chars)",contentProcessingPipeline:"Content Processing Pipeline:",size:"Size:",titlePrompt:"Title/Prompt",finalPrompt:"Final Prompt",deleteChat:"Delete Chat",clearAllChats:"Clear All Chats",confirmClearAll:"Are you sure you want to clear all chat history?",confirmDelete:"Are you sure you want to delete this chat?",noChatsYet:"No chats yet",startChatting:"Start chatting to see history here",chatDeleted:"Chat deleted",allChatsCleared:"All chats cleared",chatTitle:"Chat Title",enterChatTitle:"Enter a title for this chat...",signInToChat:"Please sign in to start chatting",streamingResponse:"Streaming response...",imageAddedToSwag:"Image added to Swag!",imageAddedWithoutConversion:"Image added to Swag (without conversion)!",contentCapturedToSwag:"Content captured to Swag!",contentCapturedWithoutConversion:"Content captured to Swag (without image conversion)!",planningTransferred:"Planning prompts transferred to new chat",failedToTransfer:"Failed to transfer planning data",addedToPlaylist:"Added {{count}} video{{plural}} to playlist",transcriptionStopped:"Transcription stopped",failedToStopTranscription:"Failed to stop transcription: {{error}}",fileTypeNotSupported:"File type not supported: {{name}}. Supported types: JPEG, PNG, GIF, WebP, PDF",fileTooLarge:"File too large: {{name}} ({{size}}MB). Max size: {{maxSize}}MB",imageTokenWarning:"Image {{name}} may use many tokens (~{{tokens}}k). Consider using a smaller image.",fileAdded:"Added {{name}}",failedToProcess:"Failed to process {{name}}",signInToSendMessages:"Please sign in to send messages",foundRelevantChunks:" Found {{count}} relevant chunks from knowledge base",noRelevantContext:"No relevant context found in knowledge base",failedToRetrieveRag:"Failed to retrieve RAG context, continuing without it",sessionExpired:"Your session has expired. Please sign in again.",todoLimitReached:"Todo auto-progression limit reached. Please continue manually.",snippetSaved:"Saved snippet: {{title}}",snippetDeleted:"Deleted snippet: {{title}}",copiedToClipboard:"Copied to clipboard!",outputCopied:"Output copied to clipboard!",codeCopied:"Code copied to clipboard!",inputPlaceholder:"Type your message... (Shift+Enter for new line,  for history)",continueProcessing:"Continue Processing",stopGenerating:"Stop generating response",sendMessage:"Send message",chatMessageInput:"Chat message input",editPlan:"Edit Plan",makeAPlan:"Make A Plan",close:"Close",failedToLoadChat:"Failed to load chat",mcpServerNamePlaceholder:"Server Name (e.g., filesystem, github)",mcpServerUrlPlaceholder:"Server URL (e.g., http://localhost:3000)",noMcpServers:"No MCP servers configured",addServer:"Add Server",remove:"Remove",chatHistoryTitle:"Chat History",noChatHistory:"No chat history found. Start a conversation to save it automatically.",allChatHistoryCleared:"All chat history cleared",loadChatSuccess:"Chat loaded successfully",examplesTitle:"Chat Examples",tryExample:"Try this example",attachContextTitle:"Attach Context from Swag",snippetsAttached:"{{count}} snippet{{plural}} attached",attachSnippets:"Attach Snippets",searchSnippets:"Search snippets...",selectAll:"Selecionar tudo",selectNone:"Select None",deleteSelected:"Delete Selected",cancel:"Cancel",load:"Load",confirmDeleteChat:"Are you sure you want to delete this chat?",confirmClearHistory:"Are you sure you want to clear all chat history?",confirmDeleteSelected:"Are you sure you want to delete {{count}} selected chat{{plural}}?",chatLoadedFrom:"Loaded from",chatSavedAt:"Saved at",noTitle:"No title",clearAttachedSnippets:"Clear all attached snippets",mcpServerConfiguration:"MCP Server Configuration",typeMessageFirst:"Type a message first",typeMessage:"Type a message",signInToSend:"Please sign in to send messages"},CV={title:"Planejamento de pesquisa",query:"Consulta de pesquisa",generatePlan:"Gerar plano",savePlan:"Salvar plano",loadSaved:"Load Saved",transferToChat:"Transferir para chat",clearAll:"Limpar tudo",debug:"Debug",planning:"Planejando...",planGenerated:"Plano gerado com sucesso",noPlan:"Nenhum plano gerado ainda",enterQuery:"Digite sua consulta de pesquisa",researchFocus:"Research Focus",methodology:"Methodology",expectedOutcome:"Expected Outcome",initializing:"Initializing...",processing:"Processing...",signInToGenerate:"Sign in to Generate Plan",generating:"Generating...",signInToUsePlanning:"Please sign in to use planning",signInRequired:"Please sign in with Google to use the planning feature",authExpired:"Authentication expired. Please sign out and sign in again to continue.",authRequired:"Authentication required. Please sign in with Google to continue.",enterResearchQuestion:"Please enter a research question",debugCopied:"Debug info copied to clipboard!",debugCopyFailed:"Failed to copy debug info",savePlanTooltip:"Save the current plan to your saved plans list",loadSavedPlans:"Load Saved Plans",debugTooltip:"Copy debug info for Copilot troubleshooting",transferTooltip:"Transfer to Chat",clearAllTooltip:"Clear all planning data and start fresh",systemPromptEditable:"Generated System Prompt (Editable):",systemPromptHelp:"This defines the AI's role and behavior. Edit as needed before transferring to chat.",userQueryEditable:"Generated User Query (Editable):",userQueryHelp:"This is the message that will be sent to the chat. Edit to refine your query.",generatedPrompts:"Generated Prompts",llmInfoTooltip:"View LLM transparency info (model, tokens, cost)",llmCalls:"call",llmCallsPlural:"calls",cannotSavePlan:"Cannot save plan: No valid plan generated",planSavedSuccess:"Plan saved successfully",planSaveFailed:"Failed to save plan",loadSavedPlan:"Load Saved Plan",storage:"Storage",storageWarning:"Storage is {{percentage}}% full",storageWarningHelp:"Consider deleting old plans to free up space.",noSavedPlans:"No saved plans found",saved:"Saved",load:"Load",simpleQueryDetected:"Simple Query Detected",simpleQueryHelp:"This query can be answered directly without extensive planning.",comprehensiveResearchPlan:" Comprehensive Research Plan",analysisSummary:" Analysis Summary",queryType:"Query Type:",complexity:"Complexity:",researchApproach:"Research Approach:",estimatedSources:"Estimated Sources:",reasoning:"Reasoning:",expertPersona:" Expert Persona",searchQueries:" Search Queries:",researchQuestions:" Research Questions:",suggestedSources:" Suggested Sources:",sources:"Sources:",variousRelevantSources:"Various relevant sources",researchMethodology:" Research Methodology:",enhancedSystemPrompt:" Enhanced System Prompt:",enhancedUserPrompt:" Enhanced User Prompt:",debugRawLlmResponse:" Debug: Raw LLM Response Fields",longFormDocumentPlan:" Long-Form Document Plan",longFormNote:"Note: This will be built in stages using snippets. Each section will be researched and written separately, then combined into a final document.",documentStructure:" Document Structure:",keywords:"Keywords:",workflow:" Workflow:",needMoreInfo:" Need More Information",pleaseClarify:"Please clarify:",updateQueryDetails:"Update your query with more details:",provideMoreDetails:"Provide more specific details...",regeneratePlanWithClarifications:"Regenerate Plan with Clarifications",moreInfoRequired:" More Info Required",planType:"Plan Type:",detectedComplexityPatterns:" Detected Complexity Patterns:",estimatedIterations:"Estimated Iterations",toolsRequired:"Tools Required",suggestedWorkflow:" Suggested Workflow:",requiredTools:" Required Tools:",guidanceQuestions:" Please answer these questions to refine your plan:",updatePromptWithAnswers:"Update your research prompt with answers:",guidanceTip:" Tip: Include answers to the questions above in your updated query. The more specific you are, the better the AI can create an effective multi-iteration plan with proper tool usage and few-shot examples.",guidanceExamplePlaceholder:`Example: I want to build a comprehensive research report on climate change by:
1. Creating 25 todos for different sub-topics (policy, science, economics, etc.)
2. Searching the web for each topic and saving results to snippets
3. Generating charts to visualize key data points
4. Combining all snippets into a master analysis

Please create a detailed plan with few-shot examples showing how to use create_todo, search_web, create_snippet, and generate_chart together in each iteration...`,generateDetailedExecutionPlan:" Generate Detailed Execution Plan",forcePlan:" Force Plan",forcePlanTooltip:"Let AI answer the questions and force plan generation",reset:" Reset",resetTooltip:"Clear guidance mode and return to previous state",aboutGuidanceMode:"About Guidance Mode:",guidanceModeHelp:"This mode detects complex projects that require multiple iterations and extensive tool usage. Answer the questions above to help create a detailed execution plan with few-shot examples showing how to use todos, snippets, and multiple tool calls per iteration.",forcingPlan:"Forcing plan generation...",forcePlanError:"Force plan error",forcePlanFailed:"Force plan failed",clarificationAnswer:"Please use your best judgment based on the original query."},_V={title:"Configuraes",language:"Idioma",selectLanguage:"Selecionar idioma",providers:"Provedores",cloudSync:"Sincronizao na nuvem",billing:"Faturamento",general:"Geral",generalDescription:"Configure general application settings including language and display preferences",languageHelp:"Changes the interface language and instructs the AI to respond in your selected language",providerCredentials:"Provider Credentials",providerDescription:"Configure your LLM provider API keys. The backend automatically selects the best model for each request",modelSelectionStrategy:"Model Selection Strategy",modelStrategyDescription:"Choose how the system selects models for your requests. This balances cost, quality, and performance",cheap:"Cheap (Recommended)",cheapDescription:"Prioritize free providers (Groq, Gemini) and smallest capable models. Falls back to paid providers only when rate-limited. Best for most use cases",balanced:"Balanced",balancedDescription:"Choose models that reliably do the job without compromising quality. Uses free tier when quality is equivalent, paid models when quality matters. Balances cost vs. capability",powerful:"Powerful",powerfulDescription:"Use the best available models (GPT-4o, Gemini 2.5 Pro, o1) for maximum capability. Prioritizes quality over cost. Uses reasoning models for complex analysis",fastest:"Fastest",fastestDescription:"Prioritize low-latency models (Groq) for quick responses. May sacrifice some quality for speed in simple requests. Great for interactive sessions",tavilyApiKey:"Tavily API Key (Optional)",tavilyPlaceholder:"tvly-...",tavilyHelp:"Enables enhanced web search and scraping via Tavily API. Falls back to DuckDuckGo if not provided",enabledTools:"Enabled Tools",webSearch:"Web Search",webSearchDescription:"Search the web for current information, news, and articles",executeJs:"JavaScript Execution",executeJsDescription:"Execute JavaScript code for calculations and data processing",scrapeUrl:"Web Scraping",scrapeUrlDescription:"Extract content from specific URLs and websites",youtubeSearch:"YouTube Search",youtubeDescription:"Search YouTube for videos with transcript support",transcribe:"Transcribe Audio/Video",transcribeDescription:"Convert audio and video files to text transcriptions",generateChart:"Generate Charts",chartDescription:"Create visualizations and charts from data",generateImage:"Generate Images",imageDescription:"Create AI-generated images from text descriptions",searchKnowledgeBase:"Search Knowledge Base",ragDescription:"Search through uploaded documents and knowledge base",manageTodos:"Manage To-Dos",todosDescription:"Create and manage task lists and reminders",manageSnippets:"Manage Snippets",snippetsDescription:"Save and retrieve code snippets and text",askLlm:"Ask LLM",askLlmDescription:"Delegate sub-questions to other LLM instances",generateReasoning:"Generate Reasoning Chain",reasoningDescription:"Step-by-step analytical reasoning for complex problems",proxySettings:"Proxy Configuration",proxyDescription:"Configure HTTP/HTTPS proxy for web requests",enableProxy:"Enable Proxy",proxyUrl:"Proxy URL",proxyUrlPlaceholder:"http://proxy.example.com:8080",proxyUsername:"Username (Optional)",proxyPassword:"Password (Optional)",locationServices:"Location Services",locationDescription:"Use your location for localized search results and region-specific information",enableLocation:"Enable Location Services",locationHelp:"Allows web searches to return locally relevant results",currentLocation:"Current Location",requestLocation:"Request Location",clearLocation:"Clear Location",locationPermission:"Location Permission",permissionGranted:"Granted",permissionDenied:"Denied",permissionPrompt:"Not requested",tabs:{general:"General",provider:"Provider",cloud:"Cloud Sync",tools:"Tools",proxy:"Proxy",location:"Location",tts:"TTS",rag:"RAG"},appearance:"Aparncia",theme:"Tema",darkMode:"Modo escuro",lightMode:"Modo claro",notifications:"Notifications",privacy:"Privacy",accessibility:"Accessibility",fontSize:"Font Size",lineHeight:"Line Height"},AV={en:"English",es:"Espaol",fr:"Franais",de:"Deutsch",zh:"",ja:"",ar:"",nl:"Nederlands",pt:"Portugus",ru:""},NV={title:"Faturamento",balance:"Saldo",totalCost:"Total Cost",totalTokens:"Total Tokens",totalRequests:"Total Requests",cost:"Custo",tokens:"Tokens",tokensIn:"Tokens In",tokensOut:"Tokens Out",timestamp:"Timestamp",noTransactions:"No transactions yet",creditsPurchased:"Credits purchased successfully",insufficientCredits:"Insufficient credits",purchaseCredits:"Add Credit",amount:"Amount",paymentMethod:"Payment Method",transactions:"Transactions",overview:"Overview",exportCSV:"Export CSV",clearData:"Clear Data",clearDataConfirm:"Are you sure you want to clear billing data?",dataClearedSuccess:" Success: Cleared {{count}} transactions. {{remaining}} remaining.",dataClearError:" Error: {{message}}",noDataToExport:"No data to export",startDate:"Start Date",endDate:"End Date",type:"Type",provider:"Provider",model:"Model",duration:"Duration",status:"Status",allTypes:"All Types",allProviders:"All Providers",clearFilters:"Clear Filters",quickRanges:"Quick ranges:",today:"Today",last7Days:"Last 7 Days",last30Days:"Last 30 Days",thisMonth:"This Month",byType:"By Type",byProvider:"By Provider",byModel:"By Model",requests:"Requests",groupByRequestId:" Group by Request ID",itemsPerPage:"per page",totalRequestGroups:"{{count}} total request groups (showing {{showing}}), {{ungrouped}} ungrouped",totalTransactionsShowing:"{{total}} total transactions (showing {{showing}})",requestGroup:" Request Group ({{count}} transactions)",signInRequired:" Sign In Required",signInToViewBilling:"Please sign in with Google to view your billing data.",howToAccessBilling:" How to Access Billing Data:",signInStep1:'Click the "Sign in with Google" button in the top navigation bar',signInStep2:"That's it! Your billing data will load automatically",billingDataNote:" Your billing data is stored in a centralized service account Google Sheet and retrieved automatically. No additional permissions or Drive access needed - just sign in with Google.",debugInfo:" Debug Info",loading:"Loading billing data...",errorLoading:" Error Loading Billing Data",retry:" Retry",noBillingData:"No billing data available. Please wait...",noTransactionsMessage:"No transactions found",noBillingDataYet:" No Billing Data Yet",startUsingChat:"Start using the chat to generate billing records. All API usage is automatically tracked.",refresh:" Refresh",usageOnly:"Usage only (excl. credits)",totalCredits:"Total Credits",userQueries:"User Queries",llmCalls:"LLM Calls",userQueriesLlmCalls:"User Queries / LLM Calls",newBalance:"New balance:",creditsToAdd:"Credits to add:",minimumPurchase:"Minimum purchase is $5.00",addCreditsTitle:" Add Credits",purchaseCreditsDescription:"Purchase credits to use AI features. Minimum purchase: $5.00",enterAmount:"Enter amount (min $5.00)",tipUseOwnKeys:" Tip: Add your own API keys in Settings for $0 LLM costs! Only infrastructure costs apply when using your own keys.",loadingPayPal:"Loading PayPal...",paypalNotLoaded:" PayPal SDK not loaded. Please refresh the page.",close:"Close",clearBillingData:"Clear Billing Data",clearDataWarning:" Warning: This action cannot be undone. Your billing data will be permanently deleted.",clearAll:"Clear All",clearByProvider:"Clear by Provider",clearByDateRange:"Clear by Date Range",clearAllDescription:"This will delete all transactions from your billing sheet.",considerExportFirst:"Consider exporting to CSV first for your records.",selectProvider:"Select Provider:",selectProviderPlaceholder:"-- Select Provider --",clearProviderHint:"Useful for aligning with provider billing cycles (e.g., clear monthly).",clearDateRangeHint:"Leave blank to clear from beginning/to end. Both can be used together.",confirmUndoCheckbox:"I understand this action cannot be undone",cancel:"Cancel",page:"Page",of:"of",first:" First",prev:" Prev",next:"Next ",last:"Last ",types:{chat:"Chat",embedding:"Embedding",guardrail_input:" Guardrail Input",guardrail_output:" Guardrail Output",planning:"Planning",assessment:"Assessment",image_generation:" Image Generation",tts:" Text-to-Speech",chat_iteration:"Chat Iteration",credit_added:"Credit Added",summary:"Summary",lambda_invocation:"Lambda Invocation"}},IV={generic:"Ocorreu um erro",network:"Erro de rede",timeout:"Request timed out",unauthorized:"Acesso no autorizado",forbidden:"Access forbidden",notFound:"Resource not found",serverError:"Server error",validationError:"Validation error",tryAgain:"Por favor, tente novamente"},RV={title:"Base de conhecimento",newSnippet:"New Snippet",editSnippet:"Edit Snippet",deleteSnippet:"Delete Snippet",searchSnippets:"Buscar trechos...",noSnippets:"Nenhum trecho encontrado",tags:"Tags",addTag:"Add Tag",removeTag:"Remove Tag",filterByTag:"Filter by Tag",content:"Content",created:"Created",modified:"Modified",source:"Source"},DV={readAloud:"Read Aloud",stopReading:"Stop Reading",pauseReading:"Pause Reading",resumeReading:"Resume Reading",voice:"Voice",speed:"Speed",volume:"Volume",provider:"TTS Provider"},LV={title:"Playlist",addToPlaylist:"Add to Playlist",removeFromPlaylist:"Remove from Playlist",playNext:"Play Next",playNow:"Play Now",clearPlaylist:"Clear Playlist",emptyPlaylist:"Playlist is empty"},OV={search:"Web Search",scrape:"Scrape Content",transcribe:"Transcribe",youtube:"YouTube",javascript:"Execute JavaScript",generateChart:"Generate Chart",generateImage:"Generate Image"},MV={common:TV,auth:wV,chat:kV,planning:CV,settings:_V,languages:AV,billing:NV,errors:IV,swag:RV,tts:DV,playlist:LV,tools:OV},PV={save:"",cancel:"",delete:"",edit:"",close:"",loading:"...",error:"",success:"",confirm:"",back:"",next:"",submit:"",clear:"",search:"",filter:"",export:"",import:"",download:"",upload:"",copy:"",paste:"",cut:"",undo:"",redo:"",select:"",selectAll:" ",deselectAll:" "},jV={signIn:"  Google",signOut:"",authRequired:"     ",tokenExpired:"  . ,  .",welcomeBack:" !",signInPrompt:",  ",signInRequired:"  ,    ",signingIn:"...",signingOut:"...",researchAgent:" ",tagline:"    ",secureAuth:"   Google",whyChooseTitle:"   Research Agent?",whyChooseIntro:"    AI-,     , Research Agent       ,       .",keyAdvantagesTitle:" :",webConnected:",   ",webConnectedDesc:"        ,       ",multiTool:"  ",multiToolDesc:"  -,  ,  YouTube,        ",knowledgeBase:"  ",knowledgeBaseDesc:"     ,         ",advancedPlanning:" ",advancedPlanningDesc:"      ,     ",costEffective:"  ",costEffectiveDesc:"  ,          .    ,   25%",transparency:" ",transparencyDesc:"   API,           ",perfectFor:" :  ,  ,  ,  ,     ,   ."},FV={placeholder:"   ...",send:"",retry:"",stop:"",thinking:"...",generating:" ...",newChat:" ",clearHistory:" ",loadChat:" ",systemPrompt:" ",customInstructions:" ",temperature:"",maxTokens:". ",model:"",provider:"",history:" ",continue:"",regenerate:"",edit:"",delete:"",copy:"",copied:"Copied!",selectFiles:"Select Files",attachFiles:"Attach Files",pasteImage:"Paste Image",recording:"Recording...",voiceInput:"Voice Input",stopRecording:"Stop Recording",processing:"Processing...",noMessages:"No messages yet. Start a conversation!",clearConfirm:"Are you sure you want to clear all messages?",deleteConfirm:"Are you sure you want to delete this message?",loadingHistory:"Loading chat history...",savingChat:"Saving chat...",chatSaved:"Chat saved successfully",chatLoaded:"Chat loaded successfully",errorSaving:"Error saving chat",errorLoading:"Error loading chat",signInRequired:", ,    ",providerRequired:"      ",messageError:"Error sending message",streamError:"Error in message stream",toolExecution:"Executing tool...",toolExecuted:"Tool executed successfully",toolError:"Tool execution error",searchingWeb:"Searching the web...",scrapingContent:"Scraping content...",transcribingAudio:"Transcribing audio...",generatingImage:"Generating image...",generatingChart:"Generating chart...",executingCode:"Executing code...",planningMode:"Planning Mode",exitPlanning:"Exit Planning",startPlanning:"Start Planning",mcpServers:"MCP Servers",addMCPServer:"Add MCP Server",mcpServerName:"Server Name",mcpServerUrl:"Server URL",exampleServers:"Example Servers",officialServers:"Official MCP Servers",sampleServers:"Sample Servers",instructions:"Instructions",availableTools:"Available Tools",enableServer:"Enable Server",disableServer:"Disable Server",removeServer:"Remove Server",serverAdded:"Server added successfully",serverRemoved:"Server removed successfully",invalidUrl:"Invalid URL format",nameRequired:"Server name is required",urlRequired:"Server URL is required",chatHistory:"Chat History",examples:"Examples",attachContext:"Attach Context",attachContextTooltip:"Attach knowledge base snippets as context for this conversation",searchProvider:"Search Provider:",functionCall:"Function Call:",code:"Code:",arguments:"Arguments:",callId:"Call ID:",result:"Result:",url:"URL:",viewRawHtml:"View raw uncompressed HTML",copyOutputToClipboard:"Copy output to clipboard",copyCodeToClipboard:"Copy code to clipboard",captureToSwag:"Capture to Swag",captureOutputToSwag:"Capture output to Swag",captureCodeToSwag:"Capture code to Swag",grabImage:"Grab image",noSummarization:"No summarization",usingProxy:"Using proxy for enhanced privacy and bot detection evasion",contentExtracted:"Content intelligently extracted",truncatedToFit:"Truncated to fit model",scrapeMethod:"Scrape Method:",tier:"Tier",scrapeTime:"Scrape Time:",totalTime:"Total Time:",format:"Format:",originalSize:"Original Size:",compressedSize:"Compressed Size:",compression:"Compression:",compressionStrategy:"Compression Strategy:",basicExtraction:"Basic extraction",rawHtml:"Raw HTML ({{count}} chars)",rawText:"Raw Text ({{count}} chars)",contentProcessingPipeline:"Content Processing Pipeline:",size:"Size:",titlePrompt:"Title/Prompt",finalPrompt:"Final Prompt",deleteChat:"Delete Chat",clearAllChats:"Clear All Chats",confirmClearAll:"Are you sure you want to clear all chat history?",confirmDelete:"Are you sure you want to delete this chat?",noChatsYet:"No chats yet",startChatting:"Start chatting to see history here",chatDeleted:"Chat deleted",allChatsCleared:"All chats cleared",chatTitle:"Chat Title",enterChatTitle:"Enter a title for this chat...",signInToChat:"Please sign in to start chatting",streamingResponse:"Streaming response...",imageAddedToSwag:"Image added to Swag!",imageAddedWithoutConversion:"Image added to Swag (without conversion)!",contentCapturedToSwag:"Content captured to Swag!",contentCapturedWithoutConversion:"Content captured to Swag (without image conversion)!",planningTransferred:"Planning prompts transferred to new chat",failedToTransfer:"Failed to transfer planning data",addedToPlaylist:"Added {{count}} video{{plural}} to playlist",transcriptionStopped:"Transcription stopped",failedToStopTranscription:"Failed to stop transcription: {{error}}",fileTypeNotSupported:"File type not supported: {{name}}. Supported types: JPEG, PNG, GIF, WebP, PDF",fileTooLarge:"File too large: {{name}} ({{size}}MB). Max size: {{maxSize}}MB",imageTokenWarning:"Image {{name}} may use many tokens (~{{tokens}}k). Consider using a smaller image.",fileAdded:"Added {{name}}",failedToProcess:"Failed to process {{name}}",signInToSendMessages:"Please sign in to send messages",foundRelevantChunks:" Found {{count}} relevant chunks from knowledge base",noRelevantContext:"No relevant context found in knowledge base",failedToRetrieveRag:"Failed to retrieve RAG context, continuing without it",sessionExpired:"Your session has expired. Please sign in again.",todoLimitReached:"Todo auto-progression limit reached. Please continue manually.",snippetSaved:"Saved snippet: {{title}}",snippetDeleted:"Deleted snippet: {{title}}",copiedToClipboard:"Copied to clipboard!",outputCopied:"Output copied to clipboard!",codeCopied:"Code copied to clipboard!",inputPlaceholder:"Type your message... (Shift+Enter for new line,  for history)",continueProcessing:"Continue Processing",stopGenerating:"Stop generating response",sendMessage:"Send message",chatMessageInput:"Chat message input",editPlan:"Edit Plan",makeAPlan:"Make A Plan",close:"Close",failedToLoadChat:"Failed to load chat",mcpServerNamePlaceholder:"Server Name (e.g., filesystem, github)",mcpServerUrlPlaceholder:"Server URL (e.g., http://localhost:3000)",noMcpServers:"No MCP servers configured",addServer:"Add Server",remove:"Remove",chatHistoryTitle:"Chat History",noChatHistory:"No chat history found. Start a conversation to save it automatically.",allChatHistoryCleared:"All chat history cleared",loadChatSuccess:"Chat loaded successfully",examplesTitle:"Chat Examples",tryExample:"Try this example",attachContextTitle:"Attach Context from Swag",snippetsAttached:"{{count}} snippet{{plural}} attached",attachSnippets:"Attach Snippets",searchSnippets:"Search snippets...",selectAll:" ",selectNone:"Select None",deleteSelected:"Delete Selected",cancel:"Cancel",load:"Load",confirmDeleteChat:"Are you sure you want to delete this chat?",confirmClearHistory:"Are you sure you want to clear all chat history?",confirmDeleteSelected:"Are you sure you want to delete {{count}} selected chat{{plural}}?",chatLoadedFrom:"Loaded from",chatSavedAt:"Saved at",noTitle:"No title",clearAttachedSnippets:"Clear all attached snippets",mcpServerConfiguration:"MCP Server Configuration",typeMessageFirst:"Type a message first",typeMessage:"Type a message",signInToSend:"Please sign in to send messages"},BV={title:" ",query:" ",generatePlan:" ",savePlan:" ",loadSaved:"Load Saved",transferToChat:"  ",clearAll:" ",debug:"Debug",planning:"...",planGenerated:"  ",noPlan:"   ",enterQuery:"   ",researchFocus:"Research Focus",methodology:"Methodology",expectedOutcome:"Expected Outcome",initializing:"Initializing...",processing:"Processing...",signInToGenerate:"Sign in to Generate Plan",generating:"Generating...",signInToUsePlanning:"Please sign in to use planning",signInRequired:"Please sign in with Google to use the planning feature",authExpired:"Authentication expired. Please sign out and sign in again to continue.",authRequired:"Authentication required. Please sign in with Google to continue.",enterResearchQuestion:"Please enter a research question",debugCopied:"Debug info copied to clipboard!",debugCopyFailed:"Failed to copy debug info",savePlanTooltip:"Save the current plan to your saved plans list",loadSavedPlans:"Load Saved Plans",debugTooltip:"Copy debug info for Copilot troubleshooting",transferTooltip:"Transfer to Chat",clearAllTooltip:"Clear all planning data and start fresh",systemPromptEditable:"Generated System Prompt (Editable):",systemPromptHelp:"This defines the AI's role and behavior. Edit as needed before transferring to chat.",userQueryEditable:"Generated User Query (Editable):",userQueryHelp:"This is the message that will be sent to the chat. Edit to refine your query.",generatedPrompts:"Generated Prompts",llmInfoTooltip:"View LLM transparency info (model, tokens, cost)",llmCalls:"call",llmCallsPlural:"calls",cannotSavePlan:"Cannot save plan: No valid plan generated",planSavedSuccess:"Plan saved successfully",planSaveFailed:"Failed to save plan",loadSavedPlan:"Load Saved Plan",storage:"Storage",storageWarning:"Storage is {{percentage}}% full",storageWarningHelp:"Consider deleting old plans to free up space.",noSavedPlans:"No saved plans found",saved:"Saved",load:"Load",simpleQueryDetected:"Simple Query Detected",simpleQueryHelp:"This query can be answered directly without extensive planning.",comprehensiveResearchPlan:" Comprehensive Research Plan",analysisSummary:" Analysis Summary",queryType:"Query Type:",complexity:"Complexity:",researchApproach:"Research Approach:",estimatedSources:"Estimated Sources:",reasoning:"Reasoning:",expertPersona:" Expert Persona",searchQueries:" Search Queries:",researchQuestions:" Research Questions:",suggestedSources:" Suggested Sources:",sources:"Sources:",variousRelevantSources:"Various relevant sources",researchMethodology:" Research Methodology:",enhancedSystemPrompt:" Enhanced System Prompt:",enhancedUserPrompt:" Enhanced User Prompt:",debugRawLlmResponse:" Debug: Raw LLM Response Fields",longFormDocumentPlan:" Long-Form Document Plan",longFormNote:"Note: This will be built in stages using snippets. Each section will be researched and written separately, then combined into a final document.",documentStructure:" Document Structure:",keywords:"Keywords:",workflow:" Workflow:",needMoreInfo:" Need More Information",pleaseClarify:"Please clarify:",updateQueryDetails:"Update your query with more details:",provideMoreDetails:"Provide more specific details...",regeneratePlanWithClarifications:"Regenerate Plan with Clarifications",moreInfoRequired:" More Info Required",planType:"Plan Type:",detectedComplexityPatterns:" Detected Complexity Patterns:",estimatedIterations:"Estimated Iterations",toolsRequired:"Tools Required",suggestedWorkflow:" Suggested Workflow:",requiredTools:" Required Tools:",guidanceQuestions:" Please answer these questions to refine your plan:",updatePromptWithAnswers:"Update your research prompt with answers:",guidanceTip:" Tip: Include answers to the questions above in your updated query. The more specific you are, the better the AI can create an effective multi-iteration plan with proper tool usage and few-shot examples.",guidanceExamplePlaceholder:`Example: I want to build a comprehensive research report on climate change by:
1. Creating 25 todos for different sub-topics (policy, science, economics, etc.)
2. Searching the web for each topic and saving results to snippets
3. Generating charts to visualize key data points
4. Combining all snippets into a master analysis

Please create a detailed plan with few-shot examples showing how to use create_todo, search_web, create_snippet, and generate_chart together in each iteration...`,generateDetailedExecutionPlan:" Generate Detailed Execution Plan",forcePlan:" Force Plan",forcePlanTooltip:"Let AI answer the questions and force plan generation",reset:" Reset",resetTooltip:"Clear guidance mode and return to previous state",aboutGuidanceMode:"About Guidance Mode:",guidanceModeHelp:"This mode detects complex projects that require multiple iterations and extensive tool usage. Answer the questions above to help create a detailed execution plan with few-shot examples showing how to use todos, snippets, and multiple tool calls per iteration.",forcingPlan:"Forcing plan generation...",forcePlanError:"Force plan error",forcePlanFailed:"Force plan failed",clarificationAnswer:"Please use your best judgment based on the original query."},UV={title:"",language:"",selectLanguage:" ",providers:"",cloudSync:" ",billing:"",general:"",generalDescription:"Configure general application settings including language and display preferences",languageHelp:"Changes the interface language and instructs the AI to respond in your selected language",providerCredentials:"Provider Credentials",providerDescription:"Configure your LLM provider API keys. The backend automatically selects the best model for each request",modelSelectionStrategy:"Model Selection Strategy",modelStrategyDescription:"Choose how the system selects models for your requests. This balances cost, quality, and performance",cheap:"Cheap (Recommended)",cheapDescription:"Prioritize free providers (Groq, Gemini) and smallest capable models. Falls back to paid providers only when rate-limited. Best for most use cases",balanced:"Balanced",balancedDescription:"Choose models that reliably do the job without compromising quality. Uses free tier when quality is equivalent, paid models when quality matters. Balances cost vs. capability",powerful:"Powerful",powerfulDescription:"Use the best available models (GPT-4o, Gemini 2.5 Pro, o1) for maximum capability. Prioritizes quality over cost. Uses reasoning models for complex analysis",fastest:"Fastest",fastestDescription:"Prioritize low-latency models (Groq) for quick responses. May sacrifice some quality for speed in simple requests. Great for interactive sessions",tavilyApiKey:"Tavily API Key (Optional)",tavilyPlaceholder:"tvly-...",tavilyHelp:"Enables enhanced web search and scraping via Tavily API. Falls back to DuckDuckGo if not provided",enabledTools:"Enabled Tools",webSearch:"Web Search",webSearchDescription:"Search the web for current information, news, and articles",executeJs:"JavaScript Execution",executeJsDescription:"Execute JavaScript code for calculations and data processing",scrapeUrl:"Web Scraping",scrapeUrlDescription:"Extract content from specific URLs and websites",youtubeSearch:"YouTube Search",youtubeDescription:"Search YouTube for videos with transcript support",transcribe:"Transcribe Audio/Video",transcribeDescription:"Convert audio and video files to text transcriptions",generateChart:"Generate Charts",chartDescription:"Create visualizations and charts from data",generateImage:"Generate Images",imageDescription:"Create AI-generated images from text descriptions",searchKnowledgeBase:"Search Knowledge Base",ragDescription:"Search through uploaded documents and knowledge base",manageTodos:"Manage To-Dos",todosDescription:"Create and manage task lists and reminders",manageSnippets:"Manage Snippets",snippetsDescription:"Save and retrieve code snippets and text",askLlm:"Ask LLM",askLlmDescription:"Delegate sub-questions to other LLM instances",generateReasoning:"Generate Reasoning Chain",reasoningDescription:"Step-by-step analytical reasoning for complex problems",proxySettings:"Proxy Configuration",proxyDescription:"Configure HTTP/HTTPS proxy for web requests",enableProxy:"Enable Proxy",proxyUrl:"Proxy URL",proxyUrlPlaceholder:"http://proxy.example.com:8080",proxyUsername:"Username (Optional)",proxyPassword:"Password (Optional)",locationServices:"Location Services",locationDescription:"Use your location for localized search results and region-specific information",enableLocation:"Enable Location Services",locationHelp:"Allows web searches to return locally relevant results",currentLocation:"Current Location",requestLocation:"Request Location",clearLocation:"Clear Location",locationPermission:"Location Permission",permissionGranted:"Granted",permissionDenied:"Denied",permissionPrompt:"Not requested",tabs:{general:"General",provider:"Provider",cloud:"Cloud Sync",tools:"Tools",proxy:"Proxy",location:"Location",tts:"TTS",rag:"RAG"},appearance:" ",theme:"",darkMode:" ",lightMode:" ",notifications:"Notifications",privacy:"Privacy",accessibility:"Accessibility",fontSize:"Font Size",lineHeight:"Line Height"},$V={en:"English",es:"Espaol",fr:"Franais",de:"Deutsch",zh:"",ja:"",ar:"",nl:"Nederlands",pt:"Portugus",ru:""},HV={title:"",balance:"",totalCost:"Total Cost",totalTokens:"Total Tokens",totalRequests:"Total Requests",cost:"",tokens:"",tokensIn:"Tokens In",tokensOut:"Tokens Out",timestamp:"Timestamp",noTransactions:"No transactions yet",creditsPurchased:"Credits purchased successfully",insufficientCredits:"Insufficient credits",purchaseCredits:"Add Credit",amount:"Amount",paymentMethod:"Payment Method",transactions:"Transactions",overview:"Overview",exportCSV:"Export CSV",clearData:"Clear Data",clearDataConfirm:"Are you sure you want to clear billing data?",dataClearedSuccess:" Success: Cleared {{count}} transactions. {{remaining}} remaining.",dataClearError:" Error: {{message}}",noDataToExport:"No data to export",startDate:"Start Date",endDate:"End Date",type:"Type",provider:"Provider",model:"Model",duration:"Duration",status:"Status",allTypes:"All Types",allProviders:"All Providers",clearFilters:"Clear Filters",quickRanges:"Quick ranges:",today:"Today",last7Days:"Last 7 Days",last30Days:"Last 30 Days",thisMonth:"This Month",byType:"By Type",byProvider:"By Provider",byModel:"By Model",requests:"Requests",groupByRequestId:" Group by Request ID",itemsPerPage:"per page",totalRequestGroups:"{{count}} total request groups (showing {{showing}}), {{ungrouped}} ungrouped",totalTransactionsShowing:"{{total}} total transactions (showing {{showing}})",requestGroup:" Request Group ({{count}} transactions)",signInRequired:" Sign In Required",signInToViewBilling:"Please sign in with Google to view your billing data.",howToAccessBilling:" How to Access Billing Data:",signInStep1:'Click the "Sign in with Google" button in the top navigation bar',signInStep2:"That's it! Your billing data will load automatically",billingDataNote:" Your billing data is stored in a centralized service account Google Sheet and retrieved automatically. No additional permissions or Drive access needed - just sign in with Google.",debugInfo:" Debug Info",loading:"Loading billing data...",errorLoading:" Error Loading Billing Data",retry:" Retry",noBillingData:"No billing data available. Please wait...",noTransactionsMessage:"No transactions found",noBillingDataYet:" No Billing Data Yet",startUsingChat:"Start using the chat to generate billing records. All API usage is automatically tracked.",refresh:" Refresh",usageOnly:"Usage only (excl. credits)",totalCredits:"Total Credits",userQueries:"User Queries",llmCalls:"LLM Calls",userQueriesLlmCalls:"User Queries / LLM Calls",newBalance:"New balance:",creditsToAdd:"Credits to add:",minimumPurchase:"Minimum purchase is $5.00",addCreditsTitle:" Add Credits",purchaseCreditsDescription:"Purchase credits to use AI features. Minimum purchase: $5.00",enterAmount:"Enter amount (min $5.00)",tipUseOwnKeys:" Tip: Add your own API keys in Settings for $0 LLM costs! Only infrastructure costs apply when using your own keys.",loadingPayPal:"Loading PayPal...",paypalNotLoaded:" PayPal SDK not loaded. Please refresh the page.",close:"Close",clearBillingData:"Clear Billing Data",clearDataWarning:" Warning: This action cannot be undone. Your billing data will be permanently deleted.",clearAll:"Clear All",clearByProvider:"Clear by Provider",clearByDateRange:"Clear by Date Range",clearAllDescription:"This will delete all transactions from your billing sheet.",considerExportFirst:"Consider exporting to CSV first for your records.",selectProvider:"Select Provider:",selectProviderPlaceholder:"-- Select Provider --",clearProviderHint:"Useful for aligning with provider billing cycles (e.g., clear monthly).",clearDateRangeHint:"Leave blank to clear from beginning/to end. Both can be used together.",confirmUndoCheckbox:"I understand this action cannot be undone",cancel:"Cancel",page:"Page",of:"of",first:" First",prev:" Prev",next:"Next ",last:"Last ",types:{chat:"Chat",embedding:"Embedding",guardrail_input:" Guardrail Input",guardrail_output:" Guardrail Output",planning:"Planning",assessment:"Assessment",image_generation:" Image Generation",tts:" Text-to-Speech",chat_iteration:"Chat Iteration",credit_added:"Credit Added",summary:"Summary",lambda_invocation:"Lambda Invocation"}},zV={generic:" ",network:" ",timeout:"Request timed out",unauthorized:" ",forbidden:"Access forbidden",notFound:"Resource not found",serverError:"Server error",validationError:"Validation error",tryAgain:",  "},GV={title:" ",newSnippet:"New Snippet",editSnippet:"Edit Snippet",deleteSnippet:"Delete Snippet",searchSnippets:" ...",noSnippets:"  ",tags:"Tags",addTag:"Add Tag",removeTag:"Remove Tag",filterByTag:"Filter by Tag",content:"Content",created:"Created",modified:"Modified",source:"Source"},qV={readAloud:"Read Aloud",stopReading:"Stop Reading",pauseReading:"Pause Reading",resumeReading:"Resume Reading",voice:"Voice",speed:"Speed",volume:"Volume",provider:"TTS Provider"},WV={title:"Playlist",addToPlaylist:"Add to Playlist",removeFromPlaylist:"Remove from Playlist",playNext:"Play Next",playNow:"Play Now",clearPlaylist:"Clear Playlist",emptyPlaylist:"Playlist is empty"},YV={search:"Web Search",scrape:"Scrape Content",transcribe:"Transcribe",youtube:"YouTube",javascript:"Execute JavaScript",generateChart:"Generate Chart",generateImage:"Generate Image"},VV={common:PV,auth:jV,chat:FV,planning:BV,settings:UV,languages:$V,billing:HV,errors:zV,swag:GV,tts:qV,playlist:WV,tools:YV};ms.use(W4).use(nW).init({resources:{en:{translation:BW},es:{translation:ZW},fr:{translation:dY},de:{translation:wY},zh:{translation:jY},ja:{translation:QY},ar:{translation:cV},nl:{translation:SV},pt:{translation:MV},ru:{translation:VV}},fallbackLng:"en",interpolation:{escapeValue:!1},detection:{order:["localStorage","navigator"],caches:["localStorage"]}});/**
 * react-router v7.9.4
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var YL="popstate";function KV(e={}){function t(n,a){let{pathname:i,search:o,hash:l}=n.location;return S1("",{pathname:i,search:o,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:Xg(a)}return XV(t,r,null,e)}function aa(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function ho(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function QV(){return Math.random().toString(36).substring(2,10)}function VL(e,t){return{usr:e.state,key:e.key,idx:t}}function S1(e,t,r=null,n){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?kp(t):t,state:r,key:t&&t.key||n||QV()}}function Xg({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function kp(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substring(n),e=e.substring(0,n)),e&&(t.pathname=e)}return t}function XV(e,t,r,n={}){let{window:a=document.defaultView,v5Compat:i=!1}=n,o=a.history,l="POP",u=null,d=h();d==null&&(d=0,o.replaceState({...o.state,idx:d},""));function h(){return(o.state||{idx:null}).idx}function g(){l="POP";let v=h(),T=v==null?null:v-d;d=v,u&&u({action:l,location:E.location,delta:T})}function f(v,T){l="PUSH";let w=S1(E.location,v,T);d=h()+1;let N=VL(w,d),R=E.createHref(w);try{o.pushState(N,"",R)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;a.location.assign(R)}i&&u&&u({action:l,location:E.location,delta:1})}function b(v,T){l="REPLACE";let w=S1(E.location,v,T);d=h();let N=VL(w,d),R=E.createHref(w);o.replaceState(N,"",R),i&&u&&u({action:l,location:E.location,delta:0})}function x(v){return ZV(v)}let E={get action(){return l},get location(){return e(a,o)},listen(v){if(u)throw new Error("A history only accepts one active listener");return a.addEventListener(YL,g),u=v,()=>{a.removeEventListener(YL,g),u=null}},createHref(v){return t(a,v)},createURL:x,encodeLocation(v){let T=x(v);return{pathname:T.pathname,search:T.search,hash:T.hash}},push:f,replace:b,go(v){return o.go(v)}};return E}function ZV(e,t=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),aa(r,"No window.location.(origin|href) available to create URL");let n=typeof e=="string"?e:Xg(e);return n=n.replace(/ $/,"%20"),!t&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function Y4(e,t,r="/"){return JV(e,t,r,!1)}function JV(e,t,r,n){let a=typeof t=="string"?kp(t):t,i=wl(a.pathname||"/",r);if(i==null)return null;let o=V4(e);eK(o);let l=null;for(let u=0;l==null&&u<o.length;++u){let d=dK(i);l=cK(o[u],d,n)}return l}function V4(e,t=[],r=[],n="",a=!1){let i=(o,l,u=a,d)=>{let h={relativePath:d===void 0?o.path||"":d,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};if(h.relativePath.startsWith("/")){if(!h.relativePath.startsWith(n)&&u)return;aa(h.relativePath.startsWith(n),`Absolute route path "${h.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(n.length)}let g=vl([n,h.relativePath]),f=r.concat(h);o.children&&o.children.length>0&&(aa(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),V4(o.children,t,f,g,u)),!(o.path==null&&!o.index)&&t.push({path:g,score:oK(g,o.index),routesMeta:f})};return e.forEach((o,l)=>{if(o.path===""||!o.path?.includes("?"))i(o,l);else for(let u of K4(o.path))i(o,l,!0,u)}),t}function K4(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return a?[i,""]:[i];let o=K4(n.join("/")),l=[];return l.push(...o.map(u=>u===""?i:[i,u].join("/"))),a&&l.push(...o),l.map(u=>e.startsWith("/")&&u===""?"/":u)}function eK(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:lK(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var tK=/^:[\w-]+$/,rK=3,nK=2,aK=1,sK=10,iK=-2,KL=e=>e==="*";function oK(e,t){let r=e.split("/"),n=r.length;return r.some(KL)&&(n+=iK),t&&(n+=nK),r.filter(a=>!KL(a)).reduce((a,i)=>a+(tK.test(i)?rK:i===""?aK:sK),n)}function lK(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function cK(e,t,r=!1){let{routesMeta:n}=e,a={},i="/",o=[];for(let l=0;l<n.length;++l){let u=n[l],d=l===n.length-1,h=i==="/"?t:t.slice(i.length)||"/",g=_b({path:u.relativePath,caseSensitive:u.caseSensitive,end:d},h),f=u.route;if(!g&&d&&r&&!n[n.length-1].route.index&&(g=_b({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},h)),!g)return null;Object.assign(a,g.params),o.push({params:a,pathname:vl([i,g.pathname]),pathnameBase:mK(vl([i,g.pathnameBase])),route:f}),g.pathnameBase!=="/"&&(i=vl([i,g.pathnameBase]))}return o}function _b(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=uK(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let i=a[0],o=i.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:n.reduce((d,{paramName:h,isOptional:g},f)=>{if(h==="*"){let x=l[f]||"";o=i.slice(0,i.length-x.length).replace(/(.)\/+$/,"$1")}const b=l[f];return g&&!b?d[h]=void 0:d[h]=(b||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:o,pattern:e}}function uK(e,t=!1,r=!0){ho(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,u)=>(n.push({paramName:l,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function dK(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return ho(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function wl(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function pK(e,t="/"){let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?kp(e):e;return{pathname:r?r.startsWith("/")?r:hK(r,t):t,search:fK(n),hash:bK(a)}}function hK(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function rS(e,t,r,n){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function gK(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Q4(e){let t=gK(e);return t.map((r,n)=>n===t.length-1?r.pathname:r.pathnameBase)}function X4(e,t,r,n=!1){let a;typeof e=="string"?a=kp(e):(a={...e},aa(!a.pathname||!a.pathname.includes("?"),rS("?","pathname","search",a)),aa(!a.pathname||!a.pathname.includes("#"),rS("#","pathname","hash",a)),aa(!a.search||!a.search.includes("#"),rS("#","search","hash",a)));let i=e===""||a.pathname==="",o=i?"/":a.pathname,l;if(o==null)l=r;else{let g=t.length-1;if(!n&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),g-=1;a.pathname=f.join("/")}l=g>=0?t[g]:"/"}let u=pK(a,l),d=o&&o!=="/"&&o.endsWith("/"),h=(i||o===".")&&r.endsWith("/");return!u.pathname.endsWith("/")&&(d||h)&&(u.pathname+="/"),u}var vl=e=>e.join("/").replace(/\/\/+/g,"/"),mK=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),fK=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,bK=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function yK(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var Z4=["POST","PUT","PATCH","DELETE"];new Set(Z4);var xK=["GET",...Z4];new Set(xK);var Cp=C.createContext(null);Cp.displayName="DataRouter";var Ny=C.createContext(null);Ny.displayName="DataRouterState";C.createContext(!1);var J4=C.createContext({isTransitioning:!1});J4.displayName="ViewTransition";var EK=C.createContext(new Map);EK.displayName="Fetchers";var vK=C.createContext(null);vK.displayName="Await";var qo=C.createContext(null);qo.displayName="Navigation";var wm=C.createContext(null);wm.displayName="Location";var Nl=C.createContext({outlet:null,matches:[],isDataRoute:!1});Nl.displayName="Route";var Tw=C.createContext(null);Tw.displayName="RouteError";function SK(e,{relative:t}={}){aa(km(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=C.useContext(qo),{hash:a,pathname:i,search:o}=Cm(e,{relative:t}),l=i;return r!=="/"&&(l=i==="/"?r:vl([r,i])),n.createHref({pathname:l,search:o,hash:a})}function km(){return C.useContext(wm)!=null}function Gi(){return aa(km(),"useLocation() may be used only in the context of a <Router> component."),C.useContext(wm).location}var e6="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function t6(e){C.useContext(qo).static||C.useLayoutEffect(e)}function ni(){let{isDataRoute:e}=C.useContext(Nl);return e?MK():TK()}function TK(){aa(km(),"useNavigate() may be used only in the context of a <Router> component.");let e=C.useContext(Cp),{basename:t,navigator:r}=C.useContext(qo),{matches:n}=C.useContext(Nl),{pathname:a}=Gi(),i=JSON.stringify(Q4(n)),o=C.useRef(!1);return t6(()=>{o.current=!0}),C.useCallback((u,d={})=>{if(ho(o.current,e6),!o.current)return;if(typeof u=="number"){r.go(u);return}let h=X4(u,JSON.parse(i),a,d.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:vl([t,h.pathname])),(d.replace?r.replace:r.push)(h,d.state,d)},[t,r,i,a,e])}C.createContext(null);function Cm(e,{relative:t}={}){let{matches:r}=C.useContext(Nl),{pathname:n}=Gi(),a=JSON.stringify(Q4(r));return C.useMemo(()=>X4(e,JSON.parse(a),n,t==="path"),[e,a,n,t])}function wK(e,t){return r6(e,t)}function r6(e,t,r,n,a){aa(km(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=C.useContext(qo),{matches:o}=C.useContext(Nl),l=o[o.length-1],u=l?l.params:{},d=l?l.pathname:"/",h=l?l.pathnameBase:"/",g=l&&l.route;{let w=g&&g.path||"";n6(d,!g||w.endsWith("*")||w.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${w}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${w}"> to <Route path="${w==="/"?"*":`${w}/*`}">.`)}let f=Gi(),b;if(t){let w=typeof t=="string"?kp(t):t;aa(h==="/"||w.pathname?.startsWith(h),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${w.pathname}" was given in the \`location\` prop.`),b=w}else b=f;let x=b.pathname||"/",E=x;if(h!=="/"){let w=h.replace(/^\//,"").split("/");E="/"+x.replace(/^\//,"").split("/").slice(w.length).join("/")}let v=Y4(e,{pathname:E});ho(g||v!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),ho(v==null||v[v.length-1].route.element!==void 0||v[v.length-1].route.Component!==void 0||v[v.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let T=NK(v&&v.map(w=>Object.assign({},w,{params:Object.assign({},u,w.params),pathname:vl([h,i.encodeLocation?i.encodeLocation(w.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?h:vl([h,i.encodeLocation?i.encodeLocation(w.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:w.pathnameBase])})),o,r,n,a);return t&&T?C.createElement(wm.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},T):T}function kK(){let e=OK(),t=yK(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:n},i={padding:"2px 4px",backgroundColor:n},o=null;return console.error("Error handled by React Router default ErrorBoundary:",e),o=C.createElement(C.Fragment,null,C.createElement("p",null," Hey developer "),C.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",C.createElement("code",{style:i},"ErrorBoundary")," or"," ",C.createElement("code",{style:i},"errorElement")," prop on your route.")),C.createElement(C.Fragment,null,C.createElement("h2",null,"Unexpected Application Error!"),C.createElement("h3",{style:{fontStyle:"italic"}},t),r?C.createElement("pre",{style:a},r):null,o)}var CK=C.createElement(kK,null),_K=class extends C.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.unstable_onError?this.props.unstable_onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?C.createElement(Nl.Provider,{value:this.props.routeContext},C.createElement(Tw.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function AK({routeContext:e,match:t,children:r}){let n=C.useContext(Cp);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),C.createElement(Nl.Provider,{value:e},r)}function NK(e,t=[],r=null,n=null,a=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let i=e,o=r?.errors;if(o!=null){let d=i.findIndex(h=>h.route.id&&o?.[h.route.id]!==void 0);aa(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),i=i.slice(0,Math.min(i.length,d+1))}let l=!1,u=-1;if(r)for(let d=0;d<i.length;d++){let h=i[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:g,errors:f}=r,b=h.route.loader&&!g.hasOwnProperty(h.route.id)&&(!f||f[h.route.id]===void 0);if(h.route.lazy||b){l=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}return i.reduceRight((d,h,g)=>{let f,b=!1,x=null,E=null;r&&(f=o&&h.route.id?o[h.route.id]:void 0,x=h.route.errorElement||CK,l&&(u<0&&g===0?(n6("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,E=null):u===g&&(b=!0,E=h.route.hydrateFallbackElement||null)));let v=t.concat(i.slice(0,g+1)),T=()=>{let w;return f?w=x:b?w=E:h.route.Component?w=C.createElement(h.route.Component,null):h.route.element?w=h.route.element:w=d,C.createElement(AK,{match:h,routeContext:{outlet:d,matches:v,isDataRoute:r!=null},children:w})};return r&&(h.route.ErrorBoundary||h.route.errorElement||g===0)?C.createElement(_K,{location:r.location,revalidation:r.revalidation,component:x,error:f,children:T(),routeContext:{outlet:null,matches:v,isDataRoute:!0},unstable_onError:n}):T()},null)}function ww(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function IK(e){let t=C.useContext(Cp);return aa(t,ww(e)),t}function RK(e){let t=C.useContext(Ny);return aa(t,ww(e)),t}function DK(e){let t=C.useContext(Nl);return aa(t,ww(e)),t}function kw(e){let t=DK(e),r=t.matches[t.matches.length-1];return aa(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function LK(){return kw("useRouteId")}function OK(){let e=C.useContext(Tw),t=RK("useRouteError"),r=kw("useRouteError");return e!==void 0?e:t.errors?.[r]}function MK(){let{router:e}=IK("useNavigate"),t=kw("useNavigate"),r=C.useRef(!1);return t6(()=>{r.current=!0}),C.useCallback(async(a,i={})=>{ho(r.current,e6),r.current&&(typeof a=="number"?e.navigate(a):await e.navigate(a,{fromRouteId:t,...i}))},[e,t])}var QL={};function n6(e,t,r){!t&&!QL[e]&&(QL[e]=!0,ho(!1,r))}C.memo(PK);function PK({routes:e,future:t,state:r,unstable_onError:n}){return r6(e,void 0,r,n,t)}function Ro(e){aa(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function jK({basename:e="/",children:t=null,location:r,navigationType:n="POP",navigator:a,static:i=!1}){aa(!km(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=e.replace(/^\/*/,"/"),l=C.useMemo(()=>({basename:o,navigator:a,static:i,future:{}}),[o,a,i]);typeof r=="string"&&(r=kp(r));let{pathname:u="/",search:d="",hash:h="",state:g=null,key:f="default"}=r,b=C.useMemo(()=>{let x=wl(u,o);return x==null?null:{location:{pathname:x,search:d,hash:h,state:g,key:f},navigationType:n}},[o,u,d,h,g,f,n]);return ho(b!=null,`<Router basename="${o}"> is not able to match the URL "${u}${d}${h}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:C.createElement(qo.Provider,{value:l},C.createElement(wm.Provider,{children:t,value:b}))}function FK({children:e,location:t}){return wK(T1(e),t)}function T1(e,t=[]){let r=[];return C.Children.forEach(e,(n,a)=>{if(!C.isValidElement(n))return;let i=[...t,a];if(n.type===C.Fragment){r.push.apply(r,T1(n.props.children,i));return}aa(n.type===Ro,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),aa(!n.props.index||!n.props.children,"An index route cannot have child routes.");let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,middleware:n.props.middleware,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=T1(n.props.children,i)),r.push(o)}),r}var Z0="get",J0="application/x-www-form-urlencoded";function Iy(e){return e!=null&&typeof e.tagName=="string"}function BK(e){return Iy(e)&&e.tagName.toLowerCase()==="button"}function UK(e){return Iy(e)&&e.tagName.toLowerCase()==="form"}function $K(e){return Iy(e)&&e.tagName.toLowerCase()==="input"}function HK(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function zK(e,t){return e.button===0&&(!t||t==="_self")&&!HK(e)}function w1(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(a=>[r,a]):[[r,n]])},[]))}function GK(e,t){let r=w1(e);return t&&t.forEach((n,a)=>{r.has(a)||t.getAll(a).forEach(i=>{r.append(a,i)})}),r}var f0=null;function qK(){if(f0===null)try{new FormData(document.createElement("form"),0),f0=!1}catch{f0=!0}return f0}var WK=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function nS(e){return e!=null&&!WK.has(e)?(ho(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${J0}"`),null):e}function YK(e,t){let r,n,a,i,o;if(UK(e)){let l=e.getAttribute("action");n=l?wl(l,t):null,r=e.getAttribute("method")||Z0,a=nS(e.getAttribute("enctype"))||J0,i=new FormData(e)}else if(BK(e)||$K(e)&&(e.type==="submit"||e.type==="image")){let l=e.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=e.getAttribute("formaction")||l.getAttribute("action");if(n=u?wl(u,t):null,r=e.getAttribute("formmethod")||l.getAttribute("method")||Z0,a=nS(e.getAttribute("formenctype"))||nS(l.getAttribute("enctype"))||J0,i=new FormData(l,e),!qK()){let{name:d,type:h,value:g}=e;if(h==="image"){let f=d?`${d}.`:"";i.append(`${f}x`,"0"),i.append(`${f}y`,"0")}else d&&i.append(d,g)}}else{if(Iy(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=Z0,n=null,a=J0,o=e}return i&&a==="text/plain"&&(o=i,i=void 0),{action:n,method:r.toLowerCase(),encType:a,formData:i,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Cw(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function VK(e,t,r){let n=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n.pathname==="/"?n.pathname=`_root.${r}`:t&&wl(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.${r}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${r}`,n}async function KK(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function QK(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function XK(e,t,r){let n=await Promise.all(e.map(async a=>{let i=t.routes[a.route.id];if(i){let o=await KK(i,r);return o.links?o.links():[]}return[]}));return tQ(n.flat(1).filter(QK).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function XL(e,t,r,n,a,i){let o=(u,d)=>r[d]?u.route.id!==r[d].route.id:!0,l=(u,d)=>r[d].pathname!==u.pathname||r[d].route.path?.endsWith("*")&&r[d].params["*"]!==u.params["*"];return i==="assets"?t.filter((u,d)=>o(u,d)||l(u,d)):i==="data"?t.filter((u,d)=>{let h=n.routes[u.route.id];if(!h||!h.hasLoader)return!1;if(o(u,d)||l(u,d))return!0;if(u.route.shouldRevalidate){let g=u.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:r[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function ZK(e,t,{includeHydrateFallback:r}={}){return JK(e.map(n=>{let a=t.routes[n.route.id];if(!a)return[];let i=[a.module];return a.clientActionModule&&(i=i.concat(a.clientActionModule)),a.clientLoaderModule&&(i=i.concat(a.clientLoaderModule)),r&&a.hydrateFallbackModule&&(i=i.concat(a.hydrateFallbackModule)),a.imports&&(i=i.concat(a.imports)),i}).flat(1))}function JK(e){return[...new Set(e)]}function eQ(e){let t={},r=Object.keys(e).sort();for(let n of r)t[n]=e[n];return t}function tQ(e,t){let r=new Set;return new Set(t),e.reduce((n,a)=>{let i=JSON.stringify(eQ(a));return r.has(i)||(r.add(i),n.push({key:i,link:a})),n},[])}function a6(){let e=C.useContext(Cp);return Cw(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function rQ(){let e=C.useContext(Ny);return Cw(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var _w=C.createContext(void 0);_w.displayName="FrameworkContext";function s6(){let e=C.useContext(_w);return Cw(e,"You must render this element inside a <HydratedRouter> element"),e}function nQ(e,t){let r=C.useContext(_w),[n,a]=C.useState(!1),[i,o]=C.useState(!1),{onFocus:l,onBlur:u,onMouseEnter:d,onMouseLeave:h,onTouchStart:g}=t,f=C.useRef(null);C.useEffect(()=>{if(e==="render"&&o(!0),e==="viewport"){let E=T=>{T.forEach(w=>{o(w.isIntersecting)})},v=new IntersectionObserver(E,{threshold:.5});return f.current&&v.observe(f.current),()=>{v.disconnect()}}},[e]),C.useEffect(()=>{if(n){let E=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(E)}}},[n]);let b=()=>{a(!0)},x=()=>{a(!1),o(!1)};return r?e!=="intent"?[i,f,{}]:[i,f,{onFocus:Mh(l,b),onBlur:Mh(u,x),onMouseEnter:Mh(d,b),onMouseLeave:Mh(h,x),onTouchStart:Mh(g,b)}]:[!1,f,{}]}function Mh(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function aQ({page:e,...t}){let{router:r}=a6(),n=C.useMemo(()=>Y4(r.routes,e,r.basename),[r.routes,e,r.basename]);return n?C.createElement(iQ,{page:e,matches:n,...t}):null}function sQ(e){let{manifest:t,routeModules:r}=s6(),[n,a]=C.useState([]);return C.useEffect(()=>{let i=!1;return XK(e,t,r).then(o=>{i||a(o)}),()=>{i=!0}},[e,t,r]),n}function iQ({page:e,matches:t,...r}){let n=Gi(),{manifest:a,routeModules:i}=s6(),{basename:o}=a6(),{loaderData:l,matches:u}=rQ(),d=C.useMemo(()=>XL(e,t,u,a,n,"data"),[e,t,u,a,n]),h=C.useMemo(()=>XL(e,t,u,a,n,"assets"),[e,t,u,a,n]),g=C.useMemo(()=>{if(e===n.pathname+n.search+n.hash)return[];let x=new Set,E=!1;if(t.forEach(T=>{let w=a.routes[T.route.id];!w||!w.hasLoader||(!d.some(N=>N.route.id===T.route.id)&&T.route.id in l&&i[T.route.id]?.shouldRevalidate||w.hasClientLoader?E=!0:x.add(T.route.id))}),x.size===0)return[];let v=VK(e,o,"data");return E&&x.size>0&&v.searchParams.set("_routes",t.filter(T=>x.has(T.route.id)).map(T=>T.route.id).join(",")),[v.pathname+v.search]},[o,l,n,a,d,t,e,i]),f=C.useMemo(()=>ZK(h,a),[h,a]),b=sQ(h);return C.createElement(C.Fragment,null,g.map(x=>C.createElement("link",{key:x,rel:"prefetch",as:"fetch",href:x,...r})),f.map(x=>C.createElement("link",{key:x,rel:"modulepreload",href:x,...r})),b.map(({key:x,link:E})=>C.createElement("link",{key:x,nonce:r.nonce,...E})))}function oQ(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var i6=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{i6&&(window.__reactRouterVersion="7.9.4")}catch{}function lQ({basename:e,children:t,window:r}){let n=C.useRef();n.current==null&&(n.current=KV({window:r,v5Compat:!0}));let a=n.current,[i,o]=C.useState({action:a.action,location:a.location}),l=C.useCallback(u=>{C.startTransition(()=>o(u))},[o]);return C.useLayoutEffect(()=>a.listen(l),[a,l]),C.createElement(jK,{basename:e,children:t,location:i.location,navigationType:i.action,navigator:a})}var o6=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Aw=C.forwardRef(function({onClick:t,discover:r="render",prefetch:n="none",relative:a,reloadDocument:i,replace:o,state:l,target:u,to:d,preventScrollReset:h,viewTransition:g,...f},b){let{basename:x}=C.useContext(qo),E=typeof d=="string"&&o6.test(d),v,T=!1;if(typeof d=="string"&&E&&(v=d,i6))try{let q=new URL(window.location.href),z=d.startsWith("//")?new URL(q.protocol+d):new URL(d),K=wl(z.pathname,x);z.origin===q.origin&&K!=null?d=K+z.search+z.hash:T=!0}catch{ho(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let w=SK(d,{relative:a}),[N,R,D]=nQ(n,f),L=pQ(d,{replace:o,state:l,target:u,preventScrollReset:h,relative:a,viewTransition:g});function j(q){t&&t(q),q.defaultPrevented||L(q)}let B=C.createElement("a",{...f,...D,href:v||w,onClick:T||i?t:j,ref:oQ(b,R),target:u,"data-discover":!E&&r==="render"?"true":void 0});return N&&!E?C.createElement(C.Fragment,null,B,C.createElement(aQ,{page:w})):B});Aw.displayName="Link";var cQ=C.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:n="",end:a=!1,style:i,to:o,viewTransition:l,children:u,...d},h){let g=Cm(o,{relative:d.relative}),f=Gi(),b=C.useContext(Ny),{navigator:x,basename:E}=C.useContext(qo),v=b!=null&&yQ(g)&&l===!0,T=x.encodeLocation?x.encodeLocation(g).pathname:g.pathname,w=f.pathname,N=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;r||(w=w.toLowerCase(),N=N?N.toLowerCase():null,T=T.toLowerCase()),N&&E&&(N=wl(N,E)||N);const R=T!=="/"&&T.endsWith("/")?T.length-1:T.length;let D=w===T||!a&&w.startsWith(T)&&w.charAt(R)==="/",L=N!=null&&(N===T||!a&&N.startsWith(T)&&N.charAt(T.length)==="/"),j={isActive:D,isPending:L,isTransitioning:v},B=D?t:void 0,q;typeof n=="function"?q=n(j):q=[n,D?"active":null,L?"pending":null,v?"transitioning":null].filter(Boolean).join(" ");let z=typeof i=="function"?i(j):i;return C.createElement(Aw,{...d,"aria-current":B,className:q,ref:h,style:z,to:o,viewTransition:l},typeof u=="function"?u(j):u)});cQ.displayName="NavLink";var uQ=C.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:n,replace:a,state:i,method:o=Z0,action:l,onSubmit:u,relative:d,preventScrollReset:h,viewTransition:g,...f},b)=>{let x=fQ(),E=bQ(l,{relative:d}),v=o.toLowerCase()==="get"?"get":"post",T=typeof l=="string"&&o6.test(l),w=N=>{if(u&&u(N),N.defaultPrevented)return;N.preventDefault();let R=N.nativeEvent.submitter,D=R?.getAttribute("formmethod")||o;x(R||N.currentTarget,{fetcherKey:t,method:D,navigate:r,replace:a,state:i,relative:d,preventScrollReset:h,viewTransition:g})};return C.createElement("form",{ref:b,method:v,action:E,onSubmit:n?u:w,...f,"data-discover":!T&&e==="render"?"true":void 0})});uQ.displayName="Form";function dQ(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function l6(e){let t=C.useContext(Cp);return aa(t,dQ(e)),t}function pQ(e,{target:t,replace:r,state:n,preventScrollReset:a,relative:i,viewTransition:o}={}){let l=ni(),u=Gi(),d=Cm(e,{relative:i});return C.useCallback(h=>{if(zK(h,t)){h.preventDefault();let g=r!==void 0?r:Xg(u)===Xg(d);l(e,{replace:g,state:n,preventScrollReset:a,relative:i,viewTransition:o})}},[u,l,d,r,n,t,e,a,i,o])}function hQ(e){ho(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=C.useRef(w1(e)),r=C.useRef(!1),n=Gi(),a=C.useMemo(()=>GK(n.search,r.current?null:t.current),[n.search]),i=ni(),o=C.useCallback((l,u)=>{const d=w1(typeof l=="function"?l(new URLSearchParams(a)):l);r.current=!0,i("?"+d,u)},[i,a]);return[a,o]}var gQ=0,mQ=()=>`__${String(++gQ)}__`;function fQ(){let{router:e}=l6("useSubmit"),{basename:t}=C.useContext(qo),r=LK();return C.useCallback(async(n,a={})=>{let{action:i,method:o,encType:l,formData:u,body:d}=YK(n,t);if(a.navigate===!1){let h=a.fetcherKey||mQ();await e.fetch(h,r,a.action||i,{preventScrollReset:a.preventScrollReset,formData:u,body:d,formMethod:a.method||o,formEncType:a.encType||l,flushSync:a.flushSync})}else await e.navigate(a.action||i,{preventScrollReset:a.preventScrollReset,formData:u,body:d,formMethod:a.method||o,formEncType:a.encType||l,replace:a.replace,state:a.state,fromRouteId:r,flushSync:a.flushSync,viewTransition:a.viewTransition})},[e,t,r])}function bQ(e,{relative:t}={}){let{basename:r}=C.useContext(qo),n=C.useContext(Nl);aa(n,"useFormAction must be used inside a RouteContext");let[a]=n.matches.slice(-1),i={...Cm(e||".",{relative:t})},o=Gi();if(e==null){i.search=o.search;let l=new URLSearchParams(i.search),u=l.getAll("index");if(u.some(h=>h==="")){l.delete("index"),u.filter(g=>g).forEach(g=>l.append("index",g));let h=l.toString();i.search=h?`?${h}`:""}}return(!e||e===".")&&a.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(i.pathname=i.pathname==="/"?r:vl([r,i.pathname])),Xg(i)}function yQ(e,{relative:t}={}){let r=C.useContext(J4);aa(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=l6("useViewTransitionState"),a=Cm(e,{relative:t});if(!r.isTransitioning)return!1;let i=wl(r.currentLocation.pathname,n)||r.currentLocation.pathname,o=wl(r.nextLocation.pathname,n)||r.nextLocation.pathname;return _b(a.pathname,o)!=null||_b(a.pathname,i)!=null}var xQ=j4();const EQ=Al(xQ),vQ="modulepreload",SQ=function(e){return"/"+e},ZL={},wr=function(t,r,n){let a=Promise.resolve();if(r&&r.length>0){let u=function(d){return Promise.all(d.map(h=>Promise.resolve(h).then(g=>({status:"fulfilled",value:g}),g=>({status:"rejected",reason:g}))))};document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=o?.nonce||o?.getAttribute("nonce");a=u(r.map(d=>{if(d=SQ(d),d in ZL)return;ZL[d]=!0;const h=d.endsWith(".css"),g=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${g}`))return;const f=document.createElement("link");if(f.rel=h?"stylesheet":vQ,h||(f.as="script"),f.crossOrigin="",f.href=d,l&&f.setAttribute("nonce",l),document.head.appendChild(f),h)return new Promise((b,x)=>{f.addEventListener("load",b),f.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${d}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return a.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return t().catch(i)})},c6=void 0,u6=(e,t,r,n)=>{const a=t.trim().replace(/[\r\n]/g,""),i=r?.trim().replace(/[\r\n]/g,"");if(localStorage.setItem("google_user",JSON.stringify(e)),localStorage.setItem("google_access_token",a),i&&localStorage.setItem("google_refresh_token",i),n){const o=Date.now()+n*1e3;localStorage.setItem("google_token_expiration",o.toString())}else try{const o=_p(a);o?.exp&&localStorage.setItem("google_token_expiration",(o.exp*1e3).toString())}catch{const l=Date.now()+36e5;localStorage.setItem("google_token_expiration",l.toString())}},k1=()=>{const e=localStorage.getItem("google_user"),t=localStorage.getItem("google_access_token"),r=localStorage.getItem("google_refresh_token");return e&&t?{user:JSON.parse(e),accessToken:t,isAuthenticated:!0,refreshToken:r||void 0}:{user:null,accessToken:null,isAuthenticated:!1}},C1=()=>{localStorage.removeItem("google_user"),localStorage.removeItem("google_access_token"),localStorage.removeItem("google_refresh_token"),localStorage.removeItem("google_token_expiration"),localStorage.removeItem("last_token_refresh")},_p=e=>{try{if(!e||typeof e!="string"||e.split(".").length!==3)return console.warn("Token is not a valid JWT format"),null;const t=e.split(".")[1];if(!t)return null;const r=t.replace(/-/g,"+").replace(/_/g,"/"),n=decodeURIComponent(atob(r).split("").map(a=>"%"+("00"+a.charCodeAt(0).toString(16)).slice(-2)).join(""));return JSON.parse(n)}catch(t){return console.warn("Failed to decode JWT (token may be an access token, not an ID token):",t),null}},d6=e=>{try{const t=localStorage.getItem("google_token_expiration");if(t){const l=parseInt(t,10)-Date.now();return Math.max(0,l)}const r=_p(e);if(!r||!r.exp)return 0;const n=r.exp*1e3,a=Date.now(),i=n-a;return Math.max(0,i)}catch(t){return console.error("Failed to get token time remaining:",t),0}},Pd=e=>{try{const t=localStorage.getItem("google_token_expiration");if(t){const l=parseInt(t,10),u=Date.now(),d=300*1e3;return l-u<d}const r=_p(e);if(!r||!r.exp)return console.warn("Cannot determine token expiration, assuming valid"),!1;const n=r.exp*1e3,a=Date.now(),i=300*1e3,o=n-a;if(o>0&&o<600*1e3&&o>=i){const l=Math.floor(o/6e4);console.warn(` Token expires in ${l} minutes`)}return o<i}catch(t){return console.error("Failed to check token expiration:",t),!0}},_1=e=>{try{const t=localStorage.getItem("google_token_expiration");if(t){const l=parseInt(t,10),u=Date.now(),d=900*1e3;return l-u<d}const r=_p(e);if(!r||!r.exp)return console.warn("Cannot determine token expiration for refresh check, assuming no refresh needed"),!1;const n=r.exp*1e3,a=Date.now(),i=900*1e3;return n-a<i}catch(t){return console.error("Failed to check if token should refresh:",t),!1}},TQ=async e=>{try{const t=localStorage.getItem("google_refresh_token");if(t){console.log(" Refreshing token via OAuth refresh endpoint...");const n=await fetch("https://nrw7pperjjdswbmqgmigbwsbyi0rwdqf.lambda-url.us-east-1.on.aws/oauth/refresh",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify({refresh_token:t})});if(n.ok){const a=await n.json();return console.log(" Token refreshed successfully via OAuth"),{accessToken:a.access_token,refreshToken:a.refresh_token||t}}else console.log("OAuth refresh failed:",n.status)}return console.log(" Attempting silent sign-in fallback..."),new Promise(r=>{if(typeof google>"u"||!google.accounts){console.log("Google API not loaded"),r(null);return}let n=!1;const a=setTimeout(()=>{n||(n=!0,console.log("Silent sign-in not available"),r(null))},5e3);google.accounts.id.initialize({client_id:c6,callback:i=>{!n&&i.credential&&(n=!0,clearTimeout(a),console.log(" Silent sign-in successful"),r({accessToken:i.credential}))},auto_select:!0,cancel_on_tap_outside:!0})})}catch(t){return console.error("Token refresh failed:",t),null}},p6=()=>{try{return localStorage.getItem("has_completed_welcome_wizard")==="true"}catch(e){return console.error("Failed to check welcome wizard status:",e),!1}},A1=()=>{try{localStorage.setItem("has_completed_welcome_wizard","true"),localStorage.setItem("welcome_wizard_completed_at",new Date().toISOString())}catch(e){console.error("Failed to mark welcome wizard as complete:",e)}},h6=()=>{try{localStorage.removeItem("has_completed_welcome_wizard"),localStorage.removeItem("welcome_wizard_completed_at")}catch(e){console.error("Failed to reset welcome wizard:",e)}},g6=e=>e&&!p6(),wQ=Object.freeze(Object.defineProperty({__proto__:null,GOOGLE_CLIENT_ID:c6,clearAuthState:C1,decodeJWT:_p,getTokenTimeRemaining:d6,hasSeenWelcomeWizard:p6,isTokenExpiringSoon:Pd,loadAuthState:k1,markWelcomeWizardComplete:A1,refreshGoogleToken:TQ,resetWelcomeWizard:h6,saveAuthState:u6,shouldRefreshToken:_1,shouldShowWelcomeWizard:g6},Symbol.toStringTag,{value:"Module"})),m6=C.createContext(void 0),Ps=()=>{const e=C.useContext(m6);if(!e)throw new Error("useAuth must be used within AuthProvider");return e},kQ=({children:e})=>{const[t,r]=C.useState(()=>k1()),[n,a]=C.useState(!1),i=C.useCallback(d=>{try{const h=_p(d);if(!h||!h.email){console.error("Login failed: Invalid token or missing user info");return}const g={email:h.email,name:h.name,picture:h.picture,sub:h.sub};u6(g,d),r({user:g,accessToken:d,isAuthenticated:!0}),console.log("User logged in:",g.email)}catch(h){console.error("Login failed:",h)}},[]),o=C.useCallback(()=>{C1(),r({user:null,accessToken:null,isAuthenticated:!1}),console.log("User logged out")},[]),l=C.useCallback(async()=>{try{if(!t.accessToken)return console.log("No token to refresh"),!1;console.log(" Attempting token refresh...");const{refreshGoogleToken:d,decodeJWT:h,saveAuthState:g}=await wr(async()=>{const{refreshGoogleToken:b,decodeJWT:x,saveAuthState:E}=await Promise.resolve().then(()=>wQ);return{refreshGoogleToken:b,decodeJWT:x,saveAuthState:E}},[]),f=await d(t.accessToken);if(f){const b=h(f.accessToken);if(b){const x={email:b.email,name:b.name,picture:b.picture,sub:b.sub};return g(x,f.accessToken,f.refreshToken),r({user:x,accessToken:f.accessToken,isAuthenticated:!0}),console.log(" Token refreshed successfully"),!0}}return console.log(" Token refresh not available (user may need to re-authenticate manually)"),!1}catch(d){return console.log(" Token refresh unavailable:",d instanceof Error?d.message:"Unknown error"),!1}},[t.accessToken]),u=C.useCallback(async()=>t.accessToken?Pd(t.accessToken)?(console.log("Token expired, logging out"),o(),null):t.accessToken:null,[t.accessToken,o]);return C.useEffect(()=>{(async()=>{if(n||(a(!0),t.isAuthenticated))return;const h=k1();if(!h.accessToken||!h.user){console.log("No saved auth state found");return}console.log("Attempting auto-login for:",h.user.email),Pd(h.accessToken)?(console.log("Saved token expired, clearing auth state"),C1()):(r(h),console.log("Auto-login successful with existing token"))})()},[n,t.isAuthenticated,i]),C.useEffect(()=>{if(!t.isAuthenticated||!t.accessToken)return;const d=t.accessToken;_1(d)?(console.log(" Token should be refreshed on mount (less than 15 min remaining)"),l().then(g=>{!g&&Pd(d)&&(console.warn(" Token refresh failed and token expiring soon, logging out..."),o())})):Pd(d)&&(console.warn(" Token critically close to expiring on mount, attempting refresh..."),l().then(g=>{g||(console.warn(" Critical token refresh failed on mount, logging out..."),o())}));const h=setInterval(async()=>{if(!t.accessToken)return;const g=t.accessToken;if(_1(g)){const f=d6(g),b=Math.floor(f/6e4);console.log(` Token expires in ${b} minutes, attempting proactive refresh...`);const x=await l();!x&&Pd(g)?(console.warn(" Token expiring soon and refresh unavailable. Please re-authenticate."),o()):x||console.log(` Silent refresh not available, but token still valid for ${b} minutes`)}},120*1e3);return()=>clearInterval(h)},[t.isAuthenticated,t.accessToken,o,l]),s.jsx(m6.Provider,{value:{...t,login:i,logout:o,refreshToken:l,getToken:u},children:e})},f6=C.createContext(void 0),CQ=({children:e})=>{const[t,r]=C.useState([]),[n,a]=C.useState(!1),i=u=>{a(!1),r(d=>{const h=d.findIndex(g=>g.query.toLowerCase()===u.query.toLowerCase());if(h>=0){const g=[...d];return g[h]=u,g}else return[...d,u]})},o=u=>{r(u)},l=()=>{a(!0),r([])};return s.jsx(f6.Provider,{value:{searchResults:t,addSearchResult:i,setSearchResults:o,clearSearchResults:l,wasCleared:n},children:e})},_Q=()=>{const e=C.useContext(f6);if(e===void 0)throw new Error("useSearchResults must be used within a SearchResultsProvider");return e},N1=(e,t)=>t.some(r=>e instanceof r);let JL,e3;function AQ(){return JL||(JL=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function NQ(){return e3||(e3=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const I1=new WeakMap,aS=new WeakMap,Ry=new WeakMap;function IQ(e){const t=new Promise((r,n)=>{const a=()=>{e.removeEventListener("success",i),e.removeEventListener("error",o)},i=()=>{r(lu(e.result)),a()},o=()=>{n(e.error),a()};e.addEventListener("success",i),e.addEventListener("error",o)});return Ry.set(t,e),t}function RQ(e){if(I1.has(e))return;const t=new Promise((r,n)=>{const a=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",o),e.removeEventListener("abort",o)},i=()=>{r(),a()},o=()=>{n(e.error||new DOMException("AbortError","AbortError")),a()};e.addEventListener("complete",i),e.addEventListener("error",o),e.addEventListener("abort",o)});I1.set(e,t)}let R1={get(e,t,r){if(e instanceof IDBTransaction){if(t==="done")return I1.get(e);if(t==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return lu(e[t])},set(e,t,r){return e[t]=r,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function b6(e){R1=e(R1)}function DQ(e){return NQ().includes(e)?function(...t){return e.apply(D1(this),t),lu(this.request)}:function(...t){return lu(e.apply(D1(this),t))}}function LQ(e){return typeof e=="function"?DQ(e):(e instanceof IDBTransaction&&RQ(e),N1(e,AQ())?new Proxy(e,R1):e)}function lu(e){if(e instanceof IDBRequest)return IQ(e);if(aS.has(e))return aS.get(e);const t=LQ(e);return t!==e&&(aS.set(e,t),Ry.set(t,e)),t}const D1=e=>Ry.get(e);function Nw(e,t,{blocked:r,upgrade:n,blocking:a,terminated:i}={}){const o=indexedDB.open(e,t),l=lu(o);return n&&o.addEventListener("upgradeneeded",u=>{n(lu(o.result),u.oldVersion,u.newVersion,lu(o.transaction),u)}),r&&o.addEventListener("blocked",u=>r(u.oldVersion,u.newVersion,u)),l.then(u=>{i&&u.addEventListener("close",()=>i()),a&&u.addEventListener("versionchange",d=>a(d.oldVersion,d.newVersion,d))}).catch(()=>{}),l}const OQ=["get","getKey","getAll","getAllKeys","count"],MQ=["put","add","delete","clear"],sS=new Map;function t3(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(sS.get(t))return sS.get(t);const r=t.replace(/FromIndex$/,""),n=t!==r,a=MQ.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(a||OQ.includes(r)))return;const i=async function(o,...l){const u=this.transaction(o,a?"readwrite":"readonly");let d=u.store;return n&&(d=d.index(l.shift())),(await Promise.all([d[r](...l),a&&u.done]))[0]};return sS.set(t,i),i}b6(e=>({...e,get:(t,r,n)=>t3(t,r)||e.get(t,r,n),has:(t,r)=>!!t3(t,r)||e.has(t,r)}));const PQ=["continue","continuePrimaryKey","advance"],r3={},L1=new WeakMap,y6=new WeakMap,jQ={get(e,t){if(!PQ.includes(t))return e[t];let r=r3[t];return r||(r=r3[t]=function(...n){L1.set(this,y6.get(this)[t](...n))}),r}};async function*FQ(...e){let t=this;if(t instanceof IDBCursor||(t=await t.openCursor(...e)),!t)return;t=t;const r=new Proxy(t,jQ);for(y6.set(r,t),Ry.set(r,D1(t));t;)yield r,t=await(L1.get(r)||t.continue()),L1.delete(r)}function n3(e,t){return t===Symbol.asyncIterator&&N1(e,[IDBIndex,IDBObjectStore,IDBCursor])||t==="iterate"&&N1(e,[IDBIndex,IDBObjectStore])}b6(e=>({...e,get(t,r,n){return n3(t,r)?FQ:e.get(t,r,n)},has(t,r){return n3(t,r)||e.has(t,r)}}));class BQ{queue=[];batchInterval=3e4;batchTimer=null;onExecute;constructor(t){this.onExecute=t}queueSync(t,r="normal"){this.queue.push({adapterName:t,priority:r,timestamp:Date.now()}),r==="high"?this.executeBatch():(this.batchTimer&&clearTimeout(this.batchTimer),this.batchTimer=setTimeout(()=>{this.executeBatch()},this.batchInterval))}async executeBatch(){if(this.queue.length===0)return;const t=[...new Set(this.queue.map(r=>r.adapterName))];this.queue=[],console.log(` Executing batch sync for: ${t.join(", ")}`);try{await this.onExecute(t)}catch(r){console.error(" Batch sync failed:",r)}}clear(){this.batchTimer&&(clearTimeout(this.batchTimer),this.batchTimer=null),this.queue=[]}setBatchInterval(t){this.batchInterval=t}}class UQ{adapters=new Map;scheduler;syncStatus={syncing:!1,lastSyncTime:null,nextSyncTime:null,adapterStatuses:{}};syncInterval=300*1e3;syncTimer=null;enabled=!1;statusListeners=[];constructor(){this.scheduler=new BQ(t=>this.executeBatchSync(t))}registerAdapter(t){this.adapters.set(t.name,t),this.syncStatus.adapterStatuses[t.name]={name:t.name,enabled:t.enabled,status:"idle",lastSync:null,nextSync:null,itemCount:0,error:null},console.log(` Registered sync adapter: ${t.name}`)}unregisterAdapter(t){this.adapters.delete(t),delete this.syncStatus.adapterStatuses[t],console.log(` Unregistered sync adapter: ${t}`)}setAdapterEnabled(t,r){const n=this.adapters.get(t);n&&(n.enabled=r,this.syncStatus.adapterStatuses[t]&&(this.syncStatus.adapterStatuses[t].enabled=r),console.log(`${r?"":""} Adapter ${t} ${r?"enabled":"disabled"}`))}queueSync(t,r="normal"){if(!this.enabled){console.log(` Unified sync is disabled, skipping: ${t}`);return}const n=this.adapters.get(t);if(!n){console.warn(` Adapter not found: ${t}`);return}if(!n.enabled){console.log(` Adapter ${t} is disabled, skipping sync`);return}this.scheduler.queueSync(t,r)}async syncAdapter(t){const r=this.adapters.get(t);if(!r)throw new Error(`Adapter not found: ${t}`);return r.enabled?await this._syncAdapter(r):{success:!1,action:"no-change",timestamp:Date.now(),itemCount:0,error:`Adapter ${t} is disabled`}}async _syncAdapter(t){const r=this.syncStatus.adapterStatuses[t.name];try{if(r.status="syncing",this.notifyStatusChange(),!await t.shouldSync())return r.status="idle",this.notifyStatusChange(),{success:!0,action:"no-change",timestamp:Date.now(),itemCount:0};const a=await t.getLocalData(),i=await t.getLastModified(),o=await t.pull();if(!o||o.length===0)return a&&(Array.isArray(a)?a.length>0:Object.keys(a).length>0)?(await t.push(a),r.status="success",r.lastSync=Date.now(),r.itemCount=Array.isArray(a)?a.length:1,r.error=null,this.notifyStatusChange(),{success:!0,action:"uploaded",timestamp:Date.now(),itemCount:r.itemCount}):(r.status="idle",this.notifyStatusChange(),{success:!0,action:"no-change",timestamp:Date.now(),itemCount:0});const l=Array.isArray(o)&&o.length>0?Math.max(...o.map(u=>u.timestamp||0)):o.timestamp||0;if(l>i){if(t.mergeData){const u=t.mergeData(a,o);await t.setLocalData(u)}else await t.setLocalData(o);return r.status="success",r.lastSync=Date.now(),r.itemCount=Array.isArray(o)?o.length:1,r.error=null,this.notifyStatusChange(),{success:!0,action:"downloaded",timestamp:Date.now(),itemCount:r.itemCount}}else return i>l?(await t.push(a),r.status="success",r.lastSync=Date.now(),r.itemCount=Array.isArray(a)?a.length:1,r.error=null,this.notifyStatusChange(),{success:!0,action:"uploaded",timestamp:Date.now(),itemCount:r.itemCount}):(r.status="success",r.lastSync=Date.now(),r.error=null,this.notifyStatusChange(),{success:!0,action:"no-change",timestamp:Date.now(),itemCount:0})}catch(n){const a=n instanceof Error?n.message:String(n);return console.error(` Error syncing ${t.name}:`,a),r.status="error",r.error=a,this.notifyStatusChange(),{success:!1,action:"no-change",timestamp:Date.now(),itemCount:0,error:a}}}async executeBatchSync(t){this.syncStatus.syncing=!0,this.notifyStatusChange(),(await Promise.allSettled(t.map(n=>{const a=this.adapters.get(n);return a?this._syncAdapter(a):Promise.reject(`Adapter not found: ${n}`)}))).forEach((n,a)=>{const i=t[a];if(n.status==="fulfilled"){const o=n.value;o.success&&o.action!=="no-change"&&console.log(` ${i}: ${o.action} (${o.itemCount} items)`)}else console.error(` ${i}: ${n.reason}`)}),this.syncStatus.syncing=!1,this.syncStatus.lastSyncTime=Date.now(),this.notifyStatusChange()}async syncAll(){const t={};this.syncStatus.syncing=!0,this.notifyStatusChange();for(const[r,n]of this.adapters)n.enabled&&(t[r]=await this._syncAdapter(n));return this.syncStatus.syncing=!1,this.syncStatus.lastSyncTime=Date.now(),this.notifyStatusChange(),t}start(t){t&&(this.syncInterval=t),this.enabled=!0,this.syncAll().then(()=>{console.log(" Initial unified sync complete")}),this.syncTimer=setInterval(()=>{this.syncAll()},this.syncInterval),console.log(` Unified sync started (interval: ${this.syncInterval/1e3/60} minutes)`)}stop(){this.enabled=!1,this.syncTimer&&(clearInterval(this.syncTimer),this.syncTimer=null),this.scheduler.clear(),console.log(" Unified sync stopped")}isEnabled(){return this.enabled}getStatus(){return{...this.syncStatus}}onStatusChange(t){return this.statusListeners.push(t),()=>{const r=this.statusListeners.indexOf(t);r>-1&&this.statusListeners.splice(r,1)}}notifyStatusChange(){const t=this.getStatus();this.statusListeners.forEach(r=>{try{r(t)}catch(n){console.error("Error in status listener:",n)}})}setDebounceInterval(t){this.scheduler.setBatchInterval(t)}setSyncInterval(t){this.syncInterval=t,this.syncTimer&&(this.stop(),this.start())}}const La=new UQ;class $Q{db=null;DB_NAME="youtube-playlist-db";DB_VERSION=1;async init(){if(!this.db)try{this.db=await Nw(this.DB_NAME,this.DB_VERSION,{upgrade(t){if(t.objectStoreNames.contains("currentPlaylist")||t.createObjectStore("currentPlaylist",{keyPath:"id"}),!t.objectStoreNames.contains("savedPlaylists")){const r=t.createObjectStore("savedPlaylists",{keyPath:"id",autoIncrement:!0});r.createIndex("by-name","name",{unique:!1}),r.createIndex("by-date","createdAt",{unique:!1})}}}),await this.migrateFromLocalStorage()}catch(t){throw console.error("Failed to initialize playlist database:",t),t}}async migrateFromLocalStorage(){try{const t=localStorage.getItem("youtube_playlist"),r=localStorage.getItem("youtube_current_track");if(t){const n=JSON.parse(t),a=r?parseInt(r,10):null,i=await this.db.get("currentPlaylist","current");(!i||i.tracks.length===0)&&(await this.saveCurrentPlaylist(n,a),console.log(" Migrated playlist from localStorage to IndexedDB"))}}catch(t){console.error("Failed to migrate from localStorage:",t)}}async saveCurrentPlaylist(t,r){await this.init(),await this.db.put("currentPlaylist",{id:"current",tracks:t,currentIndex:r,isPlaying:!1,updatedAt:Date.now()})}async loadCurrentPlaylist(){await this.init();const t=await this.db.get("currentPlaylist","current");return t?{tracks:t.tracks||[],currentIndex:t.currentIndex}:{tracks:[],currentIndex:null}}async clearCurrentPlaylist(){await this.init(),await this.db.delete("currentPlaylist","current")}async savePlaylist(t,r){if(await this.init(),!t||t.trim().length===0)throw new Error("Playlist name cannot be empty");const n=await this.db.add("savedPlaylists",{id:0,name:t.trim(),tracks:r,createdAt:Date.now(),updatedAt:Date.now()});return La.isEnabled()&&La.queueSync("playlists","high"),n}async updatePlaylist(t,r,n){await this.init();const a=await this.db.get("savedPlaylists",t);if(!a)throw new Error("Playlist not found");await this.db.put("savedPlaylists",{...a,name:r.trim(),tracks:n,updatedAt:Date.now()}),La.isEnabled()&&La.queueSync("playlists","high")}async loadPlaylist(t){return await this.init(),(await this.db.get("savedPlaylists",t))?.tracks||[]}async getPlaylist(t){return await this.init(),await this.db.get("savedPlaylists",t)}async listPlaylists(){return await this.init(),(await this.db.getAll("savedPlaylists")).map(r=>({id:r.id,name:r.name,trackCount:r.tracks.length,createdAt:r.createdAt,updatedAt:r.updatedAt})).sort((r,n)=>n.updatedAt-r.updatedAt)}async deletePlaylist(t){await this.init(),await this.db.delete("savedPlaylists",t),La.isEnabled()&&La.queueSync("playlists","high")}async playlistExists(t){return await this.init(),(await this.db.getAllFromIndex("savedPlaylists","by-name",t.trim())).length>0}async searchPlaylists(t){await this.init();const r=await this.db.getAll("savedPlaylists"),n=t.toLowerCase();return r.filter(a=>a.name.toLowerCase().includes(n)).map(a=>({id:a.id,name:a.name,trackCount:a.tracks.length,createdAt:a.createdAt,updatedAt:a.updatedAt})).sort((a,i)=>i.updatedAt-a.updatedAt)}async exportPlaylist(t){await this.init();const r=await this.db.get("savedPlaylists",t);if(!r)throw new Error("Playlist not found");return JSON.stringify({name:r.name,tracks:r.tracks,exportedAt:Date.now(),version:1},null,2)}async importPlaylist(t){await this.init();try{const r=JSON.parse(t);if(!r.name||!Array.isArray(r.tracks))throw new Error("Invalid playlist format");const n=r.tracks.filter(a=>a.videoId&&a.url&&a.title);if(n.length===0)throw new Error("No valid tracks found in playlist");return await this.savePlaylist(r.name,n)}catch(r){throw r instanceof SyntaxError?new Error("Invalid JSON format"):r}}async getStats(){await this.init();const t=await this.db.get("currentPlaylist","current"),r=await this.db.getAll("savedPlaylists"),n=r.reduce((a,i)=>a+i.tracks.length,0);return{currentPlaylistSize:t?.tracks.length||0,savedPlaylistCount:r.length,totalSavedTracks:n,databaseSize:await this.estimateSize()}}async estimateSize(){await this.init();try{if("estimate"in navigator.storage)return`~${(((await navigator.storage.estimate()).usage||0)/(1024*1024)).toFixed(2)} MB`}catch{}return"Unknown"}async exportAllPlaylists(){return await this.init(),await this.db.getAll("savedPlaylists")}async importAndMergePlaylists(t){await this.init();const r=await this.db.getAll("savedPlaylists"),n=new Map(r.map(i=>[i.name.toLowerCase(),i]));let a=0;for(const i of t){const o=i.name.toLowerCase(),l=n.get(o);l?i.updatedAt>l.updatedAt&&(await this.db.put("savedPlaylists",{id:l.id,name:i.name,tracks:i.tracks,createdAt:l.createdAt,updatedAt:i.updatedAt}),a++):(await this.db.add("savedPlaylists",{id:0,name:i.name,tracks:i.tracks,createdAt:i.createdAt,updatedAt:i.updatedAt}),a++)}return a}async getPlaylistsModifiedSince(t){return await this.init(),(await this.db.getAll("savedPlaylists")).filter(n=>n.updatedAt>t)}async getLastModified(){await this.init();const t=await this.db.getAll("savedPlaylists");return t.length===0?0:Math.max(...t.map(r=>r.updatedAt))}close(){this.db&&(this.db.close(),this.db=null)}}const yi=new $Q,x6=C.createContext(void 0),Cu=()=>{const e=C.useContext(x6);if(!e)throw new Error("usePlaylist must be used within PlaylistProvider");return e},HQ=({children:e})=>{const[t,r]=C.useState([]),[n,a]=C.useState(null),[i,o]=C.useState(!1),[l,u]=C.useState([]),[d,h]=C.useState(!1),[g,f]=C.useState(!1),[b,x]=C.useState([]),[E,v]=C.useState("none"),[T,w]=C.useState(1),[N,R]=C.useState(1),[D,L]=C.useState("auto");C.useEffect(()=>{try{const Ee=localStorage.getItem("playbackRate");Ee&&w(parseFloat(Ee));const we=localStorage.getItem("volume");we&&R(parseFloat(we));const Je=localStorage.getItem("repeatMode");Je&&(Je==="none"||Je==="all"||Je==="one")&&v(Je);const Ke=localStorage.getItem("shuffleMode");Ke&&f(Ke==="true");const ze=localStorage.getItem("videoQuality");ze&&L(ze)}catch(Ee){console.error("Failed to load preferences:",Ee)}},[]),C.useEffect(()=>{(async()=>{try{const{tracks:we,currentIndex:Je}=await yi.loadCurrentPlaylist();r(we),a(Je),h(!0)}catch(we){console.error("Failed to load playlist:",we),h(!0)}})()},[]),C.useEffect(()=>{P()},[]),C.useEffect(()=>{if(!d)return;const Ee=async()=>{try{await yi.saveCurrentPlaylist(t,n)}catch(Je){console.error("Failed to save playlist:",Je)}},we=setTimeout(()=>{Ee()},500);return()=>clearTimeout(we)},[t,n,d]);const j=C.useCallback(Ee=>{const we={...Ee,id:`${Date.now()}-${Math.random().toString(36).substr(2,9)}`,addedAt:Date.now()};r(Je=>[...Je,we])},[]),B=C.useCallback(Ee=>{r(we=>{const Je=[],Ke=new Set(we.map(kt=>kt.videoId)),ze=new Set;return Ee.forEach((kt,wt)=>{Ke.has(kt.videoId)||ze.has(kt.videoId)||(ze.add(kt.videoId),Je.push({...kt,id:`${Date.now()}-${wt}-${Math.random().toString(36).substr(2,9)}`,addedAt:Date.now()}))}),[...Je,...we].slice(0,500)})},[]),q=C.useCallback(Ee=>{r(we=>{const Je=[],Ke=[],ze=[],Vt=new Set;Ee.forEach((_t,jt)=>{if(Vt.has(_t.videoId))return;Vt.add(_t.videoId);const mt=we.findIndex(zt=>zt.videoId===_t.videoId);mt!==-1?Je.push({...we[mt],addedAt:Date.now()}):Ke.push({..._t,id:`${Date.now()}-${jt}-${Math.random().toString(36).substr(2,9)}`,addedAt:Date.now()})}),we.forEach(_t=>{Vt.has(_t.videoId)||ze.push(_t)});const wt=[...Je,...Ke,...ze].slice(0,500);if(n!==null&&we[n]){const _t=we[n].videoId,jt=wt.findIndex(mt=>mt.videoId===_t);jt!==-1?a(jt):(a(null),o(!1))}return wt})},[n]),z=C.useCallback(Ee=>{r(we=>{const Je=we.findIndex(Ke=>Ke.id===Ee);return Je===-1?we:(n!==null&&(Je===n?(o(!1),a(null)):Je<n&&a(n-1)),we.filter(Ke=>Ke.id!==Ee))})},[n]),K=C.useCallback(()=>{r([]),a(null),o(!1)},[]),X=C.useCallback(Ee=>{Ee>=0&&Ee<t.length&&(a(Ee),o(!0))},[t.length]),Q=C.useCallback(()=>{const Ee=t.map((we,Je)=>Je);n!==null&&Ee.splice(Ee.indexOf(n),1);for(let we=Ee.length-1;we>0;we--){const Je=Math.floor(Math.random()*(we+1));[Ee[we],Ee[Je]]=[Ee[Je],Ee[we]]}return n!==null&&Ee.unshift(n),Ee},[t,n]);C.useEffect(()=>{g&&x(Q())},[g,t,Q]);const O=C.useCallback(()=>{if(t.length===0)return;if(n===null){a(0),o(!0);return}if(E==="one"){o(!0);return}const Ee=g?b:t.map((Je,Ke)=>Ke),we=Ee.indexOf(n);we<Ee.length-1?(a(Ee[we+1]),o(!0)):E==="all"?(a(Ee[0]),o(!0)):o(!1)},[t,n,g,b,E]),H=C.useCallback(()=>{if(t.length===0)return;if(n===null){a(t.length-1),o(!0);return}const Ee=g?b:t.map((Je,Ke)=>Ke),we=Ee.indexOf(n);we>0?(a(Ee[we-1]),o(!0)):(a(Ee[Ee.length-1]),o(!0))},[t,n,g,b]),$=C.useCallback(()=>{t.length!==0&&(n===null?(a(0),o(!0)):o(Ee=>!Ee))},[t.length,n]),Y=C.useCallback(()=>{t.length!==0&&(n===null&&a(0),o(!0))},[t.length,n]),V=C.useCallback(()=>{o(!1)},[]),ne=C.useCallback(Ee=>{const we=t.findIndex(Je=>Je.videoId===Ee);return we!==-1?(a(we),o(!0),!0):!1},[t]),P=C.useCallback(async()=>{try{const Ee=await yi.listPlaylists();u(Ee)}catch(Ee){console.error("Failed to load saved playlists:",Ee)}},[]),I=C.useCallback(async Ee=>{try{await yi.savePlaylist(Ee,t),await P()}catch(we){throw console.error("Failed to save playlist:",we),we}},[t,P]),G=C.useCallback(async Ee=>{try{const we=await yi.loadPlaylist(Ee);r(we),a(null),o(!1)}catch(we){throw console.error("Failed to load playlist:",we),we}},[]),F=C.useCallback(async Ee=>{try{await yi.deletePlaylist(Ee),await P()}catch(we){throw console.error("Failed to delete playlist:",we),we}},[P]),ie=C.useCallback(()=>{const Ee=!g;f(Ee),localStorage.setItem("shuffleMode",String(Ee)),Ee&&x(Q())},[g,Q]),he=C.useCallback(Ee=>{v(Ee),localStorage.setItem("repeatMode",Ee)},[]),ye=C.useCallback(Ee=>{w(Ee),localStorage.setItem("playbackRate",String(Ee))},[]),ge=C.useCallback(Ee=>{R(Ee),localStorage.setItem("volume",String(Ee))},[]),pe=C.useCallback(Ee=>{L(Ee),localStorage.setItem("videoQuality",Ee)},[]),Be=n!==null&&t[n]?t[n]:null;return s.jsx(x6.Provider,{value:{playlist:t,currentTrackIndex:n,isPlaying:i,addTrack:j,addTracks:B,addTracksToStart:q,removeTrack:z,clearPlaylist:K,playTrack:X,playTrackByVideoId:ne,nextTrack:O,previousTrack:H,togglePlayPause:$,play:Y,pause:V,currentTrack:Be,savedPlaylists:l,savePlaylistAs:I,loadPlaylist:G,deletePlaylist:F,refreshSavedPlaylists:P,shuffleMode:g,toggleShuffle:ie,repeatMode:E,setRepeatMode:he,playbackRate:T,setPlaybackRate:ye,volume:N,setVolume:ge,videoQuality:D,setVideoQuality:pe},children:e})},E6=C.createContext(void 0),v6=()=>{const e=C.useContext(E6);if(!e)throw new Error("usePlayer must be used within PlayerProvider");return e},zQ=({children:e})=>{const t=C.useRef(null),{isPlaying:r,currentTrack:n,play:a,pause:i}=Cu(),[o,l]=C.useState(!1),[u,d]=C.useState(0),[h,g]=C.useState(0),f=C.useCallback(N=>{console.log("[PlayerContext] Registering player:",N),t.current=N},[]),b=C.useCallback(()=>{console.log("[PlayerContext] Unregistering player"),t.current=null},[]),x=C.useCallback(()=>{t.current?(console.log("[PlayerContext] Playing video via ref"),a()):(console.warn("[PlayerContext] Cannot play - no player registered"),a())},[a]),E=C.useCallback(()=>{t.current?(console.log("[PlayerContext] Pausing video via ref"),i()):(console.warn("[PlayerContext] Cannot pause - no player registered"),i())},[i]),v=C.useCallback(N=>{t.current&&t.current.seekTo?(console.log("[PlayerContext] Seeking to:",N),t.current.seekTo(N,"seconds")):console.warn("[PlayerContext] Cannot seek - no player registered")},[]),T=C.useCallback(()=>t.current&&t.current.getCurrentTime?t.current.getCurrentTime():0,[]),w=C.useCallback(()=>t.current&&t.current.getDuration?t.current.getDuration():0,[]);return C.useEffect(()=>{t.current&&console.log("[PlayerContext] Syncing player state - isPlaying:",r,"currentTrack:",n?.title)},[r,n]),s.jsx(E6.Provider,{value:{playerRef:t,registerPlayer:f,unregisterPlayer:b,playVideo:x,pauseVideo:E,seekTo:v,getCurrentTime:T,getDuration:w,isLoading:o,setIsLoading:l,currentTime:u,duration:h,setCurrentTime:d,setDuration:g},children:e})},GQ="lambdallmproxy",qQ=1,Li="app_data",Cd=5*1024*1024,Ph=250*1024*1024;class Qc extends Error{code;estimatedSize;limit;constructor(t,r,n,a){super(t),this.name="StorageError",this.code=r,this.estimatedSize=n,this.limit=a}}class WQ{db=null;initPromise=null;useIndexedDB=!0;async initDB(){return this.initPromise?this.initPromise:(this.initPromise=new Promise(t=>{if(!window.indexedDB){console.warn("IndexedDB not supported, falling back to localStorage"),this.useIndexedDB=!1,t();return}const r=indexedDB.open(GQ,qQ);r.onerror=()=>{console.error("IndexedDB error:",r.error),this.useIndexedDB=!1,t()},r.onsuccess=()=>{this.db=r.result,this.useIndexedDB=!0,t()},r.onupgradeneeded=n=>{const a=n.target.result;a.objectStoreNames.contains(Li)||a.createObjectStore(Li)}}),this.initPromise)}getDataSize(t){try{return new Blob([JSON.stringify(t)]).size}catch{return JSON.stringify(t).length*2}}async getItem(t){if(await this.initDB(),this.useIndexedDB&&this.db)try{return await this.getFromIndexedDB(t)}catch(r){console.warn("IndexedDB read failed, trying localStorage:",r)}try{const r=localStorage.getItem(t);return r?JSON.parse(r):null}catch(r){return console.error("Failed to read from localStorage:",r),null}}async setItem(t,r){await this.initDB();const n=this.getDataSize(r);if(this.useIndexedDB&&this.db)try{if(n>Ph)throw new Qc(`Data size (${this.formatBytes(n)}) exceeds IndexedDB limit (${this.formatBytes(Ph)}). Consider reducing the amount of stored data.`,"QUOTA_EXCEEDED",n,Ph);await this.setToIndexedDB(t,r);return}catch(a){if(a instanceof Qc)throw a;console.warn("IndexedDB write failed, trying localStorage:",a),this.useIndexedDB=!1}try{if(n>Cd)throw new Qc(`Data size (${this.formatBytes(n)}) exceeds localStorage limit (${this.formatBytes(Cd)}). Try using fewer or smaller snippets, or clear old data.`,"QUOTA_EXCEEDED",n,Cd);localStorage.setItem(t,JSON.stringify(r))}catch(a){throw a instanceof Qc?a:a instanceof DOMException&&(a.name==="QuotaExceededError"||a.code===22)?new Qc(`Storage quota exceeded (${this.formatBytes(n)}). Please delete some snippets to free up space.`,"QUOTA_EXCEEDED",n,Cd):new Qc(`Failed to save data: ${a instanceof Error?a.message:"Unknown error"}`,"UNKNOWN")}}async removeItem(t){if(await this.initDB(),this.useIndexedDB&&this.db)try{await this.removeFromIndexedDB(t)}catch(r){console.warn("Failed to remove from IndexedDB:",r)}try{localStorage.removeItem(t)}catch(r){console.warn("Failed to remove from localStorage:",r)}}async clear(){if(await this.initDB(),this.useIndexedDB&&this.db)try{await this.clearIndexedDB()}catch(t){console.warn("Failed to clear IndexedDB:",t)}try{localStorage.clear()}catch(t){console.warn("Failed to clear localStorage:",t)}}async getStats(){await this.initDB();const t=[];let r=0;if(this.useIndexedDB&&this.db){const n=await this.getAllKeysFromIndexedDB();for(const a of n){const i=await this.getFromIndexedDB(a);t.push(a),r+=this.getDataSize(i)}return{type:"indexeddb",keys:t,totalSize:r,limit:Ph,percentUsed:r/Ph*100}}else{for(let n=0;n<localStorage.length;n++){const a=localStorage.key(n);if(a){t.push(a);const i=localStorage.getItem(a);i&&(r+=this.getDataSize(i))}}return{type:"localstorage",keys:t,totalSize:r,limit:Cd,percentUsed:r/Cd*100}}}getFromIndexedDB(t){return new Promise((r,n)=>{if(!this.db){n(new Error("Database not initialized"));return}const o=this.db.transaction([Li],"readonly").objectStore(Li).get(t);o.onsuccess=()=>{r(o.result??null)},o.onerror=()=>{n(o.error)}})}setToIndexedDB(t,r){return new Promise((n,a)=>{if(!this.db){a(new Error("Database not initialized"));return}const l=this.db.transaction([Li],"readwrite").objectStore(Li).put(r,t);l.onsuccess=()=>{n()},l.onerror=()=>{a(l.error)}})}removeFromIndexedDB(t){return new Promise((r,n)=>{if(!this.db){n(new Error("Database not initialized"));return}const o=this.db.transaction([Li],"readwrite").objectStore(Li).delete(t);o.onsuccess=()=>{r()},o.onerror=()=>{n(o.error)}})}clearIndexedDB(){return new Promise((t,r)=>{if(!this.db){r(new Error("Database not initialized"));return}const i=this.db.transaction([Li],"readwrite").objectStore(Li).clear();i.onsuccess=()=>{t()},i.onerror=()=>{r(i.error)}})}getAllKeysFromIndexedDB(){return new Promise((t,r)=>{if(!this.db){r(new Error("Database not initialized"));return}const i=this.db.transaction([Li],"readonly").objectStore(Li).getAllKeys();i.onsuccess=()=>{t(i.result)},i.onerror=()=>{r(i.error)}})}formatBytes(t){return t<1024?t+" B":t<1024*1024?(t/1024).toFixed(2)+" KB":(t/(1024*1024)).toFixed(2)+" MB"}}const iS=new WQ,S6=C.createContext(void 0),go=()=>{const e=C.useContext(S6);if(!e)throw new Error("useToast must be used within a ToastProvider");return e},YQ=({children:e})=>{const[t,r]=C.useState([]),n=C.useCallback(f=>{r(b=>b.filter(x=>x.id!==f))},[]),a=C.useCallback(()=>{r([])},[]),i=C.useCallback((f,b="info",x=5e3)=>{const E=`toast-${Date.now()}-${Math.random()}`,v={id:E,message:f,type:b,duration:x};r(T=>[...T,v]),x>0&&setTimeout(()=>n(E),x)},[n]),o=C.useCallback(f=>i(f,"error",7e3),[i]),l=C.useCallback(f=>i(f,"success",3e3),[i]),u=C.useCallback(f=>i(f,"warning",5e3),[i]),d=C.useCallback(f=>i(f,"info",4e3),[i]),h=f=>`flex items-start gap-3 p-4 rounded-lg shadow-lg border backdrop-blur-sm transition-all duration-300 animate-slide-in ${{success:"bg-green-50/95 dark:bg-green-900/95 border-green-200 dark:border-green-700 text-green-800 dark:text-green-100",error:"bg-red-50/95 dark:bg-red-900/95 border-red-200 dark:border-red-700 text-red-800 dark:text-red-100",warning:"bg-yellow-50/95 dark:bg-yellow-900/95 border-yellow-200 dark:border-yellow-700 text-yellow-800 dark:text-yellow-100",info:"bg-blue-50/95 dark:bg-blue-900/95 border-blue-200 dark:border-blue-700 text-blue-800 dark:text-blue-100"}[f]}`,g=f=>({success:"",error:"",warning:"",info:""})[f];return s.jsxs(S6.Provider,{value:{showToast:i,showError:o,showSuccess:l,showWarning:u,showInfo:d,clearAllToasts:a},children:[e,s.jsx("div",{className:"fixed top-4 right-4 z-50 flex flex-col gap-2 max-w-md",children:t.map(f=>s.jsxs("div",{className:h(f.type),children:[s.jsx("span",{className:"text-xl font-bold",children:g(f.type)}),s.jsx("div",{className:"flex-1",children:s.jsx("p",{className:"text-sm font-medium",children:f.message})}),s.jsx("button",{onClick:()=>n(f.id),className:"text-current opacity-50 hover:opacity-100 transition-opacity",children:""})]},f.id))}),s.jsx("style",{children:`
        @keyframes slide-in {
          from {
            transform: translateX(100%);
            opacity: 0;
          }
          to {
            transform: translateX(0);
            opacity: 1;
          }
        }
        .animate-slide-in {
          animation: slide-in 0.3s ease-out;
        }
      `})]})};function a3(e){const t=[],r=e.split(`
`);let n={};for(const a of r)if(a.startsWith("event:"))n.event=a.substring(6).trim();else if(a.startsWith("data:"))n.data=a.substring(5).trim();else if(a===""&&n.event&&n.data){try{const i=JSON.parse(n.data);t.push({event:n.event,data:i})}catch(i){console.error("Failed to parse SSE data:",n.data,i)}n={}}return t}async function T6(e,t,r,n){if(!e.body)throw new Error("Response body is null");const a=e.body.getReader(),i=new TextDecoder;let o="";try{for(;;){const{done:l,value:u}=await a.read();if(l){o.trim()&&a3(o).forEach(g=>t(g.event,g.data)),r&&r();break}o+=i.decode(u,{stream:!0});const d=o.split(`

`);o=d.pop()||"";for(const h of d)h.trim()&&a3(h+`

`).forEach(f=>t(f.event,f.data))}}catch(l){console.error("SSE stream error:",l),n&&n(l instanceof Error?l:new Error("Stream error"))}}async function w6(e,t,r,n,a,i=3,o=1e3,l){const d={"Content-Type":"application/json",Authorization:`Bearer ${r.trim().replace(/[\r\n]/g,"")}`,Accept:"text/event-stream"};l&&(d["X-Request-Id"]=l,console.log(" Using request ID for log grouping:",l)),a&&(d["X-YouTube-Token"]=a);const h=["google_access_token","gapi_access_token","google_drive_access_token"];let g=null,f="none";for(const T of h){const w=localStorage.getItem(T);if(w){g=w.trim().replace(/[\r\n]/g,""),f=T;break}}const b=localStorage.getItem("google_refresh_token");console.log(" Drive token check:",{hasDriveToken:!!g,hasRefreshToken:!!b,tokenLength:g?.length||0,source:f,availableKeys:h.filter(T=>!!localStorage.getItem(T))}),g?(d["X-Google-Access-Token"]=g,console.log(` Including Drive access token for Google Sheets operations (source: ${f})`)):(console.log(" No Drive access token available - snippet management will not work"),console.log("   Checked keys:",h)),b&&(d["X-Google-Refresh-Token"]=b.trim().replace(/[\r\n]/g,""),console.log(" Including Google refresh token for automatic token refresh"));let x=null;for(let T=0;T<i;T++)try{console.log(` SSE Request attempt ${T+1}/${i}:`,{url:e,method:"POST",hasToken:!!r,hasYoutubeToken:!!a,bodyKeys:t?Object.keys(t):[]});const w=await fetch(e,{method:"POST",headers:d,body:JSON.stringify(t),signal:n});if(console.log(" SSE Response received:",{status:w.status,statusText:w.statusText,ok:w.ok,headers:Object.fromEntries(w.headers.entries())}),!w.ok){if(w.status===429&&T<i-1){const N=w.headers.get("Retry-After");let R;if(N){const D=parseInt(N);if(!isNaN(D))R=D*1e3;else{const L=new Date(N);isNaN(L.getTime())?R=o*Math.pow(2,T):R=Math.max(0,L.getTime()-Date.now())}}else R=o*Math.pow(2,T);console.warn(` Rate limited (429), retrying in ${(R/1e3).toFixed(1)}s... (attempt ${T+1}/${i})`),await new Promise(D=>setTimeout(D,R));continue}throw new Error(`Request failed: ${w.status} ${w.statusText}`)}return w}catch(w){if(x=w,console.error(` SSE Request failed (attempt ${T+1}/${i}):`,{error:w instanceof Error?w.message:String(w),errorName:w instanceof Error?w.name:"Unknown",stack:w instanceof Error?w.stack:void 0,url:e,attempt:T+1,maxRetries:i}),n?.aborted)throw console.log(" Request aborted by user"),new Error("Request aborted by user");if(T>=i-1){console.error(" Max retries reached, giving up");break}const N=o*Math.pow(2,T);console.warn(` Request failed, retrying in ${(N/1e3).toFixed(1)}s... (attempt ${T+1}/${i})`,w),await new Promise(R=>setTimeout(R,N))}const E=e.includes("localhost")||e.includes("127.0.0.1"),v=x?.message||"Unknown error";throw E&&(v.includes("fetch")||v.includes("ECONNREFUSED")||v.includes("NetworkError"))?new Error(" Dev server not running. Please start your dev server with `make dev` or `npm run dev`"):v.includes("fetch")||v.includes("NetworkError")?new Error(" Lambda API error: Cannot connect to server. Please check your internet connection or try again later."):x||new Error(`Request failed after ${i} attempts`)}const O1="https://nrw7pperjjdswbmqgmigbwsbyi0rwdqf.lambda-url.us-east-1.on.aws";console.log(" API Module Loading - Version: 2024-10-22-DYNAMIC-HOSTNAME");function Iw(){const e=window.location.protocol,t=window.location.hostname,r="3000";console.log(" getLocalLambdaUrl() called:",{protocol:e,hostname:t,port:r});const n=`${e}//${t}:${r}`;return console.log(" getLocalLambdaUrl() returning:",n),n}console.log(" API Configuration:",{hostname:window.location.hostname,remote:O1,local:Iw(),source:"fallback"});async function VQ(){const e=Iw();try{console.log(` Checking if local Lambda is available at: ${e}`);const t=new AbortController,r=setTimeout(()=>t.abort(),500),n=await fetch(e,{method:"OPTIONS",signal:t.signal});clearTimeout(r);const a=n.status!==void 0;return console.log(`${a?"":""} Local Lambda ${a?"available":"not available"} at ${e}`),a}catch(t){return console.log(` Local Lambda not available at ${e}:`,t instanceof Error?t.message:"Unknown error"),!1}}async function KQ(){if(await VQ()){const t=Iw();return console.log(" Using local Lambda server at",t),t}return console.log(" Local Lambda not available, using remote:",O1),O1}let ug=null,dg=null,jh=null;async function ta(){return jh&&jh!==window.location.hostname&&(console.log(` Hostname changed from ${jh} to ${window.location.hostname}, clearing API cache`),ug=null,dg=null,jh=null),ug||(dg||(jh=window.location.hostname,dg=KQ().then(e=>(ug=e,e))),dg)}function k6(){ug=null,dg=null,console.log(" API base cache reset")}const M1=async(e,t,r,n,a,i,o,l)=>{const u=await ta(),d=r.filter(b=>b.enabled!==!1),h={};d.forEach(b=>{const{type:x,enabled:E,...v}=b;h[x]=v});const g={query:e,providers:h};l?.temperature!==void 0&&(g.temperature=l.temperature),l?.maxTokens!==void 0&&(g.max_tokens=l.maxTokens),l?.reasoningDepth!==void 0&&(g.reasoning_depth=l.reasoningDepth),l?.clarificationAnswers&&(g.clarificationAnswers=l.clarificationAnswers),l?.previousContext&&(g.previousContext=l.previousContext),l?.forcePlan&&(g.forcePlan=!0),l?.language&&(g.language=l.language);const f=await w6(`${u}/planning`,g,t,l?.signal);await T6(f,a,i,o)},P1=async(e,t,r,n,a,i,o,l)=>{const u=await ta(),d=await w6(`${u}/chat`,e,t,i,o,3,1e3,l);await T6(d,r,n,a)},C6=async(e,t,r,n,a,i,o,l,u)=>{const d=await ta(),h={prompt:e,provider:t,model:r,modelKey:n,size:a,quality:i,style:o,accessToken:l,...u||{}};try{const g=await fetch(`${d}/generate-image`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(h),credentials:"include"}),f=await g.json();return g.ok?f:{success:!1,error:f.error||`HTTP ${g.status}: ${g.statusText}`}}catch(g){return console.error("Image generation request failed:",g),{success:!1,error:g.message||"Failed to generate image"}}},_6=async(e,t)=>{const r=await ta();try{const n=await fetch(`${r}/paypal/create-order`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify({amount:e}),credentials:"include"}),a=await n.json();return n.ok?{success:!0,orderId:a.orderId}:{success:!1,error:a.error||`HTTP ${n.status}: ${n.statusText}`}}catch(n){return console.error("PayPal order creation failed:",n),{success:!1,error:n.message||"Failed to create PayPal order"}}},A6=async(e,t)=>{const r=await ta();try{const n=await fetch(`${r}/paypal/capture-order`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify({orderId:e}),credentials:"include"}),a=await n.json();return n.ok?{success:!0,creditsAdded:a.creditsAdded,newBalance:a.newBalance}:{success:!1,error:a.error||`HTTP ${n.status}: ${n.statusText}`}}catch(n){return console.error("PayPal order capture failed:",n),{success:!1,error:n.message||"Failed to capture PayPal order"}}},N6=async(e,t,r,n)=>{const a=await ta(),i=await fetch(`${a}/quiz/generate`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${n}`},body:JSON.stringify({content:e,enrichment:t,providers:r}),credentials:"include"});if(!i.ok){const o=await i.json().catch(()=>({error:"Unknown error"}));throw new Error(o.error||`HTTP ${i.status}: ${i.statusText}`)}return await i.json()},QQ=Object.freeze(Object.defineProperty({__proto__:null,capturePayPalOrder:A6,createPayPalOrder:_6,generateImage:C6,generatePlan:M1,generateQuiz:N6,getCachedApiBase:ta,resetApiBase:k6,sendChatMessageStreaming:P1},Symbol.toStringTag,{value:"Module"}));class XQ{config=null;status={inProgress:!1,lastSync:null,lastError:null,pendingChanges:0,conflictsResolved:0};syncQueue=[];syncInterval=null;apiUrl=null;eventCallbacks={onStart:[],onComplete:[],onError:[]};constructor(){this.initializeApiUrl(),this.initializeDeviceId(),this.loadQueueFromStorage()}async initializeApiUrl(){this.apiUrl=await ta()}async getApiUrl(){return this.apiUrl?this.apiUrl:(await this.initializeApiUrl(),this.apiUrl)}initializeDeviceId(){let t=localStorage.getItem("rag_device_id");t||(t=`device-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,localStorage.setItem("rag_device_id",t))}getDeviceId(){return localStorage.getItem("rag_device_id")||"unknown"}async initialize(t){this.config={...t,deviceId:this.getDeviceId()},localStorage.setItem("rag_sync_config",JSON.stringify(this.config)),console.log(" RAG Sync Service initialized:",this.config),t.autoSync&&this.startAutoSync()}getStatus(){return{...this.status}}async pushSnippets(t,r){if(!this.config)throw new Error("Sync service not initialized");try{console.log(` Pushing ${t.length} snippets to Sheets...`);const n=await this.getApiUrl(),a=await fetch(`${n}/rag/sync`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({operation:"push-snippets",userEmail:r,deviceId:this.config.deviceId,data:t})});if(!a.ok){const o=await a.json();throw new Error(o.error||"Failed to push snippets")}const i=await a.json();console.log(` Pushed ${i.count||t.length} snippets`)}catch(n){throw console.error(" Error pushing snippets:",n),n}}async pullSnippets(t){if(!this.config)throw new Error("Sync service not initialized");try{console.log(" Pulling snippets from Sheets...");const r=await this.getApiUrl(),n=await fetch(`${r}/rag/sync`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({operation:"pull-snippets",userEmail:t,deviceId:this.config.deviceId})});if(!n.ok){const o=await n.json();throw new Error(o.error||"Failed to pull snippets")}const i=(await n.json()).snippets||[];return console.log(` Pulled ${i.length} snippets`),i}catch(r){throw console.error(" Error pulling snippets:",r),r}}async fullSync(t,r){if(!this.config)throw new Error("Sync service not initialized");this.status.inProgress=!0,this.notifyStart();const n={snippetsPushed:0,snippetsPulled:0,embeddingsPushed:0,embeddingsPulled:0,conflicts:0,errors:[]};try{console.log(" Starting full sync...");const a=await this.pullSnippets(t),{toUpload:i,toDownload:o,conflicts:l}=this.mergeSnippets(r,a);return n.conflicts=l.length,this.status.conflictsResolved+=l.length,i.length>0&&(await this.pushSnippets(i,t),n.snippetsPushed=i.length),n.snippetsPulled=o.length,this.status.lastSync=Date.now(),this.status.lastError=null,localStorage.setItem("rag_last_sync",this.status.lastSync.toString()),console.log(" Full sync complete:",n),this.notifyComplete(n),n}catch(a){throw console.error(" Full sync failed:",a),this.status.lastError=a.message,n.errors.push(a.message),this.notifyError(a),a}finally{this.status.inProgress=!1}}mergeSnippets(t,r){const n=new Map(t.map(u=>[u.id,u])),a=new Map(r.map(u=>[u.id,u])),i=[],o=[],l=[];for(const u of t){const d=a.get(u.id);if(!d)i.push(u);else{const h=u.updateDate||u.timestamp,g=d.updateDate||d.timestamp;h>g?i.push(u):g>h&&o.push(d)}}for(const u of r)n.has(u.id)||o.push(u);return console.log(` Merge result: ${i.length} to upload, ${o.length} to download, ${l.length} conflicts`),{toUpload:i,toDownload:o,conflicts:l}}queueSync(t){const r={...t,timestamp:Date.now()};this.syncQueue.push(r),this.status.pendingChanges=this.syncQueue.length,this.saveQueueToStorage(),console.log(` Queued ${t.type} operation (${this.syncQueue.length} pending)`),this.config?.autoSync&&!this.status.inProgress&&setTimeout(()=>{this.syncQueue.length>0&&!this.status.inProgress&&this.processSyncQueue().catch(console.error)},2e3)}async processSyncQueue(){if(!(!this.config||this.syncQueue.length===0)){console.log(` Processing ${this.syncQueue.length} queued operations...`),this.status.inProgress=!0;try{const t=this.syncQueue.filter(r=>r.type==="push-snippet");if(t.length>0){const r=t.map(a=>a.data),n=t[0].userEmail;await this.pushSnippets(r,n),this.syncQueue=this.syncQueue.filter(a=>a.type!=="push-snippet")}this.status.pendingChanges=this.syncQueue.length,this.saveQueueToStorage(),console.log(` Queue processed, ${this.syncQueue.length} remaining`)}catch(t){console.error(" Error processing queue:",t)}finally{this.status.inProgress=!1}}}startAutoSync(){if(!this.syncInterval){if(!this.config){console.warn("Cannot start auto-sync: service not initialized");return}console.log(` Starting auto-sync (interval: ${this.config.syncInterval}ms)`),this.syncInterval=setInterval(()=>{!this.status.inProgress&&this.syncQueue.length>0&&this.processSyncQueue().catch(console.error)},this.config.syncInterval)}}stopAutoSync(){this.syncInterval&&(clearInterval(this.syncInterval),this.syncInterval=null,console.log(" Auto-sync stopped"))}saveQueueToStorage(){try{localStorage.setItem("rag_sync_queue",JSON.stringify(this.syncQueue))}catch(t){console.error("Failed to save sync queue:",t)}}loadQueueFromStorage(){try{const t=localStorage.getItem("rag_sync_queue");t&&(this.syncQueue=JSON.parse(t),this.status.pendingChanges=this.syncQueue.length,console.log(` Loaded ${this.syncQueue.length} queued operations from storage`))}catch(t){console.error("Failed to load sync queue:",t)}}async pushEmbeddings(t,r){if(!this.config||!this.config.enabled)throw new Error("Sync service not initialized");try{const n=localStorage.getItem("rag_spreadsheet_id");if(!n)throw new Error("No spreadsheet ID found. User may not be logged in.");let a=localStorage.getItem("authToken")||localStorage.getItem("google_access_token");if(!a)throw new Error("Not authenticated");const i=100,o=Math.ceil(t.length/i);for(let l=0;l<o;l++){const u=t.slice(l*i,(l+1)*i);r&&r(Math.min((l+1)*i,t.length),t.length);const d=await this.getApiUrl(),h=await fetch(`${d}/rag/sync-embeddings`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`},body:JSON.stringify({operation:"push",spreadsheetId:n,chunks:u})});if(!h.ok)throw new Error(`Failed to push embeddings: ${h.status}`)}console.log(` Pushed ${t.length} chunks to Google Sheets`)}catch(n){throw console.error("Failed to push embeddings:",n),n}}async pullEmbeddings(t){if(!this.config||!this.config.enabled)throw new Error("Sync service not initialized");try{const r=localStorage.getItem("rag_spreadsheet_id");if(!r)throw new Error("No spreadsheet ID found. User may not be logged in.");let n=localStorage.getItem("authToken")||localStorage.getItem("google_access_token");if(!n)throw new Error("Not authenticated");const a=await this.getApiUrl(),i=await fetch(`${a}/rag/sync-embeddings`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${n}`},body:JSON.stringify({operation:"pull",spreadsheetId:r,snippetIds:t})});if(!i.ok)throw new Error(`Failed to pull embeddings: ${i.status}`);const{chunks:o}=await i.json();return console.log(` Pulled ${o?.length||0} chunks from Google Sheets`),o||[]}catch(r){throw console.error("Failed to pull embeddings:",r),r}}onSyncStart(t){this.eventCallbacks.onStart.push(t)}onSyncComplete(t){this.eventCallbacks.onComplete.push(t)}onSyncError(t){this.eventCallbacks.onError.push(t)}notifyStart(){this.eventCallbacks.onStart.forEach(t=>t())}notifyComplete(t){this.eventCallbacks.onComplete.forEach(r=>r(t))}notifyError(t){this.eventCallbacks.onError.forEach(r=>r(void 0,t))}clear(){this.syncQueue=[],this.status={inProgress:!1,lastSync:null,lastError:null,pendingChanges:0,conflictsResolved:0},localStorage.removeItem("rag_sync_queue"),localStorage.removeItem("rag_last_sync"),console.log(" Sync service cleared")}}const os=new XQ;let ZQ=null;function JQ(){return ZQ!==null}async function I6(e){throw new Error("Google Identity Services not initialized. Call initGoogleIdentity() first.")}async function eX(e,t){const r=await I6(),n=`https://sheets.googleapis.com/v4/spreadsheets/${e}/values/${encodeURIComponent(t)}`,a=await fetch(n,{method:"GET",headers:{Authorization:`Bearer ${r}`}});if(!a.ok){const o=await a.text();throw new Error(`Sheets API error: ${a.status} ${a.statusText}. ${o}`)}return(await a.json()).values||[]}function xi(e,t){const[r,n]=C.useState(()=>{try{const i=window.localStorage.getItem(e);return i?JSON.parse(i):t}catch(i){return console.error(`Error loading localStorage key "${e}":`,i),t}});return[r,i=>{try{n(o=>{const l=i instanceof Function?i(o):i;try{window.localStorage.setItem(e,JSON.stringify(l))}catch(u){if(u?.name==="QuotaExceededError"){console.warn(`localStorage quota exceeded for key "${e}". Attempting cleanup...`);try{const d=tX("chat_history_");if(d.length>5){const h=d.sort().slice(0,d.length-5);h.forEach(g=>window.localStorage.removeItem(g)),console.log(`Removed ${h.length} old chat history items`)}window.localStorage.setItem(e,JSON.stringify(l)),console.log("Successfully saved after cleanup")}catch(d){if(console.error("Failed to save even after cleanup:",d),e==="app_settings"){const h={version:l.version,providers:[],tavilyApiKey:""};window.localStorage.setItem(e,JSON.stringify(h)),console.warn("Saved minimal settings due to quota")}}}else throw u}return l})}catch(o){console.error(`Error saving localStorage key "${e}":`,o)}}]}function tX(e){try{return Object.keys(localStorage).filter(t=>t.startsWith(e))}catch(t){return console.error("Error getting localStorage keys:",t),[]}}const R6={groq:"https://api.groq.com/openai/v1",openai:"https://api.openai.com/v1",gemini:"https://generativelanguage.googleapis.com/v1beta",together:"https://api.together.xyz/v1",replicate:"https://api.replicate.com/v1",atlascloud:"https://api.atlascloud.ai/v1"},j1={groq:{name:"Groq",icon:"",description:"Fast inference with LLaMA and Mixtral models"},openai:{name:"OpenAI",icon:"",description:"GPT-4, GPT-4o, and other OpenAI models"},gemini:{name:"Google Gemini",icon:"",description:"Google's Gemini models"},together:{name:"Together AI",icon:"",description:"Open source models including FLUX image generation"},replicate:{name:"Replicate",icon:"",description:"Run ML models via API"},atlascloud:{name:"Atlas Cloud",icon:"",description:"API marketplace for various LLM models"},"openai-compatible":{name:"OpenAI Compatible (Custom)",icon:"",description:"Custom endpoint with OpenAI-compatible API"}},rX=void 0,nX="https://www.googleapis.com/auth/drive.file";let s3=null,Mo=null;const D6="google_access_token";Mo=localStorage.getItem(D6);const L6=()=>new Promise((e,t)=>{console.log(" Initializing Google Auth..."),console.log(" Client ID configured:","NO"),console.log(" Client ID value:","MISSING");{const r="Google Client ID not configured. Please set VITE_GOOGLE_CLIENT_ID in ui-new/.env";console.error("",r),t(new Error(r));return}}),Pa=async()=>{if(console.log(" Requesting Google Auth..."),console.log(" Current token:",Mo?Mo.substring(0,20)+"...":"NONE"),Mo){console.log(" Validating existing token...");try{if((await fetch("https://www.googleapis.com/drive/v3/about?fields=user",{headers:{Authorization:"Bearer "+Mo}})).ok)return console.log(" Token is still valid"),Mo;console.warn(" Token invalid, clearing..."),Mo=null}catch(e){console.error(" Token validation failed:",e),Mo=null}}return console.log(" Token client not initialized, initializing..."),await L6(),new Promise((e,t)=>{try{console.log(" Setting up token callback..."),s3.callback=r=>{if(console.log(" Token callback triggered:",{hasToken:!!r.access_token,error:r.error,errorDescription:r.error_description}),r.error){const n="Authentication failed: "+r.error+(r.error_description?" - "+r.error_description:"")+". Please grant permissions and try again.";console.error("",n),t(new Error(n));return}r.access_token?(Mo=r.access_token,localStorage.setItem(D6,r.access_token),console.log(" New access token received and stored:",r.access_token.substring(0,20)+"..."),e(r.access_token)):(console.error(" No access token in response"),t(new Error("No access token received. Please grant permissions and try again.")))},console.log(" Requesting access token from Google..."),console.log(" Scopes requested:",nX),console.log(" Using Client ID:",rX?.substring(0,30)+"..."),console.log(" Current origin:",window.location.origin),s3.requestAccessToken({prompt:""}),console.log(" Waiting for user to grant permissions...")}catch(r){console.error(" Failed to request access token:",r),t(new Error("Failed to request access token. Please grant permissions and try again."))}})},aX=async()=>{console.log(" Listing Google Docs...");const e=await Pa();console.log(" Using token:",e.substring(0,20)+"...");const t="mimeType='application/vnd.google-apps.document' and trashed=false and properties has { key='createdByApp' and value='LambdaLLMProxy-Swag' }";console.log(" Query:",t),console.log(" Making API request to Google Drive...");const r=await fetch("https://www.googleapis.com/drive/v3/files?q="+encodeURIComponent(t)+"&fields=files(id,name,modifiedTime,properties,description)&orderBy=modifiedTime desc",{headers:{Authorization:"Bearer "+e}});if(console.log(" Response status:",r.status,r.statusText),!r.ok){const i=await r.json().catch(()=>({}));console.error(" API Error:",i);const l="Failed to list documents: "+(i.error?.message||r.statusText)+". Please grant permissions and try again.";throw console.error("",l),new Error(l)}const n=await r.json();console.log(" Documents retrieved:",n.files?.length||0);const a=n.files.filter(i=>i.properties?.createdByApp==="LambdaLLMProxy-Swag"||i.description?.includes("Created by LLM Proxy Swag feature"));return console.log(" App-created documents:",a.length),a.map(i=>({id:i.id,name:i.name,modifiedTime:i.modifiedTime}))},sX=async(e,t)=>{console.log(" Appending to Google Doc:",e);const r=await Pa();console.log(" Using token:",r.substring(0,20)+"..."),console.log(" Getting document details...");const n=await fetch("https://docs.googleapis.com/v1/documents/"+e,{headers:{Authorization:"Bearer "+r}});if(!n.ok){const l=await n.json().catch(()=>({}));console.error(" API Error:",l);const d="Failed to get document: "+(l.error?.message||n.statusText)+". Please grant permissions and try again.";throw console.error("",d),new Error(d)}const a=await n.json(),i=a.body.content[a.body.content.length-1].endIndex-1;console.log(" End index:",i),console.log(" Appending content...");const o=await fetch("https://docs.googleapis.com/v1/documents/"+e+":batchUpdate",{method:"POST",headers:{Authorization:"Bearer "+r,"Content-Type":"application/json"},body:JSON.stringify({requests:[{insertText:{location:{index:i},text:`

`+t+`
`}}]})});if(!o.ok){const l=await o.json().catch(()=>({}));console.error(" API Error:",l);const d="Failed to append to document: "+(l.error?.message||o.statusText)+". Please grant permissions and try again.";throw console.error("",d),new Error(d)}console.log(" Content appended successfully")},F1=()=>!!Mo,i3="Research Agent",O6="Research Agent Settings",Rw=async()=>{console.log(" Finding or creating Research Agent folder...");const e=await Pa(),t=`mimeType='application/vnd.google-apps.folder' and name='${i3}' and trashed=false`;console.log(" Searching for folder:",t);const r=await fetch("https://www.googleapis.com/drive/v3/files?q="+encodeURIComponent(t)+"&fields=files(id,name)",{headers:{Authorization:"Bearer "+e}});if(!r.ok){const o=await r.json().catch(()=>({}));throw new Error("Failed to search for folder: "+(o.error?.message||r.statusText))}const n=await r.json();if(n.files&&n.files.length>0){const o=n.files[0].id;return console.log(" Found existing folder:",o),o}console.log(" Creating new folder...");const a=await fetch("https://www.googleapis.com/drive/v3/files",{method:"POST",headers:{Authorization:"Bearer "+e,"Content-Type":"application/json"},body:JSON.stringify({name:i3,mimeType:"application/vnd.google-apps.folder",description:"Storage for Research Agent settings and snippets"})});if(!a.ok){const o=await a.json().catch(()=>({}));throw new Error("Failed to create folder: "+(o.error?.message||a.statusText))}const i=await a.json();return console.log(" Created new folder:",i.id),i.id},M6=async e=>{console.log(" Searching for settings file in folder:",e);const t=await Pa(),r=`name='${O6}' and '${e}' in parents and trashed=false`;console.log(" Query:",r);const n=await fetch("https://www.googleapis.com/drive/v3/files?q="+encodeURIComponent(r)+"&fields=files(id,name)",{headers:{Authorization:"Bearer "+t}});if(!n.ok){const i=await n.json().catch(()=>({}));throw new Error("Failed to search for settings file: "+(i.error?.message||n.statusText))}const a=await n.json();return a.files&&a.files.length>0?(console.log(" Found settings file:",a.files[0].id),a.files[0].id):(console.log("  No settings file found"),null)},iX=async(e,t)=>{console.log(" Creating settings file in folder:",e);const r=await Pa(),n="-------314159265358979323846",a=`\r
--`+n+`\r
`,i=`\r
--`+n+"--",o={name:O6,mimeType:"text/plain",parents:[e],description:"Research Agent Settings - Contains API keys and provider configuration"},l=a+`Content-Type: application/json; charset=UTF-8\r
\r
`+JSON.stringify(o)+a+`Content-Type: text/plain\r
\r
`+t+i,u=await fetch("https://www.googleapis.com/upload/drive/v3/files?uploadType=multipart",{method:"POST",headers:{Authorization:"Bearer "+r,"Content-Type":"multipart/related; boundary="+n},body:l});if(!u.ok){const h=await u.json().catch(()=>({}));throw new Error("Failed to create settings file: "+(h.error?.message||u.statusText))}const d=await u.json();return console.log(" Settings file created:",d.id),d.id},oX=async(e,t)=>{console.log(" Updating settings file:",e);const r=await Pa(),n=await fetch("https://www.googleapis.com/upload/drive/v3/files/"+e+"?uploadType=media",{method:"PATCH",headers:{Authorization:"Bearer "+r,"Content-Type":"text/plain"},body:t});if(!n.ok){const a=await n.json().catch(()=>({}));throw new Error("Failed to update settings file: "+(a.error?.message||n.statusText))}console.log(" Settings file updated")},o3=async()=>{try{console.log(" Loading settings from Google Drive...");const e=await Rw(),t=await M6(e);if(!t)return console.log("  No settings file found in Google Drive"),null;const r=await Pa(),n=await fetch("https://www.googleapis.com/drive/v3/files/"+t+"?alt=media",{headers:{Authorization:"Bearer "+r}});if(!n.ok)throw new Error("Failed to download settings: "+n.statusText);const a=await n.text();return console.log(" Settings loaded from Google Drive"),a}catch(e){throw console.error(" Failed to load settings from Google Drive:",e),e}},l3=async e=>{try{console.log(" Saving settings to Google Drive...");const t=await Rw(),r=await M6(t);r?await oX(r,e):await iX(t,e),console.log(" Settings saved to Google Drive")}catch(t){throw console.error(" Failed to save settings to Google Drive:",t),t}},lX=async e=>{console.log(" Creating Google Doc in Research Agent folder:",e);const t=await Pa(),r=await Rw();console.log(" Making API request to Google Docs...");const n=await fetch("https://docs.googleapis.com/v1/documents",{method:"POST",headers:{Authorization:"Bearer "+t,"Content-Type":"application/json"},body:JSON.stringify({title:e})});if(console.log(" Response status:",n.status,n.statusText),!n.ok){const u="Failed to create document: "+((await n.json().catch(()=>({}))).error?.message||n.statusText)+". Please grant permissions and try again.";throw console.error("",u),new Error(u)}const i=(await n.json()).documentId;try{console.log(" Moving document to Research Agent folder..."),(await fetch(`https://www.googleapis.com/drive/v3/files/${i}?addParents=${r}&fields=id,parents`,{method:"PATCH",headers:{Authorization:"Bearer "+t}})).ok?console.log(" Document moved to folder"):console.warn(" Could not move document to folder (document still created)")}catch(o){console.warn(" Could not move document to folder:",o)}try{console.log("  Adding app metadata to document..."),(await fetch(`https://www.googleapis.com/drive/v3/files/${i}?fields=id`,{method:"PATCH",headers:{Authorization:"Bearer "+t,"Content-Type":"application/json"},body:JSON.stringify({properties:{createdByApp:"LambdaLLMProxy-Swag",appVersion:"1.0"},description:"Created by LLM Proxy Swag feature"})})).ok?console.log(" Metadata added successfully"):console.warn(" Could not add metadata (document still created)")}catch(o){console.warn(" Could not add metadata:",o)}return{id:i,name:e,modifiedTime:new Date().toISOString()}},P6=C.createContext(void 0);function cX(e){if(e.version==="2.0.0")return e;const t=[];if(e.provider&&e.llmApiKey){const r=e.provider==="groq"?"groq":"openai";t.push({id:crypto.randomUUID(),type:r,apiEndpoint:R6[r],apiKey:e.llmApiKey})}return{version:"2.0.0",providers:t,tavilyApiKey:e.tavilyApiKey||""}}const uX=({children:e})=>{const[t,r]=xi("app_settings",{version:"2.0.0",providers:[],tavilyApiKey:"",syncToGoogleDrive:!0,language:"en"}),[n,a]=C.useState(!1),i=cX(t);C.useEffect(()=>{t!==i&&r(i)},[t,i,r]),C.useEffect(()=>{(async()=>{if(F1()&&!n)try{a(!0),console.log(" Auto-loading settings from Google Drive...");const g=await o3();if(g){const f=JSON.parse(g);r(f),console.log(" Settings auto-loaded from Google Drive")}}catch(g){console.error(" Failed to auto-load settings from Google Drive:",g)}finally{a(!1)}})()},[]);const o=h=>{r(h),F1()&&l3(JSON.stringify(h,null,2)).catch(g=>{console.error(" Failed to auto-save settings to Google Drive:",g)})},l=async()=>{try{console.log(" Manually loading settings from Google Drive...");const h=await o3();if(h){const g=JSON.parse(h);r(g),console.log(" Settings loaded from Google Drive")}else throw new Error("No settings found in Google Drive")}catch(h){throw console.error(" Failed to load settings from Google Drive:",h),h}},u=async()=>{try{console.log(" Manually saving settings to Google Drive..."),await l3(JSON.stringify(i,null,2)),console.log(" Settings saved to Google Drive")}catch(h){throw console.error(" Failed to save settings to Google Drive:",h),h}},d=()=>{r({version:"2.0.0",providers:[],tavilyApiKey:"",syncToGoogleDrive:!1}),console.log("  Settings cleared")};return s.jsx(P6.Provider,{value:{settings:i,setSettings:o,loadFromGoogleDrive:l,saveToGoogleDrive:u,clearSettings:d},children:e})},mo=()=>{const e=C.useContext(P6);if(!e)throw new Error("useSettings must be used within a SettingsProvider");return e},c3="rag_embeddings",dX=2,Ys="chunks",Ao="metadata",_d="search_cache";class pX{db=null;initPromise=null;async resetDatabase(){console.log(" Deleting and recreating RAG database..."),this.db&&(this.db.close(),this.db=null),this.initPromise=null,await new Promise((t,r)=>{const n=indexedDB.deleteDatabase(c3);n.onsuccess=()=>{console.log(" Database deleted successfully"),t()},n.onerror=()=>{console.error(" Failed to delete database:",n.error),r(n.error)},n.onblocked=()=>{console.warn(" Database deletion blocked - close all tabs using this database")}}),await this.init(),console.log(" Database recreated successfully")}async init(){return this.initPromise?this.initPromise:(this.initPromise=new Promise((t,r)=>{if(!window.indexedDB){console.warn("IndexedDB not supported"),r(new Error("IndexedDB not supported"));return}const n=indexedDB.open(c3,dX);n.onerror=()=>{console.error("RAG IndexedDB error:",n.error),r(n.error)},n.onsuccess=()=>{this.db=n.result,console.log("RAG IndexedDB initialized"),t()},n.onupgradeneeded=a=>{const i=a.target.result,o=a.oldVersion;if(!i.objectStoreNames.contains(Ys)){const l=i.createObjectStore(Ys,{keyPath:"id"});l.createIndex("snippet_id","snippet_id",{unique:!1}),l.createIndex("created_at","created_at",{unique:!1})}i.objectStoreNames.contains(Ao)||i.createObjectStore(Ao,{keyPath:"snippet_id"}),o<2&&!i.objectStoreNames.contains(_d)&&i.createObjectStore(_d,{keyPath:"query"}).createIndex("created_at","created_at",{unique:!1})}}),this.initPromise)}async hasEmbedding(t){return await this.init(),this.db?new Promise((r,n)=>{const l=this.db.transaction([Ys],"readonly").objectStore(Ys).index("snippet_id").count(IDBKeyRange.only(t));l.onsuccess=()=>{r(l.result>0)},l.onerror=()=>{console.error("Error checking embedding:",l.error),n(l.error)}}):!1}async getEmbeddingDetails(t){return await this.init(),this.db?new Promise((r,n)=>{const a=this.db.transaction([Ys,Ao],"readonly"),l=a.objectStore(Ys).index("snippet_id").getAll(IDBKeyRange.only(t)),d=a.objectStore(Ao).get(t);a.oncomplete=()=>{const h=l.result,g=d.result;r({hasEmbedding:h.length>0,chunkCount:h.length,chunks:h.sort((f,b)=>f.chunk_index-b.chunk_index),metadata:g})},a.onerror=()=>{console.error("Error getting embedding details:",a.error),n(a.error)}}):{hasEmbedding:!1,chunkCount:0,chunks:[]}}async bulkCheckEmbeddings(t){if(await this.init(),!this.db)return{};const r={};for(const n of t)try{r[n]=await this.hasEmbedding(n)}catch(a){console.error(`Error checking embedding for ${n}:`,a),r[n]=!1}return r}async saveChunks(t,r){if(await this.init(),!this.db)throw new Error("Database not initialized");return console.log(" saveChunks called with:",{chunkCount:t.length,firstChunk:t[0],firstChunkKeys:t[0]?Object.keys(t[0]):[],hasId:t[0]?.id!==void 0,idValue:t[0]?.id,idType:typeof t[0]?.id,chunkStringified:JSON.stringify(t[0],null,2)}),new Promise(async(n,a)=>{const i=t[0]?.snippet_id||r?.snippet_id;if(i)try{console.log(` Deleting old chunks for snippet: ${i}`),await this.deleteChunks(i),console.log(" Deleted old chunks for snippet")}catch(u){console.warn(" Failed to delete old chunks:",u)}const o=this.db.transaction([Ys,Ao],"readwrite"),l=o.objectStore(Ys);console.log(" IndexedDB Store Info:",{storeName:l.name,keyPath:l.keyPath,autoIncrement:l.autoIncrement,indexNames:Array.from(l.indexNames)});for(let u=0;u<t.length;u++){const d=t[u];try{const h=d.snippet_id||r?.snippet_id||"unknown",g=d.chunk_index??u,f=d.id||`${h}_chunk_${g}`;if(!f||f==="undefined_chunk_0"||f==="_chunk_0")throw console.error(" Invalid chunk ID generated:",{chunkId:f,snippetId:h,chunkIndex:g,chunk:d}),new Error(`Invalid chunk ID: ${f}`);const b=Array.isArray(d.embedding)?[...d.embedding]:Array.from(d.embedding||[]),x={id:f,snippet_id:h,chunk_text:d.chunk_text||"",embedding:b,chunk_index:g,embedding_model:d.embedding_model||"text-embedding-3-small",created_at:d.created_at||new Date().toISOString()};if(!x.id)throw new Error(`Chunk missing id property after normalization: ${JSON.stringify(Object.keys(x))}`);const E=x.id;if(!E)throw new Error(`Cannot access id property via bracket notation: ${E}`);const v=Object.getPrototypeOf(x);if(v!==Object.prototype)throw new Error(`Chunk has non-plain prototype: ${v?.constructor?.name}`);console.log(" Putting chunk:",{id:x.id,snippetId:x.snippet_id,chunkIndex:x.chunk_index,embeddingLength:x.embedding.length,embeddingType:x.embedding.constructor.name,allKeys:Object.keys(x),idDescriptor:Object.getOwnPropertyDescriptor(x,"id"),objectType:typeof x,prototypeChainDepth:(()=>{let N=0,R=x;for(;R&&N<10;)R=Object.getPrototypeOf(R),N++;return N})()});const T=JSON.stringify(x),w=JSON.parse(T);if(!w.id)throw new Error(`Chunk id lost during JSON serialization! Original: ${x.id}`);console.log(" Chunk survived JSON round-trip with id:",w.id),await new Promise((N,R)=>{const D=l.put(w);D.onsuccess=()=>{N()},D.onerror=()=>{console.error(" PUT request failed:",{chunk:x,error:D.error,errorName:D.error?.name,errorMessage:D.error?.message,chunkKeys:Object.keys(x),hasIdProperty:"id"in x,idValue:x.id}),R(D.error)}})}catch(h){throw console.error(" Error putting chunk:",{chunk:d,error:h}),h}}r&&o.objectStore(Ao).put(r),o.oncomplete=()=>{console.log(`Saved ${t.length} chunks to IndexedDB`),n()},o.onerror=()=>{console.error("Error saving chunks:",o.error),a(o.error)}})}async deleteChunks(t){if(await this.init(),!!this.db)return new Promise((r,n)=>{const a=this.db.transaction([Ys,Ao],"readwrite"),l=a.objectStore(Ys).index("snippet_id").openCursor(IDBKeyRange.only(t));l.onsuccess=d=>{const h=d.target.result;h&&(h.delete(),h.continue())},a.objectStore(Ao).delete(t),a.oncomplete=()=>{console.log(`Deleted chunks for snippet ${t}`),r()},a.onerror=()=>{console.error("Error deleting chunks:",a.error),n(a.error)}})}async getAllEmbeddedSnippetIds(){return await this.init(),this.db?new Promise((t,r)=>{const i=this.db.transaction([Ao],"readonly").objectStore(Ao).getAllKeys();i.onsuccess=()=>{t(i.result)},i.onerror=()=>{console.error("Error getting embedded snippet IDs:",i.error),r(i.error)}}):[]}async cacheQueryEmbedding(t,r,n){if(await this.init(),!!this.db)return new Promise((a,i)=>{const o=this.db.transaction([_d],"readwrite"),l=o.objectStore(_d),u={query:t,embedding:r,model:n,created_at:Date.now()};l.put(u),o.oncomplete=()=>{a()},o.onerror=()=>{console.error("Error caching query embedding:",o.error),i(o.error)}})}async getCachedQueryEmbedding(t){return await this.init(),this.db?new Promise((r,n)=>{const o=this.db.transaction([_d],"readonly").objectStore(_d).get(t);o.onsuccess=()=>{const l=o.result;r(l?{embedding:l.embedding,model:l.model}:null)},o.onerror=()=>{console.error("Error getting cached query:",o.error),n(o.error)}}):null}cosineSimilarity(t,r){if(t.length!==r.length)throw new Error("Vectors must have same length");let n=0,a=0,i=0;for(let o=0;o<t.length;o++)n+=t[o]*r[o],a+=t[o]*t[o],i+=r[o]*r[o];return n/(Math.sqrt(a)*Math.sqrt(i))}async vectorSearch(t,r=5,n=.5){return await this.init(),this.db?new Promise((a,i)=>{const u=this.db.transaction([Ys],"readonly").objectStore(Ys).getAll();u.onsuccess=()=>{const h=u.result.map(b=>({snippet_id:b.snippet_id,chunk_id:b.id,chunk_text:b.chunk_text,chunk_index:b.chunk_index,score:this.cosineSimilarity(t,b.embedding)})),g=[...h].sort((b,x)=>x.score-b.score);console.log(` Vector search - Top 10 scores (threshold: ${n}):`,g.slice(0,10).map(b=>({score:b.score.toFixed(4),snippet_id:b.snippet_id,chunk_preview:b.chunk_text.substring(0,100)+"..."})));const f=h.filter(b=>b.score>=n).sort((b,x)=>x.score-b.score).slice(0,r);console.log(` Returning ${f.length} results above threshold ${n}`),a(f)},u.onerror=()=>{console.error("Error performing vector search:",u.error),i(u.error)}}):[]}async getAllChunks(){return await this.init(),this.db?new Promise((t,r)=>{const i=this.db.transaction([Ys],"readonly").objectStore(Ys).getAll();i.onsuccess=()=>{t(i.result)},i.onerror=()=>{console.error("Error getting all chunks:",i.error),r(i.error)}}):[]}}const As=new pX,hX="Snippets";async function gX(e){try{const t=await fetch(`https://www.googleapis.com/drive/v3/files?q=name='${encodeURIComponent("Research Agent Swag")}' and mimeType='application/vnd.google-apps.spreadsheet' and trashed=false&fields=files(id,name)`,{headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}});if(!t.ok)throw new Error(`Drive API error: ${t.statusText}`);const n=(await t.json()).files||[];if(n.length===0)return console.warn(' "Research Agent Swag" spreadsheet not found'),null;const a=n[0].id;return console.log(` Found "Research Agent Swag" spreadsheet: ${a}`),a}catch(t){throw console.error(" Error finding snippets spreadsheet:",t),t}}function mX(e){if(!e||e.length<5)return null;const[t,r,n,a,i,o,l]=e;if(!t||t==="id"||!i)return null;const u=o?o.split(",").map(f=>f.trim()).filter(Boolean):[],d=r?new Date(r).getTime():Date.now(),h=n?new Date(n).getTime():d,g=l==="chat"||l==="assistant"?"assistant":l==="user"?"user":"tool";return{id:`sheet-${t}`,content:i||"",title:a||void 0,timestamp:d,updateDate:h,sourceType:g,selected:!1,tags:u,hasEmbedding:!1}}async function fX(e,t){try{const r=await gX(t);if(!r)throw new Error("Snippets spreadsheet not found");const n=await eX(r,`${hX}!A:H`);if(!n||n.length<2)return console.warn(" No snippets found in spreadsheet"),null;for(let a=1;a<n.length;a++){const i=n[a];if(parseInt(i[0],10)===e){const l=mX(i);if(l)return console.log(` Fetched snippet #${e} from Google Sheets:`,l.title),l}}return console.warn(` Snippet #${e} not found in Google Sheets`),null}catch(r){throw console.error(` Error fetching snippet #${e}:`,r),r}}const j6=C.createContext(void 0),_u=()=>{const e=C.useContext(j6);if(!e)throw new Error("useSwag must be used within SwagProvider");return e},bX=({children:e})=>{const[t,r]=C.useState([]),[n,a]=C.useState(!1),[i,o]=C.useState(null),[l,u]=C.useState(null),{showError:d,showWarning:h,showSuccess:g}=go(),{user:f,getToken:b}=Ps(),{settings:x}=mo();C.useEffect(()=>{(async()=>{try{const G=await iS.getItem("swag-snippets");G&&r(G),a(!0)}catch(G){console.error("Failed to load snippets:",G),d("Failed to load snippets from storage"),a(!0)}})()},[d]);const E=I=>I<1024?I+" B":I<1024*1024?(I/1024).toFixed(2)+" KB":(I/(1024*1024)).toFixed(2)+" MB";C.useEffect(()=>{if(!n)return;(async()=>{try{await iS.setItem("swag-snippets",t);const G=await iS.getStats();o({totalSize:G.totalSize,limit:G.limit,percentUsed:G.percentUsed}),G.percentUsed>80&&h(`Storage is ${G.percentUsed.toFixed(0)}% full. Consider deleting old snippets.`)}catch(G){if(G instanceof Qc)if(G.code==="QUOTA_EXCEEDED"){const F=G.estimatedSize&&G.limit?`Current size: ${E(G.estimatedSize)}, Limit: ${E(G.limit)}`:"";d(`Storage Quota Exceeded! ${G.message} ${F}`)}else d(`Storage error: ${G.message}`);else console.error("Failed to save snippets:",G),d("Failed to save snippets to storage")}})()},[t,n,d,h]);const v=()=>{try{const I=localStorage.getItem("google_drive_access_token");return!!I&&I.length>0}catch(I){console.error("Failed to check authentication:",I)}return!1},T=async()=>{try{const I=localStorage.getItem("rag_spreadsheet_id");if(I)return console.log("Using cached spreadsheet ID:",I),I;let G=localStorage.getItem("google_drive_access_token");if(G)console.log(" Using cached Drive API access token");else{if(console.log(" Requesting Google Drive API access token..."),typeof window>"u"||!window.google?.accounts?.oauth2)throw console.error(" Google Identity Services not available. The library may not have loaded yet."),console.log(" This usually happens if the page loads before Google GSI library is ready."),console.log(" Try: 1) Refresh the page, 2) Check internet connection, 3) Check browser console for script loading errors"),new Error("Google Identity Services not available - library not loaded");try{const ye=window.google.accounts.oauth2.initTokenClient({client_id:void 0,scope:"https://www.googleapis.com/auth/drive.file",callback:async ge=>{if(ge.access_token){const pe=ge.access_token.trim().replace(/[\r\n]/g,"");localStorage.setItem("google_drive_access_token",pe),console.log(" Got Drive API access token")}}});if(!ye)throw new Error("Failed to initialize Google token client");await new Promise((ge,pe)=>{ye.callback=Be=>{if(Be.error){console.error("OAuth error:",Be.error),pe(new Error(`OAuth error: ${Be.error}`));return}if(Be.access_token){const Ee=Be.access_token.trim().replace(/[\r\n]/g,"");G=Ee,localStorage.setItem("google_drive_access_token",Ee),console.log(" Got Drive API access token"),ge()}else pe(new Error("No access token received"))},console.log(" Requesting Google Drive & Sheets permissions..."),ye.requestAccessToken({prompt:""})})}catch(ye){throw console.error("Failed to get Drive API token:",ye),new Error("Please grant access to Google Drive and Sheets to enable cloud sync")}}if(!G)throw console.error("No Drive API access token available"),new Error("No Drive API access token - unable to access Google Sheets");const F=await ta();console.log(" Calling getUserRagSpreadsheet at:",F);const ie=await fetch(`${F}/rag/user-spreadsheet`,{method:"GET",headers:{Authorization:`Bearer ${G}`}});if(!ie.ok){const ye=await ie.text();console.error(" Backend error response:",{status:ie.status,statusText:ie.statusText,body:ye});let ge=`Failed to get spreadsheet: ${ie.status}`;try{const pe=JSON.parse(ye);pe.error&&(ge=pe.error)}catch{}throw new Error(ge)}const he=await ie.json();return localStorage.setItem("rag_spreadsheet_id",he.spreadsheetId),he.created?(console.log(" Created new RAG spreadsheet:",he.spreadsheetId),h('Created new "Research Agent Swag" spreadsheet in your Google Drive')):console.log(" Found existing RAG spreadsheet:",he.spreadsheetId),he.spreadsheetId}catch(I){return console.error("Failed to get user RAG spreadsheet:",I),null}};C.useEffect(()=>((async()=>{if(!(!f?.email||!v()||!n))try{if(!await T()){console.warn("Could not get user RAG spreadsheet - sync disabled"),h("Cannot access Google Sheets. Please check your Google Drive connection in Settings > Cloud Sync.");return}await os.initialize({enabled:!0,autoSync:!0,syncInterval:6e4,batchSize:50,retryAttempts:3,deviceId:os.getDeviceId()}),os.onSyncStart(()=>{u(os.getStatus())}),os.onSyncComplete(ie=>{u(os.getStatus()),ie&&ie.snippetsPulled>0&&console.log(`Synced ${ie.snippetsPulled} snippets from cloud`)}),os.onSyncError((ie,he)=>{console.error("Sync error:",he),u(os.getStatus()),he&&d(`Sync failed: ${he.message}`)}),console.log("Performing initial sync...");const F=await os.pullSnippets(f.email);F&&F.length>0&&(r(ie=>{const he=new Set(ie.map(pe=>pe.id)),ye=F.filter(pe=>!he.has(pe.id)),ge=ie.map(pe=>{const Be=F.find(Ee=>Ee.id===pe.id);return Be&&Be.updateDate>pe.updateDate?Be:pe});return[...ye,...ge].sort((pe,Be)=>Be.updateDate-pe.updateDate)}),console.log(`Downloaded ${F.length} snippets from cloud`)),t.length>0&&await os.pushSnippets(t,f.email),os.startAutoSync(),console.log(" RAG sync initialized and auto-sync started")}catch(G){console.error("Failed to initialize sync:",G),d("Cloud sync failed to initialize. Check your Google Drive connection in Settings > Cloud Sync.")}})(),()=>{v()&&os.stopAutoSync()}),[f?.email,n,d]);const w=()=>{try{const I=localStorage.getItem("rag_config");if(I){const G=JSON.parse(I);return G.enabled&&G.autoEmbed}}catch(I){console.error("Failed to check RAG config:",I)}return!1},N=async(I,G,F)=>{if(w())try{const ie=await ta(),he=await fetch(`${ie}/rag/ingest`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({content:G,sourceType:"snippet",title:F||`Snippet ${I}`,snippetId:I})});if(!he.ok){console.error("Failed to auto-embed snippet");return}const ye=he.body?.getReader(),ge=new TextDecoder;if(ye)for(;;){const{done:pe,value:Be}=await ye.read();if(pe)break;const we=ge.decode(Be).split(`
`);for(const Je of we)if(Je.startsWith("data: ")){const Ke=JSON.parse(Je.substring(6));Ke.error&&console.error("Auto-embed error:",Ke.error),Ke.message&&console.log("Auto-embed:",Ke.message)}}r(pe=>pe.map(Be=>Be.id===I?{...Be,hasEmbedding:!0}:Be))}catch(ie){console.error("Auto-embed failed:",ie)}},R=async(I,G,F)=>{const ie=t.find(ge=>ge.content.trim()===I.trim());if(ie)return await D(ie.id,{updateDate:Date.now()}),ie;const he=Date.now(),ye={id:`snippet-${he}-${Math.random().toString(36).substr(2,9)}`,content:I,title:F,sourceType:G,timestamp:he,updateDate:he,selected:!1};return r(ge=>[ye,...ge]),v()&&f?.email&&os.queueSync({type:"push-snippet",data:ye,userEmail:f.email}),await N(ye.id,I,F),ye},D=async(I,G)=>{const F=t.find(he=>he.id===I),ie={...F,...G,updateDate:Date.now()};if(r(he=>he.map(ye=>ye.id===I?ie:ye)),v()&&f?.email&&os.queueSync({type:"push-snippet",data:ie,userEmail:f.email}),F&&G.content&&G.content!==F.content){const he=G.title!==void 0?G.title:F.title;await N(I,G.content,he)}},L=I=>{r(G=>G.filter(F=>!I.includes(F.id))),v()&&f?.email&&I.forEach(G=>{os.queueSync({type:"delete-snippet",data:{id:G},userEmail:f.email})})},j=I=>{if(I.length<2)return;const G=t.filter(ge=>I.includes(ge.id)).sort((ge,pe)=>ge.timestamp-pe.timestamp),F=G.map(ge=>ge.content).join(`

---

`),ie=G.filter(ge=>ge.title).map(ge=>ge.title).join(" + "),he=Date.now(),ye={id:`snippet-${he}-${Math.random().toString(36).substr(2,9)}`,content:F,title:ie||void 0,sourceType:G[0].sourceType,timestamp:he,updateDate:he,selected:!1};r(ge=>[ye,...ge.filter(pe=>!I.includes(pe.id))])},B=I=>{r(G=>G.map(F=>F.id===I?{...F,selected:!F.selected}:F))},q=()=>{r(I=>I.map(G=>({...G,selected:!0})))},z=()=>{r(I=>I.map(G=>({...G,selected:!1})))},K=()=>t.filter(I=>I.selected),X=()=>{const I=new Set;return t.forEach(G=>{G.tags&&G.tags.forEach(F=>I.add(F))}),Array.from(I).sort()},Q=(I,G)=>{r(F=>F.map(ie=>{if(I.includes(ie.id)){const he=ie.tags||[],ye=[...new Set([...he,...G])];return{...ie,tags:ye,updateDate:Date.now()}}return ie}))},O=(I,G)=>{r(F=>F.map(ie=>{if(I.includes(ie.id)&&ie.tags){const he=ie.tags.filter(ye=>!G.includes(ye));return{...ie,tags:he.length>0?he:void 0,updateDate:Date.now()}}return ie}))},H=async I=>{try{return await As.hasEmbedding(I)}catch(G){return console.error("Error checking embedding status:",G),!1}},$=async I=>{try{const G=await As.getEmbeddingDetails(I);return G.hasEmbedding?G:t.find(ie=>ie.id===I)?.hasEmbedding?{hasEmbedding:!0,chunkCount:1,chunks:[]}:{hasEmbedding:!1,chunkCount:0,chunks:[]}}catch(G){return console.error("Error getting embedding details:",G),{hasEmbedding:!1,chunkCount:0,chunks:[]}}},Y=async()=>{try{const I=t.map(F=>F.id);if(I.length===0)return;const G=await As.bulkCheckEmbeddings(I);r(F=>F.map(ie=>({...ie,hasEmbedding:G[ie.id]||!1})))}catch(I){console.error("Failed to check embedding status:",I)}},V=async(I,G,F=!1)=>{const ie=t.filter(ge=>I.includes(ge.id));if(ie.length===0)return{embedded:0,skipped:0,failed:0};let he=ie,ye=0;if(!F){const ge=await As.bulkCheckEmbeddings(I),pe=I.filter(Be=>ge[Be]);if(pe.length>0){if(console.log(` Skipping ${pe.length} already indexed snippets:`,pe),he=ie.filter(Be=>!ge[Be.id]),ye=pe.length,he.length===0)return console.log(" All selected snippets already have embeddings"),h(` All ${ie.length} snippets already indexed`),{embedded:0,skipped:ye,failed:0};h(` Skipping ${ye} already indexed, generating ${he.length} new embeddings`)}}try{let ge,pe=0;const Be=3;for(;pe<=Be;)try{const mt=await ta(),zt=await b(),ar=x.providers.filter(kr=>kr.enabled!==!1&&kr.capabilities?.embedding!==!1).map(kr=>({type:kr.type,apiKey:kr.apiKey,apiEndpoint:kr.apiEndpoint,modelName:kr.modelName,allowedModels:kr.allowedModels,maxImageQuality:kr.maxImageQuality}));if(ge=await fetch(`${mt}/rag/embed-snippets`,{method:"POST",headers:{"Content-Type":"application/json",...zt?{Authorization:`Bearer ${zt}`}:{}},body:JSON.stringify({snippets:he.map(kr=>({id:kr.id,content:kr.content,title:kr.title,tags:kr.tags,timestamp:kr.timestamp})),providers:ar,force:F})}),ge.status===429&&pe<Be){const kr=Math.pow(2,pe)*1e3;console.warn(` Rate limited, retrying in ${kr/1e3}s... (attempt ${pe+1}/${Be})`),h(` Rate limited, retrying in ${kr/1e3}s...`),await new Promise(dr=>setTimeout(dr,kr)),pe++;continue}break}catch(mt){if(pe<Be){const zt=Math.pow(2,pe)*1e3;console.warn(` Fetch error, retrying in ${zt/1e3}s...`,mt),await new Promise(ar=>setTimeout(ar,zt)),pe++;continue}throw mt}if(!ge||!ge.ok){const mt=await ge?.text()||"No response";let zt;try{zt=JSON.parse(mt)}catch{zt={error:mt}}throw zt.requiredAction==="CONFIGURE_EMBEDDING_PROVIDER"||zt.error&&zt.error.includes("No embedding provider")?new Error(` Embedding Provider Required

To use Swag embeddings and vector search, you need to configure a provider that supports embeddings.

 Steps:
1. Go to Settings (gear icon)
2. Click "Providers" tab
3. Add a provider: OpenAI, Together.AI, Cohere, or Voyage
4. Enable the " Embeddings" capability
5. Save and try again

 Note: Swag embeddings work independently of the RAG system. You just need one embedding-capable provider configured.`):new Error(`Failed to generate embeddings: ${ge?.status} ${ge?.statusText}. ${mt}`)}const Ee=await ge.json(),we=Ee.results?.[0]?.chunks?.[0]?.embedding;console.log(" Backend response:",{success:Ee.success,resultsCount:Ee.results?.length,firstResult:Ee.results?.[0],firstChunk:Ee.results?.[0]?.chunks?.[0],firstChunkKeys:Ee.results?.[0]?.chunks?.[0]?Object.keys(Ee.results[0].chunks[0]):[],firstChunkEmbeddingLength:we?.length,firstChunkEmbeddingType:we?.constructor?.name,firstChunkEmbeddingFirst5:Array.isArray(we)?we.slice(0,5):"NOT_AN_ARRAY"});const{success:Je,results:Ke,error:ze}=Ee;if(!Je)throw new Error(ze||"Failed to generate embeddings");const Vt=[];let kt=0,wt=0,_t=0;for(let mt=0;mt<Ke.length;mt++){const zt=Ke[mt];if(zt.status==="success"&&zt.chunks.length>0){console.log(" Chunk structure check:",{chunkCount:zt.chunks.length,firstChunk:zt.chunks[0],hasId:zt.chunks[0]?.id!==void 0,hasSnippetId:zt.chunks[0]?.snippet_id!==void 0});try{await As.saveChunks(zt.chunks,{snippet_id:zt.id,created_at:Date.now(),updated_at:Date.now()}),Vt.push(zt.id),kt+=zt.chunks.length,wt++,console.log(` Saved ${zt.chunks.length} chunks for snippet ${zt.id}`)}catch(ar){_t++,console.error(` Failed to save chunks for snippet ${zt.id}:`,ar)}G&&G(mt+1,Ke.length)}else zt.status==="failed"&&(_t++,console.error(`Failed to embed snippet ${zt.id}:`,zt.error))}r(mt=>mt.map(zt=>Vt.includes(zt.id)?{...zt,hasEmbedding:!0}:zt));const jt=Ke.filter(mt=>mt.status==="success").flatMap(mt=>mt.chunks);if(console.log(" Google Sheets sync check:",{chunksToSync:jt.length,userEmail:f?.email,spreadsheetId:localStorage.getItem("rag_spreadsheet_id"),googleLinked:localStorage.getItem("rag_google_linked")}),jt.length>0&&f?.email)try{if(!localStorage.getItem("rag_spreadsheet_id"))console.warn(" No spreadsheet ID found. Skipping Google Sheets sync."),console.log(" To enable sync: Go to Settings > Cloud Sync and connect Google Drive"),h(" Embeddings saved locally. Connect Google Drive in Cloud Sync settings to enable automatic backup.");else{const ar=localStorage.getItem("rag_google_linked")==="true"&&JQ();console.log(` Sync method: ${ar?"Client-side direct":"Backend"}`),ar||(console.log(` Using backend sync for ${jt.length} chunks (with 2s delay)...`),setTimeout(async()=>{try{console.log(" Starting backend Google Sheets sync..."),await os.pushEmbeddings(jt,(kr,dr)=>{console.log(` Syncing: ${kr}/${dr} chunks`)}),console.log(" Synced to Google Sheets (backend)"),h(` Synced ${jt.length} embeddings to Google Sheets`)}catch(kr){console.error("Failed to sync to Google Sheets:",kr),h(" Embeddings saved locally but sync to Google Sheets failed")}},2e3))}}catch(mt){console.error("Failed to queue sync:",mt)}return console.log(` Generated ${kt} embeddings for ${wt} snippets`),{embedded:wt,skipped:ye+(Ke.length-wt-_t),failed:_t}}catch(ge){throw console.error("Failed to generate embeddings:",ge),ge}},ne=async()=>{if(!f?.email){h("Please sign in with Google to sync");return}if(!v()){h("Cloud sync requires Google Drive connection. Go to Settings > Cloud Sync to connect.");return}try{console.log(" Manual sync triggered"),console.log(" Ensuring spreadsheet exists...");const I=await T();if(!I){d("Failed to create or access Google Sheets spreadsheet");return}console.log(" Spreadsheet ready:",I),console.log(" Pulling remote snippets...");try{const G=localStorage.getItem("google_drive_access_token");if(!G)console.warn("No Drive token available for pull");else{const F=await fetch(`https://sheets.googleapis.com/v4/spreadsheets/${I}/values/RAG_Snippets_v1!A2:J10000`,{headers:{Authorization:`Bearer ${G}`}}).then(ie=>ie.json()).then(ie=>ie.values||[]);if(F.length>0){console.log(` Received ${F.length} rows from Sheets`);const ie=new Map;F.forEach(ye=>{const ge=ye[0];ie.has(ge)||ie.set(ge,[]),ie.get(ge).push(ye)});const he=[];ie.forEach((ye,ge)=>{ye.sort((Ee,we)=>parseInt(Ee[8]||"1")-parseInt(we[8]||"1"));const pe=ye[0],Be=ye.map(Ee=>Ee[2]||"").join("");he.push({id:ge,title:pe[1]||"",content:Be,timestamp:parseInt(pe[5])||Date.now(),updateDate:parseInt(pe[6])||Date.now(),sourceType:pe[7]||"user",tags:pe[4]?JSON.parse(pe[4]):[]})}),console.log(` Reassembled ${he.length} snippets from ${F.length} rows`),r(ye=>{const ge=new Set(ye.map(Ee=>Ee.id)),pe=he.filter(Ee=>!ge.has(Ee.id)),Be=ye.map(Ee=>{const we=he.find(Je=>Je.id===Ee.id);return we&&we.updateDate>Ee.updateDate?we:Ee});return[...pe,...Be].sort((Ee,we)=>we.updateDate-Ee.updateDate)})}else console.log(" No remote snippets found")}}catch(G){console.error(" Pull failed:",G)}if(console.log(" Pushing local snippets..."),t.length>0){const G=localStorage.getItem("google_drive_access_token");if(!G){d("No Drive API access token available");return}const F=49e3,ie=[];t.forEach(pe=>{const Be=pe.content||"";if(Be.length<=F)ie.push([pe.id,pe.title||"",Be,"",JSON.stringify(pe.tags||[]),pe.timestamp.toString(),pe.updateDate.toString(),pe.sourceType,"1","1"]);else{const Ee=Math.ceil(Be.length/F);for(let we=0;we<Ee;we++){const Je=we*F,Ke=Math.min((we+1)*F,Be.length),ze=Be.substring(Je,Ke);ie.push([pe.id,we===0&&pe.title||"",ze,"",we===0?JSON.stringify(pe.tags||[]):"[]",pe.timestamp.toString(),pe.updateDate.toString(),pe.sourceType,(we+1).toString(),Ee.toString()])}}}),console.log(` Prepared ${ie.length} rows from ${t.length} snippets`),console.log(" Clearing existing data...");const he=await fetch(`https://sheets.googleapis.com/v4/spreadsheets/${I}/values/RAG_Snippets_v1!A2:J10000:clear`,{method:"POST",headers:{Authorization:`Bearer ${G}`,"Content-Type":"application/json"}});if(!he.ok){const pe=await he.text();console.error("Clear error:",pe)}console.log(` Writing ${ie.length} rows...`);const ye=await fetch(`https://sheets.googleapis.com/v4/spreadsheets/${I}/values/RAG_Snippets_v1!A2?valueInputOption=RAW`,{method:"PUT",headers:{Authorization:`Bearer ${G}`,"Content-Type":"application/json"},body:JSON.stringify({values:ie})});if(!ye.ok){const pe=await ye.text();throw console.error(" Update error:",pe),new Error(`Failed to update sheet: ${ye.status} ${pe}`)}const ge=await ye.json();console.log(` Pushed ${t.length} snippets (${ie.length} rows) to Google Sheets`,ge)}else console.log(" No local snippets to push");console.log(" Manual sync complete"),g(`Synced ${t.length} snippets with Google Sheets`)}catch(I){console.error(" Manual sync failed:",I),d(`Manual sync failed: ${I instanceof Error?I.message:"Unknown error"}`)}},P=async I=>{try{console.log(` Syncing snippet #${I} from Google Sheets...`);const G=await I6();if(!G)throw new Error("No Drive access token available");const F=await fX(I,G);if(!F){console.warn(` Snippet #${I} not found in Google Sheets`);return}const ie=t.find(he=>he.id===F.id||he.content.trim()===F.content.trim());if(ie){console.log(` Snippet #${I} already exists in localStorage, updating timestamp`),await D(ie.id,{updateDate:Date.now()}),g(`Snippet "${F.title||"Untitled"}" synced from Google Sheets`);return}r(he=>[F,...he]),g(`Snippet "${F.title||"Untitled"}" synced from Google Sheets`),console.log(` Synced snippet #${I} from Google Sheets:`,F.title),await N(F.id,F.content,F.title)}catch(G){console.error(` Failed to sync snippet #${I}:`,G),d(`Failed to sync snippet: ${G instanceof Error?G.message:"Unknown error"}`)}};return s.jsx(j6.Provider,{value:{snippets:t,addSnippet:R,updateSnippet:D,deleteSnippets:L,mergeSnippets:j,toggleSelection:B,selectAll:q,selectNone:z,getSelectedSnippets:K,getAllTags:X,addTagsToSnippets:Q,removeTagsFromSnippets:O,storageStats:i,checkEmbeddingStatus:H,getEmbeddingDetails:$,bulkCheckEmbeddingStatus:Y,generateEmbeddings:V,syncStatus:l,triggerManualSync:ne,getUserRagSpreadsheet:T,syncSnippetFromGoogleSheets:P},children:e})},F6=C.createContext(void 0),Fh={clientId:void 0,redirectUri:"undefined/oauth/callback",scope:"https://www.googleapis.com/auth/youtube.force-ssl",authUrl:"https://accounts.google.com/o/oauth2/v2/auth"},yX=({children:e})=>{const[t,r]=xi("youtube_oauth_tokens",null),[n,a]=C.useState(!1),[i,o]=C.useState(null),l=C.useMemo(()=>t?Date.now()<t.expires_at-3e5:!1,[t]);C.useEffect(()=>{if(!t||!l)return;const b=t.expires_at-Date.now(),x=Math.max(0,b-6e5);if(x<=0){h();return}const E=setTimeout(()=>{h()},x);return()=>clearTimeout(E)},[t,l]);const u=C.useCallback(()=>{const b=localStorage.getItem("auth");if(!b)return null;try{return JSON.parse(b).token||null}catch{return null}},[]),d=C.useCallback(async()=>{a(!0),o(null);try{const b=crypto.randomUUID();sessionStorage.setItem("oauth_state",b);const x=new URLSearchParams({client_id:Fh.clientId,redirect_uri:Fh.redirectUri,response_type:"code",scope:Fh.scope,access_type:"offline",prompt:"consent",state:b}),E=`${Fh.authUrl}?${x}`,v=600,T=700,w=window.screenX+(window.outerWidth-v)/2,N=window.screenY+(window.outerHeight-T)/2,R=window.open(E,"oauth",`width=${v},height=${T},left=${w},top=${N}`);if(!R)throw new Error("Popup blocked. Please allow popups for this site.");const D=j=>{const B=new URL(Fh.redirectUri).origin;if(j.origin!==B){console.warn("Ignoring message from unexpected origin:",j.origin);return}if(j.data.type==="oauth_success"){const q=sessionStorage.getItem("oauth_state");if(j.data.data.state!==q){o("Invalid state parameter - possible CSRF attack"),a(!1);return}const z={access_token:j.data.data.tokens.access_token,refresh_token:j.data.data.tokens.refresh_token,expires_at:j.data.data.tokens.expires_at,scope:j.data.data.tokens.scope,token_type:j.data.data.tokens.token_type};console.log("Successfully obtained YouTube OAuth tokens"),r(z),a(!1),sessionStorage.removeItem("oauth_state"),window.removeEventListener("message",D)}else j.data.type==="oauth_error"&&(console.error("OAuth error:",j.data.data.error),o(j.data.data.message||j.data.data.error||"Authorization failed"),a(!1),sessionStorage.removeItem("oauth_state"),window.removeEventListener("message",D))};window.addEventListener("message",D);const L=setInterval(()=>{R.closed&&(clearInterval(L),a(!1),window.removeEventListener("message",D),sessionStorage.getItem("oauth_state")&&(o("Authorization cancelled"),sessionStorage.removeItem("oauth_state")))},500)}catch(b){console.error("OAuth flow error:",b),o(b instanceof Error?b.message:"Failed to initiate OAuth flow"),a(!1)}},[r]),h=C.useCallback(async()=>{if(!t?.refresh_token){console.warn("No refresh token available");return}try{const b=u();if(!b){console.log("Cannot refresh YouTube tokens: JWT authentication not available");return}const x="https://nrw7pperjjdswbmqgmigbwsbyi0rwdqf.lambda-url.us-east-1.on.aws";console.log("Refreshing YouTube OAuth tokens...");const E=await fetch(`${x}/oauth/refresh`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${b}`},body:JSON.stringify({refresh_token:t.refresh_token})});if(!E.ok){const T=await E.json().catch(()=>({}));throw new Error(T.message||`Token refresh failed: ${E.status}`)}const v=await E.json();r({access_token:v.access_token,refresh_token:v.refresh_token,expires_at:v.expires_at,scope:v.scope,token_type:v.token_type}),console.log("Successfully refreshed YouTube OAuth tokens"),o(null)}catch(b){console.error("Token refresh error:",b);const x=b instanceof Error?b.message:"Token refresh failed";x.includes("invalid_grant")?(console.warn("Refresh token invalid, clearing tokens"),r(null),o("YouTube access expired. Please reconnect.")):o(x)}},[t,r,u]),g=C.useCallback(async()=>{if(!t)return null;if(Date.now()>=t.expires_at-3e5){console.log("Access token expired or expiring soon, refreshing..."),await h();const b=localStorage.getItem("youtube_oauth_tokens");if(b)try{return JSON.parse(b).access_token}catch{return null}return null}return t.access_token},[t,h]),f=C.useCallback(async()=>{if(t)try{const b=u();if(b){const x="https://nrw7pperjjdswbmqgmigbwsbyi0rwdqf.lambda-url.us-east-1.on.aws";console.log("Revoking YouTube OAuth tokens..."),await fetch(`${x}/oauth/revoke`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${b}`},body:JSON.stringify({token:t.access_token})})}}catch(b){console.error("Revoke error:",b)}finally{r(null),o(null),console.log("YouTube OAuth tokens cleared")}},[t,r,u]);return s.jsx(F6.Provider,{value:{isConnected:l,isLoading:n,tokens:t,error:i,initiateOAuthFlow:d,disconnect:f,refreshTokens:h,getAccessToken:g},children:e})},B6=()=>{const e=C.useContext(F6);if(!e)throw new Error("useYouTubeAuth must be used within a YouTubeAuthProvider");return e},U6=C.createContext(void 0);function xX({children:e}){const{accessToken:t,isAuthenticated:r}=Ps(),[n,a]=C.useState(null),[i,o]=C.useState(!1),[l,u]=C.useState(null),[d,h]=C.useState(null),g=async()=>{if(!t||!r){a(null);return}o(!0),u(null);try{const x=await ta(),E={Authorization:`Bearer ${t}`,"Content-Type":"application/json"},v=await fetch(`${x}/billing`,{method:"GET",headers:E});if(!v.ok){const j=await v.json().catch(()=>({}));throw new Error(j.message||`HTTP ${v.status}`)}const T=await v.json();T.ttsCapabilities&&(h(T.ttsCapabilities),console.log(" Server TTS capabilities:",T.ttsCapabilities));let w=0,N=0;if(T.transactions)for(const j of T.transactions)j.type==="credit_added"?w+=Math.abs(j.cost):N+=j.cost;const R=w-N,D=R<-.01,L={userEmail:"",totalCost:parseFloat(N.toFixed(4)),creditBalance:parseFloat(Math.max(0,R).toFixed(2)),totalCredits:parseFloat(w.toFixed(2)),exceeded:D,timestamp:new Date().toISOString()};a(L),console.log(" Usage calculated from billing data:",{...L,rawTotalCredits:w,rawTotalUsage:N,rawCreditBalance:R})}catch(x){const E=x instanceof Error?x.message:"Failed to load usage";console.error(" Failed to fetch usage:",E),u(E),a(null)}finally{o(!1)}},f=x=>{if(!n)return;const E=n.totalCost+x,v=n.totalCredits-E,T=v<-.01;a({...n,totalCost:E,creditBalance:v,exceeded:T,timestamp:new Date().toISOString()}),console.log(` Added $${x.toFixed(4)} to usage - New balance: $${v.toFixed(4)}`)};C.useEffect(()=>{r&&t?g():a(null)},[r,t]);const b={usage:n,loading:i,error:l,refreshUsage:g,addCost:f,isLocked:n?.exceeded||!1,ttsCapabilities:d};return s.jsx(U6.Provider,{value:b,children:e})}function _m(){const e=C.useContext(U6);if(e===void 0)throw new Error("useUsage must be used within a UsageProvider");return e}const $6=C.createContext(void 0),Am=()=>{const e=C.useContext($6);if(!e)throw new Error("useCast must be used within a CastProvider");return e},EX=({children:e})=>{const[t,r]=C.useState(!1),[n,a]=C.useState(!1),[i,o]=C.useState(null),[l,u]=C.useState(null),[d,h]=C.useState(!1),[g,f]=C.useState(!1),b="DE7507EF",x=C.useCallback(()=>{if(!window.chrome?.cast){console.log("Cast API not available yet, will retry...");return}const q=new chrome.cast.SessionRequest(b),z=new chrome.cast.ApiConfig(q,K=>{console.log("Cast session started:",K),u(K),a(!0),o(K.receiver.friendlyName)},K=>{console.log("Cast receiver availability:",K),r(K===chrome.cast.ReceiverAvailability.AVAILABLE)});chrome.cast.initialize(z,()=>console.log("Cast initialized successfully"),K=>console.error("Cast initialization failed:",K))},[b]),E=C.useCallback(()=>{if(!chrome?.cast){console.error("Cast API not available");return}chrome.cast.requestSession(q=>{console.log("Cast session requested successfully:",q),u(q),a(!0),o(q.receiver.friendlyName),q.addUpdateListener(z=>{console.log("Cast session update:",z),z||(a(!1),u(null),o(null))})},q=>{console.error("Error requesting cast session:",q)})},[]),v=C.useCallback(()=>{l&&l.stop(()=>{console.log("Cast session stopped"),a(!1),u(null),o(null)},q=>console.error("Error stopping session:",q))},[l]),T=C.useCallback(q=>{if(!l||!n){console.log("No active cast session");return}try{const z="urn:x-cast:com.lambdallmproxy.chat",K={type:"MESSAGES_UPDATE",messages:q.map(X=>({role:X.role,content:X.content,name:X.name,tool_call_id:X.tool_call_id,isStreaming:X.isStreaming}))};l.sendMessage(z,K,()=>console.log("Messages sent to receiver"),X=>console.error("Error sending messages:",X))}catch(z){console.error("Error in sendMessages:",z)}},[l,n]),w=C.useCallback(q=>{if(!(!l||!n))try{const z="urn:x-cast:com.lambdallmproxy.chat",K={type:"SCROLL_UPDATE",position:q};l.sendMessage(z,K,()=>console.log("Scroll position sent:",q),X=>console.error("Error sending scroll:",X))}catch(z){console.error("Error in sendScrollPosition:",z)}},[l,n]),N=C.useCallback((q,z=0)=>{if(!l||!n){console.log("No active cast session for video");return}try{const K="urn:x-cast:com.lambdallmproxy.video",X={type:"VIDEO_COMMAND",command:"load",data:{videoId:q.videoId,url:q.url,title:q.title,channel:q.channel,thumbnail:q.thumbnail,duration:q.duration,position:z},timestamp:Date.now()};l.sendMessage(K,X,()=>{console.log("Video cast command sent:",q.title),h(!0)},Q=>console.error("Error casting video:",Q))}catch(K){console.error("Error in castVideo:",K)}},[l,n]),R=C.useCallback((q,z={})=>{if(!(!l||!n))try{const K="urn:x-cast:com.lambdallmproxy.video",X={type:"VIDEO_COMMAND",command:q,data:z,timestamp:Date.now()};l.sendMessage(K,X,()=>console.log("Video command sent:",q),Q=>console.error("Error sending video command:",Q)),q==="stop"&&h(!1)}catch(K){console.error("Error in sendVideoCommand:",K)}},[l,n]),D=C.useCallback(q=>{if(!l||!n){console.log("No active cast session for snippet");return}try{const z="urn:x-cast:com.lambdallmproxy.snippet",K={type:"SNIPPET_COMMAND",command:"load",data:{id:q.id,content:q.content,title:q.title||"Untitled Snippet",tags:q.tags||[],created:q.created,modified:q.modified},timestamp:Date.now()};l.sendMessage(z,K,()=>{console.log("Snippet cast successfully:",q.title),f(!0)},X=>console.error("Error casting snippet:",X))}catch(z){console.error("Error in castSnippet:",z)}},[l,n]),L=C.useCallback(q=>{if(!(!l||!n||!g))try{const z="urn:x-cast:com.lambdallmproxy.snippet",K={type:"SNIPPET_COMMAND",command:"scroll",data:{position:q},timestamp:Date.now()};l.sendMessage(z,K,()=>console.log("Snippet scroll position sent:",q),X=>console.error("Error sending snippet scroll:",X))}catch(z){console.error("Error in sendSnippetScrollPosition:",z)}},[l,n,g]),j=C.useCallback(()=>{if(!(!l||!n||!g))try{const q="urn:x-cast:com.lambdallmproxy.snippet",z={type:"SNIPPET_COMMAND",command:"stop",data:{},timestamp:Date.now()};l.sendMessage(q,z,()=>{console.log("Snippet cast stopped"),f(!1)},K=>console.error("Error stopping snippet cast:",K))}catch(q){console.error("Error in stopSnippetCast:",q)}},[l,n,g]);C.useEffect(()=>{if(document.getElementById("cast-sdk")){window.chrome?.cast&&x();return}const q=document.createElement("script");return q.id="cast-sdk",q.src="https://www.gstatic.com/cv/js/sender/v1/cast_sender.js?loadCastFramework=1",q.async=!0,q.onload=()=>{console.log("Cast SDK loaded");const z=setInterval(()=>{window.chrome?.cast&&(clearInterval(z),x())},100);setTimeout(()=>clearInterval(z),1e4)},document.head.appendChild(q),()=>{}},[x]);const B={isAvailable:t,isConnected:n,deviceName:i,initializeCast:x,requestSession:E,endSession:v,sendMessages:T,sendScrollPosition:w,castVideo:N,sendVideoCommand:R,isCastingVideo:d,castSnippet:D,sendSnippetScrollPosition:L,stopSnippetCast:j,isCastingSnippet:g};return s.jsx($6.Provider,{value:B,children:e})},H6=C.createContext(void 0),z6=()=>{const e=C.useContext(H6);if(!e)throw new Error("useLocation must be used within a LocationProvider");return e},vX=({children:e})=>{const[t,r]=C.useState(null),[n,a]=C.useState(!1),[i,o]=C.useState(null),[l,u]=C.useState("unknown");C.useEffect(()=>{"permissions"in navigator&&navigator.permissions.query({name:"geolocation"}).then(b=>{u(b.state),b.addEventListener("change",()=>{u(b.state)})}).catch(()=>{u("unknown")})},[]);const d=async(b,x)=>{try{const E=await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${b}&lon=${x}&zoom=18&addressdetails=1`,{headers:{"User-Agent":"LLMProxyChat/1.0"}});if(!E.ok){console.warn("Reverse geocoding failed:",E.statusText);return}const v=await E.json();if(v.address)return{city:v.address.city||v.address.town||v.address.village,state:v.address.state,country:v.address.country,postalCode:v.address.postcode,formatted:v.display_name}}catch(E){console.warn("Error reverse geocoding:",E)}},h=C.useCallback(async()=>{if(!navigator.geolocation){o("Geolocation is not supported by your browser");return}a(!0),o(null);try{const b=await new Promise((N,R)=>{navigator.geolocation.getCurrentPosition(N,R,{enableHighAccuracy:!0,timeout:1e4,maximumAge:3e5})}),{latitude:x,longitude:E,accuracy:v}=b.coords,T=await d(x,E),w={latitude:x,longitude:E,accuracy:v,address:T,timestamp:Date.now()};r(w),u("granted"),localStorage.setItem("user_location",JSON.stringify(w)),console.log("Location updated:",w)}catch(b){let x="Failed to get location";b.code===1?(x="Location permission denied",u("denied")):b.code===2?x="Location unavailable":b.code===3&&(x="Location request timed out"),o(x),console.error("Geolocation error:",b)}finally{a(!1)}},[]),g=C.useCallback(()=>{r(null),o(null),localStorage.removeItem("user_location")},[]);C.useEffect(()=>{const b=localStorage.getItem("user_location");if(b)try{const x=JSON.parse(b);Date.now()-(x.timestamp||0)<1440*60*1e3?r(x):localStorage.removeItem("user_location")}catch(x){console.error("Error loading stored location:",x),localStorage.removeItem("user_location")}},[]);const f={location:t,isLoading:n,error:i,permissionState:l,requestLocation:h,clearLocation:g};return s.jsx(H6.Provider,{value:f,children:e})},SX={version:"1.0.0",isEnabled:!1,currentProvider:"llm",currentVoice:null,rate:1,pitch:1,volume:1,autoSummarize:!0,elevenlabsApiKey:""};class Ad{name="llm";provider=null;audio=null;currentOnEnd=null;constructor(t){this.provider=t||null}setProvider(t){this.provider=t}async isAvailable(){return this.provider?["openai","gemini","groq","together"].includes(this.provider.type):!1}async getVoices(){if(!this.provider)return[];switch(this.provider.type){case"openai":return[{id:"alloy",name:"Alloy",language:"en",gender:"neutral",provider:"openai"},{id:"echo",name:"Echo",language:"en",gender:"male",provider:"openai"},{id:"fable",name:"Fable",language:"en",gender:"neutral",provider:"openai"},{id:"onyx",name:"Onyx",language:"en",gender:"male",provider:"openai"},{id:"nova",name:"Nova",language:"en",gender:"female",provider:"openai"},{id:"shimmer",name:"Shimmer",language:"en",gender:"female",provider:"openai"}];case"gemini":return[{id:"en-US-Neural2-A",name:"Neural2 A (Male)",language:"en-US",gender:"male",provider:"google"},{id:"en-US-Neural2-C",name:"Neural2 C (Female)",language:"en-US",gender:"female",provider:"google"},{id:"en-US-Neural2-D",name:"Neural2 D (Male)",language:"en-US",gender:"male",provider:"google"},{id:"en-US-Neural2-E",name:"Neural2 E (Female)",language:"en-US",gender:"female",provider:"google"},{id:"en-US-Neural2-F",name:"Neural2 F (Female)",language:"en-US",gender:"female",provider:"google"},{id:"en-US-Neural2-G",name:"Neural2 G (Female)",language:"en-US",gender:"female",provider:"google"},{id:"en-US-Neural2-H",name:"Neural2 H (Female)",language:"en-US",gender:"female",provider:"google"},{id:"en-US-Neural2-I",name:"Neural2 I (Male)",language:"en-US",gender:"male",provider:"google"},{id:"en-US-Neural2-J",name:"Neural2 J (Male)",language:"en-US",gender:"male",provider:"google"},{id:"en-US-Wavenet-A",name:"WaveNet A (Male)",language:"en-US",gender:"male",provider:"google"},{id:"en-US-Wavenet-B",name:"WaveNet B (Male)",language:"en-US",gender:"male",provider:"google"},{id:"en-US-Wavenet-C",name:"WaveNet C (Female)",language:"en-US",gender:"female",provider:"google"},{id:"en-US-Wavenet-D",name:"WaveNet D (Male)",language:"en-US",gender:"male",provider:"google"},{id:"en-US-Wavenet-E",name:"WaveNet E (Female)",language:"en-US",gender:"female",provider:"google"},{id:"en-US-Wavenet-F",name:"WaveNet F (Female)",language:"en-US",gender:"female",provider:"google"},{id:"en-US-Standard-A",name:"Standard A (Male)",language:"en-US",gender:"male",provider:"google"},{id:"en-US-Standard-B",name:"Standard B (Male)",language:"en-US",gender:"male",provider:"google"},{id:"en-US-Standard-C",name:"Standard C (Female)",language:"en-US",gender:"female",provider:"google"},{id:"en-US-Standard-D",name:"Standard D (Male)",language:"en-US",gender:"male",provider:"google"}];case"groq":return[{id:"Aaliyah-PlayAI",name:"Aaliyah",language:"en-US",gender:"female",provider:"groq"},{id:"Adelaide-PlayAI",name:"Adelaide",language:"en-US",gender:"female",provider:"groq"},{id:"Angelo-PlayAI",name:"Angelo",language:"en-US",gender:"male",provider:"groq"},{id:"Arista-PlayAI",name:"Arista",language:"en-US",gender:"female",provider:"groq"},{id:"Atlas-PlayAI",name:"Atlas",language:"en-US",gender:"male",provider:"groq"},{id:"Basil-PlayAI",name:"Basil",language:"en-US",gender:"male",provider:"groq"},{id:"Briggs-PlayAI",name:"Briggs",language:"en-US",gender:"male",provider:"groq"},{id:"Calum-PlayAI",name:"Calum",language:"en-US",gender:"male",provider:"groq"},{id:"Celeste-PlayAI",name:"Celeste",language:"en-US",gender:"female",provider:"groq"},{id:"Cheyenne-PlayAI",name:"Cheyenne",language:"en-US",gender:"female",provider:"groq"},{id:"Chip-PlayAI",name:"Chip",language:"en-US",gender:"male",provider:"groq"},{id:"Cillian-PlayAI",name:"Cillian",language:"en-US",gender:"male",provider:"groq"},{id:"Deedee-PlayAI",name:"Deedee",language:"en-US",gender:"female",provider:"groq"},{id:"Eleanor-PlayAI",name:"Eleanor",language:"en-US",gender:"female",provider:"groq"},{id:"Fritz-PlayAI",name:"Fritz",language:"en-US",gender:"male",provider:"groq"},{id:"Gail-PlayAI",name:"Gail",language:"en-US",gender:"female",provider:"groq"},{id:"Indigo-PlayAI",name:"Indigo",language:"en-US",gender:"neutral",provider:"groq"},{id:"Jennifer-PlayAI",name:"Jennifer",language:"en-US",gender:"female",provider:"groq"},{id:"Judy-PlayAI",name:"Judy",language:"en-US",gender:"female",provider:"groq"},{id:"Mamaw-PlayAI",name:"Mamaw",language:"en-US",gender:"female",provider:"groq"},{id:"Mason-PlayAI",name:"Mason",language:"en-US",gender:"male",provider:"groq"},{id:"Mikail-PlayAI",name:"Mikail",language:"en-US",gender:"male",provider:"groq"},{id:"Mitch-PlayAI",name:"Mitch",language:"en-US",gender:"male",provider:"groq"},{id:"Nia-PlayAI",name:"Nia",language:"en-US",gender:"female",provider:"groq"},{id:"Quinn-PlayAI",name:"Quinn",language:"en-US",gender:"neutral",provider:"groq"},{id:"Ruby-PlayAI",name:"Ruby",language:"en-US",gender:"female",provider:"groq"},{id:"Thunder-PlayAI",name:"Thunder",language:"en-US",gender:"male",provider:"groq"}];case"together":return[];default:return[]}}async speak(t,r={}){if(!this.provider)throw new Error("No provider configured for TTS");console.log("LLMProviderTTSProvider: speak() called, stopping any existing audio"),this.stop();const n=await this.speakViaProxy(t,r);return this.playAudio(n,r)}async speakViaProxy(t,r){const n=await this.getApiBase();let a=this.provider.type;a==="gemini"?a="google":a==="groq"&&(a="groq");const i=localStorage.getItem("google_access_token");if(!i)throw new Error("Authentication required. Please sign in.");const o=await fetch(`${n}/tts`,{method:"POST",headers:{Authorization:`Bearer ${i}`,"Content-Type":"application/json"},body:JSON.stringify({provider:a,text:t,voice:r.voice,rate:r.rate||1,pitch:r.pitch||1,model:a==="openai"?"tts-1":void 0,apiKey:this.provider.apiKey})});if(!o.ok){const l=await o.text();throw new Error(`TTS Proxy API error: ${o.status} - ${l}`)}return await o.blob()}async getApiBase(){const t=window.location.hostname;if(t==="localhost"||t==="127.0.0.1"){const r="http://localhost:3000";try{if((await fetch(r,{method:"OPTIONS",signal:AbortSignal.timeout(500)})).status!==void 0)return console.log(" Using local Lambda server for TTS"),r}catch{}}return"https://nrw7pperjjdswbmqgmigbwsbyi0rwdqf.lambda-url.us-east-1.on.aws"}async playAudio(t,r){const n=URL.createObjectURL(t);return this.audio=new Audio(n),this.audio.volume=r.volume||1,this.currentOnEnd=r.onEnd||null,new Promise((a,i)=>{if(!this.audio){i(new Error("Audio element not available"));return}this.audio.onplay=()=>r.onStart?.(),this.audio.onended=()=>{r.onEnd?.(),URL.revokeObjectURL(n),this.audio=null,this.currentOnEnd=null,a()},this.audio.onerror=()=>{const o=new Error("Audio playback failed");r.onError?.(o),URL.revokeObjectURL(n),this.audio=null,this.currentOnEnd=null,i(o)},this.audio.play().catch(o=>{const l=new Error(`Failed to start audio playback: ${o.message}`);r.onError?.(l),URL.revokeObjectURL(n),this.audio=null,this.currentOnEnd=null,i(l)})})}stop(){if(console.log("LLMProviderTTSProvider: stop() called",{hasAudio:!!this.audio}),this.audio){console.log("LLMProviderTTSProvider: Stopping audio",{paused:this.audio.paused,currentTime:this.audio.currentTime,duration:this.audio.duration,src:this.audio.src?.substring(0,50)}),this.audio.onended=null,this.audio.onerror=null,this.audio.oncanplaythrough=null,this.audio.pause(),this.audio.currentTime=0;const t=this.audio;this.audio=null,t.src&&t.src.startsWith("blob:")&&(console.log("LLMProviderTTSProvider: Revoking blob URL"),URL.revokeObjectURL(t.src),t.src="");try{t.remove()}catch(r){console.warn("Failed to remove audio element:",r)}if(console.log("LLMProviderTTSProvider: Audio stopped and cleaned up"),this.currentOnEnd){console.log("LLMProviderTTSProvider: Triggering onEnd callback");const r=this.currentOnEnd;this.currentOnEnd=null,r()}}else console.log("LLMProviderTTSProvider: No audio to stop")}pause(){this.audio&&!this.audio.paused&&this.audio.pause()}resume(){this.audio&&this.audio.paused&&this.audio.play().catch(console.error)}cleanup(){this.stop()}}class u3{name="elevenlabs";apiKey;audio=null;cachedVoices=null;currentOnEnd=null;constructor(t){this.apiKey=t}setApiKey(t){this.apiKey=t,this.cachedVoices=null}async isAvailable(){return!!this.apiKey}async getVoices(){if(this.cachedVoices)return this.cachedVoices;if(!this.apiKey)return[];try{const t=await fetch("https://api.elevenlabs.io/v1/voices",{headers:{"xi-api-key":this.apiKey,"Content-Type":"application/json"}});if(!t.ok)return console.error("Failed to fetch ElevenLabs voices:",t.status,t.statusText),[];const r=await t.json();return this.cachedVoices=r.voices.map(n=>({id:n.voice_id,name:n.name,language:n.labels?.language||"en",gender:this.detectGender(n.name,n.labels),provider:"elevenlabs"})),this.cachedVoices}catch(t){return console.error("Failed to fetch ElevenLabs voices:",t),[]}}detectGender(t,r){if(r?.gender)return r.gender.toLowerCase();const n=t.toLowerCase();return n.includes("bella")||n.includes("elli")||n.includes("rachel")||n.includes("domi")||n.includes("sarah")||n.includes("nicole")||n.includes("female")?"female":n.includes("adam")||n.includes("antoni")||n.includes("arnold")||n.includes("josh")||n.includes("sam")||n.includes("male")?"male":"neutral"}async speak(t,r={}){if(!this.apiKey)throw new Error("ElevenLabs API key not configured");const n=await this.getVoices();let a=r.voice;if(!a||!n.find(i=>i.id===a)){if(n.length===0)throw new Error("No ElevenLabs voices available");a=n[0].id}try{const i=await this.speakViaProxy(t,a,r);return this.playAudio(i,r)}catch(i){const o=i instanceof Error?i.message:"Unknown error";throw new Error(`ElevenLabs TTS failed: ${o}`)}}async speakViaProxy(t,r,n){const a=await this.getApiBase(),i=localStorage.getItem("google_id_token");if(!i)throw new Error("Authentication required. Please sign in.");const o=await fetch(`${a}/tts`,{method:"POST",headers:{Authorization:`Bearer ${i}`,"Content-Type":"application/json"},body:JSON.stringify({provider:"elevenlabs",text:t,voice:r,rate:n.rate||1,apiKey:this.apiKey})});if(!o.ok){const l=await o.text();throw new Error(`TTS Proxy API error: ${o.status} - ${l}`)}return await o.blob()}async getApiBase(){const t=window.location.hostname;if(t==="localhost"||t==="127.0.0.1"){const r="http://localhost:3000";try{if((await fetch(r,{method:"OPTIONS",signal:AbortSignal.timeout(500)})).status!==void 0)return console.log(" Using local Lambda server for TTS"),r}catch{}}return"https://nrw7pperjjdswbmqgmigbwsbyi0rwdqf.lambda-url.us-east-1.on.aws"}async playAudio(t,r){const n=URL.createObjectURL(t);return this.audio=new Audio(n),this.audio.volume=r.volume||1,this.currentOnEnd=r.onEnd||null,new Promise((a,i)=>{if(!this.audio){i(new Error("Audio element not available"));return}this.audio.onplay=()=>r.onStart?.(),this.audio.onended=()=>{r.onEnd?.(),URL.revokeObjectURL(n),this.audio=null,this.currentOnEnd=null,a()},this.audio.onerror=()=>{const o=new Error("Audio playback failed");r.onError?.(o),URL.revokeObjectURL(n),this.audio=null,this.currentOnEnd=null,i(o)},this.audio.play().catch(o=>{const l=new Error(`Failed to start audio playback: ${o.message}`);r.onError?.(l),URL.revokeObjectURL(n),this.audio=null,this.currentOnEnd=null,i(l)})})}stop(){this.audio&&(this.audio.pause(),this.audio.currentTime=0,this.audio.src&&this.audio.src.startsWith("blob:")&&URL.revokeObjectURL(this.audio.src),this.audio=null,this.currentOnEnd&&(console.log("ElevenLabsProvider: stop() triggering onEnd callback"),this.currentOnEnd(),this.currentOnEnd=null))}pause(){this.audio&&!this.audio.paused&&this.audio.pause()}resume(){this.audio&&this.audio.paused&&this.audio.play().catch(console.error)}cleanup(){this.stop(),this.cachedVoices=null}}function Wd(e){let t=e;return t=t.replace(/#{1,6}\s/g,""),t=t.replace(/\*\*\*(.*?)\*\*\*/g,"$1"),t=t.replace(/\*\*(.*?)\*\*/g,"$1"),t=t.replace(/\*(.*?)\*/g,"$1"),t=t.replace(/`{1,3}[^`]*`{1,3}/g,"code"),t=t.replace(/\[([^\]]+)\]\([^)]+\)/g,"$1"),t=t.replace(/<[^>]+>/g,""),t=t.replace(/&/g," and "),t=t.replace(/@/g," at "),t=t.replace(/#/g," hashtag "),t=t.replace(/\$/g," dollar "),t=t.replace(/%/g," percent "),t=t.replace(/[^\w\s.,!?;:'"()[\]{}\-]/g," "),t=t.replace(/\s+/g," ").trim(),t=t.replace(/\. /g,". ... "),t=t.replace(/, /g,", .. "),t=t.replace(/: /g,": .. "),t=t.replace(/; /g,"; .. "),t}function TX(e){if(typeof e=="string")return Wd(e);if(Array.isArray(e)){const t=e.filter(r=>r.type==="text").map(r=>r.text||r.content||"");return Wd(t.join(" "))}if(e&&typeof e=="object"){const t=e.text||e.content||"";return Wd(String(t))}return""}function B1(e,t=500){if(e.length<=t)return e;const r=e.substring(0,t),n=Math.max(r.lastIndexOf("."),r.lastIndexOf("!"),r.lastIndexOf("?"));return n>t*.7?r.substring(0,n+1)+" ... Content truncated for speech.":r+"... Content truncated for speech."}function wX(e,t,r=500){return t?e.length>r:!1}function G6(e){const t=e.toLowerCase();return t.includes("female")||t.includes("woman")||t.includes("alice")||t.includes("emma")||t.includes("nova")||t.includes("shimmer")||t.includes("samantha")||t.includes("victoria")||t.includes("alloy")?"female":t.includes("male")||t.includes("man")||t.includes("alex")||t.includes("daniel")||t.includes("onyx")||t.includes("echo")||t.includes("thomas")||t.includes("david")?"male":"neutral"}class kX{name="Browser Speech";synth;utterance=null;isStoppedIntentionally=!1;currentOnEndCallback=null;pollingInterval=null;constructor(){this.synth=window.speechSynthesis}async isAvailable(){return"speechSynthesis"in window&&"SpeechSynthesisUtterance"in window}async getVoices(){return await this.waitForVoices(),this.synth.getVoices().map(r=>({id:r.voiceURI,name:r.name,language:r.lang,gender:G6(r.name),provider:"browser"}))}waitForVoices(){return new Promise(t=>{if(this.synth.getVoices().length>0){t();return}const n=()=>{this.synth.removeEventListener("voiceschanged",n),t()};this.synth.addEventListener("voiceschanged",n),setTimeout(()=>{this.synth.removeEventListener("voiceschanged",n),t()},1e3)})}async speak(t,r={}){if(!t||t.trim().length===0){const i=new Error("Cannot speak empty text");throw r.onError?.(i),i}this.stop(),this.isStoppedIntentionally=!1,this.currentOnEndCallback=null;let n=Wd(t);n=B1(n,500);const a=(i,o)=>new Promise((l,u)=>{if(!i||i.trim().length===0){const h=new Error("Cannot speak empty text after preprocessing");return r.onError?.(h),u(h)}this.utterance=new SpeechSynthesisUtterance(i);const d=this.utterance;if(d.rate=r.rate||1,d.pitch=r.pitch||1,d.volume=r.volume||1,r.voice){const h=this.synth.getVoices();d.voice=h.find(g=>g.voiceURI===r.voice)||null}this.utterance.onstart=()=>r.onStart?.(),this.currentOnEndCallback=r.onEnd||null,this.utterance.onend=()=>{this.stopPolling(),r.onEnd?.(),this.currentOnEndCallback=null,this.utterance=null,l()},this.utterance.onerror=h=>{if(h.error==="synthesis-failed"&&o){const f=B1(i,200);return a(f,!1).then(l).catch(u)}const g=new Error(`Speech synthesis error: ${h.error}`);r.onError?.(g),this.currentOnEndCallback=null,this.utterance=null,u(g)},r.onBoundary&&(this.utterance.onboundary=h=>{const g=i.substring(h.charIndex,h.charIndex+h.charLength);r.onBoundary(g,h.charIndex)});try{this.synth.speak(this.utterance),this.startPolling()}catch(h){const g=new Error(`Failed to start speech: ${h}`);r.onError?.(g),this.utterance=null,u(g)}});return a(n,!0)}startPolling(){this.pollingInterval&&clearInterval(this.pollingInterval),this.pollingInterval=setInterval(()=>{if(this.utterance&&!this.synth.speaking&&!this.synth.pending&&(console.log("BrowserSpeechProvider: Polling detected speech stopped, triggering onEnd"),this.stopPolling(),this.currentOnEndCallback)){const t=this.currentOnEndCallback;this.currentOnEndCallback=null,this.utterance=null,t()}},500)}stopPolling(){this.pollingInterval&&(clearInterval(this.pollingInterval),this.pollingInterval=null)}stop(){if(console.log("BrowserSpeechProvider: stop() called",{hasUtterance:!!this.utterance,hasCallback:!!this.currentOnEndCallback,isStoppedIntentionally:this.isStoppedIntentionally}),this.stopPolling(),this.utterance||this.currentOnEndCallback){this.isStoppedIntentionally=!0;const t=this.currentOnEndCallback;this.synth.pause(),this.synth.cancel(),setTimeout(()=>{this.synth.speaking&&this.synth.cancel()},0),this.utterance=null,this.currentOnEndCallback=null,t&&(console.log("BrowserSpeechProvider: Manually calling onEnd callback"),setTimeout(()=>t(),0))}}pause(){this.synth.speaking&&!this.synth.paused&&this.synth.pause()}resume(){this.synth.paused&&this.synth.resume()}cleanup(){this.stopPolling(),this.stop(),this.isStoppedIntentionally=!1,this.currentOnEndCallback=null}}class CX{name="speakjs";speech=null;isPlaying=!1;isInitialized=!1;async initialize(){if(!this.isInitialized)try{const t=(await wr(async()=>{const{default:r}=await import("./speak-tts-D4KuiBOU.js").then(n=>n.s);return{default:r}},[])).default;this.speech=new t,await this.speech.init({volume:1,lang:"en-US",rate:1,pitch:1,splitSentences:!0}),this.isInitialized=!0,console.log(" speak.js: Initialized successfully")}catch(t){console.warn(" speak.js: Failed to initialize, will use silent fallback:",t)}}async isAvailable(){return!0}async getVoices(){if(await this.initialize(),this.speech&&this.isInitialized)try{return this.speech.voices().map(r=>({id:r.voiceURI||r.name,name:r.name,language:r.lang,gender:G6(r.name),provider:"speakjs"}))}catch(t){console.warn(" speak.js: Failed to get voices:",t)}return[{id:"speakjs-en",name:"speak.js English",language:"en-US",gender:"neutral",provider:"speakjs"}]}async speak(t,r={}){return this.stop(),await this.initialize(),this.speech&&this.isInitialized?new Promise((n,a)=>{this.isPlaying=!0,r.onStart?.(),this.speech.speak({text:t,queue:!1,listeners:{onstart:()=>{console.log(" speak.js: Started speaking")},onend:()=>{console.log(" speak.js: Finished speaking"),this.isPlaying=!1,r.onEnd?.(),n()},onerror:i=>{console.error(" speak.js: Error:",i),this.isPlaying=!1,r.onError?.(i),a(i)}}}).catch(i=>{console.error(" speak.js: speak() failed:",i),this.isPlaying=!1,r.onError?.(i),a(i)})}):(console.warn(" speak.js: Library not available, using silent fallback"),this.silentFallback(t,r))}async silentFallback(t,r={}){return new Promise(n=>{r.onStart?.(),this.isPlaying=!0;const a=Math.min(t.length*80,1e4);setTimeout(()=>{this.isPlaying&&(r.onEnd?.(),this.isPlaying=!1,n())},a)})}stop(){if(this.isPlaying=!1,this.speech&&this.isInitialized)try{this.speech.cancel()}catch(t){console.warn(" speak.js: Error stopping speech:",t)}}pause(){if(this.speech&&this.isInitialized)try{this.speech.pause()}catch{console.warn(" speak.js: Pause not supported")}}resume(){if(this.speech&&this.isInitialized)try{this.speech.resume()}catch{console.warn(" speak.js: Resume not supported")}}cleanup(){this.stop(),this.speech=null,this.isInitialized=!1}}class _X{providers=new Map;llmProviders=[];async initializeProviders(t,r){this.llmProviders=t,this.providers.clear(),await this.initializeLLMProviders();const n=this.getBestLLMProviderForTTS();if(n){const o=new Ad(n);await o.isAvailable()&&this.providers.set("llm",o)}if(r){const o=new u3(r);await o.isAvailable()&&this.providers.set("elevenlabs",o)}const a=new kX;await a.isAvailable()&&this.providers.set("browser",a);const i=new CX;await i.isAvailable()&&this.providers.set("speakjs",i)}async initializeLLMProviders(){const t=this.llmProviders.find(i=>i.type==="openai"&&i.enabled!==!1);if(t){const i=new Ad(t);await i.isAvailable()&&this.providers.set("openai-tts",i)}const r=this.llmProviders.find(i=>i.type==="groq"&&i.enabled!==!1);if(r){const i=new Ad(r);await i.isAvailable()&&this.providers.set("groq-tts",i)}const n=this.llmProviders.find(i=>i.type==="gemini"&&i.enabled!==!1);if(n){const i=new Ad(n);await i.isAvailable()&&this.providers.set("gemini-tts",i)}const a=this.llmProviders.find(i=>i.type==="together"&&i.enabled!==!1);if(a){const i=new Ad(a);await i.isAvailable()&&this.providers.set("together-tts",i)}}getBestLLMProviderForTTS(){const t=["openai","gemini","groq","together"];for(const r of t){const n=this.llmProviders.find(a=>a.type===r&&a.enabled!==!1);if(n)return n}return null}getProvider(t){return this.providers.get(t)}getAvailableProviders(){const t=Array.from(this.providers.keys());t.includes("elevenlabs")||t.push("elevenlabs");const r=["openai-tts","groq-tts","gemini-tts","together-tts","llm","elevenlabs","browser","speakjs"];return t.sort((n,a)=>{const i=r.indexOf(n),o=r.indexOf(a);return(i===-1?999:i)-(o===-1?999:o)})}getAvailableLLMProviders(){return this.llmProviders.filter(t=>t.enabled!==!1&&["openai","gemini","groq","together"].includes(t.type)).map(t=>({type:t.type,name:this.getLLMProviderDisplayName(t.type)}))}getLLMProviderByType(t){return this.llmProviders.find(r=>r.type===t&&r.enabled!==!1)||null}getLLMProviderDisplayName(t){return{openai:"OpenAI",gemini:"Gemini",groq:"Groq",together:"Together AI"}[t]||t}getDefaultProvider(){const t=["openai-tts","groq-tts","gemini-tts","together-tts","llm","elevenlabs","browser","speakjs"];for(const r of t){const n=this.providers.get(r);if(n)return n}return null}getDefaultProviderType(){const t=["openai-tts","groq-tts","gemini-tts","together-tts","llm","elevenlabs","browser","speakjs"];for(const r of t)if(this.providers.has(r))return r;return null}async updateLLMProviders(t){this.llmProviders=t;const r=this.getBestLLMProviderForTTS();if(r){const n=this.providers.get("llm");if(n)n.setProvider(r);else{const a=new Ad(r);await a.isAvailable()&&this.providers.set("llm",a)}}else this.providers.delete("llm")}async updateElevenLabsApiKey(t){if(t){const r=this.providers.get("elevenlabs");if(r)r.setApiKey(t);else{const n=new u3(t);await n.isAvailable()&&this.providers.set("elevenlabs",n)}}else this.providers.delete("elevenlabs")}cleanup(){this.providers.forEach(t=>{if(t&&typeof t.stop=="function")try{t.stop()}catch(r){console.warn("Error stopping TTS provider:",r)}if(t&&typeof t.cleanup=="function")try{t.cleanup()}catch(r){console.warn("Error cleaning up TTS provider:",r)}}),this.providers.clear()}getCurrentLLMProviderInfo(){const t=this.getBestLLMProviderForTTS();return t?{name:{openai:"OpenAI",gemini:"Google Gemini",groq:"Groq",together:"Together AI",atlascloud:"Atlas Cloud"}[t.type]||t.type,type:t.type}:null}}class AX{async generateSpeakableSummary(t,r){if(t.length<500)return Wd(t);const n=`Convert the following text into a concise, natural-sounding spoken summary. 
The summary should:
- Be 2-3 sentences maximum
- Sound natural when read aloud
- Capture the key points
- Avoid technical jargon or formatting
- Use conversational language

Text to summarize:
${t}

Speakable summary:`;try{const a=await fetch("/api/chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({messages:[{role:"system",content:"You are a helpful assistant that creates concise, natural-sounding spoken summaries."},{role:"user",content:n}],provider:r.type,apiKey:r.apiKey,maxTokens:200,temperature:.7,ttsMode:!0})});if(!a.ok)throw new Error(`Summary API error: ${a.status}`);const i=await a.json();let o="";if(i.choices&&i.choices[0]?.message?.content)o=i.choices[0].message.content;else if(i.content)o=i.content;else throw new Error("No summary content in response");return Wd(o)}catch(a){return console.error("Failed to generate speakable summary:",a),B1(t,500)}}shouldSummarize(t,r,n=500){return r?t.length>n:!1}}const q6=C.createContext(void 0),NX=({children:e})=>{const{settings:t}=mo(),{ttsCapabilities:r}=_m(),[n,a]=xi("tts_settings",SX),[i]=C.useState(()=>new _X),[o]=C.useState(()=>new AX),[l,u]=C.useState(null),d=C.useRef(!1),[h,g]=C.useState({isEnabled:n.isEnabled,isPlaying:!1,currentText:null,currentProvider:n.currentProvider,currentVoice:n.currentVoice,rate:n.rate,pitch:n.pitch,volume:n.volume,providers:[],voices:[],autoSummarize:n.autoSummarize,elevenlabsApiKey:n.elevenlabsApiKey});C.useEffect(()=>((async()=>{try{i.cleanup();const O=[...t.providers];r?.groq&&!O.some(ne=>ne.type==="groq")&&(console.log(" TTS: Adding Groq TTS from backend"),O.push({id:"backend-groq",type:"groq",apiKey:"[BACKEND]",apiEndpoint:"",enabled:!0})),r?.openai&&!O.some(ne=>ne.type==="openai")&&(console.log(" TTS: Adding OpenAI TTS from backend"),O.push({id:"backend-openai",type:"openai",apiKey:"[BACKEND]",apiEndpoint:"",enabled:!0})),r?.gemini&&!O.some(ne=>ne.type==="gemini")&&(console.log(" TTS: Adding Gemini TTS from backend"),O.push({id:"backend-gemini",type:"gemini",apiKey:"[BACKEND]",apiEndpoint:"",enabled:!0})),r?.together&&!O.some(ne=>ne.type==="together")&&(console.log(" TTS: Adding Together TTS from backend"),O.push({id:"backend-together",type:"together",apiKey:"[BACKEND]",apiEndpoint:"",enabled:!0})),await i.initializeProviders(O,n.elevenlabsApiKey);const H=i.getAvailableProviders();console.log(" TTS: Available providers:",H);let $=n.currentProvider;H.includes($)||($=i.getDefaultProviderType()||"speakjs");const Y=i.getProvider($),V=Y?await Y.getVoices():[];g(ne=>({...ne,currentProvider:$,providers:[],voices:V})),$!==n.currentProvider&&a(ne=>({...ne,currentProvider:$}))}catch(O){console.error("Failed to initialize TTS providers:",O)}})(),()=>{i.cleanup()}),[t.providers,n.elevenlabsApiKey,r]),C.useEffect(()=>{(async()=>{const O=i.getProvider(n.currentProvider);if(O)try{const H=await O.getVoices();g($=>({...$,voices:H,currentVoice:H.find(Y=>Y.id===$.currentVoice)?$.currentVoice:null}))}catch(H){console.error("Failed to load voices:",H),g($=>({...$,voices:[]}))}})()},[n.currentProvider]);const f=C.useCallback(async(Q,O={})=>{if(!h.isEnabled)throw new Error("TTS is disabled");console.log("TTSContext.speak() - Resetting isStoppingIntentionally flag (starting new speech)"),d.current=!1;let H=TX(Q);if(O.shouldSummarize||wX(H,h.autoSummarize))try{const G=t.providers.find(F=>F.enabled!==!1&&F.apiKey);G&&(H=await o.generateSpeakableSummary(H,G))}catch(G){console.warn("Failed to generate summary, using original text:",G)}g(G=>({...G,isPlaying:!0,currentText:H})),l&&(clearTimeout(l),u(null));const $=setTimeout(()=>{console.log("TTSContext: Fallback timeout triggered - forcing isPlaying to false"),g(G=>({...G,isPlaying:!1,currentText:null})),u(null)},3e4);u($);const V=(G=>G==="browser"?["browser","speakjs"]:G==="speakjs"?["speakjs"]:[G])(h.currentProvider),ne={voice:h.currentVoice||void 0,rate:h.rate,pitch:h.pitch,volume:h.volume,onStart:()=>{O.onStart?.()},onEnd:()=>{if(console.log("TTSContext speak onEnd callback - checking if intentional stop:",d.current),d.current){console.log("TTSContext speak onEnd - INTENTIONAL STOP, skipping onEnd callback and ensuring clean state"),l&&(clearTimeout(l),u(null)),g(G=>({...G,isPlaying:!1,currentText:null}));return}console.log("TTSContext speak onEnd callback - setting isPlaying to false"),l&&(clearTimeout(l),u(null)),g(G=>(console.log("TTSContext speak onEnd - prev state:",{isPlaying:G.isPlaying}),{...G,isPlaying:!1,currentText:null})),O.onEnd?.()},onError:G=>{g(F=>({...F,isPlaying:!1,currentText:null})),O.onError?.(G)},onBoundary:O.onBoundary,...O};let P=null,I=null;for(const G of V){const F=i.getProvider(G);if(F)try{G!==h.currentProvider?console.warn(`TTS: ${h.currentProvider} failed, falling back to ${G}`):console.log(`TTS: Using primary provider ${G}`),await F.speak(H,ne),I=G,console.log(`TTS: Successfully used provider ${G}`);break}catch(ie){console.warn(`TTS provider ${G} failed:`,ie),P=ie;continue}}if(!I)throw g(G=>({...G,isPlaying:!1,currentText:null})),P||new Error("All TTS providers failed")},[h,t.providers,i,o]),b=C.useCallback(()=>{console.log("TTSContext.stop() called - INTENTIONAL STOP"),d.current=!0,l&&(clearTimeout(l),u(null)),typeof window<"u"&&window.speechSynthesis&&(console.log("TTSContext.stop() - Stopping speechSynthesis"),window.speechSynthesis.cancel());const Q=document.querySelectorAll("audio");console.log("TTSContext.stop() - Found",Q.length,"audio elements"),Q.forEach(O=>{O.paused||(console.log("TTSContext.stop() - Force stopping audio element"),O.pause(),O.currentTime=0,O.src&&O.src.startsWith("blob:")&&(URL.revokeObjectURL(O.src),O.src=""))}),g(O=>{console.log("TTSContext.stop() - stopping, prev state:",{isPlaying:O.isPlaying,currentProvider:O.currentProvider});const H=i.getProvider(O.currentProvider);if(H){console.log("TTSContext.stop() - calling provider.stop()");try{H.stop()}catch($){console.error("TTSContext.stop() - Error calling provider.stop():",$)}}else console.warn("TTSContext.stop() - no provider found for:",O.currentProvider);return{...O,isPlaying:!1,currentText:null}})},[i,l]),x=C.useCallback(()=>{g(Q=>{const O=i.getProvider(Q.currentProvider);return O&&O.pause&&O.pause(),Q})},[i]),E=C.useCallback(()=>{g(Q=>{const O=i.getProvider(Q.currentProvider);return O&&O.resume&&O.resume(),Q})},[i]),v=C.useCallback(Q=>{g(O=>({...O,isEnabled:Q})),a(O=>({...O,isEnabled:Q}))},[a]),T=C.useCallback(async Q=>{const O=i.getProvider(Q);if(O){b();try{const H=await O.getVoices();g($=>({...$,currentProvider:Q,voices:H,currentVoice:null})),a($=>({...$,currentProvider:Q,currentVoice:null}))}catch(H){console.error("Failed to switch provider:",H)}}},[i,b,a]),w=C.useCallback(Q=>{g(O=>({...O,currentVoice:Q})),a(O=>({...O,currentVoice:Q}))},[a]),N=C.useCallback(Q=>{g(O=>({...O,rate:Q})),a(O=>({...O,rate:Q}))},[a]),R=C.useCallback(Q=>{g(O=>({...O,pitch:Q})),a(O=>({...O,pitch:Q}))},[a]),D=C.useCallback(Q=>{g(O=>({...O,volume:Q})),a(O=>({...O,volume:Q}))},[a]),L=C.useCallback(Q=>{g(O=>({...O,autoSummarize:Q})),a(O=>({...O,autoSummarize:Q}))},[a]),j=C.useCallback(async Q=>{g(H=>({...H,elevenlabsApiKey:Q})),a(H=>({...H,elevenlabsApiKey:Q})),await i.updateElevenLabsApiKey(Q);const O=i.getAvailableProviders();console.log("Available TTS providers after ElevenLabs update:",O)},[a,i]),B=C.useCallback(()=>i.getAvailableProviders(),[i]),q=C.useCallback(async Q=>{const O=i.getProvider(Q);return O?await O.getVoices():[]},[i]),z=C.useCallback(async(Q,O)=>f(Q,{shouldSummarize:O}),[f]),K=C.useCallback(async(Q,O)=>f(Q,{shouldSummarize:O}),[f]),X={state:h,speak:f,stop:b,pause:x,resume:E,setEnabled:v,setProvider:T,setVoice:w,setRate:N,setPitch:R,setVolume:D,setAutoSummarize:L,setElevenLabsApiKey:j,getAvailableProviders:B,getVoicesForProvider:q,speakResponse:z,speakSnippet:K};return s.jsx(q6.Provider,{value:X,children:e})},Dy=()=>{const e=C.useContext(q6);if(!e)throw new Error("useTTS must be used within a TTSProvider");return e},IX="ChatHistoryDB",RX=1,Ta="chats";class DX{db=null;initPromise=null;async init(){return this.db?this.db:this.initPromise?this.initPromise:(this.initPromise=new Promise((t,r)=>{const n=indexedDB.open(IX,RX);n.onerror=()=>{console.error("Failed to open IndexedDB:",n.error),r(n.error)},n.onsuccess=()=>{this.db=n.result,console.log("IndexedDB initialized successfully"),t(this.db)},n.onupgradeneeded=a=>{const i=a.target.result;i.objectStoreNames.contains(Ta)||(i.createObjectStore(Ta,{keyPath:"id"}).createIndex("timestamp","timestamp",{unique:!1}),console.log("Created chat history object store"))}}),this.initPromise)}async saveChat(t,r,n,a){try{const l=(await this.init()).transaction([Ta],"readwrite").objectStore(Ta),u={id:t,messages:r,timestamp:Date.now(),title:n,...a?.systemPrompt&&{systemPrompt:a.systemPrompt},...a?.planningQuery&&{planningQuery:a.planningQuery},...a?.generatedSystemPrompt&&{generatedSystemPrompt:a.generatedSystemPrompt},...a?.generatedUserQuery&&{generatedUserQuery:a.generatedUserQuery},...a?.selectedSnippetIds&&{selectedSnippetIds:a.selectedSnippetIds},...a?.todosState&&{todosState:a.todosState}};await new Promise((d,h)=>{const g=l.put(u);g.onsuccess=()=>d(),g.onerror=()=>h(g.error)}),console.log(`Saved chat ${t} to IndexedDB with planning/todos metadata`)}catch(i){throw console.error("Error saving chat to IndexedDB:",i),i}}async getChat(t){try{const a=(await this.init()).transaction([Ta],"readonly").objectStore(Ta);return new Promise((i,o)=>{const l=a.get(t);l.onsuccess=()=>{const u=l.result;i(u?u.messages:null)},l.onerror=()=>o(l.error)})}catch(r){return console.error("Error getting chat from IndexedDB:",r),null}}async getChatWithMetadata(t){try{const a=(await this.init()).transaction([Ta],"readonly").objectStore(Ta);return new Promise((i,o)=>{const l=a.get(t);l.onsuccess=()=>{const u=l.result;i(u||null)},l.onerror=()=>o(l.error)})}catch(r){return console.error("Error getting chat with metadata from IndexedDB:",r),null}}async getAllChats(){try{const n=(await this.init()).transaction([Ta],"readonly").objectStore(Ta);return new Promise((a,i)=>{const o=n.getAll();o.onsuccess=()=>a(o.result||[]),o.onerror=()=>i(o.error)})}catch(t){return console.error("Error getting all chats from IndexedDB:",t),[]}}async deleteChat(t){try{const a=(await this.init()).transaction([Ta],"readwrite").objectStore(Ta);await new Promise((i,o)=>{const l=a.delete(t);l.onsuccess=()=>i(),l.onerror=()=>o(l.error)}),console.log(`Deleted chat ${t} from IndexedDB`)}catch(r){throw console.error("Error deleting chat from IndexedDB:",r),r}}async clearAllChats(){try{const n=(await this.init()).transaction([Ta],"readwrite").objectStore(Ta);await new Promise((a,i)=>{const o=n.clear();o.onsuccess=()=>a(),o.onerror=()=>i(o.error)}),console.log("Cleared all chats from IndexedDB")}catch(t){throw console.error("Error clearing all chats from IndexedDB:",t),t}}async getOldestChats(t){try{const i=(await this.init()).transaction([Ta],"readonly").objectStore(Ta).index("timestamp");return new Promise((o,l)=>{const u=i.openCursor(),d=[];u.onsuccess=h=>{const g=h.target.result;g&&d.length<t?(d.push(g.value),g.continue()):o(d)},u.onerror=()=>l(u.error)})}catch(r){return console.error("Error getting oldest chats:",r),[]}}async getCount(){try{const n=(await this.init()).transaction([Ta],"readonly").objectStore(Ta);return new Promise((a,i)=>{const o=n.count();o.onsuccess=()=>a(o.result),o.onerror=()=>i(o.error)})}catch(t){return console.error("Error getting chat count:",t),0}}async cleanupOldChats(t){try{const r=await this.getAllChats();if(r.length<=t)return 0;const a=r.sort((u,d)=>u.timestamp-d.timestamp).slice(0,r.length-t),o=(await this.init()).transaction([Ta],"readwrite"),l=o.objectStore(Ta);for(const u of a)l.delete(u.id);return await new Promise((u,d)=>{o.oncomplete=()=>u(),o.onerror=()=>d(o.error)}),console.log(`Cleaned up ${a.length} old chats`),a.length}catch(r){return console.error("Error cleaning up old chats:",r),0}}async migrateFromLocalStorage(){try{let t=0;const r=Object.keys(localStorage).filter(n=>n.startsWith("chat_history_"));for(const n of r)try{const a=localStorage.getItem(n);if(a){const i=JSON.parse(a),o=n.replace("chat_history_","");await this.saveChat(o,i),localStorage.removeItem(n),t++}}catch(a){console.error(`Error migrating ${n}:`,a)}return t>0&&console.log(`Migrated ${t} chat histories from localStorage to IndexedDB`),t}catch(t){return console.error("Error during migration:",t),0}}}const mu=new DX,LX=({className:e=""})=>{const t=ni();return s.jsx("button",{onClick:()=>t("/image-editor"),className:e,title:"Image Editor",children:s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})})})},W6=({onOpenSettings:e,hideGitHub:t=!1})=>{const r=ni(),n=Gi(),a=n.pathname==="/help"||n.pathname==="/privacy";return s.jsxs("div",{className:"hidden md:flex fixed bottom-4 right-4 flex-col gap-2 z-50",style:{zIndex:9999},children:[e&&s.jsx("button",{onClick:()=>r("/quiz"),className:"p-3 bg-indigo-600 hover:bg-indigo-500 dark:bg-indigo-700 dark:hover:bg-indigo-600 text-white rounded-full shadow-lg transition-all duration-200 hover:scale-110 flex items-center justify-center",title:"Quiz Statistics",children:s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})})}),e&&s.jsx(LX,{className:"p-3 bg-orange-600 hover:bg-orange-500 dark:bg-orange-700 dark:hover:bg-orange-600 text-white rounded-full shadow-lg transition-all duration-200 hover:scale-110 flex items-center justify-center"}),e&&s.jsx("button",{onClick:e,className:"p-3 bg-purple-600 hover:bg-purple-500 dark:bg-purple-700 dark:hover:bg-purple-600 text-white rounded-full shadow-lg transition-all duration-200 hover:scale-110 flex items-center justify-center",title:"Settings",children:s.jsxs("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:[s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})}),e&&!a&&s.jsx("button",{onClick:()=>r("/help"),className:"p-3 bg-blue-600 hover:bg-blue-500 dark:bg-blue-700 dark:hover:bg-blue-600 text-white rounded-full shadow-lg transition-all duration-200 hover:scale-110 flex items-center justify-center",title:"Help & Documentation",children:s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e&&s.jsx("a",{href:"/privacy.html",target:"_blank",rel:"noopener noreferrer",className:"p-3 bg-green-600 hover:bg-green-500 dark:bg-green-700 dark:hover:bg-green-600 text-white rounded-full shadow-lg transition-all duration-200 hover:scale-110 flex items-center justify-center",title:"Privacy Policy",children:s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),!t&&s.jsx("a",{href:"https://github.com/syntithenai/lambdallmproxy",target:"_blank",rel:"noopener noreferrer",className:"p-3 bg-gray-800 hover:bg-gray-700 dark:bg-gray-700 dark:hover:bg-gray-600 text-white rounded-full shadow-lg transition-all duration-200 hover:scale-110 flex items-center justify-center",title:"View on GitHub",children:s.jsx("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:s.jsx("path",{d:"M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"})})})]})},OX=()=>{const{t:e,i18n:t}=xc(),{login:r}=Ps(),n=C.useRef(null),[a,i]=C.useState(!1),o=l=>{t.changeLanguage(l)};return C.useEffect(()=>{if(n.current){const l=()=>{if(typeof google<"u"&&google.accounts){console.error(" VITE_GOOGLE_CLIENT_ID not configured in ui-new/.env");return}else console.log("LoginScreen: Google SDK not loaded yet, retrying..."),setTimeout(l,100)};l()}},[r,a]),s.jsxs("div",{className:"fixed inset-0 flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-gray-900 dark:to-gray-800",children:[s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-2xl p-12 max-w-3xl w-full mx-4 relative overflow-y-auto max-h-[95vh]",children:[s.jsx("div",{className:"absolute top-4 right-4",children:s.jsxs("select",{value:t.language,onChange:l=>o(l.target.value),className:"px-3 py-1.5 text-sm border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsxs("option",{value:"en",children:[" ",e("languages.en")]}),s.jsxs("option",{value:"es",children:[" ",e("languages.es")]}),s.jsxs("option",{value:"fr",children:[" ",e("languages.fr")]}),s.jsxs("option",{value:"de",children:[" ",e("languages.de")]}),s.jsxs("option",{value:"nl",children:[" ",e("languages.nl")]}),s.jsxs("option",{value:"pt",children:[" ",e("languages.pt")]}),s.jsxs("option",{value:"ru",children:[" ",e("languages.ru")]}),s.jsxs("option",{value:"zh",children:[" ",e("languages.zh")]}),s.jsxs("option",{value:"ja",children:[" ",e("languages.ja")]}),s.jsxs("option",{value:"ar",children:[" ",e("languages.ar")]})]})}),s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("div",{className:"inline-flex items-center justify-center mb-4",children:s.jsx("img",{src:"/agent.png",alt:e("auth.researchAgent"),className:"w-24 h-24 object-contain"})}),s.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100 mb-2",children:e("auth.researchAgent")}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:e("auth.tagline")}),s.jsx("div",{className:"flex justify-center mb-4",children:s.jsx("div",{ref:n,id:"login-screen-google-signin",className:"min-w-[300px] min-h-[44px]",style:{display:"flex",alignItems:"center",justifyContent:"center"}})}),s.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:e("auth.secureAuth")}),s.jsx("div",{className:"mt-3",children:s.jsx(Aw,{to:"/privacy",className:"text-sm text-blue-600 dark:text-blue-400 hover:underline font-medium",children:" Privacy Policy"})})]}),s.jsxs("div",{className:"mb-8 text-left space-y-4 max-w-2xl mx-auto",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white text-center",children:e("auth.whyChooseTitle")}),s.jsx("p",{className:"text-gray-700 dark:text-gray-300 text-sm leading-relaxed",children:e("auth.whyChooseIntro")}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("h3",{className:"text-base font-semibold text-gray-900 dark:text-white",children:e("auth.keyAdvantagesTitle")}),s.jsxs("div",{className:"space-y-2.5 text-sm",children:[s.jsxs("div",{children:[s.jsxs("strong",{className:"text-blue-600 dark:text-blue-400",children:[e("auth.webConnected"),":"]}),s.jsxs("span",{className:"text-gray-700 dark:text-gray-300",children:[" ",e("auth.webConnectedDesc")]})]}),s.jsxs("div",{children:[s.jsxs("strong",{className:"text-purple-600 dark:text-purple-400",children:[e("auth.multiTool"),":"]}),s.jsxs("span",{className:"text-gray-700 dark:text-gray-300",children:[" ",e("auth.multiToolDesc")]})]}),s.jsxs("div",{children:[s.jsxs("strong",{className:"text-green-600 dark:text-green-400",children:[e("auth.knowledgeBase"),":"]}),s.jsxs("span",{className:"text-gray-700 dark:text-gray-300",children:[" ",e("auth.knowledgeBaseDesc")]})]}),s.jsxs("div",{children:[s.jsxs("strong",{className:"text-indigo-600 dark:text-indigo-400",children:[e("auth.advancedPlanning"),":"]}),s.jsxs("span",{className:"text-gray-700 dark:text-gray-300",children:[" ",e("auth.advancedPlanningDesc")]})]}),s.jsxs("div",{children:[s.jsxs("strong",{className:"text-yellow-600 dark:text-yellow-400",children:[e("auth.costEffective"),":"]}),s.jsxs("span",{className:"text-gray-700 dark:text-gray-300",children:[" ",e("auth.costEffectiveDesc")]})]}),s.jsxs("div",{children:[s.jsxs("strong",{className:"text-pink-600 dark:text-pink-400",children:[e("auth.transparency"),":"]}),s.jsxs("span",{className:"text-gray-700 dark:text-gray-300",children:[" ",e("auth.transparencyDesc")]})]})]})]}),s.jsx("p",{className:"text-gray-700 dark:text-gray-300 text-sm italic border-t border-gray-200 dark:border-gray-700 pt-3",children:e("auth.perfectFor")})]})]}),s.jsx(W6,{hideGitHub:!0})]})},d3=()=>{const{user:e,logout:t}=Ps(),{isAvailable:r,isConnected:n,deviceName:a,requestSession:i,endSession:o}=Am();if(!e)return null;const l=()=>{n?o():i()};return s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("button",{onClick:t,className:"btn-secondary px-3 py-2 flex items-center gap-2",title:`Sign out ${e.email}`,"aria-label":"Logout",children:[e.picture&&s.jsx("img",{src:e.picture,alt:e.name||e.email,className:"w-6 h-6 rounded-full",referrerPolicy:"no-referrer"}),s.jsx("span",{children:"Logout"})]}),r&&s.jsx("button",{onClick:l,className:`btn-secondary p-2 ${n?"bg-blue-500 text-white hover:bg-blue-600":""}`,title:n?`Casting to ${a}`:"Cast to TV","aria-label":n?`Casting to ${a}`:"Cast to TV",children:s.jsx("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",fill:"currentColor",children:s.jsx("path",{d:"M1,18 v3 h3 c0,-1.66 -1.34,-3 -3,-3 z M1,14 v2 c2.76,0 5,2.24 5,5 h2 c0,-3.87 -3.13,-7 -7,-7 z M1,10 v2 c4.97,0 9,4.03 9,9 h2 c0,-6.08 -4.93,-11 -11,-11 z M21,3 H3 C1.9,3 1,3.9 1,5 v3 h2 V5 h18 v14 h-7 v2 h7 c1.1,0 2,-0.9 2,-2 V5 c0,-1.1 -0.9,-2 -2,-2 z"})})})]})};function Au(e,t,r=!0){const n=C.useRef(null),a=C.useCallback(o=>{o.key==="Escape"&&t()},[t]),i=C.useCallback(o=>{r&&n.current&&o.target===n.current&&t()},[t,r]);return C.useEffect(()=>{if(e)return document.addEventListener("keydown",a),document.addEventListener("mousedown",i),()=>{document.removeEventListener("keydown",a),document.removeEventListener("mousedown",i)}},[e,a,i]),n}const MX=({isOpen:e,onClose:t})=>{const r=Au(e,t),{playlist:n,currentTrackIndex:a,isPlaying:i,playTrack:o,removeTrack:l,clearPlaylist:u,currentTrack:d,savedPlaylists:h,savePlaylistAs:g,loadPlaylist:f,deletePlaylist:b,previousTrack:x,nextTrack:E,togglePlayPause:v,shuffleMode:T,toggleShuffle:w,repeatMode:N,setRepeatMode:R,playbackRate:D,setPlaybackRate:L,volume:j,setVolume:B}=Cu(),{isAvailable:q,deviceName:z,castVideo:K,sendVideoCommand:X,isCastingVideo:Q}=Am(),{showSuccess:O,showError:H}=go(),$=C.useRef(null),[Y,V]=C.useState(!1),[ne,P]=C.useState(!1),[I,G]=C.useState(""),[F,ie]=C.useState("");C.useEffect(()=>{if(!e)return;const pe=Be=>{Be.key==="Escape"&&t()};return window.addEventListener("keydown",pe),()=>window.removeEventListener("keydown",pe)},[e,t]);const he=C.useMemo(()=>{if(!F.trim())return n;const pe=F.toLowerCase();return n.filter(Be=>Be.title.toLowerCase().includes(pe)||Be.channel?.toLowerCase().includes(pe)||Be.description?.toLowerCase().includes(pe))},[n,F]),ye=PX(he),ge=he.length;return e?s.jsx("div",{ref:r,className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 p-2 sm:p-4",children:s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-2xl w-full max-w-4xl max-h-[95vh] sm:max-h-[90vh] flex flex-col",children:[s.jsxs("div",{className:"flex justify-between items-center p-3 sm:p-4 border-b border-gray-200 dark:border-gray-700",children:[s.jsxs("h2",{className:"text-lg sm:text-xl font-bold text-gray-900 dark:text-gray-100",children:[" YouTube Playlist",s.jsx("span",{className:"ml-2 text-sm font-normal text-gray-600 dark:text-gray-400",children:F?s.jsxs(s.Fragment,{children:["(",ge," of ",n.length," ",n.length===1?"video":"videos",")"]}):s.jsxs(s.Fragment,{children:["(",n.length," ",n.length===1?"video":"videos",")"]})})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[d&&s.jsxs(s.Fragment,{children:[s.jsx("button",{onClick:x,className:"p-2 rounded-full bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors",title:"Previous track",children:s.jsx("svg",{className:"w-5 h-5 text-gray-800 dark:text-gray-200",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M6 6h2v12H6zm3.5 6l8.5 6V6z"})})}),s.jsx("button",{onClick:v,className:"p-2 rounded-full bg-blue-600 hover:bg-blue-700 transition-colors",title:i?"Pause":"Play",children:i?s.jsx("svg",{className:"w-5 h-5 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M6 4h4v16H6V4zm8 0h4v16h-4V4z"})}):s.jsx("svg",{className:"w-5 h-5 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M8 5v14l11-7z"})})}),s.jsx("button",{onClick:E,className:"p-2 rounded-full bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors",title:"Next track",children:s.jsx("svg",{className:"w-5 h-5 text-gray-800 dark:text-gray-200",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M6 18l8.5-6L6 6v12zM16 6v12h2V6h-2z"})})})]}),s.jsx("button",{onClick:t,className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 p-1",title:"Close (Esc)",children:s.jsx("svg",{className:"w-5 h-5 sm:w-6 sm:h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]}),s.jsxs("div",{className:"flex-1 overflow-y-auto",children:[d&&s.jsxs("div",{className:"w-2/3 mx-auto flex-shrink-0 mt-4 relative",children:[s.jsx("div",{id:"dialog-player-container",className:"w-full relative"}),Q&&s.jsx("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-black/50 backdrop-blur-sm z-10",children:s.jsxs("div",{className:"text-center p-6",children:[s.jsx("div",{className:"text-6xl mb-4 animate-pulse",children:""}),s.jsxs("h3",{className:"text-white text-xl font-semibold mb-2",children:["Casting to ",z]}),s.jsx("p",{className:"text-gray-300 text-sm mb-4",children:d.title}),s.jsxs("div",{className:"flex gap-3 justify-center",children:[s.jsx("button",{onClick:()=>X(i?"pause":"play"),className:"px-4 py-2 bg-white/20 hover:bg-white/30 text-white rounded transition-colors",children:i?" Pause":" Play"}),s.jsx("button",{onClick:()=>X("stop"),className:"px-4 py-2 bg-red-500/80 hover:bg-red-600/80 text-white rounded transition-colors",children:" Stop Casting"})]})]})}),s.jsxs("div",{className:"p-3 sm:p-4 bg-gray-900 text-white",children:[s.jsx("h3",{className:"font-semibold text-base sm:text-lg mb-1",children:d.title}),s.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-xs sm:text-sm text-gray-300",children:[d.channel&&s.jsxs(s.Fragment,{children:[s.jsxs("span",{className:"flex items-center gap-1",children:[" ",d.channel]}),s.jsx("span",{children:""})]}),d.duration&&s.jsxs(s.Fragment,{children:[s.jsxs("span",{className:"flex items-center gap-1",children:[" ",d.duration]}),s.jsx("span",{children:""})]}),s.jsxs("span",{className:"flex items-center gap-1",children:[" Added ",jX(d.addedAt)]})]}),d.description&&s.jsx("p",{className:"mt-2 text-xs sm:text-sm text-gray-400 line-clamp-2",children:d.description})]})]}),s.jsx("div",{className:"p-3 sm:p-4",children:n.length===0?s.jsxs("div",{className:"text-center py-12 text-gray-500 dark:text-gray-400",children:[s.jsx("svg",{className:"w-16 h-16 mx-auto mb-4 opacity-50",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M15 6H3v2h12V6zm0 4H3v2h12v-2zM3 16h8v-2H3v2zM17 6v8.18c-.31-.11-.65-.18-1-.18-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3V8h3V6h-5z"})}),s.jsx("p",{className:"text-lg font-bold text-gray-900 dark:text-gray-100",children:"Playlist is empty"}),s.jsx("p",{className:"text-sm mt-2",children:"Search for YouTube videos using the chat to add tracks"})]}):ye.map(([pe,Be])=>s.jsxs("div",{className:"mb-6",children:[s.jsxs("h3",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2 flex items-center gap-2",children:[" ",pe,s.jsxs("span",{className:"text-xs font-normal text-gray-500 dark:text-gray-400",children:["(",Be.length," ",Be.length===1?"video":"videos",")"]})]}),s.jsx("div",{className:"space-y-2",children:Be.map(Ee=>{const we=n.findIndex(Ke=>Ke.id===Ee.id),Je=we===a;return s.jsxs("div",{onClick:()=>{we===a?v():o(we)},className:`flex items-center gap-2 sm:gap-3 p-2 sm:p-3 rounded-lg transition-all cursor-pointer ${Je?"bg-blue-50 dark:bg-blue-900/20 border-2 border-blue-500":"bg-gray-50 dark:bg-gray-700 hover:bg-gray-100 dark:hover:bg-gray-600 border-2 border-transparent"}`,children:[s.jsx("div",{className:"flex-shrink-0 w-8 h-8 sm:w-10 sm:h-10 flex items-center justify-center rounded-full transition-colors",title:Je?i?"Pause":"Play":"Play this track",children:Je&&i?s.jsx("svg",{className:"w-4 h-4 sm:w-5 sm:h-5 text-blue-600",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M6 4h4v16H6V4zm8 0h4v16h-4V4z"})}):s.jsx("svg",{className:"w-4 h-4 sm:w-5 sm:h-5 text-gray-600 dark:text-gray-300",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M8 5v14l11-7z"})})}),Ee.thumbnail&&s.jsx("img",{src:Ee.thumbnail,alt:"",className:"w-16 h-12 object-cover rounded flex-shrink-0"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h4",{className:"font-medium text-sm text-gray-900 dark:text-gray-100 truncate",children:Ee.title}),Ee.channel&&s.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 truncate",children:Ee.channel})]}),Ee.duration&&s.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 flex-shrink-0",children:Ee.duration}),s.jsx("button",{onClick:Ke=>{Ke.stopPropagation(),confirm(`Remove "${Ee.title}" from playlist?`)&&l(Ee.id)},className:"flex-shrink-0 p-2 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded transition-colors",children:s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]},Ee.id)})})]},pe))})]}),n.length>0&&s.jsxs("div",{className:"p-3 sm:p-4 border-b border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-900/50",children:[s.jsx("div",{className:"flex flex-wrap items-center gap-2 mb-3",children:s.jsxs("div",{className:"flex-1 min-w-[200px] flex items-center gap-2",children:[s.jsx("input",{type:"text",value:F,onChange:pe=>ie(pe.target.value),placeholder:" Search playlist...",className:"flex-1 px-3 py-1.5 text-xs sm:text-sm border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100"}),F&&s.jsx("button",{onClick:()=>ie(""),className:"px-2 py-1 text-xs text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-100",title:"Clear search",children:""})]})}),s.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[s.jsx("button",{onClick:()=>w(),className:`px-3 py-1.5 text-xs sm:text-sm rounded transition-colors ${T?"bg-purple-500 hover:bg-purple-600 text-white":"bg-gray-200 hover:bg-gray-300 dark:bg-gray-700 dark:hover:bg-gray-600 text-gray-700 dark:text-gray-300"}`,title:"Toggle shuffle",children:" Shuffle"}),s.jsxs("button",{onClick:()=>{const pe=["none","all","one"],Be=pe.indexOf(N),Ee=pe[(Be+1)%pe.length];R(Ee)},className:"px-3 py-1.5 text-xs sm:text-sm bg-gray-200 hover:bg-gray-300 dark:bg-gray-700 dark:hover:bg-gray-600 text-gray-700 dark:text-gray-300 rounded transition-colors",title:`Repeat: ${N}`,children:[N==="none"&&" Repeat: Off",N==="all"&&" Repeat: All",N==="one"&&" Repeat: One"]}),s.jsxs("select",{value:D,onChange:pe=>L(parseFloat(pe.target.value)),className:"px-3 py-1.5 text-xs sm:text-sm bg-gray-200 hover:bg-gray-300 dark:bg-gray-700 dark:hover:bg-gray-600 text-gray-700 dark:text-gray-300 rounded transition-colors",title:"Playback speed",children:[s.jsx("option",{value:.25,children:" 0.25x"}),s.jsx("option",{value:.5,children:" 0.5x"}),s.jsx("option",{value:.75,children:" 0.75x"}),s.jsx("option",{value:1,children:" 1x"}),s.jsx("option",{value:1.25,children:" 1.25x"}),s.jsx("option",{value:1.5,children:" 1.5x"}),s.jsx("option",{value:1.75,children:" 1.75x"}),s.jsx("option",{value:2,children:" 2x"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-xs sm:text-sm text-gray-600 dark:text-gray-400",children:""}),s.jsx("input",{type:"range",min:"0",max:"1",step:"0.1",value:j,onChange:pe=>B(parseFloat(pe.target.value)),className:"w-16 sm:w-24",title:"Volume"})]}),q&&d&&s.jsx("button",{onClick:()=>{if(Q)X("stop");else{const pe=$.current?.getCurrentTime()||0;K({videoId:d.videoId,url:d.url,title:d.title,channel:d.channel,thumbnail:d.thumbnail,duration:d.duration},pe)}},className:`p-2 rounded transition-colors ${Q?"bg-blue-500 hover:bg-blue-600 text-white":"bg-gray-200 hover:bg-gray-300 dark:bg-gray-700 dark:hover:bg-gray-600 text-gray-700 dark:text-gray-300"}`,title:Q?`Stop casting to ${z}`:`Cast to ${z}`,children:s.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M1 18v3h3c0-1.66-1.34-3-3-3zm0-4v2c2.76 0 5 2.24 5 5h2c0-3.87-3.13-7-7-7zm0-4v2c4.97 0 9 4.03 9 9h2c0-6.08-4.93-11-11-11zm20-7H3c-1.1 0-2 .9-2 2v3h2V5h18v14h-7v2h7c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"})})})]}),s.jsxs("div",{className:"flex flex-wrap items-center gap-2 mt-3",children:[s.jsx("button",{className:"px-3 py-1.5 text-xs sm:text-sm bg-blue-500 hover:bg-blue-600 text-white rounded transition-colors",onClick:()=>V(!0),children:"Save"}),s.jsx("button",{className:"px-3 py-1.5 text-xs sm:text-sm bg-green-500 hover:bg-green-600 text-white rounded transition-colors",onClick:()=>P(!0),children:"Load"}),n.length>0&&s.jsx("button",{onClick:()=>{confirm("Clear entire playlist? This cannot be undone.")&&(u(),O("Playlist cleared successfully!"))},className:"px-3 py-1.5 text-xs sm:text-sm bg-red-500 hover:bg-red-600 text-white rounded transition-colors",children:" Clear All"})]})]}),Y&&s.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center z-10 p-4",children:s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 sm:p-6 max-w-md w-full",children:[s.jsx("h3",{className:"text-lg font-bold mb-4 text-gray-900 dark:text-gray-100",children:"Save Playlist"}),s.jsx("input",{type:"text",placeholder:"Enter playlist name...",value:I,onChange:pe=>G(pe.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded mb-4 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",autoFocus:!0}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:async()=>{if(I.trim())try{await g(I),G(""),V(!1),O(`Playlist "${I}" saved successfully!`)}catch(pe){H("Failed to save playlist: "+pe.message)}},className:"flex-1 px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded transition-colors",disabled:!I.trim(),children:"Save"}),s.jsx("button",{onClick:()=>{G(""),V(!1)},className:"flex-1 px-4 py-2 bg-gray-500 hover:bg-gray-600 text-white rounded transition-colors",children:"Cancel"})]})]})}),ne&&s.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center z-10 p-4",children:s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 sm:p-6 max-w-md w-full",children:[s.jsx("h3",{className:"text-lg font-bold mb-4 text-gray-900 dark:text-gray-100",children:"Load Playlist"}),h.length===0?s.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"No saved playlists found."}):s.jsx("div",{className:"space-y-2 mb-4 max-h-64 overflow-y-auto",children:h.map(pe=>s.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded hover:bg-gray-100 dark:hover:bg-gray-600",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h4",{className:"font-medium text-gray-900 dark:text-gray-100 truncate",children:pe.name}),s.jsxs("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:[pe.trackCount," tracks  ",new Date(pe.updatedAt).toLocaleDateString()]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:async()=>{try{await f(pe.id),P(!1),O(`Playlist "${pe.name}" loaded successfully!`)}catch(Be){H("Failed to load playlist: "+Be.message)}},className:"px-3 py-1 text-xs bg-green-500 hover:bg-green-600 text-white rounded",children:"Load"}),s.jsx("button",{onClick:async()=>{if(confirm(`Delete "${pe.name}"?`))try{await b(pe.id),O(`Playlist "${pe.name}" deleted!`)}catch(Be){H("Failed to delete playlist: "+Be.message)}},className:"px-3 py-1 text-xs bg-red-500 hover:bg-red-600 text-white rounded",children:"Delete"})]})]},pe.id))}),s.jsx("button",{onClick:()=>P(!1),className:"w-full px-4 py-2 bg-gray-500 hover:bg-gray-600 text-white rounded transition-colors",children:"Close"})]})})]})}):null};function PX(e){const t=new Map,r=new Date;r.setHours(0,0,0,0);const n=new Date(r);n.setDate(n.getDate()-1);const a=new Date(r);return a.setDate(a.getDate()-7),e.forEach(i=>{const o=new Date(i.addedAt);o.setHours(0,0,0,0);let l;o.getTime()===r.getTime()?l="Today":o.getTime()===n.getTime()?l="Yesterday":o>a?l="This Week":l=o.toLocaleDateString("en-US",{month:"short",day:"numeric",year:o.getFullYear()!==r.getFullYear()?"numeric":void 0}),t.has(l)||t.set(l,[]),t.get(l).push(i)}),Array.from(t.entries())}function jX(e){const t=new Date(e),n=new Date().getTime()-t.getTime(),a=Math.floor(n/6e4),i=Math.floor(n/36e5),o=Math.floor(n/864e5);return a<1?"just now":a<60?`${a}m ago`:i<24?`${i}h ago`:o<7?`${o}d ago`:t.toLocaleDateString("en-US",{month:"short",day:"numeric"})}function p3(e){if(!e||!isFinite(e))return"0:00";const t=Math.floor(e/60),r=Math.floor(e%60);return`${t}:${r.toString().padStart(2,"0")}`}const FX=()=>{const{playlist:e,isPlaying:t,currentTrack:r,togglePlayPause:n,nextTrack:a,previousTrack:i}=Cu(),{isLoading:o,currentTime:l,duration:u}=v6(),[d,h]=C.useState(!1);if(e.length===0)return null;const g=()=>{console.log("[PlaylistButton] Play/Pause clicked - current isPlaying:",t),n()},f=()=>{i()},b=()=>{a()};return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex items-center gap-0.5 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-lg overflow-hidden shadow-sm",children:[s.jsx("button",{onClick:f,className:"p-1.5 sm:p-2 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",title:"Previous track",children:s.jsx("svg",{className:"w-4 h-4 sm:w-5 sm:h-5 text-gray-700 dark:text-gray-300",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M6 6h2v12H6V6zm3.5 6l8.5 6V6l-8.5 6z"})})}),s.jsx("button",{onClick:g,className:`p-1.5 sm:p-2 transition-colors ${t?"bg-blue-500 hover:bg-blue-600 text-white":"bg-green-500 hover:bg-green-600 text-white"}`,title:t?"Pause":"Play",children:t?s.jsx("svg",{className:"w-4 h-4 sm:w-5 sm:h-5",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M6 4h4v16H6V4zm8 0h4v16h-4V4z"})}):s.jsx("svg",{className:"w-4 h-4 sm:w-5 sm:h-5",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M8 5v14l11-7z"})})}),s.jsx("button",{onClick:b,className:"p-1.5 sm:p-2 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",title:"Next track",children:s.jsx("svg",{className:"w-4 h-4 sm:w-5 sm:h-5 text-gray-700 dark:text-gray-300",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M16 18h2V6h-2v12zM6 18l8.5-6L6 6v12z"})})}),s.jsx("div",{className:"hidden sm:flex flex-col items-start px-2 py-1 min-w-0 max-w-[150px] md:max-w-[250px]",children:o&&t?s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsxs("svg",{className:"animate-spin h-3 w-3 text-gray-700 dark:text-gray-300",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[s.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),s.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),s.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Loading..."})]}):s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"text-xs text-gray-700 dark:text-gray-300 truncate w-full",children:r?.title?r.title.slice(0,10):"No track"}),u>0&&s.jsxs("span",{className:"text-[10px] text-gray-500 dark:text-gray-400 font-mono",children:[p3(l)," / ",p3(u)]})]})}),s.jsxs("button",{onClick:x=>{x.stopPropagation(),console.log("[PlaylistButton] Opening dialog, playlist size:",e.length),h(!0)},className:"p-1.5 sm:p-2 bg-purple-500 hover:bg-purple-600 text-white transition-colors flex items-center gap-1",title:"View playlist",children:[s.jsx("svg",{className:"w-4 h-4 sm:w-5 sm:h-5",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M15 6H3v2h12V6zm0 4H3v2h12v-2zM3 16h8v-2H3v2zM17 6v8.18c-.31-.11-.65-.18-1-.18-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3V8h3V6h-5z"})}),s.jsx("span",{className:"hidden md:inline text-xs font-medium",children:e.length})]})]}),s.jsx(MX,{isOpen:d,onClose:()=>h(!1)})]})},BX=FX,Y6=/\.(m4a|m4b|mp4a|mpga|mp2|mp2a|mp3|m2a|m3a|wav|weba|aac|oga|spx)($|\?)/i,h3=/\.(mp4|og[gv]|webm|mov|m4v)(#t=[,\d+]+)?($|\?)/i,g3=/\.(m3u8)($|\?)/i,UX=/\.(mpd)($|\?)/i,$X=/stream\.mux\.com\/(?!\w+\.m3u8)(\w+)/,HX=/(?:youtu\.be\/|youtube(?:-nocookie|education)?\.com\/(?:embed\/|v\/|watch\/|watch\?v=|watch\?.+&v=|shorts\/|live\/))((\w|-){11})|youtube\.com\/playlist\?list=|youtube\.com\/user\//,zX=/vimeo\.com\/(?!progressive_redirect).+/,GX=/(?:wistia\.(?:com|net)|wi\.st)\/(?:medias|embed)\/(?:iframe\/)?([^?]+)/,qX=/open\.spotify\.com\/(\w+)\/(\w+)/i,WX=/(?:www\.|go\.)?twitch\.tv\/([a-zA-Z0-9_]+|(videos?\/|\?video=)\d+)($|\?)/,YX=/tiktok\.com\/(?:player\/v1\/|share\/video\/|@[^/]+\/video\/)([0-9]+)/,kg=(e,t)=>{if(Array.isArray(e)){for(const r of e)if(typeof r=="string"&&kg(r,t)||kg(r.src,t))return!0;return!1}return t(e)},No={html:e=>kg(e,t=>Y6.test(t)||h3.test(t)),hls:e=>kg(e,t=>g3.test(t)),dash:e=>kg(e,t=>UX.test(t)),mux:e=>$X.test(e),youtube:e=>HX.test(e),vimeo:e=>zX.test(e)&&!h3.test(e)&&!g3.test(e),wistia:e=>GX.test(e),spotify:e=>qX.test(e),twitch:e=>WX.test(e),tiktok:e=>YX.test(e)},VX=ir.forwardRef((e,t)=>{const r=Y6.test(`${e.src}`)?"audio":"video";return ir.createElement(r,{...e,ref:t},e.children)});var KX=VX;const QX=[{key:"hls",name:"hls.js",canPlay:No.hls,canEnablePIP:()=>!0,player:C.lazy(()=>wr(()=>import("./react-Cl0eZOeZ.js"),__vite__mapDeps([0,1,2])))},{key:"dash",name:"dash.js",canPlay:No.dash,canEnablePIP:()=>!0,player:C.lazy(()=>wr(()=>import("./react-B1aXuTIE.js"),__vite__mapDeps([3,1])))},{key:"mux",name:"Mux",canPlay:No.mux,canEnablePIP:()=>!0,player:C.lazy(()=>wr(()=>import("./index-Ik4EqAI-.js"),__vite__mapDeps([4,2,1])))},{key:"youtube",name:"YouTube",canPlay:No.youtube,player:C.lazy(()=>wr(()=>import("./react-CDcmqPSv.js"),[]))},{key:"vimeo",name:"Vimeo",canPlay:No.vimeo,player:C.lazy(()=>wr(()=>import("./react-DWR4q-Tr.js"),[]))},{key:"wistia",name:"Wistia",canPlay:No.wistia,canEnablePIP:()=>!0,player:C.lazy(()=>wr(()=>import("./react-DogWCNND.js"),[]))},{key:"spotify",name:"Spotify",canPlay:No.spotify,canEnablePIP:()=>!1,player:C.lazy(()=>wr(()=>import("./react-D53baA9C.js"),[]))},{key:"twitch",name:"Twitch",canPlay:No.twitch,canEnablePIP:()=>!1,player:C.lazy(()=>wr(()=>import("./react-VDKyC3tJ.js"),[]))},{key:"tiktok",name:"TikTok",canPlay:No.tiktok,canEnablePIP:()=>!1,player:C.lazy(()=>wr(()=>import("./react-DjAo9Jbz.js"),[]))},{key:"html",name:"html",canPlay:No.html,canEnablePIP:()=>!0,player:KX}];var U1=QX;const XX={width:"320px",height:"180px",volume:1,playbackRate:1,previewTabIndex:0,previewAriaLabel:"",oEmbedUrl:"https://noembed.com/embed?url={url}"},V6=ir.forwardRef((e,t)=>{const{playing:r,pip:n}=e,a=e.activePlayer,i=C.useRef(null),o=C.useRef(!0);C.useEffect(()=>{var g,f;i.current&&(i.current.paused&&r===!0&&i.current.play(),!i.current.paused&&r===!1&&i.current.pause(),i.current.playbackRate=(g=e.playbackRate)!=null?g:1,i.current.volume=(f=e.volume)!=null?f:1)}),C.useEffect(()=>{var g,f,b,x,E;if(!(!i.current||!globalThis.document)){if(n&&!document.pictureInPictureElement)try{(f=(g=i.current).requestPictureInPicture)==null||f.call(g)}catch{}if(!n&&document.pictureInPictureElement)try{(x=(b=i.current).exitPictureInPicture)==null||x.call(b),(E=document.exitPictureInPicture)==null||E.call(document)}catch{}}},[n]);const l=g=>{var f,b;o.current=!0,(f=e.onReady)==null||f.call(e),(b=e.onLoadStart)==null||b.call(e,g)},u=g=>{var f,b;o.current&&(o.current=!1,(f=e.onStart)==null||f.call(e,g)),(b=e.onPlay)==null||b.call(e,g)};if(!a)return null;const d={},h=["onReady","onStart"];for(const g in e)g.startsWith("on")&&!h.includes(g)&&(d[g]=e[g]);return ir.createElement(a,{...d,style:e.style,className:e.className,slot:e.slot,ref:C.useCallback(g=>{i.current=g,typeof t=="function"?t(g):t!==null&&(t.current=g)},[t]),src:e.src,crossOrigin:e.crossOrigin,preload:e.preload,controls:e.controls,muted:e.muted,autoPlay:e.autoPlay,loop:e.loop,playsInline:e.playsInline,config:e.config,onLoadStart:l,onPlay:u},e.children)});V6.displayName="Player";var ZX=V6;const JX=C.lazy(()=>wr(()=>import("./Preview-B1NZIiwn.js"),[])),Bh=[],eZ=(e,t)=>{const r=a=>{for(const i of[...Bh,...e])if(a&&i.canPlay(a))return i;return t||null},n=ir.forwardRef((a,i)=>{const o={...XX,...a},{src:l,slot:u,className:d,style:h,width:g,height:f,fallback:b,wrapper:x}=o,[E,v]=C.useState(!!o.light);C.useEffect(()=>{o.light?v(!0):v(!1)},[o.light]);const T=L=>{var j;v(!1),(j=o.onClickPreview)==null||j.call(o,L)},w=L=>{if(!L)return null;const{light:j,playIcon:B,previewTabIndex:q,oEmbedUrl:z,previewAriaLabel:K}=o;return ir.createElement(JX,{src:L,light:j,playIcon:B,previewTabIndex:q,previewAriaLabel:K,oEmbedUrl:z,onClickPreview:T})},N=L=>{var j,B;const q=r(L);if(!q)return null;const{style:z,width:K,height:X,wrapper:Q}=o,O=(j=o.config)==null?void 0:j[q.key];return ir.createElement(ZX,{...o,ref:i,activePlayer:(B=q.player)!=null?B:q,slot:Q?void 0:u,className:Q?void 0:d,style:Q?{display:"block",width:"100%",height:"100%"}:{display:"block",width:K,height:X,...z},config:O})},R=x??m3,D=b===!1?m3:C.Suspense;return ir.createElement(R,{slot:u,className:d,style:{width:g,height:f,...h}},ir.createElement(D,{fallback:b},E?w(l):N(l)))});return n.displayName="ReactPlayer",n.addCustomPlayer=a=>{Bh.push(a)},n.removeCustomPlayers=()=>{Bh.length=0},n.canPlay=a=>{if(a){for(const i of[...Bh,...e])if(i.canPlay(a))return!0}return!1},n.canEnablePIP=a=>{var i;if(a){for(const o of[...Bh,...e])if(o.canPlay(a)&&((i=o.canEnablePIP)!=null&&i.call(o)))return!0}return!1},n},m3=({children:e})=>e,tZ=U1[U1.length-1];var rZ=eZ(U1,tZ);const nZ=()=>{const e=C.useRef(null),{currentTrack:t,isPlaying:r,nextTrack:n,play:a,pause:i}=Cu(),{registerPlayer:o,unregisterPlayer:l,setIsLoading:u,setCurrentTime:d,setDuration:h}=v6(),{isCastingVideo:g}=Am();C.useEffect(()=>(e.current&&(console.log("[BackgroundPlayer] Registering player"),o(e.current)),()=>{console.log("[BackgroundPlayer] Unregistering player"),l()}),[o,l]),C.useEffect(()=>{console.log("[BackgroundPlayer] Track or playing state changed - isPlaying:",r,"currentTrack:",t?.title),t&&r?u(!0):r||u(!1)},[t,r,u]);const[f,b]=ir.useState(!1),x=ir.useRef(0),E=ir.useRef(!1);if(ir.useEffect(()=>{const N=()=>{const D=document.getElementById("dialog-player-container"),L=f,j=!!D;L!==j&&(console.log("[BackgroundPlayer] Dialog opening, last tracked position:",x.current,"isPlaying:",r),E.current=r),b(j)};N();const R=new MutationObserver(()=>{setTimeout(N,10)});return R.observe(document.body,{childList:!0,subtree:!0}),()=>R.disconnect()},[f,r]),!t)return null;const v=s.jsx(rZ,{ref:N=>{e.current=N,N&&(console.log("[BackgroundPlayer] ReactPlayer ref set, registering player, dialogOpen:",f),o(N))},src:t.url,playing:r&&!g,controls:!0,width:"100%",height:"100%",style:{position:"absolute",top:0,left:0},className:"react-player-hide-controls",onReady:()=>{console.log("[BackgroundPlayer] ReactPlayer ready, URL:",t.url,"isPlaying:",r,"dialogOpen:",f,"savedPosition:",x.current);const N=e.current;N&&N.duration&&h(N.duration)},onTimeUpdate:N=>{const R=N.currentTarget.currentTime,D=N.currentTarget.duration;R>0&&(x.current=R,d(R),console.log("[BackgroundPlayer] Position:",R.toFixed(2))),D>0&&h(D)},onPlay:()=>{console.log("[BackgroundPlayer] Playback started - syncing play state"),r||a(),setTimeout(()=>u(!1),500)},onStart:()=>{if(console.log("[BackgroundPlayer] Media started, savedPosition:",x.current),x.current>1){const N=x.current;console.log("[BackgroundPlayer] Will seek to saved position:",N),setTimeout(()=>{const R=e.current;R&&typeof R.currentTime=="number"?(console.log("[BackgroundPlayer] Setting currentTime from",R.currentTime,"to",N),R.currentTime=N,x.current=0):console.log("[BackgroundPlayer]  Cannot seek - video element not ready")},300)}setTimeout(()=>u(!1),500)},onPause:()=>{console.log("[BackgroundPlayer]  PLAYBACK PAUSED - syncing pause state, isPlaying:",r),r&&i()},onEnded:n,onError:N=>{console.error("[BackgroundPlayer] Playback error:",N),u(!1)}},`player-${t.videoId}`);let T=document.getElementById("background-player-mount");T||(T=document.createElement("div"),T.id="background-player-mount",T.className="fixed bottom-0 left-0",T.style.cssText="width: 1px; height: 1px; overflow: hidden; pointer-events: none; z-index: -1; opacity: 0;",document.body.appendChild(T));const w=f?document.getElementById("dialog-player-container"):T;return w?EQ.createPortal(s.jsx("div",{className:"w-full h-full relative bg-black",style:{aspectRatio:"16/9"},children:v}),w):null},aZ={groq:/^gsk_[a-zA-Z0-9]{32,}$/,openai:/^sk-[a-zA-Z0-9_-]{20,}$/,gemini:/^AIza[a-zA-Z0-9_-]{35}$/,together:/^[a-zA-Z0-9_-]{32,}$/,atlascloud:/^apikey-[a-f0-9]{32}$/,"openai-compatible":/.+/,replicate:/^r8_[a-zA-Z0-9]{40}$/};function sZ(e,t){return!e||e.trim()===""?{valid:!1,error:"API key is required"}:aZ[t].test(e)?{valid:!0}:{valid:!1,error:{groq:'Groq API key must start with "gsk_" followed by at least 32 characters',openai:'OpenAI API key must start with "sk-" followed by at least 20 characters',gemini:'Gemini API key must start with "AIza" followed by 35 characters',together:"Together AI API key must be at least 32 characters",atlascloud:'Atlas Cloud API key must start with "apikey-" followed by 32 hex characters',"openai-compatible":"API key cannot be empty",replicate:'Replicate API key must start with "r8_" followed by 40 characters'}[t]}}function iZ(e){if(!e||e.trim()==="")return{valid:!1,error:"Endpoint URL is required"};try{return new URL(e).protocol!=="https:"?{valid:!1,error:"Endpoint must use HTTPS protocol"}:{valid:!0}}catch{return{valid:!1,error:"Invalid URL format"}}}function oZ(e){return!e||e.trim()===""?{valid:!1,error:"Model name is required for OpenAI-compatible providers"}:{valid:!0}}function lZ(e){return e!==void 0&&(isNaN(e)||e<0)?{valid:!1,error:"Rate limit must be a positive number or empty"}:{valid:!0}}function $1(e){const t={};if(e.type||(t.type="Provider type is required"),e.type){const r=sZ(e.apiKey||"",e.type);r.valid||(t.apiKey=r.error)}if(e.type==="openai-compatible"){const r=iZ(e.apiEndpoint||"");r.valid||(t.apiEndpoint=r.error);const n=oZ(e.modelName);n.valid||(t.modelName=n.error);const a=lZ(e.rateLimitTPM);a.valid||(t.rateLimitTPM=a.error)}return{valid:Object.keys(t).length===0,errors:t}}function cZ(e){if(!e||e.length<12)return"";const t=e.slice(0,4),r=e.slice(-4),n=Math.max(8,e.length-8);return`${t}${"".repeat(n)}${r}`}function f3(e,t){return e.type===t.type&&e.apiKey===t.apiKey}function K6(){const{settings:e,setSettings:t}=mo(),r=C.useCallback(o=>{const l=$1(o);if(!l.valid)return{success:!1,error:Object.values(l.errors)[0]};const u={...o,id:crypto.randomUUID(),enabled:!0};return e.providers.find(h=>f3(h,u))?{success:!1,error:"A provider with this type and API key already exists"}:(t({...e,providers:[...e.providers,u]}),{success:!0})},[e,t]),n=C.useCallback((o,l)=>{const u=e.providers.find(g=>g.id===o);if(!u)return{success:!1,error:"Provider not found"};const d={...u,...l};if(!("enabled"in l&&Object.keys(l).length===1)){const g=$1(d);if(!g.valid)return{success:!1,error:Object.values(g.errors)[0]};if(e.providers.find(b=>b.id!==o&&f3(b,d)))return{success:!1,error:"A provider with this type and API key already exists"}}const h=e.providers.map(g=>g.id===o?d:g);return t({...e,providers:h}),{success:!0}},[e,t]),a=C.useCallback(o=>{t({...e,providers:e.providers.filter(l=>l.id!==o)})},[e,t]),i=C.useCallback(o=>e.providers.find(l=>l.id===o),[e.providers]);return{providers:e.providers,addProvider:r,updateProvider:n,deleteProvider:a,getProvider:i}}function uZ({initialProvider:e,onSave:t,onCancel:r}){const[n,a]=C.useState(e?.type||""),[i,o]=C.useState(e?.apiKey||""),[l,u]=C.useState(e?.apiEndpoint||""),[d,h]=C.useState(e?.modelName||""),[g,f]=C.useState(e?.rateLimitTPM?.toString()||""),[b,x]=C.useState({chat:e?.capabilities?.chat!==!1,image:e?.capabilities?.image!==!1,embedding:e?.capabilities?.embedding!==!1,voice:e?.capabilities?.voice!==!1,tts:e?.capabilities?.tts!==!1}),[E,v]=C.useState(e?.allowedModels?.join(", ")||""),[T,w]=C.useState(e?.maxImageQuality||"fast"),[N,R]=C.useState({});C.useEffect(()=>{n&&n!=="openai-compatible"?u(R6[n]):n==="openai-compatible"&&u(e?.apiEndpoint||"https://")},[n,e]);const D=j=>{if(j.preventDefault(),!n){R({type:"Please select a provider type"});return}const B={type:n,apiKey:i,apiEndpoint:l,capabilities:b};n==="openai-compatible"&&(B.modelName=d,g&&(B.rateLimitTPM=parseInt(g,10))),E.trim()?B.allowedModels=E.split(",").map(z=>z.trim()).filter(z=>z.length>0):B.allowedModels=null,b.image&&T&&(B.maxImageQuality=T);const q=$1(B);if(!q.valid){R(q.errors);return}t(B)},L=["groq","openai","gemini","together","openai-compatible"];return s.jsxs("form",{onSubmit:D,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-200 mb-2",children:"Provider Type"}),s.jsxs("select",{value:n,onChange:j=>a(j.target.value),className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:[s.jsx("option",{value:"",children:"Select provider type..."}),L.map(j=>{const B=j1[j];return s.jsxs("option",{value:j,children:[B.icon," ",B.name]},j)})]}),N.type&&s.jsx("p",{className:"mt-1 text-sm text-red-500",children:N.type})]}),n&&s.jsx("div",{className:"p-3 bg-gray-800 rounded-lg border border-gray-700",children:s.jsx("p",{className:"text-sm text-gray-400",children:j1[n].description})}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-200 mb-2",children:"API Endpoint"}),s.jsx("input",{type:"text",value:l,onChange:j=>u(j.target.value),disabled:n!=="openai-compatible",className:`w-full px-3 py-2 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500 ${n!=="openai-compatible"?"bg-gray-900 cursor-not-allowed":"bg-gray-800"}`,placeholder:"https://",required:!0}),n!=="openai-compatible"&&s.jsx("p",{className:"mt-1 text-xs text-gray-500",children:" Auto-filled, not editable"}),n==="openai-compatible"&&s.jsx("p",{className:"mt-1 text-xs text-gray-500",children:" EDITABLE - Enter custom endpoint"}),N.apiEndpoint&&s.jsx("p",{className:"mt-1 text-sm text-red-500",children:N.apiEndpoint})]}),n==="openai-compatible"&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-200 mb-2",children:"Model Name"}),s.jsx("input",{type:"text",value:d,onChange:j=>h(j.target.value),className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"llama-3.1-70b-instruct",required:!0}),s.jsx("p",{className:"mt-1 text-xs text-gray-500",children:" REQUIRED - Exact model name for API"}),N.modelName&&s.jsx("p",{className:"mt-1 text-sm text-red-500",children:N.modelName})]}),n==="openai-compatible"&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-200 mb-2",children:"Rate Limit (Tokens Per Minute)"}),s.jsx("input",{type:"number",value:g,onChange:j=>f(j.target.value),className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Leave empty for no rate limiting",min:"0"}),s.jsx("p",{className:"mt-1 text-xs text-gray-500",children:" Optional - Leave empty to disable rate limiting"}),N.rateLimitTPM&&s.jsx("p",{className:"mt-1 text-sm text-red-500",children:N.rateLimitTPM})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-200 mb-2",children:"API Key"}),s.jsx("input",{type:"password",value:i,onChange:j=>o(j.target.value),className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter your API key",required:!0}),s.jsx("p",{className:"mt-1 text-xs text-gray-500",children:" Your API key for this provider"}),N.apiKey&&s.jsx("p",{className:"mt-1 text-sm text-red-500",children:N.apiKey})]}),s.jsxs("div",{className:"p-4 bg-gray-800 border border-gray-700 rounded-lg",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-200 mb-3",children:"Service Capabilities"}),s.jsx("p",{className:"text-xs text-gray-500 mb-3",children:"Select which services this provider can be used for. By default, all are enabled."}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:b.chat,onChange:j=>x({...b,chat:j.target.checked}),className:"w-4 h-4 text-blue-600 bg-gray-700 border-gray-600 rounded focus:ring-blue-500"}),s.jsx("span",{className:"text-sm text-gray-300",children:" Chat / Text Completion"})]}),s.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:b.image,onChange:j=>x({...b,image:j.target.checked}),className:"w-4 h-4 text-blue-600 bg-gray-700 border-gray-600 rounded focus:ring-blue-500"}),s.jsx("span",{className:"text-sm text-gray-300",children:" Image Generation"})]}),s.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:b.embedding,onChange:j=>x({...b,embedding:j.target.checked}),className:"w-4 h-4 text-blue-600 bg-gray-700 border-gray-600 rounded focus:ring-blue-500"}),s.jsx("span",{className:"text-sm text-gray-300",children:" Embeddings"})]}),s.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:b.voice,onChange:j=>x({...b,voice:j.target.checked}),className:"w-4 h-4 text-blue-600 bg-gray-700 border-gray-600 rounded focus:ring-blue-500"}),s.jsx("span",{className:"text-sm text-gray-300",children:" Voice / Transcription"})]}),s.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:b.tts,onChange:j=>x({...b,tts:j.target.checked}),className:"w-4 h-4 text-blue-600 bg-gray-700 border-gray-600 rounded focus:ring-blue-500"}),s.jsx("span",{className:"text-sm text-gray-300",children:" Text-to-Speech"})]})]})]}),s.jsxs("div",{className:"p-4 bg-gray-800 border border-gray-700 rounded-lg",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-200 mb-3",children:" Model Access Restrictions"}),s.jsx("p",{className:"text-xs text-gray-500 mb-3",children:"Restrict which models can be used for ALL LLM operations (chat, image generation, etc.). Leave empty to allow all models."}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-200 mb-2",children:"Allowed Models (comma-separated)"}),s.jsx("input",{type:"text",value:E,onChange:j=>v(j.target.value),className:"w-full px-3 py-2 bg-gray-900 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500 font-mono text-sm",placeholder:"Leave empty for all models, or: llama-3.1-8b-instant, gpt-4o-mini"}),s.jsxs("p",{className:"mt-1 text-xs text-gray-500",children:[" ",s.jsx("strong",{children:"Empty"})," = allow all models | ",s.jsx("strong",{children:"Non-empty"})," = exact model name must match"]}),s.jsxs("p",{className:"mt-1 text-xs text-gray-400",children:["Examples: ",s.jsx("code",{className:"text-blue-400",children:"llama-3.1-8b-instant"}),", ",s.jsx("code",{className:"text-blue-400",children:"black-forest-labs/FLUX.1-schnell-Free"})]})]})]}),b.image&&s.jsxs("div",{className:"p-4 bg-gray-800 border border-gray-700 rounded-lg",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-200 mb-3",children:" Image Generation Quality Cap"}),s.jsx("p",{className:"text-xs text-gray-500 mb-3",children:'Limit maximum image quality to control costs. Works together with "Allowed Models" above.'}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-200 mb-2",children:"Maximum Quality Tier"}),s.jsxs("select",{value:T,onChange:j=>w(j.target.value),className:"w-full px-3 py-2 bg-gray-900 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"fast",children:"Fast (draft, <$0.001/image) - DEFAULT"}),s.jsx("option",{value:"standard",children:"Standard (normal, ~$0.002/image)"}),s.jsx("option",{value:"high",children:"High (detailed, ~$0.04/image)"}),s.jsx("option",{value:"ultra",children:"Ultra (photorealistic, ~$0.12/image)"})]}),s.jsx("p",{className:"mt-1 text-xs text-gray-500",children:" Prevents generating images above this quality tier"})]})]}),s.jsxs("div",{className:"flex gap-2 justify-end pt-4",children:[s.jsx("button",{type:"button",onClick:r,className:"px-4 py-2 bg-gray-700 text-white rounded-lg hover:bg-gray-600 transition-colors",children:"Cancel"}),s.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:e?"Update Provider":"Save Provider"})]})]})}function dZ({onEditingChange:e}={}){const{providers:t,addProvider:r,updateProvider:n,deleteProvider:a}=K6(),{loadFromGoogleDrive:i,saveToGoogleDrive:o}=mo(),[l,u]=C.useState(!1),[d,h]=C.useState(null);C.useEffect(()=>{e&&e(l||d!==null)},[l,d,e]);const[g,f]=C.useState(null),[b,x]=C.useState(null),[E,v]=C.useState(!1),T=()=>{u(!0),h(null),f(null),x(null)},w=q=>{h(q),u(!1),f(null),x(null)},N=q=>{window.confirm("Are you sure you want to delete this provider?")&&(a(q),x("Provider deleted successfully"),setTimeout(()=>x(null),3e3))},R=q=>{if(d){const z=n(d,q);z.success?(x("Provider updated successfully"),h(null),setTimeout(()=>x(null),3e3)):f(z.error||"Failed to update provider")}else{const z=r(q);z.success?(x("Provider added successfully"),u(!1),setTimeout(()=>x(null),3e3),window.dispatchEvent(new CustomEvent("provider-added"))):f(z.error||"Failed to add provider")}},D=()=>{u(!1),h(null),f(null)},L=async()=>{try{v(!0),f(null),await i(),x("Settings loaded successfully from Google Drive!"),setTimeout(()=>x(null),3e3)}catch(q){f(q.message||"Failed to load settings from Google Drive")}finally{v(!1)}},j=async()=>{try{v(!0),f(null),await o(),x("Settings saved successfully to Google Drive!"),setTimeout(()=>x(null),3e3)}catch(q){f(q.message||"Failed to save settings to Google Drive")}finally{v(!1)}},B=d?t.find(q=>q.id===d):void 0;return s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-700",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-2xl",children:""}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"font-medium text-blue-900 dark:text-blue-100 mb-2",children:"Cloud Sync for Provider Credentials"}),s.jsxs("div",{className:"text-sm text-blue-700 dark:text-blue-300 mb-3",children:["Connect to Google Drive in the ",s.jsx("strong",{children:"Cloud Sync"})," tab to enable automatic synchronization of your provider settings.",F1()&&s.jsx("span",{className:"block mt-1 text-green-700 dark:text-green-400 font-medium",children:" Cloud sync is active - changes are saved automatically"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:L,disabled:E,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors text-sm flex items-center gap-2",children:E?s.jsxs(s.Fragment,{children:[s.jsxs("svg",{className:"animate-spin h-4 w-4",viewBox:"0 0 24 24",children:[s.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),s.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Loading..."]}):s.jsx(s.Fragment,{children:" Load from Drive"})}),s.jsx("button",{onClick:j,disabled:E,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors text-sm flex items-center gap-2",children:E?s.jsxs(s.Fragment,{children:[s.jsxs("svg",{className:"animate-spin h-4 w-4",viewBox:"0 0 24 24",children:[s.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),s.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Saving..."]}):s.jsx(s.Fragment,{children:" Save to Drive"})})]})]})]})}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h3",{className:"text-lg font-semibold text-white",children:"Configured Providers"}),!l&&!d&&s.jsx("button",{onClick:T,className:"px-3 py-1 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm",children:"+ Add Provider"})]}),b&&s.jsx("div",{className:"p-3 bg-green-700 border border-green-400 rounded-lg",children:s.jsxs("p",{className:"text-sm text-white font-bold",children:[" ",b]})}),g&&s.jsx("div",{className:"p-3 bg-red-900/30 border border-red-700 rounded-lg",children:s.jsxs("p",{className:"text-sm text-red-400",children:[" ",g]})}),(l||d)&&s.jsxs("div",{className:"p-4 bg-gray-800 rounded-lg border border-gray-700",children:[s.jsx("h4",{className:"text-md font-medium text-white mb-4",children:d?"Edit Provider":"Add Provider"}),s.jsx(uZ,{initialProvider:B,onSave:R,onCancel:D})]}),!l&&!d&&s.jsx(s.Fragment,{children:t.length===0?s.jsxs("div",{className:"p-6 bg-gray-800 rounded-lg border border-gray-700 text-center",children:[s.jsx("p",{className:"text-gray-400",children:"No providers configured yet"}),s.jsx("p",{className:"text-sm text-gray-500 mt-2",children:'Click "Add Provider" to configure your first LLM provider'})]}):s.jsx("div",{className:"space-y-3",children:t.map(q=>{const z=j1[q.type]||{name:q.type||"Unknown Provider",icon:""},K=q.type==="together",X=typeof q.enabled=="boolean"?q.enabled:!K;return s.jsxs("div",{className:`p-4 rounded-lg border transition-colors ${X?"bg-gray-800 border-gray-700 hover:border-gray-600":"bg-gray-900 border-gray-800 hover:border-gray-700 opacity-80 grayscale"}`,children:[s.jsxs("div",{className:"flex justify-between items-center mb-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-xl",children:z.icon}),s.jsx("span",{className:`font-medium ${X?"text-white":"text-gray-500"}`,children:z.name})]}),s.jsxs("div",{className:"flex gap-2 items-center",children:[s.jsx("button",{onClick:()=>{n(q.id,{enabled:!X}),x(X?`${z.name} disabled`:`${z.name} enabled`),setTimeout(()=>x(null),2e3)},className:`px-3 py-1 rounded transition-colors text-sm font-bold ${X?"bg-green-600 hover:bg-green-700 text-white":"bg-red-700 hover:bg-red-800 text-red-100 border border-red-400"}`,title:X?"Click to disable":"Click to enable",children:X?"Enabled":"Disabled"}),s.jsx("button",{onClick:()=>w(q.id),className:"px-3 py-1 bg-gray-700 text-white rounded hover:bg-gray-600 transition-colors text-sm",title:"Edit provider",children:"Edit"}),s.jsx("button",{onClick:()=>N(q.id),className:"px-3 py-1 bg-red-700 text-white rounded hover:bg-red-600 transition-colors text-sm",title:"Delete provider",children:"Delete"})]})]}),s.jsxs("div",{className:"space-y-1 text-sm",children:[s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-gray-400 min-w-[80px]",children:"Endpoint:"}),s.jsx("span",{className:"text-gray-300 break-all",children:q.apiEndpoint})]}),q.modelName&&s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-gray-400 min-w-[80px]",children:"Model:"}),s.jsx("span",{className:"text-gray-300",children:q.modelName})]}),q.rateLimitTPM&&s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-gray-400 min-w-[80px]",children:"Rate Limit:"}),s.jsxs("span",{className:"text-gray-300",children:[q.rateLimitTPM.toLocaleString()," TPM"]})]}),s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-gray-400 min-w-[80px]",children:"API Key:"}),s.jsx("span",{className:"text-gray-300 font-mono",children:cZ(q.apiKey)})]})]})]},q.id)})})}),!l&&!d&&s.jsxs("div",{className:"p-4 bg-blue-900/20 border border-blue-700/50 rounded-lg",children:[s.jsx("h4",{className:"text-sm font-medium text-blue-400 mb-2",children:" How Provider Selection Works:"}),s.jsxs("ul",{className:"space-y-1 text-sm text-gray-400",children:[s.jsx("li",{children:" Free tier providers () are used first"}),s.jsx("li",{children:" Paid providers () are used when free tier rate limits are exceeded"}),s.jsx("li",{children:" The backend automatically selects the best model for each request"}),s.jsx("li",{children:" No need to configure rate limits or priorities - it's all automatic!"})]})]})]})}const pZ=()=>{const{state:e,setEnabled:t,setProvider:r,setVoice:n,setRate:a,setPitch:i,setVolume:o,setAutoSummarize:l,setElevenLabsApiKey:u,getAvailableProviders:d}=Dy(),[h,g]=C.useState([]),[f,b]=C.useState(e.voices),[x,E]=C.useState(!1);C.useEffect(()=>{const N=d();g(N)},[d]),C.useEffect(()=>{b(e.voices)},[e.voices]);const v=async N=>{E(!0);try{await r(N)}catch(R){console.error("Failed to change provider:",R)}finally{E(!1)}},T=N=>({llm:"LLM Provider (Auto)","openai-tts":"OpenAI TTS","groq-tts":"Groq TTS","gemini-tts":"Gemini TTS","together-tts":"Together AI TTS (Not Available)",elevenlabs:e.elevenlabsApiKey?"ElevenLabs (Specialized TTS)":"ElevenLabs (Needs API Key)",browser:"Browser (Web Speech API)",speakjs:"speak.js (Offline)"})[N],w=N=>({llm:"Automatically selects best available LLM provider (fallback option)","openai-tts":"OpenAI's text-to-speech model (high quality, fast)","groq-tts":"Groq's PlayAI TTS model (fast inference)","gemini-tts":"Google Gemini text-to-speech (natural voices)","together-tts":"Together AI does not provide TTS API - please use another provider",elevenlabs:e.elevenlabsApiKey?"Ultra-realistic AI voices":"Ultra-realistic AI voices (configure API key below)",browser:"Uses your browser's built-in voices",speakjs:"Offline synthesis, basic quality"})[N];return s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"card bg-white dark:bg-gray-800 p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Enable Text-to-Speech"}),s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Allow AI responses and snippets to be read aloud"})]}),s.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:e.isEnabled,onChange:N=>t(N.target.checked),className:"sr-only peer"}),s.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"})]})]})}),e.isEnabled&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"card bg-white dark:bg-gray-800 p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Auto-Summarize Long Content"}),s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Use LLM to generate concise, speakable summaries for long responses"})]}),s.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:e.autoSummarize,onChange:N=>l(N.target.checked),className:"sr-only peer"}),s.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"})]})]})}),s.jsxs("div",{className:"card bg-white dark:bg-gray-800 p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-4",children:"Voice Provider"}),s.jsx("div",{className:"space-y-3",children:h.map(N=>s.jsxs("label",{className:`flex items-start gap-3 cursor-pointer p-4 rounded-lg border-2 transition-all hover:border-blue-300 dark:hover:border-blue-700 ${e.currentProvider===N?"border-blue-500 dark:border-blue-400 bg-blue-50 dark:bg-blue-900/20":"border-gray-200 dark:border-gray-700"}`,children:[s.jsx("input",{type:"radio",name:"tts-provider",value:N,checked:e.currentProvider===N,onChange:()=>v(N),className:"mt-1 w-4 h-4 text-blue-600 focus:ring-2 focus:ring-blue-500"}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"font-medium text-gray-900 dark:text-gray-100 mb-1 flex items-center gap-2",children:[T(N),N==="elevenlabs"&&!e.elevenlabsApiKey&&s.jsx("span",{className:"text-xs bg-yellow-100 dark:bg-yellow-900/30 text-yellow-800 dark:text-yellow-300 px-2 py-1 rounded-full",children:"Configure"})]}),s.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:w(N)})]})]},N))})]}),s.jsxs("div",{className:"card bg-white dark:bg-gray-800 p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-4",children:"Voice"}),x?s.jsxs("div",{className:"flex items-center justify-center py-8",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),s.jsx("span",{className:"ml-3 text-gray-600 dark:text-gray-400",children:"Loading voices..."})]}):f.length===0?s.jsx("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:"No voices available for this provider"}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 max-h-64 overflow-y-auto",children:f.map(N=>s.jsxs("button",{onClick:()=>n(N.id),className:`p-3 text-left border rounded-lg transition-colors ${e.currentVoice===N.id?"border-blue-600 bg-blue-50 dark:bg-blue-900/20 dark:border-blue-400":"border-gray-300 dark:border-gray-600 hover:border-blue-400 dark:hover:border-blue-500"}`,children:[s.jsx("div",{className:"font-medium text-gray-900 dark:text-gray-100",children:N.name}),s.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:[N.language,"  ",N.gender||"neutral"]})]},N.id))})]}),s.jsxs("div",{className:"card bg-white dark:bg-gray-800 p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-4",children:"Playback Settings"}),s.jsxs("div",{className:"mb-6",children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["Speed: ",e.rate.toFixed(1),"x"]}),s.jsx("input",{type:"range",min:"0.5",max:"2.0",step:"0.1",value:e.rate,onChange:N=>a(parseFloat(N.target.value)),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer dark:bg-gray-700 slider"}),s.jsxs("div",{className:"flex justify-between text-xs text-gray-500 dark:text-gray-400 mt-1",children:[s.jsx("span",{children:"0.5x Slower"}),s.jsx("span",{children:"1.0x Normal"}),s.jsx("span",{children:"2.0x Faster"})]})]}),s.jsxs("div",{className:"mb-6",children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["Pitch: ",e.pitch.toFixed(1)]}),s.jsx("input",{type:"range",min:"0.5",max:"2.0",step:"0.1",value:e.pitch,onChange:N=>i(parseFloat(N.target.value)),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer dark:bg-gray-700 slider"}),s.jsxs("div",{className:"flex justify-between text-xs text-gray-500 dark:text-gray-400 mt-1",children:[s.jsx("span",{children:"0.5 Lower"}),s.jsx("span",{children:"1.0 Normal"}),s.jsx("span",{children:"2.0 Higher"})]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["Volume: ",Math.round(e.volume*100),"%"]}),s.jsx("input",{type:"range",min:"0",max:"1",step:"0.05",value:e.volume,onChange:N=>o(parseFloat(N.target.value)),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer dark:bg-gray-700 slider"}),s.jsxs("div",{className:"flex justify-between text-xs text-gray-500 dark:text-gray-400 mt-1",children:[s.jsx("span",{children:"0% Silent"}),s.jsx("span",{children:"50%"}),s.jsx("span",{children:"100% Max"})]})]})]}),s.jsxs("div",{className:"card bg-white dark:bg-gray-800 p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-4",children:"ElevenLabs Authentication"}),s.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4 mb-4",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("svg",{className:"w-5 h-5 text-blue-600 mt-0.5 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-blue-900 dark:text-blue-100",children:"Specialized TTS Service"}),s.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-300 mt-1",children:"ElevenLabs provides TTS-only services and requires separate authentication from your LLM providers."})]})]})}),s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"API Key:"}),s.jsx("input",{type:"password",placeholder:"Enter ElevenLabs API key",value:e.elevenlabsApiKey,onChange:N=>u(N.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),s.jsxs("div",{className:"mt-3 space-y-2",children:[s.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Get your API key from ",s.jsx("a",{href:"https://elevenlabs.io/speech-synthesis",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:"ElevenLabs Dashboard"})]}),s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:" Free tier: 10,000 characters/month"}),s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:" Starter: $1/month for 30,000 characters"}),s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:" Creator: $22/month for 100,000 characters"})]})]}),["llm","openai-tts","groq-tts","gemini-tts","together-tts"].includes(e.currentProvider)&&s.jsxs("div",{className:"card bg-white dark:bg-gray-800 p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-4",children:e.currentProvider==="llm"?"LLM Provider TTS":`${T(e.currentProvider)}`}),e.currentProvider==="together-tts"&&s.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4 mb-4",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("svg",{className:"w-5 h-5 text-red-600 mt-0.5 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-red-900 dark:text-red-100",children:"TTS Not Available"}),s.jsx("p",{className:"text-sm text-red-700 dark:text-red-300 mt-1",children:"Together AI does not provide a Text-to-Speech API. Please select a different TTS provider like OpenAI TTS, Groq TTS, or Gemini TTS."})]})]})}),e.currentProvider!=="together-tts"&&s.jsx("div",{className:"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("svg",{className:"w-5 h-5 text-green-600 mt-0.5 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-green-900 dark:text-green-100",children:"Using Existing Configuration"}),s.jsx("p",{className:"text-sm text-green-700 dark:text-green-300 mt-1",children:e.currentProvider==="llm"?"TTS will use your currently configured LLM provider and API key. No additional authentication required.":`TTS will use your ${T(e.currentProvider)} configuration and API key. No additional authentication required.`})]})]})})]})]})]})},b0={enabled:!1,autoEmbed:!0,embeddingModel:"text-embedding-3-small",embeddingProvider:"openai",chunkSize:1e3,chunkOverlap:200,topK:5,similarityThreshold:.3},b3=[{name:"text-embedding-3-small",provider:"openai",cost:"$0.02/1M tokens",recommended:!0},{name:"text-embedding-3-large",provider:"openai",cost:"$0.13/1M tokens"},{name:"embed-english-v3.0",provider:"cohere",cost:"$0.10/1M tokens"},{name:"m2-bert-80M-8k-retrieval",provider:"together",cost:"$0.008/1M tokens"}],hZ=()=>{const{showSuccess:e,showError:t,showWarning:r}=go(),{getUserRagSpreadsheet:n}=_u(),{user:a}=Ps(),[i,o]=C.useState(b0),[l,u]=C.useState(!1),[d,h]=C.useState(!1);C.useEffect(()=>{g()},[]);const g=async()=>{try{const x=localStorage.getItem("rag_config");if(x){const E=JSON.parse(x);o({...b0,...E})}else o(b0)}catch(x){console.error("Failed to load RAG config:",x),o(b0)}},f=(x,E)=>{o(v=>({...v,[x]:E})),h(!0)},b=async()=>{try{if(u(!0),localStorage.setItem("rag_config",JSON.stringify(i)),window.dispatchEvent(new Event("rag_config_updated")),a){console.log(" User authenticated - ensuring spreadsheet exists...");const x=await n();x?(console.log(" Spreadsheet ready:",x),e("RAG settings saved! Your embeddings will sync to Google Sheets when you connect Google Drive.")):(console.warn(" Failed to get spreadsheet ID"),r("Settings saved. Connect Google Drive in Cloud Sync tab to enable automatic backup."))}else e("RAG settings saved successfully");h(!1)}catch(x){console.error("Failed to save RAG config:",x),t("Failed to save RAG settings")}finally{u(!1)}};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-2",children:" RAG (Retrieval-Augmented Generation)"}),s.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Enable semantic search over your saved snippets using embeddings. Enhances LLM responses with relevant context from your content."})]}),s.jsx("div",{className:"card p-4",children:s.jsxs("label",{className:"flex items-center justify-between cursor-pointer",children:[s.jsxs("div",{children:[s.jsx("div",{className:"font-medium text-gray-900 dark:text-gray-100",children:"Enable RAG System"}),s.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Automatically search your snippets when asking questions"})]}),s.jsx("input",{type:"checkbox",checked:i.enabled,onChange:x=>f("enabled",x.target.checked),className:"w-5 h-5 text-blue-600 rounded focus:ring-2 focus:ring-blue-500"})]})}),s.jsx("div",{className:"card p-4",children:s.jsxs("label",{className:"flex items-center justify-between cursor-pointer",children:[s.jsxs("div",{children:[s.jsx("div",{className:"font-medium text-gray-900 dark:text-gray-100",children:"Auto-Embed New Snippets"}),s.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Automatically generate embeddings when saving snippets"})]}),s.jsx("input",{type:"checkbox",checked:i.autoEmbed,onChange:x=>f("autoEmbed",x.target.checked),disabled:!i.enabled,className:"w-5 h-5 text-blue-600 rounded focus:ring-2 focus:ring-blue-500 disabled:opacity-50"})]})}),s.jsxs("div",{className:"card p-4",children:[s.jsx("label",{className:"block mb-2",children:s.jsx("span",{className:"font-medium text-gray-900 dark:text-gray-100",children:"Embedding Model"})}),s.jsx("select",{value:i.embeddingModel,onChange:x=>{const E=b3.find(v=>v.name===x.target.value);E&&(f("embeddingModel",E.name),f("embeddingProvider",E.provider))},disabled:!i.enabled,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 disabled:opacity-50",children:b3.map(x=>s.jsxs("option",{value:x.name,children:[x.name," (",x.cost,") ",x.recommended?" Recommended":""]},x.name))}),s.jsx("p",{className:"text-xs text-yellow-600 dark:text-yellow-400 mt-2",children:" Changing models requires re-embedding all content"})]}),s.jsxs("div",{className:"card p-4 space-y-4",children:[s.jsx("h4",{className:"font-medium text-gray-900 dark:text-gray-100",children:"Chunking Settings"}),s.jsxs("div",{children:[s.jsx("label",{className:"block mb-2",children:s.jsxs("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:["Chunk Size: ",i.chunkSize||1e3," characters (",Math.round((i.chunkSize||1e3)/4)," tokens)"]})}),s.jsx("input",{type:"range",min:"500",max:"2000",step:"100",value:i.chunkSize||1e3,onChange:x=>f("chunkSize",parseInt(x.target.value)),disabled:!i.enabled,className:"w-full disabled:opacity-50"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block mb-2",children:s.jsxs("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:["Chunk Overlap: ",i.chunkOverlap||200," characters (",Math.round((i.chunkOverlap||200)/(i.chunkSize||1e3)*100),"%)"]})}),s.jsx("input",{type:"range",min:"0",max:"500",step:"50",value:i.chunkOverlap||200,onChange:x=>f("chunkOverlap",parseInt(x.target.value)),disabled:!i.enabled,className:"w-full disabled:opacity-50"})]})]}),s.jsxs("div",{className:"card p-4 space-y-4",children:[s.jsx("h4",{className:"font-medium text-gray-900 dark:text-gray-100",children:"Search Settings"}),s.jsxs("div",{children:[s.jsx("label",{className:"block mb-2",children:s.jsxs("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:["Top-K Results: ",i.topK||5]})}),s.jsx("input",{type:"range",min:"1",max:"20",step:"1",value:i.topK||5,onChange:x=>f("topK",parseInt(x.target.value)),disabled:!i.enabled,className:"w-full disabled:opacity-50"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block mb-2",children:s.jsxs("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:["Similarity Threshold: ",(i.similarityThreshold||.3).toFixed(2)]})}),s.jsx("input",{type:"range",min:"0.3",max:"0.95",step:"0.05",value:i.similarityThreshold||.3,onChange:x=>f("similarityThreshold",parseFloat(x.target.value)),disabled:!i.enabled,className:"w-full disabled:opacity-50"})]})]}),s.jsx("div",{className:"flex gap-3",children:s.jsx("button",{onClick:b,disabled:!d||l,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:l?"Saving...":"Save Settings"})}),s.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 space-y-1",children:[s.jsxs("p",{children:[" ",s.jsx("strong",{children:"Tip:"})," Start with default settings (text-embedding-3-small, 1000 char chunks, 200 overlap)"]}),s.jsxs("p",{children:[" ",s.jsx("strong",{children:"Learn more:"})," Check src/rag/README.md for detailed documentation"]})]})]})},gZ="PlanningDB",mZ=1,Oi="plans",y0=50;class fZ{db=null;initPromise=null;async init(){return this.initPromise?this.initPromise:(this.initPromise=this._init(),this.initPromise)}async _init(){if(!this.db)try{this.db=await Nw(gZ,mZ,{upgrade(t){const r=t.createObjectStore(Oi,{keyPath:"id"});r.createIndex("by-timestamp","timestamp"),r.createIndex("by-query","query"),console.log(" PlanningDB object store created")}}),console.log(" PlanningDB initialized"),await this.migrateFromLocalStorage()}catch(t){throw console.error(" Error initializing PlanningDB:",t),t}}async migrateFromLocalStorage(){if(localStorage.getItem("plans_migrated_to_idb")==="true"){console.log(" Plans already migrated to IndexedDB");return}try{const r=localStorage.getItem("llm_proxy_planning_cache");if(!r){console.log(" No plans in localStorage to migrate"),localStorage.setItem("plans_migrated_to_idb","true");return}const n=JSON.parse(r);if(!Array.isArray(n)||n.length===0){console.log(" No valid plans in localStorage to migrate"),localStorage.setItem("plans_migrated_to_idb","true");return}const a=this.db.transaction(Oi,"readwrite"),i=a.objectStore(Oi);let o=0;for(const l of n)try{await i.put(l),o++}catch(u){console.error(`Error migrating plan ${l.id}:`,u)}await a.done,console.log(` Migrated ${o} of ${n.length} plans from localStorage to IndexedDB`),localStorage.setItem("plans_migrated_to_idb","true")}catch(r){throw console.error(" Error during plan migration:",r),r}}async ensureInit(){this.db||await this.init()}async savePlan(t){await this.ensureInit();try{await this.db.put(Oi,t),console.log(` Plan saved to IndexedDB: ${t.query.substring(0,50)}...`),await this.pruneOldPlans()}catch(r){throw console.error(" Error saving plan to IndexedDB:",r),r}}async getAllPlans(){await this.ensureInit();try{return(await this.db.getAll(Oi)).sort((r,n)=>n.timestamp-r.timestamp)}catch(t){return console.error(" Error reading plans from IndexedDB:",t),[]}}async getPlan(t){await this.ensureInit();try{return await this.db.get(Oi,t)}catch(r){console.error(` Error reading plan ${t} from IndexedDB:`,r);return}}async deletePlan(t){await this.ensureInit();try{await this.db.delete(Oi,t),console.log(` Plan deleted from IndexedDB: ${t}`)}catch(r){throw console.error(` Error deleting plan ${t} from IndexedDB:`,r),r}}async clear(){await this.ensureInit();try{await this.db.clear(Oi),console.log(" All plans cleared from IndexedDB")}catch(t){throw console.error(" Error clearing plans from IndexedDB:",t),t}}async replacePlans(t){await this.ensureInit();try{const r=this.db.transaction(Oi,"readwrite"),n=r.objectStore(Oi);await n.clear();for(const a of t)await n.put(a);await r.done,console.log(` Replaced all plans with ${t.length} items from sync`)}catch(r){throw console.error(" Error replacing plans in IndexedDB:",r),r}}async getPlansModifiedSince(t){await this.ensureInit();try{return(await this.getAllPlans()).filter(n=>n.timestamp>t)}catch(r){return console.error(" Error getting modified plans:",r),[]}}async pruneOldPlans(){try{const t=await this.getAllPlans();if(t.length<=y0)return;const n=t.sort((o,l)=>l.timestamp-o.timestamp).slice(y0),a=this.db.transaction(Oi,"readwrite"),i=a.objectStore(Oi);for(const o of n)await i.delete(o.id);await a.done,console.log(` Pruned ${n.length} old plans (keeping ${y0} most recent)`)}catch(t){console.error(" Error pruning old plans:",t)}}async getStorageEstimate(){if("storage"in navigator&&"estimate"in navigator.storage)try{const t=await navigator.storage.estimate(),r=t.usage||0,n=t.quota||0,a=n>0?r/n*100:0;return{usage:r,quota:n,percentage:a}}catch(t){return console.error("Error getting storage estimate:",t),null}return null}async requestPersistentStorage(){if("storage"in navigator&&"persist"in navigator.storage)try{if(!await navigator.storage.persisted()){const r=await navigator.storage.persist();return console.log("Persistent storage request:",r?"granted":"denied"),r}return console.log("Storage is already persistent"),!0}catch(t){return console.error("Error requesting persistent storage:",t),!1}return console.warn("Persistent storage API not available"),!1}mergePlans(t,r){const n=new Map;return t.forEach(a=>{const i=a.query.trim().toLowerCase();n.set(i,a)}),r.forEach(a=>{const i=a.query.trim().toLowerCase(),o=n.get(i);(!o||a.timestamp>o.timestamp)&&n.set(i,a)}),Array.from(n.values()).sort((a,i)=>i.timestamp-a.timestamp).slice(0,y0)}}const pc=new fZ;function bZ(){return`plan_${Date.now()}_${Math.random().toString(36).substr(2,9)}`}function yZ(){return bZ()}async function Zg(){try{return await pc.getAllPlans()}catch(e){return console.error("Error reading planning cache:",e),[]}}async function Q6(e,t,r,n){try{const a=await Zg(),i=e.trim().toLowerCase(),o=a.find(u=>u.query.trim().toLowerCase()===i),l={id:o?.id||yZ(),query:e.trim(),plan:t,systemPrompt:r,userPrompt:n,timestamp:Date.now()};await pc.savePlan(l),console.log(`Plan saved ${o?"(replaced duplicate)":"(new)"}:`,e.trim()),La.isEnabled()&&La.queueSync("plans","high")}catch(a){throw console.error("Error saving plan to cache:",a),a instanceof DOMException&&(a.name==="QuotaExceededError"||a.code===22)?(console.error("Storage quota exceeded. Consider:",`
1. Deleting old saved plans`,`
2. Clearing browser data`,`
3. Using persistent storage (navigator.storage.persist())`),new Error("Storage quota exceeded. Please delete some old plans to free up space, or clear your browser cache.")):a}}async function xZ(e){try{await pc.deletePlan(e),La.isEnabled()&&La.queueSync("plans","high")}catch(t){throw console.error("Error deleting cached plan:",t),t}}async function EZ(){try{await pc.clear()}catch(e){throw console.error("Error clearing planning cache:",e),e}}async function vZ(){return await pc.getStorageEstimate()}const y3="LLM Proxy App Data",oS="saved_plans.json",lS="saved_playlists.json",x3="sync_metadata.json";let x0=null;class SZ{async isAuthenticated(){try{const t=localStorage.getItem("google_access_token");return t?(await fetch("https://www.googleapis.com/drive/v3/about?fields=user",{headers:{Authorization:`Bearer ${t}`}})).ok:!1}catch(t){return console.error("Error checking authentication:",t),!1}}async getAppFolder(){if(x0)return x0;const t=await Pa(),r=await fetch(`https://www.googleapis.com/drive/v3/files?q=name='${y3}' and mimeType='application/vnd.google-apps.folder' and trashed=false`,{headers:{Authorization:`Bearer ${t}`}});if(!r.ok)throw new Error("Failed to search for app folder");const n=await r.json();if(n.files&&n.files.length>0)return x0=n.files[0].id,n.files[0].id;const a=await fetch("https://www.googleapis.com/drive/v3/files",{method:"POST",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"},body:JSON.stringify({name:y3,mimeType:"application/vnd.google-apps.folder"})});if(!a.ok)throw new Error("Failed to create app folder");const i=await a.json();return x0=i.id,i.id}async uploadFile(t,r){const n=await Pa(),a=await this.getAppFolder(),i=await fetch(`https://www.googleapis.com/drive/v3/files?q=name='${t}' and '${a}' in parents and trashed=false`,{headers:{Authorization:`Bearer ${n}`}});if(!i.ok)throw new Error(`Failed to search for file: ${t}`);const o=await i.json();if(o.files&&o.files.length>0){const l=o.files[0].id;if(!(await fetch(`https://www.googleapis.com/upload/drive/v3/files/${l}?uploadType=media`,{method:"PATCH",headers:{Authorization:`Bearer ${n}`,"Content-Type":"application/json"},body:r})).ok)throw new Error(`Failed to update file: ${t}`)}else{const l={name:t,parents:[a]},u=new FormData;if(u.append("metadata",new Blob([JSON.stringify(l)],{type:"application/json"})),u.append("file",new Blob([r],{type:"application/json"})),!(await fetch("https://www.googleapis.com/upload/drive/v3/files?uploadType=multipart",{method:"POST",headers:{Authorization:`Bearer ${n}`},body:u})).ok)throw new Error(`Failed to create file: ${t}`)}}async downloadFile(t){try{const r=await Pa(),n=await this.getAppFolder(),a=await fetch(`https://www.googleapis.com/drive/v3/files?q=name='${t}' and '${n}' in parents and trashed=false`,{headers:{Authorization:`Bearer ${r}`}});if(!a.ok)throw new Error(`Failed to search for file: ${t}`);const i=await a.json();if(!i.files||i.files.length===0)return null;const o=i.files[0].id,l=await fetch(`https://www.googleapis.com/drive/v3/files/${o}?alt=media`,{headers:{Authorization:`Bearer ${r}`}});if(!l.ok)throw new Error(`Failed to download file: ${t}`);return await l.text()}catch(r){return console.error(`Error downloading file ${t}:`,r),null}}async syncPlans(){try{const t=await Zg(),r=t.length>0?Math.max(...t.map(o=>o.timestamp)):0,n=await this.downloadFile(oS);if(!n)return t.length>0?(await this.uploadPlans(t),await this.updateSyncMetadata("plans",t.length),{success:!0,action:"uploaded",timestamp:Date.now(),itemCount:t.length}):{success:!0,action:"no-change",timestamp:Date.now(),itemCount:0};const a=JSON.parse(n),i=a.length>0?Math.max(...a.map(o=>o.timestamp)):0;return i>r?(await this.mergePlans(a),await this.updateSyncMetadata("plans",a.length),{success:!0,action:"downloaded",timestamp:Date.now(),itemCount:a.length}):r>i?(await this.uploadPlans(t),await this.updateSyncMetadata("plans",t.length),{success:!0,action:"uploaded",timestamp:Date.now(),itemCount:t.length}):{success:!0,action:"no-change",timestamp:Date.now(),itemCount:t.length}}catch(t){return console.error("Error syncing plans:",t),{success:!1,action:"error",timestamp:Date.now(),itemCount:0,error:t instanceof Error?t.message:"Unknown error"}}}async uploadPlans(t){const r=JSON.stringify(t,null,2);await this.uploadFile(oS,r)}async downloadPlans(){const t=await this.downloadFile(oS);return t?JSON.parse(t):[]}async mergePlans(t){const r=await Zg(),n=new Map;r.forEach(i=>{const o=i.query.trim().toLowerCase();n.set(o,i)}),t.forEach(i=>{const o=i.query.trim().toLowerCase(),l=n.get(o);(!l||i.timestamp>l.timestamp)&&n.set(o,i)});const a=Array.from(n.values()).sort((i,o)=>o.timestamp-i.timestamp).slice(0,50);await EZ();for(const i of a)await Q6(i.query,i.plan,i.systemPrompt,i.userPrompt)}async syncPlaylists(){try{await yi.init();const t=await yi.exportAllPlaylists(),r=t.length>0?Math.max(...t.map(o=>o.updatedAt)):0,n=await this.downloadFile(lS);if(!n)return t.length>0?(await this.uploadPlaylists(t),await this.updateSyncMetadata("playlists",t.length),{success:!0,action:"uploaded",timestamp:Date.now(),itemCount:t.length}):{success:!0,action:"no-change",timestamp:Date.now(),itemCount:0};const a=JSON.parse(n),i=a.length>0?Math.max(...a.map(o=>o.updatedAt)):0;if(i>r){const o=await yi.importAndMergePlaylists(a);return await this.updateSyncMetadata("playlists",o),{success:!0,action:"downloaded",timestamp:Date.now(),itemCount:o}}else return r>i?(await this.uploadPlaylists(t),await this.updateSyncMetadata("playlists",t.length),{success:!0,action:"uploaded",timestamp:Date.now(),itemCount:t.length}):{success:!0,action:"no-change",timestamp:Date.now(),itemCount:t.length}}catch(t){return console.error("Error syncing playlists:",t),{success:!1,action:"error",timestamp:Date.now(),itemCount:0,error:t instanceof Error?t.message:"Unknown error"}}}async uploadPlaylists(t){const r=JSON.stringify(t,null,2);await this.uploadFile(lS,r)}async downloadPlaylists(){const t=await this.downloadFile(lS);return t?JSON.parse(t):[]}async syncAll(){const[t,r]=await Promise.all([this.syncPlans(),this.syncPlaylists()]);return{plans:t,playlists:r}}async getLastSyncTime(){return(await this.getSyncMetadata()).lastSyncTime}async getSyncMetadata(){const t=await this.downloadFile(x3);return t?JSON.parse(t):{lastSyncTime:0,lastPlansSync:0,lastPlaylistsSync:0,plansCount:0,playlistsCount:0}}async updateSyncMetadata(t,r){const n=await this.getSyncMetadata();n.lastSyncTime=Date.now(),t==="plans"?(n.lastPlansSync=Date.now(),n.plansCount=r):(n.lastPlaylistsSync=Date.now(),n.playlistsCount=r);const a=JSON.stringify(n,null,2);await this.uploadFile(x3,a)}}const E3=new SZ,TZ=({onClose:e})=>{const[t,r]=C.useState(!1),[n,a]=C.useState(!1),[i,o]=C.useState(null),[l,u]=C.useState(null),[d,h]=C.useState(!1),[g,f]=C.useState(null),[b,x]=C.useState(0),[E,v]=C.useState({plansCount:0,playlistsCount:0}),[T,w]=C.useState(localStorage.getItem("auto_sync_enabled")==="true");C.useEffect(()=>{const q=localStorage.getItem("google_drive_access_token"),z=localStorage.getItem("user_email");q&&q.length>0&&(r(!0),u(z),N())},[]);const N=async()=>{try{const q=await E3.getSyncMetadata();x(q.lastSyncTime),v({plansCount:q.plansCount,playlistsCount:q.playlistsCount})}catch(q){console.error("Failed to load sync metadata:",q)}},R=async()=>{h(!0),f(null),o(null);try{const q=await E3.syncAll(),z=[];q.plans.action==="uploaded"?z.push(`Uploaded ${q.plans.itemCount} plan(s)`):q.plans.action==="downloaded"&&z.push(`Downloaded ${q.plans.itemCount} plan(s)`),q.playlists.action==="uploaded"?z.push(`Uploaded ${q.playlists.itemCount} playlist(s)`):q.playlists.action==="downloaded"&&z.push(`Downloaded ${q.playlists.itemCount} playlist(s)`),z.length===0?f("Everything is up to date"):f(z.join(", ")),await N(),console.log(" Sync completed:",q)}catch(q){o(q.message||"Sync failed"),console.error("Sync error:",q)}finally{h(!1)}},D=()=>{const q=!T;w(q),localStorage.setItem("auto_sync_enabled",String(q))},L=q=>{if(q===0)return"Never";const K=Date.now()-q;return K<6e4?"Just now":K<36e5?`${Math.floor(K/6e4)} minutes ago`:K<864e5?`${Math.floor(K/36e5)} hours ago`:`${Math.floor(K/864e5)} days ago`},j=async()=>{a(!0),o(null);try{if(!window.google?.accounts?.oauth2)throw new Error("Google Identity Services not loaded. Please refresh the page.");const q=void 0;if(!q)throw new Error("Google Client ID not configured. Please set VITE_GOOGLE_CLIENT_ID in ui-new/.env");window.google.accounts.oauth2.initTokenClient({client_id:q,scope:"https://www.googleapis.com/auth/drive.file",callback:K=>{if(K.error){o(`Authentication failed: ${K.error}`),a(!1);return}if(K.access_token){const X=K.access_token.trim().replace(/[\r\n]/g,"");if(localStorage.setItem("google_drive_access_token",X),K.id_token)try{const O=K.id_token.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),H=decodeURIComponent(atob(O).split("").map(Y=>"%"+("00"+Y.charCodeAt(0).toString(16)).slice(-2)).join("")),$=JSON.parse(H);$.email&&(localStorage.setItem("user_email",$.email),u($.email))}catch(Q){console.error("Failed to decode ID token:",Q)}r(!0),a(!1),console.log(" Successfully authenticated with Google Drive"),window.dispatchEvent(new CustomEvent("billing-settings-changed"))}},error_callback:K=>{o(`Authentication error: ${K.message||"Unknown error"}`),a(!1)}}).requestAccessToken({prompt:"consent"})}catch(q){o(q.message||"Failed to authenticate with Google"),a(!1)}},B=()=>{localStorage.removeItem("google_drive_access_token"),localStorage.removeItem("user_email"),r(!1),u(null),o(null)};return s.jsxs("div",{className:"cloud-sync-settings",children:[s.jsx("h2",{children:"Cloud Sync Settings"}),s.jsxs("div",{className:"auth-section",children:[s.jsx("h3",{children:"Google Drive Authentication"}),t?s.jsxs("div",{className:"auth-status",children:[s.jsxs("div",{className:"connected-info",children:[s.jsx("span",{className:"status-indicator",children:""}),s.jsxs("div",{children:[s.jsx("strong",{children:"Connected"}),l&&s.jsx("div",{className:"user-email",children:l})]})]}),s.jsx("button",{onClick:B,className:"disconnect-button",children:"Disconnect"})]}):s.jsxs("div",{className:"auth-prompt",children:[s.jsx("p",{children:"Connect your Google account to enable automatic cloud synchronization of your settings, API keys, SWAG content, and usage logs."}),s.jsxs("p",{className:"mt-2 text-sm text-gray-600 dark:text-gray-400",children:[s.jsx("strong",{children:"Note:"})," All sync features are automatically enabled when you connect your Google account. No additional configuration needed!"]}),s.jsx("button",{onClick:j,disabled:n,className:"google-auth-button",children:n?s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"spinner"}),"Connecting..."]}):s.jsxs(s.Fragment,{children:[s.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 18 18",xmlns:"http://www.w3.org/2000/svg",children:[s.jsx("path",{fill:"#4285F4",d:"M17.64 9.2c0-.637-.057-1.251-.164-1.84H9v3.481h4.844c-.209 1.125-.843 2.078-1.796 2.717v2.258h2.908c1.702-1.567 2.684-3.874 2.684-6.615z"}),s.jsx("path",{fill:"#34A853",d:"M9.003 18c2.43 0 4.467-.806 5.956-2.184l-2.908-2.258c-.806.54-1.837.86-3.048.86-2.344 0-4.328-1.584-5.036-3.711H.957v2.332C2.438 15.983 5.482 18 9.003 18z"}),s.jsx("path",{fill:"#FBBC05",d:"M3.964 10.71c-.18-.54-.282-1.117-.282-1.71s.102-1.17.282-1.71V4.958H.957C.347 6.173 0 7.548 0 9s.348 2.827.957 4.042l3.007-2.332z"}),s.jsx("path",{fill:"#EA4335",d:"M9.003 3.58c1.321 0 2.508.454 3.44 1.345l2.582-2.58C13.464.891 11.428 0 9.003 0 5.482 0 2.438 2.017.957 4.958L3.964 7.29c.708-2.127 2.692-3.71 5.036-3.71z"})]}),"Connect to Google Drive"]})}),i&&s.jsxs("div",{className:"error-message",children:[s.jsx("strong",{children:"Error:"})," ",i]})]})]}),t&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"card p-4 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-700 mt-4",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-2xl",children:""}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"font-semibold text-blue-900 dark:text-blue-100 mb-3",children:"Plans & Playlists Sync"}),s.jsxs("div",{className:"text-sm text-blue-700 dark:text-blue-300 space-y-3",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{children:"Last synced:"}),s.jsx("strong",{children:L(b)})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{children:"Saved plans:"}),s.jsxs("strong",{children:[E.plansCount," items"]})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{children:"Saved playlists:"}),s.jsxs("strong",{children:[E.playlistsCount," items"]})]}),g&&s.jsxs("div",{className:"p-2 bg-green-100 dark:bg-green-800 rounded text-green-800 dark:text-green-100",children:[" ",g]}),s.jsx("div",{className:"flex gap-2 mt-3",children:s.jsx("button",{onClick:R,disabled:d,className:"flex-1 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded disabled:opacity-50 disabled:cursor-not-allowed",children:d?s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"inline-block animate-spin mr-2",children:""}),"Syncing..."]}):s.jsx(s.Fragment,{children:" Sync Now"})})}),s.jsxs("div",{className:"flex items-center gap-2 mt-3 p-2 bg-blue-100 dark:bg-blue-800 rounded",children:[s.jsx("input",{type:"checkbox",id:"auto-sync",checked:T,onChange:D,className:"w-4 h-4"}),s.jsx("label",{htmlFor:"auto-sync",className:"cursor-pointer",children:"Auto-sync every 5 minutes"})]})]})]})]})}),s.jsx("div",{className:"card p-4 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-700 mt-4",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-2xl",children:""}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"font-semibold text-green-900 dark:text-green-100 mb-2",children:"Cloud Sync Enabled"}),s.jsxs("div",{className:"text-sm text-green-700 dark:text-green-300 space-y-1",children:[s.jsx("p",{children:"All sync features are now active:"}),s.jsxs("ul",{className:"list-disc ml-5 mt-2 space-y-1",children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Settings & Preferences:"})," Automatically synced across devices"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"API Keys (SWAG):"})," Securely backed up to your Google Drive"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"RAG Content:"})," Snippets and embeddings synced to Google Sheets"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Usage Logs:"})," Billing and transaction history backed up"]})]})]})]})]})})]})]})},wZ=({isOpen:e,onClose:t,enabledTools:r,setEnabledTools:n,onOpenMCPDialog:a})=>{const i=Au(e,t),{settings:o,setSettings:l}=mo(),{t:u,i18n:d}=xc(),{isConnected:h,isLoading:g,error:f,initiateOAuthFlow:b,disconnect:x}=B6(),{location:E,isLoading:v,error:T,permissionState:w,requestLocation:N,clearLocation:R}=z6(),[D,L]=C.useState("general"),[j,B]=C.useState(!1),[q,z]=C.useState(""),[K,X]=C.useState(""),[Q,O]=C.useState(!1);C.useEffect(()=>{const Y=localStorage.getItem("proxy_settings");if(Y)try{const V=JSON.parse(Y);z(V.username||""),X(V.password||""),O(V.enabled!==!1)}catch(V){console.error("Failed to parse proxy settings:",V)}},[e]);const H=(Y,V,ne)=>{localStorage.setItem("proxy_settings",JSON.stringify({username:Y,password:V,enabled:ne}))},$=Y=>{d.changeLanguage(Y),l({...o,language:Y})};return e?s.jsx("div",{ref:i,className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 p-4",children:s.jsxs("div",{className:"card max-w-2xl w-full max-h-[90vh] overflow-y-auto p-6",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:u("settings.title")}),s.jsx("button",{onClick:t,className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200","aria-label":u("common.close"),children:s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),s.jsxs("div",{className:"flex border-b border-gray-200 dark:border-gray-700 mb-6 overflow-x-auto",children:[s.jsxs("button",{onClick:()=>L("general"),className:`px-6 py-3 text-sm font-medium transition-colors border-b-2 whitespace-nowrap ${D==="general"?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300"}`,children:[" ",u("settings.tabs.general")]}),s.jsxs("button",{onClick:()=>L("provider"),className:`px-6 py-3 text-sm font-medium transition-colors border-b-2 whitespace-nowrap ${D==="provider"?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300"}`,children:[" ",u("settings.tabs.provider")]}),s.jsxs("button",{onClick:()=>L("cloud"),className:`px-6 py-3 text-sm font-medium transition-colors border-b-2 ${D==="cloud"?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300"}`,children:[" ",u("settings.tabs.cloud")]}),s.jsxs("button",{onClick:()=>L("tools"),className:`px-6 py-3 text-sm font-medium transition-colors border-b-2 ${D==="tools"?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300"}`,children:[" ",u("settings.tabs.tools")]}),s.jsxs("button",{onClick:()=>L("proxy"),className:`px-6 py-3 text-sm font-medium transition-colors border-b-2 ${D==="proxy"?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300"}`,children:[" ",u("settings.tabs.proxy")]}),s.jsxs("button",{onClick:()=>L("location"),className:`px-6 py-3 text-sm font-medium transition-colors border-b-2 ${D==="location"?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300"}`,children:[" ",u("settings.tabs.location")]}),s.jsxs("button",{onClick:()=>L("tts"),className:`px-6 py-3 text-sm font-medium transition-colors border-b-2 ${D==="tts"?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300"}`,children:[" ",u("settings.tabs.tts")]}),s.jsxs("button",{onClick:()=>L("rag"),className:`px-6 py-3 text-sm font-medium transition-colors border-b-2 ${D==="rag"?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300"}`,children:[" ",u("settings.tabs.rag")]})]}),D==="general"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-2",children:u("settings.general")}),s.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:u("settings.generalDescription")})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[" ",u("settings.language")]}),s.jsxs("select",{value:o.language||"en",onChange:Y=>$(Y.target.value),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[s.jsxs("option",{value:"en",children:[" ",u("languages.en")," - English"]}),s.jsxs("option",{value:"es",children:[" ",u("languages.es")," - Spanish"]}),s.jsxs("option",{value:"fr",children:[" ",u("languages.fr")," - French"]}),s.jsxs("option",{value:"de",children:[" ",u("languages.de")," - German"]}),s.jsxs("option",{value:"nl",children:[" ",u("languages.nl")," - Dutch"]}),s.jsxs("option",{value:"pt",children:[" ",u("languages.pt")," - Portuguese"]}),s.jsxs("option",{value:"ru",children:[" ",u("languages.ru")," - Russian"]}),s.jsxs("option",{value:"zh",children:[" ",u("languages.zh")," - Chinese"]}),s.jsxs("option",{value:"ja",children:[" ",u("languages.ja")," - Japanese"]}),s.jsxs("option",{value:"ar",children:[" ",u("languages.ar")," - Arabic"]})]}),s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:u("settings.languageHelp")})]})]}),D==="provider"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"mb-4",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-2",children:[" ",u("settings.providerCredentials")]}),s.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:u("settings.providerDescription")})]}),s.jsx(dZ,{onEditingChange:B}),!j&&s.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-6 mt-6",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-2",children:[" ",u("settings.modelSelectionStrategy")]}),s.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-4",children:u("settings.modelStrategyDescription")}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("label",{className:"flex items-start gap-3 cursor-pointer p-4 rounded-lg border-2 transition-all hover:border-blue-300 dark:hover:border-blue-700 has-[:checked]:border-blue-500 dark:has-[:checked]:border-blue-400 has-[:checked]:bg-blue-50 dark:has-[:checked]:bg-blue-900/20",children:[s.jsx("input",{type:"radio",name:"optimization",value:"cheap",checked:(o.optimization||"cheap")==="cheap",onChange:Y=>l({...o,optimization:Y.target.value}),className:"mt-1 w-4 h-4 text-blue-600 focus:ring-2 focus:ring-blue-500"}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"font-medium text-gray-900 dark:text-gray-100 mb-1",children:[" ",u("settings.cheap")]}),s.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:u("settings.cheapDescription")})]})]}),s.jsxs("label",{className:"flex items-start gap-3 cursor-pointer p-4 rounded-lg border-2 transition-all hover:border-blue-300 dark:hover:border-blue-700 has-[:checked]:border-blue-500 dark:has-[:checked]:border-blue-400 has-[:checked]:bg-blue-50 dark:has-[:checked]:bg-blue-900/20",children:[s.jsx("input",{type:"radio",name:"optimization",value:"balanced",checked:o.optimization==="balanced",onChange:Y=>l({...o,optimization:Y.target.value}),className:"mt-1 w-4 h-4 text-blue-600 focus:ring-2 focus:ring-blue-500"}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"font-medium text-gray-900 dark:text-gray-100 mb-1",children:[" ",u("settings.balanced")]}),s.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:u("settings.balancedDescription")})]})]}),s.jsxs("label",{className:"flex items-start gap-3 cursor-pointer p-4 rounded-lg border-2 transition-all hover:border-blue-300 dark:hover:border-blue-700 has-[:checked]:border-blue-500 dark:has-[:checked]:border-blue-400 has-[:checked]:bg-blue-50 dark:has-[:checked]:bg-blue-900/20",children:[s.jsx("input",{type:"radio",name:"optimization",value:"powerful",checked:o.optimization==="powerful",onChange:Y=>l({...o,optimization:Y.target.value}),className:"mt-1 w-4 h-4 text-blue-600 focus:ring-2 focus:ring-blue-500"}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"font-medium text-gray-900 dark:text-gray-100 mb-1",children:[" ",u("settings.powerful")]}),s.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:u("settings.powerfulDescription")})]})]}),s.jsxs("label",{className:"flex items-start gap-3 cursor-pointer p-4 rounded-lg border-2 transition-all hover:border-blue-300 dark:hover:border-blue-700 has-[:checked]:border-blue-500 dark:has-[:checked]:border-blue-400 has-[:checked]:bg-blue-50 dark:has-[:checked]:bg-blue-900/20",children:[s.jsx("input",{type:"radio",name:"optimization",value:"fastest",checked:o.optimization==="fastest",onChange:Y=>l({...o,optimization:Y.target.value}),className:"mt-1 w-4 h-4 text-blue-600 focus:ring-2 focus:ring-blue-500"}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"font-medium text-gray-900 dark:text-gray-100 mb-1",children:[" ",u("settings.fastest")]}),s.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:u("settings.fastestDescription")})]})]})]})]})]}),D==="tools"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:u("settings.tavilyApiKey")}),s.jsx("input",{type:"password",value:o.tavilyApiKey,onChange:Y=>l({...o,tavilyApiKey:Y.target.value}),className:"input-field",placeholder:u("settings.tavilyPlaceholder")}),s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:u("settings.tavilyHelp")})]}),s.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-6 mt-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-4",children:u("settings.enabledTools")}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("label",{className:"flex items-center gap-3 cursor-pointer p-3 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors",children:[s.jsx("input",{type:"checkbox",checked:r.web_search,onChange:Y=>n({...r,web_search:Y.target.checked}),className:"w-5 h-5 text-blue-600 rounded focus:ring-2 focus:ring-blue-500"}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"font-medium text-gray-900 dark:text-gray-100",children:[" ",u("settings.webSearch")]}),s.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:u("settings.webSearchDescription")})]})]}),s.jsxs("label",{className:"flex items-center gap-3 cursor-pointer p-3 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors",children:[s.jsx("input",{type:"checkbox",checked:r.execute_js,onChange:Y=>n({...r,execute_js:Y.target.checked}),className:"w-5 h-5 text-blue-600 rounded focus:ring-2 focus:ring-blue-500"}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"font-medium text-gray-900 dark:text-gray-100",children:[" ",u("settings.executeJs")]}),s.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:u("settings.executeJsDescription")})]})]}),s.jsxs("label",{className:"flex items-center gap-3 cursor-pointer p-3 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors",children:[s.jsx("input",{type:"checkbox",checked:r.scrape_url,onChange:Y=>n({...r,scrape_url:Y.target.checked}),className:"w-5 h-5 text-blue-600 rounded focus:ring-2 focus:ring-blue-500"}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"font-medium text-gray-900 dark:text-gray-100",children:[" ",u("settings.scrapeUrl")]}),s.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:u("settings.scrapeUrlDescription")})]})]}),s.jsxs("label",{className:"flex items-center gap-3 cursor-pointer p-3 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors",children:[s.jsx("input",{type:"checkbox",checked:r.youtube,onChange:Y=>n({...r,youtube:Y.target.checked}),className:"w-5 h-5 text-blue-600 rounded focus:ring-2 focus:ring-blue-500"}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"font-medium text-gray-900 dark:text-gray-100",children:[" ",u("settings.youtubeSearch")]}),s.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:u("settings.youtubeDescription")})]})]}),s.jsxs("label",{className:"flex items-center gap-3 cursor-pointer p-3 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors",children:[s.jsx("input",{type:"checkbox",checked:r.transcribe,onChange:Y=>n({...r,transcribe:Y.target.checked}),className:"w-5 h-5 text-blue-600 rounded focus:ring-2 focus:ring-blue-500"}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"font-medium text-gray-900 dark:text-gray-100",children:[" ",u("settings.transcribe")]}),s.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:u("settings.transcribeDescription")})]})]}),s.jsxs("label",{className:"flex items-center gap-3 cursor-pointer p-3 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors",children:[s.jsx("input",{type:"checkbox",checked:r.generate_chart,onChange:Y=>n({...r,generate_chart:Y.target.checked}),className:"w-5 h-5 text-blue-600 rounded focus:ring-2 focus:ring-blue-500"}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"font-medium text-gray-900 dark:text-gray-100",children:[" ",u("settings.generateChart")]}),s.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:u("settings.chartDescription")})]})]}),s.jsxs("label",{className:"flex items-center gap-3 cursor-pointer p-3 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors",children:[s.jsx("input",{type:"checkbox",checked:r.generate_image,onChange:Y=>n({...r,generate_image:Y.target.checked}),className:"w-5 h-5 text-blue-600 rounded focus:ring-2 focus:ring-blue-500"}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"font-medium text-gray-900 dark:text-gray-100",children:[" ",u("settings.generateImage")]}),s.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:u("settings.imageDescription")})]})]}),s.jsxs("label",{className:"flex items-center gap-3 cursor-pointer p-3 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors",children:[s.jsx("input",{type:"checkbox",checked:r.search_knowledge_base,onChange:Y=>n({...r,search_knowledge_base:Y.target.checked}),className:"w-5 h-5 text-blue-600 rounded focus:ring-2 focus:ring-blue-500"}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"font-medium text-gray-900 dark:text-gray-100",children:[" ",u("settings.searchKnowledgeBase")]}),s.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:u("settings.ragDescription")})]})]}),s.jsxs("label",{className:"flex items-center gap-3 cursor-pointer p-3 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors",children:[s.jsx("input",{type:"checkbox",checked:r.manage_todos,onChange:Y=>n({...r,manage_todos:Y.target.checked}),className:"w-5 h-5 text-blue-600 rounded focus:ring-2 focus:ring-blue-500"}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"font-medium text-gray-900 dark:text-gray-100",children:[" ",u("settings.manageTodos")]}),s.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:u("settings.todosDescription")})]})]}),s.jsxs("label",{className:"flex items-center gap-3 cursor-pointer p-3 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors",children:[s.jsx("input",{type:"checkbox",checked:r.manage_snippets,onChange:Y=>n({...r,manage_snippets:Y.target.checked}),className:"w-5 h-5 text-blue-600 rounded focus:ring-2 focus:ring-blue-500"}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"font-medium text-gray-900 dark:text-gray-100",children:[" ",u("settings.manageSnippets")]}),s.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:u("settings.snippetsDescription")})]})]}),s.jsxs("label",{className:"flex items-center gap-3 cursor-pointer p-4 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors border-2 border-amber-200 dark:border-amber-900/50 bg-amber-50 dark:bg-amber-900/10",children:[s.jsx("input",{type:"checkbox",checked:r.ask_llm,onChange:Y=>n({...r,ask_llm:Y.target.checked}),className:"w-5 h-5 text-blue-600 rounded focus:ring-2 focus:ring-blue-500"}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"font-medium text-gray-900 dark:text-gray-100 flex items-center gap-2",children:[" ",u("settings.askLlm"),s.jsx("span",{className:"inline-flex items-center px-2 py-0.5 text-xs font-medium text-amber-700 bg-amber-200 dark:bg-amber-900/50 dark:text-amber-400 rounded-full",children:" HIGH TOKEN USAGE"})]}),s.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-300 font-medium mb-1",children:u("settings.askLlmDescription")}),s.jsxs("div",{className:"text-xs text-amber-700 dark:text-amber-400 bg-amber-100 dark:bg-amber-900/30 p-2 rounded border border-amber-300 dark:border-amber-800",children:[s.jsx("strong",{children:"WARNING:"})," This tool creates complete recursive conversations with all available tools and multiple iterations. Can consume ",s.jsx("strong",{children:"5-10x more tokens"})," than direct responses. Use ONLY for complex queries requiring multiple steps with different tools. Limited to 5 iterations with token budget safeguards."]})]})]}),s.jsxs("label",{className:"flex items-center gap-3 cursor-pointer p-4 rounded-lg hover:bg-red-50 dark:hover:bg-red-950/30 transition-colors border-3 border-red-400 dark:border-red-900 bg-red-50 dark:bg-red-950/20 shadow-md",children:[s.jsx("input",{type:"checkbox",checked:r.generate_reasoning_chain,onChange:Y=>n({...r,generate_reasoning_chain:Y.target.checked}),className:"w-5 h-5 text-blue-600 rounded focus:ring-2 focus:ring-red-500"}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"font-medium text-gray-900 dark:text-gray-100 flex items-center gap-2",children:[" ",u("settings.generateReasoning"),s.jsx("span",{className:"inline-flex items-center px-2 py-0.5 text-xs font-bold text-red-800 bg-red-300 dark:bg-red-900/70 dark:text-red-300 rounded-full animate-pulse",children:" EXTREME TOKEN USAGE"})]}),s.jsx("div",{className:"text-sm text-gray-700 dark:text-gray-200 font-semibold mb-1",children:u("settings.reasoningDescription")}),s.jsxs("div",{className:"text-xs text-red-800 dark:text-red-300 bg-red-100 dark:bg-red-950/50 p-3 rounded border-2 border-red-400 dark:border-red-800 space-y-1",children:[s.jsx("div",{className:"font-bold text-sm mb-2",children:" CRITICAL WARNINGS:"}),s.jsxs("div",{children:[" Can consume ",s.jsx("strong",{className:"text-red-900 dark:text-red-200",children:"10-50x MORE tokens"})," than normal responses"]}),s.jsxs("div",{children:[" Uses ",s.jsx("strong",{children:"maximum reasoning depth"})," - models think extensively before responding"]}),s.jsxs("div",{children:[" May trigger ",s.jsx("strong",{children:"PARALLEL ASYNCHRONOUS TOOL CALLS"})," causing rapid token consumption"]}),s.jsxs("div",{children:[" Reasoning models charge for ",s.jsx("strong",{children:"both reasoning AND output tokens"})]}),s.jsxs("div",{className:"mt-2 pt-2 border-t border-red-300 dark:border-red-800",children:[s.jsx("strong",{children:"USE ONLY FOR:"})," Complex problems requiring deep logical analysis, multi-step proofs, mathematical derivations, or strategic planning where explicit reasoning transparency is essential."]})]})]})]})]})]}),s.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-6 mt-6",children:[s.jsx("div",{className:"mb-4",children:s.jsxs("label",{className:"flex items-center gap-3 cursor-pointer p-3 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors",children:[s.jsx("input",{type:"checkbox",checked:h,onChange:Y=>{Y.preventDefault()},className:"w-5 h-5 text-blue-600 rounded focus:ring-2 focus:ring-blue-500"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"font-medium text-gray-900 dark:text-gray-100",children:" Use YouTube Captions API"}),s.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Direct access to YouTube transcripts (faster than Whisper transcription)"})]}),h&&s.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 text-xs font-medium text-green-700 bg-green-100 dark:bg-green-900/30 dark:text-green-400 rounded-full",children:[s.jsx("svg",{className:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),"Connected"]})]})}),!h&&s.jsxs("div",{className:"ml-11 mb-4",children:[s.jsx("button",{onClick:b,disabled:g,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed rounded-lg transition-colors",children:g?"Connecting...":"Connect YouTube Account"}),s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-2",children:"Requires Google account authorization (read-only access)"})]}),h&&s.jsx("div",{className:"ml-11 mb-4",children:s.jsx("button",{onClick:()=>{confirm("Are you sure you want to disconnect YouTube access?")&&x()},className:"px-4 py-2 text-sm font-medium text-red-600 hover:text-red-700 dark:text-red-400 dark:hover:text-red-300 border border-red-300 dark:border-red-700 rounded-lg transition-colors",children:"Disconnect YouTube Access"})}),f&&s.jsxs("div",{className:"ml-11 mb-4 text-sm text-red-600 dark:text-red-400 flex items-start gap-2",children:[s.jsx("svg",{className:"w-4 h-4 flex-shrink-0 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),s.jsx("span",{children:f})]})]}),s.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-6 mt-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"MCP Servers"}),s.jsx("button",{onClick:()=>{a(),t()},className:"btn-secondary text-sm px-4 py-2",title:"Configure Model Context Protocol Servers",children:" Configure MCP"})]}),s.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Add and manage Model Context Protocol servers for extended functionality"})]})]}),D==="proxy"&&s.jsx("div",{className:"space-y-6",children:s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-2 text-gray-900 dark:text-gray-100",children:u("settings.proxySettings")}),s.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-4",children:u("settings.proxyDescription")}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:u("settings.proxyUsername")}),s.jsx("input",{type:"text",value:q,onChange:Y=>{const V=Y.target.value;z(V),H(V,K,Q)},placeholder:"exrihquq",className:"input w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:u("settings.proxyPassword")}),s.jsx("input",{type:"password",value:K,onChange:Y=>{const V=Y.target.value;X(V),H(q,V,Q)},placeholder:"Enter password",className:"input w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",id:"proxyEnabled",checked:Q,onChange:Y=>{const V=Y.target.checked;O(V),H(q,K,V)},className:"w-4 h-4"}),s.jsx("label",{htmlFor:"proxyEnabled",className:"text-sm text-gray-700 dark:text-gray-300",children:"Enable proxy for all requests"})]})]}),s.jsxs("div",{className:"mt-4 text-xs text-gray-500 dark:text-gray-400 space-y-1 bg-gray-50 dark:bg-gray-800 p-3 rounded-md",children:[s.jsx("p",{children:" Rotating residential IPs via p.webshare.io:80"}),s.jsx("p",{children:" Avoids rate limiting from Google and other services"}),s.jsxs("p",{children:[" Get credentials from ",s.jsx("a",{href:"https://dashboard.webshare.io/dashboard",target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:text-blue-600 underline",children:"Webshare Dashboard"})]}),s.jsx("p",{children:" UI settings override environment variables"})]})]})}),D==="location"&&s.jsx("div",{className:"space-y-6",children:s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-semibold mb-2 text-gray-900 dark:text-gray-100",children:[" ",u("settings.locationServices")]}),s.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-4",children:u("settings.locationDescription")}),s.jsx("div",{className:`p-6 rounded-lg border-2 ${E?"bg-green-50 dark:bg-green-900/20 border-green-300 dark:border-green-700":w==="denied"?"bg-red-50 dark:bg-red-900/20 border-red-300 dark:border-red-700":"bg-gray-50 dark:bg-gray-800 border-gray-300 dark:border-gray-700"}`,children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"flex-shrink-0",children:v?s.jsxs("svg",{className:"w-12 h-12 text-blue-500 animate-spin",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[s.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",strokeWidth:"3"}),s.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):E?s.jsx("svg",{className:"w-12 h-12 text-green-500",viewBox:"0 0 24 24",fill:"currentColor",children:s.jsx("path",{d:"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"})}):w==="denied"?s.jsx("svg",{className:"w-12 h-12 text-red-500",viewBox:"0 0 24 24",fill:"currentColor",children:s.jsx("path",{d:"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm1 13h-2v-2h2v2zm0-4h-2V7h2v4z"})}):s.jsx("svg",{className:"w-12 h-12 text-gray-400",viewBox:"0 0 24 24",fill:"currentColor",opacity:"0.5",children:s.jsx("path",{d:"M12 8c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4zm8.94 3c-.46-4.17-3.77-7.48-7.94-7.94V1h-2v2.06C6.83 3.52 3.52 6.83 3.06 11H1v2h2.06c.46 4.17 3.77 7.48 7.94 7.94V23h2v-2.06c4.17-.46 7.48-3.77 7.94-7.94H23v-2h-2.06zM12 19c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7z"})})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("div",{className:"mb-3",children:v?s.jsx("div",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Getting your location..."}):E?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"text-lg font-semibold text-green-700 dark:text-green-400 mb-2",children:"Location Enabled"}),E.address&&s.jsxs("div",{className:"space-y-1",children:[E.address.formatted&&s.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:E.address.formatted}),!E.address.formatted&&s.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:[E.address.city,E.address.state,E.address.country].filter(Boolean).join(", ")})]}),s.jsxs("div",{className:"mt-2 text-xs text-gray-600 dark:text-gray-400 space-y-1",children:[s.jsxs("div",{children:["Coordinates: ",E.latitude.toFixed(6),", ",E.longitude.toFixed(6)]}),s.jsxs("div",{children:["Accuracy: ",E.accuracy.toFixed(0)," meters"]}),s.jsxs("div",{children:["Updated: ",new Date(E.timestamp).toLocaleString()]})]})]}):w==="denied"?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"text-lg font-semibold text-red-700 dark:text-red-400 mb-2",children:"Location Access Denied"}),s.jsx("div",{className:"text-sm text-gray-700 dark:text-gray-300",children:"You have denied location access. To enable it, please update your browser settings and reload the page."})]}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"text-lg font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Location Not Enabled"}),s.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Click the button below to share your location. This helps provide better responses for location-specific queries."})]})}),T&&s.jsx("div",{className:"mt-3 p-3 bg-red-100 dark:bg-red-900/30 border border-red-300 dark:border-red-700 rounded-lg",children:s.jsxs("div",{className:"text-sm text-red-700 dark:text-red-400 flex items-start gap-2",children:[s.jsx("svg",{className:"w-4 h-4 flex-shrink-0 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),s.jsx("span",{children:T})]})}),s.jsxs("div",{className:"mt-4 flex gap-3",children:[!E&&w!=="denied"&&s.jsx("button",{onClick:N,disabled:v,className:"btn-primary px-6 py-2 disabled:opacity-50 disabled:cursor-not-allowed",children:v?"Getting Location...":"Enable Location"}),E&&s.jsxs(s.Fragment,{children:[s.jsx("button",{onClick:N,disabled:v,className:"btn-secondary px-4 py-2",children:" Refresh"}),s.jsx("button",{onClick:R,className:"btn-secondary px-4 py-2 text-red-600 hover:bg-red-50 dark:text-red-400 dark:hover:bg-red-900/20",children:" Clear"})]})]})]})]})}),s.jsx("div",{className:"mt-6 p-4 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("svg",{className:"w-5 h-5 text-blue-500 flex-shrink-0 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"text-sm font-semibold text-blue-900 dark:text-blue-100 mb-2",children:"Privacy & Usage"}),s.jsxs("div",{className:"text-xs text-blue-800 dark:text-blue-300 space-y-1",children:[s.jsx("p",{children:" Your location is stored locally in your browser (not on our servers)"}),s.jsx("p",{children:" Location data is only sent to the Lambda function when you send a chat message"}),s.jsx("p",{children:" Automatically expires after 24 hours"}),s.jsx("p",{children:" You can clear your location data at any time"}),s.jsx("p",{children:" Used for: weather, local businesses, directions, time zones, regional info"})]})]})]})})]})}),D==="tts"&&s.jsx(pZ,{}),D==="rag"&&s.jsx(hZ,{}),D==="cloud"&&s.jsx(TZ,{}),s.jsx("div",{className:"flex justify-end gap-3 mt-8",children:s.jsx("button",{onClick:t,className:"btn-primary",children:"Close"})})]})}):null},H1="llm_proxy_search_cache",kZ=7;function CZ(){try{const e=localStorage.getItem(H1);if(!e)return{};const t=JSON.parse(e),r=Date.now(),n=kZ*24*60*60*1e3,a={};for(const[i,o]of Object.entries(t)){const l=o;r-l.timestamp<n&&(a[i]=l)}return Object.keys(a).length!==Object.keys(t).length&&localStorage.setItem(H1,JSON.stringify(a)),a}catch(e){return console.error("Error reading search cache:",e),{}}}function _Z(e,t){try{const r=CZ(),n=e.toLowerCase().trim();r[n]={query:e.trim(),results:t,timestamp:Date.now()},localStorage.setItem(H1,JSON.stringify(r))}catch(r){console.error("Error saving search to cache:",r)}}function AZ(e,t){if(e!=="search_web")return null;try{const r=JSON.parse(t);return r.query&&Array.isArray(r.results)?(_Z(r.query,r.results),{query:r.query,results:r.results}):null}catch(r){return console.error("Error extracting search result from tool call:",r),null}}const NZ=({onClose:e})=>s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h2",{className:"text-xl font-bold",children:"LLM Transparency Info"}),s.jsx("button",{className:"text-gray-500 hover:text-gray-700 dark:hover:text-gray-300",onClick:e,children:""})]});function Dw(e,t=!0){if(e===null)return"N/A";const r=t?"$":"";return e<1e-4?`${r}${e.toFixed(6)}`:e<.01?`${r}${e.toFixed(4)}`:`${r}${e.toFixed(4)}`}const IZ=({call:e})=>{function t(n){switch(n.type){case"guardrail_input":return{label:"Guardrail Input",color:"bg-yellow-100 dark:bg-yellow-900/30",border:"border-yellow-400",text:"text-yellow-700 dark:text-yellow-300",icon:""};case"guardrail_output":return{label:"Guardrail Output",color:"bg-yellow-100 dark:bg-yellow-900/30",border:"border-yellow-400",text:"text-yellow-700 dark:text-yellow-300",icon:""};case"image_generation":return{label:"Image Generation",color:"bg-pink-100 dark:bg-pink-900/30",border:"border-pink-400",text:"text-pink-700 dark:text-pink-300",icon:""};case"planning":return{label:"Planning",color:"bg-blue-100 dark:bg-blue-900/30",border:"border-blue-400",text:"text-blue-700 dark:text-blue-300",icon:""};case"embedding":return{label:"Embedding",color:"bg-indigo-100 dark:bg-indigo-900/30",border:"border-indigo-400",text:"text-indigo-700 dark:text-indigo-300",icon:""};default:return{label:"Chat",color:"bg-gray-100 dark:bg-gray-900/30",border:"border-gray-400",text:"text-gray-700 dark:text-gray-300",icon:""}}}const r=t(e);return s.jsxs("div",{className:`border rounded-lg p-4 mb-2 ${r.color} ${r.border||""}`,children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("span",{className:`font-semibold ${r.text}`,children:[r.icon," ",r.label]}),s.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:[e.provider,"  ",e.model]})]}),s.jsx("div",{className:"mb-2",children:s.jsxs("span",{className:"font-mono text-sm",children:["Timestamp: ",new Date(e.timestamp).toLocaleString()]})}),s.jsxs("div",{className:"mb-2",children:[e.cost!==void 0&&s.jsxs("span",{className:"font-semibold text-pink-700 dark:text-pink-300",children:[" ",Dw(e.cost)]}),e.durationMs&&s.jsxs("span",{className:"ml-2",children:[" ",(e.durationMs/1e3).toFixed(2),"s"]}),e.success!==void 0&&s.jsx("span",{className:e.success?"text-green-600 dark:text-green-400 ml-2":"text-red-600 dark:text-red-400 ml-2",children:e.success?" Success":" Failed"})]})]})},RZ=({totalTokens:e,totalPromptTokens:t,totalCompletionTokens:r,totalActualCost:n,totalPaidEquivalent:a,hasPricing:i,hasFreeModels:o,onClose:l})=>s.jsxs("div",{className:"mt-6 border-t pt-4 text-sm text-gray-700 dark:text-gray-300",children:[s.jsxs("div",{className:"mb-2",children:["Total tokens: ",s.jsx("span",{className:"font-mono font-semibold",children:e})]}),s.jsxs("div",{className:"mb-2",children:["Prompt tokens: ",s.jsx("span",{className:"font-mono",children:t})," | Completion tokens: ",s.jsx("span",{className:"font-mono",children:r})]}),s.jsxs("div",{className:"mb-2",children:["Actual cost: ",s.jsx("span",{className:"font-mono font-semibold",children:n})]}),i&&s.jsxs("div",{className:"mb-2",children:["Paid equivalent: ",s.jsx("span",{className:"font-mono",children:a})]}),o&&s.jsx("div",{className:"mb-2 text-green-600 dark:text-green-400",children:"Some calls used free tier models."}),s.jsx("button",{className:"px-4 py-2 bg-gray-500 hover:bg-gray-600 text-white rounded transition-colors mt-4",onClick:l,children:"Close"})]}),DZ=({apiCalls:e,onClose:t})=>s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-40 dark:bg-opacity-60",children:s.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-lg shadow-lg w-full max-w-3xl p-6 relative",children:[s.jsx(NZ,{onClose:t}),s.jsx("div",{className:"space-y-4",children:e.length===0?s.jsx("div",{className:"text-gray-500 dark:text-gray-400",children:"No API calls found."}):e.map((d,h)=>s.jsx(IZ,{call:d},h))}),s.jsx(RZ,{totalTokens:0,totalPromptTokens:0,totalCompletionTokens:0,totalActualCost:0,totalPaidEquivalent:0,hasPricing:!1,hasFreeModels:!1,onClose:t})]})}),X6=({isOpen:e,onClose:t,onTranscriptionComplete:r,accessToken:n,apiEndpoint:a})=>{const i=Au(e,t,!1),{providers:o}=K6(),[l,u]=C.useState(!1),[d,h]=C.useState(0),[g,f]=C.useState(""),[b,x]=C.useState(null),[E,v]=C.useState(!1),T=C.useRef(null),w=C.useRef(null),N=C.useRef(null),R=C.useRef([]),D=C.useRef(null),L=C.useRef(null),j=C.useRef(null),B=C.useCallback(()=>{D.current&&cancelAnimationFrame(D.current),L.current&&clearTimeout(L.current),T.current&&T.current.state!=="inactive"&&T.current.stop(),j.current&&j.current.getTracks().forEach(O=>O.stop()),w.current&&w.current.state!=="closed"&&w.current.close().catch(O=>{console.warn("Failed to close AudioContext:",O)}),u(!1),h(0)},[]),q=async()=>{try{x(null),R.current=[];const O=await navigator.mediaDevices.getUserMedia({audio:!0});j.current=O;const H=new(window.AudioContext||window.webkitAudioContext);w.current=H;const $=H.createMediaStreamSource(O),Y=H.createAnalyser();Y.fftSize=256,N.current=Y,$.connect(Y);const V=new MediaRecorder(O);T.current=V,V.ondataavailable=ne=>{ne.data.size>0&&R.current.push(ne.data)},V.onstop=async()=>{const ne=new Blob(R.current,{type:"audio/webm"});await Q(ne)},V.start(),u(!0),z(),K()}catch(O){console.error("Error starting recording:",O),x("Failed to access microphone. Please check permissions.")}},z=()=>{if(!N.current||!l)return;const O=new Uint8Array(N.current.frequencyBinCount);N.current.getByteFrequencyData(O);const H=O.reduce((Y,V)=>Y+V)/O.length,$=Math.min(H/128,1);h($),D.current=requestAnimationFrame(z)},K=()=>{if(!N.current)return;const O=new Uint8Array(N.current.frequencyBinCount);N.current.getByteFrequencyData(O);const H=O.reduce((V,ne)=>V+ne)/O.length,$=10,Y=2e3;H<$?L.current||(L.current=setTimeout(()=>{console.log("Silence detected, stopping recording..."),X()},Y)):L.current&&(clearTimeout(L.current),L.current=null),l&&setTimeout(K,100)},X=()=>{B()},Q=async O=>{if(!n){x("Not authenticated. Please sign in.");return}v(!0);const H=`web-${Date.now()}-${Math.random().toString(36).substr(2,9)}`;console.log(" Generated request ID for voice transcription:",H);const $=o.find(P=>P.type==="groq"),Y=o.find(P=>P.type==="openai"),V=$?.apiKey||Y?.apiKey||null,ne=$?"groq":Y?"openai":null;console.log(" Transcription provider:",ne,"hasKey:",!!V);try{const P=new FormData;P.append("audio",O,"recording.webm"),V&&ne&&(P.append("apiKey",V),P.append("provider",ne));const G=`${a.replace("/openai/v1","")}/transcribe`;console.log("Transcribing audio:",{url:G,blobSize:O.size,blobType:O.type,hasToken:!!n,requestId:H,provider:ne,hasApiKey:!!V});const F=await fetch(G,{method:"POST",headers:{Authorization:`Bearer ${n}`,"X-Request-Id":H},body:P}),ie=await F.json();if(!F.ok){let ge="Unknown error";throw ie.error?ge=typeof ie.error=="string"?ie.error:JSON.stringify(ie.error):F.statusText&&(ge=F.statusText),console.error("Transcription failed:",{status:F.status,data:ie}),new Error(`Transcription failed: ${ge}`)}const he=ie.text||ie.transcription||"",ye=ie.llmApiCall||null;f(he),setTimeout(()=>{r(he,H,ye),t()},500)}catch(P){console.error("Transcription error:",P);let I="Transcription failed";P instanceof TypeError&&P.message.includes("Failed to fetch")?(I="Network error: Could not reach transcription service. Check your internet connection and API endpoint configuration.",console.error("Network error details:",{message:P.message,apiEndpoint:a,transcribeUrl:`${a.replace("/openai/v1","")}/transcribe`})):P instanceof Error&&(I=P.message),x(I)}finally{v(!1)}};return C.useEffect(()=>(e||B(),B),[e,B]),C.useEffect(()=>{e&&(f(""),x(null),!l&&!E&&q())},[e]),e?s.jsx("div",{ref:i,className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:s.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-2xl shadow-2xl w-full max-w-md p-8",children:[s.jsxs("div",{className:"text-center mb-6",children:[s.jsx("h3",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100 mb-2",children:E?" Processing...":l?" Listening...":" Voice Input"}),s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:E?"Transcribing your audio...":l?"Speak now. Will auto-stop after 2 seconds of silence.":"Click start to begin recording"})]}),s.jsx("div",{className:"mb-8",children:s.jsxs("div",{className:"relative h-32 bg-gray-100 dark:bg-gray-800 rounded-lg overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 flex items-end justify-center gap-1 p-4",children:[...Array(20)].map((O,H)=>{const $=Math.max(.1,d*(1-Math.abs(H-10)/10)*(.8+Math.random()*.4));return s.jsx("div",{className:`flex-1 rounded-t transition-all duration-100 ${l?d>.3?"bg-gradient-to-t from-green-500 to-green-300":"bg-gradient-to-t from-blue-500 to-blue-300":"bg-gray-400"}`,style:{height:`${$*100}%`,opacity:l?1:.3}},H)})}),l&&s.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:s.jsx("div",{className:`w-16 h-16 rounded-full flex items-center justify-center ${d>.3?"bg-green-500/20 animate-pulse":"bg-blue-500/20"}`,children:s.jsxs("svg",{className:"w-8 h-8 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:[s.jsx("path",{d:"M12 14c1.66 0 3-1.34 3-3V5c0-1.66-1.34-3-3-3S9 3.34 9 5v6c0 1.66 1.34 3 3 3z"}),s.jsx("path",{d:"M17 11c0 2.76-2.24 5-5 5s-5-2.24-5-5H5c0 3.53 2.61 6.43 6 6.92V21h2v-3.08c3.39-.49 6-3.39 6-6.92h-2z"})]})})})]})}),g&&s.jsx("div",{className:"mb-6 p-4 bg-gray-50 dark:bg-gray-800 rounded-lg",children:s.jsxs("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:[s.jsx("strong",{children:"Transcription:"})," ",g]})}),b&&s.jsx("div",{className:"mb-6 p-4 bg-red-50 dark:bg-red-900/20 rounded-lg border border-red-200 dark:border-red-800",children:s.jsxs("p",{className:"text-sm text-red-700 dark:text-red-300",children:[s.jsx("strong",{children:"Error:"})," ",b]})}),s.jsxs("div",{className:"flex gap-3",children:[l&&!E&&s.jsxs("button",{onClick:X,className:"flex-1 py-3 px-4 bg-red-600 hover:bg-red-700 text-white rounded-lg font-medium transition-colors flex items-center justify-center gap-2",children:[s.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("rect",{x:"6",y:"6",width:"12",height:"12",rx:"2"})}),"Stop"]}),s.jsx("button",{onClick:t,disabled:E,className:"flex-1 py-3 px-4 bg-gray-200 hover:bg-gray-300 dark:bg-gray-700 dark:hover:bg-gray-600 text-gray-900 dark:text-gray-100 rounded-lg font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:E?"Processing...":"Cancel"})]}),s.jsxs("div",{className:"mt-6 text-center text-xs text-gray-500 dark:text-gray-400",children:["Press ",s.jsx("kbd",{className:"px-2 py-1 bg-gray-200 dark:bg-gray-700 rounded",children:"Esc"})," to cancel"]})]})}):null},Z6=({isOpen:e,onClose:t,onTransferToChat:r})=>{const{t:n}=xc(),a=Au(e,t),{getToken:i,isAuthenticated:o,accessToken:l}=Ps(),{settings:u}=mo(),{showError:d,showSuccess:h}=go(),[g,f]=xi("planning_query",""),[b,x]=xi("planning_result",null),[E,v]=C.useState(!1),[T,w]=C.useState(""),[N,R]=C.useState(!1),[D,L]=C.useState([]),[j,B]=C.useState(""),[q,z]=C.useState(null),[K,X]=C.useState(null),[Q,O]=C.useState(!1),[H,$]=C.useState(!1),[Y,V]=C.useState("query"),[ne,P]=C.useState(0),I=C.useRef(null),G=C.useRef(null),F=C.useRef(null),[ie,he]=xi("planning_dialog_generated_system_prompt",""),[ye,ge]=xi("planning_dialog_generated_user_query",""),[pe,Be]=C.useState(""),[Ee,we]=C.useState(""),[Je,Ke]=C.useState(""),ze=le=>{le&&(le.style.height="auto",le.style.height=le.scrollHeight+"px")};C.useEffect(()=>{ze(I.current)},[g]),C.useEffect(()=>{ze(G.current)},[ie]),C.useEffect(()=>{ze(F.current)},[ye]),C.useEffect(()=>{ta().then(le=>{B(le),console.log(" API endpoint for planning voice input:",le)})},[]),C.useEffect(()=>{N&&(Zg().then(le=>{L(le)}),Vt())},[N]);const Vt=async()=>{const le=await vZ();z(le)};C.useEffect(()=>{b&&b.queryType==="guidance"?(g&&Be(g),ie&&we(ie),ye&&Ke(ye),he(""),ge("")):b&&b.queryType!=="guidance"&&pe&&(Ee&&he(Ee),Je&&ge(Je),Be(""),we(""),Ke(""))},[b]);const kt=async()=>{if(!o){console.error("User not authenticated"),d(n("planning.signInRequired")),x({error:n("planning.authRequired")});return}if(!g.trim()){d(n("planning.enterResearchQuestion"));return}if(!E){v(!0),x(null),w(n("planning.initializing"));try{const le=await i();if(!le){console.error("No valid token available"),d(n("planning.authExpired")),x({error:n("planning.authExpired")}),v(!1);return}console.log(" Planning with token:",{tokenLength:le.length,tokenPrefix:le.substring(0,20)+"...",isAuthenticated:o,hasProviders:u.providers.length});const se=u.providers.filter(Ce=>Ce.enabled===!0);console.log(` Enabled providers: ${se.length} (server may have additional credentials)`),await M1(g,le,se,void 0,(Ce,De)=>{switch(console.log("Planning SSE event:",Ce,De),Ce){case"status":console.log("Status:",De.message),w(De.message||"Processing...");break;case"result":x(De),De.enhancedSystemPrompt&&he(De.enhancedSystemPrompt),De.enhancedUserPrompt&&ge(De.enhancedUserPrompt);break;case"llm_response":X(De),console.log("Captured LLM transparency info:",De);break;case"error":const dt=De.error||"Unknown error",lt=De.provider&&De.model?` (Provider: ${De.provider}, Model: ${De.model})`:"",qt=`${dt}${lt}`;let Ft="";dt.includes("Invalid API Key")||dt.includes("401")?Ft=`

 Tip: Check your API key in Settings. Make sure it's valid and hasn't expired.`:(De.isRateLimit||dt.includes("rate limit"))&&(Ft=`

 Tip: You've hit the rate limit. Try again in a few moments or use a different provider.`),x({error:qt+Ft}),d(`Planning error: ${qt}${Ft}`);break;case"llm_error":console.error("LLM Error:",De);const Ct=De.error||"LLM request failed",je=De.provider&&De.modelName?` (${De.provider}:${De.modelName})`:"";d(`LLM Error${je}: ${Ct}`);break}},()=>{console.log("Planning stream complete"),v(!1),w("")},Ce=>{console.error("Planning stream error:",Ce),x({error:Ce.message}),d(`Planning failed: ${Ce.message}`),v(!1),w("")},{language:u.language||"en"})}catch(le){console.error("Planning error:",le);const se=le instanceof Error?le.message:"Unknown error";x({error:se}),d(`Planning error: ${se}`),v(!1),w("")}}},wt=()=>{if(!ye||!r)return;const le={prompt:ye,persona:ie||"",planningQuery:g,generatedSystemPrompt:ie,generatedUserQuery:ye};console.log(" PlanningDialog - Creating transfer data:",le);const se=JSON.stringify(le);console.log(" PlanningDialog - JSON string length:",se.length),r(se),t()},_t=()=>{const le={query:g,result:b,generatedSystemPrompt:ie,generatedUserPrompt:ye,llmInfo:K,timestamp:new Date().toISOString()},se=`=== Planning Debug Info for Copilot ===
Generated at: ${le.timestamp}

--- User Query ---
${le.query||"(none)"}

--- Planning Result (Full Response) ---
${JSON.stringify(le.result,null,2)}

--- Generated System Prompt ---
${le.generatedSystemPrompt||"(none)"}

--- Generated User Query ---
${le.generatedUserPrompt||"(none)"}

--- LLM Request/Response Details ---
${JSON.stringify(le.llmInfo,null,2)}

=== End Debug Info ===`;navigator.clipboard.writeText(se).then(()=>{h(n("planning.debugCopied"))},()=>{d(n("planning.debugCopyFailed"))})},jt=le=>{f(le.query),x(le.plan),le.plan&&!le.plan.error&&(le.plan.enhancedSystemPrompt&&he(le.plan.enhancedSystemPrompt),le.plan.enhancedUserPrompt&&ge(le.plan.enhancedUserPrompt)),le.systemPrompt&&he(le.systemPrompt),le.userPrompt&&ge(le.userPrompt),R(!1)},mt=async le=>{await xZ(le);const se=await Zg();L(se)},zt=async()=>{if(!b||b.error){d(n("planning.cannotSavePlan"));return}try{await Q6(g,b,b.enhancedSystemPrompt||ie||"",b.enhancedUserPrompt||ye||""),h(n("planning.planSavedSuccess")),console.log("Plan manually saved to cache with system and user prompts")}catch(le){d(le instanceof Error?le.message:n("planning.planSaveFailed"))}},ar=()=>{f(""),x(null),he(""),ge(""),localStorage.removeItem("planning_dialog_generated_system_prompt"),localStorage.removeItem("planning_dialog_generated_user_query"),localStorage.removeItem("planning_query"),localStorage.removeItem("planning_result"),console.log("Planning dialog cleared completely")},kr=le=>{console.log(" Voice transcription received for planning:",le);let se="",Ce,De=null;switch(Y){case"systemPrompt":se=ie,Ce=he,De=G.current;break;case"userQuery":se=ye,Ce=ge,De=F.current;break;case"query":default:se=g,Ce=f,De=I.current;break}const dt=se.substring(0,ne),lt=se.substring(ne),qt=dt+le+lt;Ce(qt),De&&setTimeout(()=>{const Ft=ne+le.length;De.selectionStart=Ft,De.selectionEnd=Ft,De.focus(),P(Ft)},0)},dr=le=>{V(le)},Jt=le=>{le&&P(le.selectionStart)};return e?s.jsxs(s.Fragment,{children:[s.jsx("div",{ref:a,className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 p-4",children:s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"sticky top-0 bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 px-6 py-4 flex justify-between items-center",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-gray-100",children:n("planning.title")}),s.jsx("div",{className:"ml-4",children:s.jsxs("button",{onClick:zt,disabled:!b||b.error,className:"btn-primary text-sm flex items-center gap-1.5",title:n("planning.savePlanTooltip"),children:[s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3 3m0 0l-3-3m3 3V4"})}),n("planning.savePlan")]})}),s.jsxs("button",{onClick:()=>R(!0),className:"btn-secondary text-sm flex items-center gap-1.5",children:[s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),n("planning.loadSaved")]}),s.jsxs("button",{onClick:()=>$(!0),disabled:!o,className:"bg-purple-600 hover:bg-purple-700 disabled:bg-gray-400 disabled:cursor-not-allowed text-white px-3 py-2 rounded-lg text-sm font-medium transition-colors flex items-center gap-1.5",title:o?"Voice input - transcribe speech into last selected field":n("auth.signInRequired"),children:[s.jsxs("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24",children:[s.jsx("path",{d:"M12 14c1.66 0 3-1.34 3-3V5c0-1.66-1.34-3-3-3S9 3.34 9 5v6c0 1.66 1.34 3 3 3z"}),s.jsx("path",{d:"M17 11c0 2.76-2.24 5-5 5s-5-2.24-5-5H5c0 3.53 2.61 6.43 6 6.92V21h2v-3.08c3.39-.49 6-3.39 6-6.92h-2z"})]}),""]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("button",{onClick:_t,disabled:!g&&!b,className:"bg-purple-600 hover:bg-purple-700 disabled:bg-gray-400 disabled:cursor-not-allowed text-white px-3 py-2 rounded-lg text-sm font-medium transition-colors flex items-center gap-1.5",title:n("planning.debugTooltip"),children:[s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})}),n("planning.debug")]}),r&&s.jsxs("button",{onClick:wt,disabled:!ye||!ye.trim(),className:"bg-green-600 hover:bg-green-700 disabled:bg-gray-400 disabled:cursor-not-allowed text-white px-4 py-2 rounded-lg text-sm font-medium transition-colors flex items-center gap-1.5",children:[s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})}),n("planning.transferToChat")]}),s.jsx("button",{onClick:t,className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200","aria-label":n("common.close"),children:s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]}),s.jsxs("div",{className:"p-6 space-y-4",children:[E&&T&&s.jsx("div",{className:"bg-blue-50 border-l-4 border-blue-400 p-3 rounded",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsxs("svg",{className:"animate-spin h-5 w-5 text-blue-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[s.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),s.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}),s.jsx("div",{className:"ml-3",children:s.jsx("p",{className:"text-sm text-blue-700",children:T})})]})}),!(b&&b.queryType==="guidance")&&s.jsxs("div",{className:"card p-4",children:[s.jsxs("div",{className:"flex justify-between items-center mb-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:n("planning.query")}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("button",{onClick:kt,disabled:E||!g.trim(),title:o?g.trim()?n(E?"planning.planning":"planning.generatePlan"):n("planning.enterResearchQuestion"):n("planning.signInRequired"),className:`${o?"bg-green-600 hover:bg-green-700":"bg-yellow-500 hover:bg-yellow-600"} disabled:bg-gray-400 disabled:cursor-not-allowed text-white px-4 py-2 rounded-lg text-sm font-medium transition-colors flex items-center gap-1.5`,children:[s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"})}),n(E?"planning.generating":o?"planning.generatePlan":"planning.signInToGenerate")]}),s.jsxs("button",{onClick:ar,className:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg text-sm font-medium transition-colors flex items-center gap-1.5",title:n("planning.clearAllTooltip"),children:[s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),n("planning.clearAll")]})]})]}),o?s.jsx(s.Fragment,{children:s.jsx("textarea",{ref:I,value:g,onChange:le=>f(le.target.value),onFocus:()=>dr("query"),onClick:()=>Jt(I.current),onKeyUp:()=>Jt(I.current),placeholder:n("planning.enterQuery"),className:"input-field resize-none overflow-hidden",style:{minHeight:"120px"}})}):s.jsx("div",{className:"text-center text-red-500 py-4",children:n("planning.signInToUsePlanning")})]}),ie&&!(b&&b.queryType==="guidance")&&s.jsxs("div",{className:"card p-4",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-gray-100",children:n("planning.generatedPrompts")}),K&&s.jsxs("button",{onClick:()=>O(!0),className:"btn-secondary text-xs px-3 py-1.5 flex items-center gap-1",title:n("planning.llmInfoTooltip"),children:[" $",(K.cost||0).toFixed(4),"  ",K.calls||1," ",K.calls>1?n("planning.llmCallsPlural"):n("planning.llmCalls")," "]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-2 text-gray-900 dark:text-gray-100",children:n("planning.systemPromptEditable")}),s.jsx("textarea",{ref:G,value:ie,onChange:le=>he(le.target.value),onFocus:()=>dr("systemPrompt"),onClick:()=>Jt(G.current),onKeyUp:()=>Jt(G.current),className:"input-field resize-none overflow-hidden w-full",style:{minHeight:"96px"}}),s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-2",children:n("planning.systemPromptHelp")})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-2 text-gray-900 dark:text-gray-100",children:n("planning.userQueryEditable")}),s.jsx("textarea",{ref:F,value:ye,onChange:le=>ge(le.target.value),onFocus:()=>dr("userQuery"),onClick:()=>Jt(F.current),onKeyUp:()=>Jt(F.current),className:"input-field resize-none overflow-hidden w-full",style:{minHeight:"96px"}}),s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-2",children:n("planning.userQueryHelp")})]})]})]}),b&&!b.error&&s.jsx("div",{className:"card p-4",children:s.jsxs("div",{className:"space-y-4",children:[b.queryType==="SIMPLE"&&s.jsxs("div",{className:"card p-4 bg-blue-50 dark:bg-blue-900/20",children:[s.jsx("h3",{className:"font-semibold text-blue-900 dark:text-blue-100 mb-2",children:n("planning.simpleQueryDetected")}),s.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:b.simpleInstruction}),s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-2",children:n("planning.simpleQueryHelp")})]}),b.queryType==="OVERVIEW"&&s.jsxs("div",{className:"card p-4 space-y-4",children:[s.jsx("h3",{className:"font-semibold text-gray-900 dark:text-gray-100",children:n("planning.comprehensiveResearchPlan")}),s.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900 p-3 rounded-lg",children:[s.jsx("h4",{className:"text-sm font-medium mb-2 text-gray-800 dark:text-gray-200",children:n("planning.analysisSummary")}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-xs",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-medium text-gray-600 dark:text-gray-400",children:n("planning.queryType")}),s.jsx("span",{className:"ml-2 px-2 py-1 bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200 rounded",children:b.queryType})]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium text-gray-600 dark:text-gray-400",children:n("planning.complexity")}),s.jsx("span",{className:"ml-2 px-2 py-1 bg-orange-100 dark:bg-orange-900 text-orange-800 dark:text-orange-200 rounded",children:b.complexityAssessment})]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium text-gray-600 dark:text-gray-400",children:n("planning.researchApproach")}),s.jsx("span",{className:"ml-2 px-2 py-1 bg-purple-100 dark:bg-purple-900 text-purple-800 dark:text-purple-200 rounded",children:b.researchApproach})]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium text-gray-600 dark:text-gray-400",children:n("planning.estimatedSources")}),s.jsx("span",{className:"ml-2 px-2 py-1 bg-indigo-100 dark:bg-indigo-900 text-indigo-800 dark:text-indigo-200 rounded",children:b.estimatedSources||"N/A"})]})]}),b.reasoning&&s.jsxs("div",{className:"mt-2",children:[s.jsx("span",{className:"font-medium text-gray-600 dark:text-gray-400",children:n("planning.reasoning")}),s.jsx("p",{className:"text-gray-700 dark:text-gray-300 mt-1",children:b.reasoning})]})]}),b.persona&&s.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-3 rounded-lg",children:[s.jsx("h4",{className:"text-sm font-medium mb-2 text-blue-800 dark:text-blue-200",children:n("planning.expertPersona")}),s.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:b.persona})]}),b.searchStrategies?.length>0&&s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium mb-2",children:n("planning.searchQueries")}),s.jsx("div",{className:"bg-green-50 dark:bg-green-900/20 p-3 rounded-lg",children:s.jsx("ul",{className:"space-y-1",children:b.searchStrategies.map((le,se)=>s.jsxs("li",{className:"text-sm text-green-700 dark:text-green-300 flex items-start",children:[s.jsx("span",{className:"text-green-500 mr-2",children:""}),s.jsxs("span",{children:['"',le,'"']})]},se))})})]}),b.researchQuestions?.length>0&&s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium mb-2",children:n("planning.researchQuestions")}),s.jsx("div",{className:"bg-purple-50 dark:bg-purple-900/20 p-3 rounded-lg",children:s.jsx("ul",{className:"list-decimal list-inside space-y-1 text-sm",children:b.researchQuestions.map((le,se)=>s.jsx("li",{className:"text-purple-700 dark:text-purple-300",children:le},se))})})]}),b.suggestedSources?.length>0&&s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium mb-2",children:n("planning.suggestedSources")}),s.jsx("div",{className:"bg-teal-50 dark:bg-teal-900/20 p-3 rounded-lg",children:s.jsx("div",{className:"space-y-2",children:b.suggestedSources.map((le,se)=>s.jsxs("div",{className:"text-sm",children:[s.jsxs("div",{className:"font-medium text-teal-800 dark:text-teal-200 capitalize",children:[le.type," ",n("planning.sources")]}),s.jsx("div",{className:"text-teal-700 dark:text-teal-300 ml-2",children:le.examples?le.examples.join(", "):n("planning.variousRelevantSources")})]},se))})})]}),b.methodology&&s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium mb-2",children:n("planning.researchMethodology")}),s.jsx("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 p-3 rounded-lg",children:s.jsx("p",{className:"text-sm text-yellow-700 dark:text-yellow-300",children:b.methodology})})]}),b.enhancedSystemPrompt&&s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium mb-2",children:" Enhanced System Prompt:"}),s.jsx("div",{className:"bg-gray-50 dark:bg-gray-900 p-3 rounded-lg border",children:s.jsx("p",{className:"text-xs text-gray-700 dark:text-gray-300 whitespace-pre-wrap font-mono",children:b.enhancedSystemPrompt})})]}),b.enhancedUserPrompt&&s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium mb-2",children:" Enhanced User Prompt:"}),s.jsx("div",{className:"bg-gray-50 dark:bg-gray-900 p-3 rounded-lg border",children:s.jsx("p",{className:"text-xs text-gray-700 dark:text-gray-300 whitespace-pre-wrap font-mono",children:b.enhancedUserPrompt})})]}),s.jsxs("details",{className:"bg-gray-50 dark:bg-gray-900/50 p-3 rounded-lg border",children:[s.jsx("summary",{className:"text-sm font-medium cursor-pointer text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200",children:" Debug: Raw LLM Response Fields"}),s.jsx("div",{className:"mt-3 space-y-2 text-xs",children:Object.entries(b).map(([le,se])=>le.startsWith("_")||typeof se=="object"?null:s.jsxs("div",{className:"flex",children:[s.jsxs("span",{className:"font-mono text-gray-500 dark:text-gray-400 w-32 flex-shrink-0",children:[le,":"]}),s.jsx("span",{className:"text-gray-700 dark:text-gray-300 break-all",children:typeof se=="string"?se:JSON.stringify(se)})]},le))})]})]}),b.queryType==="LONG_FORM"&&s.jsxs("div",{className:"card p-4 space-y-4",children:[s.jsx("h3",{className:"font-semibold text-purple-900 dark:text-purple-100",children:n("planning.longFormDocumentPlan")}),s.jsxs("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 p-3 rounded text-sm",children:[s.jsx("strong",{children:"Note:"})," ",n("planning.longFormNote")]}),b.documentSections?.length>0&&s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium mb-2",children:n("planning.documentStructure")}),b.documentSections.map((le,se)=>s.jsxs("div",{className:"ml-4 mb-3 p-2 bg-gray-50 dark:bg-gray-900 rounded",children:[s.jsxs("div",{className:"font-medium text-purple-600 dark:text-purple-400",children:[se+1,". ",le.title]}),s.jsxs("div",{className:"text-xs text-gray-600 dark:text-gray-400 mt-1",children:[n("planning.keywords"),": ",le.keywords.join(", ")]}),le.questions?.length>0&&s.jsx("ul",{className:"text-xs mt-1 ml-4 list-disc list-inside",children:le.questions.map((Ce,De)=>s.jsx("li",{children:Ce},De))})]},se))]}),b.snippetWorkflow&&s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium mb-2",children:n("planning.workflow")}),s.jsx("div",{className:"text-xs bg-gray-50 dark:bg-gray-900 p-2 rounded whitespace-pre-wrap",children:b.snippetWorkflow})]})]}),b.queryType==="NEEDS_CLARIFICATION"&&s.jsxs("div",{className:"card p-4 space-y-4 bg-orange-50 dark:bg-orange-900/20",children:[s.jsx("h3",{className:"font-semibold text-orange-900 dark:text-orange-100",children:n("planning.needMoreInfo")}),s.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:b.reasoning}),b.clarificationQuestions?.length>0&&s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium mb-2",children:n("planning.pleaseClarify")}),s.jsx("ul",{className:"list-disc list-inside space-y-1 text-sm ml-4",children:b.clarificationQuestions.map((le,se)=>s.jsx("li",{className:"text-gray-700 dark:text-gray-300",children:le},se))})]}),s.jsxs("div",{className:"mt-4",children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:n("planning.updateQueryDetails")}),s.jsx("textarea",{value:g,onChange:le=>f(le.target.value),className:"input-field",rows:4,placeholder:n("planning.provideMoreDetails")}),s.jsx("button",{onClick:kt,className:"btn-primary mt-2 w-full",children:n("planning.regeneratePlanWithClarifications")})]})]}),b.queryType==="guidance"&&s.jsxs("div",{className:"card p-4 space-y-4 bg-gradient-to-r from-purple-50 to-blue-50 dark:from-purple-900/20 dark:to-blue-900/20",children:[s.jsxs("h3",{className:"font-semibold text-purple-900 dark:text-purple-100 flex items-center gap-2",children:[s.jsx("span",{className:"text-2xl",children:""})," ",n("planning.moreInfoRequired")]}),b.planType&&s.jsxs("div",{className:"flex gap-2 items-center",children:[s.jsx("span",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:n("planning.planType")}),s.jsx("span",{className:"px-3 py-1 bg-purple-100 dark:bg-purple-900 text-purple-800 dark:text-purple-200 rounded-full text-sm font-medium",children:b.planType.replace(/-/g," ").toUpperCase()})]}),b.detectedPatterns?.length>0&&s.jsxs("div",{className:"bg-white dark:bg-gray-800 p-3 rounded-lg border border-purple-200 dark:border-purple-700",children:[s.jsx("h4",{className:"text-sm font-medium mb-2 text-purple-800 dark:text-purple-200",children:n("planning.detectedComplexityPatterns")}),s.jsx("div",{className:"flex flex-wrap gap-2",children:b.detectedPatterns.map((le,se)=>s.jsx("span",{className:"px-2 py-1 bg-purple-50 dark:bg-purple-900/30 text-purple-700 dark:text-purple-300 rounded text-xs",children:le},se))})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[b.estimatedIterations&&s.jsxs("div",{className:"bg-white dark:bg-gray-800 p-3 rounded-lg border border-blue-200 dark:border-blue-700",children:[s.jsx("div",{className:"font-medium text-blue-700 dark:text-blue-300",children:n("planning.estimatedIterations")}),s.jsx("div",{className:"text-2xl font-bold text-blue-900 dark:text-blue-100",children:b.estimatedIterations})]}),b.toolsRequired?.length>0&&s.jsxs("div",{className:"bg-white dark:bg-gray-800 p-3 rounded-lg border border-blue-200 dark:border-blue-700",children:[s.jsx("div",{className:"font-medium text-blue-700 dark:text-blue-300",children:n("planning.toolsRequired")}),s.jsx("div",{className:"text-2xl font-bold text-blue-900 dark:text-blue-100",children:b.toolsRequired.length})]})]}),b.suggestedWorkflow&&s.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-3 rounded-lg",children:[s.jsx("h4",{className:"text-sm font-medium mb-2 text-blue-800 dark:text-blue-200",children:n("planning.suggestedWorkflow")}),s.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:b.suggestedWorkflow})]}),b.toolsRequired?.length>0&&s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium mb-2",children:n("planning.requiredTools")}),s.jsx("div",{className:"flex flex-wrap gap-2",children:b.toolsRequired.map((le,se)=>s.jsx("span",{className:"px-3 py-1 bg-gradient-to-r from-blue-100 to-purple-100 dark:from-blue-900/30 dark:to-purple-900/30 text-blue-800 dark:text-blue-200 rounded-lg text-sm font-mono",children:le},se))})]}),s.jsxs("div",{className:"bg-gradient-to-r from-yellow-50 to-orange-50 dark:from-yellow-900/20 dark:to-orange-900/20 p-4 rounded-lg border-2 border-yellow-300 dark:border-yellow-700",children:[s.jsxs("h4",{className:"text-sm font-medium mb-3 text-yellow-900 dark:text-yellow-100 flex items-center gap-2",children:[s.jsx("span",{className:"text-lg",children:""})," ",n("planning.guidanceQuestions")]}),b.guidanceQuestions?.length>0&&s.jsx("ol",{className:"list-decimal list-inside space-y-2 text-sm mb-4",children:b.guidanceQuestions.map((le,se)=>s.jsx("li",{className:"text-yellow-800 dark:text-yellow-200 font-medium",children:le},se))}),s.jsxs("div",{className:"mt-4 space-y-2",children:[s.jsx("label",{className:"block text-sm font-semibold text-yellow-900 dark:text-yellow-100",children:n("planning.updatePromptWithAnswers")}),s.jsx("p",{className:"text-xs text-yellow-700 dark:text-yellow-300 mb-2",children:n("planning.guidanceTip")}),s.jsx("textarea",{value:g,onChange:le=>f(le.target.value),className:"input-field",rows:6,placeholder:n("planning.guidanceExamplePlaceholder")}),s.jsxs("div",{className:"flex gap-2 mt-2",children:[s.jsx("button",{onClick:kt,className:"btn-primary flex-1",children:n("planning.generateDetailedExecutionPlan")}),s.jsx("button",{onClick:async()=>{if(!o){d(n("planning.signInRequired"));return}if(!E){v(!0),w(n("planning.forcingPlan"));try{const le=await i();if(!le){d(n("planning.authExpired")),v(!1);return}const se=u.providers.filter(De=>De.enabled===!0),Ce=b.guidanceQuestions?.map((De,dt)=>`Q${dt+1}: ${De}
A${dt+1}: ${n("planning.clarificationAnswer")}`).join(`

`)||"";await M1(g,le,se,void 0,(De,dt)=>{switch(console.log("Force Plan SSE event:",De,dt),De){case"status":w(dt.message||n("planning.processing"));break;case"result":x(dt),dt.enhancedSystemPrompt&&he(dt.enhancedSystemPrompt),dt.enhancedUserPrompt&&ge(dt.enhancedUserPrompt);break;case"llm_response":X(dt);break;case"error":const lt=dt.error||"Unknown error";x({error:lt}),d(`${n("planning.forcePlanError")}: ${lt}`);break}},()=>{console.log("Force plan complete"),v(!1),w("")},De=>{console.error("Force plan error:",De),x({error:De.message}),d(`${n("planning.forcePlanFailed")}: ${De.message}`),v(!1),w("")},{clarificationAnswers:Ce,previousContext:b,forcePlan:!0,language:u.language||"en"})}catch(le){console.error("Force plan error:",le);const se=le instanceof Error?le.message:"Unknown error";x({error:se}),d(`${n("planning.forcePlanError")}: ${se}`),v(!1),w("")}}},disabled:E,className:"btn-secondary flex-1",title:n("planning.forcePlanTooltip"),children:n("planning.forcePlan")}),s.jsx("button",{onClick:()=>{x(null),w(""),Ee&&he(Ee),Je&&ge(Je),Be(""),we(""),Ke("")},className:"btn-secondary",title:n("planning.resetTooltip"),children:n("planning.reset")})]})]})]}),s.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-3 rounded-lg border border-blue-300 dark:border-blue-700",children:s.jsxs("p",{className:"text-xs text-blue-800 dark:text-blue-200",children:[s.jsx("strong",{children:n("planning.aboutGuidanceMode")})," ",n("planning.guidanceModeHelp")]})})]})]})})]})]})}),N&&s.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center bg-black bg-opacity-50 p-4",children:s.jsxs("div",{className:"card p-6 max-w-2xl w-full max-h-[80vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h3",{className:"text-lg font-bold",children:n("planning.loadSavedPlan")}),q&&s.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:[n("planning.storage"),": ",(q.usage/(1024*1024)).toFixed(2)," MB / ",(q.quota/(1024*1024)).toFixed(0)," MB (",q.percentage.toFixed(1),"%)"]})]}),q&&q.percentage>80&&s.jsxs("div",{className:"mb-4 p-3 bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg",children:[s.jsxs("div",{className:"text-sm text-yellow-800 dark:text-yellow-200 font-semibold mb-2",children:[" ",n("planning.storageWarning",{percentage:q.percentage.toFixed(1)})]}),s.jsx("div",{className:"text-xs text-yellow-700 dark:text-yellow-300",children:n("planning.storageWarningHelp")})]}),D.length===0?s.jsx("p",{className:"text-gray-500",children:n("planning.noSavedPlans")}):s.jsx("div",{className:"space-y-3",children:D.map(le=>{const se=new Date(le.timestamp).toLocaleString();return s.jsx("div",{className:"border border-gray-300 dark:border-gray-600 rounded-lg p-3",children:s.jsxs("div",{className:"flex justify-between items-start gap-2 mb-2",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("div",{className:"font-semibold text-sm text-gray-900 dark:text-gray-100 mb-1 truncate",title:le.query,children:le.query.length>100?le.query.substring(0,100)+"...":le.query}),s.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:[n("planning.saved"),": ",se]})]}),s.jsxs("div",{className:"flex gap-2 flex-shrink-0",children:[s.jsx("button",{onClick:()=>jt(le),className:"btn-primary text-xs",children:n("planning.load")}),s.jsx("button",{onClick:()=>mt(le.id),className:"btn-secondary text-red-500 text-xs",children:n("common.delete")})]})]})},le.id)})}),s.jsx("button",{onClick:()=>R(!1),className:"btn-primary w-full mt-4",children:n("common.close")})]})}),Q&&K&&s.jsx(DZ,{apiCalls:[K],onClose:()=>O(!1)}),s.jsx(X6,{isOpen:H,onClose:()=>$(!1),onTranscriptionComplete:kr,accessToken:l,apiEndpoint:j}),s.jsx("div",{className:"flex justify-end mt-6",children:s.jsx("button",{className:"btn-secondary text-xs",onClick:_t,title:"Copy conversation, LLM, and tool debug info for Copilot support",children:" Copy Debug Info"})})]}):null};function Jg(e){const t=[],r=String(e||"");let n=r.indexOf(","),a=0,i=!1;for(;!i;){n===-1&&(n=r.length,i=!0);const o=r.slice(a,n).trim();(o||!i)&&t.push(o),a=n+1,n=r.indexOf(",",a)}return t}function Ly(e,t){const r=t||{};return(e[e.length-1]===""?[...e,""]:e).join((r.padRight?" ":"")+","+(r.padLeft===!1?"":" ")).trim()}const LZ=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,OZ=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,MZ={};function v3(e,t){return(MZ.jsx?OZ:LZ).test(e)}const PZ=/[ \t\n\f\r]/g;function Nm(e){return typeof e=="object"?e.type==="text"?S3(e.value):!1:S3(e)}function S3(e){return e.replace(PZ,"")===""}let Im=class{constructor(t,r,n){this.normal=r,this.property=t,n&&(this.space=n)}};Im.prototype.normal={};Im.prototype.property={};Im.prototype.space=void 0;function J6(e,t){const r={},n={};for(const a of e)Object.assign(r,a.property),Object.assign(n,a.normal);return new Im(r,n,t)}function em(e){return e.toLowerCase()}let ai=class{constructor(t,r){this.attribute=r,this.property=t}};ai.prototype.attribute="";ai.prototype.booleanish=!1;ai.prototype.boolean=!1;ai.prototype.commaOrSpaceSeparated=!1;ai.prototype.commaSeparated=!1;ai.prototype.defined=!1;ai.prototype.mustUseProperty=!1;ai.prototype.number=!1;ai.prototype.overloadedBoolean=!1;ai.prototype.property="";ai.prototype.spaceSeparated=!1;ai.prototype.space=void 0;let jZ=0;const jr=Nu(),wa=Nu(),z1=Nu(),Et=Nu(),Un=Nu(),Yd=Nu(),mi=Nu();function Nu(){return 2**++jZ}const G1=Object.freeze(Object.defineProperty({__proto__:null,boolean:jr,booleanish:wa,commaOrSpaceSeparated:mi,commaSeparated:Yd,number:Et,overloadedBoolean:z1,spaceSeparated:Un},Symbol.toStringTag,{value:"Module"})),cS=Object.keys(G1);let Lw=class extends ai{constructor(t,r,n,a){let i=-1;if(super(t,r),T3(this,"space",a),typeof n=="number")for(;++i<cS.length;){const o=cS[i];T3(this,cS[i],(n&G1[o])===G1[o])}}};Lw.prototype.defined=!0;function T3(e,t,r){r&&(e[t]=r)}function Ap(e){const t={},r={};for(const[n,a]of Object.entries(e.properties)){const i=new Lw(n,e.transform(e.attributes||{},n),a,e.space);e.mustUseProperty&&e.mustUseProperty.includes(n)&&(i.mustUseProperty=!0),t[n]=i,r[em(n)]=n,r[em(i.attribute)]=n}return new Im(t,r,e.space)}const ej=Ap({properties:{ariaActiveDescendant:null,ariaAtomic:wa,ariaAutoComplete:null,ariaBusy:wa,ariaChecked:wa,ariaColCount:Et,ariaColIndex:Et,ariaColSpan:Et,ariaControls:Un,ariaCurrent:null,ariaDescribedBy:Un,ariaDetails:null,ariaDisabled:wa,ariaDropEffect:Un,ariaErrorMessage:null,ariaExpanded:wa,ariaFlowTo:Un,ariaGrabbed:wa,ariaHasPopup:null,ariaHidden:wa,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Un,ariaLevel:Et,ariaLive:null,ariaModal:wa,ariaMultiLine:wa,ariaMultiSelectable:wa,ariaOrientation:null,ariaOwns:Un,ariaPlaceholder:null,ariaPosInSet:Et,ariaPressed:wa,ariaReadOnly:wa,ariaRelevant:null,ariaRequired:wa,ariaRoleDescription:Un,ariaRowCount:Et,ariaRowIndex:Et,ariaRowSpan:Et,ariaSelected:wa,ariaSetSize:Et,ariaSort:null,ariaValueMax:Et,ariaValueMin:Et,ariaValueNow:Et,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function tj(e,t){return t in e?e[t]:t}function rj(e,t){return tj(e,t.toLowerCase())}const FZ=Ap({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Yd,acceptCharset:Un,accessKey:Un,action:null,allow:null,allowFullScreen:jr,allowPaymentRequest:jr,allowUserMedia:jr,alt:null,as:null,async:jr,autoCapitalize:null,autoComplete:Un,autoFocus:jr,autoPlay:jr,blocking:Un,capture:null,charSet:null,checked:jr,cite:null,className:Un,cols:Et,colSpan:null,content:null,contentEditable:wa,controls:jr,controlsList:Un,coords:Et|Yd,crossOrigin:null,data:null,dateTime:null,decoding:null,default:jr,defer:jr,dir:null,dirName:null,disabled:jr,download:z1,draggable:wa,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:jr,formTarget:null,headers:Un,height:Et,hidden:z1,high:Et,href:null,hrefLang:null,htmlFor:Un,httpEquiv:Un,id:null,imageSizes:null,imageSrcSet:null,inert:jr,inputMode:null,integrity:null,is:null,isMap:jr,itemId:null,itemProp:Un,itemRef:Un,itemScope:jr,itemType:Un,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:jr,low:Et,manifest:null,max:null,maxLength:Et,media:null,method:null,min:null,minLength:Et,multiple:jr,muted:jr,name:null,nonce:null,noModule:jr,noValidate:jr,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:jr,optimum:Et,pattern:null,ping:Un,placeholder:null,playsInline:jr,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:jr,referrerPolicy:null,rel:Un,required:jr,reversed:jr,rows:Et,rowSpan:Et,sandbox:Un,scope:null,scoped:jr,seamless:jr,selected:jr,shadowRootClonable:jr,shadowRootDelegatesFocus:jr,shadowRootMode:null,shape:null,size:Et,sizes:null,slot:null,span:Et,spellCheck:wa,src:null,srcDoc:null,srcLang:null,srcSet:null,start:Et,step:null,style:null,tabIndex:Et,target:null,title:null,translate:null,type:null,typeMustMatch:jr,useMap:null,value:wa,width:Et,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Un,axis:null,background:null,bgColor:null,border:Et,borderColor:null,bottomMargin:Et,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:jr,declare:jr,event:null,face:null,frame:null,frameBorder:null,hSpace:Et,leftMargin:Et,link:null,longDesc:null,lowSrc:null,marginHeight:Et,marginWidth:Et,noResize:jr,noHref:jr,noShade:jr,noWrap:jr,object:null,profile:null,prompt:null,rev:null,rightMargin:Et,rules:null,scheme:null,scrolling:wa,standby:null,summary:null,text:null,topMargin:Et,valueType:null,version:null,vAlign:null,vLink:null,vSpace:Et,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:jr,disableRemotePlayback:jr,prefix:null,property:null,results:Et,security:null,unselectable:null},space:"html",transform:rj}),BZ=Ap({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:mi,accentHeight:Et,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:Et,amplitude:Et,arabicForm:null,ascent:Et,attributeName:null,attributeType:null,azimuth:Et,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:Et,by:null,calcMode:null,capHeight:Et,className:Un,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:Et,diffuseConstant:Et,direction:null,display:null,dur:null,divisor:Et,dominantBaseline:null,download:jr,dx:null,dy:null,edgeMode:null,editable:null,elevation:Et,enableBackground:null,end:null,event:null,exponent:Et,externalResourcesRequired:null,fill:null,fillOpacity:Et,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Yd,g2:Yd,glyphName:Yd,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:Et,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:Et,horizOriginX:Et,horizOriginY:Et,id:null,ideographic:Et,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:Et,k:Et,k1:Et,k2:Et,k3:Et,k4:Et,kernelMatrix:mi,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:Et,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:Et,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:Et,overlineThickness:Et,paintOrder:null,panose1:null,path:null,pathLength:Et,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Un,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:Et,pointsAtY:Et,pointsAtZ:Et,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:mi,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:mi,rev:mi,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:mi,requiredFeatures:mi,requiredFonts:mi,requiredFormats:mi,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:Et,specularExponent:Et,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:Et,strikethroughThickness:Et,string:null,stroke:null,strokeDashArray:mi,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:Et,strokeOpacity:Et,strokeWidth:null,style:null,surfaceScale:Et,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:mi,tabIndex:Et,tableValues:null,target:null,targetX:Et,targetY:Et,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:mi,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:Et,underlineThickness:Et,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:Et,values:null,vAlphabetic:Et,vMathematical:Et,vectorEffect:null,vHanging:Et,vIdeographic:Et,version:null,vertAdvY:Et,vertOriginX:Et,vertOriginY:Et,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:Et,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:tj}),nj=Ap({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),aj=Ap({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:rj}),sj=Ap({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),UZ={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},$Z=/[A-Z]/g,w3=/-[a-z]/g,HZ=/^data[-\w.:]+$/i;function Rm(e,t){const r=em(t);let n=t,a=ai;if(r in e.normal)return e.property[e.normal[r]];if(r.length>4&&r.slice(0,4)==="data"&&HZ.test(t)){if(t.charAt(4)==="-"){const i=t.slice(5).replace(w3,GZ);n="data"+i.charAt(0).toUpperCase()+i.slice(1)}else{const i=t.slice(4);if(!w3.test(i)){let o=i.replace($Z,zZ);o.charAt(0)!=="-"&&(o="-"+o),t="data"+o}}a=Lw}return new a(n,t)}function zZ(e){return"-"+e.toLowerCase()}function GZ(e){return e.charAt(1).toUpperCase()}const Np=J6([ej,FZ,nj,aj,sj],"html"),Il=J6([ej,BZ,nj,aj,sj],"svg");function tm(e){const t=String(e||"").trim();return t?t.split(/[ \t\n\r\f]+/g):[]}function Oy(e){return e.join(" ").trim()}var Nd={},uS,k3;function qZ(){if(k3)return uS;k3=1;var e=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,t=/\n/g,r=/^\s*/,n=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,a=/^:\s*/,i=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,o=/^[;\s]*/,l=/^\s+|\s+$/g,u=`
`,d="/",h="*",g="",f="comment",b="declaration";uS=function(E,v){if(typeof E!="string")throw new TypeError("First argument must be a string");if(!E)return[];v=v||{};var T=1,w=1;function N(Q){var O=Q.match(t);O&&(T+=O.length);var H=Q.lastIndexOf(u);w=~H?Q.length-H:w+Q.length}function R(){var Q={line:T,column:w};return function(O){return O.position=new D(Q),B(),O}}function D(Q){this.start=Q,this.end={line:T,column:w},this.source=v.source}D.prototype.content=E;function L(Q){var O=new Error(v.source+":"+T+":"+w+": "+Q);if(O.reason=Q,O.filename=v.source,O.line=T,O.column=w,O.source=E,!v.silent)throw O}function j(Q){var O=Q.exec(E);if(O){var H=O[0];return N(H),E=E.slice(H.length),O}}function B(){j(r)}function q(Q){var O;for(Q=Q||[];O=z();)O!==!1&&Q.push(O);return Q}function z(){var Q=R();if(!(d!=E.charAt(0)||h!=E.charAt(1))){for(var O=2;g!=E.charAt(O)&&(h!=E.charAt(O)||d!=E.charAt(O+1));)++O;if(O+=2,g===E.charAt(O-1))return L("End of comment missing");var H=E.slice(2,O-2);return w+=2,N(H),E=E.slice(O),w+=2,Q({type:f,comment:H})}}function K(){var Q=R(),O=j(n);if(O){if(z(),!j(a))return L("property missing ':'");var H=j(i),$=Q({type:b,property:x(O[0].replace(e,g)),value:H?x(H[0].replace(e,g)):g});return j(o),$}}function X(){var Q=[];q(Q);for(var O;O=K();)O!==!1&&(Q.push(O),q(Q));return Q}return B(),X()};function x(E){return E?E.replace(l,g):g}return uS}var C3;function WZ(){if(C3)return Nd;C3=1;var e=Nd&&Nd.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Nd,"__esModule",{value:!0}),Nd.default=r;const t=e(qZ());function r(n,a){let i=null;if(!n||typeof n!="string")return i;const o=(0,t.default)(n),l=typeof a=="function";return o.forEach(u=>{if(u.type!=="declaration")return;const{property:d,value:h}=u;l?a(d,h,u):h&&(i=i||{},i[d]=h)}),i}return Nd}var Uh={},_3;function YZ(){if(_3)return Uh;_3=1,Object.defineProperty(Uh,"__esModule",{value:!0}),Uh.camelCase=void 0;var e=/^--[a-zA-Z0-9_-]+$/,t=/-([a-z])/g,r=/^[^-]+$/,n=/^-(webkit|moz|ms|o|khtml)-/,a=/^-(ms)-/,i=function(d){return!d||r.test(d)||e.test(d)},o=function(d,h){return h.toUpperCase()},l=function(d,h){return"".concat(h,"-")},u=function(d,h){return h===void 0&&(h={}),i(d)?d:(d=d.toLowerCase(),h.reactCompat?d=d.replace(a,l):d=d.replace(n,l),d.replace(t,o))};return Uh.camelCase=u,Uh}var $h,A3;function VZ(){if(A3)return $h;A3=1;var e=$h&&$h.__importDefault||function(a){return a&&a.__esModule?a:{default:a}},t=e(WZ()),r=YZ();function n(a,i){var o={};return!a||typeof a!="string"||(0,t.default)(a,function(l,u){l&&u&&(o[(0,r.camelCase)(l,i)]=u)}),o}return n.default=n,$h=n,$h}var KZ=VZ();const QZ=Al(KZ),My=ij("end"),Wo=ij("start");function ij(e){return t;function t(r){const n=r&&r.position&&r.position[e]||{};if(typeof n.line=="number"&&n.line>0&&typeof n.column=="number"&&n.column>0)return{line:n.line,column:n.column,offset:typeof n.offset=="number"&&n.offset>-1?n.offset:void 0}}}function oj(e){const t=Wo(e),r=My(e);if(t&&r)return{start:t,end:r}}function Cg(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?N3(e.position):"start"in e||"end"in e?N3(e):"line"in e||"column"in e?q1(e):""}function q1(e){return I3(e&&e.line)+":"+I3(e&&e.column)}function N3(e){return q1(e&&e.start)+"-"+q1(e&&e.end)}function I3(e){return e&&typeof e=="number"?e:1}class es extends Error{constructor(t,r,n){super(),typeof r=="string"&&(n=r,r=void 0);let a="",i={},o=!1;if(r&&("line"in r&&"column"in r?i={place:r}:"start"in r&&"end"in r?i={place:r}:"type"in r?i={ancestors:[r],place:r.position}:i={...r}),typeof t=="string"?a=t:!i.cause&&t&&(o=!0,a=t.message,i.cause=t),!i.ruleId&&!i.source&&typeof n=="string"){const u=n.indexOf(":");u===-1?i.ruleId=n:(i.source=n.slice(0,u),i.ruleId=n.slice(u+1))}if(!i.place&&i.ancestors&&i.ancestors){const u=i.ancestors[i.ancestors.length-1];u&&(i.place=u.position)}const l=i.place&&"start"in i.place?i.place.start:i.place;this.ancestors=i.ancestors||void 0,this.cause=i.cause||void 0,this.column=l?l.column:void 0,this.fatal=void 0,this.file="",this.message=a,this.line=l?l.line:void 0,this.name=Cg(i.place)||"1:1",this.place=i.place||void 0,this.reason=this.message,this.ruleId=i.ruleId||void 0,this.source=i.source||void 0,this.stack=o&&i.cause&&typeof i.cause.stack=="string"?i.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}es.prototype.file="";es.prototype.name="";es.prototype.reason="";es.prototype.message="";es.prototype.stack="";es.prototype.column=void 0;es.prototype.line=void 0;es.prototype.ancestors=void 0;es.prototype.cause=void 0;es.prototype.fatal=void 0;es.prototype.place=void 0;es.prototype.ruleId=void 0;es.prototype.source=void 0;const Ow={}.hasOwnProperty,XZ=new Map,ZZ=/[A-Z]/g,JZ=new Set(["table","tbody","thead","tfoot","tr"]),eJ=new Set(["td","th"]),lj="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function cj(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const r=t.filePath||void 0;let n;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");n=lJ(r,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");n=oJ(r,t.jsx,t.jsxs)}const a={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:n,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:r,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?Il:Np,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},i=uj(a,e,void 0);return i&&typeof i!="string"?i:a.create(e,a.Fragment,{children:i||void 0},void 0)}function uj(e,t,r){if(t.type==="element")return tJ(e,t,r);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return rJ(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return aJ(e,t,r);if(t.type==="mdxjsEsm")return nJ(e,t);if(t.type==="root")return sJ(e,t,r);if(t.type==="text")return iJ(e,t)}function tJ(e,t,r){const n=e.schema;let a=n;t.tagName.toLowerCase()==="svg"&&n.space==="html"&&(a=Il,e.schema=a),e.ancestors.push(t);const i=pj(e,t.tagName,!1),o=cJ(e,t);let l=Pw(e,t);return JZ.has(t.tagName)&&(l=l.filter(function(u){return typeof u=="string"?!Nm(u):!0})),dj(e,o,i,t),Mw(o,l),e.ancestors.pop(),e.schema=n,e.create(t,i,o,r)}function rJ(e,t){if(t.data&&t.data.estree&&e.evaluater){const n=t.data.estree.body[0];return n.type,e.evaluater.evaluateExpression(n.expression)}rm(e,t.position)}function nJ(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);rm(e,t.position)}function aJ(e,t,r){const n=e.schema;let a=n;t.name==="svg"&&n.space==="html"&&(a=Il,e.schema=a),e.ancestors.push(t);const i=t.name===null?e.Fragment:pj(e,t.name,!0),o=uJ(e,t),l=Pw(e,t);return dj(e,o,i,t),Mw(o,l),e.ancestors.pop(),e.schema=n,e.create(t,i,o,r)}function sJ(e,t,r){const n={};return Mw(n,Pw(e,t)),e.create(t,e.Fragment,n,r)}function iJ(e,t){return t.value}function dj(e,t,r,n){typeof r!="string"&&r!==e.Fragment&&e.passNode&&(t.node=n)}function Mw(e,t){if(t.length>0){const r=t.length>1?t:t[0];r&&(e.children=r)}}function oJ(e,t,r){return n;function n(a,i,o,l){const d=Array.isArray(o.children)?r:t;return l?d(i,o,l):d(i,o)}}function lJ(e,t){return r;function r(n,a,i,o){const l=Array.isArray(i.children),u=Wo(n);return t(a,i,o,l,{columnNumber:u?u.column-1:void 0,fileName:e,lineNumber:u?u.line:void 0},void 0)}}function cJ(e,t){const r={};let n,a;for(a in t.properties)if(a!=="children"&&Ow.call(t.properties,a)){const i=dJ(e,a,t.properties[a]);if(i){const[o,l]=i;e.tableCellAlignToStyle&&o==="align"&&typeof l=="string"&&eJ.has(t.tagName)?n=l:r[o]=l}}if(n){const i=r.style||(r.style={});i[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=n}return r}function uJ(e,t){const r={};for(const n of t.attributes)if(n.type==="mdxJsxExpressionAttribute")if(n.data&&n.data.estree&&e.evaluater){const i=n.data.estree.body[0];i.type;const o=i.expression;o.type;const l=o.properties[0];l.type,Object.assign(r,e.evaluater.evaluateExpression(l.argument))}else rm(e,t.position);else{const a=n.name;let i;if(n.value&&typeof n.value=="object")if(n.value.data&&n.value.data.estree&&e.evaluater){const l=n.value.data.estree.body[0];l.type,i=e.evaluater.evaluateExpression(l.expression)}else rm(e,t.position);else i=n.value===null?!0:n.value;r[a]=i}return r}function Pw(e,t){const r=[];let n=-1;const a=e.passKeys?new Map:XZ;for(;++n<t.children.length;){const i=t.children[n];let o;if(e.passKeys){const u=i.type==="element"?i.tagName:i.type==="mdxJsxFlowElement"||i.type==="mdxJsxTextElement"?i.name:void 0;if(u){const d=a.get(u)||0;o=u+"-"+d,a.set(u,d+1)}}const l=uj(e,i,o);l!==void 0&&r.push(l)}return r}function dJ(e,t,r){const n=Rm(e.schema,t);if(!(r==null||typeof r=="number"&&Number.isNaN(r))){if(Array.isArray(r)&&(r=n.commaSeparated?Ly(r):Oy(r)),n.property==="style"){let a=typeof r=="object"?r:pJ(e,String(r));return e.stylePropertyNameCase==="css"&&(a=hJ(a)),["style",a]}return[e.elementAttributeNameCase==="react"&&n.space?UZ[n.property]||n.property:n.attribute,r]}}function pJ(e,t){try{return QZ(t,{reactCompat:!0})}catch(r){if(e.ignoreInvalidStyle)return{};const n=r,a=new es("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:n,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw a.file=e.filePath||void 0,a.url=lj+"#cannot-parse-style-attribute",a}}function pj(e,t,r){let n;if(!r)n={type:"Literal",value:t};else if(t.includes(".")){const a=t.split(".");let i=-1,o;for(;++i<a.length;){const l=v3(a[i])?{type:"Identifier",name:a[i]}:{type:"Literal",value:a[i]};o=o?{type:"MemberExpression",object:o,property:l,computed:!!(i&&l.type==="Literal"),optional:!1}:l}n=o}else n=v3(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(n.type==="Literal"){const a=n.value;return Ow.call(e.components,a)?e.components[a]:a}if(e.evaluater)return e.evaluater.evaluateExpression(n);rm(e)}function rm(e,t){const r=new es("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw r.file=e.filePath||void 0,r.url=lj+"#cannot-handle-mdx-estrees-without-createevaluater",r}function hJ(e){const t={};let r;for(r in e)Ow.call(e,r)&&(t[gJ(r)]=e[r]);return t}function gJ(e){let t=e.replace(ZZ,mJ);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function mJ(e){return"-"+e.toLowerCase()}const Vd={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},fJ={};function jw(e,t){const r=fJ,n=typeof r.includeImageAlt=="boolean"?r.includeImageAlt:!0,a=typeof r.includeHtml=="boolean"?r.includeHtml:!0;return hj(e,n,a)}function hj(e,t,r){if(bJ(e)){if("value"in e)return e.type==="html"&&!r?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return R3(e.children,t,r)}return Array.isArray(e)?R3(e,t,r):""}function R3(e,t,r){const n=[];let a=-1;for(;++a<e.length;)n[a]=hj(e[a],t,r);return n.join("")}function bJ(e){return!!(e&&typeof e=="object")}const D3=document.createElement("i");function nm(e){const t="&"+e+";";D3.innerHTML=t;const r=D3.textContent;return r.charCodeAt(r.length-1)===59&&e!=="semi"||r===t?!1:r}function Ei(e,t,r,n){const a=e.length;let i=0,o;if(t<0?t=-t>a?0:a+t:t=t>a?a:t,r=r>0?r:0,n.length<1e4)o=Array.from(n),o.unshift(t,r),e.splice(...o);else for(r&&e.splice(t,r);i<n.length;)o=n.slice(i,i+1e4),o.unshift(t,0),e.splice(...o),i+=1e4,t+=1e4}function Fi(e,t){return e.length>0?(Ei(e,e.length,0,t),e):t}const L3={}.hasOwnProperty;function gj(e){const t={};let r=-1;for(;++r<e.length;)yJ(t,e[r]);return t}function yJ(e,t){let r;for(r in t){const a=(L3.call(e,r)?e[r]:void 0)||(e[r]={}),i=t[r];let o;if(i)for(o in i){L3.call(a,o)||(a[o]=[]);const l=i[o];xJ(a[o],Array.isArray(l)?l:l?[l]:[])}}}function xJ(e,t){let r=-1;const n=[];for(;++r<t.length;)(t[r].add==="after"?e:n).push(t[r]);Ei(e,0,0,n)}function mj(e,t){const r=Number.parseInt(e,t);return r<9||r===11||r>13&&r<32||r>126&&r<160||r>55295&&r<57344||r>64975&&r<65008||(r&65535)===65535||(r&65535)===65534||r>1114111?"":String.fromCodePoint(r)}function co(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Ns=Ec(/[A-Za-z]/),ds=Ec(/[\dA-Za-z]/),EJ=Ec(/[#-'*+\--9=?A-Z^-~]/);function Ab(e){return e!==null&&(e<32||e===127)}const W1=Ec(/\d/),vJ=Ec(/[\dA-Fa-f]/),SJ=Ec(/[!-/:-@[-`{-~]/);function gr(e){return e!==null&&e<-2}function Fn(e){return e!==null&&(e<0||e===32)}function Yr(e){return e===-2||e===-1||e===32}const Py=Ec(new RegExp("\\p{P}|\\p{S}","u")),fu=Ec(/\s/);function Ec(e){return t;function t(r){return r!==null&&r>-1&&e.test(String.fromCharCode(r))}}function Ip(e){const t=[];let r=-1,n=0,a=0;for(;++r<e.length;){const i=e.charCodeAt(r);let o="";if(i===37&&ds(e.charCodeAt(r+1))&&ds(e.charCodeAt(r+2)))a=2;else if(i<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(i))||(o=String.fromCharCode(i));else if(i>55295&&i<57344){const l=e.charCodeAt(r+1);i<56320&&l>56319&&l<57344?(o=String.fromCharCode(i,l),a=1):o=""}else o=String.fromCharCode(i);o&&(t.push(e.slice(n,r),encodeURIComponent(o)),n=r+a+1,o=""),a&&(r+=a,a=0)}return t.join("")+e.slice(n)}function on(e,t,r,n){const a=n?n-1:Number.POSITIVE_INFINITY;let i=0;return o;function o(u){return Yr(u)?(e.enter(r),l(u)):t(u)}function l(u){return Yr(u)&&i++<a?(e.consume(u),l):(e.exit(r),t(u))}}const TJ={tokenize:wJ};function wJ(e){const t=e.attempt(this.parser.constructs.contentInitial,n,a);let r;return t;function n(l){if(l===null){e.consume(l);return}return e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),on(e,t,"linePrefix")}function a(l){return e.enter("paragraph"),i(l)}function i(l){const u=e.enter("chunkText",{contentType:"text",previous:r});return r&&(r.next=u),r=u,o(l)}function o(l){if(l===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(l);return}return gr(l)?(e.consume(l),e.exit("chunkText"),i):(e.consume(l),o)}}const kJ={tokenize:CJ},O3={tokenize:_J};function CJ(e){const t=this,r=[];let n=0,a,i,o;return l;function l(N){if(n<r.length){const R=r[n];return t.containerState=R[1],e.attempt(R[0].continuation,u,d)(N)}return d(N)}function u(N){if(n++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,a&&w();const R=t.events.length;let D=R,L;for(;D--;)if(t.events[D][0]==="exit"&&t.events[D][1].type==="chunkFlow"){L=t.events[D][1].end;break}T(n);let j=R;for(;j<t.events.length;)t.events[j][1].end={...L},j++;return Ei(t.events,D+1,0,t.events.slice(R)),t.events.length=j,d(N)}return l(N)}function d(N){if(n===r.length){if(!a)return f(N);if(a.currentConstruct&&a.currentConstruct.concrete)return x(N);t.interrupt=!!(a.currentConstruct&&!a._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(O3,h,g)(N)}function h(N){return a&&w(),T(n),f(N)}function g(N){return t.parser.lazy[t.now().line]=n!==r.length,o=t.now().offset,x(N)}function f(N){return t.containerState={},e.attempt(O3,b,x)(N)}function b(N){return n++,r.push([t.currentConstruct,t.containerState]),f(N)}function x(N){if(N===null){a&&w(),T(0),e.consume(N);return}return a=a||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:a,contentType:"flow",previous:i}),E(N)}function E(N){if(N===null){v(e.exit("chunkFlow"),!0),T(0),e.consume(N);return}return gr(N)?(e.consume(N),v(e.exit("chunkFlow")),n=0,t.interrupt=void 0,l):(e.consume(N),E)}function v(N,R){const D=t.sliceStream(N);if(R&&D.push(null),N.previous=i,i&&(i.next=N),i=N,a.defineSkip(N.start),a.write(D),t.parser.lazy[N.start.line]){let L=a.events.length;for(;L--;)if(a.events[L][1].start.offset<o&&(!a.events[L][1].end||a.events[L][1].end.offset>o))return;const j=t.events.length;let B=j,q,z;for(;B--;)if(t.events[B][0]==="exit"&&t.events[B][1].type==="chunkFlow"){if(q){z=t.events[B][1].end;break}q=!0}for(T(n),L=j;L<t.events.length;)t.events[L][1].end={...z},L++;Ei(t.events,B+1,0,t.events.slice(j)),t.events.length=L}}function T(N){let R=r.length;for(;R-- >N;){const D=r[R];t.containerState=D[1],D[0].exit.call(t,e)}r.length=N}function w(){a.write([null]),i=void 0,a=void 0,t.containerState._closeFlow=void 0}}function _J(e,t,r){return on(e,e.attempt(this.parser.constructs.document,t,r),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function dp(e){if(e===null||Fn(e)||fu(e))return 1;if(Py(e))return 2}function jy(e,t,r){const n=[];let a=-1;for(;++a<e.length;){const i=e[a].resolveAll;i&&!n.includes(i)&&(t=i(t,r),n.push(i))}return t}const Y1={name:"attention",resolveAll:AJ,tokenize:NJ};function AJ(e,t){let r=-1,n,a,i,o,l,u,d,h;for(;++r<e.length;)if(e[r][0]==="enter"&&e[r][1].type==="attentionSequence"&&e[r][1]._close){for(n=r;n--;)if(e[n][0]==="exit"&&e[n][1].type==="attentionSequence"&&e[n][1]._open&&t.sliceSerialize(e[n][1]).charCodeAt(0)===t.sliceSerialize(e[r][1]).charCodeAt(0)){if((e[n][1]._close||e[r][1]._open)&&(e[r][1].end.offset-e[r][1].start.offset)%3&&!((e[n][1].end.offset-e[n][1].start.offset+e[r][1].end.offset-e[r][1].start.offset)%3))continue;u=e[n][1].end.offset-e[n][1].start.offset>1&&e[r][1].end.offset-e[r][1].start.offset>1?2:1;const g={...e[n][1].end},f={...e[r][1].start};M3(g,-u),M3(f,u),o={type:u>1?"strongSequence":"emphasisSequence",start:g,end:{...e[n][1].end}},l={type:u>1?"strongSequence":"emphasisSequence",start:{...e[r][1].start},end:f},i={type:u>1?"strongText":"emphasisText",start:{...e[n][1].end},end:{...e[r][1].start}},a={type:u>1?"strong":"emphasis",start:{...o.start},end:{...l.end}},e[n][1].end={...o.start},e[r][1].start={...l.end},d=[],e[n][1].end.offset-e[n][1].start.offset&&(d=Fi(d,[["enter",e[n][1],t],["exit",e[n][1],t]])),d=Fi(d,[["enter",a,t],["enter",o,t],["exit",o,t],["enter",i,t]]),d=Fi(d,jy(t.parser.constructs.insideSpan.null,e.slice(n+1,r),t)),d=Fi(d,[["exit",i,t],["enter",l,t],["exit",l,t],["exit",a,t]]),e[r][1].end.offset-e[r][1].start.offset?(h=2,d=Fi(d,[["enter",e[r][1],t],["exit",e[r][1],t]])):h=0,Ei(e,n-1,r-n+3,d),r=n+d.length-h-2;break}}for(r=-1;++r<e.length;)e[r][1].type==="attentionSequence"&&(e[r][1].type="data");return e}function NJ(e,t){const r=this.parser.constructs.attentionMarkers.null,n=this.previous,a=dp(n);let i;return o;function o(u){return i=u,e.enter("attentionSequence"),l(u)}function l(u){if(u===i)return e.consume(u),l;const d=e.exit("attentionSequence"),h=dp(u),g=!h||h===2&&a||r.includes(u),f=!a||a===2&&h||r.includes(n);return d._open=!!(i===42?g:g&&(a||!f)),d._close=!!(i===42?f:f&&(h||!g)),t(u)}}function M3(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const IJ={name:"autolink",tokenize:RJ};function RJ(e,t,r){let n=0;return a;function a(b){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(b),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),i}function i(b){return Ns(b)?(e.consume(b),o):b===64?r(b):d(b)}function o(b){return b===43||b===45||b===46||ds(b)?(n=1,l(b)):d(b)}function l(b){return b===58?(e.consume(b),n=0,u):(b===43||b===45||b===46||ds(b))&&n++<32?(e.consume(b),l):(n=0,d(b))}function u(b){return b===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(b),e.exit("autolinkMarker"),e.exit("autolink"),t):b===null||b===32||b===60||Ab(b)?r(b):(e.consume(b),u)}function d(b){return b===64?(e.consume(b),h):EJ(b)?(e.consume(b),d):r(b)}function h(b){return ds(b)?g(b):r(b)}function g(b){return b===46?(e.consume(b),n=0,h):b===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(b),e.exit("autolinkMarker"),e.exit("autolink"),t):f(b)}function f(b){if((b===45||ds(b))&&n++<63){const x=b===45?f:g;return e.consume(b),x}return r(b)}}const Dm={partial:!0,tokenize:DJ};function DJ(e,t,r){return n;function n(i){return Yr(i)?on(e,a,"linePrefix")(i):a(i)}function a(i){return i===null||gr(i)?t(i):r(i)}}const fj={continuation:{tokenize:OJ},exit:MJ,name:"blockQuote",tokenize:LJ};function LJ(e,t,r){const n=this;return a;function a(o){if(o===62){const l=n.containerState;return l.open||(e.enter("blockQuote",{_container:!0}),l.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(o),e.exit("blockQuoteMarker"),i}return r(o)}function i(o){return Yr(o)?(e.enter("blockQuotePrefixWhitespace"),e.consume(o),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(o))}}function OJ(e,t,r){const n=this;return a;function a(o){return Yr(o)?on(e,i,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o):i(o)}function i(o){return e.attempt(fj,t,r)(o)}}function MJ(e){e.exit("blockQuote")}const bj={name:"characterEscape",tokenize:PJ};function PJ(e,t,r){return n;function n(i){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(i),e.exit("escapeMarker"),a}function a(i){return SJ(i)?(e.enter("characterEscapeValue"),e.consume(i),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):r(i)}}const yj={name:"characterReference",tokenize:jJ};function jJ(e,t,r){const n=this;let a=0,i,o;return l;function l(g){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(g),e.exit("characterReferenceMarker"),u}function u(g){return g===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(g),e.exit("characterReferenceMarkerNumeric"),d):(e.enter("characterReferenceValue"),i=31,o=ds,h(g))}function d(g){return g===88||g===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(g),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),i=6,o=vJ,h):(e.enter("characterReferenceValue"),i=7,o=W1,h(g))}function h(g){if(g===59&&a){const f=e.exit("characterReferenceValue");return o===ds&&!nm(n.sliceSerialize(f))?r(g):(e.enter("characterReferenceMarker"),e.consume(g),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return o(g)&&a++<i?(e.consume(g),h):r(g)}}const P3={partial:!0,tokenize:BJ},j3={concrete:!0,name:"codeFenced",tokenize:FJ};function FJ(e,t,r){const n=this,a={partial:!0,tokenize:D};let i=0,o=0,l;return u;function u(L){return d(L)}function d(L){const j=n.events[n.events.length-1];return i=j&&j[1].type==="linePrefix"?j[2].sliceSerialize(j[1],!0).length:0,l=L,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),h(L)}function h(L){return L===l?(o++,e.consume(L),h):o<3?r(L):(e.exit("codeFencedFenceSequence"),Yr(L)?on(e,g,"whitespace")(L):g(L))}function g(L){return L===null||gr(L)?(e.exit("codeFencedFence"),n.interrupt?t(L):e.check(P3,E,R)(L)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),f(L))}function f(L){return L===null||gr(L)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),g(L)):Yr(L)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),on(e,b,"whitespace")(L)):L===96&&L===l?r(L):(e.consume(L),f)}function b(L){return L===null||gr(L)?g(L):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),x(L))}function x(L){return L===null||gr(L)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),g(L)):L===96&&L===l?r(L):(e.consume(L),x)}function E(L){return e.attempt(a,R,v)(L)}function v(L){return e.enter("lineEnding"),e.consume(L),e.exit("lineEnding"),T}function T(L){return i>0&&Yr(L)?on(e,w,"linePrefix",i+1)(L):w(L)}function w(L){return L===null||gr(L)?e.check(P3,E,R)(L):(e.enter("codeFlowValue"),N(L))}function N(L){return L===null||gr(L)?(e.exit("codeFlowValue"),w(L)):(e.consume(L),N)}function R(L){return e.exit("codeFenced"),t(L)}function D(L,j,B){let q=0;return z;function z(H){return L.enter("lineEnding"),L.consume(H),L.exit("lineEnding"),K}function K(H){return L.enter("codeFencedFence"),Yr(H)?on(L,X,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(H):X(H)}function X(H){return H===l?(L.enter("codeFencedFenceSequence"),Q(H)):B(H)}function Q(H){return H===l?(q++,L.consume(H),Q):q>=o?(L.exit("codeFencedFenceSequence"),Yr(H)?on(L,O,"whitespace")(H):O(H)):B(H)}function O(H){return H===null||gr(H)?(L.exit("codeFencedFence"),j(H)):B(H)}}}function BJ(e,t,r){const n=this;return a;function a(o){return o===null?r(o):(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),i)}function i(o){return n.parser.lazy[n.now().line]?r(o):t(o)}}const dS={name:"codeIndented",tokenize:$J},UJ={partial:!0,tokenize:HJ};function $J(e,t,r){const n=this;return a;function a(d){return e.enter("codeIndented"),on(e,i,"linePrefix",5)(d)}function i(d){const h=n.events[n.events.length-1];return h&&h[1].type==="linePrefix"&&h[2].sliceSerialize(h[1],!0).length>=4?o(d):r(d)}function o(d){return d===null?u(d):gr(d)?e.attempt(UJ,o,u)(d):(e.enter("codeFlowValue"),l(d))}function l(d){return d===null||gr(d)?(e.exit("codeFlowValue"),o(d)):(e.consume(d),l)}function u(d){return e.exit("codeIndented"),t(d)}}function HJ(e,t,r){const n=this;return a;function a(o){return n.parser.lazy[n.now().line]?r(o):gr(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),a):on(e,i,"linePrefix",5)(o)}function i(o){const l=n.events[n.events.length-1];return l&&l[1].type==="linePrefix"&&l[2].sliceSerialize(l[1],!0).length>=4?t(o):gr(o)?a(o):r(o)}}const zJ={name:"codeText",previous:qJ,resolve:GJ,tokenize:WJ};function GJ(e){let t=e.length-4,r=3,n,a;if((e[r][1].type==="lineEnding"||e[r][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(n=r;++n<t;)if(e[n][1].type==="codeTextData"){e[r][1].type="codeTextPadding",e[t][1].type="codeTextPadding",r+=2,t-=2;break}}for(n=r-1,t++;++n<=t;)a===void 0?n!==t&&e[n][1].type!=="lineEnding"&&(a=n):(n===t||e[n][1].type==="lineEnding")&&(e[a][1].type="codeTextData",n!==a+2&&(e[a][1].end=e[n-1][1].end,e.splice(a+2,n-a-2),t-=n-a-2,n=a+2),a=void 0);return e}function qJ(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function WJ(e,t,r){let n=0,a,i;return o;function o(g){return e.enter("codeText"),e.enter("codeTextSequence"),l(g)}function l(g){return g===96?(e.consume(g),n++,l):(e.exit("codeTextSequence"),u(g))}function u(g){return g===null?r(g):g===32?(e.enter("space"),e.consume(g),e.exit("space"),u):g===96?(i=e.enter("codeTextSequence"),a=0,h(g)):gr(g)?(e.enter("lineEnding"),e.consume(g),e.exit("lineEnding"),u):(e.enter("codeTextData"),d(g))}function d(g){return g===null||g===32||g===96||gr(g)?(e.exit("codeTextData"),u(g)):(e.consume(g),d)}function h(g){return g===96?(e.consume(g),a++,h):a===n?(e.exit("codeTextSequence"),e.exit("codeText"),t(g)):(i.type="codeTextData",d(g))}}class YJ{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,r){const n=r??Number.POSITIVE_INFINITY;return n<this.left.length?this.left.slice(t,n):t>this.left.length?this.right.slice(this.right.length-n+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-n+this.left.length).reverse())}splice(t,r,n){const a=r||0;this.setCursor(Math.trunc(t));const i=this.right.splice(this.right.length-a,Number.POSITIVE_INFINITY);return n&&Hh(this.left,n),i.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),Hh(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),Hh(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const r=this.left.splice(t,Number.POSITIVE_INFINITY);Hh(this.right,r.reverse())}else{const r=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);Hh(this.left,r.reverse())}}}function Hh(e,t){let r=0;if(t.length<1e4)e.push(...t);else for(;r<t.length;)e.push(...t.slice(r,r+1e4)),r+=1e4}function xj(e){const t={};let r=-1,n,a,i,o,l,u,d;const h=new YJ(e);for(;++r<h.length;){for(;r in t;)r=t[r];if(n=h.get(r),r&&n[1].type==="chunkFlow"&&h.get(r-1)[1].type==="listItemPrefix"&&(u=n[1]._tokenizer.events,i=0,i<u.length&&u[i][1].type==="lineEndingBlank"&&(i+=2),i<u.length&&u[i][1].type==="content"))for(;++i<u.length&&u[i][1].type!=="content";)u[i][1].type==="chunkText"&&(u[i][1]._isInFirstContentOfListItem=!0,i++);if(n[0]==="enter")n[1].contentType&&(Object.assign(t,VJ(h,r)),r=t[r],d=!0);else if(n[1]._container){for(i=r,a=void 0;i--;)if(o=h.get(i),o[1].type==="lineEnding"||o[1].type==="lineEndingBlank")o[0]==="enter"&&(a&&(h.get(a)[1].type="lineEndingBlank"),o[1].type="lineEnding",a=i);else if(!(o[1].type==="linePrefix"||o[1].type==="listItemIndent"))break;a&&(n[1].end={...h.get(a)[1].start},l=h.slice(a,r),l.unshift(n),h.splice(a,r-a+1,l))}}return Ei(e,0,Number.POSITIVE_INFINITY,h.slice(0)),!d}function VJ(e,t){const r=e.get(t)[1],n=e.get(t)[2];let a=t-1;const i=[];let o=r._tokenizer;o||(o=n.parser[r.contentType](r.start),r._contentTypeTextTrailing&&(o._contentTypeTextTrailing=!0));const l=o.events,u=[],d={};let h,g,f=-1,b=r,x=0,E=0;const v=[E];for(;b;){for(;e.get(++a)[1]!==b;);i.push(a),b._tokenizer||(h=n.sliceStream(b),b.next||h.push(null),g&&o.defineSkip(b.start),b._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=!0),o.write(h),b._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=void 0)),g=b,b=b.next}for(b=r;++f<l.length;)l[f][0]==="exit"&&l[f-1][0]==="enter"&&l[f][1].type===l[f-1][1].type&&l[f][1].start.line!==l[f][1].end.line&&(E=f+1,v.push(E),b._tokenizer=void 0,b.previous=void 0,b=b.next);for(o.events=[],b?(b._tokenizer=void 0,b.previous=void 0):v.pop(),f=v.length;f--;){const T=l.slice(v[f],v[f+1]),w=i.pop();u.push([w,w+T.length-1]),e.splice(w,2,T)}for(u.reverse(),f=-1;++f<u.length;)d[x+u[f][0]]=x+u[f][1],x+=u[f][1]-u[f][0]-1;return d}const KJ={resolve:XJ,tokenize:ZJ},QJ={partial:!0,tokenize:JJ};function XJ(e){return xj(e),e}function ZJ(e,t){let r;return n;function n(l){return e.enter("content"),r=e.enter("chunkContent",{contentType:"content"}),a(l)}function a(l){return l===null?i(l):gr(l)?e.check(QJ,o,i)(l):(e.consume(l),a)}function i(l){return e.exit("chunkContent"),e.exit("content"),t(l)}function o(l){return e.consume(l),e.exit("chunkContent"),r.next=e.enter("chunkContent",{contentType:"content",previous:r}),r=r.next,a}}function JJ(e,t,r){const n=this;return a;function a(o){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),on(e,i,"linePrefix")}function i(o){if(o===null||gr(o))return r(o);const l=n.events[n.events.length-1];return!n.parser.constructs.disable.null.includes("codeIndented")&&l&&l[1].type==="linePrefix"&&l[2].sliceSerialize(l[1],!0).length>=4?t(o):e.interrupt(n.parser.constructs.flow,r,t)(o)}}function Ej(e,t,r,n,a,i,o,l,u){const d=u||Number.POSITIVE_INFINITY;let h=0;return g;function g(T){return T===60?(e.enter(n),e.enter(a),e.enter(i),e.consume(T),e.exit(i),f):T===null||T===32||T===41||Ab(T)?r(T):(e.enter(n),e.enter(o),e.enter(l),e.enter("chunkString",{contentType:"string"}),E(T))}function f(T){return T===62?(e.enter(i),e.consume(T),e.exit(i),e.exit(a),e.exit(n),t):(e.enter(l),e.enter("chunkString",{contentType:"string"}),b(T))}function b(T){return T===62?(e.exit("chunkString"),e.exit(l),f(T)):T===null||T===60||gr(T)?r(T):(e.consume(T),T===92?x:b)}function x(T){return T===60||T===62||T===92?(e.consume(T),b):b(T)}function E(T){return!h&&(T===null||T===41||Fn(T))?(e.exit("chunkString"),e.exit(l),e.exit(o),e.exit(n),t(T)):h<d&&T===40?(e.consume(T),h++,E):T===41?(e.consume(T),h--,E):T===null||T===32||T===40||Ab(T)?r(T):(e.consume(T),T===92?v:E)}function v(T){return T===40||T===41||T===92?(e.consume(T),E):E(T)}}function vj(e,t,r,n,a,i){const o=this;let l=0,u;return d;function d(b){return e.enter(n),e.enter(a),e.consume(b),e.exit(a),e.enter(i),h}function h(b){return l>999||b===null||b===91||b===93&&!u||b===94&&!l&&"_hiddenFootnoteSupport"in o.parser.constructs?r(b):b===93?(e.exit(i),e.enter(a),e.consume(b),e.exit(a),e.exit(n),t):gr(b)?(e.enter("lineEnding"),e.consume(b),e.exit("lineEnding"),h):(e.enter("chunkString",{contentType:"string"}),g(b))}function g(b){return b===null||b===91||b===93||gr(b)||l++>999?(e.exit("chunkString"),h(b)):(e.consume(b),u||(u=!Yr(b)),b===92?f:g)}function f(b){return b===91||b===92||b===93?(e.consume(b),l++,g):g(b)}}function Sj(e,t,r,n,a,i){let o;return l;function l(f){return f===34||f===39||f===40?(e.enter(n),e.enter(a),e.consume(f),e.exit(a),o=f===40?41:f,u):r(f)}function u(f){return f===o?(e.enter(a),e.consume(f),e.exit(a),e.exit(n),t):(e.enter(i),d(f))}function d(f){return f===o?(e.exit(i),u(o)):f===null?r(f):gr(f)?(e.enter("lineEnding"),e.consume(f),e.exit("lineEnding"),on(e,d,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),h(f))}function h(f){return f===o||f===null||gr(f)?(e.exit("chunkString"),d(f)):(e.consume(f),f===92?g:h)}function g(f){return f===o||f===92?(e.consume(f),h):h(f)}}function _g(e,t){let r;return n;function n(a){return gr(a)?(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),r=!0,n):Yr(a)?on(e,n,r?"linePrefix":"lineSuffix")(a):t(a)}}const eee={name:"definition",tokenize:ree},tee={partial:!0,tokenize:nee};function ree(e,t,r){const n=this;let a;return i;function i(b){return e.enter("definition"),o(b)}function o(b){return vj.call(n,e,l,r,"definitionLabel","definitionLabelMarker","definitionLabelString")(b)}function l(b){return a=co(n.sliceSerialize(n.events[n.events.length-1][1]).slice(1,-1)),b===58?(e.enter("definitionMarker"),e.consume(b),e.exit("definitionMarker"),u):r(b)}function u(b){return Fn(b)?_g(e,d)(b):d(b)}function d(b){return Ej(e,h,r,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(b)}function h(b){return e.attempt(tee,g,g)(b)}function g(b){return Yr(b)?on(e,f,"whitespace")(b):f(b)}function f(b){return b===null||gr(b)?(e.exit("definition"),n.parser.defined.push(a),t(b)):r(b)}}function nee(e,t,r){return n;function n(l){return Fn(l)?_g(e,a)(l):r(l)}function a(l){return Sj(e,i,r,"definitionTitle","definitionTitleMarker","definitionTitleString")(l)}function i(l){return Yr(l)?on(e,o,"whitespace")(l):o(l)}function o(l){return l===null||gr(l)?t(l):r(l)}}const aee={name:"hardBreakEscape",tokenize:see};function see(e,t,r){return n;function n(i){return e.enter("hardBreakEscape"),e.consume(i),a}function a(i){return gr(i)?(e.exit("hardBreakEscape"),t(i)):r(i)}}const iee={name:"headingAtx",resolve:oee,tokenize:lee};function oee(e,t){let r=e.length-2,n=3,a,i;return e[n][1].type==="whitespace"&&(n+=2),r-2>n&&e[r][1].type==="whitespace"&&(r-=2),e[r][1].type==="atxHeadingSequence"&&(n===r-1||r-4>n&&e[r-2][1].type==="whitespace")&&(r-=n+1===r?2:4),r>n&&(a={type:"atxHeadingText",start:e[n][1].start,end:e[r][1].end},i={type:"chunkText",start:e[n][1].start,end:e[r][1].end,contentType:"text"},Ei(e,n,r-n+1,[["enter",a,t],["enter",i,t],["exit",i,t],["exit",a,t]])),e}function lee(e,t,r){let n=0;return a;function a(h){return e.enter("atxHeading"),i(h)}function i(h){return e.enter("atxHeadingSequence"),o(h)}function o(h){return h===35&&n++<6?(e.consume(h),o):h===null||Fn(h)?(e.exit("atxHeadingSequence"),l(h)):r(h)}function l(h){return h===35?(e.enter("atxHeadingSequence"),u(h)):h===null||gr(h)?(e.exit("atxHeading"),t(h)):Yr(h)?on(e,l,"whitespace")(h):(e.enter("atxHeadingText"),d(h))}function u(h){return h===35?(e.consume(h),u):(e.exit("atxHeadingSequence"),l(h))}function d(h){return h===null||h===35||Fn(h)?(e.exit("atxHeadingText"),l(h)):(e.consume(h),d)}}const cee=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],F3=["pre","script","style","textarea"],uee={concrete:!0,name:"htmlFlow",resolveTo:hee,tokenize:gee},dee={partial:!0,tokenize:fee},pee={partial:!0,tokenize:mee};function hee(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function gee(e,t,r){const n=this;let a,i,o,l,u;return d;function d(F){return h(F)}function h(F){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(F),g}function g(F){return F===33?(e.consume(F),f):F===47?(e.consume(F),i=!0,E):F===63?(e.consume(F),a=3,n.interrupt?t:P):Ns(F)?(e.consume(F),o=String.fromCharCode(F),v):r(F)}function f(F){return F===45?(e.consume(F),a=2,b):F===91?(e.consume(F),a=5,l=0,x):Ns(F)?(e.consume(F),a=4,n.interrupt?t:P):r(F)}function b(F){return F===45?(e.consume(F),n.interrupt?t:P):r(F)}function x(F){const ie="CDATA[";return F===ie.charCodeAt(l++)?(e.consume(F),l===ie.length?n.interrupt?t:X:x):r(F)}function E(F){return Ns(F)?(e.consume(F),o=String.fromCharCode(F),v):r(F)}function v(F){if(F===null||F===47||F===62||Fn(F)){const ie=F===47,he=o.toLowerCase();return!ie&&!i&&F3.includes(he)?(a=1,n.interrupt?t(F):X(F)):cee.includes(o.toLowerCase())?(a=6,ie?(e.consume(F),T):n.interrupt?t(F):X(F)):(a=7,n.interrupt&&!n.parser.lazy[n.now().line]?r(F):i?w(F):N(F))}return F===45||ds(F)?(e.consume(F),o+=String.fromCharCode(F),v):r(F)}function T(F){return F===62?(e.consume(F),n.interrupt?t:X):r(F)}function w(F){return Yr(F)?(e.consume(F),w):z(F)}function N(F){return F===47?(e.consume(F),z):F===58||F===95||Ns(F)?(e.consume(F),R):Yr(F)?(e.consume(F),N):z(F)}function R(F){return F===45||F===46||F===58||F===95||ds(F)?(e.consume(F),R):D(F)}function D(F){return F===61?(e.consume(F),L):Yr(F)?(e.consume(F),D):N(F)}function L(F){return F===null||F===60||F===61||F===62||F===96?r(F):F===34||F===39?(e.consume(F),u=F,j):Yr(F)?(e.consume(F),L):B(F)}function j(F){return F===u?(e.consume(F),u=null,q):F===null||gr(F)?r(F):(e.consume(F),j)}function B(F){return F===null||F===34||F===39||F===47||F===60||F===61||F===62||F===96||Fn(F)?D(F):(e.consume(F),B)}function q(F){return F===47||F===62||Yr(F)?N(F):r(F)}function z(F){return F===62?(e.consume(F),K):r(F)}function K(F){return F===null||gr(F)?X(F):Yr(F)?(e.consume(F),K):r(F)}function X(F){return F===45&&a===2?(e.consume(F),$):F===60&&a===1?(e.consume(F),Y):F===62&&a===4?(e.consume(F),I):F===63&&a===3?(e.consume(F),P):F===93&&a===5?(e.consume(F),ne):gr(F)&&(a===6||a===7)?(e.exit("htmlFlowData"),e.check(dee,G,Q)(F)):F===null||gr(F)?(e.exit("htmlFlowData"),Q(F)):(e.consume(F),X)}function Q(F){return e.check(pee,O,G)(F)}function O(F){return e.enter("lineEnding"),e.consume(F),e.exit("lineEnding"),H}function H(F){return F===null||gr(F)?Q(F):(e.enter("htmlFlowData"),X(F))}function $(F){return F===45?(e.consume(F),P):X(F)}function Y(F){return F===47?(e.consume(F),o="",V):X(F)}function V(F){if(F===62){const ie=o.toLowerCase();return F3.includes(ie)?(e.consume(F),I):X(F)}return Ns(F)&&o.length<8?(e.consume(F),o+=String.fromCharCode(F),V):X(F)}function ne(F){return F===93?(e.consume(F),P):X(F)}function P(F){return F===62?(e.consume(F),I):F===45&&a===2?(e.consume(F),P):X(F)}function I(F){return F===null||gr(F)?(e.exit("htmlFlowData"),G(F)):(e.consume(F),I)}function G(F){return e.exit("htmlFlow"),t(F)}}function mee(e,t,r){const n=this;return a;function a(o){return gr(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),i):r(o)}function i(o){return n.parser.lazy[n.now().line]?r(o):t(o)}}function fee(e,t,r){return n;function n(a){return e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),e.attempt(Dm,t,r)}}const bee={name:"htmlText",tokenize:yee};function yee(e,t,r){const n=this;let a,i,o;return l;function l(P){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(P),u}function u(P){return P===33?(e.consume(P),d):P===47?(e.consume(P),D):P===63?(e.consume(P),N):Ns(P)?(e.consume(P),B):r(P)}function d(P){return P===45?(e.consume(P),h):P===91?(e.consume(P),i=0,x):Ns(P)?(e.consume(P),w):r(P)}function h(P){return P===45?(e.consume(P),b):r(P)}function g(P){return P===null?r(P):P===45?(e.consume(P),f):gr(P)?(o=g,Y(P)):(e.consume(P),g)}function f(P){return P===45?(e.consume(P),b):g(P)}function b(P){return P===62?$(P):P===45?f(P):g(P)}function x(P){const I="CDATA[";return P===I.charCodeAt(i++)?(e.consume(P),i===I.length?E:x):r(P)}function E(P){return P===null?r(P):P===93?(e.consume(P),v):gr(P)?(o=E,Y(P)):(e.consume(P),E)}function v(P){return P===93?(e.consume(P),T):E(P)}function T(P){return P===62?$(P):P===93?(e.consume(P),T):E(P)}function w(P){return P===null||P===62?$(P):gr(P)?(o=w,Y(P)):(e.consume(P),w)}function N(P){return P===null?r(P):P===63?(e.consume(P),R):gr(P)?(o=N,Y(P)):(e.consume(P),N)}function R(P){return P===62?$(P):N(P)}function D(P){return Ns(P)?(e.consume(P),L):r(P)}function L(P){return P===45||ds(P)?(e.consume(P),L):j(P)}function j(P){return gr(P)?(o=j,Y(P)):Yr(P)?(e.consume(P),j):$(P)}function B(P){return P===45||ds(P)?(e.consume(P),B):P===47||P===62||Fn(P)?q(P):r(P)}function q(P){return P===47?(e.consume(P),$):P===58||P===95||Ns(P)?(e.consume(P),z):gr(P)?(o=q,Y(P)):Yr(P)?(e.consume(P),q):$(P)}function z(P){return P===45||P===46||P===58||P===95||ds(P)?(e.consume(P),z):K(P)}function K(P){return P===61?(e.consume(P),X):gr(P)?(o=K,Y(P)):Yr(P)?(e.consume(P),K):q(P)}function X(P){return P===null||P===60||P===61||P===62||P===96?r(P):P===34||P===39?(e.consume(P),a=P,Q):gr(P)?(o=X,Y(P)):Yr(P)?(e.consume(P),X):(e.consume(P),O)}function Q(P){return P===a?(e.consume(P),a=void 0,H):P===null?r(P):gr(P)?(o=Q,Y(P)):(e.consume(P),Q)}function O(P){return P===null||P===34||P===39||P===60||P===61||P===96?r(P):P===47||P===62||Fn(P)?q(P):(e.consume(P),O)}function H(P){return P===47||P===62||Fn(P)?q(P):r(P)}function $(P){return P===62?(e.consume(P),e.exit("htmlTextData"),e.exit("htmlText"),t):r(P)}function Y(P){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(P),e.exit("lineEnding"),V}function V(P){return Yr(P)?on(e,ne,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(P):ne(P)}function ne(P){return e.enter("htmlTextData"),o(P)}}const Fw={name:"labelEnd",resolveAll:See,resolveTo:Tee,tokenize:wee},xee={tokenize:kee},Eee={tokenize:Cee},vee={tokenize:_ee};function See(e){let t=-1;const r=[];for(;++t<e.length;){const n=e[t][1];if(r.push(e[t]),n.type==="labelImage"||n.type==="labelLink"||n.type==="labelEnd"){const a=n.type==="labelImage"?4:2;n.type="data",t+=a}}return e.length!==r.length&&Ei(e,0,e.length,r),e}function Tee(e,t){let r=e.length,n=0,a,i,o,l;for(;r--;)if(a=e[r][1],i){if(a.type==="link"||a.type==="labelLink"&&a._inactive)break;e[r][0]==="enter"&&a.type==="labelLink"&&(a._inactive=!0)}else if(o){if(e[r][0]==="enter"&&(a.type==="labelImage"||a.type==="labelLink")&&!a._balanced&&(i=r,a.type!=="labelLink")){n=2;break}}else a.type==="labelEnd"&&(o=r);const u={type:e[i][1].type==="labelLink"?"link":"image",start:{...e[i][1].start},end:{...e[e.length-1][1].end}},d={type:"label",start:{...e[i][1].start},end:{...e[o][1].end}},h={type:"labelText",start:{...e[i+n+2][1].end},end:{...e[o-2][1].start}};return l=[["enter",u,t],["enter",d,t]],l=Fi(l,e.slice(i+1,i+n+3)),l=Fi(l,[["enter",h,t]]),l=Fi(l,jy(t.parser.constructs.insideSpan.null,e.slice(i+n+4,o-3),t)),l=Fi(l,[["exit",h,t],e[o-2],e[o-1],["exit",d,t]]),l=Fi(l,e.slice(o+1)),l=Fi(l,[["exit",u,t]]),Ei(e,i,e.length,l),e}function wee(e,t,r){const n=this;let a=n.events.length,i,o;for(;a--;)if((n.events[a][1].type==="labelImage"||n.events[a][1].type==="labelLink")&&!n.events[a][1]._balanced){i=n.events[a][1];break}return l;function l(f){return i?i._inactive?g(f):(o=n.parser.defined.includes(co(n.sliceSerialize({start:i.end,end:n.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(f),e.exit("labelMarker"),e.exit("labelEnd"),u):r(f)}function u(f){return f===40?e.attempt(xee,h,o?h:g)(f):f===91?e.attempt(Eee,h,o?d:g)(f):o?h(f):g(f)}function d(f){return e.attempt(vee,h,g)(f)}function h(f){return t(f)}function g(f){return i._balanced=!0,r(f)}}function kee(e,t,r){return n;function n(g){return e.enter("resource"),e.enter("resourceMarker"),e.consume(g),e.exit("resourceMarker"),a}function a(g){return Fn(g)?_g(e,i)(g):i(g)}function i(g){return g===41?h(g):Ej(e,o,l,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(g)}function o(g){return Fn(g)?_g(e,u)(g):h(g)}function l(g){return r(g)}function u(g){return g===34||g===39||g===40?Sj(e,d,r,"resourceTitle","resourceTitleMarker","resourceTitleString")(g):h(g)}function d(g){return Fn(g)?_g(e,h)(g):h(g)}function h(g){return g===41?(e.enter("resourceMarker"),e.consume(g),e.exit("resourceMarker"),e.exit("resource"),t):r(g)}}function Cee(e,t,r){const n=this;return a;function a(l){return vj.call(n,e,i,o,"reference","referenceMarker","referenceString")(l)}function i(l){return n.parser.defined.includes(co(n.sliceSerialize(n.events[n.events.length-1][1]).slice(1,-1)))?t(l):r(l)}function o(l){return r(l)}}function _ee(e,t,r){return n;function n(i){return e.enter("reference"),e.enter("referenceMarker"),e.consume(i),e.exit("referenceMarker"),a}function a(i){return i===93?(e.enter("referenceMarker"),e.consume(i),e.exit("referenceMarker"),e.exit("reference"),t):r(i)}}const Aee={name:"labelStartImage",resolveAll:Fw.resolveAll,tokenize:Nee};function Nee(e,t,r){const n=this;return a;function a(l){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(l),e.exit("labelImageMarker"),i}function i(l){return l===91?(e.enter("labelMarker"),e.consume(l),e.exit("labelMarker"),e.exit("labelImage"),o):r(l)}function o(l){return l===94&&"_hiddenFootnoteSupport"in n.parser.constructs?r(l):t(l)}}const Iee={name:"labelStartLink",resolveAll:Fw.resolveAll,tokenize:Ree};function Ree(e,t,r){const n=this;return a;function a(o){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(o),e.exit("labelMarker"),e.exit("labelLink"),i}function i(o){return o===94&&"_hiddenFootnoteSupport"in n.parser.constructs?r(o):t(o)}}const pS={name:"lineEnding",tokenize:Dee};function Dee(e,t){return r;function r(n){return e.enter("lineEnding"),e.consume(n),e.exit("lineEnding"),on(e,t,"linePrefix")}}const eb={name:"thematicBreak",tokenize:Lee};function Lee(e,t,r){let n=0,a;return i;function i(d){return e.enter("thematicBreak"),o(d)}function o(d){return a=d,l(d)}function l(d){return d===a?(e.enter("thematicBreakSequence"),u(d)):n>=3&&(d===null||gr(d))?(e.exit("thematicBreak"),t(d)):r(d)}function u(d){return d===a?(e.consume(d),n++,u):(e.exit("thematicBreakSequence"),Yr(d)?on(e,l,"whitespace")(d):l(d))}}const Zs={continuation:{tokenize:jee},exit:Bee,name:"list",tokenize:Pee},Oee={partial:!0,tokenize:Uee},Mee={partial:!0,tokenize:Fee};function Pee(e,t,r){const n=this,a=n.events[n.events.length-1];let i=a&&a[1].type==="linePrefix"?a[2].sliceSerialize(a[1],!0).length:0,o=0;return l;function l(b){const x=n.containerState.type||(b===42||b===43||b===45?"listUnordered":"listOrdered");if(x==="listUnordered"?!n.containerState.marker||b===n.containerState.marker:W1(b)){if(n.containerState.type||(n.containerState.type=x,e.enter(x,{_container:!0})),x==="listUnordered")return e.enter("listItemPrefix"),b===42||b===45?e.check(eb,r,d)(b):d(b);if(!n.interrupt||b===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),u(b)}return r(b)}function u(b){return W1(b)&&++o<10?(e.consume(b),u):(!n.interrupt||o<2)&&(n.containerState.marker?b===n.containerState.marker:b===41||b===46)?(e.exit("listItemValue"),d(b)):r(b)}function d(b){return e.enter("listItemMarker"),e.consume(b),e.exit("listItemMarker"),n.containerState.marker=n.containerState.marker||b,e.check(Dm,n.interrupt?r:h,e.attempt(Oee,f,g))}function h(b){return n.containerState.initialBlankLine=!0,i++,f(b)}function g(b){return Yr(b)?(e.enter("listItemPrefixWhitespace"),e.consume(b),e.exit("listItemPrefixWhitespace"),f):r(b)}function f(b){return n.containerState.size=i+n.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(b)}}function jee(e,t,r){const n=this;return n.containerState._closeFlow=void 0,e.check(Dm,a,i);function a(l){return n.containerState.furtherBlankLines=n.containerState.furtherBlankLines||n.containerState.initialBlankLine,on(e,t,"listItemIndent",n.containerState.size+1)(l)}function i(l){return n.containerState.furtherBlankLines||!Yr(l)?(n.containerState.furtherBlankLines=void 0,n.containerState.initialBlankLine=void 0,o(l)):(n.containerState.furtherBlankLines=void 0,n.containerState.initialBlankLine=void 0,e.attempt(Mee,t,o)(l))}function o(l){return n.containerState._closeFlow=!0,n.interrupt=void 0,on(e,e.attempt(Zs,t,r),"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(l)}}function Fee(e,t,r){const n=this;return on(e,a,"listItemIndent",n.containerState.size+1);function a(i){const o=n.events[n.events.length-1];return o&&o[1].type==="listItemIndent"&&o[2].sliceSerialize(o[1],!0).length===n.containerState.size?t(i):r(i)}}function Bee(e){e.exit(this.containerState.type)}function Uee(e,t,r){const n=this;return on(e,a,"listItemPrefixWhitespace",n.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function a(i){const o=n.events[n.events.length-1];return!Yr(i)&&o&&o[1].type==="listItemPrefixWhitespace"?t(i):r(i)}}const B3={name:"setextUnderline",resolveTo:$ee,tokenize:Hee};function $ee(e,t){let r=e.length,n,a,i;for(;r--;)if(e[r][0]==="enter"){if(e[r][1].type==="content"){n=r;break}e[r][1].type==="paragraph"&&(a=r)}else e[r][1].type==="content"&&e.splice(r,1),!i&&e[r][1].type==="definition"&&(i=r);const o={type:"setextHeading",start:{...e[n][1].start},end:{...e[e.length-1][1].end}};return e[a][1].type="setextHeadingText",i?(e.splice(a,0,["enter",o,t]),e.splice(i+1,0,["exit",e[n][1],t]),e[n][1].end={...e[i][1].end}):e[n][1]=o,e.push(["exit",o,t]),e}function Hee(e,t,r){const n=this;let a;return i;function i(d){let h=n.events.length,g;for(;h--;)if(n.events[h][1].type!=="lineEnding"&&n.events[h][1].type!=="linePrefix"&&n.events[h][1].type!=="content"){g=n.events[h][1].type==="paragraph";break}return!n.parser.lazy[n.now().line]&&(n.interrupt||g)?(e.enter("setextHeadingLine"),a=d,o(d)):r(d)}function o(d){return e.enter("setextHeadingLineSequence"),l(d)}function l(d){return d===a?(e.consume(d),l):(e.exit("setextHeadingLineSequence"),Yr(d)?on(e,u,"lineSuffix")(d):u(d))}function u(d){return d===null||gr(d)?(e.exit("setextHeadingLine"),t(d)):r(d)}}const zee={tokenize:Gee};function Gee(e){const t=this,r=e.attempt(Dm,n,e.attempt(this.parser.constructs.flowInitial,a,on(e,e.attempt(this.parser.constructs.flow,a,e.attempt(KJ,a)),"linePrefix")));return r;function n(i){if(i===null){e.consume(i);return}return e.enter("lineEndingBlank"),e.consume(i),e.exit("lineEndingBlank"),t.currentConstruct=void 0,r}function a(i){if(i===null){e.consume(i);return}return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),t.currentConstruct=void 0,r}}const qee={resolveAll:wj()},Wee=Tj("string"),Yee=Tj("text");function Tj(e){return{resolveAll:wj(e==="text"?Vee:void 0),tokenize:t};function t(r){const n=this,a=this.parser.constructs[e],i=r.attempt(a,o,l);return o;function o(h){return d(h)?i(h):l(h)}function l(h){if(h===null){r.consume(h);return}return r.enter("data"),r.consume(h),u}function u(h){return d(h)?(r.exit("data"),i(h)):(r.consume(h),u)}function d(h){if(h===null)return!0;const g=a[h];let f=-1;if(g)for(;++f<g.length;){const b=g[f];if(!b.previous||b.previous.call(n,n.previous))return!0}return!1}}}function wj(e){return t;function t(r,n){let a=-1,i;for(;++a<=r.length;)i===void 0?r[a]&&r[a][1].type==="data"&&(i=a,a++):(!r[a]||r[a][1].type!=="data")&&(a!==i+2&&(r[i][1].end=r[a-1][1].end,r.splice(i+2,a-i-2),a=i+2),i=void 0);return e?e(r,n):r}}function Vee(e,t){let r=0;for(;++r<=e.length;)if((r===e.length||e[r][1].type==="lineEnding")&&e[r-1][1].type==="data"){const n=e[r-1][1],a=t.sliceStream(n);let i=a.length,o=-1,l=0,u;for(;i--;){const d=a[i];if(typeof d=="string"){for(o=d.length;d.charCodeAt(o-1)===32;)l++,o--;if(o)break;o=-1}else if(d===-2)u=!0,l++;else if(d!==-1){i++;break}}if(t._contentTypeTextTrailing&&r===e.length&&(l=0),l){const d={type:r===e.length||u||l<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:i?o:n.start._bufferIndex+o,_index:n.start._index+i,line:n.end.line,column:n.end.column-l,offset:n.end.offset-l},end:{...n.end}};n.end={...d.start},n.start.offset===n.end.offset?Object.assign(n,d):(e.splice(r,0,["enter",d,t],["exit",d,t]),r+=2)}r++}return e}const Kee={42:Zs,43:Zs,45:Zs,48:Zs,49:Zs,50:Zs,51:Zs,52:Zs,53:Zs,54:Zs,55:Zs,56:Zs,57:Zs,62:fj},Qee={91:eee},Xee={[-2]:dS,[-1]:dS,32:dS},Zee={35:iee,42:eb,45:[B3,eb],60:uee,61:B3,95:eb,96:j3,126:j3},Jee={38:yj,92:bj},ete={[-5]:pS,[-4]:pS,[-3]:pS,33:Aee,38:yj,42:Y1,60:[IJ,bee],91:Iee,92:[aee,bj],93:Fw,95:Y1,96:zJ},tte={null:[Y1,qee]},rte={null:[42,95]},nte={null:[]},ate=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:rte,contentInitial:Qee,disable:nte,document:Kee,flow:Zee,flowInitial:Xee,insideSpan:tte,string:Jee,text:ete},Symbol.toStringTag,{value:"Module"}));function ste(e,t,r){let n={_bufferIndex:-1,_index:0,line:r&&r.line||1,column:r&&r.column||1,offset:r&&r.offset||0};const a={},i=[];let o=[],l=[];const u={attempt:j(D),check:j(L),consume:w,enter:N,exit:R,interrupt:j(L,{interrupt:!0})},d={code:null,containerState:{},defineSkip:E,events:[],now:x,parser:e,previous:null,sliceSerialize:f,sliceStream:b,write:g};let h=t.tokenize.call(d,u);return t.resolveAll&&i.push(t),d;function g(K){return o=Fi(o,K),v(),o[o.length-1]!==null?[]:(B(t,0),d.events=jy(i,d.events,d),d.events)}function f(K,X){return ote(b(K),X)}function b(K){return ite(o,K)}function x(){const{_bufferIndex:K,_index:X,line:Q,column:O,offset:H}=n;return{_bufferIndex:K,_index:X,line:Q,column:O,offset:H}}function E(K){a[K.line]=K.column,z()}function v(){let K;for(;n._index<o.length;){const X=o[n._index];if(typeof X=="string")for(K=n._index,n._bufferIndex<0&&(n._bufferIndex=0);n._index===K&&n._bufferIndex<X.length;)T(X.charCodeAt(n._bufferIndex));else T(X)}}function T(K){h=h(K)}function w(K){gr(K)?(n.line++,n.column=1,n.offset+=K===-3?2:1,z()):K!==-1&&(n.column++,n.offset++),n._bufferIndex<0?n._index++:(n._bufferIndex++,n._bufferIndex===o[n._index].length&&(n._bufferIndex=-1,n._index++)),d.previous=K}function N(K,X){const Q=X||{};return Q.type=K,Q.start=x(),d.events.push(["enter",Q,d]),l.push(Q),Q}function R(K){const X=l.pop();return X.end=x(),d.events.push(["exit",X,d]),X}function D(K,X){B(K,X.from)}function L(K,X){X.restore()}function j(K,X){return Q;function Q(O,H,$){let Y,V,ne,P;return Array.isArray(O)?G(O):"tokenize"in O?G([O]):I(O);function I(ye){return ge;function ge(pe){const Be=pe!==null&&ye[pe],Ee=pe!==null&&ye.null,we=[...Array.isArray(Be)?Be:Be?[Be]:[],...Array.isArray(Ee)?Ee:Ee?[Ee]:[]];return G(we)(pe)}}function G(ye){return Y=ye,V=0,ye.length===0?$:F(ye[V])}function F(ye){return ge;function ge(pe){return P=q(),ne=ye,ye.partial||(d.currentConstruct=ye),ye.name&&d.parser.constructs.disable.null.includes(ye.name)?he():ye.tokenize.call(X?Object.assign(Object.create(d),X):d,u,ie,he)(pe)}}function ie(ye){return K(ne,P),H}function he(ye){return P.restore(),++V<Y.length?F(Y[V]):$}}}function B(K,X){K.resolveAll&&!i.includes(K)&&i.push(K),K.resolve&&Ei(d.events,X,d.events.length-X,K.resolve(d.events.slice(X),d)),K.resolveTo&&(d.events=K.resolveTo(d.events,d))}function q(){const K=x(),X=d.previous,Q=d.currentConstruct,O=d.events.length,H=Array.from(l);return{from:O,restore:$};function $(){n=K,d.previous=X,d.currentConstruct=Q,d.events.length=O,l=H,z()}}function z(){n.line in a&&n.column<2&&(n.column=a[n.line],n.offset+=a[n.line]-1)}}function ite(e,t){const r=t.start._index,n=t.start._bufferIndex,a=t.end._index,i=t.end._bufferIndex;let o;if(r===a)o=[e[r].slice(n,i)];else{if(o=e.slice(r,a),n>-1){const l=o[0];typeof l=="string"?o[0]=l.slice(n):o.shift()}i>0&&o.push(e[a].slice(0,i))}return o}function ote(e,t){let r=-1;const n=[];let a;for(;++r<e.length;){const i=e[r];let o;if(typeof i=="string")o=i;else switch(i){case-5:{o="\r";break}case-4:{o=`
`;break}case-3:{o=`\r
`;break}case-2:{o=t?" ":"	";break}case-1:{if(!t&&a)continue;o=" ";break}default:o=String.fromCharCode(i)}a=i===-2,n.push(o)}return n.join("")}function lte(e){const n={constructs:gj([ate,...(e||{}).extensions||[]]),content:a(TJ),defined:[],document:a(kJ),flow:a(zee),lazy:{},string:a(Wee),text:a(Yee)};return n;function a(i){return o;function o(l){return ste(n,i,l)}}}function cte(e){for(;!xj(e););return e}const U3=/[\0\t\n\r]/g;function ute(){let e=1,t="",r=!0,n;return a;function a(i,o,l){const u=[];let d,h,g,f,b;for(i=t+(typeof i=="string"?i.toString():new TextDecoder(o||void 0).decode(i)),g=0,t="",r&&(i.charCodeAt(0)===65279&&g++,r=void 0);g<i.length;){if(U3.lastIndex=g,d=U3.exec(i),f=d&&d.index!==void 0?d.index:i.length,b=i.charCodeAt(f),!d){t=i.slice(g);break}if(b===10&&g===f&&n)u.push(-3),n=void 0;else switch(n&&(u.push(-5),n=void 0),g<f&&(u.push(i.slice(g,f)),e+=f-g),b){case 0:{u.push(65533),e++;break}case 9:{for(h=Math.ceil(e/4)*4,u.push(-2);e++<h;)u.push(-1);break}case 10:{u.push(-4),e=1;break}default:n=!0,e=1}g=f+1}return l&&(n&&u.push(-5),t&&u.push(t),u.push(null)),u}}const dte=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function pte(e){return e.replace(dte,hte)}function hte(e,t,r){if(t)return t;if(r.charCodeAt(0)===35){const a=r.charCodeAt(1),i=a===120||a===88;return mj(r.slice(i?2:1),i?16:10)}return nm(r)||e}const kj={}.hasOwnProperty;function gte(e,t,r){return typeof t!="string"&&(r=t,t=void 0),mte(r)(cte(lte(r).document().write(ute()(e,t,!0))))}function mte(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:i(jt),autolinkProtocol:q,autolinkEmail:q,atxHeading:i(Vt),blockQuote:i(Ee),characterEscape:q,characterReference:q,codeFenced:i(we),codeFencedFenceInfo:o,codeFencedFenceMeta:o,codeIndented:i(we,o),codeText:i(Je,o),codeTextData:q,data:q,codeFlowValue:q,definition:i(Ke),definitionDestinationString:o,definitionLabelString:o,definitionTitleString:o,emphasis:i(ze),hardBreakEscape:i(kt),hardBreakTrailing:i(kt),htmlFlow:i(wt,o),htmlFlowData:q,htmlText:i(wt,o),htmlTextData:q,image:i(_t),label:o,link:i(jt),listItem:i(zt),listItemValue:f,listOrdered:i(mt,g),listUnordered:i(mt),paragraph:i(ar),reference:F,referenceString:o,resourceDestinationString:o,resourceTitleString:o,setextHeading:i(Vt),strong:i(kr),thematicBreak:i(Jt)},exit:{atxHeading:u(),atxHeadingSequence:D,autolink:u(),autolinkEmail:Be,autolinkProtocol:pe,blockQuote:u(),characterEscapeValue:z,characterReferenceMarkerHexadecimal:he,characterReferenceMarkerNumeric:he,characterReferenceValue:ye,characterReference:ge,codeFenced:u(v),codeFencedFence:E,codeFencedFenceInfo:b,codeFencedFenceMeta:x,codeFlowValue:z,codeIndented:u(T),codeText:u(H),codeTextData:z,data:z,definition:u(),definitionDestinationString:R,definitionLabelString:w,definitionTitleString:N,emphasis:u(),hardBreakEscape:u(X),hardBreakTrailing:u(X),htmlFlow:u(Q),htmlFlowData:z,htmlText:u(O),htmlTextData:z,image:u(Y),label:ne,labelText:V,lineEnding:K,link:u($),listItem:u(),listOrdered:u(),listUnordered:u(),paragraph:u(),referenceString:ie,resourceDestinationString:P,resourceTitleString:I,resource:G,setextHeading:u(B),setextHeadingLineSequence:j,setextHeadingText:L,strong:u(),thematicBreak:u()}};Cj(t,(e||{}).mdastExtensions||[]);const r={};return n;function n(le){let se={type:"root",children:[]};const Ce={stack:[se],tokenStack:[],config:t,enter:l,exit:d,buffer:o,resume:h,data:r},De=[];let dt=-1;for(;++dt<le.length;)if(le[dt][1].type==="listOrdered"||le[dt][1].type==="listUnordered")if(le[dt][0]==="enter")De.push(dt);else{const lt=De.pop();dt=a(le,lt,dt)}for(dt=-1;++dt<le.length;){const lt=t[le[dt][0]];kj.call(lt,le[dt][1].type)&&lt[le[dt][1].type].call(Object.assign({sliceSerialize:le[dt][2].sliceSerialize},Ce),le[dt][1])}if(Ce.tokenStack.length>0){const lt=Ce.tokenStack[Ce.tokenStack.length-1];(lt[1]||$3).call(Ce,void 0,lt[0])}for(se.position={start:rc(le.length>0?le[0][1].start:{line:1,column:1,offset:0}),end:rc(le.length>0?le[le.length-2][1].end:{line:1,column:1,offset:0})},dt=-1;++dt<t.transforms.length;)se=t.transforms[dt](se)||se;return se}function a(le,se,Ce){let De=se-1,dt=-1,lt=!1,qt,Ft,Ct,je;for(;++De<=Ce;){const it=le[De];switch(it[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{it[0]==="enter"?dt++:dt--,je=void 0;break}case"lineEndingBlank":{it[0]==="enter"&&(qt&&!je&&!dt&&!Ct&&(Ct=De),je=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:je=void 0}if(!dt&&it[0]==="enter"&&it[1].type==="listItemPrefix"||dt===-1&&it[0]==="exit"&&(it[1].type==="listUnordered"||it[1].type==="listOrdered")){if(qt){let mr=De;for(Ft=void 0;mr--;){const Ut=le[mr];if(Ut[1].type==="lineEnding"||Ut[1].type==="lineEndingBlank"){if(Ut[0]==="exit")continue;Ft&&(le[Ft][1].type="lineEndingBlank",lt=!0),Ut[1].type="lineEnding",Ft=mr}else if(!(Ut[1].type==="linePrefix"||Ut[1].type==="blockQuotePrefix"||Ut[1].type==="blockQuotePrefixWhitespace"||Ut[1].type==="blockQuoteMarker"||Ut[1].type==="listItemIndent"))break}Ct&&(!Ft||Ct<Ft)&&(qt._spread=!0),qt.end=Object.assign({},Ft?le[Ft][1].start:it[1].end),le.splice(Ft||De,0,["exit",qt,it[2]]),De++,Ce++}if(it[1].type==="listItemPrefix"){const mr={type:"listItem",_spread:!1,start:Object.assign({},it[1].start),end:void 0};qt=mr,le.splice(De,0,["enter",mr,it[2]]),De++,Ce++,Ct=void 0,je=!0}}}return le[se][1]._spread=lt,Ce}function i(le,se){return Ce;function Ce(De){l.call(this,le(De),De),se&&se.call(this,De)}}function o(){this.stack.push({type:"fragment",children:[]})}function l(le,se,Ce){this.stack[this.stack.length-1].children.push(le),this.stack.push(le),this.tokenStack.push([se,Ce||void 0]),le.position={start:rc(se.start),end:void 0}}function u(le){return se;function se(Ce){le&&le.call(this,Ce),d.call(this,Ce)}}function d(le,se){const Ce=this.stack.pop(),De=this.tokenStack.pop();if(De)De[0].type!==le.type&&(se?se.call(this,le,De[0]):(De[1]||$3).call(this,le,De[0]));else throw new Error("Cannot close `"+le.type+"` ("+Cg({start:le.start,end:le.end})+"): its not open");Ce.position.end=rc(le.end)}function h(){return jw(this.stack.pop())}function g(){this.data.expectingFirstListItemValue=!0}function f(le){if(this.data.expectingFirstListItemValue){const se=this.stack[this.stack.length-2];se.start=Number.parseInt(this.sliceSerialize(le),10),this.data.expectingFirstListItemValue=void 0}}function b(){const le=this.resume(),se=this.stack[this.stack.length-1];se.lang=le}function x(){const le=this.resume(),se=this.stack[this.stack.length-1];se.meta=le}function E(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function v(){const le=this.resume(),se=this.stack[this.stack.length-1];se.value=le.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function T(){const le=this.resume(),se=this.stack[this.stack.length-1];se.value=le.replace(/(\r?\n|\r)$/g,"")}function w(le){const se=this.resume(),Ce=this.stack[this.stack.length-1];Ce.label=se,Ce.identifier=co(this.sliceSerialize(le)).toLowerCase()}function N(){const le=this.resume(),se=this.stack[this.stack.length-1];se.title=le}function R(){const le=this.resume(),se=this.stack[this.stack.length-1];se.url=le}function D(le){const se=this.stack[this.stack.length-1];if(!se.depth){const Ce=this.sliceSerialize(le).length;se.depth=Ce}}function L(){this.data.setextHeadingSlurpLineEnding=!0}function j(le){const se=this.stack[this.stack.length-1];se.depth=this.sliceSerialize(le).codePointAt(0)===61?1:2}function B(){this.data.setextHeadingSlurpLineEnding=void 0}function q(le){const Ce=this.stack[this.stack.length-1].children;let De=Ce[Ce.length-1];(!De||De.type!=="text")&&(De=dr(),De.position={start:rc(le.start),end:void 0},Ce.push(De)),this.stack.push(De)}function z(le){const se=this.stack.pop();se.value+=this.sliceSerialize(le),se.position.end=rc(le.end)}function K(le){const se=this.stack[this.stack.length-1];if(this.data.atHardBreak){const Ce=se.children[se.children.length-1];Ce.position.end=rc(le.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(se.type)&&(q.call(this,le),z.call(this,le))}function X(){this.data.atHardBreak=!0}function Q(){const le=this.resume(),se=this.stack[this.stack.length-1];se.value=le}function O(){const le=this.resume(),se=this.stack[this.stack.length-1];se.value=le}function H(){const le=this.resume(),se=this.stack[this.stack.length-1];se.value=le}function $(){const le=this.stack[this.stack.length-1];if(this.data.inReference){const se=this.data.referenceType||"shortcut";le.type+="Reference",le.referenceType=se,delete le.url,delete le.title}else delete le.identifier,delete le.label;this.data.referenceType=void 0}function Y(){const le=this.stack[this.stack.length-1];if(this.data.inReference){const se=this.data.referenceType||"shortcut";le.type+="Reference",le.referenceType=se,delete le.url,delete le.title}else delete le.identifier,delete le.label;this.data.referenceType=void 0}function V(le){const se=this.sliceSerialize(le),Ce=this.stack[this.stack.length-2];Ce.label=pte(se),Ce.identifier=co(se).toLowerCase()}function ne(){const le=this.stack[this.stack.length-1],se=this.resume(),Ce=this.stack[this.stack.length-1];if(this.data.inReference=!0,Ce.type==="link"){const De=le.children;Ce.children=De}else Ce.alt=se}function P(){const le=this.resume(),se=this.stack[this.stack.length-1];se.url=le}function I(){const le=this.resume(),se=this.stack[this.stack.length-1];se.title=le}function G(){this.data.inReference=void 0}function F(){this.data.referenceType="collapsed"}function ie(le){const se=this.resume(),Ce=this.stack[this.stack.length-1];Ce.label=se,Ce.identifier=co(this.sliceSerialize(le)).toLowerCase(),this.data.referenceType="full"}function he(le){this.data.characterReferenceType=le.type}function ye(le){const se=this.sliceSerialize(le),Ce=this.data.characterReferenceType;let De;Ce?(De=mj(se,Ce==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):De=nm(se);const dt=this.stack[this.stack.length-1];dt.value+=De}function ge(le){const se=this.stack.pop();se.position.end=rc(le.end)}function pe(le){z.call(this,le);const se=this.stack[this.stack.length-1];se.url=this.sliceSerialize(le)}function Be(le){z.call(this,le);const se=this.stack[this.stack.length-1];se.url="mailto:"+this.sliceSerialize(le)}function Ee(){return{type:"blockquote",children:[]}}function we(){return{type:"code",lang:null,meta:null,value:""}}function Je(){return{type:"inlineCode",value:""}}function Ke(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function ze(){return{type:"emphasis",children:[]}}function Vt(){return{type:"heading",depth:0,children:[]}}function kt(){return{type:"break"}}function wt(){return{type:"html",value:""}}function _t(){return{type:"image",title:null,url:"",alt:null}}function jt(){return{type:"link",title:null,url:"",children:[]}}function mt(le){return{type:"list",ordered:le.type==="listOrdered",start:null,spread:le._spread,children:[]}}function zt(le){return{type:"listItem",spread:le._spread,checked:null,children:[]}}function ar(){return{type:"paragraph",children:[]}}function kr(){return{type:"strong",children:[]}}function dr(){return{type:"text",value:""}}function Jt(){return{type:"thematicBreak"}}}function rc(e){return{line:e.line,column:e.column,offset:e.offset}}function Cj(e,t){let r=-1;for(;++r<t.length;){const n=t[r];Array.isArray(n)?Cj(e,n):fte(e,n)}}function fte(e,t){let r;for(r in t)if(kj.call(t,r))switch(r){case"canContainEols":{const n=t[r];n&&e[r].push(...n);break}case"transforms":{const n=t[r];n&&e[r].push(...n);break}case"enter":case"exit":{const n=t[r];n&&Object.assign(e[r],n);break}}}function $3(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+Cg({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+Cg({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+Cg({start:t.start,end:t.end})+") is still open")}function _j(e){const t=this;t.parser=r;function r(n){return gte(n,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function bte(e,t){const r={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,r),e.applyData(t,r)}function yte(e,t){const r={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,r),[e.applyData(t,r),{type:"text",value:`
`}]}function xte(e,t){const r=t.value?t.value+`
`:"",n={};t.lang&&(n.className=["language-"+t.lang]);let a={type:"element",tagName:"code",properties:n,children:[{type:"text",value:r}]};return t.meta&&(a.data={meta:t.meta}),e.patch(t,a),a=e.applyData(t,a),a={type:"element",tagName:"pre",properties:{},children:[a]},e.patch(t,a),a}function Ete(e,t){const r={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function vte(e,t){const r={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function Ste(e,t){const r=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=String(t.identifier).toUpperCase(),a=Ip(n.toLowerCase()),i=e.footnoteOrder.indexOf(n);let o,l=e.footnoteCounts.get(n);l===void 0?(l=0,e.footnoteOrder.push(n),o=e.footnoteOrder.length):o=i+1,l+=1,e.footnoteCounts.set(n,l);const u={type:"element",tagName:"a",properties:{href:"#"+r+"fn-"+a,id:r+"fnref-"+a+(l>1?"-"+l:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(o)}]};e.patch(t,u);const d={type:"element",tagName:"sup",properties:{},children:[u]};return e.patch(t,d),e.applyData(t,d)}function Tte(e,t){const r={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function wte(e,t){if(e.options.allowDangerousHtml){const r={type:"raw",value:t.value};return e.patch(t,r),e.applyData(t,r)}}function Aj(e,t){const r=t.referenceType;let n="]";if(r==="collapsed"?n+="[]":r==="full"&&(n+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+n}];const a=e.all(t),i=a[0];i&&i.type==="text"?i.value="["+i.value:a.unshift({type:"text",value:"["});const o=a[a.length-1];return o&&o.type==="text"?o.value+=n:a.push({type:"text",value:n}),a}function kte(e,t){const r=String(t.identifier).toUpperCase(),n=e.definitionById.get(r);if(!n)return Aj(e,t);const a={src:Ip(n.url||""),alt:t.alt};n.title!==null&&n.title!==void 0&&(a.title=n.title);const i={type:"element",tagName:"img",properties:a,children:[]};return e.patch(t,i),e.applyData(t,i)}function Cte(e,t){const r={src:Ip(t.url)};t.alt!==null&&t.alt!==void 0&&(r.alt=t.alt),t.title!==null&&t.title!==void 0&&(r.title=t.title);const n={type:"element",tagName:"img",properties:r,children:[]};return e.patch(t,n),e.applyData(t,n)}function _te(e,t){const r={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,r);const n={type:"element",tagName:"code",properties:{},children:[r]};return e.patch(t,n),e.applyData(t,n)}function Ate(e,t){const r=String(t.identifier).toUpperCase(),n=e.definitionById.get(r);if(!n)return Aj(e,t);const a={href:Ip(n.url||"")};n.title!==null&&n.title!==void 0&&(a.title=n.title);const i={type:"element",tagName:"a",properties:a,children:e.all(t)};return e.patch(t,i),e.applyData(t,i)}function Nte(e,t){const r={href:Ip(t.url)};t.title!==null&&t.title!==void 0&&(r.title=t.title);const n={type:"element",tagName:"a",properties:r,children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function Ite(e,t,r){const n=e.all(t),a=r?Rte(r):Nj(t),i={},o=[];if(typeof t.checked=="boolean"){const h=n[0];let g;h&&h.type==="element"&&h.tagName==="p"?g=h:(g={type:"element",tagName:"p",properties:{},children:[]},n.unshift(g)),g.children.length>0&&g.children.unshift({type:"text",value:" "}),g.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),i.className=["task-list-item"]}let l=-1;for(;++l<n.length;){const h=n[l];(a||l!==0||h.type!=="element"||h.tagName!=="p")&&o.push({type:"text",value:`
`}),h.type==="element"&&h.tagName==="p"&&!a?o.push(...h.children):o.push(h)}const u=n[n.length-1];u&&(a||u.type!=="element"||u.tagName!=="p")&&o.push({type:"text",value:`
`});const d={type:"element",tagName:"li",properties:i,children:o};return e.patch(t,d),e.applyData(t,d)}function Rte(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const r=e.children;let n=-1;for(;!t&&++n<r.length;)t=Nj(r[n])}return t}function Nj(e){const t=e.spread;return t??e.children.length>1}function Dte(e,t){const r={},n=e.all(t);let a=-1;for(typeof t.start=="number"&&t.start!==1&&(r.start=t.start);++a<n.length;){const o=n[a];if(o.type==="element"&&o.tagName==="li"&&o.properties&&Array.isArray(o.properties.className)&&o.properties.className.includes("task-list-item")){r.className=["contains-task-list"];break}}const i={type:"element",tagName:t.ordered?"ol":"ul",properties:r,children:e.wrap(n,!0)};return e.patch(t,i),e.applyData(t,i)}function Lte(e,t){const r={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function Ote(e,t){const r={type:"root",children:e.wrap(e.all(t))};return e.patch(t,r),e.applyData(t,r)}function Mte(e,t){const r={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function Pte(e,t){const r=e.all(t),n=r.shift(),a=[];if(n){const o={type:"element",tagName:"thead",properties:{},children:e.wrap([n],!0)};e.patch(t.children[0],o),a.push(o)}if(r.length>0){const o={type:"element",tagName:"tbody",properties:{},children:e.wrap(r,!0)},l=Wo(t.children[1]),u=My(t.children[t.children.length-1]);l&&u&&(o.position={start:l,end:u}),a.push(o)}const i={type:"element",tagName:"table",properties:{},children:e.wrap(a,!0)};return e.patch(t,i),e.applyData(t,i)}function jte(e,t,r){const n=r?r.children:void 0,i=(n?n.indexOf(t):1)===0?"th":"td",o=r&&r.type==="table"?r.align:void 0,l=o?o.length:t.children.length;let u=-1;const d=[];for(;++u<l;){const g=t.children[u],f={},b=o?o[u]:void 0;b&&(f.align=b);let x={type:"element",tagName:i,properties:f,children:[]};g&&(x.children=e.all(g),e.patch(g,x),x=e.applyData(g,x)),d.push(x)}const h={type:"element",tagName:"tr",properties:{},children:e.wrap(d,!0)};return e.patch(t,h),e.applyData(t,h)}function Fte(e,t){const r={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}const H3=9,z3=32;function Bte(e){const t=String(e),r=/\r?\n|\r/g;let n=r.exec(t),a=0;const i=[];for(;n;)i.push(G3(t.slice(a,n.index),a>0,!0),n[0]),a=n.index+n[0].length,n=r.exec(t);return i.push(G3(t.slice(a),a>0,!1)),i.join("")}function G3(e,t,r){let n=0,a=e.length;if(t){let i=e.codePointAt(n);for(;i===H3||i===z3;)n++,i=e.codePointAt(n)}if(r){let i=e.codePointAt(a-1);for(;i===H3||i===z3;)a--,i=e.codePointAt(a-1)}return a>n?e.slice(n,a):""}function Ute(e,t){const r={type:"text",value:Bte(String(t.value))};return e.patch(t,r),e.applyData(t,r)}function $te(e,t){const r={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,r),e.applyData(t,r)}const Hte={blockquote:bte,break:yte,code:xte,delete:Ete,emphasis:vte,footnoteReference:Ste,heading:Tte,html:wte,imageReference:kte,image:Cte,inlineCode:_te,linkReference:Ate,link:Nte,listItem:Ite,list:Dte,paragraph:Lte,root:Ote,strong:Mte,table:Pte,tableCell:Fte,tableRow:jte,text:Ute,thematicBreak:$te,toml:E0,yaml:E0,definition:E0,footnoteDefinition:E0};function E0(){}const Ij=-1,Fy=0,Ag=1,Nb=2,Bw=3,Uw=4,$w=5,Hw=6,Rj=7,Dj=8,q3=typeof self=="object"?self:globalThis,zte=(e,t)=>{const r=(a,i)=>(e.set(i,a),a),n=a=>{if(e.has(a))return e.get(a);const[i,o]=t[a];switch(i){case Fy:case Ij:return r(o,a);case Ag:{const l=r([],a);for(const u of o)l.push(n(u));return l}case Nb:{const l=r({},a);for(const[u,d]of o)l[n(u)]=n(d);return l}case Bw:return r(new Date(o),a);case Uw:{const{source:l,flags:u}=o;return r(new RegExp(l,u),a)}case $w:{const l=r(new Map,a);for(const[u,d]of o)l.set(n(u),n(d));return l}case Hw:{const l=r(new Set,a);for(const u of o)l.add(n(u));return l}case Rj:{const{name:l,message:u}=o;return r(new q3[l](u),a)}case Dj:return r(BigInt(o),a);case"BigInt":return r(Object(BigInt(o)),a);case"ArrayBuffer":return r(new Uint8Array(o).buffer,o);case"DataView":{const{buffer:l}=new Uint8Array(o);return r(new DataView(l),o)}}return r(new q3[i](o),a)};return n},W3=e=>zte(new Map,e)(0),Id="",{toString:Gte}={},{keys:qte}=Object,zh=e=>{const t=typeof e;if(t!=="object"||!e)return[Fy,t];const r=Gte.call(e).slice(8,-1);switch(r){case"Array":return[Ag,Id];case"Object":return[Nb,Id];case"Date":return[Bw,Id];case"RegExp":return[Uw,Id];case"Map":return[$w,Id];case"Set":return[Hw,Id];case"DataView":return[Ag,r]}return r.includes("Array")?[Ag,r]:r.includes("Error")?[Rj,r]:[Nb,r]},v0=([e,t])=>e===Fy&&(t==="function"||t==="symbol"),Wte=(e,t,r,n)=>{const a=(o,l)=>{const u=n.push(o)-1;return r.set(l,u),u},i=o=>{if(r.has(o))return r.get(o);let[l,u]=zh(o);switch(l){case Fy:{let h=o;switch(u){case"bigint":l=Dj,h=o.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+u);h=null;break;case"undefined":return a([Ij],o)}return a([l,h],o)}case Ag:{if(u){let f=o;return u==="DataView"?f=new Uint8Array(o.buffer):u==="ArrayBuffer"&&(f=new Uint8Array(o)),a([u,[...f]],o)}const h=[],g=a([l,h],o);for(const f of o)h.push(i(f));return g}case Nb:{if(u)switch(u){case"BigInt":return a([u,o.toString()],o);case"Boolean":case"Number":case"String":return a([u,o.valueOf()],o)}if(t&&"toJSON"in o)return i(o.toJSON());const h=[],g=a([l,h],o);for(const f of qte(o))(e||!v0(zh(o[f])))&&h.push([i(f),i(o[f])]);return g}case Bw:return a([l,o.toISOString()],o);case Uw:{const{source:h,flags:g}=o;return a([l,{source:h,flags:g}],o)}case $w:{const h=[],g=a([l,h],o);for(const[f,b]of o)(e||!(v0(zh(f))||v0(zh(b))))&&h.push([i(f),i(b)]);return g}case Hw:{const h=[],g=a([l,h],o);for(const f of o)(e||!v0(zh(f)))&&h.push(i(f));return g}}const{message:d}=o;return a([l,{name:u,message:d}],o)};return i},Y3=(e,{json:t,lossy:r}={})=>{const n=[];return Wte(!(t||r),!!t,new Map,n)(e),n},gc=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?W3(Y3(e,t)):structuredClone(e):(e,t)=>W3(Y3(e,t));function Yte(e,t){const r=[{type:"text",value:""}];return t>1&&r.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),r}function Vte(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function Kte(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=e.options.footnoteBackContent||Yte,n=e.options.footnoteBackLabel||Vte,a=e.options.footnoteLabel||"Footnotes",i=e.options.footnoteLabelTagName||"h2",o=e.options.footnoteLabelProperties||{className:["sr-only"]},l=[];let u=-1;for(;++u<e.footnoteOrder.length;){const d=e.footnoteById.get(e.footnoteOrder[u]);if(!d)continue;const h=e.all(d),g=String(d.identifier).toUpperCase(),f=Ip(g.toLowerCase());let b=0;const x=[],E=e.footnoteCounts.get(g);for(;E!==void 0&&++b<=E;){x.length>0&&x.push({type:"text",value:" "});let w=typeof r=="string"?r:r(u,b);typeof w=="string"&&(w={type:"text",value:w}),x.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+f+(b>1?"-"+b:""),dataFootnoteBackref:"",ariaLabel:typeof n=="string"?n:n(u,b),className:["data-footnote-backref"]},children:Array.isArray(w)?w:[w]})}const v=h[h.length-1];if(v&&v.type==="element"&&v.tagName==="p"){const w=v.children[v.children.length-1];w&&w.type==="text"?w.value+=" ":v.children.push({type:"text",value:" "}),v.children.push(...x)}else h.push(...x);const T={type:"element",tagName:"li",properties:{id:t+"fn-"+f},children:e.wrap(h,!0)};e.patch(d,T),l.push(T)}if(l.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:i,properties:{...gc(o),id:"footnote-label"},children:[{type:"text",value:a}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(l,!0)},{type:"text",value:`
`}]}}const Rp=(function(e){if(e==null)return Jte;if(typeof e=="function")return By(e);if(typeof e=="object")return Array.isArray(e)?Qte(e):Xte(e);if(typeof e=="string")return Zte(e);throw new Error("Expected function, string, or object as test")});function Qte(e){const t=[];let r=-1;for(;++r<e.length;)t[r]=Rp(e[r]);return By(n);function n(...a){let i=-1;for(;++i<t.length;)if(t[i].apply(this,a))return!0;return!1}}function Xte(e){const t=e;return By(r);function r(n){const a=n;let i;for(i in e)if(a[i]!==t[i])return!1;return!0}}function Zte(e){return By(t);function t(r){return r&&r.type===e}}function By(e){return t;function t(r,n,a){return!!(ere(r)&&e.call(this,r,typeof n=="number"?n:void 0,a||void 0))}}function Jte(){return!0}function ere(e){return e!==null&&typeof e=="object"&&"type"in e}const Lj=[],tre=!0,Ib=!1,Ng="skip";function Oj(e,t,r,n){let a;typeof t=="function"&&typeof r!="function"?(n=r,r=t):a=t;const i=Rp(a),o=n?-1:1;l(e,void 0,[])();function l(u,d,h){const g=u&&typeof u=="object"?u:{};if(typeof g.type=="string"){const b=typeof g.tagName=="string"?g.tagName:typeof g.name=="string"?g.name:void 0;Object.defineProperty(f,"name",{value:"node ("+(u.type+(b?"<"+b+">":""))+")"})}return f;function f(){let b=Lj,x,E,v;if((!t||i(u,d,h[h.length-1]||void 0))&&(b=rre(r(u,h)),b[0]===Ib))return b;if("children"in u&&u.children){const T=u;if(T.children&&b[0]!==Ng)for(E=(n?T.children.length:-1)+o,v=h.concat(T);E>-1&&E<T.children.length;){const w=T.children[E];if(x=l(w,E,v)(),x[0]===Ib)return x;E=typeof x[1]=="number"?x[1]:E+o}}return b}}}function rre(e){return Array.isArray(e)?e:typeof e=="number"?[tre,e]:e==null?Lj:[e]}function Ja(e,t,r,n){let a,i,o;typeof t=="function"&&typeof r!="function"?(i=void 0,o=t,a=r):(i=t,o=r,a=n),Oj(e,i,l,a);function l(u,d){const h=d[d.length-1],g=h?h.children.indexOf(u):void 0;return o(u,g,h)}}const V1={}.hasOwnProperty,nre={};function are(e,t){const r=t||nre,n=new Map,a=new Map,i=new Map,o={...Hte,...r.handlers},l={all:d,applyData:ire,definitionById:n,footnoteById:a,footnoteCounts:i,footnoteOrder:[],handlers:o,one:u,options:r,patch:sre,wrap:lre};return Ja(e,function(h){if(h.type==="definition"||h.type==="footnoteDefinition"){const g=h.type==="definition"?n:a,f=String(h.identifier).toUpperCase();g.has(f)||g.set(f,h)}}),l;function u(h,g){const f=h.type,b=l.handlers[f];if(V1.call(l.handlers,f)&&b)return b(l,h,g);if(l.options.passThrough&&l.options.passThrough.includes(f)){if("children"in h){const{children:E,...v}=h,T=gc(v);return T.children=l.all(h),T}return gc(h)}return(l.options.unknownHandler||ore)(l,h,g)}function d(h){const g=[];if("children"in h){const f=h.children;let b=-1;for(;++b<f.length;){const x=l.one(f[b],h);if(x){if(b&&f[b-1].type==="break"&&(!Array.isArray(x)&&x.type==="text"&&(x.value=V3(x.value)),!Array.isArray(x)&&x.type==="element")){const E=x.children[0];E&&E.type==="text"&&(E.value=V3(E.value))}Array.isArray(x)?g.push(...x):g.push(x)}}}return g}}function sre(e,t){e.position&&(t.position=oj(e))}function ire(e,t){let r=t;if(e&&e.data){const n=e.data.hName,a=e.data.hChildren,i=e.data.hProperties;if(typeof n=="string")if(r.type==="element")r.tagName=n;else{const o="children"in r?r.children:[r];r={type:"element",tagName:n,properties:{},children:o}}r.type==="element"&&i&&Object.assign(r.properties,gc(i)),"children"in r&&r.children&&a!==null&&a!==void 0&&(r.children=a)}return r}function ore(e,t){const r=t.data||{},n="value"in t&&!(V1.call(r,"hProperties")||V1.call(r,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function lre(e,t){const r=[];let n=-1;for(t&&r.push({type:"text",value:`
`});++n<e.length;)n&&r.push({type:"text",value:`
`}),r.push(e[n]);return t&&e.length>0&&r.push({type:"text",value:`
`}),r}function V3(e){let t=0,r=e.charCodeAt(t);for(;r===9||r===32;)t++,r=e.charCodeAt(t);return e.slice(t)}function K3(e,t){const r=are(e,t),n=r.one(e,void 0),a=Kte(r),i=Array.isArray(n)?{type:"root",children:n}:n||{type:"root",children:[]};return a&&i.children.push({type:"text",value:`
`},a),i}function Mj(e,t){return e&&"run"in e?async function(r,n){const a=K3(r,{file:n,...t});await e.run(a,n)}:function(r,n){return K3(r,{file:n,...e||t})}}function Q3(e){if(e)throw e}var hS,X3;function cre(){if(X3)return hS;X3=1;var e=Object.prototype.hasOwnProperty,t=Object.prototype.toString,r=Object.defineProperty,n=Object.getOwnPropertyDescriptor,a=function(d){return typeof Array.isArray=="function"?Array.isArray(d):t.call(d)==="[object Array]"},i=function(d){if(!d||t.call(d)!=="[object Object]")return!1;var h=e.call(d,"constructor"),g=d.constructor&&d.constructor.prototype&&e.call(d.constructor.prototype,"isPrototypeOf");if(d.constructor&&!h&&!g)return!1;var f;for(f in d);return typeof f>"u"||e.call(d,f)},o=function(d,h){r&&h.name==="__proto__"?r(d,h.name,{enumerable:!0,configurable:!0,value:h.newValue,writable:!0}):d[h.name]=h.newValue},l=function(d,h){if(h==="__proto__")if(e.call(d,h)){if(n)return n(d,h).value}else return;return d[h]};return hS=function u(){var d,h,g,f,b,x,E=arguments[0],v=1,T=arguments.length,w=!1;for(typeof E=="boolean"&&(w=E,E=arguments[1]||{},v=2),(E==null||typeof E!="object"&&typeof E!="function")&&(E={});v<T;++v)if(d=arguments[v],d!=null)for(h in d)g=l(E,h),f=l(d,h),E!==f&&(w&&f&&(i(f)||(b=a(f)))?(b?(b=!1,x=g&&a(g)?g:[]):x=g&&i(g)?g:{},o(E,{name:h,newValue:u(w,x,f)})):typeof f<"u"&&o(E,{name:h,newValue:f}));return E},hS}var ure=cre();const gS=Al(ure);function K1(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function dre(){const e=[],t={run:r,use:n};return t;function r(...a){let i=-1;const o=a.pop();if(typeof o!="function")throw new TypeError("Expected function as last argument, not "+o);l(null,...a);function l(u,...d){const h=e[++i];let g=-1;if(u){o(u);return}for(;++g<a.length;)(d[g]===null||d[g]===void 0)&&(d[g]=a[g]);a=d,h?pre(h,l)(...d):o(null,...d)}}function n(a){if(typeof a!="function")throw new TypeError("Expected `middelware` to be a function, not "+a);return e.push(a),t}}function pre(e,t){let r;return n;function n(...o){const l=e.length>o.length;let u;l&&o.push(a);try{u=e.apply(this,o)}catch(d){const h=d;if(l&&r)throw h;return a(h)}l||(u&&u.then&&typeof u.then=="function"?u.then(i,a):u instanceof Error?a(u):i(u))}function a(o,...l){r||(r=!0,t(o,...l))}function i(o){a(null,o)}}const Po={basename:hre,dirname:gre,extname:mre,join:fre,sep:"/"};function hre(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');Lm(e);let r=0,n=-1,a=e.length,i;if(t===void 0||t.length===0||t.length>e.length){for(;a--;)if(e.codePointAt(a)===47){if(i){r=a+1;break}}else n<0&&(i=!0,n=a+1);return n<0?"":e.slice(r,n)}if(t===e)return"";let o=-1,l=t.length-1;for(;a--;)if(e.codePointAt(a)===47){if(i){r=a+1;break}}else o<0&&(i=!0,o=a+1),l>-1&&(e.codePointAt(a)===t.codePointAt(l--)?l<0&&(n=a):(l=-1,n=o));return r===n?n=o:n<0&&(n=e.length),e.slice(r,n)}function gre(e){if(Lm(e),e.length===0)return".";let t=-1,r=e.length,n;for(;--r;)if(e.codePointAt(r)===47){if(n){t=r;break}}else n||(n=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function mre(e){Lm(e);let t=e.length,r=-1,n=0,a=-1,i=0,o;for(;t--;){const l=e.codePointAt(t);if(l===47){if(o){n=t+1;break}continue}r<0&&(o=!0,r=t+1),l===46?a<0?a=t:i!==1&&(i=1):a>-1&&(i=-1)}return a<0||r<0||i===0||i===1&&a===r-1&&a===n+1?"":e.slice(a,r)}function fre(...e){let t=-1,r;for(;++t<e.length;)Lm(e[t]),e[t]&&(r=r===void 0?e[t]:r+"/"+e[t]);return r===void 0?".":bre(r)}function bre(e){Lm(e);const t=e.codePointAt(0)===47;let r=yre(e,!t);return r.length===0&&!t&&(r="."),r.length>0&&e.codePointAt(e.length-1)===47&&(r+="/"),t?"/"+r:r}function yre(e,t){let r="",n=0,a=-1,i=0,o=-1,l,u;for(;++o<=e.length;){if(o<e.length)l=e.codePointAt(o);else{if(l===47)break;l=47}if(l===47){if(!(a===o-1||i===1))if(a!==o-1&&i===2){if(r.length<2||n!==2||r.codePointAt(r.length-1)!==46||r.codePointAt(r.length-2)!==46){if(r.length>2){if(u=r.lastIndexOf("/"),u!==r.length-1){u<0?(r="",n=0):(r=r.slice(0,u),n=r.length-1-r.lastIndexOf("/")),a=o,i=0;continue}}else if(r.length>0){r="",n=0,a=o,i=0;continue}}t&&(r=r.length>0?r+"/..":"..",n=2)}else r.length>0?r+="/"+e.slice(a+1,o):r=e.slice(a+1,o),n=o-a-1;a=o,i=0}else l===46&&i>-1?i++:i=-1}return r}function Lm(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const xre={cwd:Ere};function Ere(){return"/"}function Q1(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function vre(e){if(typeof e=="string")e=new URL(e);else if(!Q1(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return Sre(e)}function Sre(e){if(e.hostname!==""){const n=new TypeError('File URL host must be "localhost" or empty on darwin');throw n.code="ERR_INVALID_FILE_URL_HOST",n}const t=e.pathname;let r=-1;for(;++r<t.length;)if(t.codePointAt(r)===37&&t.codePointAt(r+1)===50){const n=t.codePointAt(r+2);if(n===70||n===102){const a=new TypeError("File URL path must not include encoded / characters");throw a.code="ERR_INVALID_FILE_URL_PATH",a}}return decodeURIComponent(t)}const mS=["history","path","basename","stem","extname","dirname"];class am{constructor(t){let r;t?Q1(t)?r={path:t}:typeof t=="string"||Tre(t)?r={value:t}:r=t:r={},this.cwd="cwd"in r?"":xre.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let n=-1;for(;++n<mS.length;){const i=mS[n];i in r&&r[i]!==void 0&&r[i]!==null&&(this[i]=i==="history"?[...r[i]]:r[i])}let a;for(a in r)mS.includes(a)||(this[a]=r[a])}get basename(){return typeof this.path=="string"?Po.basename(this.path):void 0}set basename(t){bS(t,"basename"),fS(t,"basename"),this.path=Po.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?Po.dirname(this.path):void 0}set dirname(t){Z3(this.basename,"dirname"),this.path=Po.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?Po.extname(this.path):void 0}set extname(t){if(fS(t,"extname"),Z3(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Po.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){Q1(t)&&(t=vre(t)),bS(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?Po.basename(this.path,this.extname):void 0}set stem(t){bS(t,"stem"),fS(t,"stem"),this.path=Po.join(this.dirname||"",t+(this.extname||""))}fail(t,r,n){const a=this.message(t,r,n);throw a.fatal=!0,a}info(t,r,n){const a=this.message(t,r,n);return a.fatal=void 0,a}message(t,r,n){const a=new es(t,r,n);return this.path&&(a.name=this.path+":"+a.name,a.file=this.path),a.fatal=!1,this.messages.push(a),a}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function fS(e,t){if(e&&e.includes(Po.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+Po.sep+"`")}function bS(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function Z3(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function Tre(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const wre=(function(e){const n=this.constructor.prototype,a=n[e],i=function(){return a.apply(i,arguments)};return Object.setPrototypeOf(i,n),i}),kre={}.hasOwnProperty;class zw extends wre{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=dre()}copy(){const t=new zw;let r=-1;for(;++r<this.attachers.length;){const n=this.attachers[r];t.use(...n)}return t.data(gS(!0,{},this.namespace)),t}data(t,r){return typeof t=="string"?arguments.length===2?(ES("data",this.frozen),this.namespace[t]=r,this):kre.call(this.namespace,t)&&this.namespace[t]||void 0:t?(ES("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[r,...n]=this.attachers[this.freezeIndex];if(n[0]===!1)continue;n[0]===!0&&(n[0]=void 0);const a=r.call(t,...n);typeof a=="function"&&this.transformers.use(a)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const r=S0(t),n=this.parser||this.Parser;return yS("parse",n),n(String(r),r)}process(t,r){const n=this;return this.freeze(),yS("process",this.parser||this.Parser),xS("process",this.compiler||this.Compiler),r?a(void 0,r):new Promise(a);function a(i,o){const l=S0(t),u=n.parse(l);n.run(u,l,function(h,g,f){if(h||!g||!f)return d(h);const b=g,x=n.stringify(b,f);_re(x)?f.value=x:f.result=x,d(h,f)});function d(h,g){h||!g?o(h):i?i(g):r(void 0,g)}}}processSync(t){let r=!1,n;return this.freeze(),yS("processSync",this.parser||this.Parser),xS("processSync",this.compiler||this.Compiler),this.process(t,a),eO("processSync","process",r),n;function a(i,o){r=!0,Q3(i),n=o}}run(t,r,n){J3(t),this.freeze();const a=this.transformers;return!n&&typeof r=="function"&&(n=r,r=void 0),n?i(void 0,n):new Promise(i);function i(o,l){const u=S0(r);a.run(t,u,d);function d(h,g,f){const b=g||t;h?l(h):o?o(b):n(void 0,b,f)}}}runSync(t,r){let n=!1,a;return this.run(t,r,i),eO("runSync","run",n),a;function i(o,l){Q3(o),a=l,n=!0}}stringify(t,r){this.freeze();const n=S0(r),a=this.compiler||this.Compiler;return xS("stringify",a),J3(t),a(t,n)}use(t,...r){const n=this.attachers,a=this.namespace;if(ES("use",this.frozen),t!=null)if(typeof t=="function")u(t,r);else if(typeof t=="object")Array.isArray(t)?l(t):o(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function i(d){if(typeof d=="function")u(d,[]);else if(typeof d=="object")if(Array.isArray(d)){const[h,...g]=d;u(h,g)}else o(d);else throw new TypeError("Expected usable value, not `"+d+"`")}function o(d){if(!("plugins"in d)&&!("settings"in d))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");l(d.plugins),d.settings&&(a.settings=gS(!0,a.settings,d.settings))}function l(d){let h=-1;if(d!=null)if(Array.isArray(d))for(;++h<d.length;){const g=d[h];i(g)}else throw new TypeError("Expected a list of plugins, not `"+d+"`")}function u(d,h){let g=-1,f=-1;for(;++g<n.length;)if(n[g][0]===d){f=g;break}if(f===-1)n.push([d,...h]);else if(h.length>0){let[b,...x]=h;const E=n[f][1];K1(E)&&K1(b)&&(b=gS(!0,E,b)),n[f]=[d,b,...x]}}}}const Gw=new zw().freeze();function yS(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function xS(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function ES(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function J3(e){if(!K1(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function eO(e,t,r){if(!r)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function S0(e){return Cre(e)?e:new am(e)}function Cre(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function _re(e){return typeof e=="string"||Are(e)}function Are(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const Nre="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",tO=[],rO={allowDangerousHtml:!0},Ire=/^(https?|ircs?|mailto|xmpp)$/i,Rre=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function Pj(e){const t=Dre(e),r=Lre(e);return Ore(t.runSync(t.parse(r),r),e)}function Dre(e){const t=e.rehypePlugins||tO,r=e.remarkPlugins||tO,n=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...rO}:rO;return Gw().use(_j).use(r).use(Mj,n).use(t)}function Lre(e){const t=e.children||"",r=new am;return typeof t=="string"&&(r.value=t),r}function Ore(e,t){const r=t.allowedElements,n=t.allowElement,a=t.components,i=t.disallowedElements,o=t.skipHtml,l=t.unwrapDisallowed,u=t.urlTransform||Mre;for(const h of Rre)Object.hasOwn(t,h.from)&&(""+h.from+(h.to?"use `"+h.to+"` instead":"remove it")+Nre+h.id,void 0);return Ja(e,d),cj(e,{Fragment:s.Fragment,components:a,ignoreInvalidStyle:!0,jsx:s.jsx,jsxs:s.jsxs,passKeys:!0,passNode:!0});function d(h,g,f){if(h.type==="raw"&&f&&typeof g=="number")return o?f.children.splice(g,1):f.children[g]={type:"text",value:h.value},g;if(h.type==="element"){let b;for(b in Vd)if(Object.hasOwn(Vd,b)&&Object.hasOwn(h.properties,b)){const x=h.properties[b],E=Vd[b];(E===null||E.includes(h.tagName))&&(h.properties[b]=u(String(x||""),b,h))}}if(h.type==="element"){let b=r?!r.includes(h.tagName):i?i.includes(h.tagName):!1;if(!b&&n&&typeof g=="number"&&(b=!n(h,g,f)),b&&f&&typeof g=="number")return l&&h.children?f.children.splice(g,1,...h.children):f.children.splice(g,1),g}}}function Mre(e){const t=e.indexOf(":"),r=e.indexOf("?"),n=e.indexOf("#"),a=e.indexOf("/");return t===-1||a!==-1&&t>a||r!==-1&&t>r||n!==-1&&t>n||Ire.test(e.slice(0,t))?e:""}function Rb(e,t){const r=String(e);if(typeof t!="string")throw new TypeError("Expected character");let n=0,a=r.indexOf(t);for(;a!==-1;)n++,a=r.indexOf(t,a+t.length);return n}function Pre(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function jre(e,t,r){const a=Rp((r||{}).ignore||[]),i=Fre(t);let o=-1;for(;++o<i.length;)Oj(e,"text",l);function l(d,h){let g=-1,f;for(;++g<h.length;){const b=h[g],x=f?f.children:void 0;if(a(b,x?x.indexOf(b):void 0,f))return;f=b}if(f)return u(d,h)}function u(d,h){const g=h[h.length-1],f=i[o][0],b=i[o][1];let x=0;const v=g.children.indexOf(d);let T=!1,w=[];f.lastIndex=0;let N=f.exec(d.value);for(;N;){const R=N.index,D={index:N.index,input:N.input,stack:[...h,d]};let L=b(...N,D);if(typeof L=="string"&&(L=L.length>0?{type:"text",value:L}:void 0),L===!1?f.lastIndex=R+1:(x!==R&&w.push({type:"text",value:d.value.slice(x,R)}),Array.isArray(L)?w.push(...L):L&&w.push(L),x=R+N[0].length,T=!0),!f.global)break;N=f.exec(d.value)}return T?(x<d.value.length&&w.push({type:"text",value:d.value.slice(x)}),g.children.splice(v,1,...w)):w=[d],v+w.length}}function Fre(e){const t=[];if(!Array.isArray(e))throw new TypeError("Expected find and replace tuple or list of tuples");const r=!e[0]||Array.isArray(e[0])?e:[e];let n=-1;for(;++n<r.length;){const a=r[n];t.push([Bre(a[0]),Ure(a[1])])}return t}function Bre(e){return typeof e=="string"?new RegExp(Pre(e),"g"):e}function Ure(e){return typeof e=="function"?e:function(){return e}}const vS="phrasing",SS=["autolink","link","image","label"];function $re(){return{transforms:[Vre],enter:{literalAutolink:zre,literalAutolinkEmail:TS,literalAutolinkHttp:TS,literalAutolinkWww:TS},exit:{literalAutolink:Yre,literalAutolinkEmail:Wre,literalAutolinkHttp:Gre,literalAutolinkWww:qre}}}function Hre(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:vS,notInConstruct:SS},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:vS,notInConstruct:SS},{character:":",before:"[ps]",after:"\\/",inConstruct:vS,notInConstruct:SS}]}}function zre(e){this.enter({type:"link",title:null,url:"",children:[]},e)}function TS(e){this.config.enter.autolinkProtocol.call(this,e)}function Gre(e){this.config.exit.autolinkProtocol.call(this,e)}function qre(e){this.config.exit.data.call(this,e);const t=this.stack[this.stack.length-1];t.type,t.url="http://"+this.sliceSerialize(e)}function Wre(e){this.config.exit.autolinkEmail.call(this,e)}function Yre(e){this.exit(e)}function Vre(e){jre(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,Kre],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),Qre]],{ignore:["link","linkReference"]})}function Kre(e,t,r,n,a){let i="";if(!jj(a)||(/^w/i.test(t)&&(r=t+r,t="",i="http://"),!Xre(r)))return!1;const o=Zre(r+n);if(!o[0])return!1;const l={type:"link",title:null,url:i+t+o[0],children:[{type:"text",value:t+o[0]}]};return o[1]?[l,{type:"text",value:o[1]}]:l}function Qre(e,t,r,n){return!jj(n,!0)||/[-\d_]$/.test(r)?!1:{type:"link",title:null,url:"mailto:"+t+"@"+r,children:[{type:"text",value:t+"@"+r}]}}function Xre(e){const t=e.split(".");return!(t.length<2||t[t.length-1]&&(/_/.test(t[t.length-1])||!/[a-zA-Z\d]/.test(t[t.length-1]))||t[t.length-2]&&(/_/.test(t[t.length-2])||!/[a-zA-Z\d]/.test(t[t.length-2])))}function Zre(e){const t=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!t)return[e,void 0];e=e.slice(0,t.index);let r=t[0],n=r.indexOf(")");const a=Rb(e,"(");let i=Rb(e,")");for(;n!==-1&&a>i;)e+=r.slice(0,n+1),r=r.slice(n+1),n=r.indexOf(")"),i++;return[e,r]}function jj(e,t){const r=e.input.charCodeAt(e.index-1);return(e.index===0||fu(r)||Py(r))&&(!t||r!==47)}Fj.peek=one;function Jre(){this.buffer()}function ene(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function tne(){this.buffer()}function rne(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function nne(e){const t=this.resume(),r=this.stack[this.stack.length-1];r.type,r.identifier=co(this.sliceSerialize(e)).toLowerCase(),r.label=t}function ane(e){this.exit(e)}function sne(e){const t=this.resume(),r=this.stack[this.stack.length-1];r.type,r.identifier=co(this.sliceSerialize(e)).toLowerCase(),r.label=t}function ine(e){this.exit(e)}function one(){return"["}function Fj(e,t,r,n){const a=r.createTracker(n);let i=a.move("[^");const o=r.enter("footnoteReference"),l=r.enter("reference");return i+=a.move(r.safe(r.associationId(e),{after:"]",before:i})),l(),o(),i+=a.move("]"),i}function lne(){return{enter:{gfmFootnoteCallString:Jre,gfmFootnoteCall:ene,gfmFootnoteDefinitionLabelString:tne,gfmFootnoteDefinition:rne},exit:{gfmFootnoteCallString:nne,gfmFootnoteCall:ane,gfmFootnoteDefinitionLabelString:sne,gfmFootnoteDefinition:ine}}}function cne(e){let t=!1;return e&&e.firstLineBlank&&(t=!0),{handlers:{footnoteDefinition:r,footnoteReference:Fj},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function r(n,a,i,o){const l=i.createTracker(o);let u=l.move("[^");const d=i.enter("footnoteDefinition"),h=i.enter("label");return u+=l.move(i.safe(i.associationId(n),{before:u,after:"]"})),h(),u+=l.move("]:"),n.children&&n.children.length>0&&(l.shift(4),u+=l.move((t?`
`:" ")+i.indentLines(i.containerFlow(n,l.current()),t?Bj:une))),d(),u}}function une(e,t,r){return t===0?e:Bj(e,t,r)}function Bj(e,t,r){return(r?"":"    ")+e}const dne=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];Uj.peek=fne;function pne(){return{canContainEols:["delete"],enter:{strikethrough:gne},exit:{strikethrough:mne}}}function hne(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:dne}],handlers:{delete:Uj}}}function gne(e){this.enter({type:"delete",children:[]},e)}function mne(e){this.exit(e)}function Uj(e,t,r,n){const a=r.createTracker(n),i=r.enter("strikethrough");let o=a.move("~~");return o+=r.containerPhrasing(e,{...a.current(),before:o,after:"~"}),o+=a.move("~~"),i(),o}function fne(){return"~"}function bne(e){return e.length}function yne(e,t){const r=t||{},n=(r.align||[]).concat(),a=r.stringLength||bne,i=[],o=[],l=[],u=[];let d=0,h=-1;for(;++h<e.length;){const E=[],v=[];let T=-1;for(e[h].length>d&&(d=e[h].length);++T<e[h].length;){const w=xne(e[h][T]);if(r.alignDelimiters!==!1){const N=a(w);v[T]=N,(u[T]===void 0||N>u[T])&&(u[T]=N)}E.push(w)}o[h]=E,l[h]=v}let g=-1;if(typeof n=="object"&&"length"in n)for(;++g<d;)i[g]=nO(n[g]);else{const E=nO(n);for(;++g<d;)i[g]=E}g=-1;const f=[],b=[];for(;++g<d;){const E=i[g];let v="",T="";E===99?(v=":",T=":"):E===108?v=":":E===114&&(T=":");let w=r.alignDelimiters===!1?1:Math.max(1,u[g]-v.length-T.length);const N=v+"-".repeat(w)+T;r.alignDelimiters!==!1&&(w=v.length+w+T.length,w>u[g]&&(u[g]=w),b[g]=w),f[g]=N}o.splice(1,0,f),l.splice(1,0,b),h=-1;const x=[];for(;++h<o.length;){const E=o[h],v=l[h];g=-1;const T=[];for(;++g<d;){const w=E[g]||"";let N="",R="";if(r.alignDelimiters!==!1){const D=u[g]-(v[g]||0),L=i[g];L===114?N=" ".repeat(D):L===99?D%2?(N=" ".repeat(D/2+.5),R=" ".repeat(D/2-.5)):(N=" ".repeat(D/2),R=N):R=" ".repeat(D)}r.delimiterStart!==!1&&!g&&T.push("|"),r.padding!==!1&&!(r.alignDelimiters===!1&&w==="")&&(r.delimiterStart!==!1||g)&&T.push(" "),r.alignDelimiters!==!1&&T.push(N),T.push(w),r.alignDelimiters!==!1&&T.push(R),r.padding!==!1&&T.push(" "),(r.delimiterEnd!==!1||g!==d-1)&&T.push("|")}x.push(r.delimiterEnd===!1?T.join("").replace(/ +$/,""):T.join(""))}return x.join(`
`)}function xne(e){return e==null?"":String(e)}function nO(e){const t=typeof e=="string"?e.codePointAt(0):0;return t===67||t===99?99:t===76||t===108?108:t===82||t===114?114:0}const aO={}.hasOwnProperty;function Uy(e,t){const r=t||{};function n(a,...i){let o=n.invalid;const l=n.handlers;if(a&&aO.call(a,e)){const u=String(a[e]);o=aO.call(l,u)?l[u]:n.unknown}if(o)return o.call(this,a,...i)}return n.handlers=r.handlers||{},n.invalid=r.invalid,n.unknown=r.unknown,n}function Ene(e,t,r,n){const a=r.enter("blockquote"),i=r.createTracker(n);i.move("> "),i.shift(2);const o=r.indentLines(r.containerFlow(e,i.current()),vne);return a(),o}function vne(e,t,r){return">"+(r?"":" ")+e}function Sne(e,t){return sO(e,t.inConstruct,!0)&&!sO(e,t.notInConstruct,!1)}function sO(e,t,r){if(typeof t=="string"&&(t=[t]),!t||t.length===0)return r;let n=-1;for(;++n<t.length;)if(e.includes(t[n]))return!0;return!1}function iO(e,t,r,n){let a=-1;for(;++a<r.unsafe.length;)if(r.unsafe[a].character===`
`&&Sne(r.stack,r.unsafe[a]))return/[ \t]/.test(n.before)?"":" ";return`\\
`}function Tne(e,t){const r=String(e);let n=r.indexOf(t),a=n,i=0,o=0;if(typeof t!="string")throw new TypeError("Expected substring");for(;n!==-1;)n===a?++i>o&&(o=i):i=1,a=n+t.length,n=r.indexOf(t,a);return o}function wne(e,t){return!!(t.options.fences===!1&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}function kne(e){const t=e.options.fence||"`";if(t!=="`"&&t!=="~")throw new Error("Cannot serialize code with `"+t+"` for `options.fence`, expected `` ` `` or `~`");return t}function Cne(e,t,r,n){const a=kne(r),i=e.value||"",o=a==="`"?"GraveAccent":"Tilde";if(wne(e,r)){const g=r.enter("codeIndented"),f=r.indentLines(i,_ne);return g(),f}const l=r.createTracker(n),u=a.repeat(Math.max(Tne(i,a)+1,3)),d=r.enter("codeFenced");let h=l.move(u);if(e.lang){const g=r.enter(`codeFencedLang${o}`);h+=l.move(r.safe(e.lang,{before:h,after:" ",encode:["`"],...l.current()})),g()}if(e.lang&&e.meta){const g=r.enter(`codeFencedMeta${o}`);h+=l.move(" "),h+=l.move(r.safe(e.meta,{before:h,after:`
`,encode:["`"],...l.current()})),g()}return h+=l.move(`
`),i&&(h+=l.move(i+`
`)),h+=l.move(u),d(),h}function _ne(e,t,r){return(r?"":"    ")+e}function qw(e){const t=e.options.quote||'"';if(t!=='"'&&t!=="'")throw new Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}function Ane(e,t,r,n){const a=qw(r),i=a==='"'?"Quote":"Apostrophe",o=r.enter("definition");let l=r.enter("label");const u=r.createTracker(n);let d=u.move("[");return d+=u.move(r.safe(r.associationId(e),{before:d,after:"]",...u.current()})),d+=u.move("]: "),l(),!e.url||/[\0- \u007F]/.test(e.url)?(l=r.enter("destinationLiteral"),d+=u.move("<"),d+=u.move(r.safe(e.url,{before:d,after:">",...u.current()})),d+=u.move(">")):(l=r.enter("destinationRaw"),d+=u.move(r.safe(e.url,{before:d,after:e.title?" ":`
`,...u.current()}))),l(),e.title&&(l=r.enter(`title${i}`),d+=u.move(" "+a),d+=u.move(r.safe(e.title,{before:d,after:a,...u.current()})),d+=u.move(a),l()),o(),d}function Nne(e){const t=e.options.emphasis||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize emphasis with `"+t+"` for `options.emphasis`, expected `*`, or `_`");return t}function sm(e){return"&#x"+e.toString(16).toUpperCase()+";"}function Db(e,t,r){const n=dp(e),a=dp(t);return n===void 0?a===void 0?r==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:a===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:n===1?a===void 0?{inside:!1,outside:!1}:a===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:a===void 0?{inside:!1,outside:!1}:a===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}$j.peek=Ine;function $j(e,t,r,n){const a=Nne(r),i=r.enter("emphasis"),o=r.createTracker(n),l=o.move(a);let u=o.move(r.containerPhrasing(e,{after:a,before:l,...o.current()}));const d=u.charCodeAt(0),h=Db(n.before.charCodeAt(n.before.length-1),d,a);h.inside&&(u=sm(d)+u.slice(1));const g=u.charCodeAt(u.length-1),f=Db(n.after.charCodeAt(0),g,a);f.inside&&(u=u.slice(0,-1)+sm(g));const b=o.move(a);return i(),r.attentionEncodeSurroundingInfo={after:f.outside,before:h.outside},l+u+b}function Ine(e,t,r){return r.options.emphasis||"*"}function Rne(e,t){let r=!1;return Ja(e,function(n){if("value"in n&&/\r?\n|\r/.test(n.value)||n.type==="break")return r=!0,Ib}),!!((!e.depth||e.depth<3)&&jw(e)&&(t.options.setext||r))}function Dne(e,t,r,n){const a=Math.max(Math.min(6,e.depth||1),1),i=r.createTracker(n);if(Rne(e,r)){const h=r.enter("headingSetext"),g=r.enter("phrasing"),f=r.containerPhrasing(e,{...i.current(),before:`
`,after:`
`});return g(),h(),f+`
`+(a===1?"=":"-").repeat(f.length-(Math.max(f.lastIndexOf("\r"),f.lastIndexOf(`
`))+1))}const o="#".repeat(a),l=r.enter("headingAtx"),u=r.enter("phrasing");i.move(o+" ");let d=r.containerPhrasing(e,{before:"# ",after:`
`,...i.current()});return/^[\t ]/.test(d)&&(d=sm(d.charCodeAt(0))+d.slice(1)),d=d?o+" "+d:o,r.options.closeAtx&&(d+=" "+o),u(),l(),d}Hj.peek=Lne;function Hj(e){return e.value||""}function Lne(){return"<"}zj.peek=One;function zj(e,t,r,n){const a=qw(r),i=a==='"'?"Quote":"Apostrophe",o=r.enter("image");let l=r.enter("label");const u=r.createTracker(n);let d=u.move("![");return d+=u.move(r.safe(e.alt,{before:d,after:"]",...u.current()})),d+=u.move("]("),l(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(l=r.enter("destinationLiteral"),d+=u.move("<"),d+=u.move(r.safe(e.url,{before:d,after:">",...u.current()})),d+=u.move(">")):(l=r.enter("destinationRaw"),d+=u.move(r.safe(e.url,{before:d,after:e.title?" ":")",...u.current()}))),l(),e.title&&(l=r.enter(`title${i}`),d+=u.move(" "+a),d+=u.move(r.safe(e.title,{before:d,after:a,...u.current()})),d+=u.move(a),l()),d+=u.move(")"),o(),d}function One(){return"!"}Gj.peek=Mne;function Gj(e,t,r,n){const a=e.referenceType,i=r.enter("imageReference");let o=r.enter("label");const l=r.createTracker(n);let u=l.move("![");const d=r.safe(e.alt,{before:u,after:"]",...l.current()});u+=l.move(d+"]["),o();const h=r.stack;r.stack=[],o=r.enter("reference");const g=r.safe(r.associationId(e),{before:u,after:"]",...l.current()});return o(),r.stack=h,i(),a==="full"||!d||d!==g?u+=l.move(g+"]"):a==="shortcut"?u=u.slice(0,-1):u+=l.move("]"),u}function Mne(){return"!"}qj.peek=Pne;function qj(e,t,r){let n=e.value||"",a="`",i=-1;for(;new RegExp("(^|[^`])"+a+"([^`]|$)").test(n);)a+="`";for(/[^ \r\n]/.test(n)&&(/^[ \r\n]/.test(n)&&/[ \r\n]$/.test(n)||/^`|`$/.test(n))&&(n=" "+n+" ");++i<r.unsafe.length;){const o=r.unsafe[i],l=r.compilePattern(o);let u;if(o.atBreak)for(;u=l.exec(n);){let d=u.index;n.charCodeAt(d)===10&&n.charCodeAt(d-1)===13&&d--,n=n.slice(0,d)+" "+n.slice(u.index+1)}}return a+n+a}function Pne(){return"`"}function Wj(e,t){const r=jw(e);return!!(!t.options.resourceLink&&e.url&&!e.title&&e.children&&e.children.length===1&&e.children[0].type==="text"&&(r===e.url||"mailto:"+r===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}Yj.peek=jne;function Yj(e,t,r,n){const a=qw(r),i=a==='"'?"Quote":"Apostrophe",o=r.createTracker(n);let l,u;if(Wj(e,r)){const h=r.stack;r.stack=[],l=r.enter("autolink");let g=o.move("<");return g+=o.move(r.containerPhrasing(e,{before:g,after:">",...o.current()})),g+=o.move(">"),l(),r.stack=h,g}l=r.enter("link"),u=r.enter("label");let d=o.move("[");return d+=o.move(r.containerPhrasing(e,{before:d,after:"](",...o.current()})),d+=o.move("]("),u(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(u=r.enter("destinationLiteral"),d+=o.move("<"),d+=o.move(r.safe(e.url,{before:d,after:">",...o.current()})),d+=o.move(">")):(u=r.enter("destinationRaw"),d+=o.move(r.safe(e.url,{before:d,after:e.title?" ":")",...o.current()}))),u(),e.title&&(u=r.enter(`title${i}`),d+=o.move(" "+a),d+=o.move(r.safe(e.title,{before:d,after:a,...o.current()})),d+=o.move(a),u()),d+=o.move(")"),l(),d}function jne(e,t,r){return Wj(e,r)?"<":"["}Vj.peek=Fne;function Vj(e,t,r,n){const a=e.referenceType,i=r.enter("linkReference");let o=r.enter("label");const l=r.createTracker(n);let u=l.move("[");const d=r.containerPhrasing(e,{before:u,after:"]",...l.current()});u+=l.move(d+"]["),o();const h=r.stack;r.stack=[],o=r.enter("reference");const g=r.safe(r.associationId(e),{before:u,after:"]",...l.current()});return o(),r.stack=h,i(),a==="full"||!d||d!==g?u+=l.move(g+"]"):a==="shortcut"?u=u.slice(0,-1):u+=l.move("]"),u}function Fne(){return"["}function Ww(e){const t=e.options.bullet||"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}function Bne(e){const t=Ww(e),r=e.options.bulletOther;if(!r)return t==="*"?"-":"*";if(r!=="*"&&r!=="+"&&r!=="-")throw new Error("Cannot serialize items with `"+r+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(r===t)throw new Error("Expected `bullet` (`"+t+"`) and `bulletOther` (`"+r+"`) to be different");return r}function Une(e){const t=e.options.bulletOrdered||".";if(t!=="."&&t!==")")throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOrdered`, expected `.` or `)`");return t}function Kj(e){const t=e.options.rule||"*";if(t!=="*"&&t!=="-"&&t!=="_")throw new Error("Cannot serialize rules with `"+t+"` for `options.rule`, expected `*`, `-`, or `_`");return t}function $ne(e,t,r,n){const a=r.enter("list"),i=r.bulletCurrent;let o=e.ordered?Une(r):Ww(r);const l=e.ordered?o==="."?")":".":Bne(r);let u=t&&r.bulletLastUsed?o===r.bulletLastUsed:!1;if(!e.ordered){const h=e.children?e.children[0]:void 0;if((o==="*"||o==="-")&&h&&(!h.children||!h.children[0])&&r.stack[r.stack.length-1]==="list"&&r.stack[r.stack.length-2]==="listItem"&&r.stack[r.stack.length-3]==="list"&&r.stack[r.stack.length-4]==="listItem"&&r.indexStack[r.indexStack.length-1]===0&&r.indexStack[r.indexStack.length-2]===0&&r.indexStack[r.indexStack.length-3]===0&&(u=!0),Kj(r)===o&&h){let g=-1;for(;++g<e.children.length;){const f=e.children[g];if(f&&f.type==="listItem"&&f.children&&f.children[0]&&f.children[0].type==="thematicBreak"){u=!0;break}}}}u&&(o=l),r.bulletCurrent=o;const d=r.containerFlow(e,n);return r.bulletLastUsed=o,r.bulletCurrent=i,a(),d}function Hne(e){const t=e.options.listItemIndent||"one";if(t!=="tab"&&t!=="one"&&t!=="mixed")throw new Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}function zne(e,t,r,n){const a=Hne(r);let i=r.bulletCurrent||Ww(r);t&&t.type==="list"&&t.ordered&&(i=(typeof t.start=="number"&&t.start>-1?t.start:1)+(r.options.incrementListMarker===!1?0:t.children.indexOf(e))+i);let o=i.length+1;(a==="tab"||a==="mixed"&&(t&&t.type==="list"&&t.spread||e.spread))&&(o=Math.ceil(o/4)*4);const l=r.createTracker(n);l.move(i+" ".repeat(o-i.length)),l.shift(o);const u=r.enter("listItem"),d=r.indentLines(r.containerFlow(e,l.current()),h);return u(),d;function h(g,f,b){return f?(b?"":" ".repeat(o))+g:(b?i:i+" ".repeat(o-i.length))+g}}function Gne(e,t,r,n){const a=r.enter("paragraph"),i=r.enter("phrasing"),o=r.containerPhrasing(e,n);return i(),a(),o}const qne=Rp(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function Wne(e,t,r,n){return(e.children.some(function(o){return qne(o)})?r.containerPhrasing:r.containerFlow).call(r,e,n)}function Yne(e){const t=e.options.strong||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize strong with `"+t+"` for `options.strong`, expected `*`, or `_`");return t}Qj.peek=Vne;function Qj(e,t,r,n){const a=Yne(r),i=r.enter("strong"),o=r.createTracker(n),l=o.move(a+a);let u=o.move(r.containerPhrasing(e,{after:a,before:l,...o.current()}));const d=u.charCodeAt(0),h=Db(n.before.charCodeAt(n.before.length-1),d,a);h.inside&&(u=sm(d)+u.slice(1));const g=u.charCodeAt(u.length-1),f=Db(n.after.charCodeAt(0),g,a);f.inside&&(u=u.slice(0,-1)+sm(g));const b=o.move(a+a);return i(),r.attentionEncodeSurroundingInfo={after:f.outside,before:h.outside},l+u+b}function Vne(e,t,r){return r.options.strong||"*"}function Kne(e,t,r,n){return r.safe(e.value,n)}function Qne(e){const t=e.options.ruleRepetition||3;if(t<3)throw new Error("Cannot serialize rules with repetition `"+t+"` for `options.ruleRepetition`, expected `3` or more");return t}function Xne(e,t,r){const n=(Kj(r)+(r.options.ruleSpaces?" ":"")).repeat(Qne(r));return r.options.ruleSpaces?n.slice(0,-1):n}const Xj={blockquote:Ene,break:iO,code:Cne,definition:Ane,emphasis:$j,hardBreak:iO,heading:Dne,html:Hj,image:zj,imageReference:Gj,inlineCode:qj,link:Yj,linkReference:Vj,list:$ne,listItem:zne,paragraph:Gne,root:Wne,strong:Qj,text:Kne,thematicBreak:Xne};function Zne(){return{enter:{table:Jne,tableData:oO,tableHeader:oO,tableRow:tae},exit:{codeText:rae,table:eae,tableData:wS,tableHeader:wS,tableRow:wS}}}function Jne(e){const t=e._align;this.enter({type:"table",align:t.map(function(r){return r==="none"?null:r}),children:[]},e),this.data.inTable=!0}function eae(e){this.exit(e),this.data.inTable=void 0}function tae(e){this.enter({type:"tableRow",children:[]},e)}function wS(e){this.exit(e)}function oO(e){this.enter({type:"tableCell",children:[]},e)}function rae(e){let t=this.resume();this.data.inTable&&(t=t.replace(/\\([\\|])/g,nae));const r=this.stack[this.stack.length-1];r.type,r.value=t,this.exit(e)}function nae(e,t){return t==="|"?t:e}function aae(e){const t=e||{},r=t.tableCellPadding,n=t.tablePipeAlign,a=t.stringLength,i=r?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:f,table:o,tableCell:u,tableRow:l}};function o(b,x,E,v){return d(h(b,E,v),b.align)}function l(b,x,E,v){const T=g(b,E,v),w=d([T]);return w.slice(0,w.indexOf(`
`))}function u(b,x,E,v){const T=E.enter("tableCell"),w=E.enter("phrasing"),N=E.containerPhrasing(b,{...v,before:i,after:i});return w(),T(),N}function d(b,x){return yne(b,{align:x,alignDelimiters:n,padding:r,stringLength:a})}function h(b,x,E){const v=b.children;let T=-1;const w=[],N=x.enter("table");for(;++T<v.length;)w[T]=g(v[T],x,E);return N(),w}function g(b,x,E){const v=b.children;let T=-1;const w=[],N=x.enter("tableRow");for(;++T<v.length;)w[T]=u(v[T],b,x,E);return N(),w}function f(b,x,E){let v=Xj.inlineCode(b,x,E);return E.stack.includes("tableCell")&&(v=v.replace(/\|/g,"\\$&")),v}}function sae(){return{exit:{taskListCheckValueChecked:lO,taskListCheckValueUnchecked:lO,paragraph:oae}}}function iae(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:lae}}}function lO(e){const t=this.stack[this.stack.length-2];t.type,t.checked=e.type==="taskListCheckValueChecked"}function oae(e){const t=this.stack[this.stack.length-2];if(t&&t.type==="listItem"&&typeof t.checked=="boolean"){const r=this.stack[this.stack.length-1];r.type;const n=r.children[0];if(n&&n.type==="text"){const a=t.children;let i=-1,o;for(;++i<a.length;){const l=a[i];if(l.type==="paragraph"){o=l;break}}o===r&&(n.value=n.value.slice(1),n.value.length===0?r.children.shift():r.position&&n.position&&typeof n.position.start.offset=="number"&&(n.position.start.column++,n.position.start.offset++,r.position.start=Object.assign({},n.position.start)))}}this.exit(e)}function lae(e,t,r,n){const a=e.children[0],i=typeof e.checked=="boolean"&&a&&a.type==="paragraph",o="["+(e.checked?"x":" ")+"] ",l=r.createTracker(n);i&&l.move(o);let u=Xj.listItem(e,t,r,{...n,...l.current()});return i&&(u=u.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,d)),u;function d(h){return h+o}}function cae(){return[$re(),lne(),pne(),Zne(),sae()]}function uae(e){return{extensions:[Hre(),cne(e),hne(),aae(e),iae()]}}const dae={tokenize:bae,partial:!0},Zj={tokenize:yae,partial:!0},Jj={tokenize:xae,partial:!0},e5={tokenize:Eae,partial:!0},pae={tokenize:vae,partial:!0},t5={name:"wwwAutolink",tokenize:mae,previous:n5},r5={name:"protocolAutolink",tokenize:fae,previous:a5},Rl={name:"emailAutolink",tokenize:gae,previous:s5},Yo={};function hae(){return{text:Yo}}let Yc=48;for(;Yc<123;)Yo[Yc]=Rl,Yc++,Yc===58?Yc=65:Yc===91&&(Yc=97);Yo[43]=Rl;Yo[45]=Rl;Yo[46]=Rl;Yo[95]=Rl;Yo[72]=[Rl,r5];Yo[104]=[Rl,r5];Yo[87]=[Rl,t5];Yo[119]=[Rl,t5];function gae(e,t,r){const n=this;let a,i;return o;function o(g){return!X1(g)||!s5.call(n,n.previous)||Yw(n.events)?r(g):(e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),l(g))}function l(g){return X1(g)?(e.consume(g),l):g===64?(e.consume(g),u):r(g)}function u(g){return g===46?e.check(pae,h,d)(g):g===45||g===95||ds(g)?(i=!0,e.consume(g),u):h(g)}function d(g){return e.consume(g),a=!0,u}function h(g){return i&&a&&Ns(n.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),t(g)):r(g)}}function mae(e,t,r){const n=this;return a;function a(o){return o!==87&&o!==119||!n5.call(n,n.previous)||Yw(n.events)?r(o):(e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(dae,e.attempt(Zj,e.attempt(Jj,i),r),r)(o))}function i(o){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),t(o)}}function fae(e,t,r){const n=this;let a="",i=!1;return o;function o(g){return(g===72||g===104)&&a5.call(n,n.previous)&&!Yw(n.events)?(e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),a+=String.fromCodePoint(g),e.consume(g),l):r(g)}function l(g){if(Ns(g)&&a.length<5)return a+=String.fromCodePoint(g),e.consume(g),l;if(g===58){const f=a.toLowerCase();if(f==="http"||f==="https")return e.consume(g),u}return r(g)}function u(g){return g===47?(e.consume(g),i?d:(i=!0,u)):r(g)}function d(g){return g===null||Ab(g)||Fn(g)||fu(g)||Py(g)?r(g):e.attempt(Zj,e.attempt(Jj,h),r)(g)}function h(g){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),t(g)}}function bae(e,t,r){let n=0;return a;function a(o){return(o===87||o===119)&&n<3?(n++,e.consume(o),a):o===46&&n===3?(e.consume(o),i):r(o)}function i(o){return o===null?r(o):t(o)}}function yae(e,t,r){let n,a,i;return o;function o(d){return d===46||d===95?e.check(e5,u,l)(d):d===null||Fn(d)||fu(d)||d!==45&&Py(d)?u(d):(i=!0,e.consume(d),o)}function l(d){return d===95?n=!0:(a=n,n=void 0),e.consume(d),o}function u(d){return a||n||!i?r(d):t(d)}}function xae(e,t){let r=0,n=0;return a;function a(o){return o===40?(r++,e.consume(o),a):o===41&&n<r?i(o):o===33||o===34||o===38||o===39||o===41||o===42||o===44||o===46||o===58||o===59||o===60||o===63||o===93||o===95||o===126?e.check(e5,t,i)(o):o===null||Fn(o)||fu(o)?t(o):(e.consume(o),a)}function i(o){return o===41&&n++,e.consume(o),a}}function Eae(e,t,r){return n;function n(l){return l===33||l===34||l===39||l===41||l===42||l===44||l===46||l===58||l===59||l===63||l===95||l===126?(e.consume(l),n):l===38?(e.consume(l),i):l===93?(e.consume(l),a):l===60||l===null||Fn(l)||fu(l)?t(l):r(l)}function a(l){return l===null||l===40||l===91||Fn(l)||fu(l)?t(l):n(l)}function i(l){return Ns(l)?o(l):r(l)}function o(l){return l===59?(e.consume(l),n):Ns(l)?(e.consume(l),o):r(l)}}function vae(e,t,r){return n;function n(i){return e.consume(i),a}function a(i){return ds(i)?r(i):t(i)}}function n5(e){return e===null||e===40||e===42||e===95||e===91||e===93||e===126||Fn(e)}function a5(e){return!Ns(e)}function s5(e){return!(e===47||X1(e))}function X1(e){return e===43||e===45||e===46||e===95||ds(e)}function Yw(e){let t=e.length,r=!1;for(;t--;){const n=e[t][1];if((n.type==="labelLink"||n.type==="labelImage")&&!n._balanced){r=!0;break}if(n._gfmAutolinkLiteralWalkedInto){r=!1;break}}return e.length>0&&!r&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),r}const Sae={tokenize:Iae,partial:!0};function Tae(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:_ae,continuation:{tokenize:Aae},exit:Nae}},text:{91:{name:"gfmFootnoteCall",tokenize:Cae},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:wae,resolveTo:kae}}}}function wae(e,t,r){const n=this;let a=n.events.length;const i=n.parser.gfmFootnotes||(n.parser.gfmFootnotes=[]);let o;for(;a--;){const u=n.events[a][1];if(u.type==="labelImage"){o=u;break}if(u.type==="gfmFootnoteCall"||u.type==="labelLink"||u.type==="label"||u.type==="image"||u.type==="link")break}return l;function l(u){if(!o||!o._balanced)return r(u);const d=co(n.sliceSerialize({start:o.end,end:n.now()}));return d.codePointAt(0)!==94||!i.includes(d.slice(1))?r(u):(e.enter("gfmFootnoteCallLabelMarker"),e.consume(u),e.exit("gfmFootnoteCallLabelMarker"),t(u))}}function kae(e,t){let r=e.length;for(;r--;)if(e[r][1].type==="labelImage"&&e[r][0]==="enter"){e[r][1];break}e[r+1][1].type="data",e[r+3][1].type="gfmFootnoteCallLabelMarker";const n={type:"gfmFootnoteCall",start:Object.assign({},e[r+3][1].start),end:Object.assign({},e[e.length-1][1].end)},a={type:"gfmFootnoteCallMarker",start:Object.assign({},e[r+3][1].end),end:Object.assign({},e[r+3][1].end)};a.end.column++,a.end.offset++,a.end._bufferIndex++;const i={type:"gfmFootnoteCallString",start:Object.assign({},a.end),end:Object.assign({},e[e.length-1][1].start)},o={type:"chunkString",contentType:"string",start:Object.assign({},i.start),end:Object.assign({},i.end)},l=[e[r+1],e[r+2],["enter",n,t],e[r+3],e[r+4],["enter",a,t],["exit",a,t],["enter",i,t],["enter",o,t],["exit",o,t],["exit",i,t],e[e.length-2],e[e.length-1],["exit",n,t]];return e.splice(r,e.length-r+1,...l),e}function Cae(e,t,r){const n=this,a=n.parser.gfmFootnotes||(n.parser.gfmFootnotes=[]);let i=0,o;return l;function l(g){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(g),e.exit("gfmFootnoteCallLabelMarker"),u}function u(g){return g!==94?r(g):(e.enter("gfmFootnoteCallMarker"),e.consume(g),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",d)}function d(g){if(i>999||g===93&&!o||g===null||g===91||Fn(g))return r(g);if(g===93){e.exit("chunkString");const f=e.exit("gfmFootnoteCallString");return a.includes(co(n.sliceSerialize(f)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(g),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),t):r(g)}return Fn(g)||(o=!0),i++,e.consume(g),g===92?h:d}function h(g){return g===91||g===92||g===93?(e.consume(g),i++,d):d(g)}}function _ae(e,t,r){const n=this,a=n.parser.gfmFootnotes||(n.parser.gfmFootnotes=[]);let i,o=0,l;return u;function u(x){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(x),e.exit("gfmFootnoteDefinitionLabelMarker"),d}function d(x){return x===94?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(x),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",h):r(x)}function h(x){if(o>999||x===93&&!l||x===null||x===91||Fn(x))return r(x);if(x===93){e.exit("chunkString");const E=e.exit("gfmFootnoteDefinitionLabelString");return i=co(n.sliceSerialize(E)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(x),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),f}return Fn(x)||(l=!0),o++,e.consume(x),x===92?g:h}function g(x){return x===91||x===92||x===93?(e.consume(x),o++,h):h(x)}function f(x){return x===58?(e.enter("definitionMarker"),e.consume(x),e.exit("definitionMarker"),a.includes(i)||a.push(i),on(e,b,"gfmFootnoteDefinitionWhitespace")):r(x)}function b(x){return t(x)}}function Aae(e,t,r){return e.check(Dm,t,e.attempt(Sae,t,r))}function Nae(e){e.exit("gfmFootnoteDefinition")}function Iae(e,t,r){const n=this;return on(e,a,"gfmFootnoteDefinitionIndent",5);function a(i){const o=n.events[n.events.length-1];return o&&o[1].type==="gfmFootnoteDefinitionIndent"&&o[2].sliceSerialize(o[1],!0).length===4?t(i):r(i)}}function Rae(e){let r=(e||{}).singleTilde;const n={name:"strikethrough",tokenize:i,resolveAll:a};return r==null&&(r=!0),{text:{126:n},insideSpan:{null:[n]},attentionMarkers:{null:[126]}};function a(o,l){let u=-1;for(;++u<o.length;)if(o[u][0]==="enter"&&o[u][1].type==="strikethroughSequenceTemporary"&&o[u][1]._close){let d=u;for(;d--;)if(o[d][0]==="exit"&&o[d][1].type==="strikethroughSequenceTemporary"&&o[d][1]._open&&o[u][1].end.offset-o[u][1].start.offset===o[d][1].end.offset-o[d][1].start.offset){o[u][1].type="strikethroughSequence",o[d][1].type="strikethroughSequence";const h={type:"strikethrough",start:Object.assign({},o[d][1].start),end:Object.assign({},o[u][1].end)},g={type:"strikethroughText",start:Object.assign({},o[d][1].end),end:Object.assign({},o[u][1].start)},f=[["enter",h,l],["enter",o[d][1],l],["exit",o[d][1],l],["enter",g,l]],b=l.parser.constructs.insideSpan.null;b&&Ei(f,f.length,0,jy(b,o.slice(d+1,u),l)),Ei(f,f.length,0,[["exit",g,l],["enter",o[u][1],l],["exit",o[u][1],l],["exit",h,l]]),Ei(o,d-1,u-d+3,f),u=d+f.length-2;break}}for(u=-1;++u<o.length;)o[u][1].type==="strikethroughSequenceTemporary"&&(o[u][1].type="data");return o}function i(o,l,u){const d=this.previous,h=this.events;let g=0;return f;function f(x){return d===126&&h[h.length-1][1].type!=="characterEscape"?u(x):(o.enter("strikethroughSequenceTemporary"),b(x))}function b(x){const E=dp(d);if(x===126)return g>1?u(x):(o.consume(x),g++,b);if(g<2&&!r)return u(x);const v=o.exit("strikethroughSequenceTemporary"),T=dp(x);return v._open=!T||T===2&&!!E,v._close=!E||E===2&&!!T,l(x)}}}class Dae{constructor(){this.map=[]}add(t,r,n){Lae(this,t,r,n)}consume(t){if(this.map.sort(function(i,o){return i[0]-o[0]}),this.map.length===0)return;let r=this.map.length;const n=[];for(;r>0;)r-=1,n.push(t.slice(this.map[r][0]+this.map[r][1]),this.map[r][2]),t.length=this.map[r][0];n.push(t.slice()),t.length=0;let a=n.pop();for(;a;){for(const i of a)t.push(i);a=n.pop()}this.map.length=0}}function Lae(e,t,r,n){let a=0;if(!(r===0&&n.length===0)){for(;a<e.map.length;){if(e.map[a][0]===t){e.map[a][1]+=r,e.map[a][2].push(...n);return}a+=1}e.map.push([t,r,n])}}function Oae(e,t){let r=!1;const n=[];for(;t<e.length;){const a=e[t];if(r){if(a[0]==="enter")a[1].type==="tableContent"&&n.push(e[t+1][1].type==="tableDelimiterMarker"?"left":"none");else if(a[1].type==="tableContent"){if(e[t-1][1].type==="tableDelimiterMarker"){const i=n.length-1;n[i]=n[i]==="left"?"center":"right"}}else if(a[1].type==="tableDelimiterRow")break}else a[0]==="enter"&&a[1].type==="tableDelimiterRow"&&(r=!0);t+=1}return n}function Mae(){return{flow:{null:{name:"table",tokenize:Pae,resolveAll:jae}}}}function Pae(e,t,r){const n=this;let a=0,i=0,o;return l;function l(z){let K=n.events.length-1;for(;K>-1;){const O=n.events[K][1].type;if(O==="lineEnding"||O==="linePrefix")K--;else break}const X=K>-1?n.events[K][1].type:null,Q=X==="tableHead"||X==="tableRow"?L:u;return Q===L&&n.parser.lazy[n.now().line]?r(z):Q(z)}function u(z){return e.enter("tableHead"),e.enter("tableRow"),d(z)}function d(z){return z===124||(o=!0,i+=1),h(z)}function h(z){return z===null?r(z):gr(z)?i>1?(i=0,n.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume(z),e.exit("lineEnding"),b):r(z):Yr(z)?on(e,h,"whitespace")(z):(i+=1,o&&(o=!1,a+=1),z===124?(e.enter("tableCellDivider"),e.consume(z),e.exit("tableCellDivider"),o=!0,h):(e.enter("data"),g(z)))}function g(z){return z===null||z===124||Fn(z)?(e.exit("data"),h(z)):(e.consume(z),z===92?f:g)}function f(z){return z===92||z===124?(e.consume(z),g):g(z)}function b(z){return n.interrupt=!1,n.parser.lazy[n.now().line]?r(z):(e.enter("tableDelimiterRow"),o=!1,Yr(z)?on(e,x,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(z):x(z))}function x(z){return z===45||z===58?v(z):z===124?(o=!0,e.enter("tableCellDivider"),e.consume(z),e.exit("tableCellDivider"),E):D(z)}function E(z){return Yr(z)?on(e,v,"whitespace")(z):v(z)}function v(z){return z===58?(i+=1,o=!0,e.enter("tableDelimiterMarker"),e.consume(z),e.exit("tableDelimiterMarker"),T):z===45?(i+=1,T(z)):z===null||gr(z)?R(z):D(z)}function T(z){return z===45?(e.enter("tableDelimiterFiller"),w(z)):D(z)}function w(z){return z===45?(e.consume(z),w):z===58?(o=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(z),e.exit("tableDelimiterMarker"),N):(e.exit("tableDelimiterFiller"),N(z))}function N(z){return Yr(z)?on(e,R,"whitespace")(z):R(z)}function R(z){return z===124?x(z):z===null||gr(z)?!o||a!==i?D(z):(e.exit("tableDelimiterRow"),e.exit("tableHead"),t(z)):D(z)}function D(z){return r(z)}function L(z){return e.enter("tableRow"),j(z)}function j(z){return z===124?(e.enter("tableCellDivider"),e.consume(z),e.exit("tableCellDivider"),j):z===null||gr(z)?(e.exit("tableRow"),t(z)):Yr(z)?on(e,j,"whitespace")(z):(e.enter("data"),B(z))}function B(z){return z===null||z===124||Fn(z)?(e.exit("data"),j(z)):(e.consume(z),z===92?q:B)}function q(z){return z===92||z===124?(e.consume(z),B):B(z)}}function jae(e,t){let r=-1,n=!0,a=0,i=[0,0,0,0],o=[0,0,0,0],l=!1,u=0,d,h,g;const f=new Dae;for(;++r<e.length;){const b=e[r],x=b[1];b[0]==="enter"?x.type==="tableHead"?(l=!1,u!==0&&(cO(f,t,u,d,h),h=void 0,u=0),d={type:"table",start:Object.assign({},x.start),end:Object.assign({},x.end)},f.add(r,0,[["enter",d,t]])):x.type==="tableRow"||x.type==="tableDelimiterRow"?(n=!0,g=void 0,i=[0,0,0,0],o=[0,r+1,0,0],l&&(l=!1,h={type:"tableBody",start:Object.assign({},x.start),end:Object.assign({},x.end)},f.add(r,0,[["enter",h,t]])),a=x.type==="tableDelimiterRow"?2:h?3:1):a&&(x.type==="data"||x.type==="tableDelimiterMarker"||x.type==="tableDelimiterFiller")?(n=!1,o[2]===0&&(i[1]!==0&&(o[0]=o[1],g=T0(f,t,i,a,void 0,g),i=[0,0,0,0]),o[2]=r)):x.type==="tableCellDivider"&&(n?n=!1:(i[1]!==0&&(o[0]=o[1],g=T0(f,t,i,a,void 0,g)),i=o,o=[i[1],r,0,0])):x.type==="tableHead"?(l=!0,u=r):x.type==="tableRow"||x.type==="tableDelimiterRow"?(u=r,i[1]!==0?(o[0]=o[1],g=T0(f,t,i,a,r,g)):o[1]!==0&&(g=T0(f,t,o,a,r,g)),a=0):a&&(x.type==="data"||x.type==="tableDelimiterMarker"||x.type==="tableDelimiterFiller")&&(o[3]=r)}for(u!==0&&cO(f,t,u,d,h),f.consume(t.events),r=-1;++r<t.events.length;){const b=t.events[r];b[0]==="enter"&&b[1].type==="table"&&(b[1]._align=Oae(t.events,r))}return e}function T0(e,t,r,n,a,i){const o=n===1?"tableHeader":n===2?"tableDelimiter":"tableData",l="tableContent";r[0]!==0&&(i.end=Object.assign({},jd(t.events,r[0])),e.add(r[0],0,[["exit",i,t]]));const u=jd(t.events,r[1]);if(i={type:o,start:Object.assign({},u),end:Object.assign({},u)},e.add(r[1],0,[["enter",i,t]]),r[2]!==0){const d=jd(t.events,r[2]),h=jd(t.events,r[3]),g={type:l,start:Object.assign({},d),end:Object.assign({},h)};if(e.add(r[2],0,[["enter",g,t]]),n!==2){const f=t.events[r[2]],b=t.events[r[3]];if(f[1].end=Object.assign({},b[1].end),f[1].type="chunkText",f[1].contentType="text",r[3]>r[2]+1){const x=r[2]+1,E=r[3]-r[2]-1;e.add(x,E,[])}}e.add(r[3]+1,0,[["exit",g,t]])}return a!==void 0&&(i.end=Object.assign({},jd(t.events,a)),e.add(a,0,[["exit",i,t]]),i=void 0),i}function cO(e,t,r,n,a){const i=[],o=jd(t.events,r);a&&(a.end=Object.assign({},o),i.push(["exit",a,t])),n.end=Object.assign({},o),i.push(["exit",n,t]),e.add(r+1,0,i)}function jd(e,t){const r=e[t],n=r[0]==="enter"?"start":"end";return r[1][n]}const Fae={name:"tasklistCheck",tokenize:Uae};function Bae(){return{text:{91:Fae}}}function Uae(e,t,r){const n=this;return a;function a(u){return n.previous!==null||!n._gfmTasklistFirstContentOfListItem?r(u):(e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(u),e.exit("taskListCheckMarker"),i)}function i(u){return Fn(u)?(e.enter("taskListCheckValueUnchecked"),e.consume(u),e.exit("taskListCheckValueUnchecked"),o):u===88||u===120?(e.enter("taskListCheckValueChecked"),e.consume(u),e.exit("taskListCheckValueChecked"),o):r(u)}function o(u){return u===93?(e.enter("taskListCheckMarker"),e.consume(u),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),l):r(u)}function l(u){return gr(u)?t(u):Yr(u)?e.check({tokenize:$ae},t,r)(u):r(u)}}function $ae(e,t,r){return on(e,n,"whitespace");function n(a){return a===null?r(a):t(a)}}function Hae(e){return gj([hae(),Tae(),Rae(e),Mae(),Bae()])}const zae={};function i5(e){const t=this,r=e||zae,n=t.data(),a=n.micromarkExtensions||(n.micromarkExtensions=[]),i=n.fromMarkdownExtensions||(n.fromMarkdownExtensions=[]),o=n.toMarkdownExtensions||(n.toMarkdownExtensions=[]);a.push(Hae(r)),i.push(cae()),o.push(uae(r))}const uO=/[#.]/g;function Gae(e,t){const r=e||"",n={};let a=0,i,o;for(;a<r.length;){uO.lastIndex=a;const l=uO.exec(r),u=r.slice(a,l?l.index:r.length);u&&(i?i==="#"?n.id=u:Array.isArray(n.className)?n.className.push(u):n.className=[u]:o=u,a+=u.length),l&&(i=l[0],a++)}return{type:"element",tagName:o||t||"div",properties:n,children:[]}}function o5(e,t,r){const n=r?Vae(r):void 0;function a(i,o,...l){let u;if(i==null){u={type:"root",children:[]};const d=o;l.unshift(d)}else{u=Gae(i,t);const d=u.tagName.toLowerCase(),h=n?n.get(d):void 0;if(u.tagName=h||d,qae(o))l.unshift(o);else for(const[g,f]of Object.entries(o))Wae(e,u.properties,g,f)}for(const d of l)Z1(u.children,d);return u.type==="element"&&u.tagName==="template"&&(u.content={type:"root",children:u.children},u.children=[]),u}return a}function qae(e){if(e===null||typeof e!="object"||Array.isArray(e))return!0;if(typeof e.type!="string")return!1;const t=e,r=Object.keys(e);for(const n of r){const a=t[n];if(a&&typeof a=="object"){if(!Array.isArray(a))return!0;const i=a;for(const o of i)if(typeof o!="number"&&typeof o!="string")return!0}}return!!("children"in e&&Array.isArray(e.children))}function Wae(e,t,r,n){const a=Rm(e,r);let i;if(n!=null){if(typeof n=="number"){if(Number.isNaN(n))return;i=n}else typeof n=="boolean"?i=n:typeof n=="string"?a.spaceSeparated?i=tm(n):a.commaSeparated?i=Jg(n):a.commaOrSpaceSeparated?i=tm(Jg(n).join(" ")):i=dO(a,a.property,n):Array.isArray(n)?i=[...n]:i=a.property==="style"?Yae(n):String(n);if(Array.isArray(i)){const o=[];for(const l of i)o.push(dO(a,a.property,l));i=o}a.property==="className"&&Array.isArray(t.className)&&(i=t.className.concat(i)),t[a.property]=i}}function Z1(e,t){if(t!=null)if(typeof t=="number"||typeof t=="string")e.push({type:"text",value:String(t)});else if(Array.isArray(t))for(const r of t)Z1(e,r);else if(typeof t=="object"&&"type"in t)t.type==="root"?Z1(e,t.children):e.push(t);else throw new Error("Expected node, nodes, or string, got `"+t+"`")}function dO(e,t,r){if(typeof r=="string"){if(e.number&&r&&!Number.isNaN(Number(r)))return Number(r);if((e.boolean||e.overloadedBoolean)&&(r===""||em(r)===em(t)))return!0}return r}function Yae(e){const t=[];for(const[r,n]of Object.entries(e))t.push([r,n].join(": "));return t.join("; ")}function Vae(e){const t=new Map;for(const r of e)t.set(r.toLowerCase(),r);return t}const Kae=["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","solidColor","textArea","textPath"],Qae=o5(Np,"div"),Xae=o5(Il,"g",Kae);function Zae(e){const t=String(e),r=[];return{toOffset:a,toPoint:n};function n(i){if(typeof i=="number"&&i>-1&&i<=t.length){let o=0;for(;;){let l=r[o];if(l===void 0){const u=pO(t,r[o-1]);l=u===-1?t.length+1:u+1,r[o]=l}if(l>i)return{line:o+1,column:i-(o>0?r[o-1]:0)+1,offset:i};o++}}}function a(i){if(i&&typeof i.line=="number"&&typeof i.column=="number"&&!Number.isNaN(i.line)&&!Number.isNaN(i.column)){for(;r.length<i.line;){const l=r[r.length-1],u=pO(t,l),d=u===-1?t.length+1:u+1;if(l===d)break;r.push(d)}const o=(i.line>1?r[i.line-2]:0)+i.column-1;if(o<r[i.line-1])return o}}}function pO(e,t){const r=e.indexOf("\r",t),n=e.indexOf(`
`,t);return n===-1?r:r===-1||r+1===n?n:r<n?r:n}const tu={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},l5={}.hasOwnProperty,Jae=Object.prototype;function c5(e,t){const r=t||{};return Vw({file:r.file||void 0,location:!1,schema:r.space==="svg"?Il:Np,verbose:r.verbose||!1},e)}function Vw(e,t){let r;switch(t.nodeName){case"#comment":{const n=t;return r={type:"comment",value:n.data},tb(e,n,r),r}case"#document":case"#document-fragment":{const n=t,a="mode"in n?n.mode==="quirks"||n.mode==="limited-quirks":!1;if(r={type:"root",children:u5(e,t.childNodes),data:{quirksMode:a}},e.file&&e.location){const i=String(e.file),o=Zae(i),l=o.toPoint(0),u=o.toPoint(i.length);r.position={start:l,end:u}}return r}case"#documentType":{const n=t;return r={type:"doctype"},tb(e,n,r),r}case"#text":{const n=t;return r={type:"text",value:n.value},tb(e,n,r),r}default:return r=ese(e,t),r}}function u5(e,t){let r=-1;const n=[];for(;++r<t.length;){const a=Vw(e,t[r]);n.push(a)}return n}function ese(e,t){const r=e.schema;e.schema=t.namespaceURI===tu.svg?Il:Np;let n=-1;const a={};for(;++n<t.attrs.length;){const l=t.attrs[n],u=(l.prefix?l.prefix+":":"")+l.name;l5.call(Jae,u)||(a[u]=l.value)}const o=(e.schema.space==="svg"?Xae:Qae)(t.tagName,a,u5(e,t.childNodes));if(tb(e,t,o),o.tagName==="template"){const l=t,u=l.sourceCodeLocation,d=u&&u.startTag&&Hd(u.startTag),h=u&&u.endTag&&Hd(u.endTag),g=Vw(e,l.content);d&&h&&e.file&&(g.position={start:d.end,end:h.start}),o.content=g}return e.schema=r,o}function tb(e,t,r){if("sourceCodeLocation"in t&&t.sourceCodeLocation&&e.file){const n=tse(e,r,t.sourceCodeLocation);n&&(e.location=!0,r.position=n)}}function tse(e,t,r){const n=Hd(r);if(t.type==="element"){const a=t.children[t.children.length-1];if(n&&!r.endTag&&a&&a.position&&a.position.end&&(n.end=Object.assign({},a.position.end)),e.verbose){const i={};let o;if(r.attrs)for(o in r.attrs)l5.call(r.attrs,o)&&(i[Rm(e.schema,o).property]=Hd(r.attrs[o]));r.startTag;const l=Hd(r.startTag),u=r.endTag?Hd(r.endTag):void 0,d={opening:l};u&&(d.closing=u),d.properties=i,t.data={position:d}}}return n}function Hd(e){const t=hO({line:e.startLine,column:e.startCol,offset:e.startOffset}),r=hO({line:e.endLine,column:e.endCol,offset:e.endOffset});return t||r?{start:t,end:r}:void 0}function hO(e){return e.line&&e.column?e:void 0}let Om=class{constructor(t,r,n){this.property=t,this.normal=r,n&&(this.space=n)}};Om.prototype.property={};Om.prototype.normal={};Om.prototype.space=null;function d5(e,t){const r={},n={};let a=-1;for(;++a<e.length;)Object.assign(r,e[a].property),Object.assign(n,e[a].normal);return new Om(r,n,t)}function J1(e){return e.toLowerCase()}let qi=class{constructor(t,r){this.property=t,this.attribute=r}};qi.prototype.space=null;qi.prototype.boolean=!1;qi.prototype.booleanish=!1;qi.prototype.overloadedBoolean=!1;qi.prototype.number=!1;qi.prototype.commaSeparated=!1;qi.prototype.spaceSeparated=!1;qi.prototype.commaOrSpaceSeparated=!1;qi.prototype.mustUseProperty=!1;qi.prototype.defined=!1;let rse=0;const Lr=Iu(),ka=Iu(),p5=Iu(),vt=Iu(),$n=Iu(),Kd=Iu(),fi=Iu();function Iu(){return 2**++rse}const eT=Object.freeze(Object.defineProperty({__proto__:null,boolean:Lr,booleanish:ka,commaOrSpaceSeparated:fi,commaSeparated:Kd,number:vt,overloadedBoolean:p5,spaceSeparated:$n},Symbol.toStringTag,{value:"Module"})),kS=Object.keys(eT);let Kw=class extends qi{constructor(t,r,n,a){let i=-1;if(super(t,r),gO(this,"space",a),typeof n=="number")for(;++i<kS.length;){const o=kS[i];gO(this,kS[i],(n&eT[o])===eT[o])}}};Kw.prototype.defined=!0;function gO(e,t,r){r&&(e[t]=r)}const nse={}.hasOwnProperty;function Dp(e){const t={},r={};let n;for(n in e.properties)if(nse.call(e.properties,n)){const a=e.properties[n],i=new Kw(n,e.transform(e.attributes||{},n),a,e.space);e.mustUseProperty&&e.mustUseProperty.includes(n)&&(i.mustUseProperty=!0),t[n]=i,r[J1(n)]=n,r[J1(i.attribute)]=n}return new Om(t,r,e.space)}const h5=Dp({space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()},properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}}),g5=Dp({space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()},properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function m5(e,t){return t in e?e[t]:t}function f5(e,t){return m5(e,t.toLowerCase())}const b5=Dp({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:f5,properties:{xmlns:null,xmlnsXLink:null}}),y5=Dp({transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()},properties:{ariaActiveDescendant:null,ariaAtomic:ka,ariaAutoComplete:null,ariaBusy:ka,ariaChecked:ka,ariaColCount:vt,ariaColIndex:vt,ariaColSpan:vt,ariaControls:$n,ariaCurrent:null,ariaDescribedBy:$n,ariaDetails:null,ariaDisabled:ka,ariaDropEffect:$n,ariaErrorMessage:null,ariaExpanded:ka,ariaFlowTo:$n,ariaGrabbed:ka,ariaHasPopup:null,ariaHidden:ka,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:$n,ariaLevel:vt,ariaLive:null,ariaModal:ka,ariaMultiLine:ka,ariaMultiSelectable:ka,ariaOrientation:null,ariaOwns:$n,ariaPlaceholder:null,ariaPosInSet:vt,ariaPressed:ka,ariaReadOnly:ka,ariaRelevant:null,ariaRequired:ka,ariaRoleDescription:$n,ariaRowCount:vt,ariaRowIndex:vt,ariaRowSpan:vt,ariaSelected:ka,ariaSetSize:vt,ariaSort:null,ariaValueMax:vt,ariaValueMin:vt,ariaValueNow:vt,ariaValueText:null,role:null}}),ase=Dp({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:f5,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Kd,acceptCharset:$n,accessKey:$n,action:null,allow:null,allowFullScreen:Lr,allowPaymentRequest:Lr,allowUserMedia:Lr,alt:null,as:null,async:Lr,autoCapitalize:null,autoComplete:$n,autoFocus:Lr,autoPlay:Lr,blocking:$n,capture:null,charSet:null,checked:Lr,cite:null,className:$n,cols:vt,colSpan:null,content:null,contentEditable:ka,controls:Lr,controlsList:$n,coords:vt|Kd,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Lr,defer:Lr,dir:null,dirName:null,disabled:Lr,download:p5,draggable:ka,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Lr,formTarget:null,headers:$n,height:vt,hidden:Lr,high:vt,href:null,hrefLang:null,htmlFor:$n,httpEquiv:$n,id:null,imageSizes:null,imageSrcSet:null,inert:Lr,inputMode:null,integrity:null,is:null,isMap:Lr,itemId:null,itemProp:$n,itemRef:$n,itemScope:Lr,itemType:$n,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Lr,low:vt,manifest:null,max:null,maxLength:vt,media:null,method:null,min:null,minLength:vt,multiple:Lr,muted:Lr,name:null,nonce:null,noModule:Lr,noValidate:Lr,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Lr,optimum:vt,pattern:null,ping:$n,placeholder:null,playsInline:Lr,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Lr,referrerPolicy:null,rel:$n,required:Lr,reversed:Lr,rows:vt,rowSpan:vt,sandbox:$n,scope:null,scoped:Lr,seamless:Lr,selected:Lr,shadowRootClonable:Lr,shadowRootDelegatesFocus:Lr,shadowRootMode:null,shape:null,size:vt,sizes:null,slot:null,span:vt,spellCheck:ka,src:null,srcDoc:null,srcLang:null,srcSet:null,start:vt,step:null,style:null,tabIndex:vt,target:null,title:null,translate:null,type:null,typeMustMatch:Lr,useMap:null,value:ka,width:vt,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:$n,axis:null,background:null,bgColor:null,border:vt,borderColor:null,bottomMargin:vt,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Lr,declare:Lr,event:null,face:null,frame:null,frameBorder:null,hSpace:vt,leftMargin:vt,link:null,longDesc:null,lowSrc:null,marginHeight:vt,marginWidth:vt,noResize:Lr,noHref:Lr,noShade:Lr,noWrap:Lr,object:null,profile:null,prompt:null,rev:null,rightMargin:vt,rules:null,scheme:null,scrolling:ka,standby:null,summary:null,text:null,topMargin:vt,valueType:null,version:null,vAlign:null,vLink:null,vSpace:vt,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Lr,disableRemotePlayback:Lr,prefix:null,property:null,results:vt,security:null,unselectable:null}}),sse=Dp({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:m5,properties:{about:fi,accentHeight:vt,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:vt,amplitude:vt,arabicForm:null,ascent:vt,attributeName:null,attributeType:null,azimuth:vt,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:vt,by:null,calcMode:null,capHeight:vt,className:$n,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:vt,diffuseConstant:vt,direction:null,display:null,dur:null,divisor:vt,dominantBaseline:null,download:Lr,dx:null,dy:null,edgeMode:null,editable:null,elevation:vt,enableBackground:null,end:null,event:null,exponent:vt,externalResourcesRequired:null,fill:null,fillOpacity:vt,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Kd,g2:Kd,glyphName:Kd,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:vt,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:vt,horizOriginX:vt,horizOriginY:vt,id:null,ideographic:vt,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:vt,k:vt,k1:vt,k2:vt,k3:vt,k4:vt,kernelMatrix:fi,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:vt,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:vt,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:vt,overlineThickness:vt,paintOrder:null,panose1:null,path:null,pathLength:vt,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:$n,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:vt,pointsAtY:vt,pointsAtZ:vt,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:fi,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:fi,rev:fi,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:fi,requiredFeatures:fi,requiredFonts:fi,requiredFormats:fi,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:vt,specularExponent:vt,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:vt,strikethroughThickness:vt,string:null,stroke:null,strokeDashArray:fi,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:vt,strokeOpacity:vt,strokeWidth:null,style:null,surfaceScale:vt,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:fi,tabIndex:vt,tableValues:null,target:null,targetX:vt,targetY:vt,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:fi,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:vt,underlineThickness:vt,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:vt,values:null,vAlphabetic:vt,vMathematical:vt,vectorEffect:null,vHanging:vt,vIdeographic:vt,version:null,vertAdvY:vt,vertOriginX:vt,vertOriginY:vt,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:vt,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}}),ise=/^data[-\w.:]+$/i,mO=/-[a-z]/g,ose=/[A-Z]/g;function lse(e,t){const r=J1(t);let n=t,a=qi;if(r in e.normal)return e.property[e.normal[r]];if(r.length>4&&r.slice(0,4)==="data"&&ise.test(t)){if(t.charAt(4)==="-"){const i=t.slice(5).replace(mO,use);n="data"+i.charAt(0).toUpperCase()+i.slice(1)}else{const i=t.slice(4);if(!mO.test(i)){let o=i.replace(ose,cse);o.charAt(0)!=="-"&&(o="-"+o),t="data"+o}}a=Kw}return new a(n,t)}function cse(e){return"-"+e.toLowerCase()}function use(e){return e.charAt(1).toUpperCase()}const dse=d5([g5,h5,b5,y5,ase],"html"),x5=d5([g5,h5,b5,y5,sse],"svg"),pse={},hse={}.hasOwnProperty,E5=Uy("type",{handlers:{root:mse,element:Ese,text:yse,comment:xse,doctype:bse}});function gse(e,t){const n=(t||pse).space;return E5(e,n==="svg"?x5:dse)}function mse(e,t){const r={nodeName:"#document",mode:(e.data||{}).quirksMode?"quirks":"no-quirks",childNodes:[]};return r.childNodes=Qw(e.children,r,t),Lp(e,r),r}function fse(e,t){const r={nodeName:"#document-fragment",childNodes:[]};return r.childNodes=Qw(e.children,r,t),Lp(e,r),r}function bse(e){const t={nodeName:"#documentType",name:"html",publicId:"",systemId:"",parentNode:null};return Lp(e,t),t}function yse(e){const t={nodeName:"#text",value:e.value,parentNode:null};return Lp(e,t),t}function xse(e){const t={nodeName:"#comment",data:e.value,parentNode:null};return Lp(e,t),t}function Ese(e,t){const r=t;let n=r;e.type==="element"&&e.tagName.toLowerCase()==="svg"&&r.space==="html"&&(n=x5);const a=[];let i;if(e.properties){for(i in e.properties)if(i!=="children"&&hse.call(e.properties,i)){const u=vse(n,i,e.properties[i]);u&&a.push(u)}}const o=n.space,l={nodeName:e.tagName,tagName:e.tagName,attrs:a,namespaceURI:tu[o],childNodes:[],parentNode:null};return l.childNodes=Qw(e.children,l,n),Lp(e,l),e.tagName==="template"&&e.content&&(l.content=fse(e.content,n)),l}function vse(e,t,r){const n=lse(e,t);if(r===!1||r===null||r===void 0||typeof r=="number"&&Number.isNaN(r)||!r&&n.boolean)return;Array.isArray(r)&&(r=n.commaSeparated?Ly(r):Oy(r));const a={name:n.attribute,value:r===!0?"":String(r)};if(n.space&&n.space!=="html"&&n.space!=="svg"){const i=a.name.indexOf(":");i<0?a.prefix="":(a.name=a.name.slice(i+1),a.prefix=n.attribute.slice(0,i)),a.namespace=tu[n.space]}return a}function Qw(e,t,r){let n=-1;const a=[];if(e)for(;++n<e.length;){const i=E5(e[n],r);i.parentNode=t,a.push(i)}return a}function Lp(e,t){const r=e.position;r&&r.start&&r.end&&(r.start.offset,r.end.offset,t.sourceCodeLocation={startLine:r.start.line,startCol:r.start.column,startOffset:r.start.offset,endLine:r.end.line,endCol:r.end.column,endOffset:r.end.offset})}const v5=["area","base","basefont","bgsound","br","col","command","embed","frame","hr","image","img","input","keygen","link","meta","param","source","track","wbr"],Sse=new Set([65534,65535,131070,131071,196606,196607,262142,262143,327678,327679,393214,393215,458750,458751,524286,524287,589822,589823,655358,655359,720894,720895,786430,786431,851966,851967,917502,917503,983038,983039,1048574,1048575,1114110,1114111]),Zn="";var te;(function(e){e[e.EOF=-1]="EOF",e[e.NULL=0]="NULL",e[e.TABULATION=9]="TABULATION",e[e.CARRIAGE_RETURN=13]="CARRIAGE_RETURN",e[e.LINE_FEED=10]="LINE_FEED",e[e.FORM_FEED=12]="FORM_FEED",e[e.SPACE=32]="SPACE",e[e.EXCLAMATION_MARK=33]="EXCLAMATION_MARK",e[e.QUOTATION_MARK=34]="QUOTATION_MARK",e[e.AMPERSAND=38]="AMPERSAND",e[e.APOSTROPHE=39]="APOSTROPHE",e[e.HYPHEN_MINUS=45]="HYPHEN_MINUS",e[e.SOLIDUS=47]="SOLIDUS",e[e.DIGIT_0=48]="DIGIT_0",e[e.DIGIT_9=57]="DIGIT_9",e[e.SEMICOLON=59]="SEMICOLON",e[e.LESS_THAN_SIGN=60]="LESS_THAN_SIGN",e[e.EQUALS_SIGN=61]="EQUALS_SIGN",e[e.GREATER_THAN_SIGN=62]="GREATER_THAN_SIGN",e[e.QUESTION_MARK=63]="QUESTION_MARK",e[e.LATIN_CAPITAL_A=65]="LATIN_CAPITAL_A",e[e.LATIN_CAPITAL_Z=90]="LATIN_CAPITAL_Z",e[e.RIGHT_SQUARE_BRACKET=93]="RIGHT_SQUARE_BRACKET",e[e.GRAVE_ACCENT=96]="GRAVE_ACCENT",e[e.LATIN_SMALL_A=97]="LATIN_SMALL_A",e[e.LATIN_SMALL_Z=122]="LATIN_SMALL_Z"})(te||(te={}));const Vs={DASH_DASH:"--",CDATA_START:"[CDATA[",DOCTYPE:"doctype",SCRIPT:"script",PUBLIC:"public",SYSTEM:"system"};function S5(e){return e>=55296&&e<=57343}function Tse(e){return e>=56320&&e<=57343}function wse(e,t){return(e-55296)*1024+9216+t}function T5(e){return e!==32&&e!==10&&e!==13&&e!==9&&e!==12&&e>=1&&e<=31||e>=127&&e<=159}function w5(e){return e>=64976&&e<=65007||Sse.has(e)}var qe;(function(e){e.controlCharacterInInputStream="control-character-in-input-stream",e.noncharacterInInputStream="noncharacter-in-input-stream",e.surrogateInInputStream="surrogate-in-input-stream",e.nonVoidHtmlElementStartTagWithTrailingSolidus="non-void-html-element-start-tag-with-trailing-solidus",e.endTagWithAttributes="end-tag-with-attributes",e.endTagWithTrailingSolidus="end-tag-with-trailing-solidus",e.unexpectedSolidusInTag="unexpected-solidus-in-tag",e.unexpectedNullCharacter="unexpected-null-character",e.unexpectedQuestionMarkInsteadOfTagName="unexpected-question-mark-instead-of-tag-name",e.invalidFirstCharacterOfTagName="invalid-first-character-of-tag-name",e.unexpectedEqualsSignBeforeAttributeName="unexpected-equals-sign-before-attribute-name",e.missingEndTagName="missing-end-tag-name",e.unexpectedCharacterInAttributeName="unexpected-character-in-attribute-name",e.unknownNamedCharacterReference="unknown-named-character-reference",e.missingSemicolonAfterCharacterReference="missing-semicolon-after-character-reference",e.unexpectedCharacterAfterDoctypeSystemIdentifier="unexpected-character-after-doctype-system-identifier",e.unexpectedCharacterInUnquotedAttributeValue="unexpected-character-in-unquoted-attribute-value",e.eofBeforeTagName="eof-before-tag-name",e.eofInTag="eof-in-tag",e.missingAttributeValue="missing-attribute-value",e.missingWhitespaceBetweenAttributes="missing-whitespace-between-attributes",e.missingWhitespaceAfterDoctypePublicKeyword="missing-whitespace-after-doctype-public-keyword",e.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers="missing-whitespace-between-doctype-public-and-system-identifiers",e.missingWhitespaceAfterDoctypeSystemKeyword="missing-whitespace-after-doctype-system-keyword",e.missingQuoteBeforeDoctypePublicIdentifier="missing-quote-before-doctype-public-identifier",e.missingQuoteBeforeDoctypeSystemIdentifier="missing-quote-before-doctype-system-identifier",e.missingDoctypePublicIdentifier="missing-doctype-public-identifier",e.missingDoctypeSystemIdentifier="missing-doctype-system-identifier",e.abruptDoctypePublicIdentifier="abrupt-doctype-public-identifier",e.abruptDoctypeSystemIdentifier="abrupt-doctype-system-identifier",e.cdataInHtmlContent="cdata-in-html-content",e.incorrectlyOpenedComment="incorrectly-opened-comment",e.eofInScriptHtmlCommentLikeText="eof-in-script-html-comment-like-text",e.eofInDoctype="eof-in-doctype",e.nestedComment="nested-comment",e.abruptClosingOfEmptyComment="abrupt-closing-of-empty-comment",e.eofInComment="eof-in-comment",e.incorrectlyClosedComment="incorrectly-closed-comment",e.eofInCdata="eof-in-cdata",e.absenceOfDigitsInNumericCharacterReference="absence-of-digits-in-numeric-character-reference",e.nullCharacterReference="null-character-reference",e.surrogateCharacterReference="surrogate-character-reference",e.characterReferenceOutsideUnicodeRange="character-reference-outside-unicode-range",e.controlCharacterReference="control-character-reference",e.noncharacterCharacterReference="noncharacter-character-reference",e.missingWhitespaceBeforeDoctypeName="missing-whitespace-before-doctype-name",e.missingDoctypeName="missing-doctype-name",e.invalidCharacterSequenceAfterDoctypeName="invalid-character-sequence-after-doctype-name",e.duplicateAttribute="duplicate-attribute",e.nonConformingDoctype="non-conforming-doctype",e.missingDoctype="missing-doctype",e.misplacedDoctype="misplaced-doctype",e.endTagWithoutMatchingOpenElement="end-tag-without-matching-open-element",e.closingOfElementWithOpenChildElements="closing-of-element-with-open-child-elements",e.disallowedContentInNoscriptInHead="disallowed-content-in-noscript-in-head",e.openElementsLeftAfterEof="open-elements-left-after-eof",e.abandonedHeadElementChild="abandoned-head-element-child",e.misplacedStartTagForHeadElement="misplaced-start-tag-for-head-element",e.nestedNoscriptInHead="nested-noscript-in-head",e.eofInElementThatCanContainOnlyText="eof-in-element-that-can-contain-only-text"})(qe||(qe={}));const kse=65536;let Cse=class{constructor(t){this.handler=t,this.html="",this.pos=-1,this.lastGapPos=-2,this.gapStack=[],this.skipNextNewLine=!1,this.lastChunkWritten=!1,this.endOfChunkHit=!1,this.bufferWaterline=kse,this.isEol=!1,this.lineStartPos=0,this.droppedBufferSize=0,this.line=1,this.lastErrOffset=-1}get col(){return this.pos-this.lineStartPos+ +(this.lastGapPos!==this.pos)}get offset(){return this.droppedBufferSize+this.pos}getError(t,r){const{line:n,col:a,offset:i}=this,o=a+r,l=i+r;return{code:t,startLine:n,endLine:n,startCol:o,endCol:o,startOffset:l,endOffset:l}}_err(t){this.handler.onParseError&&this.lastErrOffset!==this.offset&&(this.lastErrOffset=this.offset,this.handler.onParseError(this.getError(t,0)))}_addGap(){this.gapStack.push(this.lastGapPos),this.lastGapPos=this.pos}_processSurrogate(t){if(this.pos!==this.html.length-1){const r=this.html.charCodeAt(this.pos+1);if(Tse(r))return this.pos++,this._addGap(),wse(t,r)}else if(!this.lastChunkWritten)return this.endOfChunkHit=!0,te.EOF;return this._err(qe.surrogateInInputStream),t}willDropParsedChunk(){return this.pos>this.bufferWaterline}dropParsedChunk(){this.willDropParsedChunk()&&(this.html=this.html.substring(this.pos),this.lineStartPos-=this.pos,this.droppedBufferSize+=this.pos,this.pos=0,this.lastGapPos=-2,this.gapStack.length=0)}write(t,r){this.html.length>0?this.html+=t:this.html=t,this.endOfChunkHit=!1,this.lastChunkWritten=r}insertHtmlAtCurrentPos(t){this.html=this.html.substring(0,this.pos+1)+t+this.html.substring(this.pos+1),this.endOfChunkHit=!1}startsWith(t,r){if(this.pos+t.length>this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,!1;if(r)return this.html.startsWith(t,this.pos);for(let n=0;n<t.length;n++)if((this.html.charCodeAt(this.pos+n)|32)!==t.charCodeAt(n))return!1;return!0}peek(t){const r=this.pos+t;if(r>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,te.EOF;const n=this.html.charCodeAt(r);return n===te.CARRIAGE_RETURN?te.LINE_FEED:n}advance(){if(this.pos++,this.isEol&&(this.isEol=!1,this.line++,this.lineStartPos=this.pos),this.pos>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,te.EOF;let t=this.html.charCodeAt(this.pos);return t===te.CARRIAGE_RETURN?(this.isEol=!0,this.skipNextNewLine=!0,te.LINE_FEED):t===te.LINE_FEED&&(this.isEol=!0,this.skipNextNewLine)?(this.line--,this.skipNextNewLine=!1,this._addGap(),this.advance()):(this.skipNextNewLine=!1,S5(t)&&(t=this._processSurrogate(t)),this.handler.onParseError===null||t>31&&t<127||t===te.LINE_FEED||t===te.CARRIAGE_RETURN||t>159&&t<64976||this._checkForProblematicCharacters(t),t)}_checkForProblematicCharacters(t){T5(t)?this._err(qe.controlCharacterInInputStream):w5(t)&&this._err(qe.noncharacterInInputStream)}retreat(t){for(this.pos-=t;this.pos<this.lastGapPos;)this.lastGapPos=this.gapStack.pop(),this.pos--;this.isEol=!1}};var $r;(function(e){e[e.CHARACTER=0]="CHARACTER",e[e.NULL_CHARACTER=1]="NULL_CHARACTER",e[e.WHITESPACE_CHARACTER=2]="WHITESPACE_CHARACTER",e[e.START_TAG=3]="START_TAG",e[e.END_TAG=4]="END_TAG",e[e.COMMENT=5]="COMMENT",e[e.DOCTYPE=6]="DOCTYPE",e[e.EOF=7]="EOF",e[e.HIBERNATION=8]="HIBERNATION"})($r||($r={}));function k5(e,t){for(let r=e.attrs.length-1;r>=0;r--)if(e.attrs[r].name===t)return e.attrs[r].value;return null}const C5=new Uint16Array('<\0\0\0\0\0\0EMabcfglmnoprstu\\bfmsligP&cutereve;iyx}rc;r;ravepha;acr;d;gpon;f;plyFunction;ingcsr;ign;ildemlaceforsucrkslash;;ed;y;crtause;noullis;a;r;pf;eve;cmpeq;HOacdefhilorsucy;PYcpyute;;italDifferentialD;leys;aeioron;dilrc;nint;ot;dnilla;terDot;i;rcleDMPTot;inus;lus;imes;ocskwiseContourIntegral;eCurlyDQoubleQuote;uote;lnpuon;e;gitruent;nt;ourIntegral;fr;oduct;nterClockwiseContourIntegral;oss;cr;p;Cap;DJSZacefios;otrahd;cy;cy;cy;grsger;r;hv;ayron;;l;ta;r;afcmriticalADGTcute;o;bleAcute;rave;ilde;ond;ferentialD;\0\0\0\0f;;DEot;qual;bleCDLRUVontourIntegrao\0\0nArrow;eoftARTrrow;ightArrow;engLReftARrrow;ightArrow;ightArrow;ightATrrow;ee;p\0\0rrow;ownArrow;erticalBar;nABLRTarrow;BUar;pArrow;reve;eft\0\0ightVector;eeVector;ector;Bar;ight\0eeVector;ector;Bar;ee;Arrow;ctr;rok;NTacdfglmopqstuxG;Hcuteaiyron;rc;ot;r;raveement;apcr;ty\0\0mallSquare;erySmallSquare;gpon;f;silon;uail;Tilde;librium;cir;m;a;mlipsts;onentialE;cfiosy;r;lled\0\0mallSquare;erySmallSquare;\0\0\0f;All;riertrf;cJTabcdfgorstcy;>mma;d;reve;eiydil;rc;;ot;r;;pf;eaterEFGLSTqual;Less;ullEqual;reater;ess;lantEqual;ilde;cr;;AacfiosuRDcy;ctek;;irc;r;lbertSpace;\0f;izontalLine;ctrok;mpownHumqual;EJOacdfgmnostucy;lig;cy;cuteiyrc;ot;r;rave;apcgr;inaryI;lie\0;egrral;section;isibleCTomma;imes;gpton;f;a;cr;ilde;\0cy;lcfosuiyrc;;r;pf;\0r;rcy;kcy;HJacfoscy;cy;ppa;eydil;;r;pf;cr;JTaceflmostcy;<cmnprute;bda;g;lacetrf;r;aeyron;dil;;fstACDFRTUVarnrgleBracket;row;BRar;ightArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ightAVrrow;ector;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;ightsEFGLSTqualGreater;ullEqual;reater;ess;lantEqual;ilde;r;;eftarrow;idot;npwgLRlreftARrrow;ightArrow;ightArrow;eftarightightf;erLReftArrow;ightArrow;cht;rok;;acefiosup;y;dliumSpace;lintrf;r;nusPlus;pf;c;Jacefostucy;cute;aeyron;dil;;gswativeMTVediumSpace;hicneryThitedGLreaterGreateessLesLine;r;Bnptreak;BreakingSpace;f;;CDEGHLNPRSTVoungruent;pCap;oubleVerticalBar;lqxement;ual;Tilde;ists;reater;EFGLSTqual;ullEqual;reater;ess;lantEqual;ilde;umpownHump;qual;efstTriangle;BEar;qual;s;EGLSTqual;reater;ess;lantEqual;ilde;estedGLreaterGreater;essLess;recedes;ESqual;lantEqual;eiverseElement;ghtTriangle;BEar;qual;quuareSubpset;Equal;erset;Equal;bcpset;Equal;ceeds;ESTqual;lantEqual;ilde;erset;Equal;ilde;EFTqual;ullEqual;ilde;erticalBar;cr;ilde;Eacdfgmoprstuvlig;cuteiyrc;blac;r;raveaeicr;ga;cron;pf;enCurlyDQoubleQuote;uote;;clr;ashidees;mlerBParr;acek;et;arenthesis;acfhilorsrtialD;y;r;i;;usMinus;ipncareplanf;;eiocedes;ESTqual;lantEqual;ilde;me;dpuct;ortion;al;cir;;UfosOT"r;pf;cr;BEacefhiorsuarr;Gcnrute;g;r;tl;aeyron;dil;;;verseEUlqement;uilibrium;pEquilibrium;ro;ghtACDFTUVanrgleBracket;row;BLar;eftArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;puf;ndImplies;ightarrow;chr;;leDelayed;HOacfhimoqstuCcHcy;y;FTcy;cute;;aeiyron;dil;rc;;r;ortDLRUownArroweftArrowightArrowpArrow;gma;allCircle;pf;\0\0t;are;ISUntersection;ubpset;Equal;erset;Equal;nion;cr;ar;bcmp;set;Equal;cheeds;ESTqual;lantEqual;ilde;Th;;esrset;Equal;etHRSacfhiorsORNADE;Hccy;y;bu;;aeyron;dil;;r;ei\0efore;a;cnkSpace;Space;lde;EFTqual;ullEqual;ilde;pf;ipleDot;ctr;rok;\0\0\0\0\0\0\0cruter;ocir;r\0y;ve;iyrc;blac;r;raveacr;dierBParr;acek;et;arenthesis;on;Plus;gpon;f;ADETadpsrrow;BDar;ownArrow;ownArrow;quilibrium;ee;Arrow;ownerLReftArrow;ightArrow;i;lon;ing;cr;ilde;mlDbcdefosvash;ar;y;ash;l;er;btyar;;icalBLSTar;ine;eparator;ilde;ThinSpace;r;pf;cr;dash;cefosirc;dge;r;pf;cr;fiosr;;pf;cr;AIUacfosucy;cy;cy;cuteiyrc;;r;pf;cr;ml;Hacdefoscy;cute;ayron;;ot;\0oWidta;r;pf;cr;\0\0\0\0\0\0\0cutereve;;Ediuy;;rcte;lig;r;raveepfpsym;ha;apcclr;g;\0\0;adsvnd;;lope;;;elmrsz;esd;a;;;;;;;;t;vb;d;pth;arr;gpon;f;;Eaeiop;cir;;d;s;rox;eingctyr;;mp;eildemlcioninnt;Nabcdefiklnoprsuot;crkcepsong;psilon;rime;im;eq;ee;ed;gerk;tbrk;oy;quo;cmprtaus;eptyv;snoahw;;een;r;gcostuvwaiurc;pdptot;lus;imes;\0\0cup;ar;riangleduown;p;plus;earow;akocnklstozenge;riangle;dlrown;eft;ight;k;\0\0;;4;ck;eo;q=uiv;t;ptwxf;;tomtie;DHUVbdhmptuvLRlr;;;;;DUdu;;;;LRlr;;;;;HLRhlr;;;;;;ox;LRlr;;;;;DUdu;;;;inus;lus;imes;LRlr;;;;;HLRhlr;;;;;;evbarceior;mi;m;el;bh;sub;l;etp;Ee;;q\0\0\0\0\0\0\0\0\0\0cprute;;abcdsnd;rcup;aup;p;ot;;eot;aeiu\0s;on;dilrc;ps;sm;ot;dmnilptyv;t;err;ceiy;ck;mark;r;Ecefms;;elq;e\0\0rrowlreft;ight;RSacd;st;irc;ash;nint;id;cir;ubs;uit\0on;e;q\0\0a;t;;flemxente\0;dot;nfry;o;sr;aorr;ss;cur;bp;e;;e;dot;delprvwarrlr;;\0\0r;c;arr;p;;bcdosrcap;aup;p;ot;r;;alrvrr;m;yevwq\0\0reuee;edge;enearrowlreftightecioninnt;lcty;AHabcdefhijlorstuwzrar;glrsger;eth;h;varow;aayron;;;aogrr;tseq;glmta;ptyv;irsht;;arlraegsvm;osnd;suit;amma;in;;iode;ontimes;ncy;c\0\0rn;op;lptuwlar;f;;empsq;dot;inus;lus;quare;blebarwedgnadhownarrowarpoonlrefighkaro\0\0rn;op;cotry;;l;rok;drot;i;fahraangle;ciy;grarr;DacdefglmnopqrstuxDoocsuteter;aioyron;r;clon;;ot;Drot;;;rsave;dot;;ilsnters;;;dot;apscr;ty;svetp1;;;gs;p;gpon;f;alsr;sl;us;i;lvon;csuviorc\0\0antgltressaeils;st;v;DD;parsl;Daot;rr;cdir;oah;mrlo;cipl;seoctationential\0\0\0\0\0\0\0llingdotsey;male;ilrlig;\0\0g;ig;;lig;lig;fjaltt;ig;ns;of;\0f;ak;v;artint;aocs\0\0;;;;\0;;\0\0;;5;\0;;8;l;wn;cr;Eabcdefgijlnorstv;l;cmpute;ma;d;reve;iyrc;;ot;;lqs;qslan;cdlc;ot;o;l;;es;r;;gmel;cy;;Eaj;;;Eaes;p;prox;q;qim;pf;cir;m;el;;>;cdlqrci;r;ot;Par;uest;adels\0pror;qlqlesienrtneqq;Aabcefkosyrilmrrsfildrcy;;cwir;;ar;irc;alrrts;uitlip;con;r;sewarow;arow;amoprrr;tht;klreftarrow;ightarrow;f;bar;cltr;asrok;bpull;hen\0\0\0\0\0\0cute;iyrc;cxy;clfr;rave;inoinnt;t;fin;ta;lig;aopcgtr;elpinarh;f;ed;;cfotare;in;tie;do;celpal;grerarhk;rod;cgpty;on;f;a;uestcir;n;Edsv;ot;;v;;ilde;\0cy;lcfmosuiyrc;;r;ath;pf;\0r;rcy;kcy;acfghjosppa;v;eydil;;r;reen;cy;cy;pf;cr;ABEHabcdefghjlmnoprstuvartrail;arr;;g;ar;\0\0\0\0\0\0\0\0\0ute;mptyv;rabda;g;dl;;uor;bfhlpst;fs;s;p;l;im;l;;aeil;;s;abrrr;rk;akcek;;es;ldu;;aeuyron;diil;;cqrsa;uo;rduhar;shar;h;;fgqstahlrtrrow;taarpoonduownpeftarrows;ightahsrrow;sarpoonquigarrohreetimes;;qslan;cdgsc;ot;o;r;;es;adegspproot;qgqgtiilrsht;;;E;rdu;l;lk;cy;;achtrorneard;ri;iodot;ust;acheEaes;p;prox;q;qim;abnoptwznrg;r;rglmreftarightapsto;ightparrowlrefight;aflr;;us;imes;st;;efngear;lt;achmtrornear;d;;ri;achiqtquo;r;m;eg;;buo;r;rok;<;cdhilqrci;r;remes;arr;uest;Piar;;efrdushar;har;enrtneqq;DacdefhilnopsuDot;clprret;;ese;sto;dluowefker;oymma;;ash;asuredangler;o;cdnro;acdsir;otus;bd;u;p;dpels;f;ctr;pos;lmtimap;GLRVabcdefghijlmoprstuvwgt;;veltftarrrow;ightarrow;;;vightarrow;Ddash;ash;bcnptlaute;g;;Eiop;d;s;rour;al;s\0pmp;eaeouy\0;on;dil;ng;dot;p;;ash;;Aadqsxrr;rhrk;;oot;uieiar;ist;sr;Eest;qs;qslani;rAaprrr;ar;;sv;d;cy;AEadestr;rr;r;;fqstarrroightarro;qslan;si;ri;eiptf;;inn;Edv;ot;;;i;v;;aorr;astllel;;lint;;ceu;c;eAaitrrr;cw;;ghtarrowri;echimpqu;ceru;ort\0\0arm;e;qsubpbcp;Ees;et;eq;qc;e;Ees;et;eq;qgilrldeianglelreft;eight;e;m;esro;p;DHadgilrsash;arr;p;ash;et;;>nfin;Aetrr;;;r<ie;Atrr;rie;im;Aanrr;rhrk;;oear;\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0csuteiyr;c;abioslac;v;old;lig;crir;;\0\0\0n;ave;bmar;acitrirr;oss;n;aeicr;ga;cdnron;;pf;aelr;rp;;adiosvr;efmr;ofgof;r;lope;;cloashl;idees;as;mlbar;\0\0\0\0\0\0\0\0\0r;ast;lle\0\0m;;y;rcimptnt;od;il;enk;r;imo;v;mane;;tvchfork;aunckk;h;s;abcdemstcir;ir;ou;;nim;wo;ipuntint;f;nd;Eaceinosu;p;u;c;acenspprourlyeaespprox;qq;im;ime;sEasdfpalslar;ine;urf;;trel;cir;;ncsp;fiopsur;pf;rime;cr;aeoteirnionnt;st;eABHabcdefhilmnoprstuxartrail;arar;cdenqrteu;te;imptyv;g;del;;uor;abcfhlpstwp;;fs;;s;l;im;l;;aiil;o;nalabrrrk;akcek;;es;ldu;;aeuyron;diil;;clqsa;dhar;uo;rh;acgl;ipsnart;ilrsht;;aordu;l;;v;gnshtahlrstrrow;taarpoonduowpeftahrrowarpoonightarrows;quigarrohreetimes;g;ingdotseahmra;oust;achemid;abptnrg;r;raflr;;us;imes;apr;gt;olint;arachqquo;r;buo;rhirremes;i;efltri;luhar;;\0\0\0\0\0\0\0cute;qu;Eaceinpsy;\0;on;u;dil;rc;Eas;p;im;olint;i;ot;be;Aacmstxrr;rhr;oti;war;minnut;r;oacoyrp;hycy;;rt\0\0iaragmma;fv;;deglnprot;;q;E;;E;e;lus;arr;araeitlslsetmhp;parsl;dle;;e;s;flptcy;;b;ar;f;adres;uitcsuaup;s;p;s;ubp;eset;e;eset;e;afrarcemtr;tmiararr;fanighteppsilohsbcmnp;Edemnprs;ot;;dot;ult;Ee;;lus;arr;eiut;enq;qeq;qm;bp;;c;acenspprourlyeaespproqg;123;Edehlmnps;ost;ub;;dot;soul;b;arr;ult;Ee;;lus;eiut;enq;qeq;qm;bp;;Aanrr;rhr;owar;lig\0\0\0\0\0\0\0\0\0\0\0\0get;;raeyron;dil;;lrec;r;eiko\0e4fa;svym;cnkaspproimsasrnes;bd;ar;;eps;bcfot;ir;;ork;rime;aipdadempstngle;dlqrowneft;e;ight;eot;inus;lus;b;ime;ezium;chtry;;cy;rok;ioxheadlreftarroightarrowAHabcdfghlmoprstuwrar;cruter\0y;ve;iyrc;abhrlac;airsht;;raverlrlk;ct\0\0rn;erop;ri;alcr;gpon;f;adhlsuownarpoonlrefighi;hlonparrows;cit\0\0rn;erop;ng;ri;cr;dirot;lde;i;famrlangle;ABDacdeflnoprszrar;v;asnrgrt;eknprstappothinhirop;hiugmbpsetneq;q;setneq;q;hretianglelreftighty;ashelr;bear;q;lip;btar;trsubppf;rotrcur;bpnEenEeigzag;cefoprsirc;dibgar;e;q;erp;r;pf;;eatcr;\0\0\0\0\0\0\0trr;Aarr;Aarrais;dptfl;imAarrcqr;ptracefiosucuyte;iyrc;;nr;cy;pf;cr;cmy;lacdefhioswcute;ayron;;ot;ettra;r;cy;grarr;pf;cr;jn;j;'.split("").map(e=>e.charCodeAt(0))),_se=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]);function Ase(e){var t;return e>=55296&&e<=57343||e>1114111?65533:(t=_se.get(e))!==null&&t!==void 0?t:e}var za;(function(e){e[e.NUM=35]="NUM",e[e.SEMI=59]="SEMI",e[e.EQUALS=61]="EQUALS",e[e.ZERO=48]="ZERO",e[e.NINE=57]="NINE",e[e.LOWER_A=97]="LOWER_A",e[e.LOWER_F=102]="LOWER_F",e[e.LOWER_X=120]="LOWER_X",e[e.LOWER_Z=122]="LOWER_Z",e[e.UPPER_A=65]="UPPER_A",e[e.UPPER_F=70]="UPPER_F",e[e.UPPER_Z=90]="UPPER_Z"})(za||(za={}));const Nse=32;var uc;(function(e){e[e.VALUE_LENGTH=49152]="VALUE_LENGTH",e[e.BRANCH_LENGTH=16256]="BRANCH_LENGTH",e[e.JUMP_TABLE=127]="JUMP_TABLE"})(uc||(uc={}));function tT(e){return e>=za.ZERO&&e<=za.NINE}function Ise(e){return e>=za.UPPER_A&&e<=za.UPPER_F||e>=za.LOWER_A&&e<=za.LOWER_F}function Rse(e){return e>=za.UPPER_A&&e<=za.UPPER_Z||e>=za.LOWER_A&&e<=za.LOWER_Z||tT(e)}function Dse(e){return e===za.EQUALS||Rse(e)}var $a;(function(e){e[e.EntityStart=0]="EntityStart",e[e.NumericStart=1]="NumericStart",e[e.NumericDecimal=2]="NumericDecimal",e[e.NumericHex=3]="NumericHex",e[e.NamedEntity=4]="NamedEntity"})($a||($a={}));var io;(function(e){e[e.Legacy=0]="Legacy",e[e.Strict=1]="Strict",e[e.Attribute=2]="Attribute"})(io||(io={}));class _5{constructor(t,r,n){this.decodeTree=t,this.emitCodePoint=r,this.errors=n,this.state=$a.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=io.Strict}startEntity(t){this.decodeMode=t,this.state=$a.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(t,r){switch(this.state){case $a.EntityStart:return t.charCodeAt(r)===za.NUM?(this.state=$a.NumericStart,this.consumed+=1,this.stateNumericStart(t,r+1)):(this.state=$a.NamedEntity,this.stateNamedEntity(t,r));case $a.NumericStart:return this.stateNumericStart(t,r);case $a.NumericDecimal:return this.stateNumericDecimal(t,r);case $a.NumericHex:return this.stateNumericHex(t,r);case $a.NamedEntity:return this.stateNamedEntity(t,r)}}stateNumericStart(t,r){return r>=t.length?-1:(t.charCodeAt(r)|Nse)===za.LOWER_X?(this.state=$a.NumericHex,this.consumed+=1,this.stateNumericHex(t,r+1)):(this.state=$a.NumericDecimal,this.stateNumericDecimal(t,r))}addToNumericResult(t,r,n,a){if(r!==n){const i=n-r;this.result=this.result*Math.pow(a,i)+Number.parseInt(t.substr(r,i),a),this.consumed+=i}}stateNumericHex(t,r){const n=r;for(;r<t.length;){const a=t.charCodeAt(r);if(tT(a)||Ise(a))r+=1;else return this.addToNumericResult(t,n,r,16),this.emitNumericEntity(a,3)}return this.addToNumericResult(t,n,r,16),-1}stateNumericDecimal(t,r){const n=r;for(;r<t.length;){const a=t.charCodeAt(r);if(tT(a))r+=1;else return this.addToNumericResult(t,n,r,10),this.emitNumericEntity(a,2)}return this.addToNumericResult(t,n,r,10),-1}emitNumericEntity(t,r){var n;if(this.consumed<=r)return(n=this.errors)===null||n===void 0||n.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(t===za.SEMI)this.consumed+=1;else if(this.decodeMode===io.Strict)return 0;return this.emitCodePoint(Ase(this.result),this.consumed),this.errors&&(t!==za.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(t,r){const{decodeTree:n}=this;let a=n[this.treeIndex],i=(a&uc.VALUE_LENGTH)>>14;for(;r<t.length;r++,this.excess++){const o=t.charCodeAt(r);if(this.treeIndex=Lse(n,a,this.treeIndex+Math.max(1,i),o),this.treeIndex<0)return this.result===0||this.decodeMode===io.Attribute&&(i===0||Dse(o))?0:this.emitNotTerminatedNamedEntity();if(a=n[this.treeIndex],i=(a&uc.VALUE_LENGTH)>>14,i!==0){if(o===za.SEMI)return this.emitNamedEntityData(this.treeIndex,i,this.consumed+this.excess);this.decodeMode!==io.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var t;const{result:r,decodeTree:n}=this,a=(n[r]&uc.VALUE_LENGTH)>>14;return this.emitNamedEntityData(r,a,this.consumed),(t=this.errors)===null||t===void 0||t.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(t,r,n){const{decodeTree:a}=this;return this.emitCodePoint(r===1?a[t]&~uc.VALUE_LENGTH:a[t+1],n),r===3&&this.emitCodePoint(a[t+2],n),n}end(){var t;switch(this.state){case $a.NamedEntity:return this.result!==0&&(this.decodeMode!==io.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case $a.NumericDecimal:return this.emitNumericEntity(0,2);case $a.NumericHex:return this.emitNumericEntity(0,3);case $a.NumericStart:return(t=this.errors)===null||t===void 0||t.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case $a.EntityStart:return 0}}}function Lse(e,t,r,n){const a=(t&uc.BRANCH_LENGTH)>>7,i=t&uc.JUMP_TABLE;if(a===0)return i!==0&&n===i?r:-1;if(i){const u=n-i;return u<0||u>=a?-1:e[r+u]-1}let o=r,l=o+a-1;for(;o<=l;){const u=o+l>>>1,d=e[u];if(d<n)o=u+1;else if(d>n)l=u-1;else return e[u+a]}return-1}var pt;(function(e){e.HTML="http://www.w3.org/1999/xhtml",e.MATHML="http://www.w3.org/1998/Math/MathML",e.SVG="http://www.w3.org/2000/svg",e.XLINK="http://www.w3.org/1999/xlink",e.XML="http://www.w3.org/XML/1998/namespace",e.XMLNS="http://www.w3.org/2000/xmlns/"})(pt||(pt={}));var cu;(function(e){e.TYPE="type",e.ACTION="action",e.ENCODING="encoding",e.PROMPT="prompt",e.NAME="name",e.COLOR="color",e.FACE="face",e.SIZE="size"})(cu||(cu={}));var Bi;(function(e){e.NO_QUIRKS="no-quirks",e.QUIRKS="quirks",e.LIMITED_QUIRKS="limited-quirks"})(Bi||(Bi={}));var Ie;(function(e){e.A="a",e.ADDRESS="address",e.ANNOTATION_XML="annotation-xml",e.APPLET="applet",e.AREA="area",e.ARTICLE="article",e.ASIDE="aside",e.B="b",e.BASE="base",e.BASEFONT="basefont",e.BGSOUND="bgsound",e.BIG="big",e.BLOCKQUOTE="blockquote",e.BODY="body",e.BR="br",e.BUTTON="button",e.CAPTION="caption",e.CENTER="center",e.CODE="code",e.COL="col",e.COLGROUP="colgroup",e.DD="dd",e.DESC="desc",e.DETAILS="details",e.DIALOG="dialog",e.DIR="dir",e.DIV="div",e.DL="dl",e.DT="dt",e.EM="em",e.EMBED="embed",e.FIELDSET="fieldset",e.FIGCAPTION="figcaption",e.FIGURE="figure",e.FONT="font",e.FOOTER="footer",e.FOREIGN_OBJECT="foreignObject",e.FORM="form",e.FRAME="frame",e.FRAMESET="frameset",e.H1="h1",e.H2="h2",e.H3="h3",e.H4="h4",e.H5="h5",e.H6="h6",e.HEAD="head",e.HEADER="header",e.HGROUP="hgroup",e.HR="hr",e.HTML="html",e.I="i",e.IMG="img",e.IMAGE="image",e.INPUT="input",e.IFRAME="iframe",e.KEYGEN="keygen",e.LABEL="label",e.LI="li",e.LINK="link",e.LISTING="listing",e.MAIN="main",e.MALIGNMARK="malignmark",e.MARQUEE="marquee",e.MATH="math",e.MENU="menu",e.META="meta",e.MGLYPH="mglyph",e.MI="mi",e.MO="mo",e.MN="mn",e.MS="ms",e.MTEXT="mtext",e.NAV="nav",e.NOBR="nobr",e.NOFRAMES="noframes",e.NOEMBED="noembed",e.NOSCRIPT="noscript",e.OBJECT="object",e.OL="ol",e.OPTGROUP="optgroup",e.OPTION="option",e.P="p",e.PARAM="param",e.PLAINTEXT="plaintext",e.PRE="pre",e.RB="rb",e.RP="rp",e.RT="rt",e.RTC="rtc",e.RUBY="ruby",e.S="s",e.SCRIPT="script",e.SEARCH="search",e.SECTION="section",e.SELECT="select",e.SOURCE="source",e.SMALL="small",e.SPAN="span",e.STRIKE="strike",e.STRONG="strong",e.STYLE="style",e.SUB="sub",e.SUMMARY="summary",e.SUP="sup",e.TABLE="table",e.TBODY="tbody",e.TEMPLATE="template",e.TEXTAREA="textarea",e.TFOOT="tfoot",e.TD="td",e.TH="th",e.THEAD="thead",e.TITLE="title",e.TR="tr",e.TRACK="track",e.TT="tt",e.U="u",e.UL="ul",e.SVG="svg",e.VAR="var",e.WBR="wbr",e.XMP="xmp"})(Ie||(Ie={}));var _;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.A=1]="A",e[e.ADDRESS=2]="ADDRESS",e[e.ANNOTATION_XML=3]="ANNOTATION_XML",e[e.APPLET=4]="APPLET",e[e.AREA=5]="AREA",e[e.ARTICLE=6]="ARTICLE",e[e.ASIDE=7]="ASIDE",e[e.B=8]="B",e[e.BASE=9]="BASE",e[e.BASEFONT=10]="BASEFONT",e[e.BGSOUND=11]="BGSOUND",e[e.BIG=12]="BIG",e[e.BLOCKQUOTE=13]="BLOCKQUOTE",e[e.BODY=14]="BODY",e[e.BR=15]="BR",e[e.BUTTON=16]="BUTTON",e[e.CAPTION=17]="CAPTION",e[e.CENTER=18]="CENTER",e[e.CODE=19]="CODE",e[e.COL=20]="COL",e[e.COLGROUP=21]="COLGROUP",e[e.DD=22]="DD",e[e.DESC=23]="DESC",e[e.DETAILS=24]="DETAILS",e[e.DIALOG=25]="DIALOG",e[e.DIR=26]="DIR",e[e.DIV=27]="DIV",e[e.DL=28]="DL",e[e.DT=29]="DT",e[e.EM=30]="EM",e[e.EMBED=31]="EMBED",e[e.FIELDSET=32]="FIELDSET",e[e.FIGCAPTION=33]="FIGCAPTION",e[e.FIGURE=34]="FIGURE",e[e.FONT=35]="FONT",e[e.FOOTER=36]="FOOTER",e[e.FOREIGN_OBJECT=37]="FOREIGN_OBJECT",e[e.FORM=38]="FORM",e[e.FRAME=39]="FRAME",e[e.FRAMESET=40]="FRAMESET",e[e.H1=41]="H1",e[e.H2=42]="H2",e[e.H3=43]="H3",e[e.H4=44]="H4",e[e.H5=45]="H5",e[e.H6=46]="H6",e[e.HEAD=47]="HEAD",e[e.HEADER=48]="HEADER",e[e.HGROUP=49]="HGROUP",e[e.HR=50]="HR",e[e.HTML=51]="HTML",e[e.I=52]="I",e[e.IMG=53]="IMG",e[e.IMAGE=54]="IMAGE",e[e.INPUT=55]="INPUT",e[e.IFRAME=56]="IFRAME",e[e.KEYGEN=57]="KEYGEN",e[e.LABEL=58]="LABEL",e[e.LI=59]="LI",e[e.LINK=60]="LINK",e[e.LISTING=61]="LISTING",e[e.MAIN=62]="MAIN",e[e.MALIGNMARK=63]="MALIGNMARK",e[e.MARQUEE=64]="MARQUEE",e[e.MATH=65]="MATH",e[e.MENU=66]="MENU",e[e.META=67]="META",e[e.MGLYPH=68]="MGLYPH",e[e.MI=69]="MI",e[e.MO=70]="MO",e[e.MN=71]="MN",e[e.MS=72]="MS",e[e.MTEXT=73]="MTEXT",e[e.NAV=74]="NAV",e[e.NOBR=75]="NOBR",e[e.NOFRAMES=76]="NOFRAMES",e[e.NOEMBED=77]="NOEMBED",e[e.NOSCRIPT=78]="NOSCRIPT",e[e.OBJECT=79]="OBJECT",e[e.OL=80]="OL",e[e.OPTGROUP=81]="OPTGROUP",e[e.OPTION=82]="OPTION",e[e.P=83]="P",e[e.PARAM=84]="PARAM",e[e.PLAINTEXT=85]="PLAINTEXT",e[e.PRE=86]="PRE",e[e.RB=87]="RB",e[e.RP=88]="RP",e[e.RT=89]="RT",e[e.RTC=90]="RTC",e[e.RUBY=91]="RUBY",e[e.S=92]="S",e[e.SCRIPT=93]="SCRIPT",e[e.SEARCH=94]="SEARCH",e[e.SECTION=95]="SECTION",e[e.SELECT=96]="SELECT",e[e.SOURCE=97]="SOURCE",e[e.SMALL=98]="SMALL",e[e.SPAN=99]="SPAN",e[e.STRIKE=100]="STRIKE",e[e.STRONG=101]="STRONG",e[e.STYLE=102]="STYLE",e[e.SUB=103]="SUB",e[e.SUMMARY=104]="SUMMARY",e[e.SUP=105]="SUP",e[e.TABLE=106]="TABLE",e[e.TBODY=107]="TBODY",e[e.TEMPLATE=108]="TEMPLATE",e[e.TEXTAREA=109]="TEXTAREA",e[e.TFOOT=110]="TFOOT",e[e.TD=111]="TD",e[e.TH=112]="TH",e[e.THEAD=113]="THEAD",e[e.TITLE=114]="TITLE",e[e.TR=115]="TR",e[e.TRACK=116]="TRACK",e[e.TT=117]="TT",e[e.U=118]="U",e[e.UL=119]="UL",e[e.SVG=120]="SVG",e[e.VAR=121]="VAR",e[e.WBR=122]="WBR",e[e.XMP=123]="XMP"})(_||(_={}));const Ose=new Map([[Ie.A,_.A],[Ie.ADDRESS,_.ADDRESS],[Ie.ANNOTATION_XML,_.ANNOTATION_XML],[Ie.APPLET,_.APPLET],[Ie.AREA,_.AREA],[Ie.ARTICLE,_.ARTICLE],[Ie.ASIDE,_.ASIDE],[Ie.B,_.B],[Ie.BASE,_.BASE],[Ie.BASEFONT,_.BASEFONT],[Ie.BGSOUND,_.BGSOUND],[Ie.BIG,_.BIG],[Ie.BLOCKQUOTE,_.BLOCKQUOTE],[Ie.BODY,_.BODY],[Ie.BR,_.BR],[Ie.BUTTON,_.BUTTON],[Ie.CAPTION,_.CAPTION],[Ie.CENTER,_.CENTER],[Ie.CODE,_.CODE],[Ie.COL,_.COL],[Ie.COLGROUP,_.COLGROUP],[Ie.DD,_.DD],[Ie.DESC,_.DESC],[Ie.DETAILS,_.DETAILS],[Ie.DIALOG,_.DIALOG],[Ie.DIR,_.DIR],[Ie.DIV,_.DIV],[Ie.DL,_.DL],[Ie.DT,_.DT],[Ie.EM,_.EM],[Ie.EMBED,_.EMBED],[Ie.FIELDSET,_.FIELDSET],[Ie.FIGCAPTION,_.FIGCAPTION],[Ie.FIGURE,_.FIGURE],[Ie.FONT,_.FONT],[Ie.FOOTER,_.FOOTER],[Ie.FOREIGN_OBJECT,_.FOREIGN_OBJECT],[Ie.FORM,_.FORM],[Ie.FRAME,_.FRAME],[Ie.FRAMESET,_.FRAMESET],[Ie.H1,_.H1],[Ie.H2,_.H2],[Ie.H3,_.H3],[Ie.H4,_.H4],[Ie.H5,_.H5],[Ie.H6,_.H6],[Ie.HEAD,_.HEAD],[Ie.HEADER,_.HEADER],[Ie.HGROUP,_.HGROUP],[Ie.HR,_.HR],[Ie.HTML,_.HTML],[Ie.I,_.I],[Ie.IMG,_.IMG],[Ie.IMAGE,_.IMAGE],[Ie.INPUT,_.INPUT],[Ie.IFRAME,_.IFRAME],[Ie.KEYGEN,_.KEYGEN],[Ie.LABEL,_.LABEL],[Ie.LI,_.LI],[Ie.LINK,_.LINK],[Ie.LISTING,_.LISTING],[Ie.MAIN,_.MAIN],[Ie.MALIGNMARK,_.MALIGNMARK],[Ie.MARQUEE,_.MARQUEE],[Ie.MATH,_.MATH],[Ie.MENU,_.MENU],[Ie.META,_.META],[Ie.MGLYPH,_.MGLYPH],[Ie.MI,_.MI],[Ie.MO,_.MO],[Ie.MN,_.MN],[Ie.MS,_.MS],[Ie.MTEXT,_.MTEXT],[Ie.NAV,_.NAV],[Ie.NOBR,_.NOBR],[Ie.NOFRAMES,_.NOFRAMES],[Ie.NOEMBED,_.NOEMBED],[Ie.NOSCRIPT,_.NOSCRIPT],[Ie.OBJECT,_.OBJECT],[Ie.OL,_.OL],[Ie.OPTGROUP,_.OPTGROUP],[Ie.OPTION,_.OPTION],[Ie.P,_.P],[Ie.PARAM,_.PARAM],[Ie.PLAINTEXT,_.PLAINTEXT],[Ie.PRE,_.PRE],[Ie.RB,_.RB],[Ie.RP,_.RP],[Ie.RT,_.RT],[Ie.RTC,_.RTC],[Ie.RUBY,_.RUBY],[Ie.S,_.S],[Ie.SCRIPT,_.SCRIPT],[Ie.SEARCH,_.SEARCH],[Ie.SECTION,_.SECTION],[Ie.SELECT,_.SELECT],[Ie.SOURCE,_.SOURCE],[Ie.SMALL,_.SMALL],[Ie.SPAN,_.SPAN],[Ie.STRIKE,_.STRIKE],[Ie.STRONG,_.STRONG],[Ie.STYLE,_.STYLE],[Ie.SUB,_.SUB],[Ie.SUMMARY,_.SUMMARY],[Ie.SUP,_.SUP],[Ie.TABLE,_.TABLE],[Ie.TBODY,_.TBODY],[Ie.TEMPLATE,_.TEMPLATE],[Ie.TEXTAREA,_.TEXTAREA],[Ie.TFOOT,_.TFOOT],[Ie.TD,_.TD],[Ie.TH,_.TH],[Ie.THEAD,_.THEAD],[Ie.TITLE,_.TITLE],[Ie.TR,_.TR],[Ie.TRACK,_.TRACK],[Ie.TT,_.TT],[Ie.U,_.U],[Ie.UL,_.UL],[Ie.SVG,_.SVG],[Ie.VAR,_.VAR],[Ie.WBR,_.WBR],[Ie.XMP,_.XMP]]);function Op(e){var t;return(t=Ose.get(e))!==null&&t!==void 0?t:_.UNKNOWN}const ft=_,Mse={[pt.HTML]:new Set([ft.ADDRESS,ft.APPLET,ft.AREA,ft.ARTICLE,ft.ASIDE,ft.BASE,ft.BASEFONT,ft.BGSOUND,ft.BLOCKQUOTE,ft.BODY,ft.BR,ft.BUTTON,ft.CAPTION,ft.CENTER,ft.COL,ft.COLGROUP,ft.DD,ft.DETAILS,ft.DIR,ft.DIV,ft.DL,ft.DT,ft.EMBED,ft.FIELDSET,ft.FIGCAPTION,ft.FIGURE,ft.FOOTER,ft.FORM,ft.FRAME,ft.FRAMESET,ft.H1,ft.H2,ft.H3,ft.H4,ft.H5,ft.H6,ft.HEAD,ft.HEADER,ft.HGROUP,ft.HR,ft.HTML,ft.IFRAME,ft.IMG,ft.INPUT,ft.LI,ft.LINK,ft.LISTING,ft.MAIN,ft.MARQUEE,ft.MENU,ft.META,ft.NAV,ft.NOEMBED,ft.NOFRAMES,ft.NOSCRIPT,ft.OBJECT,ft.OL,ft.P,ft.PARAM,ft.PLAINTEXT,ft.PRE,ft.SCRIPT,ft.SECTION,ft.SELECT,ft.SOURCE,ft.STYLE,ft.SUMMARY,ft.TABLE,ft.TBODY,ft.TD,ft.TEMPLATE,ft.TEXTAREA,ft.TFOOT,ft.TH,ft.THEAD,ft.TITLE,ft.TR,ft.TRACK,ft.UL,ft.WBR,ft.XMP]),[pt.MATHML]:new Set([ft.MI,ft.MO,ft.MN,ft.MS,ft.MTEXT,ft.ANNOTATION_XML]),[pt.SVG]:new Set([ft.TITLE,ft.FOREIGN_OBJECT,ft.DESC]),[pt.XLINK]:new Set,[pt.XML]:new Set,[pt.XMLNS]:new Set},rT=new Set([ft.H1,ft.H2,ft.H3,ft.H4,ft.H5,ft.H6]);Ie.STYLE,Ie.SCRIPT,Ie.XMP,Ie.IFRAME,Ie.NOEMBED,Ie.NOFRAMES,Ie.PLAINTEXT;var ce;(function(e){e[e.DATA=0]="DATA",e[e.RCDATA=1]="RCDATA",e[e.RAWTEXT=2]="RAWTEXT",e[e.SCRIPT_DATA=3]="SCRIPT_DATA",e[e.PLAINTEXT=4]="PLAINTEXT",e[e.TAG_OPEN=5]="TAG_OPEN",e[e.END_TAG_OPEN=6]="END_TAG_OPEN",e[e.TAG_NAME=7]="TAG_NAME",e[e.RCDATA_LESS_THAN_SIGN=8]="RCDATA_LESS_THAN_SIGN",e[e.RCDATA_END_TAG_OPEN=9]="RCDATA_END_TAG_OPEN",e[e.RCDATA_END_TAG_NAME=10]="RCDATA_END_TAG_NAME",e[e.RAWTEXT_LESS_THAN_SIGN=11]="RAWTEXT_LESS_THAN_SIGN",e[e.RAWTEXT_END_TAG_OPEN=12]="RAWTEXT_END_TAG_OPEN",e[e.RAWTEXT_END_TAG_NAME=13]="RAWTEXT_END_TAG_NAME",e[e.SCRIPT_DATA_LESS_THAN_SIGN=14]="SCRIPT_DATA_LESS_THAN_SIGN",e[e.SCRIPT_DATA_END_TAG_OPEN=15]="SCRIPT_DATA_END_TAG_OPEN",e[e.SCRIPT_DATA_END_TAG_NAME=16]="SCRIPT_DATA_END_TAG_NAME",e[e.SCRIPT_DATA_ESCAPE_START=17]="SCRIPT_DATA_ESCAPE_START",e[e.SCRIPT_DATA_ESCAPE_START_DASH=18]="SCRIPT_DATA_ESCAPE_START_DASH",e[e.SCRIPT_DATA_ESCAPED=19]="SCRIPT_DATA_ESCAPED",e[e.SCRIPT_DATA_ESCAPED_DASH=20]="SCRIPT_DATA_ESCAPED_DASH",e[e.SCRIPT_DATA_ESCAPED_DASH_DASH=21]="SCRIPT_DATA_ESCAPED_DASH_DASH",e[e.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN=22]="SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN",e[e.SCRIPT_DATA_ESCAPED_END_TAG_OPEN=23]="SCRIPT_DATA_ESCAPED_END_TAG_OPEN",e[e.SCRIPT_DATA_ESCAPED_END_TAG_NAME=24]="SCRIPT_DATA_ESCAPED_END_TAG_NAME",e[e.SCRIPT_DATA_DOUBLE_ESCAPE_START=25]="SCRIPT_DATA_DOUBLE_ESCAPE_START",e[e.SCRIPT_DATA_DOUBLE_ESCAPED=26]="SCRIPT_DATA_DOUBLE_ESCAPED",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH=27]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH=28]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN=29]="SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN",e[e.SCRIPT_DATA_DOUBLE_ESCAPE_END=30]="SCRIPT_DATA_DOUBLE_ESCAPE_END",e[e.BEFORE_ATTRIBUTE_NAME=31]="BEFORE_ATTRIBUTE_NAME",e[e.ATTRIBUTE_NAME=32]="ATTRIBUTE_NAME",e[e.AFTER_ATTRIBUTE_NAME=33]="AFTER_ATTRIBUTE_NAME",e[e.BEFORE_ATTRIBUTE_VALUE=34]="BEFORE_ATTRIBUTE_VALUE",e[e.ATTRIBUTE_VALUE_DOUBLE_QUOTED=35]="ATTRIBUTE_VALUE_DOUBLE_QUOTED",e[e.ATTRIBUTE_VALUE_SINGLE_QUOTED=36]="ATTRIBUTE_VALUE_SINGLE_QUOTED",e[e.ATTRIBUTE_VALUE_UNQUOTED=37]="ATTRIBUTE_VALUE_UNQUOTED",e[e.AFTER_ATTRIBUTE_VALUE_QUOTED=38]="AFTER_ATTRIBUTE_VALUE_QUOTED",e[e.SELF_CLOSING_START_TAG=39]="SELF_CLOSING_START_TAG",e[e.BOGUS_COMMENT=40]="BOGUS_COMMENT",e[e.MARKUP_DECLARATION_OPEN=41]="MARKUP_DECLARATION_OPEN",e[e.COMMENT_START=42]="COMMENT_START",e[e.COMMENT_START_DASH=43]="COMMENT_START_DASH",e[e.COMMENT=44]="COMMENT",e[e.COMMENT_LESS_THAN_SIGN=45]="COMMENT_LESS_THAN_SIGN",e[e.COMMENT_LESS_THAN_SIGN_BANG=46]="COMMENT_LESS_THAN_SIGN_BANG",e[e.COMMENT_LESS_THAN_SIGN_BANG_DASH=47]="COMMENT_LESS_THAN_SIGN_BANG_DASH",e[e.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH=48]="COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH",e[e.COMMENT_END_DASH=49]="COMMENT_END_DASH",e[e.COMMENT_END=50]="COMMENT_END",e[e.COMMENT_END_BANG=51]="COMMENT_END_BANG",e[e.DOCTYPE=52]="DOCTYPE",e[e.BEFORE_DOCTYPE_NAME=53]="BEFORE_DOCTYPE_NAME",e[e.DOCTYPE_NAME=54]="DOCTYPE_NAME",e[e.AFTER_DOCTYPE_NAME=55]="AFTER_DOCTYPE_NAME",e[e.AFTER_DOCTYPE_PUBLIC_KEYWORD=56]="AFTER_DOCTYPE_PUBLIC_KEYWORD",e[e.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER=57]="BEFORE_DOCTYPE_PUBLIC_IDENTIFIER",e[e.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED=58]="DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED",e[e.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED=59]="DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED",e[e.AFTER_DOCTYPE_PUBLIC_IDENTIFIER=60]="AFTER_DOCTYPE_PUBLIC_IDENTIFIER",e[e.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS=61]="BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS",e[e.AFTER_DOCTYPE_SYSTEM_KEYWORD=62]="AFTER_DOCTYPE_SYSTEM_KEYWORD",e[e.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER=63]="BEFORE_DOCTYPE_SYSTEM_IDENTIFIER",e[e.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED=64]="DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED",e[e.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED=65]="DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED",e[e.AFTER_DOCTYPE_SYSTEM_IDENTIFIER=66]="AFTER_DOCTYPE_SYSTEM_IDENTIFIER",e[e.BOGUS_DOCTYPE=67]="BOGUS_DOCTYPE",e[e.CDATA_SECTION=68]="CDATA_SECTION",e[e.CDATA_SECTION_BRACKET=69]="CDATA_SECTION_BRACKET",e[e.CDATA_SECTION_END=70]="CDATA_SECTION_END",e[e.CHARACTER_REFERENCE=71]="CHARACTER_REFERENCE",e[e.AMBIGUOUS_AMPERSAND=72]="AMBIGUOUS_AMPERSAND"})(ce||(ce={}));const ga={DATA:ce.DATA,RCDATA:ce.RCDATA,RAWTEXT:ce.RAWTEXT,SCRIPT_DATA:ce.SCRIPT_DATA,PLAINTEXT:ce.PLAINTEXT,CDATA_SECTION:ce.CDATA_SECTION};function Pse(e){return e>=te.DIGIT_0&&e<=te.DIGIT_9}function pg(e){return e>=te.LATIN_CAPITAL_A&&e<=te.LATIN_CAPITAL_Z}function jse(e){return e>=te.LATIN_SMALL_A&&e<=te.LATIN_SMALL_Z}function nc(e){return jse(e)||pg(e)}function fO(e){return nc(e)||Pse(e)}function w0(e){return e+32}function A5(e){return e===te.SPACE||e===te.LINE_FEED||e===te.TABULATION||e===te.FORM_FEED}function bO(e){return A5(e)||e===te.SOLIDUS||e===te.GREATER_THAN_SIGN}function Fse(e){return e===te.NULL?qe.nullCharacterReference:e>1114111?qe.characterReferenceOutsideUnicodeRange:S5(e)?qe.surrogateCharacterReference:w5(e)?qe.noncharacterCharacterReference:T5(e)||e===te.CARRIAGE_RETURN?qe.controlCharacterReference:null}let Bse=class{constructor(t,r){this.options=t,this.handler=r,this.paused=!1,this.inLoop=!1,this.inForeignNode=!1,this.lastStartTagName="",this.active=!1,this.state=ce.DATA,this.returnState=ce.DATA,this.entityStartPos=0,this.consumedAfterSnapshot=-1,this.currentCharacterToken=null,this.currentToken=null,this.currentAttr={name:"",value:""},this.preprocessor=new Cse(r),this.currentLocation=this.getCurrentLocation(-1),this.entityDecoder=new _5(C5,(n,a)=>{this.preprocessor.pos=this.entityStartPos+a-1,this._flushCodePointConsumedAsCharacterReference(n)},r.onParseError?{missingSemicolonAfterCharacterReference:()=>{this._err(qe.missingSemicolonAfterCharacterReference,1)},absenceOfDigitsInNumericCharacterReference:n=>{this._err(qe.absenceOfDigitsInNumericCharacterReference,this.entityStartPos-this.preprocessor.pos+n)},validateNumericCharacterReference:n=>{const a=Fse(n);a&&this._err(a,1)}}:void 0)}_err(t,r=0){var n,a;(a=(n=this.handler).onParseError)===null||a===void 0||a.call(n,this.preprocessor.getError(t,r))}getCurrentLocation(t){return this.options.sourceCodeLocationInfo?{startLine:this.preprocessor.line,startCol:this.preprocessor.col-t,startOffset:this.preprocessor.offset-t,endLine:-1,endCol:-1,endOffset:-1}:null}_runParsingLoop(){if(!this.inLoop){for(this.inLoop=!0;this.active&&!this.paused;){this.consumedAfterSnapshot=0;const t=this._consume();this._ensureHibernation()||this._callState(t)}this.inLoop=!1}}pause(){this.paused=!0}resume(t){if(!this.paused)throw new Error("Parser was already resumed");this.paused=!1,!this.inLoop&&(this._runParsingLoop(),this.paused||t?.())}write(t,r,n){this.active=!0,this.preprocessor.write(t,r),this._runParsingLoop(),this.paused||n?.()}insertHtmlAtCurrentPos(t){this.active=!0,this.preprocessor.insertHtmlAtCurrentPos(t),this._runParsingLoop()}_ensureHibernation(){return this.preprocessor.endOfChunkHit?(this.preprocessor.retreat(this.consumedAfterSnapshot),this.consumedAfterSnapshot=0,this.active=!1,!0):!1}_consume(){return this.consumedAfterSnapshot++,this.preprocessor.advance()}_advanceBy(t){this.consumedAfterSnapshot+=t;for(let r=0;r<t;r++)this.preprocessor.advance()}_consumeSequenceIfMatch(t,r){return this.preprocessor.startsWith(t,r)?(this._advanceBy(t.length-1),!0):!1}_createStartTagToken(){this.currentToken={type:$r.START_TAG,tagName:"",tagID:_.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(1)}}_createEndTagToken(){this.currentToken={type:$r.END_TAG,tagName:"",tagID:_.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(2)}}_createCommentToken(t){this.currentToken={type:$r.COMMENT,data:"",location:this.getCurrentLocation(t)}}_createDoctypeToken(t){this.currentToken={type:$r.DOCTYPE,name:t,forceQuirks:!1,publicId:null,systemId:null,location:this.currentLocation}}_createCharacterToken(t,r){this.currentCharacterToken={type:t,chars:r,location:this.currentLocation}}_createAttr(t){this.currentAttr={name:t,value:""},this.currentLocation=this.getCurrentLocation(0)}_leaveAttrName(){var t,r;const n=this.currentToken;if(k5(n,this.currentAttr.name)===null){if(n.attrs.push(this.currentAttr),n.location&&this.currentLocation){const a=(t=(r=n.location).attrs)!==null&&t!==void 0?t:r.attrs=Object.create(null);a[this.currentAttr.name]=this.currentLocation,this._leaveAttrValue()}}else this._err(qe.duplicateAttribute)}_leaveAttrValue(){this.currentLocation&&(this.currentLocation.endLine=this.preprocessor.line,this.currentLocation.endCol=this.preprocessor.col,this.currentLocation.endOffset=this.preprocessor.offset)}prepareToken(t){this._emitCurrentCharacterToken(t.location),this.currentToken=null,t.location&&(t.location.endLine=this.preprocessor.line,t.location.endCol=this.preprocessor.col+1,t.location.endOffset=this.preprocessor.offset+1),this.currentLocation=this.getCurrentLocation(-1)}emitCurrentTagToken(){const t=this.currentToken;this.prepareToken(t),t.tagID=Op(t.tagName),t.type===$r.START_TAG?(this.lastStartTagName=t.tagName,this.handler.onStartTag(t)):(t.attrs.length>0&&this._err(qe.endTagWithAttributes),t.selfClosing&&this._err(qe.endTagWithTrailingSolidus),this.handler.onEndTag(t)),this.preprocessor.dropParsedChunk()}emitCurrentComment(t){this.prepareToken(t),this.handler.onComment(t),this.preprocessor.dropParsedChunk()}emitCurrentDoctype(t){this.prepareToken(t),this.handler.onDoctype(t),this.preprocessor.dropParsedChunk()}_emitCurrentCharacterToken(t){if(this.currentCharacterToken){switch(t&&this.currentCharacterToken.location&&(this.currentCharacterToken.location.endLine=t.startLine,this.currentCharacterToken.location.endCol=t.startCol,this.currentCharacterToken.location.endOffset=t.startOffset),this.currentCharacterToken.type){case $r.CHARACTER:{this.handler.onCharacter(this.currentCharacterToken);break}case $r.NULL_CHARACTER:{this.handler.onNullCharacter(this.currentCharacterToken);break}case $r.WHITESPACE_CHARACTER:{this.handler.onWhitespaceCharacter(this.currentCharacterToken);break}}this.currentCharacterToken=null}}_emitEOFToken(){const t=this.getCurrentLocation(0);t&&(t.endLine=t.startLine,t.endCol=t.startCol,t.endOffset=t.startOffset),this._emitCurrentCharacterToken(t),this.handler.onEof({type:$r.EOF,location:t}),this.active=!1}_appendCharToCurrentCharacterToken(t,r){if(this.currentCharacterToken)if(this.currentCharacterToken.type===t){this.currentCharacterToken.chars+=r;return}else this.currentLocation=this.getCurrentLocation(0),this._emitCurrentCharacterToken(this.currentLocation),this.preprocessor.dropParsedChunk();this._createCharacterToken(t,r)}_emitCodePoint(t){const r=A5(t)?$r.WHITESPACE_CHARACTER:t===te.NULL?$r.NULL_CHARACTER:$r.CHARACTER;this._appendCharToCurrentCharacterToken(r,String.fromCodePoint(t))}_emitChars(t){this._appendCharToCurrentCharacterToken($r.CHARACTER,t)}_startCharacterReference(){this.returnState=this.state,this.state=ce.CHARACTER_REFERENCE,this.entityStartPos=this.preprocessor.pos,this.entityDecoder.startEntity(this._isCharacterReferenceInAttribute()?io.Attribute:io.Legacy)}_isCharacterReferenceInAttribute(){return this.returnState===ce.ATTRIBUTE_VALUE_DOUBLE_QUOTED||this.returnState===ce.ATTRIBUTE_VALUE_SINGLE_QUOTED||this.returnState===ce.ATTRIBUTE_VALUE_UNQUOTED}_flushCodePointConsumedAsCharacterReference(t){this._isCharacterReferenceInAttribute()?this.currentAttr.value+=String.fromCodePoint(t):this._emitCodePoint(t)}_callState(t){switch(this.state){case ce.DATA:{this._stateData(t);break}case ce.RCDATA:{this._stateRcdata(t);break}case ce.RAWTEXT:{this._stateRawtext(t);break}case ce.SCRIPT_DATA:{this._stateScriptData(t);break}case ce.PLAINTEXT:{this._statePlaintext(t);break}case ce.TAG_OPEN:{this._stateTagOpen(t);break}case ce.END_TAG_OPEN:{this._stateEndTagOpen(t);break}case ce.TAG_NAME:{this._stateTagName(t);break}case ce.RCDATA_LESS_THAN_SIGN:{this._stateRcdataLessThanSign(t);break}case ce.RCDATA_END_TAG_OPEN:{this._stateRcdataEndTagOpen(t);break}case ce.RCDATA_END_TAG_NAME:{this._stateRcdataEndTagName(t);break}case ce.RAWTEXT_LESS_THAN_SIGN:{this._stateRawtextLessThanSign(t);break}case ce.RAWTEXT_END_TAG_OPEN:{this._stateRawtextEndTagOpen(t);break}case ce.RAWTEXT_END_TAG_NAME:{this._stateRawtextEndTagName(t);break}case ce.SCRIPT_DATA_LESS_THAN_SIGN:{this._stateScriptDataLessThanSign(t);break}case ce.SCRIPT_DATA_END_TAG_OPEN:{this._stateScriptDataEndTagOpen(t);break}case ce.SCRIPT_DATA_END_TAG_NAME:{this._stateScriptDataEndTagName(t);break}case ce.SCRIPT_DATA_ESCAPE_START:{this._stateScriptDataEscapeStart(t);break}case ce.SCRIPT_DATA_ESCAPE_START_DASH:{this._stateScriptDataEscapeStartDash(t);break}case ce.SCRIPT_DATA_ESCAPED:{this._stateScriptDataEscaped(t);break}case ce.SCRIPT_DATA_ESCAPED_DASH:{this._stateScriptDataEscapedDash(t);break}case ce.SCRIPT_DATA_ESCAPED_DASH_DASH:{this._stateScriptDataEscapedDashDash(t);break}case ce.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataEscapedLessThanSign(t);break}case ce.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:{this._stateScriptDataEscapedEndTagOpen(t);break}case ce.SCRIPT_DATA_ESCAPED_END_TAG_NAME:{this._stateScriptDataEscapedEndTagName(t);break}case ce.SCRIPT_DATA_DOUBLE_ESCAPE_START:{this._stateScriptDataDoubleEscapeStart(t);break}case ce.SCRIPT_DATA_DOUBLE_ESCAPED:{this._stateScriptDataDoubleEscaped(t);break}case ce.SCRIPT_DATA_DOUBLE_ESCAPED_DASH:{this._stateScriptDataDoubleEscapedDash(t);break}case ce.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH:{this._stateScriptDataDoubleEscapedDashDash(t);break}case ce.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataDoubleEscapedLessThanSign(t);break}case ce.SCRIPT_DATA_DOUBLE_ESCAPE_END:{this._stateScriptDataDoubleEscapeEnd(t);break}case ce.BEFORE_ATTRIBUTE_NAME:{this._stateBeforeAttributeName(t);break}case ce.ATTRIBUTE_NAME:{this._stateAttributeName(t);break}case ce.AFTER_ATTRIBUTE_NAME:{this._stateAfterAttributeName(t);break}case ce.BEFORE_ATTRIBUTE_VALUE:{this._stateBeforeAttributeValue(t);break}case ce.ATTRIBUTE_VALUE_DOUBLE_QUOTED:{this._stateAttributeValueDoubleQuoted(t);break}case ce.ATTRIBUTE_VALUE_SINGLE_QUOTED:{this._stateAttributeValueSingleQuoted(t);break}case ce.ATTRIBUTE_VALUE_UNQUOTED:{this._stateAttributeValueUnquoted(t);break}case ce.AFTER_ATTRIBUTE_VALUE_QUOTED:{this._stateAfterAttributeValueQuoted(t);break}case ce.SELF_CLOSING_START_TAG:{this._stateSelfClosingStartTag(t);break}case ce.BOGUS_COMMENT:{this._stateBogusComment(t);break}case ce.MARKUP_DECLARATION_OPEN:{this._stateMarkupDeclarationOpen(t);break}case ce.COMMENT_START:{this._stateCommentStart(t);break}case ce.COMMENT_START_DASH:{this._stateCommentStartDash(t);break}case ce.COMMENT:{this._stateComment(t);break}case ce.COMMENT_LESS_THAN_SIGN:{this._stateCommentLessThanSign(t);break}case ce.COMMENT_LESS_THAN_SIGN_BANG:{this._stateCommentLessThanSignBang(t);break}case ce.COMMENT_LESS_THAN_SIGN_BANG_DASH:{this._stateCommentLessThanSignBangDash(t);break}case ce.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:{this._stateCommentLessThanSignBangDashDash(t);break}case ce.COMMENT_END_DASH:{this._stateCommentEndDash(t);break}case ce.COMMENT_END:{this._stateCommentEnd(t);break}case ce.COMMENT_END_BANG:{this._stateCommentEndBang(t);break}case ce.DOCTYPE:{this._stateDoctype(t);break}case ce.BEFORE_DOCTYPE_NAME:{this._stateBeforeDoctypeName(t);break}case ce.DOCTYPE_NAME:{this._stateDoctypeName(t);break}case ce.AFTER_DOCTYPE_NAME:{this._stateAfterDoctypeName(t);break}case ce.AFTER_DOCTYPE_PUBLIC_KEYWORD:{this._stateAfterDoctypePublicKeyword(t);break}case ce.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateBeforeDoctypePublicIdentifier(t);break}case ce.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypePublicIdentifierDoubleQuoted(t);break}case ce.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypePublicIdentifierSingleQuoted(t);break}case ce.AFTER_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateAfterDoctypePublicIdentifier(t);break}case ce.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS:{this._stateBetweenDoctypePublicAndSystemIdentifiers(t);break}case ce.AFTER_DOCTYPE_SYSTEM_KEYWORD:{this._stateAfterDoctypeSystemKeyword(t);break}case ce.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateBeforeDoctypeSystemIdentifier(t);break}case ce.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypeSystemIdentifierDoubleQuoted(t);break}case ce.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypeSystemIdentifierSingleQuoted(t);break}case ce.AFTER_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateAfterDoctypeSystemIdentifier(t);break}case ce.BOGUS_DOCTYPE:{this._stateBogusDoctype(t);break}case ce.CDATA_SECTION:{this._stateCdataSection(t);break}case ce.CDATA_SECTION_BRACKET:{this._stateCdataSectionBracket(t);break}case ce.CDATA_SECTION_END:{this._stateCdataSectionEnd(t);break}case ce.CHARACTER_REFERENCE:{this._stateCharacterReference();break}case ce.AMBIGUOUS_AMPERSAND:{this._stateAmbiguousAmpersand(t);break}default:throw new Error("Unknown state")}}_stateData(t){switch(t){case te.LESS_THAN_SIGN:{this.state=ce.TAG_OPEN;break}case te.AMPERSAND:{this._startCharacterReference();break}case te.NULL:{this._err(qe.unexpectedNullCharacter),this._emitCodePoint(t);break}case te.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateRcdata(t){switch(t){case te.AMPERSAND:{this._startCharacterReference();break}case te.LESS_THAN_SIGN:{this.state=ce.RCDATA_LESS_THAN_SIGN;break}case te.NULL:{this._err(qe.unexpectedNullCharacter),this._emitChars(Zn);break}case te.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateRawtext(t){switch(t){case te.LESS_THAN_SIGN:{this.state=ce.RAWTEXT_LESS_THAN_SIGN;break}case te.NULL:{this._err(qe.unexpectedNullCharacter),this._emitChars(Zn);break}case te.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptData(t){switch(t){case te.LESS_THAN_SIGN:{this.state=ce.SCRIPT_DATA_LESS_THAN_SIGN;break}case te.NULL:{this._err(qe.unexpectedNullCharacter),this._emitChars(Zn);break}case te.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_statePlaintext(t){switch(t){case te.NULL:{this._err(qe.unexpectedNullCharacter),this._emitChars(Zn);break}case te.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateTagOpen(t){if(nc(t))this._createStartTagToken(),this.state=ce.TAG_NAME,this._stateTagName(t);else switch(t){case te.EXCLAMATION_MARK:{this.state=ce.MARKUP_DECLARATION_OPEN;break}case te.SOLIDUS:{this.state=ce.END_TAG_OPEN;break}case te.QUESTION_MARK:{this._err(qe.unexpectedQuestionMarkInsteadOfTagName),this._createCommentToken(1),this.state=ce.BOGUS_COMMENT,this._stateBogusComment(t);break}case te.EOF:{this._err(qe.eofBeforeTagName),this._emitChars("<"),this._emitEOFToken();break}default:this._err(qe.invalidFirstCharacterOfTagName),this._emitChars("<"),this.state=ce.DATA,this._stateData(t)}}_stateEndTagOpen(t){if(nc(t))this._createEndTagToken(),this.state=ce.TAG_NAME,this._stateTagName(t);else switch(t){case te.GREATER_THAN_SIGN:{this._err(qe.missingEndTagName),this.state=ce.DATA;break}case te.EOF:{this._err(qe.eofBeforeTagName),this._emitChars("</"),this._emitEOFToken();break}default:this._err(qe.invalidFirstCharacterOfTagName),this._createCommentToken(2),this.state=ce.BOGUS_COMMENT,this._stateBogusComment(t)}}_stateTagName(t){const r=this.currentToken;switch(t){case te.SPACE:case te.LINE_FEED:case te.TABULATION:case te.FORM_FEED:{this.state=ce.BEFORE_ATTRIBUTE_NAME;break}case te.SOLIDUS:{this.state=ce.SELF_CLOSING_START_TAG;break}case te.GREATER_THAN_SIGN:{this.state=ce.DATA,this.emitCurrentTagToken();break}case te.NULL:{this._err(qe.unexpectedNullCharacter),r.tagName+=Zn;break}case te.EOF:{this._err(qe.eofInTag),this._emitEOFToken();break}default:r.tagName+=String.fromCodePoint(pg(t)?w0(t):t)}}_stateRcdataLessThanSign(t){t===te.SOLIDUS?this.state=ce.RCDATA_END_TAG_OPEN:(this._emitChars("<"),this.state=ce.RCDATA,this._stateRcdata(t))}_stateRcdataEndTagOpen(t){nc(t)?(this.state=ce.RCDATA_END_TAG_NAME,this._stateRcdataEndTagName(t)):(this._emitChars("</"),this.state=ce.RCDATA,this._stateRcdata(t))}handleSpecialEndTag(t){if(!this.preprocessor.startsWith(this.lastStartTagName,!1))return!this._ensureHibernation();this._createEndTagToken();const r=this.currentToken;switch(r.tagName=this.lastStartTagName,this.preprocessor.peek(this.lastStartTagName.length)){case te.SPACE:case te.LINE_FEED:case te.TABULATION:case te.FORM_FEED:return this._advanceBy(this.lastStartTagName.length),this.state=ce.BEFORE_ATTRIBUTE_NAME,!1;case te.SOLIDUS:return this._advanceBy(this.lastStartTagName.length),this.state=ce.SELF_CLOSING_START_TAG,!1;case te.GREATER_THAN_SIGN:return this._advanceBy(this.lastStartTagName.length),this.emitCurrentTagToken(),this.state=ce.DATA,!1;default:return!this._ensureHibernation()}}_stateRcdataEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=ce.RCDATA,this._stateRcdata(t))}_stateRawtextLessThanSign(t){t===te.SOLIDUS?this.state=ce.RAWTEXT_END_TAG_OPEN:(this._emitChars("<"),this.state=ce.RAWTEXT,this._stateRawtext(t))}_stateRawtextEndTagOpen(t){nc(t)?(this.state=ce.RAWTEXT_END_TAG_NAME,this._stateRawtextEndTagName(t)):(this._emitChars("</"),this.state=ce.RAWTEXT,this._stateRawtext(t))}_stateRawtextEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=ce.RAWTEXT,this._stateRawtext(t))}_stateScriptDataLessThanSign(t){switch(t){case te.SOLIDUS:{this.state=ce.SCRIPT_DATA_END_TAG_OPEN;break}case te.EXCLAMATION_MARK:{this.state=ce.SCRIPT_DATA_ESCAPE_START,this._emitChars("<!");break}default:this._emitChars("<"),this.state=ce.SCRIPT_DATA,this._stateScriptData(t)}}_stateScriptDataEndTagOpen(t){nc(t)?(this.state=ce.SCRIPT_DATA_END_TAG_NAME,this._stateScriptDataEndTagName(t)):(this._emitChars("</"),this.state=ce.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=ce.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscapeStart(t){t===te.HYPHEN_MINUS?(this.state=ce.SCRIPT_DATA_ESCAPE_START_DASH,this._emitChars("-")):(this.state=ce.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscapeStartDash(t){t===te.HYPHEN_MINUS?(this.state=ce.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-")):(this.state=ce.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscaped(t){switch(t){case te.HYPHEN_MINUS:{this.state=ce.SCRIPT_DATA_ESCAPED_DASH,this._emitChars("-");break}case te.LESS_THAN_SIGN:{this.state=ce.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case te.NULL:{this._err(qe.unexpectedNullCharacter),this._emitChars(Zn);break}case te.EOF:{this._err(qe.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptDataEscapedDash(t){switch(t){case te.HYPHEN_MINUS:{this.state=ce.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-");break}case te.LESS_THAN_SIGN:{this.state=ce.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case te.NULL:{this._err(qe.unexpectedNullCharacter),this.state=ce.SCRIPT_DATA_ESCAPED,this._emitChars(Zn);break}case te.EOF:{this._err(qe.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=ce.SCRIPT_DATA_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataEscapedDashDash(t){switch(t){case te.HYPHEN_MINUS:{this._emitChars("-");break}case te.LESS_THAN_SIGN:{this.state=ce.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case te.GREATER_THAN_SIGN:{this.state=ce.SCRIPT_DATA,this._emitChars(">");break}case te.NULL:{this._err(qe.unexpectedNullCharacter),this.state=ce.SCRIPT_DATA_ESCAPED,this._emitChars(Zn);break}case te.EOF:{this._err(qe.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=ce.SCRIPT_DATA_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataEscapedLessThanSign(t){t===te.SOLIDUS?this.state=ce.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:nc(t)?(this._emitChars("<"),this.state=ce.SCRIPT_DATA_DOUBLE_ESCAPE_START,this._stateScriptDataDoubleEscapeStart(t)):(this._emitChars("<"),this.state=ce.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataEscapedEndTagOpen(t){nc(t)?(this.state=ce.SCRIPT_DATA_ESCAPED_END_TAG_NAME,this._stateScriptDataEscapedEndTagName(t)):(this._emitChars("</"),this.state=ce.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataEscapedEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=ce.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataDoubleEscapeStart(t){if(this.preprocessor.startsWith(Vs.SCRIPT,!1)&&bO(this.preprocessor.peek(Vs.SCRIPT.length))){this._emitCodePoint(t);for(let r=0;r<Vs.SCRIPT.length;r++)this._emitCodePoint(this._consume());this.state=ce.SCRIPT_DATA_DOUBLE_ESCAPED}else this._ensureHibernation()||(this.state=ce.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataDoubleEscaped(t){switch(t){case te.HYPHEN_MINUS:{this.state=ce.SCRIPT_DATA_DOUBLE_ESCAPED_DASH,this._emitChars("-");break}case te.LESS_THAN_SIGN:{this.state=ce.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case te.NULL:{this._err(qe.unexpectedNullCharacter),this._emitChars(Zn);break}case te.EOF:{this._err(qe.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedDash(t){switch(t){case te.HYPHEN_MINUS:{this.state=ce.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH,this._emitChars("-");break}case te.LESS_THAN_SIGN:{this.state=ce.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case te.NULL:{this._err(qe.unexpectedNullCharacter),this.state=ce.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(Zn);break}case te.EOF:{this._err(qe.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=ce.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedDashDash(t){switch(t){case te.HYPHEN_MINUS:{this._emitChars("-");break}case te.LESS_THAN_SIGN:{this.state=ce.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case te.GREATER_THAN_SIGN:{this.state=ce.SCRIPT_DATA,this._emitChars(">");break}case te.NULL:{this._err(qe.unexpectedNullCharacter),this.state=ce.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(Zn);break}case te.EOF:{this._err(qe.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=ce.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedLessThanSign(t){t===te.SOLIDUS?(this.state=ce.SCRIPT_DATA_DOUBLE_ESCAPE_END,this._emitChars("/")):(this.state=ce.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(t))}_stateScriptDataDoubleEscapeEnd(t){if(this.preprocessor.startsWith(Vs.SCRIPT,!1)&&bO(this.preprocessor.peek(Vs.SCRIPT.length))){this._emitCodePoint(t);for(let r=0;r<Vs.SCRIPT.length;r++)this._emitCodePoint(this._consume());this.state=ce.SCRIPT_DATA_ESCAPED}else this._ensureHibernation()||(this.state=ce.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(t))}_stateBeforeAttributeName(t){switch(t){case te.SPACE:case te.LINE_FEED:case te.TABULATION:case te.FORM_FEED:break;case te.SOLIDUS:case te.GREATER_THAN_SIGN:case te.EOF:{this.state=ce.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(t);break}case te.EQUALS_SIGN:{this._err(qe.unexpectedEqualsSignBeforeAttributeName),this._createAttr("="),this.state=ce.ATTRIBUTE_NAME;break}default:this._createAttr(""),this.state=ce.ATTRIBUTE_NAME,this._stateAttributeName(t)}}_stateAttributeName(t){switch(t){case te.SPACE:case te.LINE_FEED:case te.TABULATION:case te.FORM_FEED:case te.SOLIDUS:case te.GREATER_THAN_SIGN:case te.EOF:{this._leaveAttrName(),this.state=ce.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(t);break}case te.EQUALS_SIGN:{this._leaveAttrName(),this.state=ce.BEFORE_ATTRIBUTE_VALUE;break}case te.QUOTATION_MARK:case te.APOSTROPHE:case te.LESS_THAN_SIGN:{this._err(qe.unexpectedCharacterInAttributeName),this.currentAttr.name+=String.fromCodePoint(t);break}case te.NULL:{this._err(qe.unexpectedNullCharacter),this.currentAttr.name+=Zn;break}default:this.currentAttr.name+=String.fromCodePoint(pg(t)?w0(t):t)}}_stateAfterAttributeName(t){switch(t){case te.SPACE:case te.LINE_FEED:case te.TABULATION:case te.FORM_FEED:break;case te.SOLIDUS:{this.state=ce.SELF_CLOSING_START_TAG;break}case te.EQUALS_SIGN:{this.state=ce.BEFORE_ATTRIBUTE_VALUE;break}case te.GREATER_THAN_SIGN:{this.state=ce.DATA,this.emitCurrentTagToken();break}case te.EOF:{this._err(qe.eofInTag),this._emitEOFToken();break}default:this._createAttr(""),this.state=ce.ATTRIBUTE_NAME,this._stateAttributeName(t)}}_stateBeforeAttributeValue(t){switch(t){case te.SPACE:case te.LINE_FEED:case te.TABULATION:case te.FORM_FEED:break;case te.QUOTATION_MARK:{this.state=ce.ATTRIBUTE_VALUE_DOUBLE_QUOTED;break}case te.APOSTROPHE:{this.state=ce.ATTRIBUTE_VALUE_SINGLE_QUOTED;break}case te.GREATER_THAN_SIGN:{this._err(qe.missingAttributeValue),this.state=ce.DATA,this.emitCurrentTagToken();break}default:this.state=ce.ATTRIBUTE_VALUE_UNQUOTED,this._stateAttributeValueUnquoted(t)}}_stateAttributeValueDoubleQuoted(t){switch(t){case te.QUOTATION_MARK:{this.state=ce.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case te.AMPERSAND:{this._startCharacterReference();break}case te.NULL:{this._err(qe.unexpectedNullCharacter),this.currentAttr.value+=Zn;break}case te.EOF:{this._err(qe.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAttributeValueSingleQuoted(t){switch(t){case te.APOSTROPHE:{this.state=ce.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case te.AMPERSAND:{this._startCharacterReference();break}case te.NULL:{this._err(qe.unexpectedNullCharacter),this.currentAttr.value+=Zn;break}case te.EOF:{this._err(qe.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAttributeValueUnquoted(t){switch(t){case te.SPACE:case te.LINE_FEED:case te.TABULATION:case te.FORM_FEED:{this._leaveAttrValue(),this.state=ce.BEFORE_ATTRIBUTE_NAME;break}case te.AMPERSAND:{this._startCharacterReference();break}case te.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=ce.DATA,this.emitCurrentTagToken();break}case te.NULL:{this._err(qe.unexpectedNullCharacter),this.currentAttr.value+=Zn;break}case te.QUOTATION_MARK:case te.APOSTROPHE:case te.LESS_THAN_SIGN:case te.EQUALS_SIGN:case te.GRAVE_ACCENT:{this._err(qe.unexpectedCharacterInUnquotedAttributeValue),this.currentAttr.value+=String.fromCodePoint(t);break}case te.EOF:{this._err(qe.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAfterAttributeValueQuoted(t){switch(t){case te.SPACE:case te.LINE_FEED:case te.TABULATION:case te.FORM_FEED:{this._leaveAttrValue(),this.state=ce.BEFORE_ATTRIBUTE_NAME;break}case te.SOLIDUS:{this._leaveAttrValue(),this.state=ce.SELF_CLOSING_START_TAG;break}case te.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=ce.DATA,this.emitCurrentTagToken();break}case te.EOF:{this._err(qe.eofInTag),this._emitEOFToken();break}default:this._err(qe.missingWhitespaceBetweenAttributes),this.state=ce.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(t)}}_stateSelfClosingStartTag(t){switch(t){case te.GREATER_THAN_SIGN:{const r=this.currentToken;r.selfClosing=!0,this.state=ce.DATA,this.emitCurrentTagToken();break}case te.EOF:{this._err(qe.eofInTag),this._emitEOFToken();break}default:this._err(qe.unexpectedSolidusInTag),this.state=ce.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(t)}}_stateBogusComment(t){const r=this.currentToken;switch(t){case te.GREATER_THAN_SIGN:{this.state=ce.DATA,this.emitCurrentComment(r);break}case te.EOF:{this.emitCurrentComment(r),this._emitEOFToken();break}case te.NULL:{this._err(qe.unexpectedNullCharacter),r.data+=Zn;break}default:r.data+=String.fromCodePoint(t)}}_stateMarkupDeclarationOpen(t){this._consumeSequenceIfMatch(Vs.DASH_DASH,!0)?(this._createCommentToken(Vs.DASH_DASH.length+1),this.state=ce.COMMENT_START):this._consumeSequenceIfMatch(Vs.DOCTYPE,!1)?(this.currentLocation=this.getCurrentLocation(Vs.DOCTYPE.length+1),this.state=ce.DOCTYPE):this._consumeSequenceIfMatch(Vs.CDATA_START,!0)?this.inForeignNode?this.state=ce.CDATA_SECTION:(this._err(qe.cdataInHtmlContent),this._createCommentToken(Vs.CDATA_START.length+1),this.currentToken.data="[CDATA[",this.state=ce.BOGUS_COMMENT):this._ensureHibernation()||(this._err(qe.incorrectlyOpenedComment),this._createCommentToken(2),this.state=ce.BOGUS_COMMENT,this._stateBogusComment(t))}_stateCommentStart(t){switch(t){case te.HYPHEN_MINUS:{this.state=ce.COMMENT_START_DASH;break}case te.GREATER_THAN_SIGN:{this._err(qe.abruptClosingOfEmptyComment),this.state=ce.DATA;const r=this.currentToken;this.emitCurrentComment(r);break}default:this.state=ce.COMMENT,this._stateComment(t)}}_stateCommentStartDash(t){const r=this.currentToken;switch(t){case te.HYPHEN_MINUS:{this.state=ce.COMMENT_END;break}case te.GREATER_THAN_SIGN:{this._err(qe.abruptClosingOfEmptyComment),this.state=ce.DATA,this.emitCurrentComment(r);break}case te.EOF:{this._err(qe.eofInComment),this.emitCurrentComment(r),this._emitEOFToken();break}default:r.data+="-",this.state=ce.COMMENT,this._stateComment(t)}}_stateComment(t){const r=this.currentToken;switch(t){case te.HYPHEN_MINUS:{this.state=ce.COMMENT_END_DASH;break}case te.LESS_THAN_SIGN:{r.data+="<",this.state=ce.COMMENT_LESS_THAN_SIGN;break}case te.NULL:{this._err(qe.unexpectedNullCharacter),r.data+=Zn;break}case te.EOF:{this._err(qe.eofInComment),this.emitCurrentComment(r),this._emitEOFToken();break}default:r.data+=String.fromCodePoint(t)}}_stateCommentLessThanSign(t){const r=this.currentToken;switch(t){case te.EXCLAMATION_MARK:{r.data+="!",this.state=ce.COMMENT_LESS_THAN_SIGN_BANG;break}case te.LESS_THAN_SIGN:{r.data+="<";break}default:this.state=ce.COMMENT,this._stateComment(t)}}_stateCommentLessThanSignBang(t){t===te.HYPHEN_MINUS?this.state=ce.COMMENT_LESS_THAN_SIGN_BANG_DASH:(this.state=ce.COMMENT,this._stateComment(t))}_stateCommentLessThanSignBangDash(t){t===te.HYPHEN_MINUS?this.state=ce.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:(this.state=ce.COMMENT_END_DASH,this._stateCommentEndDash(t))}_stateCommentLessThanSignBangDashDash(t){t!==te.GREATER_THAN_SIGN&&t!==te.EOF&&this._err(qe.nestedComment),this.state=ce.COMMENT_END,this._stateCommentEnd(t)}_stateCommentEndDash(t){const r=this.currentToken;switch(t){case te.HYPHEN_MINUS:{this.state=ce.COMMENT_END;break}case te.EOF:{this._err(qe.eofInComment),this.emitCurrentComment(r),this._emitEOFToken();break}default:r.data+="-",this.state=ce.COMMENT,this._stateComment(t)}}_stateCommentEnd(t){const r=this.currentToken;switch(t){case te.GREATER_THAN_SIGN:{this.state=ce.DATA,this.emitCurrentComment(r);break}case te.EXCLAMATION_MARK:{this.state=ce.COMMENT_END_BANG;break}case te.HYPHEN_MINUS:{r.data+="-";break}case te.EOF:{this._err(qe.eofInComment),this.emitCurrentComment(r),this._emitEOFToken();break}default:r.data+="--",this.state=ce.COMMENT,this._stateComment(t)}}_stateCommentEndBang(t){const r=this.currentToken;switch(t){case te.HYPHEN_MINUS:{r.data+="--!",this.state=ce.COMMENT_END_DASH;break}case te.GREATER_THAN_SIGN:{this._err(qe.incorrectlyClosedComment),this.state=ce.DATA,this.emitCurrentComment(r);break}case te.EOF:{this._err(qe.eofInComment),this.emitCurrentComment(r),this._emitEOFToken();break}default:r.data+="--!",this.state=ce.COMMENT,this._stateComment(t)}}_stateDoctype(t){switch(t){case te.SPACE:case te.LINE_FEED:case te.TABULATION:case te.FORM_FEED:{this.state=ce.BEFORE_DOCTYPE_NAME;break}case te.GREATER_THAN_SIGN:{this.state=ce.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(t);break}case te.EOF:{this._err(qe.eofInDoctype),this._createDoctypeToken(null);const r=this.currentToken;r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:this._err(qe.missingWhitespaceBeforeDoctypeName),this.state=ce.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(t)}}_stateBeforeDoctypeName(t){if(pg(t))this._createDoctypeToken(String.fromCharCode(w0(t))),this.state=ce.DOCTYPE_NAME;else switch(t){case te.SPACE:case te.LINE_FEED:case te.TABULATION:case te.FORM_FEED:break;case te.NULL:{this._err(qe.unexpectedNullCharacter),this._createDoctypeToken(Zn),this.state=ce.DOCTYPE_NAME;break}case te.GREATER_THAN_SIGN:{this._err(qe.missingDoctypeName),this._createDoctypeToken(null);const r=this.currentToken;r.forceQuirks=!0,this.emitCurrentDoctype(r),this.state=ce.DATA;break}case te.EOF:{this._err(qe.eofInDoctype),this._createDoctypeToken(null);const r=this.currentToken;r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:this._createDoctypeToken(String.fromCodePoint(t)),this.state=ce.DOCTYPE_NAME}}_stateDoctypeName(t){const r=this.currentToken;switch(t){case te.SPACE:case te.LINE_FEED:case te.TABULATION:case te.FORM_FEED:{this.state=ce.AFTER_DOCTYPE_NAME;break}case te.GREATER_THAN_SIGN:{this.state=ce.DATA,this.emitCurrentDoctype(r);break}case te.NULL:{this._err(qe.unexpectedNullCharacter),r.name+=Zn;break}case te.EOF:{this._err(qe.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:r.name+=String.fromCodePoint(pg(t)?w0(t):t)}}_stateAfterDoctypeName(t){const r=this.currentToken;switch(t){case te.SPACE:case te.LINE_FEED:case te.TABULATION:case te.FORM_FEED:break;case te.GREATER_THAN_SIGN:{this.state=ce.DATA,this.emitCurrentDoctype(r);break}case te.EOF:{this._err(qe.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:this._consumeSequenceIfMatch(Vs.PUBLIC,!1)?this.state=ce.AFTER_DOCTYPE_PUBLIC_KEYWORD:this._consumeSequenceIfMatch(Vs.SYSTEM,!1)?this.state=ce.AFTER_DOCTYPE_SYSTEM_KEYWORD:this._ensureHibernation()||(this._err(qe.invalidCharacterSequenceAfterDoctypeName),r.forceQuirks=!0,this.state=ce.BOGUS_DOCTYPE,this._stateBogusDoctype(t))}}_stateAfterDoctypePublicKeyword(t){const r=this.currentToken;switch(t){case te.SPACE:case te.LINE_FEED:case te.TABULATION:case te.FORM_FEED:{this.state=ce.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER;break}case te.QUOTATION_MARK:{this._err(qe.missingWhitespaceAfterDoctypePublicKeyword),r.publicId="",this.state=ce.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case te.APOSTROPHE:{this._err(qe.missingWhitespaceAfterDoctypePublicKeyword),r.publicId="",this.state=ce.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case te.GREATER_THAN_SIGN:{this._err(qe.missingDoctypePublicIdentifier),r.forceQuirks=!0,this.state=ce.DATA,this.emitCurrentDoctype(r);break}case te.EOF:{this._err(qe.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:this._err(qe.missingQuoteBeforeDoctypePublicIdentifier),r.forceQuirks=!0,this.state=ce.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBeforeDoctypePublicIdentifier(t){const r=this.currentToken;switch(t){case te.SPACE:case te.LINE_FEED:case te.TABULATION:case te.FORM_FEED:break;case te.QUOTATION_MARK:{r.publicId="",this.state=ce.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case te.APOSTROPHE:{r.publicId="",this.state=ce.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case te.GREATER_THAN_SIGN:{this._err(qe.missingDoctypePublicIdentifier),r.forceQuirks=!0,this.state=ce.DATA,this.emitCurrentDoctype(r);break}case te.EOF:{this._err(qe.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:this._err(qe.missingQuoteBeforeDoctypePublicIdentifier),r.forceQuirks=!0,this.state=ce.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateDoctypePublicIdentifierDoubleQuoted(t){const r=this.currentToken;switch(t){case te.QUOTATION_MARK:{this.state=ce.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case te.NULL:{this._err(qe.unexpectedNullCharacter),r.publicId+=Zn;break}case te.GREATER_THAN_SIGN:{this._err(qe.abruptDoctypePublicIdentifier),r.forceQuirks=!0,this.emitCurrentDoctype(r),this.state=ce.DATA;break}case te.EOF:{this._err(qe.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:r.publicId+=String.fromCodePoint(t)}}_stateDoctypePublicIdentifierSingleQuoted(t){const r=this.currentToken;switch(t){case te.APOSTROPHE:{this.state=ce.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case te.NULL:{this._err(qe.unexpectedNullCharacter),r.publicId+=Zn;break}case te.GREATER_THAN_SIGN:{this._err(qe.abruptDoctypePublicIdentifier),r.forceQuirks=!0,this.emitCurrentDoctype(r),this.state=ce.DATA;break}case te.EOF:{this._err(qe.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:r.publicId+=String.fromCodePoint(t)}}_stateAfterDoctypePublicIdentifier(t){const r=this.currentToken;switch(t){case te.SPACE:case te.LINE_FEED:case te.TABULATION:case te.FORM_FEED:{this.state=ce.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS;break}case te.GREATER_THAN_SIGN:{this.state=ce.DATA,this.emitCurrentDoctype(r);break}case te.QUOTATION_MARK:{this._err(qe.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),r.systemId="",this.state=ce.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case te.APOSTROPHE:{this._err(qe.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),r.systemId="",this.state=ce.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case te.EOF:{this._err(qe.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:this._err(qe.missingQuoteBeforeDoctypeSystemIdentifier),r.forceQuirks=!0,this.state=ce.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBetweenDoctypePublicAndSystemIdentifiers(t){const r=this.currentToken;switch(t){case te.SPACE:case te.LINE_FEED:case te.TABULATION:case te.FORM_FEED:break;case te.GREATER_THAN_SIGN:{this.emitCurrentDoctype(r),this.state=ce.DATA;break}case te.QUOTATION_MARK:{r.systemId="",this.state=ce.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case te.APOSTROPHE:{r.systemId="",this.state=ce.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case te.EOF:{this._err(qe.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:this._err(qe.missingQuoteBeforeDoctypeSystemIdentifier),r.forceQuirks=!0,this.state=ce.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateAfterDoctypeSystemKeyword(t){const r=this.currentToken;switch(t){case te.SPACE:case te.LINE_FEED:case te.TABULATION:case te.FORM_FEED:{this.state=ce.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER;break}case te.QUOTATION_MARK:{this._err(qe.missingWhitespaceAfterDoctypeSystemKeyword),r.systemId="",this.state=ce.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case te.APOSTROPHE:{this._err(qe.missingWhitespaceAfterDoctypeSystemKeyword),r.systemId="",this.state=ce.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case te.GREATER_THAN_SIGN:{this._err(qe.missingDoctypeSystemIdentifier),r.forceQuirks=!0,this.state=ce.DATA,this.emitCurrentDoctype(r);break}case te.EOF:{this._err(qe.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:this._err(qe.missingQuoteBeforeDoctypeSystemIdentifier),r.forceQuirks=!0,this.state=ce.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBeforeDoctypeSystemIdentifier(t){const r=this.currentToken;switch(t){case te.SPACE:case te.LINE_FEED:case te.TABULATION:case te.FORM_FEED:break;case te.QUOTATION_MARK:{r.systemId="",this.state=ce.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case te.APOSTROPHE:{r.systemId="",this.state=ce.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case te.GREATER_THAN_SIGN:{this._err(qe.missingDoctypeSystemIdentifier),r.forceQuirks=!0,this.state=ce.DATA,this.emitCurrentDoctype(r);break}case te.EOF:{this._err(qe.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:this._err(qe.missingQuoteBeforeDoctypeSystemIdentifier),r.forceQuirks=!0,this.state=ce.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateDoctypeSystemIdentifierDoubleQuoted(t){const r=this.currentToken;switch(t){case te.QUOTATION_MARK:{this.state=ce.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case te.NULL:{this._err(qe.unexpectedNullCharacter),r.systemId+=Zn;break}case te.GREATER_THAN_SIGN:{this._err(qe.abruptDoctypeSystemIdentifier),r.forceQuirks=!0,this.emitCurrentDoctype(r),this.state=ce.DATA;break}case te.EOF:{this._err(qe.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:r.systemId+=String.fromCodePoint(t)}}_stateDoctypeSystemIdentifierSingleQuoted(t){const r=this.currentToken;switch(t){case te.APOSTROPHE:{this.state=ce.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case te.NULL:{this._err(qe.unexpectedNullCharacter),r.systemId+=Zn;break}case te.GREATER_THAN_SIGN:{this._err(qe.abruptDoctypeSystemIdentifier),r.forceQuirks=!0,this.emitCurrentDoctype(r),this.state=ce.DATA;break}case te.EOF:{this._err(qe.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:r.systemId+=String.fromCodePoint(t)}}_stateAfterDoctypeSystemIdentifier(t){const r=this.currentToken;switch(t){case te.SPACE:case te.LINE_FEED:case te.TABULATION:case te.FORM_FEED:break;case te.GREATER_THAN_SIGN:{this.emitCurrentDoctype(r),this.state=ce.DATA;break}case te.EOF:{this._err(qe.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:this._err(qe.unexpectedCharacterAfterDoctypeSystemIdentifier),this.state=ce.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBogusDoctype(t){const r=this.currentToken;switch(t){case te.GREATER_THAN_SIGN:{this.emitCurrentDoctype(r),this.state=ce.DATA;break}case te.NULL:{this._err(qe.unexpectedNullCharacter);break}case te.EOF:{this.emitCurrentDoctype(r),this._emitEOFToken();break}}}_stateCdataSection(t){switch(t){case te.RIGHT_SQUARE_BRACKET:{this.state=ce.CDATA_SECTION_BRACKET;break}case te.EOF:{this._err(qe.eofInCdata),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateCdataSectionBracket(t){t===te.RIGHT_SQUARE_BRACKET?this.state=ce.CDATA_SECTION_END:(this._emitChars("]"),this.state=ce.CDATA_SECTION,this._stateCdataSection(t))}_stateCdataSectionEnd(t){switch(t){case te.GREATER_THAN_SIGN:{this.state=ce.DATA;break}case te.RIGHT_SQUARE_BRACKET:{this._emitChars("]");break}default:this._emitChars("]]"),this.state=ce.CDATA_SECTION,this._stateCdataSection(t)}}_stateCharacterReference(){let t=this.entityDecoder.write(this.preprocessor.html,this.preprocessor.pos);if(t<0)if(this.preprocessor.lastChunkWritten)t=this.entityDecoder.end();else{this.active=!1,this.preprocessor.pos=this.preprocessor.html.length-1,this.consumedAfterSnapshot=0,this.preprocessor.endOfChunkHit=!0;return}t===0?(this.preprocessor.pos=this.entityStartPos,this._flushCodePointConsumedAsCharacterReference(te.AMPERSAND),this.state=!this._isCharacterReferenceInAttribute()&&fO(this.preprocessor.peek(1))?ce.AMBIGUOUS_AMPERSAND:this.returnState):this.state=this.returnState}_stateAmbiguousAmpersand(t){fO(t)?this._flushCodePointConsumedAsCharacterReference(t):(t===te.SEMICOLON&&this._err(qe.unknownNamedCharacterReference),this.state=this.returnState,this._callState(t))}};const N5=new Set([_.DD,_.DT,_.LI,_.OPTGROUP,_.OPTION,_.P,_.RB,_.RP,_.RT,_.RTC]),yO=new Set([...N5,_.CAPTION,_.COLGROUP,_.TBODY,_.TD,_.TFOOT,_.TH,_.THEAD,_.TR]),Lb=new Set([_.APPLET,_.CAPTION,_.HTML,_.MARQUEE,_.OBJECT,_.TABLE,_.TD,_.TEMPLATE,_.TH]),Use=new Set([...Lb,_.OL,_.UL]),$se=new Set([...Lb,_.BUTTON]),xO=new Set([_.ANNOTATION_XML,_.MI,_.MN,_.MO,_.MS,_.MTEXT]),EO=new Set([_.DESC,_.FOREIGN_OBJECT,_.TITLE]),Hse=new Set([_.TR,_.TEMPLATE,_.HTML]),zse=new Set([_.TBODY,_.TFOOT,_.THEAD,_.TEMPLATE,_.HTML]),Gse=new Set([_.TABLE,_.TEMPLATE,_.HTML]),qse=new Set([_.TD,_.TH]);let Wse=class{get currentTmplContentOrNode(){return this._isInTemplate()?this.treeAdapter.getTemplateContent(this.current):this.current}constructor(t,r,n){this.treeAdapter=r,this.handler=n,this.items=[],this.tagIDs=[],this.stackTop=-1,this.tmplCount=0,this.currentTagId=_.UNKNOWN,this.current=t}_indexOf(t){return this.items.lastIndexOf(t,this.stackTop)}_isInTemplate(){return this.currentTagId===_.TEMPLATE&&this.treeAdapter.getNamespaceURI(this.current)===pt.HTML}_updateCurrentElement(){this.current=this.items[this.stackTop],this.currentTagId=this.tagIDs[this.stackTop]}push(t,r){this.stackTop++,this.items[this.stackTop]=t,this.current=t,this.tagIDs[this.stackTop]=r,this.currentTagId=r,this._isInTemplate()&&this.tmplCount++,this.handler.onItemPush(t,r,!0)}pop(){const t=this.current;this.tmplCount>0&&this._isInTemplate()&&this.tmplCount--,this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(t,!0)}replace(t,r){const n=this._indexOf(t);this.items[n]=r,n===this.stackTop&&(this.current=r)}insertAfter(t,r,n){const a=this._indexOf(t)+1;this.items.splice(a,0,r),this.tagIDs.splice(a,0,n),this.stackTop++,a===this.stackTop&&this._updateCurrentElement(),this.current&&this.currentTagId!==void 0&&this.handler.onItemPush(this.current,this.currentTagId,a===this.stackTop)}popUntilTagNamePopped(t){let r=this.stackTop+1;do r=this.tagIDs.lastIndexOf(t,r-1);while(r>0&&this.treeAdapter.getNamespaceURI(this.items[r])!==pt.HTML);this.shortenToLength(Math.max(r,0))}shortenToLength(t){for(;this.stackTop>=t;){const r=this.current;this.tmplCount>0&&this._isInTemplate()&&(this.tmplCount-=1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(r,this.stackTop<t)}}popUntilElementPopped(t){const r=this._indexOf(t);this.shortenToLength(Math.max(r,0))}popUntilPopped(t,r){const n=this._indexOfTagNames(t,r);this.shortenToLength(Math.max(n,0))}popUntilNumberedHeaderPopped(){this.popUntilPopped(rT,pt.HTML)}popUntilTableCellPopped(){this.popUntilPopped(qse,pt.HTML)}popAllUpToHtmlElement(){this.tmplCount=0,this.shortenToLength(1)}_indexOfTagNames(t,r){for(let n=this.stackTop;n>=0;n--)if(t.has(this.tagIDs[n])&&this.treeAdapter.getNamespaceURI(this.items[n])===r)return n;return-1}clearBackTo(t,r){const n=this._indexOfTagNames(t,r);this.shortenToLength(n+1)}clearBackToTableContext(){this.clearBackTo(Gse,pt.HTML)}clearBackToTableBodyContext(){this.clearBackTo(zse,pt.HTML)}clearBackToTableRowContext(){this.clearBackTo(Hse,pt.HTML)}remove(t){const r=this._indexOf(t);r>=0&&(r===this.stackTop?this.pop():(this.items.splice(r,1),this.tagIDs.splice(r,1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(t,!1)))}tryPeekProperlyNestedBodyElement(){return this.stackTop>=1&&this.tagIDs[1]===_.BODY?this.items[1]:null}contains(t){return this._indexOf(t)>-1}getCommonAncestor(t){const r=this._indexOf(t)-1;return r>=0?this.items[r]:null}isRootHtmlElementCurrent(){return this.stackTop===0&&this.tagIDs[0]===_.HTML}hasInDynamicScope(t,r){for(let n=this.stackTop;n>=0;n--){const a=this.tagIDs[n];switch(this.treeAdapter.getNamespaceURI(this.items[n])){case pt.HTML:{if(a===t)return!0;if(r.has(a))return!1;break}case pt.SVG:{if(EO.has(a))return!1;break}case pt.MATHML:{if(xO.has(a))return!1;break}}}return!0}hasInScope(t){return this.hasInDynamicScope(t,Lb)}hasInListItemScope(t){return this.hasInDynamicScope(t,Use)}hasInButtonScope(t){return this.hasInDynamicScope(t,$se)}hasNumberedHeaderInScope(){for(let t=this.stackTop;t>=0;t--){const r=this.tagIDs[t];switch(this.treeAdapter.getNamespaceURI(this.items[t])){case pt.HTML:{if(rT.has(r))return!0;if(Lb.has(r))return!1;break}case pt.SVG:{if(EO.has(r))return!1;break}case pt.MATHML:{if(xO.has(r))return!1;break}}}return!0}hasInTableScope(t){for(let r=this.stackTop;r>=0;r--)if(this.treeAdapter.getNamespaceURI(this.items[r])===pt.HTML)switch(this.tagIDs[r]){case t:return!0;case _.TABLE:case _.HTML:return!1}return!0}hasTableBodyContextInTableScope(){for(let t=this.stackTop;t>=0;t--)if(this.treeAdapter.getNamespaceURI(this.items[t])===pt.HTML)switch(this.tagIDs[t]){case _.TBODY:case _.THEAD:case _.TFOOT:return!0;case _.TABLE:case _.HTML:return!1}return!0}hasInSelectScope(t){for(let r=this.stackTop;r>=0;r--)if(this.treeAdapter.getNamespaceURI(this.items[r])===pt.HTML)switch(this.tagIDs[r]){case t:return!0;case _.OPTION:case _.OPTGROUP:break;default:return!1}return!0}generateImpliedEndTags(){for(;this.currentTagId!==void 0&&N5.has(this.currentTagId);)this.pop()}generateImpliedEndTagsThoroughly(){for(;this.currentTagId!==void 0&&yO.has(this.currentTagId);)this.pop()}generateImpliedEndTagsWithExclusion(t){for(;this.currentTagId!==void 0&&this.currentTagId!==t&&yO.has(this.currentTagId);)this.pop()}};const CS=3;var Fo;(function(e){e[e.Marker=0]="Marker",e[e.Element=1]="Element"})(Fo||(Fo={}));const vO={type:Fo.Marker};let Yse=class{constructor(t){this.treeAdapter=t,this.entries=[],this.bookmark=null}_getNoahArkConditionCandidates(t,r){const n=[],a=r.length,i=this.treeAdapter.getTagName(t),o=this.treeAdapter.getNamespaceURI(t);for(let l=0;l<this.entries.length;l++){const u=this.entries[l];if(u.type===Fo.Marker)break;const{element:d}=u;if(this.treeAdapter.getTagName(d)===i&&this.treeAdapter.getNamespaceURI(d)===o){const h=this.treeAdapter.getAttrList(d);h.length===a&&n.push({idx:l,attrs:h})}}return n}_ensureNoahArkCondition(t){if(this.entries.length<CS)return;const r=this.treeAdapter.getAttrList(t),n=this._getNoahArkConditionCandidates(t,r);if(n.length<CS)return;const a=new Map(r.map(o=>[o.name,o.value]));let i=0;for(let o=0;o<n.length;o++){const l=n[o];l.attrs.every(u=>a.get(u.name)===u.value)&&(i+=1,i>=CS&&this.entries.splice(l.idx,1))}}insertMarker(){this.entries.unshift(vO)}pushElement(t,r){this._ensureNoahArkCondition(t),this.entries.unshift({type:Fo.Element,element:t,token:r})}insertElementAfterBookmark(t,r){const n=this.entries.indexOf(this.bookmark);this.entries.splice(n,0,{type:Fo.Element,element:t,token:r})}removeEntry(t){const r=this.entries.indexOf(t);r!==-1&&this.entries.splice(r,1)}clearToLastMarker(){const t=this.entries.indexOf(vO);t===-1?this.entries.length=0:this.entries.splice(0,t+1)}getElementEntryInScopeWithTagName(t){const r=this.entries.find(n=>n.type===Fo.Marker||this.treeAdapter.getTagName(n.element)===t);return r&&r.type===Fo.Element?r:null}getElementEntry(t){return this.entries.find(r=>r.type===Fo.Element&&r.element===t)}};const ac={createDocument(){return{nodeName:"#document",mode:Bi.NO_QUIRKS,childNodes:[]}},createDocumentFragment(){return{nodeName:"#document-fragment",childNodes:[]}},createElement(e,t,r){return{nodeName:e,tagName:e,attrs:r,namespaceURI:t,childNodes:[],parentNode:null}},createCommentNode(e){return{nodeName:"#comment",data:e,parentNode:null}},createTextNode(e){return{nodeName:"#text",value:e,parentNode:null}},appendChild(e,t){e.childNodes.push(t),t.parentNode=e},insertBefore(e,t,r){const n=e.childNodes.indexOf(r);e.childNodes.splice(n,0,t),t.parentNode=e},setTemplateContent(e,t){e.content=t},getTemplateContent(e){return e.content},setDocumentType(e,t,r,n){const a=e.childNodes.find(i=>i.nodeName==="#documentType");if(a)a.name=t,a.publicId=r,a.systemId=n;else{const i={nodeName:"#documentType",name:t,publicId:r,systemId:n,parentNode:null};ac.appendChild(e,i)}},setDocumentMode(e,t){e.mode=t},getDocumentMode(e){return e.mode},detachNode(e){if(e.parentNode){const t=e.parentNode.childNodes.indexOf(e);e.parentNode.childNodes.splice(t,1),e.parentNode=null}},insertText(e,t){if(e.childNodes.length>0){const r=e.childNodes[e.childNodes.length-1];if(ac.isTextNode(r)){r.value+=t;return}}ac.appendChild(e,ac.createTextNode(t))},insertTextBefore(e,t,r){const n=e.childNodes[e.childNodes.indexOf(r)-1];n&&ac.isTextNode(n)?n.value+=t:ac.insertBefore(e,ac.createTextNode(t),r)},adoptAttributes(e,t){const r=new Set(e.attrs.map(n=>n.name));for(let n=0;n<t.length;n++)r.has(t[n].name)||e.attrs.push(t[n])},getFirstChild(e){return e.childNodes[0]},getChildNodes(e){return e.childNodes},getParentNode(e){return e.parentNode},getAttrList(e){return e.attrs},getTagName(e){return e.tagName},getNamespaceURI(e){return e.namespaceURI},getTextNodeContent(e){return e.value},getCommentNodeContent(e){return e.data},getDocumentTypeNodeName(e){return e.name},getDocumentTypeNodePublicId(e){return e.publicId},getDocumentTypeNodeSystemId(e){return e.systemId},isTextNode(e){return e.nodeName==="#text"},isCommentNode(e){return e.nodeName==="#comment"},isDocumentTypeNode(e){return e.nodeName==="#documentType"},isElementNode(e){return Object.prototype.hasOwnProperty.call(e,"tagName")},setNodeSourceCodeLocation(e,t){e.sourceCodeLocation=t},getNodeSourceCodeLocation(e){return e.sourceCodeLocation},updateNodeSourceCodeLocation(e,t){e.sourceCodeLocation={...e.sourceCodeLocation,...t}}},I5="html",Vse="about:legacy-compat",Kse="http://www.ibm.com/data/dtd/v11/ibmxhtml1-transitional.dtd",R5=["+//silmaril//dtd html pro v0r11 19970101//","-//as//dtd html 3.0 aswedit + extensions//","-//advasoft ltd//dtd html 3.0 aswedit + extensions//","-//ietf//dtd html 2.0 level 1//","-//ietf//dtd html 2.0 level 2//","-//ietf//dtd html 2.0 strict level 1//","-//ietf//dtd html 2.0 strict level 2//","-//ietf//dtd html 2.0 strict//","-//ietf//dtd html 2.0//","-//ietf//dtd html 2.1e//","-//ietf//dtd html 3.0//","-//ietf//dtd html 3.2 final//","-//ietf//dtd html 3.2//","-//ietf//dtd html 3//","-//ietf//dtd html level 0//","-//ietf//dtd html level 1//","-//ietf//dtd html level 2//","-//ietf//dtd html level 3//","-//ietf//dtd html strict level 0//","-//ietf//dtd html strict level 1//","-//ietf//dtd html strict level 2//","-//ietf//dtd html strict level 3//","-//ietf//dtd html strict//","-//ietf//dtd html//","-//metrius//dtd metrius presentational//","-//microsoft//dtd internet explorer 2.0 html strict//","-//microsoft//dtd internet explorer 2.0 html//","-//microsoft//dtd internet explorer 2.0 tables//","-//microsoft//dtd internet explorer 3.0 html strict//","-//microsoft//dtd internet explorer 3.0 html//","-//microsoft//dtd internet explorer 3.0 tables//","-//netscape comm. corp.//dtd html//","-//netscape comm. corp.//dtd strict html//","-//o'reilly and associates//dtd html 2.0//","-//o'reilly and associates//dtd html extended 1.0//","-//o'reilly and associates//dtd html extended relaxed 1.0//","-//sq//dtd html 2.0 hotmetal + extensions//","-//softquad software//dtd hotmetal pro 6.0::19990601::extensions to html 4.0//","-//softquad//dtd hotmetal pro 4.0::19971010::extensions to html 4.0//","-//spyglass//dtd html 2.0 extended//","-//sun microsystems corp.//dtd hotjava html//","-//sun microsystems corp.//dtd hotjava strict html//","-//w3c//dtd html 3 1995-03-24//","-//w3c//dtd html 3.2 draft//","-//w3c//dtd html 3.2 final//","-//w3c//dtd html 3.2//","-//w3c//dtd html 3.2s draft//","-//w3c//dtd html 4.0 frameset//","-//w3c//dtd html 4.0 transitional//","-//w3c//dtd html experimental 19960712//","-//w3c//dtd html experimental 970421//","-//w3c//dtd w3 html//","-//w3o//dtd w3 html 3.0//","-//webtechs//dtd mozilla html 2.0//","-//webtechs//dtd mozilla html//"],Qse=[...R5,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"],Xse=new Set(["-//w3o//dtd w3 html strict 3.0//en//","-/w3c/dtd html 4.0 transitional/en","html"]),D5=["-//w3c//dtd xhtml 1.0 frameset//","-//w3c//dtd xhtml 1.0 transitional//"],Zse=[...D5,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"];function SO(e,t){return t.some(r=>e.startsWith(r))}function Jse(e){return e.name===I5&&e.publicId===null&&(e.systemId===null||e.systemId===Vse)}function eie(e){if(e.name!==I5)return Bi.QUIRKS;const{systemId:t}=e;if(t&&t.toLowerCase()===Kse)return Bi.QUIRKS;let{publicId:r}=e;if(r!==null){if(r=r.toLowerCase(),Xse.has(r))return Bi.QUIRKS;let n=t===null?Qse:R5;if(SO(r,n))return Bi.QUIRKS;if(n=t===null?D5:Zse,SO(r,n))return Bi.LIMITED_QUIRKS}return Bi.NO_QUIRKS}const TO={TEXT_HTML:"text/html",APPLICATION_XML:"application/xhtml+xml"},tie="definitionurl",rie="definitionURL",nie=new Map(["attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(e=>[e.toLowerCase(),e])),aie=new Map([["xlink:actuate",{prefix:"xlink",name:"actuate",namespace:pt.XLINK}],["xlink:arcrole",{prefix:"xlink",name:"arcrole",namespace:pt.XLINK}],["xlink:href",{prefix:"xlink",name:"href",namespace:pt.XLINK}],["xlink:role",{prefix:"xlink",name:"role",namespace:pt.XLINK}],["xlink:show",{prefix:"xlink",name:"show",namespace:pt.XLINK}],["xlink:title",{prefix:"xlink",name:"title",namespace:pt.XLINK}],["xlink:type",{prefix:"xlink",name:"type",namespace:pt.XLINK}],["xml:lang",{prefix:"xml",name:"lang",namespace:pt.XML}],["xml:space",{prefix:"xml",name:"space",namespace:pt.XML}],["xmlns",{prefix:"",name:"xmlns",namespace:pt.XMLNS}],["xmlns:xlink",{prefix:"xmlns",name:"xlink",namespace:pt.XMLNS}]]),sie=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map(e=>[e.toLowerCase(),e])),iie=new Set([_.B,_.BIG,_.BLOCKQUOTE,_.BODY,_.BR,_.CENTER,_.CODE,_.DD,_.DIV,_.DL,_.DT,_.EM,_.EMBED,_.H1,_.H2,_.H3,_.H4,_.H5,_.H6,_.HEAD,_.HR,_.I,_.IMG,_.LI,_.LISTING,_.MENU,_.META,_.NOBR,_.OL,_.P,_.PRE,_.RUBY,_.S,_.SMALL,_.SPAN,_.STRONG,_.STRIKE,_.SUB,_.SUP,_.TABLE,_.TT,_.U,_.UL,_.VAR]);function oie(e){const t=e.tagID;return t===_.FONT&&e.attrs.some(({name:n})=>n===cu.COLOR||n===cu.SIZE||n===cu.FACE)||iie.has(t)}function L5(e){for(let t=0;t<e.attrs.length;t++)if(e.attrs[t].name===tie){e.attrs[t].name=rie;break}}function O5(e){for(let t=0;t<e.attrs.length;t++){const r=nie.get(e.attrs[t].name);r!=null&&(e.attrs[t].name=r)}}function Xw(e){for(let t=0;t<e.attrs.length;t++){const r=aie.get(e.attrs[t].name);r&&(e.attrs[t].prefix=r.prefix,e.attrs[t].name=r.name,e.attrs[t].namespace=r.namespace)}}function lie(e){const t=sie.get(e.tagName);t!=null&&(e.tagName=t,e.tagID=Op(e.tagName))}function cie(e,t){return t===pt.MATHML&&(e===_.MI||e===_.MO||e===_.MN||e===_.MS||e===_.MTEXT)}function uie(e,t,r){if(t===pt.MATHML&&e===_.ANNOTATION_XML){for(let n=0;n<r.length;n++)if(r[n].name===cu.ENCODING){const a=r[n].value.toLowerCase();return a===TO.TEXT_HTML||a===TO.APPLICATION_XML}}return t===pt.SVG&&(e===_.FOREIGN_OBJECT||e===_.DESC||e===_.TITLE)}function die(e,t,r,n){return(!n||n===pt.HTML)&&uie(e,t,r)||(!n||n===pt.MATHML)&&cie(e,t)}const pie="hidden",hie=8,gie=3;var me;(function(e){e[e.INITIAL=0]="INITIAL",e[e.BEFORE_HTML=1]="BEFORE_HTML",e[e.BEFORE_HEAD=2]="BEFORE_HEAD",e[e.IN_HEAD=3]="IN_HEAD",e[e.IN_HEAD_NO_SCRIPT=4]="IN_HEAD_NO_SCRIPT",e[e.AFTER_HEAD=5]="AFTER_HEAD",e[e.IN_BODY=6]="IN_BODY",e[e.TEXT=7]="TEXT",e[e.IN_TABLE=8]="IN_TABLE",e[e.IN_TABLE_TEXT=9]="IN_TABLE_TEXT",e[e.IN_CAPTION=10]="IN_CAPTION",e[e.IN_COLUMN_GROUP=11]="IN_COLUMN_GROUP",e[e.IN_TABLE_BODY=12]="IN_TABLE_BODY",e[e.IN_ROW=13]="IN_ROW",e[e.IN_CELL=14]="IN_CELL",e[e.IN_SELECT=15]="IN_SELECT",e[e.IN_SELECT_IN_TABLE=16]="IN_SELECT_IN_TABLE",e[e.IN_TEMPLATE=17]="IN_TEMPLATE",e[e.AFTER_BODY=18]="AFTER_BODY",e[e.IN_FRAMESET=19]="IN_FRAMESET",e[e.AFTER_FRAMESET=20]="AFTER_FRAMESET",e[e.AFTER_AFTER_BODY=21]="AFTER_AFTER_BODY",e[e.AFTER_AFTER_FRAMESET=22]="AFTER_AFTER_FRAMESET"})(me||(me={}));const mie={startLine:-1,startCol:-1,startOffset:-1,endLine:-1,endCol:-1,endOffset:-1},M5=new Set([_.TABLE,_.TBODY,_.TFOOT,_.THEAD,_.TR]),wO={scriptingEnabled:!0,sourceCodeLocationInfo:!1,treeAdapter:ac,onParseError:null};let kO=class{constructor(t,r,n=null,a=null){this.fragmentContext=n,this.scriptHandler=a,this.currentToken=null,this.stopped=!1,this.insertionMode=me.INITIAL,this.originalInsertionMode=me.INITIAL,this.headElement=null,this.formElement=null,this.currentNotInHTML=!1,this.tmplInsertionModeStack=[],this.pendingCharacterTokens=[],this.hasNonWhitespacePendingCharacterToken=!1,this.framesetOk=!0,this.skipNextNewLine=!1,this.fosterParentingEnabled=!1,this.options={...wO,...t},this.treeAdapter=this.options.treeAdapter,this.onParseError=this.options.onParseError,this.onParseError&&(this.options.sourceCodeLocationInfo=!0),this.document=r??this.treeAdapter.createDocument(),this.tokenizer=new Bse(this.options,this),this.activeFormattingElements=new Yse(this.treeAdapter),this.fragmentContextID=n?Op(this.treeAdapter.getTagName(n)):_.UNKNOWN,this._setContextModes(n??this.document,this.fragmentContextID),this.openElements=new Wse(this.document,this.treeAdapter,this)}static parse(t,r){const n=new this(r);return n.tokenizer.write(t,!0),n.document}static getFragmentParser(t,r){const n={...wO,...r};t??(t=n.treeAdapter.createElement(Ie.TEMPLATE,pt.HTML,[]));const a=n.treeAdapter.createElement("documentmock",pt.HTML,[]),i=new this(n,a,t);return i.fragmentContextID===_.TEMPLATE&&i.tmplInsertionModeStack.unshift(me.IN_TEMPLATE),i._initTokenizerForFragmentParsing(),i._insertFakeRootElement(),i._resetInsertionMode(),i._findFormInFragmentContext(),i}getFragment(){const t=this.treeAdapter.getFirstChild(this.document),r=this.treeAdapter.createDocumentFragment();return this._adoptNodes(t,r),r}_err(t,r,n){var a;if(!this.onParseError)return;const i=(a=t.location)!==null&&a!==void 0?a:mie,o={code:r,startLine:i.startLine,startCol:i.startCol,startOffset:i.startOffset,endLine:n?i.startLine:i.endLine,endCol:n?i.startCol:i.endCol,endOffset:n?i.startOffset:i.endOffset};this.onParseError(o)}onItemPush(t,r,n){var a,i;(i=(a=this.treeAdapter).onItemPush)===null||i===void 0||i.call(a,t),n&&this.openElements.stackTop>0&&this._setContextModes(t,r)}onItemPop(t,r){var n,a;if(this.options.sourceCodeLocationInfo&&this._setEndLocation(t,this.currentToken),(a=(n=this.treeAdapter).onItemPop)===null||a===void 0||a.call(n,t,this.openElements.current),r){let i,o;this.openElements.stackTop===0&&this.fragmentContext?(i=this.fragmentContext,o=this.fragmentContextID):{current:i,currentTagId:o}=this.openElements,this._setContextModes(i,o)}}_setContextModes(t,r){const n=t===this.document||t&&this.treeAdapter.getNamespaceURI(t)===pt.HTML;this.currentNotInHTML=!n,this.tokenizer.inForeignNode=!n&&t!==void 0&&r!==void 0&&!this._isIntegrationPoint(r,t)}_switchToTextParsing(t,r){this._insertElement(t,pt.HTML),this.tokenizer.state=r,this.originalInsertionMode=this.insertionMode,this.insertionMode=me.TEXT}switchToPlaintextParsing(){this.insertionMode=me.TEXT,this.originalInsertionMode=me.IN_BODY,this.tokenizer.state=ga.PLAINTEXT}_getAdjustedCurrentElement(){return this.openElements.stackTop===0&&this.fragmentContext?this.fragmentContext:this.openElements.current}_findFormInFragmentContext(){let t=this.fragmentContext;for(;t;){if(this.treeAdapter.getTagName(t)===Ie.FORM){this.formElement=t;break}t=this.treeAdapter.getParentNode(t)}}_initTokenizerForFragmentParsing(){if(!(!this.fragmentContext||this.treeAdapter.getNamespaceURI(this.fragmentContext)!==pt.HTML))switch(this.fragmentContextID){case _.TITLE:case _.TEXTAREA:{this.tokenizer.state=ga.RCDATA;break}case _.STYLE:case _.XMP:case _.IFRAME:case _.NOEMBED:case _.NOFRAMES:case _.NOSCRIPT:{this.tokenizer.state=ga.RAWTEXT;break}case _.SCRIPT:{this.tokenizer.state=ga.SCRIPT_DATA;break}case _.PLAINTEXT:{this.tokenizer.state=ga.PLAINTEXT;break}}}_setDocumentType(t){const r=t.name||"",n=t.publicId||"",a=t.systemId||"";if(this.treeAdapter.setDocumentType(this.document,r,n,a),t.location){const o=this.treeAdapter.getChildNodes(this.document).find(l=>this.treeAdapter.isDocumentTypeNode(l));o&&this.treeAdapter.setNodeSourceCodeLocation(o,t.location)}}_attachElementToTree(t,r){if(this.options.sourceCodeLocationInfo){const n=r&&{...r,startTag:r};this.treeAdapter.setNodeSourceCodeLocation(t,n)}if(this._shouldFosterParentOnInsertion())this._fosterParentElement(t);else{const n=this.openElements.currentTmplContentOrNode;this.treeAdapter.appendChild(n??this.document,t)}}_appendElement(t,r){const n=this.treeAdapter.createElement(t.tagName,r,t.attrs);this._attachElementToTree(n,t.location)}_insertElement(t,r){const n=this.treeAdapter.createElement(t.tagName,r,t.attrs);this._attachElementToTree(n,t.location),this.openElements.push(n,t.tagID)}_insertFakeElement(t,r){const n=this.treeAdapter.createElement(t,pt.HTML,[]);this._attachElementToTree(n,null),this.openElements.push(n,r)}_insertTemplate(t){const r=this.treeAdapter.createElement(t.tagName,pt.HTML,t.attrs),n=this.treeAdapter.createDocumentFragment();this.treeAdapter.setTemplateContent(r,n),this._attachElementToTree(r,t.location),this.openElements.push(r,t.tagID),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(n,null)}_insertFakeRootElement(){const t=this.treeAdapter.createElement(Ie.HTML,pt.HTML,[]);this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(t,null),this.treeAdapter.appendChild(this.openElements.current,t),this.openElements.push(t,_.HTML)}_appendCommentNode(t,r){const n=this.treeAdapter.createCommentNode(t.data);this.treeAdapter.appendChild(r,n),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(n,t.location)}_insertCharacters(t){let r,n;if(this._shouldFosterParentOnInsertion()?({parent:r,beforeElement:n}=this._findFosterParentingLocation(),n?this.treeAdapter.insertTextBefore(r,t.chars,n):this.treeAdapter.insertText(r,t.chars)):(r=this.openElements.currentTmplContentOrNode,this.treeAdapter.insertText(r,t.chars)),!t.location)return;const a=this.treeAdapter.getChildNodes(r),i=n?a.lastIndexOf(n):a.length,o=a[i-1];if(this.treeAdapter.getNodeSourceCodeLocation(o)){const{endLine:u,endCol:d,endOffset:h}=t.location;this.treeAdapter.updateNodeSourceCodeLocation(o,{endLine:u,endCol:d,endOffset:h})}else this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(o,t.location)}_adoptNodes(t,r){for(let n=this.treeAdapter.getFirstChild(t);n;n=this.treeAdapter.getFirstChild(t))this.treeAdapter.detachNode(n),this.treeAdapter.appendChild(r,n)}_setEndLocation(t,r){if(this.treeAdapter.getNodeSourceCodeLocation(t)&&r.location){const n=r.location,a=this.treeAdapter.getTagName(t),i=r.type===$r.END_TAG&&a===r.tagName?{endTag:{...n},endLine:n.endLine,endCol:n.endCol,endOffset:n.endOffset}:{endLine:n.startLine,endCol:n.startCol,endOffset:n.startOffset};this.treeAdapter.updateNodeSourceCodeLocation(t,i)}}shouldProcessStartTagTokenInForeignContent(t){if(!this.currentNotInHTML)return!1;let r,n;return this.openElements.stackTop===0&&this.fragmentContext?(r=this.fragmentContext,n=this.fragmentContextID):{current:r,currentTagId:n}=this.openElements,t.tagID===_.SVG&&this.treeAdapter.getTagName(r)===Ie.ANNOTATION_XML&&this.treeAdapter.getNamespaceURI(r)===pt.MATHML?!1:this.tokenizer.inForeignNode||(t.tagID===_.MGLYPH||t.tagID===_.MALIGNMARK)&&n!==void 0&&!this._isIntegrationPoint(n,r,pt.HTML)}_processToken(t){switch(t.type){case $r.CHARACTER:{this.onCharacter(t);break}case $r.NULL_CHARACTER:{this.onNullCharacter(t);break}case $r.COMMENT:{this.onComment(t);break}case $r.DOCTYPE:{this.onDoctype(t);break}case $r.START_TAG:{this._processStartTag(t);break}case $r.END_TAG:{this.onEndTag(t);break}case $r.EOF:{this.onEof(t);break}case $r.WHITESPACE_CHARACTER:{this.onWhitespaceCharacter(t);break}}}_isIntegrationPoint(t,r,n){const a=this.treeAdapter.getNamespaceURI(r),i=this.treeAdapter.getAttrList(r);return die(t,a,i,n)}_reconstructActiveFormattingElements(){const t=this.activeFormattingElements.entries.length;if(t){const r=this.activeFormattingElements.entries.findIndex(a=>a.type===Fo.Marker||this.openElements.contains(a.element)),n=r===-1?t-1:r-1;for(let a=n;a>=0;a--){const i=this.activeFormattingElements.entries[a];this._insertElement(i.token,this.treeAdapter.getNamespaceURI(i.element)),i.element=this.openElements.current}}}_closeTableCell(){this.openElements.generateImpliedEndTags(),this.openElements.popUntilTableCellPopped(),this.activeFormattingElements.clearToLastMarker(),this.insertionMode=me.IN_ROW}_closePElement(){this.openElements.generateImpliedEndTagsWithExclusion(_.P),this.openElements.popUntilTagNamePopped(_.P)}_resetInsertionMode(){for(let t=this.openElements.stackTop;t>=0;t--)switch(t===0&&this.fragmentContext?this.fragmentContextID:this.openElements.tagIDs[t]){case _.TR:{this.insertionMode=me.IN_ROW;return}case _.TBODY:case _.THEAD:case _.TFOOT:{this.insertionMode=me.IN_TABLE_BODY;return}case _.CAPTION:{this.insertionMode=me.IN_CAPTION;return}case _.COLGROUP:{this.insertionMode=me.IN_COLUMN_GROUP;return}case _.TABLE:{this.insertionMode=me.IN_TABLE;return}case _.BODY:{this.insertionMode=me.IN_BODY;return}case _.FRAMESET:{this.insertionMode=me.IN_FRAMESET;return}case _.SELECT:{this._resetInsertionModeForSelect(t);return}case _.TEMPLATE:{this.insertionMode=this.tmplInsertionModeStack[0];return}case _.HTML:{this.insertionMode=this.headElement?me.AFTER_HEAD:me.BEFORE_HEAD;return}case _.TD:case _.TH:{if(t>0){this.insertionMode=me.IN_CELL;return}break}case _.HEAD:{if(t>0){this.insertionMode=me.IN_HEAD;return}break}}this.insertionMode=me.IN_BODY}_resetInsertionModeForSelect(t){if(t>0)for(let r=t-1;r>0;r--){const n=this.openElements.tagIDs[r];if(n===_.TEMPLATE)break;if(n===_.TABLE){this.insertionMode=me.IN_SELECT_IN_TABLE;return}}this.insertionMode=me.IN_SELECT}_isElementCausesFosterParenting(t){return M5.has(t)}_shouldFosterParentOnInsertion(){return this.fosterParentingEnabled&&this.openElements.currentTagId!==void 0&&this._isElementCausesFosterParenting(this.openElements.currentTagId)}_findFosterParentingLocation(){for(let t=this.openElements.stackTop;t>=0;t--){const r=this.openElements.items[t];switch(this.openElements.tagIDs[t]){case _.TEMPLATE:{if(this.treeAdapter.getNamespaceURI(r)===pt.HTML)return{parent:this.treeAdapter.getTemplateContent(r),beforeElement:null};break}case _.TABLE:{const n=this.treeAdapter.getParentNode(r);return n?{parent:n,beforeElement:r}:{parent:this.openElements.items[t-1],beforeElement:null}}}}return{parent:this.openElements.items[0],beforeElement:null}}_fosterParentElement(t){const r=this._findFosterParentingLocation();r.beforeElement?this.treeAdapter.insertBefore(r.parent,t,r.beforeElement):this.treeAdapter.appendChild(r.parent,t)}_isSpecialElement(t,r){const n=this.treeAdapter.getNamespaceURI(t);return Mse[n].has(r)}onCharacter(t){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){qoe(this,t);return}switch(this.insertionMode){case me.INITIAL:{Gh(this,t);break}case me.BEFORE_HTML:{Ig(this,t);break}case me.BEFORE_HEAD:{Rg(this,t);break}case me.IN_HEAD:{Dg(this,t);break}case me.IN_HEAD_NO_SCRIPT:{Lg(this,t);break}case me.AFTER_HEAD:{Og(this,t);break}case me.IN_BODY:case me.IN_CAPTION:case me.IN_CELL:case me.IN_TEMPLATE:{j5(this,t);break}case me.TEXT:case me.IN_SELECT:case me.IN_SELECT_IN_TABLE:{this._insertCharacters(t);break}case me.IN_TABLE:case me.IN_TABLE_BODY:case me.IN_ROW:{_S(this,t);break}case me.IN_TABLE_TEXT:{z5(this,t);break}case me.IN_COLUMN_GROUP:{Ob(this,t);break}case me.AFTER_BODY:{Mb(this,t);break}case me.AFTER_AFTER_BODY:{rb(this,t);break}}}onNullCharacter(t){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){Goe(this,t);return}switch(this.insertionMode){case me.INITIAL:{Gh(this,t);break}case me.BEFORE_HTML:{Ig(this,t);break}case me.BEFORE_HEAD:{Rg(this,t);break}case me.IN_HEAD:{Dg(this,t);break}case me.IN_HEAD_NO_SCRIPT:{Lg(this,t);break}case me.AFTER_HEAD:{Og(this,t);break}case me.TEXT:{this._insertCharacters(t);break}case me.IN_TABLE:case me.IN_TABLE_BODY:case me.IN_ROW:{_S(this,t);break}case me.IN_COLUMN_GROUP:{Ob(this,t);break}case me.AFTER_BODY:{Mb(this,t);break}case me.AFTER_AFTER_BODY:{rb(this,t);break}}}onComment(t){if(this.skipNextNewLine=!1,this.currentNotInHTML){nT(this,t);return}switch(this.insertionMode){case me.INITIAL:case me.BEFORE_HTML:case me.BEFORE_HEAD:case me.IN_HEAD:case me.IN_HEAD_NO_SCRIPT:case me.AFTER_HEAD:case me.IN_BODY:case me.IN_TABLE:case me.IN_CAPTION:case me.IN_COLUMN_GROUP:case me.IN_TABLE_BODY:case me.IN_ROW:case me.IN_CELL:case me.IN_SELECT:case me.IN_SELECT_IN_TABLE:case me.IN_TEMPLATE:case me.IN_FRAMESET:case me.AFTER_FRAMESET:{nT(this,t);break}case me.IN_TABLE_TEXT:{qh(this,t);break}case me.AFTER_BODY:{Sie(this,t);break}case me.AFTER_AFTER_BODY:case me.AFTER_AFTER_FRAMESET:{Tie(this,t);break}}}onDoctype(t){switch(this.skipNextNewLine=!1,this.insertionMode){case me.INITIAL:{wie(this,t);break}case me.BEFORE_HEAD:case me.IN_HEAD:case me.IN_HEAD_NO_SCRIPT:case me.AFTER_HEAD:{this._err(t,qe.misplacedDoctype);break}case me.IN_TABLE_TEXT:{qh(this,t);break}}}onStartTag(t){this.skipNextNewLine=!1,this.currentToken=t,this._processStartTag(t),t.selfClosing&&!t.ackSelfClosing&&this._err(t,qe.nonVoidHtmlElementStartTagWithTrailingSolidus)}_processStartTag(t){this.shouldProcessStartTagTokenInForeignContent(t)?Woe(this,t):this._startTagOutsideForeignContent(t)}_startTagOutsideForeignContent(t){switch(this.insertionMode){case me.INITIAL:{Gh(this,t);break}case me.BEFORE_HTML:{kie(this,t);break}case me.BEFORE_HEAD:{_ie(this,t);break}case me.IN_HEAD:{fo(this,t);break}case me.IN_HEAD_NO_SCRIPT:{Iie(this,t);break}case me.AFTER_HEAD:{Die(this,t);break}case me.IN_BODY:{fs(this,t);break}case me.IN_TABLE:{pp(this,t);break}case me.IN_TABLE_TEXT:{qh(this,t);break}case me.IN_CAPTION:{Aoe(this,t);break}case me.IN_COLUMN_GROUP:{ek(this,t);break}case me.IN_TABLE_BODY:{zy(this,t);break}case me.IN_ROW:{Gy(this,t);break}case me.IN_CELL:{Roe(this,t);break}case me.IN_SELECT:{W5(this,t);break}case me.IN_SELECT_IN_TABLE:{Loe(this,t);break}case me.IN_TEMPLATE:{Moe(this,t);break}case me.AFTER_BODY:{joe(this,t);break}case me.IN_FRAMESET:{Foe(this,t);break}case me.AFTER_FRAMESET:{Uoe(this,t);break}case me.AFTER_AFTER_BODY:{Hoe(this,t);break}case me.AFTER_AFTER_FRAMESET:{zoe(this,t);break}}}onEndTag(t){this.skipNextNewLine=!1,this.currentToken=t,this.currentNotInHTML?Yoe(this,t):this._endTagOutsideForeignContent(t)}_endTagOutsideForeignContent(t){switch(this.insertionMode){case me.INITIAL:{Gh(this,t);break}case me.BEFORE_HTML:{Cie(this,t);break}case me.BEFORE_HEAD:{Aie(this,t);break}case me.IN_HEAD:{Nie(this,t);break}case me.IN_HEAD_NO_SCRIPT:{Rie(this,t);break}case me.AFTER_HEAD:{Lie(this,t);break}case me.IN_BODY:{Hy(this,t);break}case me.TEXT:{yoe(this,t);break}case me.IN_TABLE:{im(this,t);break}case me.IN_TABLE_TEXT:{qh(this,t);break}case me.IN_CAPTION:{Noe(this,t);break}case me.IN_COLUMN_GROUP:{Ioe(this,t);break}case me.IN_TABLE_BODY:{aT(this,t);break}case me.IN_ROW:{q5(this,t);break}case me.IN_CELL:{Doe(this,t);break}case me.IN_SELECT:{Y5(this,t);break}case me.IN_SELECT_IN_TABLE:{Ooe(this,t);break}case me.IN_TEMPLATE:{Poe(this,t);break}case me.AFTER_BODY:{K5(this,t);break}case me.IN_FRAMESET:{Boe(this,t);break}case me.AFTER_FRAMESET:{$oe(this,t);break}case me.AFTER_AFTER_BODY:{rb(this,t);break}}}onEof(t){switch(this.insertionMode){case me.INITIAL:{Gh(this,t);break}case me.BEFORE_HTML:{Ig(this,t);break}case me.BEFORE_HEAD:{Rg(this,t);break}case me.IN_HEAD:{Dg(this,t);break}case me.IN_HEAD_NO_SCRIPT:{Lg(this,t);break}case me.AFTER_HEAD:{Og(this,t);break}case me.IN_BODY:case me.IN_TABLE:case me.IN_CAPTION:case me.IN_COLUMN_GROUP:case me.IN_TABLE_BODY:case me.IN_ROW:case me.IN_CELL:case me.IN_SELECT:case me.IN_SELECT_IN_TABLE:{$5(this,t);break}case me.TEXT:{xoe(this,t);break}case me.IN_TABLE_TEXT:{qh(this,t);break}case me.IN_TEMPLATE:{V5(this,t);break}case me.AFTER_BODY:case me.IN_FRAMESET:case me.AFTER_FRAMESET:case me.AFTER_AFTER_BODY:case me.AFTER_AFTER_FRAMESET:{Jw(this,t);break}}}onWhitespaceCharacter(t){if(this.skipNextNewLine&&(this.skipNextNewLine=!1,t.chars.charCodeAt(0)===te.LINE_FEED)){if(t.chars.length===1)return;t.chars=t.chars.substr(1)}if(this.tokenizer.inForeignNode){this._insertCharacters(t);return}switch(this.insertionMode){case me.IN_HEAD:case me.IN_HEAD_NO_SCRIPT:case me.AFTER_HEAD:case me.TEXT:case me.IN_COLUMN_GROUP:case me.IN_SELECT:case me.IN_SELECT_IN_TABLE:case me.IN_FRAMESET:case me.AFTER_FRAMESET:{this._insertCharacters(t);break}case me.IN_BODY:case me.IN_CAPTION:case me.IN_CELL:case me.IN_TEMPLATE:case me.AFTER_BODY:case me.AFTER_AFTER_BODY:case me.AFTER_AFTER_FRAMESET:{P5(this,t);break}case me.IN_TABLE:case me.IN_TABLE_BODY:case me.IN_ROW:{_S(this,t);break}case me.IN_TABLE_TEXT:{H5(this,t);break}}}};function fie(e,t){let r=e.activeFormattingElements.getElementEntryInScopeWithTagName(t.tagName);return r?e.openElements.contains(r.element)?e.openElements.hasInScope(t.tagID)||(r=null):(e.activeFormattingElements.removeEntry(r),r=null):U5(e,t),r}function bie(e,t){let r=null,n=e.openElements.stackTop;for(;n>=0;n--){const a=e.openElements.items[n];if(a===t.element)break;e._isSpecialElement(a,e.openElements.tagIDs[n])&&(r=a)}return r||(e.openElements.shortenToLength(Math.max(n,0)),e.activeFormattingElements.removeEntry(t)),r}function yie(e,t,r){let n=t,a=e.openElements.getCommonAncestor(t);for(let i=0,o=a;o!==r;i++,o=a){a=e.openElements.getCommonAncestor(o);const l=e.activeFormattingElements.getElementEntry(o),u=l&&i>=gie;!l||u?(u&&e.activeFormattingElements.removeEntry(l),e.openElements.remove(o)):(o=xie(e,l),n===t&&(e.activeFormattingElements.bookmark=l),e.treeAdapter.detachNode(n),e.treeAdapter.appendChild(o,n),n=o)}return n}function xie(e,t){const r=e.treeAdapter.getNamespaceURI(t.element),n=e.treeAdapter.createElement(t.token.tagName,r,t.token.attrs);return e.openElements.replace(t.element,n),t.element=n,n}function Eie(e,t,r){const n=e.treeAdapter.getTagName(t),a=Op(n);if(e._isElementCausesFosterParenting(a))e._fosterParentElement(r);else{const i=e.treeAdapter.getNamespaceURI(t);a===_.TEMPLATE&&i===pt.HTML&&(t=e.treeAdapter.getTemplateContent(t)),e.treeAdapter.appendChild(t,r)}}function vie(e,t,r){const n=e.treeAdapter.getNamespaceURI(r.element),{token:a}=r,i=e.treeAdapter.createElement(a.tagName,n,a.attrs);e._adoptNodes(t,i),e.treeAdapter.appendChild(t,i),e.activeFormattingElements.insertElementAfterBookmark(i,a),e.activeFormattingElements.removeEntry(r),e.openElements.remove(r.element),e.openElements.insertAfter(t,i,a.tagID)}function Zw(e,t){for(let r=0;r<hie;r++){const n=fie(e,t);if(!n)break;const a=bie(e,n);if(!a)break;e.activeFormattingElements.bookmark=n;const i=yie(e,a,n.element),o=e.openElements.getCommonAncestor(n.element);e.treeAdapter.detachNode(i),o&&Eie(e,o,i),vie(e,a,n)}}function nT(e,t){e._appendCommentNode(t,e.openElements.currentTmplContentOrNode)}function Sie(e,t){e._appendCommentNode(t,e.openElements.items[0])}function Tie(e,t){e._appendCommentNode(t,e.document)}function Jw(e,t){if(e.stopped=!0,t.location){const r=e.fragmentContext?0:2;for(let n=e.openElements.stackTop;n>=r;n--)e._setEndLocation(e.openElements.items[n],t);if(!e.fragmentContext&&e.openElements.stackTop>=0){const n=e.openElements.items[0],a=e.treeAdapter.getNodeSourceCodeLocation(n);if(a&&!a.endTag&&(e._setEndLocation(n,t),e.openElements.stackTop>=1)){const i=e.openElements.items[1],o=e.treeAdapter.getNodeSourceCodeLocation(i);o&&!o.endTag&&e._setEndLocation(i,t)}}}}function wie(e,t){e._setDocumentType(t);const r=t.forceQuirks?Bi.QUIRKS:eie(t);Jse(t)||e._err(t,qe.nonConformingDoctype),e.treeAdapter.setDocumentMode(e.document,r),e.insertionMode=me.BEFORE_HTML}function Gh(e,t){e._err(t,qe.missingDoctype,!0),e.treeAdapter.setDocumentMode(e.document,Bi.QUIRKS),e.insertionMode=me.BEFORE_HTML,e._processToken(t)}function kie(e,t){t.tagID===_.HTML?(e._insertElement(t,pt.HTML),e.insertionMode=me.BEFORE_HEAD):Ig(e,t)}function Cie(e,t){const r=t.tagID;(r===_.HTML||r===_.HEAD||r===_.BODY||r===_.BR)&&Ig(e,t)}function Ig(e,t){e._insertFakeRootElement(),e.insertionMode=me.BEFORE_HEAD,e._processToken(t)}function _ie(e,t){switch(t.tagID){case _.HTML:{fs(e,t);break}case _.HEAD:{e._insertElement(t,pt.HTML),e.headElement=e.openElements.current,e.insertionMode=me.IN_HEAD;break}default:Rg(e,t)}}function Aie(e,t){const r=t.tagID;r===_.HEAD||r===_.BODY||r===_.HTML||r===_.BR?Rg(e,t):e._err(t,qe.endTagWithoutMatchingOpenElement)}function Rg(e,t){e._insertFakeElement(Ie.HEAD,_.HEAD),e.headElement=e.openElements.current,e.insertionMode=me.IN_HEAD,e._processToken(t)}function fo(e,t){switch(t.tagID){case _.HTML:{fs(e,t);break}case _.BASE:case _.BASEFONT:case _.BGSOUND:case _.LINK:case _.META:{e._appendElement(t,pt.HTML),t.ackSelfClosing=!0;break}case _.TITLE:{e._switchToTextParsing(t,ga.RCDATA);break}case _.NOSCRIPT:{e.options.scriptingEnabled?e._switchToTextParsing(t,ga.RAWTEXT):(e._insertElement(t,pt.HTML),e.insertionMode=me.IN_HEAD_NO_SCRIPT);break}case _.NOFRAMES:case _.STYLE:{e._switchToTextParsing(t,ga.RAWTEXT);break}case _.SCRIPT:{e._switchToTextParsing(t,ga.SCRIPT_DATA);break}case _.TEMPLATE:{e._insertTemplate(t),e.activeFormattingElements.insertMarker(),e.framesetOk=!1,e.insertionMode=me.IN_TEMPLATE,e.tmplInsertionModeStack.unshift(me.IN_TEMPLATE);break}case _.HEAD:{e._err(t,qe.misplacedStartTagForHeadElement);break}default:Dg(e,t)}}function Nie(e,t){switch(t.tagID){case _.HEAD:{e.openElements.pop(),e.insertionMode=me.AFTER_HEAD;break}case _.BODY:case _.BR:case _.HTML:{Dg(e,t);break}case _.TEMPLATE:{Ru(e,t);break}default:e._err(t,qe.endTagWithoutMatchingOpenElement)}}function Ru(e,t){e.openElements.tmplCount>0?(e.openElements.generateImpliedEndTagsThoroughly(),e.openElements.currentTagId!==_.TEMPLATE&&e._err(t,qe.closingOfElementWithOpenChildElements),e.openElements.popUntilTagNamePopped(_.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e.tmplInsertionModeStack.shift(),e._resetInsertionMode()):e._err(t,qe.endTagWithoutMatchingOpenElement)}function Dg(e,t){e.openElements.pop(),e.insertionMode=me.AFTER_HEAD,e._processToken(t)}function Iie(e,t){switch(t.tagID){case _.HTML:{fs(e,t);break}case _.BASEFONT:case _.BGSOUND:case _.HEAD:case _.LINK:case _.META:case _.NOFRAMES:case _.STYLE:{fo(e,t);break}case _.NOSCRIPT:{e._err(t,qe.nestedNoscriptInHead);break}default:Lg(e,t)}}function Rie(e,t){switch(t.tagID){case _.NOSCRIPT:{e.openElements.pop(),e.insertionMode=me.IN_HEAD;break}case _.BR:{Lg(e,t);break}default:e._err(t,qe.endTagWithoutMatchingOpenElement)}}function Lg(e,t){const r=t.type===$r.EOF?qe.openElementsLeftAfterEof:qe.disallowedContentInNoscriptInHead;e._err(t,r),e.openElements.pop(),e.insertionMode=me.IN_HEAD,e._processToken(t)}function Die(e,t){switch(t.tagID){case _.HTML:{fs(e,t);break}case _.BODY:{e._insertElement(t,pt.HTML),e.framesetOk=!1,e.insertionMode=me.IN_BODY;break}case _.FRAMESET:{e._insertElement(t,pt.HTML),e.insertionMode=me.IN_FRAMESET;break}case _.BASE:case _.BASEFONT:case _.BGSOUND:case _.LINK:case _.META:case _.NOFRAMES:case _.SCRIPT:case _.STYLE:case _.TEMPLATE:case _.TITLE:{e._err(t,qe.abandonedHeadElementChild),e.openElements.push(e.headElement,_.HEAD),fo(e,t),e.openElements.remove(e.headElement);break}case _.HEAD:{e._err(t,qe.misplacedStartTagForHeadElement);break}default:Og(e,t)}}function Lie(e,t){switch(t.tagID){case _.BODY:case _.HTML:case _.BR:{Og(e,t);break}case _.TEMPLATE:{Ru(e,t);break}default:e._err(t,qe.endTagWithoutMatchingOpenElement)}}function Og(e,t){e._insertFakeElement(Ie.BODY,_.BODY),e.insertionMode=me.IN_BODY,$y(e,t)}function $y(e,t){switch(t.type){case $r.CHARACTER:{j5(e,t);break}case $r.WHITESPACE_CHARACTER:{P5(e,t);break}case $r.COMMENT:{nT(e,t);break}case $r.START_TAG:{fs(e,t);break}case $r.END_TAG:{Hy(e,t);break}case $r.EOF:{$5(e,t);break}}}function P5(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t)}function j5(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t),e.framesetOk=!1}function Oie(e,t){e.openElements.tmplCount===0&&e.treeAdapter.adoptAttributes(e.openElements.items[0],t.attrs)}function Mie(e,t){const r=e.openElements.tryPeekProperlyNestedBodyElement();r&&e.openElements.tmplCount===0&&(e.framesetOk=!1,e.treeAdapter.adoptAttributes(r,t.attrs))}function Pie(e,t){const r=e.openElements.tryPeekProperlyNestedBodyElement();e.framesetOk&&r&&(e.treeAdapter.detachNode(r),e.openElements.popAllUpToHtmlElement(),e._insertElement(t,pt.HTML),e.insertionMode=me.IN_FRAMESET)}function jie(e,t){e.openElements.hasInButtonScope(_.P)&&e._closePElement(),e._insertElement(t,pt.HTML)}function Fie(e,t){e.openElements.hasInButtonScope(_.P)&&e._closePElement(),e.openElements.currentTagId!==void 0&&rT.has(e.openElements.currentTagId)&&e.openElements.pop(),e._insertElement(t,pt.HTML)}function Bie(e,t){e.openElements.hasInButtonScope(_.P)&&e._closePElement(),e._insertElement(t,pt.HTML),e.skipNextNewLine=!0,e.framesetOk=!1}function Uie(e,t){const r=e.openElements.tmplCount>0;(!e.formElement||r)&&(e.openElements.hasInButtonScope(_.P)&&e._closePElement(),e._insertElement(t,pt.HTML),r||(e.formElement=e.openElements.current))}function $ie(e,t){e.framesetOk=!1;const r=t.tagID;for(let n=e.openElements.stackTop;n>=0;n--){const a=e.openElements.tagIDs[n];if(r===_.LI&&a===_.LI||(r===_.DD||r===_.DT)&&(a===_.DD||a===_.DT)){e.openElements.generateImpliedEndTagsWithExclusion(a),e.openElements.popUntilTagNamePopped(a);break}if(a!==_.ADDRESS&&a!==_.DIV&&a!==_.P&&e._isSpecialElement(e.openElements.items[n],a))break}e.openElements.hasInButtonScope(_.P)&&e._closePElement(),e._insertElement(t,pt.HTML)}function Hie(e,t){e.openElements.hasInButtonScope(_.P)&&e._closePElement(),e._insertElement(t,pt.HTML),e.tokenizer.state=ga.PLAINTEXT}function zie(e,t){e.openElements.hasInScope(_.BUTTON)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(_.BUTTON)),e._reconstructActiveFormattingElements(),e._insertElement(t,pt.HTML),e.framesetOk=!1}function Gie(e,t){const r=e.activeFormattingElements.getElementEntryInScopeWithTagName(Ie.A);r&&(Zw(e,t),e.openElements.remove(r.element),e.activeFormattingElements.removeEntry(r)),e._reconstructActiveFormattingElements(),e._insertElement(t,pt.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function qie(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,pt.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function Wie(e,t){e._reconstructActiveFormattingElements(),e.openElements.hasInScope(_.NOBR)&&(Zw(e,t),e._reconstructActiveFormattingElements()),e._insertElement(t,pt.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function Yie(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,pt.HTML),e.activeFormattingElements.insertMarker(),e.framesetOk=!1}function Vie(e,t){e.treeAdapter.getDocumentMode(e.document)!==Bi.QUIRKS&&e.openElements.hasInButtonScope(_.P)&&e._closePElement(),e._insertElement(t,pt.HTML),e.framesetOk=!1,e.insertionMode=me.IN_TABLE}function F5(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,pt.HTML),e.framesetOk=!1,t.ackSelfClosing=!0}function B5(e){const t=k5(e,cu.TYPE);return t!=null&&t.toLowerCase()===pie}function Kie(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,pt.HTML),B5(t)||(e.framesetOk=!1),t.ackSelfClosing=!0}function Qie(e,t){e._appendElement(t,pt.HTML),t.ackSelfClosing=!0}function Xie(e,t){e.openElements.hasInButtonScope(_.P)&&e._closePElement(),e._appendElement(t,pt.HTML),e.framesetOk=!1,t.ackSelfClosing=!0}function Zie(e,t){t.tagName=Ie.IMG,t.tagID=_.IMG,F5(e,t)}function Jie(e,t){e._insertElement(t,pt.HTML),e.skipNextNewLine=!0,e.tokenizer.state=ga.RCDATA,e.originalInsertionMode=e.insertionMode,e.framesetOk=!1,e.insertionMode=me.TEXT}function eoe(e,t){e.openElements.hasInButtonScope(_.P)&&e._closePElement(),e._reconstructActiveFormattingElements(),e.framesetOk=!1,e._switchToTextParsing(t,ga.RAWTEXT)}function toe(e,t){e.framesetOk=!1,e._switchToTextParsing(t,ga.RAWTEXT)}function CO(e,t){e._switchToTextParsing(t,ga.RAWTEXT)}function roe(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,pt.HTML),e.framesetOk=!1,e.insertionMode=e.insertionMode===me.IN_TABLE||e.insertionMode===me.IN_CAPTION||e.insertionMode===me.IN_TABLE_BODY||e.insertionMode===me.IN_ROW||e.insertionMode===me.IN_CELL?me.IN_SELECT_IN_TABLE:me.IN_SELECT}function noe(e,t){e.openElements.currentTagId===_.OPTION&&e.openElements.pop(),e._reconstructActiveFormattingElements(),e._insertElement(t,pt.HTML)}function aoe(e,t){e.openElements.hasInScope(_.RUBY)&&e.openElements.generateImpliedEndTags(),e._insertElement(t,pt.HTML)}function soe(e,t){e.openElements.hasInScope(_.RUBY)&&e.openElements.generateImpliedEndTagsWithExclusion(_.RTC),e._insertElement(t,pt.HTML)}function ioe(e,t){e._reconstructActiveFormattingElements(),L5(t),Xw(t),t.selfClosing?e._appendElement(t,pt.MATHML):e._insertElement(t,pt.MATHML),t.ackSelfClosing=!0}function ooe(e,t){e._reconstructActiveFormattingElements(),O5(t),Xw(t),t.selfClosing?e._appendElement(t,pt.SVG):e._insertElement(t,pt.SVG),t.ackSelfClosing=!0}function _O(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,pt.HTML)}function fs(e,t){switch(t.tagID){case _.I:case _.S:case _.B:case _.U:case _.EM:case _.TT:case _.BIG:case _.CODE:case _.FONT:case _.SMALL:case _.STRIKE:case _.STRONG:{qie(e,t);break}case _.A:{Gie(e,t);break}case _.H1:case _.H2:case _.H3:case _.H4:case _.H5:case _.H6:{Fie(e,t);break}case _.P:case _.DL:case _.OL:case _.UL:case _.DIV:case _.DIR:case _.NAV:case _.MAIN:case _.MENU:case _.ASIDE:case _.CENTER:case _.FIGURE:case _.FOOTER:case _.HEADER:case _.HGROUP:case _.DIALOG:case _.DETAILS:case _.ADDRESS:case _.ARTICLE:case _.SEARCH:case _.SECTION:case _.SUMMARY:case _.FIELDSET:case _.BLOCKQUOTE:case _.FIGCAPTION:{jie(e,t);break}case _.LI:case _.DD:case _.DT:{$ie(e,t);break}case _.BR:case _.IMG:case _.WBR:case _.AREA:case _.EMBED:case _.KEYGEN:{F5(e,t);break}case _.HR:{Xie(e,t);break}case _.RB:case _.RTC:{aoe(e,t);break}case _.RT:case _.RP:{soe(e,t);break}case _.PRE:case _.LISTING:{Bie(e,t);break}case _.XMP:{eoe(e,t);break}case _.SVG:{ooe(e,t);break}case _.HTML:{Oie(e,t);break}case _.BASE:case _.LINK:case _.META:case _.STYLE:case _.TITLE:case _.SCRIPT:case _.BGSOUND:case _.BASEFONT:case _.TEMPLATE:{fo(e,t);break}case _.BODY:{Mie(e,t);break}case _.FORM:{Uie(e,t);break}case _.NOBR:{Wie(e,t);break}case _.MATH:{ioe(e,t);break}case _.TABLE:{Vie(e,t);break}case _.INPUT:{Kie(e,t);break}case _.PARAM:case _.TRACK:case _.SOURCE:{Qie(e,t);break}case _.IMAGE:{Zie(e,t);break}case _.BUTTON:{zie(e,t);break}case _.APPLET:case _.OBJECT:case _.MARQUEE:{Yie(e,t);break}case _.IFRAME:{toe(e,t);break}case _.SELECT:{roe(e,t);break}case _.OPTION:case _.OPTGROUP:{noe(e,t);break}case _.NOEMBED:case _.NOFRAMES:{CO(e,t);break}case _.FRAMESET:{Pie(e,t);break}case _.TEXTAREA:{Jie(e,t);break}case _.NOSCRIPT:{e.options.scriptingEnabled?CO(e,t):_O(e,t);break}case _.PLAINTEXT:{Hie(e,t);break}case _.COL:case _.TH:case _.TD:case _.TR:case _.HEAD:case _.FRAME:case _.TBODY:case _.TFOOT:case _.THEAD:case _.CAPTION:case _.COLGROUP:break;default:_O(e,t)}}function loe(e,t){if(e.openElements.hasInScope(_.BODY)&&(e.insertionMode=me.AFTER_BODY,e.options.sourceCodeLocationInfo)){const r=e.openElements.tryPeekProperlyNestedBodyElement();r&&e._setEndLocation(r,t)}}function coe(e,t){e.openElements.hasInScope(_.BODY)&&(e.insertionMode=me.AFTER_BODY,K5(e,t))}function uoe(e,t){const r=t.tagID;e.openElements.hasInScope(r)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(r))}function doe(e){const t=e.openElements.tmplCount>0,{formElement:r}=e;t||(e.formElement=null),(r||t)&&e.openElements.hasInScope(_.FORM)&&(e.openElements.generateImpliedEndTags(),t?e.openElements.popUntilTagNamePopped(_.FORM):r&&e.openElements.remove(r))}function poe(e){e.openElements.hasInButtonScope(_.P)||e._insertFakeElement(Ie.P,_.P),e._closePElement()}function hoe(e){e.openElements.hasInListItemScope(_.LI)&&(e.openElements.generateImpliedEndTagsWithExclusion(_.LI),e.openElements.popUntilTagNamePopped(_.LI))}function goe(e,t){const r=t.tagID;e.openElements.hasInScope(r)&&(e.openElements.generateImpliedEndTagsWithExclusion(r),e.openElements.popUntilTagNamePopped(r))}function moe(e){e.openElements.hasNumberedHeaderInScope()&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilNumberedHeaderPopped())}function foe(e,t){const r=t.tagID;e.openElements.hasInScope(r)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(r),e.activeFormattingElements.clearToLastMarker())}function boe(e){e._reconstructActiveFormattingElements(),e._insertFakeElement(Ie.BR,_.BR),e.openElements.pop(),e.framesetOk=!1}function U5(e,t){const r=t.tagName,n=t.tagID;for(let a=e.openElements.stackTop;a>0;a--){const i=e.openElements.items[a],o=e.openElements.tagIDs[a];if(n===o&&(n!==_.UNKNOWN||e.treeAdapter.getTagName(i)===r)){e.openElements.generateImpliedEndTagsWithExclusion(n),e.openElements.stackTop>=a&&e.openElements.shortenToLength(a);break}if(e._isSpecialElement(i,o))break}}function Hy(e,t){switch(t.tagID){case _.A:case _.B:case _.I:case _.S:case _.U:case _.EM:case _.TT:case _.BIG:case _.CODE:case _.FONT:case _.NOBR:case _.SMALL:case _.STRIKE:case _.STRONG:{Zw(e,t);break}case _.P:{poe(e);break}case _.DL:case _.UL:case _.OL:case _.DIR:case _.DIV:case _.NAV:case _.PRE:case _.MAIN:case _.MENU:case _.ASIDE:case _.BUTTON:case _.CENTER:case _.FIGURE:case _.FOOTER:case _.HEADER:case _.HGROUP:case _.DIALOG:case _.ADDRESS:case _.ARTICLE:case _.DETAILS:case _.SEARCH:case _.SECTION:case _.SUMMARY:case _.LISTING:case _.FIELDSET:case _.BLOCKQUOTE:case _.FIGCAPTION:{uoe(e,t);break}case _.LI:{hoe(e);break}case _.DD:case _.DT:{goe(e,t);break}case _.H1:case _.H2:case _.H3:case _.H4:case _.H5:case _.H6:{moe(e);break}case _.BR:{boe(e);break}case _.BODY:{loe(e,t);break}case _.HTML:{coe(e,t);break}case _.FORM:{doe(e);break}case _.APPLET:case _.OBJECT:case _.MARQUEE:{foe(e,t);break}case _.TEMPLATE:{Ru(e,t);break}default:U5(e,t)}}function $5(e,t){e.tmplInsertionModeStack.length>0?V5(e,t):Jw(e,t)}function yoe(e,t){var r;t.tagID===_.SCRIPT&&((r=e.scriptHandler)===null||r===void 0||r.call(e,e.openElements.current)),e.openElements.pop(),e.insertionMode=e.originalInsertionMode}function xoe(e,t){e._err(t,qe.eofInElementThatCanContainOnlyText),e.openElements.pop(),e.insertionMode=e.originalInsertionMode,e.onEof(t)}function _S(e,t){if(e.openElements.currentTagId!==void 0&&M5.has(e.openElements.currentTagId))switch(e.pendingCharacterTokens.length=0,e.hasNonWhitespacePendingCharacterToken=!1,e.originalInsertionMode=e.insertionMode,e.insertionMode=me.IN_TABLE_TEXT,t.type){case $r.CHARACTER:{z5(e,t);break}case $r.WHITESPACE_CHARACTER:{H5(e,t);break}}else Mm(e,t)}function Eoe(e,t){e.openElements.clearBackToTableContext(),e.activeFormattingElements.insertMarker(),e._insertElement(t,pt.HTML),e.insertionMode=me.IN_CAPTION}function voe(e,t){e.openElements.clearBackToTableContext(),e._insertElement(t,pt.HTML),e.insertionMode=me.IN_COLUMN_GROUP}function Soe(e,t){e.openElements.clearBackToTableContext(),e._insertFakeElement(Ie.COLGROUP,_.COLGROUP),e.insertionMode=me.IN_COLUMN_GROUP,ek(e,t)}function Toe(e,t){e.openElements.clearBackToTableContext(),e._insertElement(t,pt.HTML),e.insertionMode=me.IN_TABLE_BODY}function woe(e,t){e.openElements.clearBackToTableContext(),e._insertFakeElement(Ie.TBODY,_.TBODY),e.insertionMode=me.IN_TABLE_BODY,zy(e,t)}function koe(e,t){e.openElements.hasInTableScope(_.TABLE)&&(e.openElements.popUntilTagNamePopped(_.TABLE),e._resetInsertionMode(),e._processStartTag(t))}function Coe(e,t){B5(t)?e._appendElement(t,pt.HTML):Mm(e,t),t.ackSelfClosing=!0}function _oe(e,t){!e.formElement&&e.openElements.tmplCount===0&&(e._insertElement(t,pt.HTML),e.formElement=e.openElements.current,e.openElements.pop())}function pp(e,t){switch(t.tagID){case _.TD:case _.TH:case _.TR:{woe(e,t);break}case _.STYLE:case _.SCRIPT:case _.TEMPLATE:{fo(e,t);break}case _.COL:{Soe(e,t);break}case _.FORM:{_oe(e,t);break}case _.TABLE:{koe(e,t);break}case _.TBODY:case _.TFOOT:case _.THEAD:{Toe(e,t);break}case _.INPUT:{Coe(e,t);break}case _.CAPTION:{Eoe(e,t);break}case _.COLGROUP:{voe(e,t);break}default:Mm(e,t)}}function im(e,t){switch(t.tagID){case _.TABLE:{e.openElements.hasInTableScope(_.TABLE)&&(e.openElements.popUntilTagNamePopped(_.TABLE),e._resetInsertionMode());break}case _.TEMPLATE:{Ru(e,t);break}case _.BODY:case _.CAPTION:case _.COL:case _.COLGROUP:case _.HTML:case _.TBODY:case _.TD:case _.TFOOT:case _.TH:case _.THEAD:case _.TR:break;default:Mm(e,t)}}function Mm(e,t){const r=e.fosterParentingEnabled;e.fosterParentingEnabled=!0,$y(e,t),e.fosterParentingEnabled=r}function H5(e,t){e.pendingCharacterTokens.push(t)}function z5(e,t){e.pendingCharacterTokens.push(t),e.hasNonWhitespacePendingCharacterToken=!0}function qh(e,t){let r=0;if(e.hasNonWhitespacePendingCharacterToken)for(;r<e.pendingCharacterTokens.length;r++)Mm(e,e.pendingCharacterTokens[r]);else for(;r<e.pendingCharacterTokens.length;r++)e._insertCharacters(e.pendingCharacterTokens[r]);e.insertionMode=e.originalInsertionMode,e._processToken(t)}const G5=new Set([_.CAPTION,_.COL,_.COLGROUP,_.TBODY,_.TD,_.TFOOT,_.TH,_.THEAD,_.TR]);function Aoe(e,t){const r=t.tagID;G5.has(r)?e.openElements.hasInTableScope(_.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(_.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=me.IN_TABLE,pp(e,t)):fs(e,t)}function Noe(e,t){const r=t.tagID;switch(r){case _.CAPTION:case _.TABLE:{e.openElements.hasInTableScope(_.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(_.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=me.IN_TABLE,r===_.TABLE&&im(e,t));break}case _.BODY:case _.COL:case _.COLGROUP:case _.HTML:case _.TBODY:case _.TD:case _.TFOOT:case _.TH:case _.THEAD:case _.TR:break;default:Hy(e,t)}}function ek(e,t){switch(t.tagID){case _.HTML:{fs(e,t);break}case _.COL:{e._appendElement(t,pt.HTML),t.ackSelfClosing=!0;break}case _.TEMPLATE:{fo(e,t);break}default:Ob(e,t)}}function Ioe(e,t){switch(t.tagID){case _.COLGROUP:{e.openElements.currentTagId===_.COLGROUP&&(e.openElements.pop(),e.insertionMode=me.IN_TABLE);break}case _.TEMPLATE:{Ru(e,t);break}case _.COL:break;default:Ob(e,t)}}function Ob(e,t){e.openElements.currentTagId===_.COLGROUP&&(e.openElements.pop(),e.insertionMode=me.IN_TABLE,e._processToken(t))}function zy(e,t){switch(t.tagID){case _.TR:{e.openElements.clearBackToTableBodyContext(),e._insertElement(t,pt.HTML),e.insertionMode=me.IN_ROW;break}case _.TH:case _.TD:{e.openElements.clearBackToTableBodyContext(),e._insertFakeElement(Ie.TR,_.TR),e.insertionMode=me.IN_ROW,Gy(e,t);break}case _.CAPTION:case _.COL:case _.COLGROUP:case _.TBODY:case _.TFOOT:case _.THEAD:{e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=me.IN_TABLE,pp(e,t));break}default:pp(e,t)}}function aT(e,t){const r=t.tagID;switch(t.tagID){case _.TBODY:case _.TFOOT:case _.THEAD:{e.openElements.hasInTableScope(r)&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=me.IN_TABLE);break}case _.TABLE:{e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=me.IN_TABLE,im(e,t));break}case _.BODY:case _.CAPTION:case _.COL:case _.COLGROUP:case _.HTML:case _.TD:case _.TH:case _.TR:break;default:im(e,t)}}function Gy(e,t){switch(t.tagID){case _.TH:case _.TD:{e.openElements.clearBackToTableRowContext(),e._insertElement(t,pt.HTML),e.insertionMode=me.IN_CELL,e.activeFormattingElements.insertMarker();break}case _.CAPTION:case _.COL:case _.COLGROUP:case _.TBODY:case _.TFOOT:case _.THEAD:case _.TR:{e.openElements.hasInTableScope(_.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=me.IN_TABLE_BODY,zy(e,t));break}default:pp(e,t)}}function q5(e,t){switch(t.tagID){case _.TR:{e.openElements.hasInTableScope(_.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=me.IN_TABLE_BODY);break}case _.TABLE:{e.openElements.hasInTableScope(_.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=me.IN_TABLE_BODY,aT(e,t));break}case _.TBODY:case _.TFOOT:case _.THEAD:{(e.openElements.hasInTableScope(t.tagID)||e.openElements.hasInTableScope(_.TR))&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=me.IN_TABLE_BODY,aT(e,t));break}case _.BODY:case _.CAPTION:case _.COL:case _.COLGROUP:case _.HTML:case _.TD:case _.TH:break;default:im(e,t)}}function Roe(e,t){const r=t.tagID;G5.has(r)?(e.openElements.hasInTableScope(_.TD)||e.openElements.hasInTableScope(_.TH))&&(e._closeTableCell(),Gy(e,t)):fs(e,t)}function Doe(e,t){const r=t.tagID;switch(r){case _.TD:case _.TH:{e.openElements.hasInTableScope(r)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(r),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=me.IN_ROW);break}case _.TABLE:case _.TBODY:case _.TFOOT:case _.THEAD:case _.TR:{e.openElements.hasInTableScope(r)&&(e._closeTableCell(),q5(e,t));break}case _.BODY:case _.CAPTION:case _.COL:case _.COLGROUP:case _.HTML:break;default:Hy(e,t)}}function W5(e,t){switch(t.tagID){case _.HTML:{fs(e,t);break}case _.OPTION:{e.openElements.currentTagId===_.OPTION&&e.openElements.pop(),e._insertElement(t,pt.HTML);break}case _.OPTGROUP:{e.openElements.currentTagId===_.OPTION&&e.openElements.pop(),e.openElements.currentTagId===_.OPTGROUP&&e.openElements.pop(),e._insertElement(t,pt.HTML);break}case _.HR:{e.openElements.currentTagId===_.OPTION&&e.openElements.pop(),e.openElements.currentTagId===_.OPTGROUP&&e.openElements.pop(),e._appendElement(t,pt.HTML),t.ackSelfClosing=!0;break}case _.INPUT:case _.KEYGEN:case _.TEXTAREA:case _.SELECT:{e.openElements.hasInSelectScope(_.SELECT)&&(e.openElements.popUntilTagNamePopped(_.SELECT),e._resetInsertionMode(),t.tagID!==_.SELECT&&e._processStartTag(t));break}case _.SCRIPT:case _.TEMPLATE:{fo(e,t);break}}}function Y5(e,t){switch(t.tagID){case _.OPTGROUP:{e.openElements.stackTop>0&&e.openElements.currentTagId===_.OPTION&&e.openElements.tagIDs[e.openElements.stackTop-1]===_.OPTGROUP&&e.openElements.pop(),e.openElements.currentTagId===_.OPTGROUP&&e.openElements.pop();break}case _.OPTION:{e.openElements.currentTagId===_.OPTION&&e.openElements.pop();break}case _.SELECT:{e.openElements.hasInSelectScope(_.SELECT)&&(e.openElements.popUntilTagNamePopped(_.SELECT),e._resetInsertionMode());break}case _.TEMPLATE:{Ru(e,t);break}}}function Loe(e,t){const r=t.tagID;r===_.CAPTION||r===_.TABLE||r===_.TBODY||r===_.TFOOT||r===_.THEAD||r===_.TR||r===_.TD||r===_.TH?(e.openElements.popUntilTagNamePopped(_.SELECT),e._resetInsertionMode(),e._processStartTag(t)):W5(e,t)}function Ooe(e,t){const r=t.tagID;r===_.CAPTION||r===_.TABLE||r===_.TBODY||r===_.TFOOT||r===_.THEAD||r===_.TR||r===_.TD||r===_.TH?e.openElements.hasInTableScope(r)&&(e.openElements.popUntilTagNamePopped(_.SELECT),e._resetInsertionMode(),e.onEndTag(t)):Y5(e,t)}function Moe(e,t){switch(t.tagID){case _.BASE:case _.BASEFONT:case _.BGSOUND:case _.LINK:case _.META:case _.NOFRAMES:case _.SCRIPT:case _.STYLE:case _.TEMPLATE:case _.TITLE:{fo(e,t);break}case _.CAPTION:case _.COLGROUP:case _.TBODY:case _.TFOOT:case _.THEAD:{e.tmplInsertionModeStack[0]=me.IN_TABLE,e.insertionMode=me.IN_TABLE,pp(e,t);break}case _.COL:{e.tmplInsertionModeStack[0]=me.IN_COLUMN_GROUP,e.insertionMode=me.IN_COLUMN_GROUP,ek(e,t);break}case _.TR:{e.tmplInsertionModeStack[0]=me.IN_TABLE_BODY,e.insertionMode=me.IN_TABLE_BODY,zy(e,t);break}case _.TD:case _.TH:{e.tmplInsertionModeStack[0]=me.IN_ROW,e.insertionMode=me.IN_ROW,Gy(e,t);break}default:e.tmplInsertionModeStack[0]=me.IN_BODY,e.insertionMode=me.IN_BODY,fs(e,t)}}function Poe(e,t){t.tagID===_.TEMPLATE&&Ru(e,t)}function V5(e,t){e.openElements.tmplCount>0?(e.openElements.popUntilTagNamePopped(_.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e.tmplInsertionModeStack.shift(),e._resetInsertionMode(),e.onEof(t)):Jw(e,t)}function joe(e,t){t.tagID===_.HTML?fs(e,t):Mb(e,t)}function K5(e,t){var r;if(t.tagID===_.HTML){if(e.fragmentContext||(e.insertionMode=me.AFTER_AFTER_BODY),e.options.sourceCodeLocationInfo&&e.openElements.tagIDs[0]===_.HTML){e._setEndLocation(e.openElements.items[0],t);const n=e.openElements.items[1];n&&!(!((r=e.treeAdapter.getNodeSourceCodeLocation(n))===null||r===void 0)&&r.endTag)&&e._setEndLocation(n,t)}}else Mb(e,t)}function Mb(e,t){e.insertionMode=me.IN_BODY,$y(e,t)}function Foe(e,t){switch(t.tagID){case _.HTML:{fs(e,t);break}case _.FRAMESET:{e._insertElement(t,pt.HTML);break}case _.FRAME:{e._appendElement(t,pt.HTML),t.ackSelfClosing=!0;break}case _.NOFRAMES:{fo(e,t);break}}}function Boe(e,t){t.tagID===_.FRAMESET&&!e.openElements.isRootHtmlElementCurrent()&&(e.openElements.pop(),!e.fragmentContext&&e.openElements.currentTagId!==_.FRAMESET&&(e.insertionMode=me.AFTER_FRAMESET))}function Uoe(e,t){switch(t.tagID){case _.HTML:{fs(e,t);break}case _.NOFRAMES:{fo(e,t);break}}}function $oe(e,t){t.tagID===_.HTML&&(e.insertionMode=me.AFTER_AFTER_FRAMESET)}function Hoe(e,t){t.tagID===_.HTML?fs(e,t):rb(e,t)}function rb(e,t){e.insertionMode=me.IN_BODY,$y(e,t)}function zoe(e,t){switch(t.tagID){case _.HTML:{fs(e,t);break}case _.NOFRAMES:{fo(e,t);break}}}function Goe(e,t){t.chars=Zn,e._insertCharacters(t)}function qoe(e,t){e._insertCharacters(t),e.framesetOk=!1}function Q5(e){for(;e.treeAdapter.getNamespaceURI(e.openElements.current)!==pt.HTML&&e.openElements.currentTagId!==void 0&&!e._isIntegrationPoint(e.openElements.currentTagId,e.openElements.current);)e.openElements.pop()}function Woe(e,t){if(oie(t))Q5(e),e._startTagOutsideForeignContent(t);else{const r=e._getAdjustedCurrentElement(),n=e.treeAdapter.getNamespaceURI(r);n===pt.MATHML?L5(t):n===pt.SVG&&(lie(t),O5(t)),Xw(t),t.selfClosing?e._appendElement(t,n):e._insertElement(t,n),t.ackSelfClosing=!0}}function Yoe(e,t){if(t.tagID===_.P||t.tagID===_.BR){Q5(e),e._endTagOutsideForeignContent(t);return}for(let r=e.openElements.stackTop;r>0;r--){const n=e.openElements.items[r];if(e.treeAdapter.getNamespaceURI(n)===pt.HTML){e._endTagOutsideForeignContent(t);break}const a=e.treeAdapter.getTagName(n);if(a.toLowerCase()===t.tagName){t.tagName=a,e.openElements.shortenToLength(r);break}}}Ie.AREA,Ie.BASE,Ie.BASEFONT,Ie.BGSOUND,Ie.BR,Ie.COL,Ie.EMBED,Ie.FRAME,Ie.HR,Ie.IMG,Ie.INPUT,Ie.KEYGEN,Ie.LINK,Ie.META,Ie.PARAM,Ie.SOURCE,Ie.TRACK,Ie.WBR;const Voe=/<(\/?)(iframe|noembed|noframes|plaintext|script|style|textarea|title|xmp)(?=[\t\n\f\r />])/gi,Koe=new Set(["mdxFlowExpression","mdxJsxFlowElement","mdxJsxTextElement","mdxTextExpression","mdxjsEsm"]),AO={sourceCodeLocationInfo:!0,scriptingEnabled:!1};function X5(e,t){const r=sle(e),n=Uy("type",{handlers:{root:Qoe,element:Xoe,text:Zoe,comment:J5,doctype:Joe,raw:tle},unknown:rle}),a={parser:r?new kO(AO):kO.getFragmentParser(void 0,AO),handle(l){n(l,a)},stitches:!1,options:t||{}};n(e,a),Mp(a,Wo());const i=r?a.parser.document:a.parser.getFragment(),o=c5(i,{file:a.options.file});return a.stitches&&Ja(o,"comment",function(l,u,d){const h=l;if(h.value.stitch&&d&&u!==void 0){const g=d.children;return g[u]=h.value.stitch,u}}),o.type==="root"&&o.children.length===1&&o.children[0].type===e.type?o.children[0]:o}function Z5(e,t){let r=-1;if(e)for(;++r<e.length;)t.handle(e[r])}function Qoe(e,t){Z5(e.children,t)}function Xoe(e,t){nle(e,t),Z5(e.children,t),ale(e,t)}function Zoe(e,t){t.parser.tokenizer.state>4&&(t.parser.tokenizer.state=0);const r={type:$r.CHARACTER,chars:e.value,location:Pm(e)};Mp(t,Wo(e)),t.parser.currentToken=r,t.parser._processToken(t.parser.currentToken)}function Joe(e,t){const r={type:$r.DOCTYPE,name:"html",forceQuirks:!1,publicId:"",systemId:"",location:Pm(e)};Mp(t,Wo(e)),t.parser.currentToken=r,t.parser._processToken(t.parser.currentToken)}function ele(e,t){t.stitches=!0;const r=ile(e);if("children"in e&&"children"in r){const n=X5({type:"root",children:e.children},t.options);r.children=n.children}J5({type:"comment",value:{stitch:r}},t)}function J5(e,t){const r=e.value,n={type:$r.COMMENT,data:r,location:Pm(e)};Mp(t,Wo(e)),t.parser.currentToken=n,t.parser._processToken(t.parser.currentToken)}function tle(e,t){if(t.parser.tokenizer.preprocessor.html="",t.parser.tokenizer.preprocessor.pos=-1,t.parser.tokenizer.preprocessor.lastGapPos=-2,t.parser.tokenizer.preprocessor.gapStack=[],t.parser.tokenizer.preprocessor.skipNextNewLine=!1,t.parser.tokenizer.preprocessor.lastChunkWritten=!1,t.parser.tokenizer.preprocessor.endOfChunkHit=!1,t.parser.tokenizer.preprocessor.isEol=!1,eF(t,Wo(e)),t.parser.tokenizer.write(t.options.tagfilter?e.value.replace(Voe,"&lt;$1$2"):e.value,!1),t.parser.tokenizer._runParsingLoop(),t.parser.tokenizer.state===72||t.parser.tokenizer.state===78){t.parser.tokenizer.preprocessor.lastChunkWritten=!0;const r=t.parser.tokenizer._consume();t.parser.tokenizer._callState(r)}}function rle(e,t){const r=e;if(t.options.passThrough&&t.options.passThrough.includes(r.type))ele(r,t);else{let n="";throw Koe.has(r.type)&&(n=". It looks like you are using MDX nodes with `hast-util-raw` (or `rehype-raw`). If you use this because you are using remark or rehype plugins that inject `'html'` nodes, then please raise an issue with that plugin, as its a bad and slow idea. If you use this because you are using markdown syntax, then you have to configure this utility (or plugin) to pass through these nodes (see `passThrough` in docs), but you can also migrate to use the MDX syntax"),new Error("Cannot compile `"+r.type+"` node"+n)}}function Mp(e,t){eF(e,t);const r=e.parser.tokenizer.currentCharacterToken;r&&r.location&&(r.location.endLine=e.parser.tokenizer.preprocessor.line,r.location.endCol=e.parser.tokenizer.preprocessor.col+1,r.location.endOffset=e.parser.tokenizer.preprocessor.offset+1,e.parser.currentToken=r,e.parser._processToken(e.parser.currentToken)),e.parser.tokenizer.paused=!1,e.parser.tokenizer.inLoop=!1,e.parser.tokenizer.active=!1,e.parser.tokenizer.returnState=ga.DATA,e.parser.tokenizer.charRefCode=-1,e.parser.tokenizer.consumedAfterSnapshot=-1,e.parser.tokenizer.currentLocation=null,e.parser.tokenizer.currentCharacterToken=null,e.parser.tokenizer.currentToken=null,e.parser.tokenizer.currentAttr={name:"",value:""}}function eF(e,t){if(t&&t.offset!==void 0){const r={startLine:t.line,startCol:t.column,startOffset:t.offset,endLine:-1,endCol:-1,endOffset:-1};e.parser.tokenizer.preprocessor.lineStartPos=-t.column+1,e.parser.tokenizer.preprocessor.droppedBufferSize=t.offset,e.parser.tokenizer.preprocessor.line=t.line,e.parser.tokenizer.currentLocation=r}}function nle(e,t){const r=e.tagName.toLowerCase();if(t.parser.tokenizer.state===ga.PLAINTEXT)return;Mp(t,Wo(e));const n=t.parser.openElements.current;let a="namespaceURI"in n?n.namespaceURI:tu.html;a===tu.html&&r==="svg"&&(a=tu.svg);const i=gse({...e,children:[]},{space:a===tu.svg?"svg":"html"}),o={type:$r.START_TAG,tagName:r,tagID:Op(r),selfClosing:!1,ackSelfClosing:!1,attrs:"attrs"in i?i.attrs:[],location:Pm(e)};t.parser.currentToken=o,t.parser._processToken(t.parser.currentToken),t.parser.tokenizer.lastStartTagName=r}function ale(e,t){const r=e.tagName.toLowerCase();if(!t.parser.tokenizer.inForeignNode&&v5.includes(r)||t.parser.tokenizer.state===ga.PLAINTEXT)return;Mp(t,My(e));const n={type:$r.END_TAG,tagName:r,tagID:Op(r),selfClosing:!1,ackSelfClosing:!1,attrs:[],location:Pm(e)};t.parser.currentToken=n,t.parser._processToken(t.parser.currentToken),r===t.parser.tokenizer.lastStartTagName&&(t.parser.tokenizer.state===ga.RCDATA||t.parser.tokenizer.state===ga.RAWTEXT||t.parser.tokenizer.state===ga.SCRIPT_DATA)&&(t.parser.tokenizer.state=ga.DATA)}function sle(e){const t=e.type==="root"?e.children[0]:e;return!!(t&&(t.type==="doctype"||t.type==="element"&&t.tagName.toLowerCase()==="html"))}function Pm(e){const t=Wo(e)||{line:void 0,column:void 0,offset:void 0},r=My(e)||{line:void 0,column:void 0,offset:void 0};return{startLine:t.line,startCol:t.column,startOffset:t.offset,endLine:r.line,endCol:r.column,endOffset:r.offset}}function ile(e){return"children"in e?gc({...e,children:[]}):gc(e)}function tk(e){return function(t,r){return X5(t,{...e,file:r})}}const Vc=["ariaDescribedBy","ariaLabel","ariaLabelledBy"],Mg={ancestors:{tbody:["table"],td:["table"],th:["table"],thead:["table"],tfoot:["table"],tr:["table"]},attributes:{a:[...Vc,"dataFootnoteBackref","dataFootnoteRef",["className","data-footnote-backref"],"href"],blockquote:["cite"],code:[["className",/^language-./]],del:["cite"],div:["itemScope","itemType"],dl:[...Vc],h2:[["className","sr-only"]],img:[...Vc,"longDesc","src"],input:[["disabled",!0],["type","checkbox"]],ins:["cite"],li:[["className","task-list-item"]],ol:[...Vc,["className","contains-task-list"]],q:["cite"],section:["dataFootnotes",["className","footnotes"]],source:["srcSet"],summary:[...Vc],table:[...Vc],ul:[...Vc,["className","contains-task-list"]],"*":["abbr","accept","acceptCharset","accessKey","action","align","alt","axis","border","cellPadding","cellSpacing","char","charOff","charSet","checked","clear","colSpan","color","cols","compact","coords","dateTime","dir","encType","frame","hSpace","headers","height","hrefLang","htmlFor","id","isMap","itemProp","label","lang","maxLength","media","method","multiple","name","noHref","noShade","noWrap","open","prompt","readOnly","rev","rowSpan","rows","rules","scope","selected","shape","size","span","start","summary","tabIndex","title","useMap","vAlign","value","width"]},clobber:["ariaDescribedBy","ariaLabelledBy","id","name"],clobberPrefix:"user-content-",protocols:{cite:["http","https"],href:["http","https","irc","ircs","mailto","xmpp"],longDesc:["http","https"],src:["http","https"]},required:{input:{disabled:!0,type:"checkbox"}},strip:["script"],tagNames:["a","b","blockquote","br","code","dd","del","details","div","dl","dt","em","h1","h2","h3","h4","h5","h6","hr","i","img","input","ins","kbd","li","ol","p","picture","pre","q","rp","rt","ruby","s","samp","section","source","span","strike","strong","sub","summary","sup","table","tbody","td","tfoot","th","thead","tr","tt","ul","var"]},lc={}.hasOwnProperty;function ole(e,t){let r={type:"root",children:[]};const n={schema:t?{...Mg,...t}:Mg,stack:[]},a=tF(n,e);return a&&(Array.isArray(a)?a.length===1?r=a[0]:r.children=a:r=a),r}function tF(e,t){if(t&&typeof t=="object"){const r=t;switch(typeof r.type=="string"?r.type:""){case"comment":return lle(e,r);case"doctype":return cle(e,r);case"element":return ule(e,r);case"root":return dle(e,r);case"text":return ple(e,r)}}}function lle(e,t){if(e.schema.allowComments){const r=typeof t.value=="string"?t.value:"",n=r.indexOf("-->"),i={type:"comment",value:n<0?r:r.slice(0,n)};return jm(i,t),i}}function cle(e,t){if(e.schema.allowDoctypes){const r={type:"doctype"};return jm(r,t),r}}function ule(e,t){const r=typeof t.tagName=="string"?t.tagName:"";e.stack.push(r);const n=rF(e,t.children),a=hle(e,t.properties);e.stack.pop();let i=!1;if(r&&r!=="*"&&(!e.schema.tagNames||e.schema.tagNames.includes(r))&&(i=!0,e.schema.ancestors&&lc.call(e.schema.ancestors,r))){const l=e.schema.ancestors[r];let u=-1;for(i=!1;++u<l.length;)e.stack.includes(l[u])&&(i=!0)}if(!i)return e.schema.strip&&!e.schema.strip.includes(r)?n:void 0;const o={type:"element",tagName:r,properties:a,children:n};return jm(o,t),o}function dle(e,t){const n={type:"root",children:rF(e,t.children)};return jm(n,t),n}function ple(e,t){const n={type:"text",value:typeof t.value=="string"?t.value:""};return jm(n,t),n}function rF(e,t){const r=[];if(Array.isArray(t)){const n=t;let a=-1;for(;++a<n.length;){const i=tF(e,n[a]);i&&(Array.isArray(i)?r.push(...i):r.push(i))}}return r}function hle(e,t){const r=e.stack[e.stack.length-1],n=e.schema.attributes,a=e.schema.required,i=n&&lc.call(n,r)?n[r]:void 0,o=n&&lc.call(n,"*")?n["*"]:void 0,l=t&&typeof t=="object"?t:{},u={};let d;for(d in l)if(lc.call(l,d)){const h=l[d];let g=NO(e,IO(i,d),d,h);g==null&&(g=NO(e,IO(o,d),d,h)),g!=null&&(u[d]=g)}if(a&&lc.call(a,r)){const h=a[r];for(d in h)lc.call(h,d)&&!lc.call(u,d)&&(u[d]=h[d])}return u}function NO(e,t,r,n){return t?Array.isArray(n)?gle(e,t,r,n):nF(e,t,r,n):void 0}function gle(e,t,r,n){let a=-1;const i=[];for(;++a<n.length;){const o=nF(e,t,r,n[a]);(typeof o=="number"||typeof o=="string")&&i.push(o)}return i}function nF(e,t,r,n){if(!(typeof n!="boolean"&&typeof n!="number"&&typeof n!="string")&&mle(e,r,n)){if(typeof t=="object"&&t.length>1){let a=!1,i=0;for(;++i<t.length;){const o=t[i];if(o&&typeof o=="object"&&"flags"in o){if(o.test(String(n))){a=!0;break}}else if(o===n){a=!0;break}}if(!a)return}return e.schema.clobber&&e.schema.clobberPrefix&&e.schema.clobber.includes(r)?e.schema.clobberPrefix+n:n}}function mle(e,t,r){const n=e.schema.protocols&&lc.call(e.schema.protocols,t)?e.schema.protocols[t]:void 0;if(!n||n.length===0)return!0;const a=String(r),i=a.indexOf(":"),o=a.indexOf("?"),l=a.indexOf("#"),u=a.indexOf("/");if(i<0||u>-1&&i>u||o>-1&&i>o||l>-1&&i>l)return!0;let d=-1;for(;++d<n.length;){const h=n[d];if(i===h.length&&a.slice(0,h.length)===h)return!0}return!1}function jm(e,t){const r=oj(t);t.data&&(e.data=gc(t.data)),r&&(e.position=r)}function IO(e,t){let r,n=-1;if(e)for(;++n<e.length;){const a=e[n],i=typeof a=="string"?a:a[0];if(i===t)return a;i==="data*"&&(r=a)}if(t.length>4&&t.slice(0,4).toLowerCase()==="data")return r}function aF(e){return function(t){return ole(t,e)}}const RO=(function(e,t,r){const n=Rp(r);if(!e||!e.type||!e.children)throw new Error("Expected parent node");if(typeof t=="number"){if(t<0||t===Number.POSITIVE_INFINITY)throw new Error("Expected positive finite number as index")}else if(t=e.children.indexOf(t),t<0)throw new Error("Expected child node or index");for(;++t<e.children.length;)if(n(e.children[t],t,e))return e.children[t]}),vc=(function(e){if(e==null)return yle;if(typeof e=="string")return ble(e);if(typeof e=="object")return fle(e);if(typeof e=="function")return rk(e);throw new Error("Expected function, string, or array as `test`")});function fle(e){const t=[];let r=-1;for(;++r<e.length;)t[r]=vc(e[r]);return rk(n);function n(...a){let i=-1;for(;++i<t.length;)if(t[i].apply(this,a))return!0;return!1}}function ble(e){return rk(t);function t(r){return r.tagName===e}}function rk(e){return t;function t(r,n,a){return!!(xle(r)&&e.call(this,r,typeof n=="number"?n:void 0,a||void 0))}}function yle(e){return!!(e&&typeof e=="object"&&"type"in e&&e.type==="element"&&"tagName"in e&&typeof e.tagName=="string")}function xle(e){return e!==null&&typeof e=="object"&&"type"in e&&"tagName"in e}const DO=/\n/g,LO=/[\t ]+/g,sT=vc("br"),OO=vc(_le),Ele=vc("p"),MO=vc("tr"),vle=vc(["datalist","head","noembed","noframes","noscript","rp","script","style","template","title",Cle,Ale]),sF=vc(["address","article","aside","blockquote","body","caption","center","dd","dialog","dir","dl","dt","div","figure","figcaption","footer","form,","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","legend","li","listing","main","menu","nav","ol","p","plaintext","pre","section","ul","xmp"]);function Sle(e,t){const r=t||{},n="children"in e?e.children:[],a=sF(e),i=lF(e,{whitespace:r.whitespace||"normal"}),o=[];(e.type==="text"||e.type==="comment")&&o.push(...oF(e,{breakBefore:!0,breakAfter:!0}));let l=-1;for(;++l<n.length;)o.push(...iF(n[l],e,{whitespace:i,breakBefore:l?void 0:a,breakAfter:l<n.length-1?sT(n[l+1]):a}));const u=[];let d;for(l=-1;++l<o.length;){const h=o[l];typeof h=="number"?d!==void 0&&h>d&&(d=h):h&&(d!==void 0&&d>-1&&u.push(`
`.repeat(d)||" "),d=-1,u.push(h))}return u.join("")}function iF(e,t,r){return e.type==="element"?Tle(e,t,r):e.type==="text"?r.whitespace==="normal"?oF(e,r):wle(e):[]}function Tle(e,t,r){const n=lF(e,r),a=e.children||[];let i=-1,o=[];if(vle(e))return o;let l,u;for(sT(e)||MO(e)&&RO(t,e,MO)?u=`
`:Ele(e)?(l=2,u=2):sF(e)&&(l=1,u=1);++i<a.length;)o=o.concat(iF(a[i],e,{whitespace:n,breakBefore:i?void 0:l,breakAfter:i<a.length-1?sT(a[i+1]):u}));return OO(e)&&RO(t,e,OO)&&o.push("	"),l&&o.unshift(l),u&&o.push(u),o}function oF(e,t){const r=String(e.value),n=[],a=[];let i=0;for(;i<=r.length;){DO.lastIndex=i;const u=DO.exec(r),d=u&&"index"in u?u.index:r.length;n.push(kle(r.slice(i,d).replace(/[\u061C\u200E\u200F\u202A-\u202E\u2066-\u2069]/g,""),i===0?t.breakBefore:!0,d===r.length?t.breakAfter:!0)),i=d+1}let o=-1,l;for(;++o<n.length;)n[o].charCodeAt(n[o].length-1)===8203||o<n.length-1&&n[o+1].charCodeAt(0)===8203?(a.push(n[o]),l=void 0):n[o]?(typeof l=="number"&&a.push(l),a.push(n[o]),l=0):(o===0||o===n.length-1)&&a.push(0);return a}function wle(e){return[String(e.value)]}function kle(e,t,r){const n=[];let a=0,i;for(;a<e.length;){LO.lastIndex=a;const o=LO.exec(e);i=o?o.index:e.length,!a&&!i&&o&&!t&&n.push(""),a!==i&&n.push(e.slice(a,i)),a=o?i+o[0].length:i}return a!==i&&!r&&n.push(""),n.join(" ")}function lF(e,t){if(e.type==="element"){const r=e.properties||{};switch(e.tagName){case"listing":case"plaintext":case"xmp":return"pre";case"nobr":return"nowrap";case"pre":return r.wrap?"pre-wrap":"pre";case"td":case"th":return r.noWrap?"nowrap":t.whitespace;case"textarea":return"pre-wrap"}}return t.whitespace}function Cle(e){return!!(e.properties||{}).hidden}function _le(e){return e.tagName==="td"||e.tagName==="th"}function Ale(e){return e.tagName==="dialog"&&!(e.properties||{}).open}function Nle(e){const t=e.regex,r=e.COMMENT("//","$",{contains:[{begin:/\\\n/}]}),n="decltype\\(auto\\)",a="[a-zA-Z_]\\w*::",o="(?!struct)("+n+"|"+t.optional(a)+"[a-zA-Z_]\\w*"+t.optional("<[^<>]+>")+")",l={className:"type",begin:"\\b[a-z\\d_]*_t\\b"},d={className:"string",variants:[{begin:'(u8?|U|L)?"',end:'"',illegal:"\\n",contains:[e.BACKSLASH_ESCAPE]},{begin:"(u8?|U|L)?'("+"\\\\(x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4,8}|[0-7]{3}|\\S)"+"|.)",end:"'",illegal:"."},e.END_SAME_AS_BEGIN({begin:/(?:u8?|U|L)?R"([^()\\ ]{0,16})\(/,end:/\)([^()\\ ]{0,16})"/})]},h={className:"number",variants:[{begin:"[+-]?(?:(?:[0-9](?:'?[0-9])*\\.(?:[0-9](?:'?[0-9])*)?|\\.[0-9](?:'?[0-9])*)(?:[Ee][+-]?[0-9](?:'?[0-9])*)?|[0-9](?:'?[0-9])*[Ee][+-]?[0-9](?:'?[0-9])*|0[Xx](?:[0-9A-Fa-f](?:'?[0-9A-Fa-f])*(?:\\.(?:[0-9A-Fa-f](?:'?[0-9A-Fa-f])*)?)?|\\.[0-9A-Fa-f](?:'?[0-9A-Fa-f])*)[Pp][+-]?[0-9](?:'?[0-9])*)(?:[Ff](?:16|32|64|128)?|(BF|bf)16|[Ll]|)"},{begin:"[+-]?\\b(?:0[Bb][01](?:'?[01])*|0[Xx][0-9A-Fa-f](?:'?[0-9A-Fa-f])*|0(?:'?[0-7])*|[1-9](?:'?[0-9])*)(?:[Uu](?:LL?|ll?)|[Uu][Zz]?|(?:LL?|ll?)[Uu]?|[Zz][Uu]|)"}],relevance:0},g={className:"meta",begin:/#\s*[a-z]+\b/,end:/$/,keywords:{keyword:"if else elif endif define undef warning error line pragma _Pragma ifdef ifndef include"},contains:[{begin:/\\\n/,relevance:0},e.inherit(d,{className:"string"}),{className:"string",begin:/<.*?>/},r,e.C_BLOCK_COMMENT_MODE]},f={className:"title",begin:t.optional(a)+e.IDENT_RE,relevance:0},b=t.optional(a)+e.IDENT_RE+"\\s*\\(",x=["alignas","alignof","and","and_eq","asm","atomic_cancel","atomic_commit","atomic_noexcept","auto","bitand","bitor","break","case","catch","class","co_await","co_return","co_yield","compl","concept","const_cast|10","consteval","constexpr","constinit","continue","decltype","default","delete","do","dynamic_cast|10","else","enum","explicit","export","extern","false","final","for","friend","goto","if","import","inline","module","mutable","namespace","new","noexcept","not","not_eq","nullptr","operator","or","or_eq","override","private","protected","public","reflexpr","register","reinterpret_cast|10","requires","return","sizeof","static_assert","static_cast|10","struct","switch","synchronized","template","this","thread_local","throw","transaction_safe","transaction_safe_dynamic","true","try","typedef","typeid","typename","union","using","virtual","volatile","while","xor","xor_eq"],E=["bool","char","char16_t","char32_t","char8_t","double","float","int","long","short","void","wchar_t","unsigned","signed","const","static"],v=["any","auto_ptr","barrier","binary_semaphore","bitset","complex","condition_variable","condition_variable_any","counting_semaphore","deque","false_type","flat_map","flat_set","future","imaginary","initializer_list","istringstream","jthread","latch","lock_guard","multimap","multiset","mutex","optional","ostringstream","packaged_task","pair","promise","priority_queue","queue","recursive_mutex","recursive_timed_mutex","scoped_lock","set","shared_future","shared_lock","shared_mutex","shared_timed_mutex","shared_ptr","stack","string_view","stringstream","timed_mutex","thread","true_type","tuple","unique_lock","unique_ptr","unordered_map","unordered_multimap","unordered_multiset","unordered_set","variant","vector","weak_ptr","wstring","wstring_view"],T=["abort","abs","acos","apply","as_const","asin","atan","atan2","calloc","ceil","cerr","cin","clog","cos","cosh","cout","declval","endl","exchange","exit","exp","fabs","floor","fmod","forward","fprintf","fputs","free","frexp","fscanf","future","invoke","isalnum","isalpha","iscntrl","isdigit","isgraph","islower","isprint","ispunct","isspace","isupper","isxdigit","labs","launder","ldexp","log","log10","make_pair","make_shared","make_shared_for_overwrite","make_tuple","make_unique","malloc","memchr","memcmp","memcpy","memset","modf","move","pow","printf","putchar","puts","realloc","scanf","sin","sinh","snprintf","sprintf","sqrt","sscanf","std","stderr","stdin","stdout","strcat","strchr","strcmp","strcpy","strcspn","strlen","strncat","strncmp","strncpy","strpbrk","strrchr","strspn","strstr","swap","tan","tanh","terminate","to_underlying","tolower","toupper","vfprintf","visit","vprintf","vsprintf"],R={type:E,keyword:x,literal:["NULL","false","nullopt","nullptr","true"],built_in:["_Pragma"],_type_hints:v},D={className:"function.dispatch",relevance:0,keywords:{_hint:T},begin:t.concat(/\b/,/(?!decltype)/,/(?!if)/,/(?!for)/,/(?!switch)/,/(?!while)/,e.IDENT_RE,t.lookahead(/(<[^<>]+>|)\s*\(/))},L=[D,g,l,r,e.C_BLOCK_COMMENT_MODE,h,d],j={variants:[{begin:/=/,end:/;/},{begin:/\(/,end:/\)/},{beginKeywords:"new throw return else",end:/;/}],keywords:R,contains:L.concat([{begin:/\(/,end:/\)/,keywords:R,contains:L.concat(["self"]),relevance:0}]),relevance:0},B={className:"function",begin:"("+o+"[\\*&\\s]+)+"+b,returnBegin:!0,end:/[{;=]/,excludeEnd:!0,keywords:R,illegal:/[^\w\s\*&:<>.]/,contains:[{begin:n,keywords:R,relevance:0},{begin:b,returnBegin:!0,contains:[f],relevance:0},{begin:/::/,relevance:0},{begin:/:/,endsWithParent:!0,contains:[d,h]},{relevance:0,match:/,/},{className:"params",begin:/\(/,end:/\)/,keywords:R,relevance:0,contains:[r,e.C_BLOCK_COMMENT_MODE,d,h,l,{begin:/\(/,end:/\)/,keywords:R,relevance:0,contains:["self",r,e.C_BLOCK_COMMENT_MODE,d,h,l]}]},l,r,e.C_BLOCK_COMMENT_MODE,g]};return{name:"C++",aliases:["cc","c++","h++","hpp","hh","hxx","cxx"],keywords:R,illegal:"</",classNameAliases:{"function.dispatch":"built_in"},contains:[].concat(j,B,D,L,[g,{begin:"\\b(deque|list|queue|priority_queue|pair|stack|vector|map|set|bitset|multiset|multimap|unordered_map|unordered_set|unordered_multiset|unordered_multimap|array|tuple|optional|variant|function|flat_map|flat_set)\\s*<(?!<)",end:">",keywords:R,contains:["self",l]},{begin:e.IDENT_RE+"::",keywords:R},{match:[/\b(?:enum(?:\s+(?:class|struct))?|class|struct|union)/,/\s+/,/\w+/],className:{1:"keyword",3:"title.class"}}])}}function Ile(e){const t={type:["boolean","byte","word","String"],built_in:["KeyboardController","MouseController","SoftwareSerial","EthernetServer","EthernetClient","LiquidCrystal","RobotControl","GSMVoiceCall","EthernetUDP","EsploraTFT","HttpClient","RobotMotor","WiFiClient","GSMScanner","FileSystem","Scheduler","GSMServer","YunClient","YunServer","IPAddress","GSMClient","GSMModem","Keyboard","Ethernet","Console","GSMBand","Esplora","Stepper","Process","WiFiUDP","GSM_SMS","Mailbox","USBHost","Firmata","PImage","Client","Server","GSMPIN","FileIO","Bridge","Serial","EEPROM","Stream","Mouse","Audio","Servo","File","Task","GPRS","WiFi","Wire","TFT","GSM","SPI","SD"],_hints:["setup","loop","runShellCommandAsynchronously","analogWriteResolution","retrieveCallingNumber","printFirmwareVersion","analogReadResolution","sendDigitalPortPair","noListenOnLocalhost","readJoystickButton","setFirmwareVersion","readJoystickSwitch","scrollDisplayRight","getVoiceCallStatus","scrollDisplayLeft","writeMicroseconds","delayMicroseconds","beginTransmission","getSignalStrength","runAsynchronously","getAsynchronously","listenOnLocalhost","getCurrentCarrier","readAccelerometer","messageAvailable","sendDigitalPorts","lineFollowConfig","countryNameWrite","runShellCommand","readStringUntil","rewindDirectory","readTemperature","setClockDivider","readLightSensor","endTransmission","analogReference","detachInterrupt","countryNameRead","attachInterrupt","encryptionType","readBytesUntil","robotNameWrite","readMicrophone","robotNameRead","cityNameWrite","userNameWrite","readJoystickY","readJoystickX","mouseReleased","openNextFile","scanNetworks","noInterrupts","digitalWrite","beginSpeaker","mousePressed","isActionDone","mouseDragged","displayLogos","noAutoscroll","addParameter","remoteNumber","getModifiers","keyboardRead","userNameRead","waitContinue","processInput","parseCommand","printVersion","readNetworks","writeMessage","blinkVersion","cityNameRead","readMessage","setDataMode","parsePacket","isListening","setBitOrder","beginPacket","isDirectory","motorsWrite","drawCompass","digitalRead","clearScreen","serialEvent","rightToLeft","setTextSize","leftToRight","requestFrom","keyReleased","compassRead","analogWrite","interrupts","WiFiServer","disconnect","playMelody","parseFloat","autoscroll","getPINUsed","setPINUsed","setTimeout","sendAnalog","readSlider","analogRead","beginWrite","createChar","motorsStop","keyPressed","tempoWrite","readButton","subnetMask","debugPrint","macAddress","writeGreen","randomSeed","attachGPRS","readString","sendString","remotePort","releaseAll","mouseMoved","background","getXChange","getYChange","answerCall","getResult","voiceCall","endPacket","constrain","getSocket","writeJSON","getButton","available","connected","findUntil","readBytes","exitValue","readGreen","writeBlue","startLoop","IPAddress","isPressed","sendSysex","pauseMode","gatewayIP","setCursor","getOemKey","tuneWrite","noDisplay","loadImage","switchPIN","onRequest","onReceive","changePIN","playFile","noBuffer","parseInt","overflow","checkPIN","knobRead","beginTFT","bitClear","updateIR","bitWrite","position","writeRGB","highByte","writeRed","setSpeed","readBlue","noStroke","remoteIP","transfer","shutdown","hangCall","beginSMS","endWrite","attached","maintain","noCursor","checkReg","checkPUK","shiftOut","isValid","shiftIn","pulseIn","connect","println","localIP","pinMode","getIMEI","display","noBlink","process","getBand","running","beginSD","drawBMP","lowByte","setBand","release","bitRead","prepare","pointTo","readRed","setMode","noFill","remove","listen","stroke","detach","attach","noTone","exists","buffer","height","bitSet","circle","config","cursor","random","IRread","setDNS","endSMS","getKey","micros","millis","begin","print","write","ready","flush","width","isPIN","blink","clear","press","mkdir","rmdir","close","point","yield","image","BSSID","click","delay","read","text","move","peek","beep","rect","line","open","seek","fill","size","turn","stop","home","find","step","tone","sqrt","RSSI","SSID","end","bit","tan","cos","sin","pow","map","abs","max","min","get","run","put"],literal:["DIGITAL_MESSAGE","FIRMATA_STRING","ANALOG_MESSAGE","REPORT_DIGITAL","REPORT_ANALOG","INPUT_PULLUP","SET_PIN_MODE","INTERNAL2V56","SYSTEM_RESET","LED_BUILTIN","INTERNAL1V1","SYSEX_START","INTERNAL","EXTERNAL","DEFAULT","OUTPUT","INPUT","HIGH","LOW"]},r=Nle(e),n=r.keywords;return n.type=[...n.type,...t.type],n.literal=[...n.literal,...t.literal],n.built_in=[...n.built_in,...t.built_in],n._hints=t._hints,r.name="Arduino",r.aliases=["ino"],r.supersetOf="cpp",r}function Rle(e){const t=e.regex,r={},n={begin:/\$\{/,end:/\}/,contains:["self",{begin:/:-/,contains:[r]}]};Object.assign(r,{className:"variable",variants:[{begin:t.concat(/\$[\w\d#@][\w\d_]*/,"(?![\\w\\d])(?![$])")},n]});const a={className:"subst",begin:/\$\(/,end:/\)/,contains:[e.BACKSLASH_ESCAPE]},i=e.inherit(e.COMMENT(),{match:[/(^|\s)/,/#.*$/],scope:{2:"comment"}}),o={begin:/<<-?\s*(?=\w+)/,starts:{contains:[e.END_SAME_AS_BEGIN({begin:/(\w+)/,end:/(\w+)/,className:"string"})]}},l={className:"string",begin:/"/,end:/"/,contains:[e.BACKSLASH_ESCAPE,r,a]};a.contains.push(l);const u={match:/\\"/},d={className:"string",begin:/'/,end:/'/},h={match:/\\'/},g={begin:/\$?\(\(/,end:/\)\)/,contains:[{begin:/\d+#[0-9a-f]+/,className:"number"},e.NUMBER_MODE,r]},f=["fish","bash","zsh","sh","csh","ksh","tcsh","dash","scsh"],b=e.SHEBANG({binary:`(${f.join("|")})`,relevance:10}),x={className:"function",begin:/\w[\w\d_]*\s*\(\s*\)\s*\{/,returnBegin:!0,contains:[e.inherit(e.TITLE_MODE,{begin:/\w[\w\d_]*/})],relevance:0},E=["if","then","else","elif","fi","time","for","while","until","in","do","done","case","esac","coproc","function","select"],v=["true","false"],T={match:/(\/[a-z._-]+)+/},w=["break","cd","continue","eval","exec","exit","export","getopts","hash","pwd","readonly","return","shift","test","times","trap","umask","unset"],N=["alias","bind","builtin","caller","command","declare","echo","enable","help","let","local","logout","mapfile","printf","read","readarray","source","sudo","type","typeset","ulimit","unalias"],R=["autoload","bg","bindkey","bye","cap","chdir","clone","comparguments","compcall","compctl","compdescribe","compfiles","compgroups","compquote","comptags","comptry","compvalues","dirs","disable","disown","echotc","echoti","emulate","fc","fg","float","functions","getcap","getln","history","integer","jobs","kill","limit","log","noglob","popd","print","pushd","pushln","rehash","sched","setcap","setopt","stat","suspend","ttyctl","unfunction","unhash","unlimit","unsetopt","vared","wait","whence","where","which","zcompile","zformat","zftp","zle","zmodload","zparseopts","zprof","zpty","zregexparse","zsocket","zstyle","ztcp"],D=["chcon","chgrp","chown","chmod","cp","dd","df","dir","dircolors","ln","ls","mkdir","mkfifo","mknod","mktemp","mv","realpath","rm","rmdir","shred","sync","touch","truncate","vdir","b2sum","base32","base64","cat","cksum","comm","csplit","cut","expand","fmt","fold","head","join","md5sum","nl","numfmt","od","paste","ptx","pr","sha1sum","sha224sum","sha256sum","sha384sum","sha512sum","shuf","sort","split","sum","tac","tail","tr","tsort","unexpand","uniq","wc","arch","basename","chroot","date","dirname","du","echo","env","expr","factor","groups","hostid","id","link","logname","nice","nohup","nproc","pathchk","pinky","printenv","printf","pwd","readlink","runcon","seq","sleep","stat","stdbuf","stty","tee","test","timeout","tty","uname","unlink","uptime","users","who","whoami","yes"];return{name:"Bash",aliases:["sh","zsh"],keywords:{$pattern:/\b[a-z][a-z0-9._-]+\b/,keyword:E,literal:v,built_in:[...w,...N,"set","shopt",...R,...D]},contains:[b,e.SHEBANG(),x,g,i,o,T,l,u,d,h,r]}}function Dle(e){const t=e.regex,r=e.COMMENT("//","$",{contains:[{begin:/\\\n/}]}),n="decltype\\(auto\\)",a="[a-zA-Z_]\\w*::",o="("+n+"|"+t.optional(a)+"[a-zA-Z_]\\w*"+t.optional("<[^<>]+>")+")",l={className:"type",variants:[{begin:"\\b[a-z\\d_]*_t\\b"},{match:/\batomic_[a-z]{3,6}\b/}]},d={className:"string",variants:[{begin:'(u8?|U|L)?"',end:'"',illegal:"\\n",contains:[e.BACKSLASH_ESCAPE]},{begin:"(u8?|U|L)?'("+"\\\\(x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4,8}|[0-7]{3}|\\S)"+"|.)",end:"'",illegal:"."},e.END_SAME_AS_BEGIN({begin:/(?:u8?|U|L)?R"([^()\\ ]{0,16})\(/,end:/\)([^()\\ ]{0,16})"/})]},h={className:"number",variants:[{match:/\b(0b[01']+)/},{match:/(-?)\b([\d']+(\.[\d']*)?|\.[\d']+)((ll|LL|l|L)(u|U)?|(u|U)(ll|LL|l|L)?|f|F|b|B)/},{match:/(-?)\b(0[xX][a-fA-F0-9]+(?:'[a-fA-F0-9]+)*(?:\.[a-fA-F0-9]*(?:'[a-fA-F0-9]*)*)?(?:[pP][-+]?[0-9]+)?(l|L)?(u|U)?)/},{match:/(-?)\b\d+(?:'\d+)*(?:\.\d*(?:'\d*)*)?(?:[eE][-+]?\d+)?/}],relevance:0},g={className:"meta",begin:/#\s*[a-z]+\b/,end:/$/,keywords:{keyword:"if else elif endif define undef warning error line pragma _Pragma ifdef ifndef elifdef elifndef include"},contains:[{begin:/\\\n/,relevance:0},e.inherit(d,{className:"string"}),{className:"string",begin:/<.*?>/},r,e.C_BLOCK_COMMENT_MODE]},f={className:"title",begin:t.optional(a)+e.IDENT_RE,relevance:0},b=t.optional(a)+e.IDENT_RE+"\\s*\\(",v={keyword:["asm","auto","break","case","continue","default","do","else","enum","extern","for","fortran","goto","if","inline","register","restrict","return","sizeof","typeof","typeof_unqual","struct","switch","typedef","union","volatile","while","_Alignas","_Alignof","_Atomic","_Generic","_Noreturn","_Static_assert","_Thread_local","alignas","alignof","noreturn","static_assert","thread_local","_Pragma"],type:["float","double","signed","unsigned","int","short","long","char","void","_Bool","_BitInt","_Complex","_Imaginary","_Decimal32","_Decimal64","_Decimal96","_Decimal128","_Decimal64x","_Decimal128x","_Float16","_Float32","_Float64","_Float128","_Float32x","_Float64x","_Float128x","const","static","constexpr","complex","bool","imaginary"],literal:"true false NULL",built_in:"std string wstring cin cout cerr clog stdin stdout stderr stringstream istringstream ostringstream auto_ptr deque list queue stack vector map set pair bitset multiset multimap unordered_set unordered_map unordered_multiset unordered_multimap priority_queue make_pair array shared_ptr abort terminate abs acos asin atan2 atan calloc ceil cosh cos exit exp fabs floor fmod fprintf fputs free frexp fscanf future isalnum isalpha iscntrl isdigit isgraph islower isprint ispunct isspace isupper isxdigit tolower toupper labs ldexp log10 log malloc realloc memchr memcmp memcpy memset modf pow printf putchar puts scanf sinh sin snprintf sprintf sqrt sscanf strcat strchr strcmp strcpy strcspn strlen strncat strncmp strncpy strpbrk strrchr strspn strstr tanh tan vfprintf vprintf vsprintf endl initializer_list unique_ptr"},T=[g,l,r,e.C_BLOCK_COMMENT_MODE,h,d],w={variants:[{begin:/=/,end:/;/},{begin:/\(/,end:/\)/},{beginKeywords:"new throw return else",end:/;/}],keywords:v,contains:T.concat([{begin:/\(/,end:/\)/,keywords:v,contains:T.concat(["self"]),relevance:0}]),relevance:0},N={begin:"("+o+"[\\*&\\s]+)+"+b,returnBegin:!0,end:/[{;=]/,excludeEnd:!0,keywords:v,illegal:/[^\w\s\*&:<>.]/,contains:[{begin:n,keywords:v,relevance:0},{begin:b,returnBegin:!0,contains:[e.inherit(f,{className:"title.function"})],relevance:0},{relevance:0,match:/,/},{className:"params",begin:/\(/,end:/\)/,keywords:v,relevance:0,contains:[r,e.C_BLOCK_COMMENT_MODE,d,h,l,{begin:/\(/,end:/\)/,keywords:v,relevance:0,contains:["self",r,e.C_BLOCK_COMMENT_MODE,d,h,l]}]},l,r,e.C_BLOCK_COMMENT_MODE,g]};return{name:"C",aliases:["h"],keywords:v,disableAutodetect:!0,illegal:"</",contains:[].concat(w,N,T,[g,{begin:e.IDENT_RE+"::",keywords:v},{className:"class",beginKeywords:"enum class struct union",end:/[{;:<>=]/,contains:[{beginKeywords:"final class struct"},e.TITLE_MODE]}]),exports:{preprocessor:g,strings:d,keywords:v}}}function Lle(e){const t=e.regex,r=e.COMMENT("//","$",{contains:[{begin:/\\\n/}]}),n="decltype\\(auto\\)",a="[a-zA-Z_]\\w*::",o="(?!struct)("+n+"|"+t.optional(a)+"[a-zA-Z_]\\w*"+t.optional("<[^<>]+>")+")",l={className:"type",begin:"\\b[a-z\\d_]*_t\\b"},d={className:"string",variants:[{begin:'(u8?|U|L)?"',end:'"',illegal:"\\n",contains:[e.BACKSLASH_ESCAPE]},{begin:"(u8?|U|L)?'("+"\\\\(x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4,8}|[0-7]{3}|\\S)"+"|.)",end:"'",illegal:"."},e.END_SAME_AS_BEGIN({begin:/(?:u8?|U|L)?R"([^()\\ ]{0,16})\(/,end:/\)([^()\\ ]{0,16})"/})]},h={className:"number",variants:[{begin:"[+-]?(?:(?:[0-9](?:'?[0-9])*\\.(?:[0-9](?:'?[0-9])*)?|\\.[0-9](?:'?[0-9])*)(?:[Ee][+-]?[0-9](?:'?[0-9])*)?|[0-9](?:'?[0-9])*[Ee][+-]?[0-9](?:'?[0-9])*|0[Xx](?:[0-9A-Fa-f](?:'?[0-9A-Fa-f])*(?:\\.(?:[0-9A-Fa-f](?:'?[0-9A-Fa-f])*)?)?|\\.[0-9A-Fa-f](?:'?[0-9A-Fa-f])*)[Pp][+-]?[0-9](?:'?[0-9])*)(?:[Ff](?:16|32|64|128)?|(BF|bf)16|[Ll]|)"},{begin:"[+-]?\\b(?:0[Bb][01](?:'?[01])*|0[Xx][0-9A-Fa-f](?:'?[0-9A-Fa-f])*|0(?:'?[0-7])*|[1-9](?:'?[0-9])*)(?:[Uu](?:LL?|ll?)|[Uu][Zz]?|(?:LL?|ll?)[Uu]?|[Zz][Uu]|)"}],relevance:0},g={className:"meta",begin:/#\s*[a-z]+\b/,end:/$/,keywords:{keyword:"if else elif endif define undef warning error line pragma _Pragma ifdef ifndef include"},contains:[{begin:/\\\n/,relevance:0},e.inherit(d,{className:"string"}),{className:"string",begin:/<.*?>/},r,e.C_BLOCK_COMMENT_MODE]},f={className:"title",begin:t.optional(a)+e.IDENT_RE,relevance:0},b=t.optional(a)+e.IDENT_RE+"\\s*\\(",x=["alignas","alignof","and","and_eq","asm","atomic_cancel","atomic_commit","atomic_noexcept","auto","bitand","bitor","break","case","catch","class","co_await","co_return","co_yield","compl","concept","const_cast|10","consteval","constexpr","constinit","continue","decltype","default","delete","do","dynamic_cast|10","else","enum","explicit","export","extern","false","final","for","friend","goto","if","import","inline","module","mutable","namespace","new","noexcept","not","not_eq","nullptr","operator","or","or_eq","override","private","protected","public","reflexpr","register","reinterpret_cast|10","requires","return","sizeof","static_assert","static_cast|10","struct","switch","synchronized","template","this","thread_local","throw","transaction_safe","transaction_safe_dynamic","true","try","typedef","typeid","typename","union","using","virtual","volatile","while","xor","xor_eq"],E=["bool","char","char16_t","char32_t","char8_t","double","float","int","long","short","void","wchar_t","unsigned","signed","const","static"],v=["any","auto_ptr","barrier","binary_semaphore","bitset","complex","condition_variable","condition_variable_any","counting_semaphore","deque","false_type","flat_map","flat_set","future","imaginary","initializer_list","istringstream","jthread","latch","lock_guard","multimap","multiset","mutex","optional","ostringstream","packaged_task","pair","promise","priority_queue","queue","recursive_mutex","recursive_timed_mutex","scoped_lock","set","shared_future","shared_lock","shared_mutex","shared_timed_mutex","shared_ptr","stack","string_view","stringstream","timed_mutex","thread","true_type","tuple","unique_lock","unique_ptr","unordered_map","unordered_multimap","unordered_multiset","unordered_set","variant","vector","weak_ptr","wstring","wstring_view"],T=["abort","abs","acos","apply","as_const","asin","atan","atan2","calloc","ceil","cerr","cin","clog","cos","cosh","cout","declval","endl","exchange","exit","exp","fabs","floor","fmod","forward","fprintf","fputs","free","frexp","fscanf","future","invoke","isalnum","isalpha","iscntrl","isdigit","isgraph","islower","isprint","ispunct","isspace","isupper","isxdigit","labs","launder","ldexp","log","log10","make_pair","make_shared","make_shared_for_overwrite","make_tuple","make_unique","malloc","memchr","memcmp","memcpy","memset","modf","move","pow","printf","putchar","puts","realloc","scanf","sin","sinh","snprintf","sprintf","sqrt","sscanf","std","stderr","stdin","stdout","strcat","strchr","strcmp","strcpy","strcspn","strlen","strncat","strncmp","strncpy","strpbrk","strrchr","strspn","strstr","swap","tan","tanh","terminate","to_underlying","tolower","toupper","vfprintf","visit","vprintf","vsprintf"],R={type:E,keyword:x,literal:["NULL","false","nullopt","nullptr","true"],built_in:["_Pragma"],_type_hints:v},D={className:"function.dispatch",relevance:0,keywords:{_hint:T},begin:t.concat(/\b/,/(?!decltype)/,/(?!if)/,/(?!for)/,/(?!switch)/,/(?!while)/,e.IDENT_RE,t.lookahead(/(<[^<>]+>|)\s*\(/))},L=[D,g,l,r,e.C_BLOCK_COMMENT_MODE,h,d],j={variants:[{begin:/=/,end:/;/},{begin:/\(/,end:/\)/},{beginKeywords:"new throw return else",end:/;/}],keywords:R,contains:L.concat([{begin:/\(/,end:/\)/,keywords:R,contains:L.concat(["self"]),relevance:0}]),relevance:0},B={className:"function",begin:"("+o+"[\\*&\\s]+)+"+b,returnBegin:!0,end:/[{;=]/,excludeEnd:!0,keywords:R,illegal:/[^\w\s\*&:<>.]/,contains:[{begin:n,keywords:R,relevance:0},{begin:b,returnBegin:!0,contains:[f],relevance:0},{begin:/::/,relevance:0},{begin:/:/,endsWithParent:!0,contains:[d,h]},{relevance:0,match:/,/},{className:"params",begin:/\(/,end:/\)/,keywords:R,relevance:0,contains:[r,e.C_BLOCK_COMMENT_MODE,d,h,l,{begin:/\(/,end:/\)/,keywords:R,relevance:0,contains:["self",r,e.C_BLOCK_COMMENT_MODE,d,h,l]}]},l,r,e.C_BLOCK_COMMENT_MODE,g]};return{name:"C++",aliases:["cc","c++","h++","hpp","hh","hxx","cxx"],keywords:R,illegal:"</",classNameAliases:{"function.dispatch":"built_in"},contains:[].concat(j,B,D,L,[g,{begin:"\\b(deque|list|queue|priority_queue|pair|stack|vector|map|set|bitset|multiset|multimap|unordered_map|unordered_set|unordered_multiset|unordered_multimap|array|tuple|optional|variant|function|flat_map|flat_set)\\s*<(?!<)",end:">",keywords:R,contains:["self",l]},{begin:e.IDENT_RE+"::",keywords:R},{match:[/\b(?:enum(?:\s+(?:class|struct))?|class|struct|union)/,/\s+/,/\w+/],className:{1:"keyword",3:"title.class"}}])}}function Ole(e){const t=["bool","byte","char","decimal","delegate","double","dynamic","enum","float","int","long","nint","nuint","object","sbyte","short","string","ulong","uint","ushort"],r=["public","private","protected","static","internal","protected","abstract","async","extern","override","unsafe","virtual","new","sealed","partial"],n=["default","false","null","true"],a=["abstract","as","base","break","case","catch","class","const","continue","do","else","event","explicit","extern","finally","fixed","for","foreach","goto","if","implicit","in","interface","internal","is","lock","namespace","new","operator","out","override","params","private","protected","public","readonly","record","ref","return","scoped","sealed","sizeof","stackalloc","static","struct","switch","this","throw","try","typeof","unchecked","unsafe","using","virtual","void","volatile","while"],i=["add","alias","and","ascending","args","async","await","by","descending","dynamic","equals","file","from","get","global","group","init","into","join","let","nameof","not","notnull","on","or","orderby","partial","record","remove","required","scoped","select","set","unmanaged","value|0","var","when","where","with","yield"],o={keyword:a.concat(i),built_in:t,literal:n},l=e.inherit(e.TITLE_MODE,{begin:"[a-zA-Z](\\.?\\w)*"}),u={className:"number",variants:[{begin:"\\b(0b[01']+)"},{begin:"(-?)\\b([\\d']+(\\.[\\d']*)?|\\.[\\d']+)(u|U|l|L|ul|UL|f|F|b|B)"},{begin:"(-?)(\\b0[xX][a-fA-F0-9']+|(\\b[\\d']+(\\.[\\d']*)?|\\.[\\d']+)([eE][-+]?[\\d']+)?)"}],relevance:0},d={className:"string",begin:/"""("*)(?!")(.|\n)*?"""\1/,relevance:1},h={className:"string",begin:'@"',end:'"',contains:[{begin:'""'}]},g=e.inherit(h,{illegal:/\n/}),f={className:"subst",begin:/\{/,end:/\}/,keywords:o},b=e.inherit(f,{illegal:/\n/}),x={className:"string",begin:/\$"/,end:'"',illegal:/\n/,contains:[{begin:/\{\{/},{begin:/\}\}/},e.BACKSLASH_ESCAPE,b]},E={className:"string",begin:/\$@"/,end:'"',contains:[{begin:/\{\{/},{begin:/\}\}/},{begin:'""'},f]},v=e.inherit(E,{illegal:/\n/,contains:[{begin:/\{\{/},{begin:/\}\}/},{begin:'""'},b]});f.contains=[E,x,h,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,u,e.C_BLOCK_COMMENT_MODE],b.contains=[v,x,g,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,u,e.inherit(e.C_BLOCK_COMMENT_MODE,{illegal:/\n/})];const T={variants:[d,E,x,h,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE]},w={begin:"<",end:">",contains:[{beginKeywords:"in out"},l]},N=e.IDENT_RE+"(<"+e.IDENT_RE+"(\\s*,\\s*"+e.IDENT_RE+")*>)?(\\[\\])?",R={begin:"@"+e.IDENT_RE,relevance:0};return{name:"C#",aliases:["cs","c#"],keywords:o,illegal:/::/,contains:[e.COMMENT("///","$",{returnBegin:!0,contains:[{className:"doctag",variants:[{begin:"///",relevance:0},{begin:"<!--|-->"},{begin:"</?",end:">"}]}]}),e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,{className:"meta",begin:"#",end:"$",keywords:{keyword:"if else elif endif define undef warning error line region endregion pragma checksum"}},T,u,{beginKeywords:"class interface",relevance:0,end:/[{;=]/,illegal:/[^\s:,]/,contains:[{beginKeywords:"where class"},l,w,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},{beginKeywords:"namespace",relevance:0,end:/[{;=]/,illegal:/[^\s:]/,contains:[l,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},{beginKeywords:"record",relevance:0,end:/[{;=]/,illegal:/[^\s:]/,contains:[l,w,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},{className:"meta",begin:"^\\s*\\[(?=[\\w])",excludeBegin:!0,end:"\\]",excludeEnd:!0,contains:[{className:"string",begin:/"/,end:/"/}]},{beginKeywords:"new return throw await else",relevance:0},{className:"function",begin:"("+N+"\\s+)+"+e.IDENT_RE+"\\s*(<[^=]+>\\s*)?\\(",returnBegin:!0,end:/\s*[{;=]/,excludeEnd:!0,keywords:o,contains:[{beginKeywords:r.join(" "),relevance:0},{begin:e.IDENT_RE+"\\s*(<[^=]+>\\s*)?\\(",returnBegin:!0,contains:[e.TITLE_MODE,w],relevance:0},{match:/\(\)/},{className:"params",begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:o,relevance:0,contains:[T,u,e.C_BLOCK_COMMENT_MODE]},e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},R]}}const Mle=e=>({IMPORTANT:{scope:"meta",begin:"!important"},BLOCK_COMMENT:e.C_BLOCK_COMMENT_MODE,HEXCOLOR:{scope:"number",begin:/#(([0-9a-fA-F]{3,4})|(([0-9a-fA-F]{2}){3,4}))\b/},FUNCTION_DISPATCH:{className:"built_in",begin:/[\w-]+(?=\()/},ATTRIBUTE_SELECTOR_MODE:{scope:"selector-attr",begin:/\[/,end:/\]/,illegal:"$",contains:[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE]},CSS_NUMBER_MODE:{scope:"number",begin:e.NUMBER_RE+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},CSS_VARIABLE:{className:"attr",begin:/--[A-Za-z_][A-Za-z0-9_-]*/}}),Ple=["a","abbr","address","article","aside","audio","b","blockquote","body","button","canvas","caption","cite","code","dd","del","details","dfn","div","dl","dt","em","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","html","i","iframe","img","input","ins","kbd","label","legend","li","main","mark","menu","nav","object","ol","optgroup","option","p","picture","q","quote","samp","section","select","source","span","strong","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","ul","var","video"],jle=["defs","g","marker","mask","pattern","svg","switch","symbol","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feFlood","feGaussianBlur","feImage","feMerge","feMorphology","feOffset","feSpecularLighting","feTile","feTurbulence","linearGradient","radialGradient","stop","circle","ellipse","image","line","path","polygon","polyline","rect","text","use","textPath","tspan","foreignObject","clipPath"],Fle=[...Ple,...jle],Ble=["any-hover","any-pointer","aspect-ratio","color","color-gamut","color-index","device-aspect-ratio","device-height","device-width","display-mode","forced-colors","grid","height","hover","inverted-colors","monochrome","orientation","overflow-block","overflow-inline","pointer","prefers-color-scheme","prefers-contrast","prefers-reduced-motion","prefers-reduced-transparency","resolution","scan","scripting","update","width","min-width","max-width","min-height","max-height"].sort().reverse(),Ule=["active","any-link","blank","checked","current","default","defined","dir","disabled","drop","empty","enabled","first","first-child","first-of-type","fullscreen","future","focus","focus-visible","focus-within","has","host","host-context","hover","indeterminate","in-range","invalid","is","lang","last-child","last-of-type","left","link","local-link","not","nth-child","nth-col","nth-last-child","nth-last-col","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","past","placeholder-shown","read-only","read-write","required","right","root","scope","target","target-within","user-invalid","valid","visited","where"].sort().reverse(),$le=["after","backdrop","before","cue","cue-region","first-letter","first-line","grammar-error","marker","part","placeholder","selection","slotted","spelling-error"].sort().reverse(),Hle=["accent-color","align-content","align-items","align-self","alignment-baseline","all","anchor-name","animation","animation-composition","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-range","animation-range-end","animation-range-start","animation-timeline","animation-timing-function","appearance","aspect-ratio","backdrop-filter","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-position-x","background-position-y","background-repeat","background-size","baseline-shift","block-size","border","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-end-end-radius","border-end-start-radius","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-start-end-radius","border-start-start-radius","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-align","box-decoration-break","box-direction","box-flex","box-flex-group","box-lines","box-ordinal-group","box-orient","box-pack","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","color-scheme","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","contain-intrinsic-block-size","contain-intrinsic-height","contain-intrinsic-inline-size","contain-intrinsic-size","contain-intrinsic-width","container","container-name","container-type","content","content-visibility","counter-increment","counter-reset","counter-set","cue","cue-after","cue-before","cursor","cx","cy","direction","display","dominant-baseline","empty-cells","enable-background","field-sizing","fill","fill-opacity","fill-rule","filter","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","flood-color","flood-opacity","flow","font","font-display","font-family","font-feature-settings","font-kerning","font-language-override","font-optical-sizing","font-palette","font-size","font-size-adjust","font-smooth","font-smoothing","font-stretch","font-style","font-synthesis","font-synthesis-position","font-synthesis-small-caps","font-synthesis-style","font-synthesis-weight","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-emoji","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","forced-color-adjust","gap","glyph-orientation-horizontal","glyph-orientation-vertical","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphenate-character","hyphenate-limit-chars","hyphens","icon","image-orientation","image-rendering","image-resolution","ime-mode","initial-letter","initial-letter-align","inline-size","inset","inset-area","inset-block","inset-block-end","inset-block-start","inset-inline","inset-inline-end","inset-inline-start","isolation","justify-content","justify-items","justify-self","kerning","left","letter-spacing","lighting-color","line-break","line-height","line-height-step","list-style","list-style-image","list-style-position","list-style-type","margin","margin-block","margin-block-end","margin-block-start","margin-bottom","margin-inline","margin-inline-end","margin-inline-start","margin-left","margin-right","margin-top","margin-trim","marker","marker-end","marker-mid","marker-start","marks","mask","mask-border","mask-border-mode","mask-border-outset","mask-border-repeat","mask-border-slice","mask-border-source","mask-border-width","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","masonry-auto-flow","math-depth","math-shift","math-style","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","nav-down","nav-index","nav-left","nav-right","nav-up","none","normal","object-fit","object-position","offset","offset-anchor","offset-distance","offset-path","offset-position","offset-rotate","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-anchor","overflow-block","overflow-clip-margin","overflow-inline","overflow-wrap","overflow-x","overflow-y","overlay","overscroll-behavior","overscroll-behavior-block","overscroll-behavior-inline","overscroll-behavior-x","overscroll-behavior-y","padding","padding-block","padding-block-end","padding-block-start","padding-bottom","padding-inline","padding-inline-end","padding-inline-start","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","paint-order","pause","pause-after","pause-before","perspective","perspective-origin","place-content","place-items","place-self","pointer-events","position","position-anchor","position-visibility","print-color-adjust","quotes","r","resize","rest","rest-after","rest-before","right","rotate","row-gap","ruby-align","ruby-position","scale","scroll-behavior","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-stop","scroll-snap-type","scroll-timeline","scroll-timeline-axis","scroll-timeline-name","scrollbar-color","scrollbar-gutter","scrollbar-width","shape-image-threshold","shape-margin","shape-outside","shape-rendering","speak","speak-as","src","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","tab-size","table-layout","text-align","text-align-all","text-align-last","text-anchor","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-skip-ink","text-decoration-style","text-decoration-thickness","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-indent","text-justify","text-orientation","text-overflow","text-rendering","text-shadow","text-size-adjust","text-transform","text-underline-offset","text-underline-position","text-wrap","text-wrap-mode","text-wrap-style","timeline-scope","top","touch-action","transform","transform-box","transform-origin","transform-style","transition","transition-behavior","transition-delay","transition-duration","transition-property","transition-timing-function","translate","unicode-bidi","user-modify","user-select","vector-effect","vertical-align","view-timeline","view-timeline-axis","view-timeline-inset","view-timeline-name","view-transition-name","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","white-space","white-space-collapse","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","x","y","z-index","zoom"].sort().reverse();function zle(e){const t=e.regex,r=Mle(e),n={begin:/-(webkit|moz|ms|o)-(?=[a-z])/},a="and or not only",i=/@-?\w[\w]*(-\w+)*/,o="[a-zA-Z-][a-zA-Z0-9_-]*",l=[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE];return{name:"CSS",case_insensitive:!0,illegal:/[=|'\$]/,keywords:{keyframePosition:"from to"},classNameAliases:{keyframePosition:"selector-tag"},contains:[r.BLOCK_COMMENT,n,r.CSS_NUMBER_MODE,{className:"selector-id",begin:/#[A-Za-z0-9_-]+/,relevance:0},{className:"selector-class",begin:"\\."+o,relevance:0},r.ATTRIBUTE_SELECTOR_MODE,{className:"selector-pseudo",variants:[{begin:":("+Ule.join("|")+")"},{begin:":(:)?("+$le.join("|")+")"}]},r.CSS_VARIABLE,{className:"attribute",begin:"\\b("+Hle.join("|")+")\\b"},{begin:/:/,end:/[;}{]/,contains:[r.BLOCK_COMMENT,r.HEXCOLOR,r.IMPORTANT,r.CSS_NUMBER_MODE,...l,{begin:/(url|data-uri)\(/,end:/\)/,relevance:0,keywords:{built_in:"url data-uri"},contains:[...l,{className:"string",begin:/[^)]/,endsWithParent:!0,excludeEnd:!0}]},r.FUNCTION_DISPATCH]},{begin:t.lookahead(/@/),end:"[{;]",relevance:0,illegal:/:/,contains:[{className:"keyword",begin:i},{begin:/\s/,endsWithParent:!0,excludeEnd:!0,relevance:0,keywords:{$pattern:/[a-z-]+/,keyword:a,attribute:Ble.join(" ")},contains:[{begin:/[a-z-]+(?=:)/,className:"attribute"},...l,r.CSS_NUMBER_MODE]}]},{className:"selector-tag",begin:"\\b("+Fle.join("|")+")\\b"}]}}function Gle(e){const t=e.regex;return{name:"Diff",aliases:["patch"],contains:[{className:"meta",relevance:10,match:t.either(/^@@ +-\d+,\d+ +\+\d+,\d+ +@@/,/^\*\*\* +\d+,\d+ +\*\*\*\*$/,/^--- +\d+,\d+ +----$/)},{className:"comment",variants:[{begin:t.either(/Index: /,/^index/,/={3,}/,/^-{3}/,/^\*{3} /,/^\+{3}/,/^diff --git/),end:/$/},{match:/^\*{15}$/}]},{className:"addition",begin:/^\+/,end:/$/},{className:"deletion",begin:/^-/,end:/$/},{className:"addition",begin:/^!/,end:/$/}]}}function qle(e){const i={keyword:["break","case","chan","const","continue","default","defer","else","fallthrough","for","func","go","goto","if","import","interface","map","package","range","return","select","struct","switch","type","var"],type:["bool","byte","complex64","complex128","error","float32","float64","int8","int16","int32","int64","string","uint8","uint16","uint32","uint64","int","uint","uintptr","rune"],literal:["true","false","iota","nil"],built_in:["append","cap","close","complex","copy","imag","len","make","new","panic","print","println","real","recover","delete"]};return{name:"Go",aliases:["golang"],keywords:i,illegal:"</",contains:[e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,{className:"string",variants:[e.QUOTE_STRING_MODE,e.APOS_STRING_MODE,{begin:"`",end:"`"}]},{className:"number",variants:[{match:/-?\b0[xX]\.[a-fA-F0-9](_?[a-fA-F0-9])*[pP][+-]?\d(_?\d)*i?/,relevance:0},{match:/-?\b0[xX](_?[a-fA-F0-9])+((\.([a-fA-F0-9](_?[a-fA-F0-9])*)?)?[pP][+-]?\d(_?\d)*)?i?/,relevance:0},{match:/-?\b0[oO](_?[0-7])*i?/,relevance:0},{match:/-?\.\d(_?\d)*([eE][+-]?\d(_?\d)*)?i?/,relevance:0},{match:/-?\b\d(_?\d)*(\.(\d(_?\d)*)?)?([eE][+-]?\d(_?\d)*)?i?/,relevance:0}]},{begin:/:=/},{className:"function",beginKeywords:"func",end:"\\s*(\\{|$)",excludeEnd:!0,contains:[e.TITLE_MODE,{className:"params",begin:/\(/,end:/\)/,endsParent:!0,keywords:i,illegal:/["']/}]}]}}function Wle(e){const t=e.regex,r=/[_A-Za-z][_0-9A-Za-z]*/;return{name:"GraphQL",aliases:["gql"],case_insensitive:!0,disableAutodetect:!1,keywords:{keyword:["query","mutation","subscription","type","input","schema","directive","interface","union","scalar","fragment","enum","on"],literal:["true","false","null"]},contains:[e.HASH_COMMENT_MODE,e.QUOTE_STRING_MODE,e.NUMBER_MODE,{scope:"punctuation",match:/[.]{3}/,relevance:0},{scope:"punctuation",begin:/[\!\(\)\:\=\[\]\{\|\}]{1}/,relevance:0},{scope:"variable",begin:/\$/,end:/\W/,excludeEnd:!0,relevance:0},{scope:"meta",match:/@\w+/,excludeEnd:!0},{scope:"symbol",begin:t.concat(r,t.lookahead(/\s*:/)),relevance:0}],illegal:[/[;<']/,/BEGIN/]}}function Yle(e){const t=e.regex,r={className:"number",relevance:0,variants:[{begin:/([+-]+)?[\d]+_[\d_]+/},{begin:e.NUMBER_RE}]},n=e.COMMENT();n.variants=[{begin:/;/,end:/$/},{begin:/#/,end:/$/}];const a={className:"variable",variants:[{begin:/\$[\w\d"][\w\d_]*/},{begin:/\$\{(.*?)\}/}]},i={className:"literal",begin:/\bon|off|true|false|yes|no\b/},o={className:"string",contains:[e.BACKSLASH_ESCAPE],variants:[{begin:"'''",end:"'''",relevance:10},{begin:'"""',end:'"""',relevance:10},{begin:'"',end:'"'},{begin:"'",end:"'"}]},l={begin:/\[/,end:/\]/,contains:[n,i,a,o,r,"self"],relevance:0},u=/[A-Za-z0-9_-]+/,d=/"(\\"|[^"])*"/,h=/'[^']*'/,g=t.either(u,d,h),f=t.concat(g,"(\\s*\\.\\s*",g,")*",t.lookahead(/\s*=\s*[^#\s]/));return{name:"TOML, also INI",aliases:["toml"],case_insensitive:!0,illegal:/\S/,contains:[n,{className:"section",begin:/\[+/,end:/\]+/},{begin:f,className:"attr",starts:{end:/$/,contains:[n,l,i,a,o,r]}}]}}var Fd="[0-9](_*[0-9])*",k0=`\\.(${Fd})`,C0="[0-9a-fA-F](_*[0-9a-fA-F])*",PO={className:"number",variants:[{begin:`(\\b(${Fd})((${k0})|\\.)?|(${k0}))[eE][+-]?(${Fd})[fFdD]?\\b`},{begin:`\\b(${Fd})((${k0})[fFdD]?\\b|\\.([fFdD]\\b)?)`},{begin:`(${k0})[fFdD]?\\b`},{begin:`\\b(${Fd})[fFdD]\\b`},{begin:`\\b0[xX]((${C0})\\.?|(${C0})?\\.(${C0}))[pP][+-]?(${Fd})[fFdD]?\\b`},{begin:"\\b(0|[1-9](_*[0-9])*)[lL]?\\b"},{begin:`\\b0[xX](${C0})[lL]?\\b`},{begin:"\\b0(_*[0-7])*[lL]?\\b"},{begin:"\\b0[bB][01](_*[01])*[lL]?\\b"}],relevance:0};function cF(e,t,r){return r===-1?"":e.replace(t,n=>cF(e,t,r-1))}function Vle(e){const t=e.regex,r="[-a-zA-Z_$][-a-zA-Z_$0-9]*",n=r+cF("(?:<"+r+"~~~(?:\\s*,\\s*"+r+"~~~)*>)?",/~~~/g,2),u={keyword:["synchronized","abstract","private","var","static","if","const ","for","while","strictfp","finally","protected","import","native","final","void","enum","else","break","transient","catch","instanceof","volatile","case","assert","package","default","public","try","switch","continue","throws","protected","public","private","module","requires","exports","do","sealed","yield","permits","goto","when"],literal:["false","true","null"],type:["char","boolean","long","float","int","byte","short","double"],built_in:["super","this"]},d={className:"meta",begin:"@"+r,contains:[{begin:/\(/,end:/\)/,contains:["self"]}]},h={className:"params",begin:/\(/,end:/\)/,keywords:u,relevance:0,contains:[e.C_BLOCK_COMMENT_MODE],endsParent:!0};return{name:"Java",aliases:["jsp"],keywords:u,illegal:/<\/|#/,contains:[e.COMMENT("/\\*\\*","\\*/",{relevance:0,contains:[{begin:/\w+@/,relevance:0},{className:"doctag",begin:"@[A-Za-z]+"}]}),{begin:/import java\.[a-z]+\./,keywords:"import",relevance:2},e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,{begin:/"""/,end:/"""/,className:"string",contains:[e.BACKSLASH_ESCAPE]},e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,{match:[/\b(?:class|interface|enum|extends|implements|new)/,/\s+/,r],className:{1:"keyword",3:"title.class"}},{match:/non-sealed/,scope:"keyword"},{begin:[t.concat(/(?!else)/,r),/\s+/,r,/\s+/,/=(?!=)/],className:{1:"type",3:"variable",5:"operator"}},{begin:[/record/,/\s+/,r],className:{1:"keyword",3:"title.class"},contains:[h,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},{beginKeywords:"new throw return else",relevance:0},{begin:["(?:"+n+"\\s+)",e.UNDERSCORE_IDENT_RE,/\s*(?=\()/],className:{2:"title.function"},keywords:u,contains:[{className:"params",begin:/\(/,end:/\)/,keywords:u,relevance:0,contains:[d,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,PO,e.C_BLOCK_COMMENT_MODE]},e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},PO,d]}}const jO="[A-Za-z$_][0-9A-Za-z$_]*",Kle=["as","in","of","if","for","while","finally","var","new","function","do","return","void","else","break","catch","instanceof","with","throw","case","default","try","switch","continue","typeof","delete","let","yield","const","class","debugger","async","await","static","import","from","export","extends","using"],Qle=["true","false","null","undefined","NaN","Infinity"],uF=["Object","Function","Boolean","Symbol","Math","Date","Number","BigInt","String","RegExp","Array","Float32Array","Float64Array","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Int32Array","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array","Set","Map","WeakSet","WeakMap","ArrayBuffer","SharedArrayBuffer","Atomics","DataView","JSON","Promise","Generator","GeneratorFunction","AsyncFunction","Reflect","Proxy","Intl","WebAssembly"],dF=["Error","EvalError","InternalError","RangeError","ReferenceError","SyntaxError","TypeError","URIError"],pF=["setInterval","setTimeout","clearInterval","clearTimeout","require","exports","eval","isFinite","isNaN","parseFloat","parseInt","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","unescape"],Xle=["arguments","this","super","console","window","document","localStorage","sessionStorage","module","global"],Zle=[].concat(pF,uF,dF);function Jle(e){const t=e.regex,r=(V,{after:ne})=>{const P="</"+V[0].slice(1);return V.input.indexOf(P,ne)!==-1},n=jO,a={begin:"<>",end:"</>"},i=/<[A-Za-z0-9\\._:-]+\s*\/>/,o={begin:/<[A-Za-z0-9\\._:-]+/,end:/\/[A-Za-z0-9\\._:-]+>|\/>/,isTrulyOpeningTag:(V,ne)=>{const P=V[0].length+V.index,I=V.input[P];if(I==="<"||I===","){ne.ignoreMatch();return}I===">"&&(r(V,{after:P})||ne.ignoreMatch());let G;const F=V.input.substring(P);if(G=F.match(/^\s*=/)){ne.ignoreMatch();return}if((G=F.match(/^\s+extends\s+/))&&G.index===0){ne.ignoreMatch();return}}},l={$pattern:jO,keyword:Kle,literal:Qle,built_in:Zle,"variable.language":Xle},u="[0-9](_?[0-9])*",d=`\\.(${u})`,h="0|[1-9](_?[0-9])*|0[0-7]*[89][0-9]*",g={className:"number",variants:[{begin:`(\\b(${h})((${d})|\\.)?|(${d}))[eE][+-]?(${u})\\b`},{begin:`\\b(${h})\\b((${d})\\b|\\.)?|(${d})\\b`},{begin:"\\b(0|[1-9](_?[0-9])*)n\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*n?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*n?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*n?\\b"},{begin:"\\b0[0-7]+n?\\b"}],relevance:0},f={className:"subst",begin:"\\$\\{",end:"\\}",keywords:l,contains:[]},b={begin:".?html`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,f],subLanguage:"xml"}},x={begin:".?css`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,f],subLanguage:"css"}},E={begin:".?gql`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,f],subLanguage:"graphql"}},v={className:"string",begin:"`",end:"`",contains:[e.BACKSLASH_ESCAPE,f]},w={className:"comment",variants:[e.COMMENT(/\/\*\*(?!\/)/,"\\*/",{relevance:0,contains:[{begin:"(?=@[A-Za-z]+)",relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"},{className:"type",begin:"\\{",end:"\\}",excludeEnd:!0,excludeBegin:!0,relevance:0},{className:"variable",begin:n+"(?=\\s*(-)|$)",endsParent:!0,relevance:0},{begin:/(?=[^\n])\s/,relevance:0}]}]}),e.C_BLOCK_COMMENT_MODE,e.C_LINE_COMMENT_MODE]},N=[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,b,x,E,v,{match:/\$\d+/},g];f.contains=N.concat({begin:/\{/,end:/\}/,keywords:l,contains:["self"].concat(N)});const R=[].concat(w,f.contains),D=R.concat([{begin:/(\s*)\(/,end:/\)/,keywords:l,contains:["self"].concat(R)}]),L={className:"params",begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:l,contains:D},j={variants:[{match:[/class/,/\s+/,n,/\s+/,/extends/,/\s+/,t.concat(n,"(",t.concat(/\./,n),")*")],scope:{1:"keyword",3:"title.class",5:"keyword",7:"title.class.inherited"}},{match:[/class/,/\s+/,n],scope:{1:"keyword",3:"title.class"}}]},B={relevance:0,match:t.either(/\bJSON/,/\b[A-Z][a-z]+([A-Z][a-z]*|\d)*/,/\b[A-Z]{2,}([A-Z][a-z]+|\d)+([A-Z][a-z]*)*/,/\b[A-Z]{2,}[a-z]+([A-Z][a-z]+|\d)*([A-Z][a-z]*)*/),className:"title.class",keywords:{_:[...uF,...dF]}},q={label:"use_strict",className:"meta",relevance:10,begin:/^\s*['"]use (strict|asm)['"]/},z={variants:[{match:[/function/,/\s+/,n,/(?=\s*\()/]},{match:[/function/,/\s*(?=\()/]}],className:{1:"keyword",3:"title.function"},label:"func.def",contains:[L],illegal:/%/},K={relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"};function X(V){return t.concat("(?!",V.join("|"),")")}const Q={match:t.concat(/\b/,X([...pF,"super","import"].map(V=>`${V}\\s*\\(`)),n,t.lookahead(/\s*\(/)),className:"title.function",relevance:0},O={begin:t.concat(/\./,t.lookahead(t.concat(n,/(?![0-9A-Za-z$_(])/))),end:n,excludeBegin:!0,keywords:"prototype",className:"property",relevance:0},H={match:[/get|set/,/\s+/,n,/(?=\()/],className:{1:"keyword",3:"title.function"},contains:[{begin:/\(\)/},L]},$="(\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)|"+e.UNDERSCORE_IDENT_RE+")\\s*=>",Y={match:[/const|var|let/,/\s+/,n,/\s*/,/=\s*/,/(async\s*)?/,t.lookahead($)],keywords:"async",className:{1:"keyword",3:"title.function"},contains:[L]};return{name:"JavaScript",aliases:["js","jsx","mjs","cjs"],keywords:l,exports:{PARAMS_CONTAINS:D,CLASS_REFERENCE:B},illegal:/#(?![$_A-z])/,contains:[e.SHEBANG({label:"shebang",binary:"node",relevance:5}),q,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,b,x,E,v,w,{match:/\$\d+/},g,B,{scope:"attr",match:n+t.lookahead(":"),relevance:0},Y,{begin:"("+e.RE_STARTERS_RE+"|\\b(case|return|throw)\\b)\\s*",keywords:"return throw case",relevance:0,contains:[w,e.REGEXP_MODE,{className:"function",begin:$,returnBegin:!0,end:"\\s*=>",contains:[{className:"params",variants:[{begin:e.UNDERSCORE_IDENT_RE,relevance:0},{className:null,begin:/\(\s*\)/,skip:!0},{begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:l,contains:D}]}]},{begin:/,/,relevance:0},{match:/\s+/,relevance:0},{variants:[{begin:a.begin,end:a.end},{match:i},{begin:o.begin,"on:begin":o.isTrulyOpeningTag,end:o.end}],subLanguage:"xml",contains:[{begin:o.begin,end:o.end,skip:!0,contains:["self"]}]}]},z,{beginKeywords:"while if switch catch for"},{begin:"\\b(?!function)"+e.UNDERSCORE_IDENT_RE+"\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)\\s*\\{",returnBegin:!0,label:"func.def",contains:[L,e.inherit(e.TITLE_MODE,{begin:n,className:"title.function"})]},{match:/\.\.\./,relevance:0},O,{match:"\\$"+n,relevance:0},{match:[/\bconstructor(?=\s*\()/],className:{1:"title.function"},contains:[L]},Q,K,j,H,{match:/\$[(.]/}]}}function ece(e){const t={className:"attr",begin:/"(\\.|[^\\"\r\n])*"(?=\s*:)/,relevance:1.01},r={match:/[{}[\],:]/,className:"punctuation",relevance:0},n=["true","false","null"],a={scope:"literal",beginKeywords:n.join(" ")};return{name:"JSON",aliases:["jsonc"],keywords:{literal:n},contains:[t,r,e.QUOTE_STRING_MODE,a,e.C_NUMBER_MODE,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE],illegal:"\\S"}}var Bd="[0-9](_*[0-9])*",_0=`\\.(${Bd})`,A0="[0-9a-fA-F](_*[0-9a-fA-F])*",tce={className:"number",variants:[{begin:`(\\b(${Bd})((${_0})|\\.)?|(${_0}))[eE][+-]?(${Bd})[fFdD]?\\b`},{begin:`\\b(${Bd})((${_0})[fFdD]?\\b|\\.([fFdD]\\b)?)`},{begin:`(${_0})[fFdD]?\\b`},{begin:`\\b(${Bd})[fFdD]\\b`},{begin:`\\b0[xX]((${A0})\\.?|(${A0})?\\.(${A0}))[pP][+-]?(${Bd})[fFdD]?\\b`},{begin:"\\b(0|[1-9](_*[0-9])*)[lL]?\\b"},{begin:`\\b0[xX](${A0})[lL]?\\b`},{begin:"\\b0(_*[0-7])*[lL]?\\b"},{begin:"\\b0[bB][01](_*[01])*[lL]?\\b"}],relevance:0};function rce(e){const t={keyword:"abstract as val var vararg get set class object open private protected public noinline crossinline dynamic final enum if else do while for when throw try catch finally import package is in fun override companion reified inline lateinit init interface annotation data sealed internal infix operator out by constructor super tailrec where const inner suspend typealias external expect actual",built_in:"Byte Short Char Int Long Boolean Float Double Void Unit Nothing",literal:"true false null"},r={className:"keyword",begin:/\b(break|continue|return|this)\b/,starts:{contains:[{className:"symbol",begin:/@\w+/}]}},n={className:"symbol",begin:e.UNDERSCORE_IDENT_RE+"@"},a={className:"subst",begin:/\$\{/,end:/\}/,contains:[e.C_NUMBER_MODE]},i={className:"variable",begin:"\\$"+e.UNDERSCORE_IDENT_RE},o={className:"string",variants:[{begin:'"""',end:'"""(?=[^"])',contains:[i,a]},{begin:"'",end:"'",illegal:/\n/,contains:[e.BACKSLASH_ESCAPE]},{begin:'"',end:'"',illegal:/\n/,contains:[e.BACKSLASH_ESCAPE,i,a]}]};a.contains.push(o);const l={className:"meta",begin:"@(?:file|property|field|get|set|receiver|param|setparam|delegate)\\s*:(?:\\s*"+e.UNDERSCORE_IDENT_RE+")?"},u={className:"meta",begin:"@"+e.UNDERSCORE_IDENT_RE,contains:[{begin:/\(/,end:/\)/,contains:[e.inherit(o,{className:"string"}),"self"]}]},d=tce,h=e.COMMENT("/\\*","\\*/",{contains:[e.C_BLOCK_COMMENT_MODE]}),g={variants:[{className:"type",begin:e.UNDERSCORE_IDENT_RE},{begin:/\(/,end:/\)/,contains:[]}]},f=g;return f.variants[1].contains=[g],g.variants[1].contains=[f],{name:"Kotlin",aliases:["kt","kts"],keywords:t,contains:[e.COMMENT("/\\*\\*","\\*/",{relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"}]}),e.C_LINE_COMMENT_MODE,h,r,n,l,u,{className:"function",beginKeywords:"fun",end:"[(]|$",returnBegin:!0,excludeEnd:!0,keywords:t,relevance:5,contains:[{begin:e.UNDERSCORE_IDENT_RE+"\\s*\\(",returnBegin:!0,relevance:0,contains:[e.UNDERSCORE_TITLE_MODE]},{className:"type",begin:/</,end:/>/,keywords:"reified",relevance:0},{className:"params",begin:/\(/,end:/\)/,endsParent:!0,keywords:t,relevance:0,contains:[{begin:/:/,end:/[=,\/]/,endsWithParent:!0,contains:[g,e.C_LINE_COMMENT_MODE,h],relevance:0},e.C_LINE_COMMENT_MODE,h,l,u,o,e.C_NUMBER_MODE]},h]},{begin:[/class|interface|trait/,/\s+/,e.UNDERSCORE_IDENT_RE],beginScope:{3:"title.class"},keywords:"class interface trait",end:/[:\{(]|$/,excludeEnd:!0,illegal:"extends implements",contains:[{beginKeywords:"public protected internal private constructor"},e.UNDERSCORE_TITLE_MODE,{className:"type",begin:/</,end:/>/,excludeBegin:!0,excludeEnd:!0,relevance:0},{className:"type",begin:/[,:]\s*/,end:/[<\(,){\s]|$/,excludeBegin:!0,returnEnd:!0},l,u]},o,{className:"meta",begin:"^#!/usr/bin/env",end:"$",illegal:`
`},d]}}const nce=e=>({IMPORTANT:{scope:"meta",begin:"!important"},BLOCK_COMMENT:e.C_BLOCK_COMMENT_MODE,HEXCOLOR:{scope:"number",begin:/#(([0-9a-fA-F]{3,4})|(([0-9a-fA-F]{2}){3,4}))\b/},FUNCTION_DISPATCH:{className:"built_in",begin:/[\w-]+(?=\()/},ATTRIBUTE_SELECTOR_MODE:{scope:"selector-attr",begin:/\[/,end:/\]/,illegal:"$",contains:[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE]},CSS_NUMBER_MODE:{scope:"number",begin:e.NUMBER_RE+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},CSS_VARIABLE:{className:"attr",begin:/--[A-Za-z_][A-Za-z0-9_-]*/}}),ace=["a","abbr","address","article","aside","audio","b","blockquote","body","button","canvas","caption","cite","code","dd","del","details","dfn","div","dl","dt","em","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","html","i","iframe","img","input","ins","kbd","label","legend","li","main","mark","menu","nav","object","ol","optgroup","option","p","picture","q","quote","samp","section","select","source","span","strong","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","ul","var","video"],sce=["defs","g","marker","mask","pattern","svg","switch","symbol","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feFlood","feGaussianBlur","feImage","feMerge","feMorphology","feOffset","feSpecularLighting","feTile","feTurbulence","linearGradient","radialGradient","stop","circle","ellipse","image","line","path","polygon","polyline","rect","text","use","textPath","tspan","foreignObject","clipPath"],ice=[...ace,...sce],oce=["any-hover","any-pointer","aspect-ratio","color","color-gamut","color-index","device-aspect-ratio","device-height","device-width","display-mode","forced-colors","grid","height","hover","inverted-colors","monochrome","orientation","overflow-block","overflow-inline","pointer","prefers-color-scheme","prefers-contrast","prefers-reduced-motion","prefers-reduced-transparency","resolution","scan","scripting","update","width","min-width","max-width","min-height","max-height"].sort().reverse(),hF=["active","any-link","blank","checked","current","default","defined","dir","disabled","drop","empty","enabled","first","first-child","first-of-type","fullscreen","future","focus","focus-visible","focus-within","has","host","host-context","hover","indeterminate","in-range","invalid","is","lang","last-child","last-of-type","left","link","local-link","not","nth-child","nth-col","nth-last-child","nth-last-col","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","past","placeholder-shown","read-only","read-write","required","right","root","scope","target","target-within","user-invalid","valid","visited","where"].sort().reverse(),gF=["after","backdrop","before","cue","cue-region","first-letter","first-line","grammar-error","marker","part","placeholder","selection","slotted","spelling-error"].sort().reverse(),lce=["accent-color","align-content","align-items","align-self","alignment-baseline","all","anchor-name","animation","animation-composition","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-range","animation-range-end","animation-range-start","animation-timeline","animation-timing-function","appearance","aspect-ratio","backdrop-filter","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-position-x","background-position-y","background-repeat","background-size","baseline-shift","block-size","border","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-end-end-radius","border-end-start-radius","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-start-end-radius","border-start-start-radius","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-align","box-decoration-break","box-direction","box-flex","box-flex-group","box-lines","box-ordinal-group","box-orient","box-pack","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","color-scheme","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","contain-intrinsic-block-size","contain-intrinsic-height","contain-intrinsic-inline-size","contain-intrinsic-size","contain-intrinsic-width","container","container-name","container-type","content","content-visibility","counter-increment","counter-reset","counter-set","cue","cue-after","cue-before","cursor","cx","cy","direction","display","dominant-baseline","empty-cells","enable-background","field-sizing","fill","fill-opacity","fill-rule","filter","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","flood-color","flood-opacity","flow","font","font-display","font-family","font-feature-settings","font-kerning","font-language-override","font-optical-sizing","font-palette","font-size","font-size-adjust","font-smooth","font-smoothing","font-stretch","font-style","font-synthesis","font-synthesis-position","font-synthesis-small-caps","font-synthesis-style","font-synthesis-weight","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-emoji","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","forced-color-adjust","gap","glyph-orientation-horizontal","glyph-orientation-vertical","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphenate-character","hyphenate-limit-chars","hyphens","icon","image-orientation","image-rendering","image-resolution","ime-mode","initial-letter","initial-letter-align","inline-size","inset","inset-area","inset-block","inset-block-end","inset-block-start","inset-inline","inset-inline-end","inset-inline-start","isolation","justify-content","justify-items","justify-self","kerning","left","letter-spacing","lighting-color","line-break","line-height","line-height-step","list-style","list-style-image","list-style-position","list-style-type","margin","margin-block","margin-block-end","margin-block-start","margin-bottom","margin-inline","margin-inline-end","margin-inline-start","margin-left","margin-right","margin-top","margin-trim","marker","marker-end","marker-mid","marker-start","marks","mask","mask-border","mask-border-mode","mask-border-outset","mask-border-repeat","mask-border-slice","mask-border-source","mask-border-width","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","masonry-auto-flow","math-depth","math-shift","math-style","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","nav-down","nav-index","nav-left","nav-right","nav-up","none","normal","object-fit","object-position","offset","offset-anchor","offset-distance","offset-path","offset-position","offset-rotate","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-anchor","overflow-block","overflow-clip-margin","overflow-inline","overflow-wrap","overflow-x","overflow-y","overlay","overscroll-behavior","overscroll-behavior-block","overscroll-behavior-inline","overscroll-behavior-x","overscroll-behavior-y","padding","padding-block","padding-block-end","padding-block-start","padding-bottom","padding-inline","padding-inline-end","padding-inline-start","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","paint-order","pause","pause-after","pause-before","perspective","perspective-origin","place-content","place-items","place-self","pointer-events","position","position-anchor","position-visibility","print-color-adjust","quotes","r","resize","rest","rest-after","rest-before","right","rotate","row-gap","ruby-align","ruby-position","scale","scroll-behavior","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-stop","scroll-snap-type","scroll-timeline","scroll-timeline-axis","scroll-timeline-name","scrollbar-color","scrollbar-gutter","scrollbar-width","shape-image-threshold","shape-margin","shape-outside","shape-rendering","speak","speak-as","src","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","tab-size","table-layout","text-align","text-align-all","text-align-last","text-anchor","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-skip-ink","text-decoration-style","text-decoration-thickness","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-indent","text-justify","text-orientation","text-overflow","text-rendering","text-shadow","text-size-adjust","text-transform","text-underline-offset","text-underline-position","text-wrap","text-wrap-mode","text-wrap-style","timeline-scope","top","touch-action","transform","transform-box","transform-origin","transform-style","transition","transition-behavior","transition-delay","transition-duration","transition-property","transition-timing-function","translate","unicode-bidi","user-modify","user-select","vector-effect","vertical-align","view-timeline","view-timeline-axis","view-timeline-inset","view-timeline-name","view-transition-name","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","white-space","white-space-collapse","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","x","y","z-index","zoom"].sort().reverse(),cce=hF.concat(gF).sort().reverse();function uce(e){const t=nce(e),r=cce,n="and or not only",a="[\\w-]+",i="("+a+"|@\\{"+a+"\\})",o=[],l=[],u=function(N){return{className:"string",begin:"~?"+N+".*?"+N}},d=function(N,R,D){return{className:N,begin:R,relevance:D}},h={$pattern:/[a-z-]+/,keyword:n,attribute:oce.join(" ")},g={begin:"\\(",end:"\\)",contains:l,keywords:h,relevance:0};l.push(e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,u("'"),u('"'),t.CSS_NUMBER_MODE,{begin:"(url|data-uri)\\(",starts:{className:"string",end:"[\\)\\n]",excludeEnd:!0}},t.HEXCOLOR,g,d("variable","@@?"+a,10),d("variable","@\\{"+a+"\\}"),d("built_in","~?`[^`]*?`"),{className:"attribute",begin:a+"\\s*:",end:":",returnBegin:!0,excludeEnd:!0},t.IMPORTANT,{beginKeywords:"and not"},t.FUNCTION_DISPATCH);const f=l.concat({begin:/\{/,end:/\}/,contains:o}),b={beginKeywords:"when",endsWithParent:!0,contains:[{beginKeywords:"and not"}].concat(l)},x={begin:i+"\\s*:",returnBegin:!0,end:/[;}]/,relevance:0,contains:[{begin:/-(webkit|moz|ms|o)-/},t.CSS_VARIABLE,{className:"attribute",begin:"\\b("+lce.join("|")+")\\b",end:/(?=:)/,starts:{endsWithParent:!0,illegal:"[<=$]",relevance:0,contains:l}}]},E={className:"keyword",begin:"@(import|media|charset|font-face|(-[a-z]+-)?keyframes|supports|document|namespace|page|viewport|host)\\b",starts:{end:"[;{}]",keywords:h,returnEnd:!0,contains:l,relevance:0}},v={className:"variable",variants:[{begin:"@"+a+"\\s*:",relevance:15},{begin:"@"+a}],starts:{end:"[;}]",returnEnd:!0,contains:f}},T={variants:[{begin:"[\\.#:&\\[>]",end:"[;{}]"},{begin:i,end:/\{/}],returnBegin:!0,returnEnd:!0,illegal:`[<='$"]`,relevance:0,contains:[e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,b,d("keyword","all\\b"),d("variable","@\\{"+a+"\\}"),{begin:"\\b("+ice.join("|")+")\\b",className:"selector-tag"},t.CSS_NUMBER_MODE,d("selector-tag",i,0),d("selector-id","#"+i),d("selector-class","\\."+i,0),d("selector-tag","&",0),t.ATTRIBUTE_SELECTOR_MODE,{className:"selector-pseudo",begin:":("+hF.join("|")+")"},{className:"selector-pseudo",begin:":(:)?("+gF.join("|")+")"},{begin:/\(/,end:/\)/,relevance:0,contains:f},{begin:"!important"},t.FUNCTION_DISPATCH]},w={begin:a+`:(:)?(${r.join("|")})`,returnBegin:!0,contains:[T]};return o.push(e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,E,v,w,x,T,b,t.FUNCTION_DISPATCH),{name:"Less",case_insensitive:!0,illegal:`[=>'/<($"]`,contains:o}}function dce(e){const t="\\[=*\\[",r="\\]=*\\]",n={begin:t,end:r,contains:["self"]},a=[e.COMMENT("--(?!"+t+")","$"),e.COMMENT("--"+t,r,{contains:[n],relevance:10})];return{name:"Lua",aliases:["pluto"],keywords:{$pattern:e.UNDERSCORE_IDENT_RE,literal:"true false nil",keyword:"and break do else elseif end for goto if in local not or repeat return then until while",built_in:"_G _ENV _VERSION __index __newindex __mode __call __metatable __tostring __len __gc __add __sub __mul __div __mod __pow __concat __unm __eq __lt __le assert collectgarbage dofile error getfenv getmetatable ipairs load loadfile loadstring module next pairs pcall print rawequal rawget rawset require select setfenv setmetatable tonumber tostring type unpack xpcall arg self coroutine resume yield status wrap create running debug getupvalue debug sethook getmetatable gethook setmetatable setlocal traceback setfenv getinfo setupvalue getlocal getregistry getfenv io lines write close flush open output type read stderr stdin input stdout popen tmpfile math log max acos huge ldexp pi cos tanh pow deg tan cosh sinh random randomseed frexp ceil floor rad abs sqrt modf asin min mod fmod log10 atan2 exp sin atan os exit setlocale date getenv difftime remove time clock tmpname rename execute package preload loadlib loaded loaders cpath config path seeall string sub upper len gfind rep find match char dump gmatch reverse byte format gsub lower table setn insert getn foreachi maxn foreach concat sort remove"},contains:a.concat([{className:"function",beginKeywords:"function",end:"\\)",contains:[e.inherit(e.TITLE_MODE,{begin:"([_a-zA-Z]\\w*\\.)*([_a-zA-Z]\\w*:)?[_a-zA-Z]\\w*"}),{className:"params",begin:"\\(",endsWithParent:!0,contains:a}].concat(a)},e.C_NUMBER_MODE,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,{className:"string",begin:t,end:r,contains:[n],relevance:5}])}}function pce(e){const t={className:"variable",variants:[{begin:"\\$\\("+e.UNDERSCORE_IDENT_RE+"\\)",contains:[e.BACKSLASH_ESCAPE]},{begin:/\$[@%<?\^\+\*]/}]},r={className:"string",begin:/"/,end:/"/,contains:[e.BACKSLASH_ESCAPE,t]},n={className:"variable",begin:/\$\([\w-]+\s/,end:/\)/,keywords:{built_in:"subst patsubst strip findstring filter filter-out sort word wordlist firstword lastword dir notdir suffix basename addsuffix addprefix join wildcard realpath abspath error warning shell origin flavor foreach if or and call eval file value"},contains:[t,r]},a={begin:"^"+e.UNDERSCORE_IDENT_RE+"\\s*(?=[:+?]?=)"},i={className:"meta",begin:/^\.PHONY:/,end:/$/,keywords:{$pattern:/[\.\w]+/,keyword:".PHONY"}},o={className:"section",begin:/^[^\s]+:/,end:/$/,contains:[t]};return{name:"Makefile",aliases:["mk","mak","make"],keywords:{$pattern:/[\w-]+/,keyword:"define endef undefine ifdef ifndef ifeq ifneq else endif include -include sinclude override export unexport private vpath"},contains:[e.HASH_COMMENT_MODE,t,r,n,a,i,o]}}function hce(e){const t=e.regex,r={begin:/<\/?[A-Za-z_]/,end:">",subLanguage:"xml",relevance:0},n={begin:"^[-\\*]{3,}",end:"$"},a={className:"code",variants:[{begin:"(`{3,})[^`](.|\\n)*?\\1`*[ ]*"},{begin:"(~{3,})[^~](.|\\n)*?\\1~*[ ]*"},{begin:"```",end:"```+[ ]*$"},{begin:"~~~",end:"~~~+[ ]*$"},{begin:"`.+?`"},{begin:"(?=^( {4}|\\t))",contains:[{begin:"^( {4}|\\t)",end:"(\\n)$"}],relevance:0}]},i={className:"bullet",begin:"^[ 	]*([*+-]|(\\d+\\.))(?=\\s+)",end:"\\s+",excludeEnd:!0},o={begin:/^\[[^\n]+\]:/,returnBegin:!0,contains:[{className:"symbol",begin:/\[/,end:/\]/,excludeBegin:!0,excludeEnd:!0},{className:"link",begin:/:\s*/,end:/$/,excludeBegin:!0}]},l=/[A-Za-z][A-Za-z0-9+.-]*/,u={variants:[{begin:/\[.+?\]\[.*?\]/,relevance:0},{begin:/\[.+?\]\(((data|javascript|mailto):|(?:http|ftp)s?:\/\/).*?\)/,relevance:2},{begin:t.concat(/\[.+?\]\(/,l,/:\/\/.*?\)/),relevance:2},{begin:/\[.+?\]\([./?&#].*?\)/,relevance:1},{begin:/\[.*?\]\(.*?\)/,relevance:0}],returnBegin:!0,contains:[{match:/\[(?=\])/},{className:"string",relevance:0,begin:"\\[",end:"\\]",excludeBegin:!0,returnEnd:!0},{className:"link",relevance:0,begin:"\\]\\(",end:"\\)",excludeBegin:!0,excludeEnd:!0},{className:"symbol",relevance:0,begin:"\\]\\[",end:"\\]",excludeBegin:!0,excludeEnd:!0}]},d={className:"strong",contains:[],variants:[{begin:/_{2}(?!\s)/,end:/_{2}/},{begin:/\*{2}(?!\s)/,end:/\*{2}/}]},h={className:"emphasis",contains:[],variants:[{begin:/\*(?![*\s])/,end:/\*/},{begin:/_(?![_\s])/,end:/_/,relevance:0}]},g=e.inherit(d,{contains:[]}),f=e.inherit(h,{contains:[]});d.contains.push(f),h.contains.push(g);let b=[r,u];return[d,h,g,f].forEach(T=>{T.contains=T.contains.concat(b)}),b=b.concat(d,h),{name:"Markdown",aliases:["md","mkdown","mkd"],contains:[{className:"section",variants:[{begin:"^#{1,6}",end:"$",contains:b},{begin:"(?=^.+?\\n[=-]{2,}$)",contains:[{begin:"^[=-]*$"},{begin:"^",end:"\\n",contains:b}]}]},r,i,d,h,{className:"quote",begin:"^>\\s+",contains:b,end:"$"},a,n,u,o,{scope:"literal",match:/&([a-zA-Z0-9]+|#[0-9]{1,7}|#[Xx][0-9a-fA-F]{1,6});/}]}}function gce(e){const t={className:"built_in",begin:"\\b(AV|CA|CF|CG|CI|CL|CM|CN|CT|MK|MP|MTK|MTL|NS|SCN|SK|UI|WK|XC)\\w+"},r=/[a-zA-Z@][a-zA-Z0-9_]*/,l={"variable.language":["this","super"],$pattern:r,keyword:["while","export","sizeof","typedef","const","struct","for","union","volatile","static","mutable","if","do","return","goto","enum","else","break","extern","asm","case","default","register","explicit","typename","switch","continue","inline","readonly","assign","readwrite","self","@synchronized","id","typeof","nonatomic","IBOutlet","IBAction","strong","weak","copy","in","out","inout","bycopy","byref","oneway","__strong","__weak","__block","__autoreleasing","@private","@protected","@public","@try","@property","@end","@throw","@catch","@finally","@autoreleasepool","@synthesize","@dynamic","@selector","@optional","@required","@encode","@package","@import","@defs","@compatibility_alias","__bridge","__bridge_transfer","__bridge_retained","__bridge_retain","__covariant","__contravariant","__kindof","_Nonnull","_Nullable","_Null_unspecified","__FUNCTION__","__PRETTY_FUNCTION__","__attribute__","getter","setter","retain","unsafe_unretained","nonnull","nullable","null_unspecified","null_resettable","class","instancetype","NS_DESIGNATED_INITIALIZER","NS_UNAVAILABLE","NS_REQUIRES_SUPER","NS_RETURNS_INNER_POINTER","NS_INLINE","NS_AVAILABLE","NS_DEPRECATED","NS_ENUM","NS_OPTIONS","NS_SWIFT_UNAVAILABLE","NS_ASSUME_NONNULL_BEGIN","NS_ASSUME_NONNULL_END","NS_REFINED_FOR_SWIFT","NS_SWIFT_NAME","NS_SWIFT_NOTHROW","NS_DURING","NS_HANDLER","NS_ENDHANDLER","NS_VALUERETURN","NS_VOIDRETURN"],literal:["false","true","FALSE","TRUE","nil","YES","NO","NULL"],built_in:["dispatch_once_t","dispatch_queue_t","dispatch_sync","dispatch_async","dispatch_once"],type:["int","float","char","unsigned","signed","short","long","double","wchar_t","unichar","void","bool","BOOL","id|0","_Bool"]},u={$pattern:r,keyword:["@interface","@class","@protocol","@implementation"]};return{name:"Objective-C",aliases:["mm","objc","obj-c","obj-c++","objective-c++"],keywords:l,illegal:"</",contains:[t,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,e.C_NUMBER_MODE,e.QUOTE_STRING_MODE,e.APOS_STRING_MODE,{className:"string",variants:[{begin:'@"',end:'"',illegal:"\\n",contains:[e.BACKSLASH_ESCAPE]}]},{className:"meta",begin:/#\s*[a-z]+\b/,end:/$/,keywords:{keyword:"if else elif endif define undef warning error line pragma ifdef ifndef include"},contains:[{begin:/\\\n/,relevance:0},e.inherit(e.QUOTE_STRING_MODE,{className:"string"}),{className:"string",begin:/<.*?>/,end:/$/,illegal:"\\n"},e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},{className:"class",begin:"("+u.keyword.join("|")+")\\b",end:/(\{|$)/,excludeEnd:!0,keywords:u,contains:[e.UNDERSCORE_TITLE_MODE]},{begin:"\\."+e.UNDERSCORE_IDENT_RE,relevance:0}]}}function mce(e){const t=e.regex,r=["abs","accept","alarm","and","atan2","bind","binmode","bless","break","caller","chdir","chmod","chomp","chop","chown","chr","chroot","class","close","closedir","connect","continue","cos","crypt","dbmclose","dbmopen","defined","delete","die","do","dump","each","else","elsif","endgrent","endhostent","endnetent","endprotoent","endpwent","endservent","eof","eval","exec","exists","exit","exp","fcntl","field","fileno","flock","for","foreach","fork","format","formline","getc","getgrent","getgrgid","getgrnam","gethostbyaddr","gethostbyname","gethostent","getlogin","getnetbyaddr","getnetbyname","getnetent","getpeername","getpgrp","getpriority","getprotobyname","getprotobynumber","getprotoent","getpwent","getpwnam","getpwuid","getservbyname","getservbyport","getservent","getsockname","getsockopt","given","glob","gmtime","goto","grep","gt","hex","if","index","int","ioctl","join","keys","kill","last","lc","lcfirst","length","link","listen","local","localtime","log","lstat","lt","ma","map","method","mkdir","msgctl","msgget","msgrcv","msgsnd","my","ne","next","no","not","oct","open","opendir","or","ord","our","pack","package","pipe","pop","pos","print","printf","prototype","push","q|0","qq","quotemeta","qw","qx","rand","read","readdir","readline","readlink","readpipe","recv","redo","ref","rename","require","reset","return","reverse","rewinddir","rindex","rmdir","say","scalar","seek","seekdir","select","semctl","semget","semop","send","setgrent","sethostent","setnetent","setpgrp","setpriority","setprotoent","setpwent","setservent","setsockopt","shift","shmctl","shmget","shmread","shmwrite","shutdown","sin","sleep","socket","socketpair","sort","splice","split","sprintf","sqrt","srand","stat","state","study","sub","substr","symlink","syscall","sysopen","sysread","sysseek","system","syswrite","tell","telldir","tie","tied","time","times","tr","truncate","uc","ucfirst","umask","undef","unless","unlink","unpack","unshift","untie","until","use","utime","values","vec","wait","waitpid","wantarray","warn","when","while","write","x|0","xor","y|0"],n=/[dualxmsipngr]{0,12}/,a={$pattern:/[\w.]+/,keyword:r.join(" ")},i={className:"subst",begin:"[$@]\\{",end:"\\}",keywords:a},o={begin:/->\{/,end:/\}/},l={scope:"attr",match:/\s+:\s*\w+(\s*\(.*?\))?/},u={scope:"variable",variants:[{begin:/\$\d/},{begin:t.concat(/[$%@](?!")(\^\w\b|#\w+(::\w+)*|\{\w+\}|\w+(::\w*)*)/,"(?![A-Za-z])(?![@$%])")},{begin:/[$%@](?!")[^\s\w{=]|\$=/,relevance:0}],contains:[l]},d={className:"number",variants:[{match:/0?\.[0-9][0-9_]+\b/},{match:/\bv?(0|[1-9][0-9_]*(\.[0-9_]+)?|[1-9][0-9_]*)\b/},{match:/\b0[0-7][0-7_]*\b/},{match:/\b0x[0-9a-fA-F][0-9a-fA-F_]*\b/},{match:/\b0b[0-1][0-1_]*\b/}],relevance:0},h=[e.BACKSLASH_ESCAPE,i,u],g=[/!/,/\//,/\|/,/\?/,/'/,/"/,/#/],f=(E,v,T="\\1")=>{const w=T==="\\1"?T:t.concat(T,v);return t.concat(t.concat("(?:",E,")"),v,/(?:\\.|[^\\\/])*?/,w,/(?:\\.|[^\\\/])*?/,T,n)},b=(E,v,T)=>t.concat(t.concat("(?:",E,")"),v,/(?:\\.|[^\\\/])*?/,T,n),x=[u,e.HASH_COMMENT_MODE,e.COMMENT(/^=\w/,/=cut/,{endsWithParent:!0}),o,{className:"string",contains:h,variants:[{begin:"q[qwxr]?\\s*\\(",end:"\\)",relevance:5},{begin:"q[qwxr]?\\s*\\[",end:"\\]",relevance:5},{begin:"q[qwxr]?\\s*\\{",end:"\\}",relevance:5},{begin:"q[qwxr]?\\s*\\|",end:"\\|",relevance:5},{begin:"q[qwxr]?\\s*<",end:">",relevance:5},{begin:"qw\\s+q",end:"q",relevance:5},{begin:"'",end:"'",contains:[e.BACKSLASH_ESCAPE]},{begin:'"',end:'"'},{begin:"`",end:"`",contains:[e.BACKSLASH_ESCAPE]},{begin:/\{\w+\}/,relevance:0},{begin:"-?\\w+\\s*=>",relevance:0}]},d,{begin:"(\\/\\/|"+e.RE_STARTERS_RE+"|\\b(split|return|print|reverse|grep)\\b)\\s*",keywords:"split return print reverse grep",relevance:0,contains:[e.HASH_COMMENT_MODE,{className:"regexp",variants:[{begin:f("s|tr|y",t.either(...g,{capture:!0}))},{begin:f("s|tr|y","\\(","\\)")},{begin:f("s|tr|y","\\[","\\]")},{begin:f("s|tr|y","\\{","\\}")}],relevance:2},{className:"regexp",variants:[{begin:/(m|qr)\/\//,relevance:0},{begin:b("(?:m|qr)?",/\//,/\//)},{begin:b("m|qr",t.either(...g,{capture:!0}),/\1/)},{begin:b("m|qr",/\(/,/\)/)},{begin:b("m|qr",/\[/,/\]/)},{begin:b("m|qr",/\{/,/\}/)}]}]},{className:"function",beginKeywords:"sub method",end:"(\\s*\\(.*?\\))?[;{]",excludeEnd:!0,relevance:5,contains:[e.TITLE_MODE,l]},{className:"class",beginKeywords:"class",end:"[;{]",excludeEnd:!0,relevance:5,contains:[e.TITLE_MODE,l,d]},{begin:"-\\w\\b",relevance:0},{begin:"^__DATA__$",end:"^__END__$",subLanguage:"mojolicious",contains:[{begin:"^@@.*",end:"$",className:"comment"}]}];return i.contains=x,o.contains=x,{name:"Perl",aliases:["pl","pm"],keywords:a,contains:x}}function fce(e){const t=e.regex,r=/(?![A-Za-z0-9])(?![$])/,n=t.concat(/[a-zA-Z_\x7f-\xff][a-zA-Z0-9_\x7f-\xff]*/,r),a=t.concat(/(\\?[A-Z][a-z0-9_\x7f-\xff]+|\\?[A-Z]+(?=[A-Z][a-z0-9_\x7f-\xff])){1,}/,r),i=t.concat(/[A-Z]+/,r),o={scope:"variable",match:"\\$+"+n},l={scope:"meta",variants:[{begin:/<\?php/,relevance:10},{begin:/<\?=/},{begin:/<\?/,relevance:.1},{begin:/\?>/}]},u={scope:"subst",variants:[{begin:/\$\w+/},{begin:/\{\$/,end:/\}/}]},d=e.inherit(e.APOS_STRING_MODE,{illegal:null}),h=e.inherit(e.QUOTE_STRING_MODE,{illegal:null,contains:e.QUOTE_STRING_MODE.contains.concat(u)}),g={begin:/<<<[ \t]*(?:(\w+)|"(\w+)")\n/,end:/[ \t]*(\w+)\b/,contains:e.QUOTE_STRING_MODE.contains.concat(u),"on:begin":(O,H)=>{H.data._beginMatch=O[1]||O[2]},"on:end":(O,H)=>{H.data._beginMatch!==O[1]&&H.ignoreMatch()}},f=e.END_SAME_AS_BEGIN({begin:/<<<[ \t]*'(\w+)'\n/,end:/[ \t]*(\w+)\b/}),b=`[ 	
]`,x={scope:"string",variants:[h,d,g,f]},E={scope:"number",variants:[{begin:"\\b0[bB][01]+(?:_[01]+)*\\b"},{begin:"\\b0[oO][0-7]+(?:_[0-7]+)*\\b"},{begin:"\\b0[xX][\\da-fA-F]+(?:_[\\da-fA-F]+)*\\b"},{begin:"(?:\\b\\d+(?:_\\d+)*(\\.(?:\\d+(?:_\\d+)*))?|\\B\\.\\d+)(?:[eE][+-]?\\d+)?"}],relevance:0},v=["false","null","true"],T=["__CLASS__","__DIR__","__FILE__","__FUNCTION__","__COMPILER_HALT_OFFSET__","__LINE__","__METHOD__","__NAMESPACE__","__TRAIT__","die","echo","exit","include","include_once","print","require","require_once","array","abstract","and","as","binary","bool","boolean","break","callable","case","catch","class","clone","const","continue","declare","default","do","double","else","elseif","empty","enddeclare","endfor","endforeach","endif","endswitch","endwhile","enum","eval","extends","final","finally","float","for","foreach","from","global","goto","if","implements","instanceof","insteadof","int","integer","interface","isset","iterable","list","match|0","mixed","new","never","object","or","private","protected","public","readonly","real","return","string","switch","throw","trait","try","unset","use","var","void","while","xor","yield"],w=["Error|0","AppendIterator","ArgumentCountError","ArithmeticError","ArrayIterator","ArrayObject","AssertionError","BadFunctionCallException","BadMethodCallException","CachingIterator","CallbackFilterIterator","CompileError","Countable","DirectoryIterator","DivisionByZeroError","DomainException","EmptyIterator","ErrorException","Exception","FilesystemIterator","FilterIterator","GlobIterator","InfiniteIterator","InvalidArgumentException","IteratorIterator","LengthException","LimitIterator","LogicException","MultipleIterator","NoRewindIterator","OutOfBoundsException","OutOfRangeException","OuterIterator","OverflowException","ParentIterator","ParseError","RangeException","RecursiveArrayIterator","RecursiveCachingIterator","RecursiveCallbackFilterIterator","RecursiveDirectoryIterator","RecursiveFilterIterator","RecursiveIterator","RecursiveIteratorIterator","RecursiveRegexIterator","RecursiveTreeIterator","RegexIterator","RuntimeException","SeekableIterator","SplDoublyLinkedList","SplFileInfo","SplFileObject","SplFixedArray","SplHeap","SplMaxHeap","SplMinHeap","SplObjectStorage","SplObserver","SplPriorityQueue","SplQueue","SplStack","SplSubject","SplTempFileObject","TypeError","UnderflowException","UnexpectedValueException","UnhandledMatchError","ArrayAccess","BackedEnum","Closure","Fiber","Generator","Iterator","IteratorAggregate","Serializable","Stringable","Throwable","Traversable","UnitEnum","WeakReference","WeakMap","Directory","__PHP_Incomplete_Class","parent","php_user_filter","self","static","stdClass"],R={keyword:T,literal:(O=>{const H=[];return O.forEach($=>{H.push($),$.toLowerCase()===$?H.push($.toUpperCase()):H.push($.toLowerCase())}),H})(v),built_in:w},D=O=>O.map(H=>H.replace(/\|\d+$/,"")),L={variants:[{match:[/new/,t.concat(b,"+"),t.concat("(?!",D(w).join("\\b|"),"\\b)"),a],scope:{1:"keyword",4:"title.class"}}]},j=t.concat(n,"\\b(?!\\()"),B={variants:[{match:[t.concat(/::/,t.lookahead(/(?!class\b)/)),j],scope:{2:"variable.constant"}},{match:[/::/,/class/],scope:{2:"variable.language"}},{match:[a,t.concat(/::/,t.lookahead(/(?!class\b)/)),j],scope:{1:"title.class",3:"variable.constant"}},{match:[a,t.concat("::",t.lookahead(/(?!class\b)/))],scope:{1:"title.class"}},{match:[a,/::/,/class/],scope:{1:"title.class",3:"variable.language"}}]},q={scope:"attr",match:t.concat(n,t.lookahead(":"),t.lookahead(/(?!::)/))},z={relevance:0,begin:/\(/,end:/\)/,keywords:R,contains:[q,o,B,e.C_BLOCK_COMMENT_MODE,x,E,L]},K={relevance:0,match:[/\b/,t.concat("(?!fn\\b|function\\b|",D(T).join("\\b|"),"|",D(w).join("\\b|"),"\\b)"),n,t.concat(b,"*"),t.lookahead(/(?=\()/)],scope:{3:"title.function.invoke"},contains:[z]};z.contains.push(K);const X=[q,B,e.C_BLOCK_COMMENT_MODE,x,E,L],Q={begin:t.concat(/#\[\s*\\?/,t.either(a,i)),beginScope:"meta",end:/]/,endScope:"meta",keywords:{literal:v,keyword:["new","array"]},contains:[{begin:/\[/,end:/]/,keywords:{literal:v,keyword:["new","array"]},contains:["self",...X]},...X,{scope:"meta",variants:[{match:a},{match:i}]}]};return{case_insensitive:!1,keywords:R,contains:[Q,e.HASH_COMMENT_MODE,e.COMMENT("//","$"),e.COMMENT("/\\*","\\*/",{contains:[{scope:"doctag",match:"@[A-Za-z]+"}]}),{match:/__halt_compiler\(\);/,keywords:"__halt_compiler",starts:{scope:"comment",end:e.MATCH_NOTHING_RE,contains:[{match:/\?>/,scope:"meta",endsParent:!0}]}},l,{scope:"variable.language",match:/\$this\b/},o,K,B,{match:[/const/,/\s/,n],scope:{1:"keyword",3:"variable.constant"}},L,{scope:"function",relevance:0,beginKeywords:"fn function",end:/[;{]/,excludeEnd:!0,illegal:"[$%\\[]",contains:[{beginKeywords:"use"},e.UNDERSCORE_TITLE_MODE,{begin:"=>",endsParent:!0},{scope:"params",begin:"\\(",end:"\\)",excludeBegin:!0,excludeEnd:!0,keywords:R,contains:["self",Q,o,B,e.C_BLOCK_COMMENT_MODE,x,E]}]},{scope:"class",variants:[{beginKeywords:"enum",illegal:/[($"]/},{beginKeywords:"class interface trait",illegal:/[:($"]/}],relevance:0,end:/\{/,excludeEnd:!0,contains:[{beginKeywords:"extends implements"},e.UNDERSCORE_TITLE_MODE]},{beginKeywords:"namespace",relevance:0,end:";",illegal:/[.']/,contains:[e.inherit(e.UNDERSCORE_TITLE_MODE,{scope:"title.class"})]},{beginKeywords:"use",relevance:0,end:";",contains:[{match:/\b(as|const|function)\b/,scope:"keyword"},e.UNDERSCORE_TITLE_MODE]},x,E]}}function bce(e){return{name:"PHP template",subLanguage:"xml",contains:[{begin:/<\?(php|=)?/,end:/\?>/,subLanguage:"php",contains:[{begin:"/\\*",end:"\\*/",skip:!0},{begin:'b"',end:'"',skip:!0},{begin:"b'",end:"'",skip:!0},e.inherit(e.APOS_STRING_MODE,{illegal:null,className:null,contains:null,skip:!0}),e.inherit(e.QUOTE_STRING_MODE,{illegal:null,className:null,contains:null,skip:!0})]}]}}function yce(e){return{name:"Plain text",aliases:["text","txt"],disableAutodetect:!0}}function xce(e){const t=e.regex,r=new RegExp("[\\p{XID_Start}_]\\p{XID_Continue}*","u"),n=["and","as","assert","async","await","break","case","class","continue","def","del","elif","else","except","finally","for","from","global","if","import","in","is","lambda","match","nonlocal|10","not","or","pass","raise","return","try","while","with","yield"],l={$pattern:/[A-Za-z]\w+|__\w+__/,keyword:n,built_in:["__import__","abs","all","any","ascii","bin","bool","breakpoint","bytearray","bytes","callable","chr","classmethod","compile","complex","delattr","dict","dir","divmod","enumerate","eval","exec","filter","float","format","frozenset","getattr","globals","hasattr","hash","help","hex","id","input","int","isinstance","issubclass","iter","len","list","locals","map","max","memoryview","min","next","object","oct","open","ord","pow","print","property","range","repr","reversed","round","set","setattr","slice","sorted","staticmethod","str","sum","super","tuple","type","vars","zip"],literal:["__debug__","Ellipsis","False","None","NotImplemented","True"],type:["Any","Callable","Coroutine","Dict","List","Literal","Generic","Optional","Sequence","Set","Tuple","Type","Union"]},u={className:"meta",begin:/^(>>>|\.\.\.) /},d={className:"subst",begin:/\{/,end:/\}/,keywords:l,illegal:/#/},h={begin:/\{\{/,relevance:0},g={className:"string",contains:[e.BACKSLASH_ESCAPE],variants:[{begin:/([uU]|[bB]|[rR]|[bB][rR]|[rR][bB])?'''/,end:/'''/,contains:[e.BACKSLASH_ESCAPE,u],relevance:10},{begin:/([uU]|[bB]|[rR]|[bB][rR]|[rR][bB])?"""/,end:/"""/,contains:[e.BACKSLASH_ESCAPE,u],relevance:10},{begin:/([fF][rR]|[rR][fF]|[fF])'''/,end:/'''/,contains:[e.BACKSLASH_ESCAPE,u,h,d]},{begin:/([fF][rR]|[rR][fF]|[fF])"""/,end:/"""/,contains:[e.BACKSLASH_ESCAPE,u,h,d]},{begin:/([uU]|[rR])'/,end:/'/,relevance:10},{begin:/([uU]|[rR])"/,end:/"/,relevance:10},{begin:/([bB]|[bB][rR]|[rR][bB])'/,end:/'/},{begin:/([bB]|[bB][rR]|[rR][bB])"/,end:/"/},{begin:/([fF][rR]|[rR][fF]|[fF])'/,end:/'/,contains:[e.BACKSLASH_ESCAPE,h,d]},{begin:/([fF][rR]|[rR][fF]|[fF])"/,end:/"/,contains:[e.BACKSLASH_ESCAPE,h,d]},e.APOS_STRING_MODE,e.QUOTE_STRING_MODE]},f="[0-9](_?[0-9])*",b=`(\\b(${f}))?\\.(${f})|\\b(${f})\\.`,x=`\\b|${n.join("|")}`,E={className:"number",relevance:0,variants:[{begin:`(\\b(${f})|(${b}))[eE][+-]?(${f})[jJ]?(?=${x})`},{begin:`(${b})[jJ]?`},{begin:`\\b([1-9](_?[0-9])*|0+(_?0)*)[lLjJ]?(?=${x})`},{begin:`\\b0[bB](_?[01])+[lL]?(?=${x})`},{begin:`\\b0[oO](_?[0-7])+[lL]?(?=${x})`},{begin:`\\b0[xX](_?[0-9a-fA-F])+[lL]?(?=${x})`},{begin:`\\b(${f})[jJ](?=${x})`}]},v={className:"comment",begin:t.lookahead(/# type:/),end:/$/,keywords:l,contains:[{begin:/# type:/},{begin:/#/,end:/\b\B/,endsWithParent:!0}]},T={className:"params",variants:[{className:"",begin:/\(\s*\)/,skip:!0},{begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:l,contains:["self",u,E,g,e.HASH_COMMENT_MODE]}]};return d.contains=[g,E,u],{name:"Python",aliases:["py","gyp","ipython"],unicodeRegex:!0,keywords:l,illegal:/(<\/|\?)|=>/,contains:[u,E,{scope:"variable.language",match:/\bself\b/},{beginKeywords:"if",relevance:0},{match:/\bor\b/,scope:"keyword"},g,v,e.HASH_COMMENT_MODE,{match:[/\bdef/,/\s+/,r],scope:{1:"keyword",3:"title.function"},contains:[T]},{variants:[{match:[/\bclass/,/\s+/,r,/\s*/,/\(\s*/,r,/\s*\)/]},{match:[/\bclass/,/\s+/,r]}],scope:{1:"keyword",3:"title.class",6:"title.class.inherited"}},{className:"meta",begin:/^[\t ]*@/,end:/(?=#)|$/,contains:[E,T,g]}]}}function Ece(e){return{aliases:["pycon"],contains:[{className:"meta.prompt",starts:{end:/ |$/,starts:{end:"$",subLanguage:"python"}},variants:[{begin:/^>>>(?=[ ]|$)/},{begin:/^\.\.\.(?=[ ]|$)/}]}]}}function vce(e){const t=e.regex,r=/(?:(?:[a-zA-Z]|\.[._a-zA-Z])[._a-zA-Z0-9]*)|\.(?!\d)/,n=t.either(/0[xX][0-9a-fA-F]+\.[0-9a-fA-F]*[pP][+-]?\d+i?/,/0[xX][0-9a-fA-F]+(?:[pP][+-]?\d+)?[Li]?/,/(?:\d+(?:\.\d*)?|\.\d+)(?:[eE][+-]?\d+)?[Li]?/),a=/[=!<>:]=|\|\||&&|:::?|<-|<<-|->>|->|\|>|[-+*\/?!$&|:<=>@^~]|\*\*/,i=t.either(/[()]/,/[{}]/,/\[\[/,/[[\]]/,/\\/,/,/);return{name:"R",keywords:{$pattern:r,keyword:"function if in break next repeat else for while",literal:"NULL NA TRUE FALSE Inf NaN NA_integer_|10 NA_real_|10 NA_character_|10 NA_complex_|10",built_in:"LETTERS letters month.abb month.name pi T F abs acos acosh all any anyNA Arg as.call as.character as.complex as.double as.environment as.integer as.logical as.null.default as.numeric as.raw asin asinh atan atanh attr attributes baseenv browser c call ceiling class Conj cos cosh cospi cummax cummin cumprod cumsum digamma dim dimnames emptyenv exp expression floor forceAndCall gamma gc.time globalenv Im interactive invisible is.array is.atomic is.call is.character is.complex is.double is.environment is.expression is.finite is.function is.infinite is.integer is.language is.list is.logical is.matrix is.na is.name is.nan is.null is.numeric is.object is.pairlist is.raw is.recursive is.single is.symbol lazyLoadDBfetch length lgamma list log max min missing Mod names nargs nzchar oldClass on.exit pos.to.env proc.time prod quote range Re rep retracemem return round seq_along seq_len seq.int sign signif sin sinh sinpi sqrt standardGeneric substitute sum switch tan tanh tanpi tracemem trigamma trunc unclass untracemem UseMethod xtfrm"},contains:[e.COMMENT(/#'/,/$/,{contains:[{scope:"doctag",match:/@examples/,starts:{end:t.lookahead(t.either(/\n^#'\s*(?=@[a-zA-Z]+)/,/\n^(?!#')/)),endsParent:!0}},{scope:"doctag",begin:"@param",end:/$/,contains:[{scope:"variable",variants:[{match:r},{match:/`(?:\\.|[^`\\])+`/}],endsParent:!0}]},{scope:"doctag",match:/@[a-zA-Z]+/},{scope:"keyword",match:/\\[a-zA-Z]+/}]}),e.HASH_COMMENT_MODE,{scope:"string",contains:[e.BACKSLASH_ESCAPE],variants:[e.END_SAME_AS_BEGIN({begin:/[rR]"(-*)\(/,end:/\)(-*)"/}),e.END_SAME_AS_BEGIN({begin:/[rR]"(-*)\{/,end:/\}(-*)"/}),e.END_SAME_AS_BEGIN({begin:/[rR]"(-*)\[/,end:/\](-*)"/}),e.END_SAME_AS_BEGIN({begin:/[rR]'(-*)\(/,end:/\)(-*)'/}),e.END_SAME_AS_BEGIN({begin:/[rR]'(-*)\{/,end:/\}(-*)'/}),e.END_SAME_AS_BEGIN({begin:/[rR]'(-*)\[/,end:/\](-*)'/}),{begin:'"',end:'"',relevance:0},{begin:"'",end:"'",relevance:0}]},{relevance:0,variants:[{scope:{1:"operator",2:"number"},match:[a,n]},{scope:{1:"operator",2:"number"},match:[/%[^%]*%/,n]},{scope:{1:"punctuation",2:"number"},match:[i,n]},{scope:{2:"number"},match:[/[^a-zA-Z0-9._]|^/,n]}]},{scope:{3:"operator"},match:[r,/\s+/,/<-/,/\s+/]},{scope:"operator",relevance:0,variants:[{match:a},{match:/%[^%]*%/}]},{scope:"punctuation",relevance:0,match:i},{begin:"`",end:"`",contains:[{begin:/\\./}]}]}}function Sce(e){const t=e.regex,r="([a-zA-Z_]\\w*[!?=]?|[-+~]@|<<|>>|=~|===?|<=>|[<>]=?|\\*\\*|[-/+%^&*~`|]|\\[\\]=?)",n=t.either(/\b([A-Z]+[a-z0-9]+)+/,/\b([A-Z]+[a-z0-9]+)+[A-Z]+/),a=t.concat(n,/(::\w+)*/),o={"variable.constant":["__FILE__","__LINE__","__ENCODING__"],"variable.language":["self","super"],keyword:["alias","and","begin","BEGIN","break","case","class","defined","do","else","elsif","end","END","ensure","for","if","in","module","next","not","or","redo","require","rescue","retry","return","then","undef","unless","until","when","while","yield",...["include","extend","prepend","public","private","protected","raise","throw"]],built_in:["proc","lambda","attr_accessor","attr_reader","attr_writer","define_method","private_constant","module_function"],literal:["true","false","nil"]},l={className:"doctag",begin:"@[A-Za-z]+"},u={begin:"#<",end:">"},d=[e.COMMENT("#","$",{contains:[l]}),e.COMMENT("^=begin","^=end",{contains:[l],relevance:10}),e.COMMENT("^__END__",e.MATCH_NOTHING_RE)],h={className:"subst",begin:/#\{/,end:/\}/,keywords:o},g={className:"string",contains:[e.BACKSLASH_ESCAPE,h],variants:[{begin:/'/,end:/'/},{begin:/"/,end:/"/},{begin:/`/,end:/`/},{begin:/%[qQwWx]?\(/,end:/\)/},{begin:/%[qQwWx]?\[/,end:/\]/},{begin:/%[qQwWx]?\{/,end:/\}/},{begin:/%[qQwWx]?</,end:/>/},{begin:/%[qQwWx]?\//,end:/\//},{begin:/%[qQwWx]?%/,end:/%/},{begin:/%[qQwWx]?-/,end:/-/},{begin:/%[qQwWx]?\|/,end:/\|/},{begin:/\B\?(\\\d{1,3})/},{begin:/\B\?(\\x[A-Fa-f0-9]{1,2})/},{begin:/\B\?(\\u\{?[A-Fa-f0-9]{1,6}\}?)/},{begin:/\B\?(\\M-\\C-|\\M-\\c|\\c\\M-|\\M-|\\C-\\M-)[\x20-\x7e]/},{begin:/\B\?\\(c|C-)[\x20-\x7e]/},{begin:/\B\?\\?\S/},{begin:t.concat(/<<[-~]?'?/,t.lookahead(/(\w+)(?=\W)[^\n]*\n(?:[^\n]*\n)*?\s*\1\b/)),contains:[e.END_SAME_AS_BEGIN({begin:/(\w+)/,end:/(\w+)/,contains:[e.BACKSLASH_ESCAPE,h]})]}]},f="[1-9](_?[0-9])*|0",b="[0-9](_?[0-9])*",x={className:"number",relevance:0,variants:[{begin:`\\b(${f})(\\.(${b}))?([eE][+-]?(${b})|r)?i?\\b`},{begin:"\\b0[dD][0-9](_?[0-9])*r?i?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*r?i?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*r?i?\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*r?i?\\b"},{begin:"\\b0(_?[0-7])+r?i?\\b"}]},E={variants:[{match:/\(\)/},{className:"params",begin:/\(/,end:/(?=\))/,excludeBegin:!0,endsParent:!0,keywords:o}]},L=[g,{variants:[{match:[/class\s+/,a,/\s+<\s+/,a]},{match:[/\b(class|module)\s+/,a]}],scope:{2:"title.class",4:"title.class.inherited"},keywords:o},{match:[/(include|extend)\s+/,a],scope:{2:"title.class"},keywords:o},{relevance:0,match:[a,/\.new[. (]/],scope:{1:"title.class"}},{relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"},{relevance:0,match:n,scope:"title.class"},{match:[/def/,/\s+/,r],scope:{1:"keyword",3:"title.function"},contains:[E]},{begin:e.IDENT_RE+"::"},{className:"symbol",begin:e.UNDERSCORE_IDENT_RE+"(!|\\?)?:",relevance:0},{className:"symbol",begin:":(?!\\s)",contains:[g,{begin:r}],relevance:0},x,{className:"variable",begin:"(\\$\\W)|((\\$|@@?)(\\w+))(?=[^@$?])(?![A-Za-z])(?![@$?'])"},{className:"params",begin:/\|(?!=)/,end:/\|/,excludeBegin:!0,excludeEnd:!0,relevance:0,keywords:o},{begin:"("+e.RE_STARTERS_RE+"|unless)\\s*",keywords:"unless",contains:[{className:"regexp",contains:[e.BACKSLASH_ESCAPE,h],illegal:/\n/,variants:[{begin:"/",end:"/[a-z]*"},{begin:/%r\{/,end:/\}[a-z]*/},{begin:"%r\\(",end:"\\)[a-z]*"},{begin:"%r!",end:"![a-z]*"},{begin:"%r\\[",end:"\\][a-z]*"}]}].concat(u,d),relevance:0}].concat(u,d);h.contains=L,E.contains=L;const z=[{begin:/^\s*=>/,starts:{end:"$",contains:L}},{className:"meta.prompt",begin:"^("+"[>?]>"+"|"+"[\\w#]+\\(\\w+\\):\\d+:\\d+[>*]"+"|"+"(\\w+-)?\\d+\\.\\d+\\.\\d+(p\\d+)?[^\\d][^>]+>"+")(?=[ ])",starts:{end:"$",keywords:o,contains:L}}];return d.unshift(u),{name:"Ruby",aliases:["rb","gemspec","podspec","thor","irb"],keywords:o,illegal:/\/\*/,contains:[e.SHEBANG({binary:"ruby"})].concat(z).concat(d).concat(L)}}function Tce(e){const t=e.regex,r=/(r#)?/,n=t.concat(r,e.UNDERSCORE_IDENT_RE),a=t.concat(r,e.IDENT_RE),i={className:"title.function.invoke",relevance:0,begin:t.concat(/\b/,/(?!let|for|while|if|else|match\b)/,a,t.lookahead(/\s*\(/))},o="([ui](8|16|32|64|128|size)|f(32|64))?",l=["abstract","as","async","await","become","box","break","const","continue","crate","do","dyn","else","enum","extern","false","final","fn","for","if","impl","in","let","loop","macro","match","mod","move","mut","override","priv","pub","ref","return","self","Self","static","struct","super","trait","true","try","type","typeof","union","unsafe","unsized","use","virtual","where","while","yield"],u=["true","false","Some","None","Ok","Err"],d=["drop ","Copy","Send","Sized","Sync","Drop","Fn","FnMut","FnOnce","ToOwned","Clone","Debug","PartialEq","PartialOrd","Eq","Ord","AsRef","AsMut","Into","From","Default","Iterator","Extend","IntoIterator","DoubleEndedIterator","ExactSizeIterator","SliceConcatExt","ToString","assert!","assert_eq!","bitflags!","bytes!","cfg!","col!","concat!","concat_idents!","debug_assert!","debug_assert_eq!","env!","eprintln!","panic!","file!","format!","format_args!","include_bytes!","include_str!","line!","local_data_key!","module_path!","option_env!","print!","println!","select!","stringify!","try!","unimplemented!","unreachable!","vec!","write!","writeln!","macro_rules!","assert_ne!","debug_assert_ne!"],h=["i8","i16","i32","i64","i128","isize","u8","u16","u32","u64","u128","usize","f32","f64","str","char","bool","Box","Option","Result","String","Vec"];return{name:"Rust",aliases:["rs"],keywords:{$pattern:e.IDENT_RE+"!?",type:h,keyword:l,literal:u,built_in:d},illegal:"</",contains:[e.C_LINE_COMMENT_MODE,e.COMMENT("/\\*","\\*/",{contains:["self"]}),e.inherit(e.QUOTE_STRING_MODE,{begin:/b?"/,illegal:null}),{className:"symbol",begin:/'[a-zA-Z_][a-zA-Z0-9_]*(?!')/},{scope:"string",variants:[{begin:/b?r(#*)"(.|\n)*?"\1(?!#)/},{begin:/b?'/,end:/'/,contains:[{scope:"char.escape",match:/\\('|\w|x\w{2}|u\w{4}|U\w{8})/}]}]},{className:"number",variants:[{begin:"\\b0b([01_]+)"+o},{begin:"\\b0o([0-7_]+)"+o},{begin:"\\b0x([A-Fa-f0-9_]+)"+o},{begin:"\\b(\\d[\\d_]*(\\.[0-9_]+)?([eE][+-]?[0-9_]+)?)"+o}],relevance:0},{begin:[/fn/,/\s+/,n],className:{1:"keyword",3:"title.function"}},{className:"meta",begin:"#!?\\[",end:"\\]",contains:[{className:"string",begin:/"/,end:/"/,contains:[e.BACKSLASH_ESCAPE]}]},{begin:[/let/,/\s+/,/(?:mut\s+)?/,n],className:{1:"keyword",3:"keyword",4:"variable"}},{begin:[/for/,/\s+/,n,/\s+/,/in/],className:{1:"keyword",3:"variable",5:"keyword"}},{begin:[/type/,/\s+/,n],className:{1:"keyword",3:"title.class"}},{begin:[/(?:trait|enum|struct|union|impl|for)/,/\s+/,n],className:{1:"keyword",3:"title.class"}},{begin:e.IDENT_RE+"::",keywords:{keyword:"Self",built_in:d,type:h}},{className:"punctuation",begin:"->"},i]}}const wce=e=>({IMPORTANT:{scope:"meta",begin:"!important"},BLOCK_COMMENT:e.C_BLOCK_COMMENT_MODE,HEXCOLOR:{scope:"number",begin:/#(([0-9a-fA-F]{3,4})|(([0-9a-fA-F]{2}){3,4}))\b/},FUNCTION_DISPATCH:{className:"built_in",begin:/[\w-]+(?=\()/},ATTRIBUTE_SELECTOR_MODE:{scope:"selector-attr",begin:/\[/,end:/\]/,illegal:"$",contains:[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE]},CSS_NUMBER_MODE:{scope:"number",begin:e.NUMBER_RE+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},CSS_VARIABLE:{className:"attr",begin:/--[A-Za-z_][A-Za-z0-9_-]*/}}),kce=["a","abbr","address","article","aside","audio","b","blockquote","body","button","canvas","caption","cite","code","dd","del","details","dfn","div","dl","dt","em","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","html","i","iframe","img","input","ins","kbd","label","legend","li","main","mark","menu","nav","object","ol","optgroup","option","p","picture","q","quote","samp","section","select","source","span","strong","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","ul","var","video"],Cce=["defs","g","marker","mask","pattern","svg","switch","symbol","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feFlood","feGaussianBlur","feImage","feMerge","feMorphology","feOffset","feSpecularLighting","feTile","feTurbulence","linearGradient","radialGradient","stop","circle","ellipse","image","line","path","polygon","polyline","rect","text","use","textPath","tspan","foreignObject","clipPath"],_ce=[...kce,...Cce],Ace=["any-hover","any-pointer","aspect-ratio","color","color-gamut","color-index","device-aspect-ratio","device-height","device-width","display-mode","forced-colors","grid","height","hover","inverted-colors","monochrome","orientation","overflow-block","overflow-inline","pointer","prefers-color-scheme","prefers-contrast","prefers-reduced-motion","prefers-reduced-transparency","resolution","scan","scripting","update","width","min-width","max-width","min-height","max-height"].sort().reverse(),Nce=["active","any-link","blank","checked","current","default","defined","dir","disabled","drop","empty","enabled","first","first-child","first-of-type","fullscreen","future","focus","focus-visible","focus-within","has","host","host-context","hover","indeterminate","in-range","invalid","is","lang","last-child","last-of-type","left","link","local-link","not","nth-child","nth-col","nth-last-child","nth-last-col","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","past","placeholder-shown","read-only","read-write","required","right","root","scope","target","target-within","user-invalid","valid","visited","where"].sort().reverse(),Ice=["after","backdrop","before","cue","cue-region","first-letter","first-line","grammar-error","marker","part","placeholder","selection","slotted","spelling-error"].sort().reverse(),Rce=["accent-color","align-content","align-items","align-self","alignment-baseline","all","anchor-name","animation","animation-composition","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-range","animation-range-end","animation-range-start","animation-timeline","animation-timing-function","appearance","aspect-ratio","backdrop-filter","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-position-x","background-position-y","background-repeat","background-size","baseline-shift","block-size","border","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-end-end-radius","border-end-start-radius","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-start-end-radius","border-start-start-radius","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-align","box-decoration-break","box-direction","box-flex","box-flex-group","box-lines","box-ordinal-group","box-orient","box-pack","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","color-scheme","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","contain-intrinsic-block-size","contain-intrinsic-height","contain-intrinsic-inline-size","contain-intrinsic-size","contain-intrinsic-width","container","container-name","container-type","content","content-visibility","counter-increment","counter-reset","counter-set","cue","cue-after","cue-before","cursor","cx","cy","direction","display","dominant-baseline","empty-cells","enable-background","field-sizing","fill","fill-opacity","fill-rule","filter","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","flood-color","flood-opacity","flow","font","font-display","font-family","font-feature-settings","font-kerning","font-language-override","font-optical-sizing","font-palette","font-size","font-size-adjust","font-smooth","font-smoothing","font-stretch","font-style","font-synthesis","font-synthesis-position","font-synthesis-small-caps","font-synthesis-style","font-synthesis-weight","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-emoji","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","forced-color-adjust","gap","glyph-orientation-horizontal","glyph-orientation-vertical","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphenate-character","hyphenate-limit-chars","hyphens","icon","image-orientation","image-rendering","image-resolution","ime-mode","initial-letter","initial-letter-align","inline-size","inset","inset-area","inset-block","inset-block-end","inset-block-start","inset-inline","inset-inline-end","inset-inline-start","isolation","justify-content","justify-items","justify-self","kerning","left","letter-spacing","lighting-color","line-break","line-height","line-height-step","list-style","list-style-image","list-style-position","list-style-type","margin","margin-block","margin-block-end","margin-block-start","margin-bottom","margin-inline","margin-inline-end","margin-inline-start","margin-left","margin-right","margin-top","margin-trim","marker","marker-end","marker-mid","marker-start","marks","mask","mask-border","mask-border-mode","mask-border-outset","mask-border-repeat","mask-border-slice","mask-border-source","mask-border-width","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","masonry-auto-flow","math-depth","math-shift","math-style","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","nav-down","nav-index","nav-left","nav-right","nav-up","none","normal","object-fit","object-position","offset","offset-anchor","offset-distance","offset-path","offset-position","offset-rotate","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-anchor","overflow-block","overflow-clip-margin","overflow-inline","overflow-wrap","overflow-x","overflow-y","overlay","overscroll-behavior","overscroll-behavior-block","overscroll-behavior-inline","overscroll-behavior-x","overscroll-behavior-y","padding","padding-block","padding-block-end","padding-block-start","padding-bottom","padding-inline","padding-inline-end","padding-inline-start","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","paint-order","pause","pause-after","pause-before","perspective","perspective-origin","place-content","place-items","place-self","pointer-events","position","position-anchor","position-visibility","print-color-adjust","quotes","r","resize","rest","rest-after","rest-before","right","rotate","row-gap","ruby-align","ruby-position","scale","scroll-behavior","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-stop","scroll-snap-type","scroll-timeline","scroll-timeline-axis","scroll-timeline-name","scrollbar-color","scrollbar-gutter","scrollbar-width","shape-image-threshold","shape-margin","shape-outside","shape-rendering","speak","speak-as","src","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","tab-size","table-layout","text-align","text-align-all","text-align-last","text-anchor","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-skip-ink","text-decoration-style","text-decoration-thickness","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-indent","text-justify","text-orientation","text-overflow","text-rendering","text-shadow","text-size-adjust","text-transform","text-underline-offset","text-underline-position","text-wrap","text-wrap-mode","text-wrap-style","timeline-scope","top","touch-action","transform","transform-box","transform-origin","transform-style","transition","transition-behavior","transition-delay","transition-duration","transition-property","transition-timing-function","translate","unicode-bidi","user-modify","user-select","vector-effect","vertical-align","view-timeline","view-timeline-axis","view-timeline-inset","view-timeline-name","view-transition-name","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","white-space","white-space-collapse","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","x","y","z-index","zoom"].sort().reverse();function Dce(e){const t=wce(e),r=Ice,n=Nce,a="@[a-z-]+",i="and or not only",l={className:"variable",begin:"(\\$"+"[a-zA-Z-][a-zA-Z0-9_-]*"+")\\b",relevance:0};return{name:"SCSS",case_insensitive:!0,illegal:"[=/|']",contains:[e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,t.CSS_NUMBER_MODE,{className:"selector-id",begin:"#[A-Za-z0-9_-]+",relevance:0},{className:"selector-class",begin:"\\.[A-Za-z0-9_-]+",relevance:0},t.ATTRIBUTE_SELECTOR_MODE,{className:"selector-tag",begin:"\\b("+_ce.join("|")+")\\b",relevance:0},{className:"selector-pseudo",begin:":("+n.join("|")+")"},{className:"selector-pseudo",begin:":(:)?("+r.join("|")+")"},l,{begin:/\(/,end:/\)/,contains:[t.CSS_NUMBER_MODE]},t.CSS_VARIABLE,{className:"attribute",begin:"\\b("+Rce.join("|")+")\\b"},{begin:"\\b(whitespace|wait|w-resize|visible|vertical-text|vertical-ideographic|uppercase|upper-roman|upper-alpha|underline|transparent|top|thin|thick|text|text-top|text-bottom|tb-rl|table-header-group|table-footer-group|sw-resize|super|strict|static|square|solid|small-caps|separate|se-resize|scroll|s-resize|rtl|row-resize|ridge|right|repeat|repeat-y|repeat-x|relative|progress|pointer|overline|outside|outset|oblique|nowrap|not-allowed|normal|none|nw-resize|no-repeat|no-drop|newspaper|ne-resize|n-resize|move|middle|medium|ltr|lr-tb|lowercase|lower-roman|lower-alpha|loose|list-item|line|line-through|line-edge|lighter|left|keep-all|justify|italic|inter-word|inter-ideograph|inside|inset|inline|inline-block|inherit|inactive|ideograph-space|ideograph-parenthesis|ideograph-numeric|ideograph-alpha|horizontal|hidden|help|hand|groove|fixed|ellipsis|e-resize|double|dotted|distribute|distribute-space|distribute-letter|distribute-all-lines|disc|disabled|default|decimal|dashed|crosshair|collapse|col-resize|circle|char|center|capitalize|break-word|break-all|bottom|both|bolder|bold|block|bidi-override|below|baseline|auto|always|all-scroll|absolute|table|table-cell)\\b"},{begin:/:/,end:/[;}{]/,relevance:0,contains:[t.BLOCK_COMMENT,l,t.HEXCOLOR,t.CSS_NUMBER_MODE,e.QUOTE_STRING_MODE,e.APOS_STRING_MODE,t.IMPORTANT,t.FUNCTION_DISPATCH]},{begin:"@(page|font-face)",keywords:{$pattern:a,keyword:"@page @font-face"}},{begin:"@",end:"[{;]",returnBegin:!0,keywords:{$pattern:/[a-z-]+/,keyword:i,attribute:Ace.join(" ")},contains:[{begin:a,className:"keyword"},{begin:/[a-z-]+(?=:)/,className:"attribute"},l,e.QUOTE_STRING_MODE,e.APOS_STRING_MODE,t.HEXCOLOR,t.CSS_NUMBER_MODE]},t.FUNCTION_DISPATCH]}}function Lce(e){return{name:"Shell Session",aliases:["console","shellsession"],contains:[{className:"meta.prompt",begin:/^\s{0,3}[/~\w\d[\]()@-]*[>%$#][ ]?/,starts:{end:/[^\\](?=\s*$)/,subLanguage:"bash"}}]}}function Oce(e){const t=e.regex,r=e.COMMENT("--","$"),n={scope:"string",variants:[{begin:/'/,end:/'/,contains:[{match:/''/}]}]},a={begin:/"/,end:/"/,contains:[{match:/""/}]},i=["true","false","unknown"],o=["double precision","large object","with timezone","without timezone"],l=["bigint","binary","blob","boolean","char","character","clob","date","dec","decfloat","decimal","float","int","integer","interval","nchar","nclob","national","numeric","real","row","smallint","time","timestamp","varchar","varying","varbinary"],u=["add","asc","collation","desc","final","first","last","view"],d=["abs","acos","all","allocate","alter","and","any","are","array","array_agg","array_max_cardinality","as","asensitive","asin","asymmetric","at","atan","atomic","authorization","avg","begin","begin_frame","begin_partition","between","bigint","binary","blob","boolean","both","by","call","called","cardinality","cascaded","case","cast","ceil","ceiling","char","char_length","character","character_length","check","classifier","clob","close","coalesce","collate","collect","column","commit","condition","connect","constraint","contains","convert","copy","corr","corresponding","cos","cosh","count","covar_pop","covar_samp","create","cross","cube","cume_dist","current","current_catalog","current_date","current_default_transform_group","current_path","current_role","current_row","current_schema","current_time","current_timestamp","current_path","current_role","current_transform_group_for_type","current_user","cursor","cycle","date","day","deallocate","dec","decimal","decfloat","declare","default","define","delete","dense_rank","deref","describe","deterministic","disconnect","distinct","double","drop","dynamic","each","element","else","empty","end","end_frame","end_partition","end-exec","equals","escape","every","except","exec","execute","exists","exp","external","extract","false","fetch","filter","first_value","float","floor","for","foreign","frame_row","free","from","full","function","fusion","get","global","grant","group","grouping","groups","having","hold","hour","identity","in","indicator","initial","inner","inout","insensitive","insert","int","integer","intersect","intersection","interval","into","is","join","json_array","json_arrayagg","json_exists","json_object","json_objectagg","json_query","json_table","json_table_primitive","json_value","lag","language","large","last_value","lateral","lead","leading","left","like","like_regex","listagg","ln","local","localtime","localtimestamp","log","log10","lower","match","match_number","match_recognize","matches","max","member","merge","method","min","minute","mod","modifies","module","month","multiset","national","natural","nchar","nclob","new","no","none","normalize","not","nth_value","ntile","null","nullif","numeric","octet_length","occurrences_regex","of","offset","old","omit","on","one","only","open","or","order","out","outer","over","overlaps","overlay","parameter","partition","pattern","per","percent","percent_rank","percentile_cont","percentile_disc","period","portion","position","position_regex","power","precedes","precision","prepare","primary","procedure","ptf","range","rank","reads","real","recursive","ref","references","referencing","regr_avgx","regr_avgy","regr_count","regr_intercept","regr_r2","regr_slope","regr_sxx","regr_sxy","regr_syy","release","result","return","returns","revoke","right","rollback","rollup","row","row_number","rows","running","savepoint","scope","scroll","search","second","seek","select","sensitive","session_user","set","show","similar","sin","sinh","skip","smallint","some","specific","specifictype","sql","sqlexception","sqlstate","sqlwarning","sqrt","start","static","stddev_pop","stddev_samp","submultiset","subset","substring","substring_regex","succeeds","sum","symmetric","system","system_time","system_user","table","tablesample","tan","tanh","then","time","timestamp","timezone_hour","timezone_minute","to","trailing","translate","translate_regex","translation","treat","trigger","trim","trim_array","true","truncate","uescape","union","unique","unknown","unnest","update","upper","user","using","value","values","value_of","var_pop","var_samp","varbinary","varchar","varying","versioning","when","whenever","where","width_bucket","window","with","within","without","year"],h=["abs","acos","array_agg","asin","atan","avg","cast","ceil","ceiling","coalesce","corr","cos","cosh","count","covar_pop","covar_samp","cume_dist","dense_rank","deref","element","exp","extract","first_value","floor","json_array","json_arrayagg","json_exists","json_object","json_objectagg","json_query","json_table","json_table_primitive","json_value","lag","last_value","lead","listagg","ln","log","log10","lower","max","min","mod","nth_value","ntile","nullif","percent_rank","percentile_cont","percentile_disc","position","position_regex","power","rank","regr_avgx","regr_avgy","regr_count","regr_intercept","regr_r2","regr_slope","regr_sxx","regr_sxy","regr_syy","row_number","sin","sinh","sqrt","stddev_pop","stddev_samp","substring","substring_regex","sum","tan","tanh","translate","translate_regex","treat","trim","trim_array","unnest","upper","value_of","var_pop","var_samp","width_bucket"],g=["current_catalog","current_date","current_default_transform_group","current_path","current_role","current_schema","current_transform_group_for_type","current_user","session_user","system_time","system_user","current_time","localtime","current_timestamp","localtimestamp"],f=["create table","insert into","primary key","foreign key","not null","alter table","add constraint","grouping sets","on overflow","character set","respect nulls","ignore nulls","nulls first","nulls last","depth first","breadth first"],b=h,x=[...d,...u].filter(D=>!h.includes(D)),E={scope:"variable",match:/@[a-z0-9][a-z0-9_]*/},v={scope:"operator",match:/[-+*/=%^~]|&&?|\|\|?|!=?|<(?:=>?|<|>)?|>[>=]?/,relevance:0},T={match:t.concat(/\b/,t.either(...b),/\s*\(/),relevance:0,keywords:{built_in:b}};function w(D){return t.concat(/\b/,t.either(...D.map(L=>L.replace(/\s+/,"\\s+"))),/\b/)}const N={scope:"keyword",match:w(f),relevance:0};function R(D,{exceptions:L,when:j}={}){const B=j;return L=L||[],D.map(q=>q.match(/\|\d+$/)||L.includes(q)?q:B(q)?`${q}|0`:q)}return{name:"SQL",case_insensitive:!0,illegal:/[{}]|<\//,keywords:{$pattern:/\b[\w\.]+/,keyword:R(x,{when:D=>D.length<3}),literal:i,type:l,built_in:g},contains:[{scope:"type",match:w(o)},N,T,E,n,a,e.C_NUMBER_MODE,e.C_BLOCK_COMMENT_MODE,r,v]}}function mF(e){return e?typeof e=="string"?e:e.source:null}function Wh(e){return On("(?=",e,")")}function On(...e){return e.map(r=>mF(r)).join("")}function Mce(e){const t=e[e.length-1];return typeof t=="object"&&t.constructor===Object?(e.splice(e.length-1,1),t):{}}function _s(...e){return"("+(Mce(e).capture?"":"?:")+e.map(n=>mF(n)).join("|")+")"}const nk=e=>On(/\b/,e,/\w$/.test(e)?/\b/:/\B/),Pce=["Protocol","Type"].map(nk),FO=["init","self"].map(nk),jce=["Any","Self"],AS=["actor","any","associatedtype","async","await",/as\?/,/as!/,"as","borrowing","break","case","catch","class","consume","consuming","continue","convenience","copy","default","defer","deinit","didSet","distributed","do","dynamic","each","else","enum","extension","fallthrough",/fileprivate\(set\)/,"fileprivate","final","for","func","get","guard","if","import","indirect","infix",/init\?/,/init!/,"inout",/internal\(set\)/,"internal","in","is","isolated","nonisolated","lazy","let","macro","mutating","nonmutating",/open\(set\)/,"open","operator","optional","override","package","postfix","precedencegroup","prefix",/private\(set\)/,"private","protocol",/public\(set\)/,"public","repeat","required","rethrows","return","set","some","static","struct","subscript","super","switch","throws","throw",/try\?/,/try!/,"try","typealias",/unowned\(safe\)/,/unowned\(unsafe\)/,"unowned","var","weak","where","while","willSet"],BO=["false","nil","true"],Fce=["assignment","associativity","higherThan","left","lowerThan","none","right"],Bce=["#colorLiteral","#column","#dsohandle","#else","#elseif","#endif","#error","#file","#fileID","#fileLiteral","#filePath","#function","#if","#imageLiteral","#keyPath","#line","#selector","#sourceLocation","#warning"],UO=["abs","all","any","assert","assertionFailure","debugPrint","dump","fatalError","getVaList","isKnownUniquelyReferenced","max","min","numericCast","pointwiseMax","pointwiseMin","precondition","preconditionFailure","print","readLine","repeatElement","sequence","stride","swap","swift_unboxFromSwiftValueWithType","transcode","type","unsafeBitCast","unsafeDowncast","withExtendedLifetime","withUnsafeMutablePointer","withUnsafePointer","withVaList","withoutActuallyEscaping","zip"],fF=_s(/[/=\-+!*%<>&|^~?]/,/[\u00A1-\u00A7]/,/[\u00A9\u00AB]/,/[\u00AC\u00AE]/,/[\u00B0\u00B1]/,/[\u00B6\u00BB\u00BF\u00D7\u00F7]/,/[\u2016-\u2017]/,/[\u2020-\u2027]/,/[\u2030-\u203E]/,/[\u2041-\u2053]/,/[\u2055-\u205E]/,/[\u2190-\u23FF]/,/[\u2500-\u2775]/,/[\u2794-\u2BFF]/,/[\u2E00-\u2E7F]/,/[\u3001-\u3003]/,/[\u3008-\u3020]/,/[\u3030]/),bF=_s(fF,/[\u0300-\u036F]/,/[\u1DC0-\u1DFF]/,/[\u20D0-\u20FF]/,/[\uFE00-\uFE0F]/,/[\uFE20-\uFE2F]/),NS=On(fF,bF,"*"),yF=_s(/[a-zA-Z_]/,/[\u00A8\u00AA\u00AD\u00AF\u00B2-\u00B5\u00B7-\u00BA]/,/[\u00BC-\u00BE\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u00FF]/,/[\u0100-\u02FF\u0370-\u167F\u1681-\u180D\u180F-\u1DBF]/,/[\u1E00-\u1FFF]/,/[\u200B-\u200D\u202A-\u202E\u203F-\u2040\u2054\u2060-\u206F]/,/[\u2070-\u20CF\u2100-\u218F\u2460-\u24FF\u2776-\u2793]/,/[\u2C00-\u2DFF\u2E80-\u2FFF]/,/[\u3004-\u3007\u3021-\u302F\u3031-\u303F\u3040-\uD7FF]/,/[\uF900-\uFD3D\uFD40-\uFDCF\uFDF0-\uFE1F\uFE30-\uFE44]/,/[\uFE47-\uFEFE\uFF00-\uFFFD]/),Pb=_s(yF,/\d/,/[\u0300-\u036F\u1DC0-\u1DFF\u20D0-\u20FF\uFE20-\uFE2F]/),Do=On(yF,Pb,"*"),N0=On(/[A-Z]/,Pb,"*"),Uce=["attached","autoclosure",On(/convention\(/,_s("swift","block","c"),/\)/),"discardableResult","dynamicCallable","dynamicMemberLookup","escaping","freestanding","frozen","GKInspectable","IBAction","IBDesignable","IBInspectable","IBOutlet","IBSegueAction","inlinable","main","nonobjc","NSApplicationMain","NSCopying","NSManaged",On(/objc\(/,Do,/\)/),"objc","objcMembers","propertyWrapper","requires_stored_property_inits","resultBuilder","Sendable","testable","UIApplicationMain","unchecked","unknown","usableFromInline","warn_unqualified_access"],$ce=["iOS","iOSApplicationExtension","macOS","macOSApplicationExtension","macCatalyst","macCatalystApplicationExtension","watchOS","watchOSApplicationExtension","tvOS","tvOSApplicationExtension","swift"];function Hce(e){const t={match:/\s+/,relevance:0},r=e.COMMENT("/\\*","\\*/",{contains:["self"]}),n=[e.C_LINE_COMMENT_MODE,r],a={match:[/\./,_s(...Pce,...FO)],className:{2:"keyword"}},i={match:On(/\./,_s(...AS)),relevance:0},o=AS.filter(kt=>typeof kt=="string").concat(["_|0"]),l=AS.filter(kt=>typeof kt!="string").concat(jce).map(nk),u={variants:[{className:"keyword",match:_s(...l,...FO)}]},d={$pattern:_s(/\b\w+/,/#\w+/),keyword:o.concat(Bce),literal:BO},h=[a,i,u],g={match:On(/\./,_s(...UO)),relevance:0},f={className:"built_in",match:On(/\b/,_s(...UO),/(?=\()/)},b=[g,f],x={match:/->/,relevance:0},E={className:"operator",relevance:0,variants:[{match:NS},{match:`\\.(\\.|${bF})+`}]},v=[x,E],T="([0-9]_*)+",w="([0-9a-fA-F]_*)+",N={className:"number",relevance:0,variants:[{match:`\\b(${T})(\\.(${T}))?([eE][+-]?(${T}))?\\b`},{match:`\\b0x(${w})(\\.(${w}))?([pP][+-]?(${T}))?\\b`},{match:/\b0o([0-7]_*)+\b/},{match:/\b0b([01]_*)+\b/}]},R=(kt="")=>({className:"subst",variants:[{match:On(/\\/,kt,/[0\\tnr"']/)},{match:On(/\\/,kt,/u\{[0-9a-fA-F]{1,8}\}/)}]}),D=(kt="")=>({className:"subst",match:On(/\\/,kt,/[\t ]*(?:[\r\n]|\r\n)/)}),L=(kt="")=>({className:"subst",label:"interpol",begin:On(/\\/,kt,/\(/),end:/\)/}),j=(kt="")=>({begin:On(kt,/"""/),end:On(/"""/,kt),contains:[R(kt),D(kt),L(kt)]}),B=(kt="")=>({begin:On(kt,/"/),end:On(/"/,kt),contains:[R(kt),L(kt)]}),q={className:"string",variants:[j(),j("#"),j("##"),j("###"),B(),B("#"),B("##"),B("###")]},z=[e.BACKSLASH_ESCAPE,{begin:/\[/,end:/\]/,relevance:0,contains:[e.BACKSLASH_ESCAPE]}],K={begin:/\/[^\s](?=[^/\n]*\/)/,end:/\//,contains:z},X=kt=>{const wt=On(kt,/\//),_t=On(/\//,kt);return{begin:wt,end:_t,contains:[...z,{scope:"comment",begin:`#(?!.*${_t})`,end:/$/}]}},Q={scope:"regexp",variants:[X("###"),X("##"),X("#"),K]},O={match:On(/`/,Do,/`/)},H={className:"variable",match:/\$\d+/},$={className:"variable",match:`\\$${Pb}+`},Y=[O,H,$],V={match:/(@|#(un)?)available/,scope:"keyword",starts:{contains:[{begin:/\(/,end:/\)/,keywords:$ce,contains:[...v,N,q]}]}},ne={scope:"keyword",match:On(/@/,_s(...Uce),Wh(_s(/\(/,/\s+/)))},P={scope:"meta",match:On(/@/,Do)},I=[V,ne,P],G={match:Wh(/\b[A-Z]/),relevance:0,contains:[{className:"type",match:On(/(AV|CA|CF|CG|CI|CL|CM|CN|CT|MK|MP|MTK|MTL|NS|SCN|SK|UI|WK|XC)/,Pb,"+")},{className:"type",match:N0,relevance:0},{match:/[?!]+/,relevance:0},{match:/\.\.\./,relevance:0},{match:On(/\s+&\s+/,Wh(N0)),relevance:0}]},F={begin:/</,end:/>/,keywords:d,contains:[...n,...h,...I,x,G]};G.contains.push(F);const ie={match:On(Do,/\s*:/),keywords:"_|0",relevance:0},he={begin:/\(/,end:/\)/,relevance:0,keywords:d,contains:["self",ie,...n,Q,...h,...b,...v,N,q,...Y,...I,G]},ye={begin:/</,end:/>/,keywords:"repeat each",contains:[...n,G]},ge={begin:_s(Wh(On(Do,/\s*:/)),Wh(On(Do,/\s+/,Do,/\s*:/))),end:/:/,relevance:0,contains:[{className:"keyword",match:/\b_\b/},{className:"params",match:Do}]},pe={begin:/\(/,end:/\)/,keywords:d,contains:[ge,...n,...h,...v,N,q,...I,G,he],endsParent:!0,illegal:/["']/},Be={match:[/(func|macro)/,/\s+/,_s(O.match,Do,NS)],className:{1:"keyword",3:"title.function"},contains:[ye,pe,t],illegal:[/\[/,/%/]},Ee={match:[/\b(?:subscript|init[?!]?)/,/\s*(?=[<(])/],className:{1:"keyword"},contains:[ye,pe,t],illegal:/\[|%/},we={match:[/operator/,/\s+/,NS],className:{1:"keyword",3:"title"}},Je={begin:[/precedencegroup/,/\s+/,N0],className:{1:"keyword",3:"title"},contains:[G],keywords:[...Fce,...BO],end:/}/},Ke={match:[/class\b/,/\s+/,/func\b/,/\s+/,/\b[A-Za-z_][A-Za-z0-9_]*\b/],scope:{1:"keyword",3:"keyword",5:"title.function"}},ze={match:[/class\b/,/\s+/,/var\b/],scope:{1:"keyword",3:"keyword"}},Vt={begin:[/(struct|protocol|class|extension|enum|actor)/,/\s+/,Do,/\s*/],beginScope:{1:"keyword",3:"title.class"},keywords:d,contains:[ye,...h,{begin:/:/,end:/\{/,keywords:d,contains:[{scope:"title.class.inherited",match:N0},...h],relevance:0}]};for(const kt of q.variants){const wt=kt.contains.find(jt=>jt.label==="interpol");wt.keywords=d;const _t=[...h,...b,...v,N,q,...Y];wt.contains=[..._t,{begin:/\(/,end:/\)/,contains:["self",..._t]}]}return{name:"Swift",keywords:d,contains:[...n,Be,Ee,Ke,ze,Vt,we,Je,{beginKeywords:"import",end:/$/,contains:[...n],relevance:0},Q,...h,...b,...v,N,q,...Y,...I,G,he]}}const jb="[A-Za-z$_][0-9A-Za-z$_]*",xF=["as","in","of","if","for","while","finally","var","new","function","do","return","void","else","break","catch","instanceof","with","throw","case","default","try","switch","continue","typeof","delete","let","yield","const","class","debugger","async","await","static","import","from","export","extends","using"],EF=["true","false","null","undefined","NaN","Infinity"],vF=["Object","Function","Boolean","Symbol","Math","Date","Number","BigInt","String","RegExp","Array","Float32Array","Float64Array","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Int32Array","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array","Set","Map","WeakSet","WeakMap","ArrayBuffer","SharedArrayBuffer","Atomics","DataView","JSON","Promise","Generator","GeneratorFunction","AsyncFunction","Reflect","Proxy","Intl","WebAssembly"],SF=["Error","EvalError","InternalError","RangeError","ReferenceError","SyntaxError","TypeError","URIError"],TF=["setInterval","setTimeout","clearInterval","clearTimeout","require","exports","eval","isFinite","isNaN","parseFloat","parseInt","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","unescape"],wF=["arguments","this","super","console","window","document","localStorage","sessionStorage","module","global"],kF=[].concat(TF,vF,SF);function zce(e){const t=e.regex,r=(V,{after:ne})=>{const P="</"+V[0].slice(1);return V.input.indexOf(P,ne)!==-1},n=jb,a={begin:"<>",end:"</>"},i=/<[A-Za-z0-9\\._:-]+\s*\/>/,o={begin:/<[A-Za-z0-9\\._:-]+/,end:/\/[A-Za-z0-9\\._:-]+>|\/>/,isTrulyOpeningTag:(V,ne)=>{const P=V[0].length+V.index,I=V.input[P];if(I==="<"||I===","){ne.ignoreMatch();return}I===">"&&(r(V,{after:P})||ne.ignoreMatch());let G;const F=V.input.substring(P);if(G=F.match(/^\s*=/)){ne.ignoreMatch();return}if((G=F.match(/^\s+extends\s+/))&&G.index===0){ne.ignoreMatch();return}}},l={$pattern:jb,keyword:xF,literal:EF,built_in:kF,"variable.language":wF},u="[0-9](_?[0-9])*",d=`\\.(${u})`,h="0|[1-9](_?[0-9])*|0[0-7]*[89][0-9]*",g={className:"number",variants:[{begin:`(\\b(${h})((${d})|\\.)?|(${d}))[eE][+-]?(${u})\\b`},{begin:`\\b(${h})\\b((${d})\\b|\\.)?|(${d})\\b`},{begin:"\\b(0|[1-9](_?[0-9])*)n\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*n?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*n?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*n?\\b"},{begin:"\\b0[0-7]+n?\\b"}],relevance:0},f={className:"subst",begin:"\\$\\{",end:"\\}",keywords:l,contains:[]},b={begin:".?html`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,f],subLanguage:"xml"}},x={begin:".?css`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,f],subLanguage:"css"}},E={begin:".?gql`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,f],subLanguage:"graphql"}},v={className:"string",begin:"`",end:"`",contains:[e.BACKSLASH_ESCAPE,f]},w={className:"comment",variants:[e.COMMENT(/\/\*\*(?!\/)/,"\\*/",{relevance:0,contains:[{begin:"(?=@[A-Za-z]+)",relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"},{className:"type",begin:"\\{",end:"\\}",excludeEnd:!0,excludeBegin:!0,relevance:0},{className:"variable",begin:n+"(?=\\s*(-)|$)",endsParent:!0,relevance:0},{begin:/(?=[^\n])\s/,relevance:0}]}]}),e.C_BLOCK_COMMENT_MODE,e.C_LINE_COMMENT_MODE]},N=[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,b,x,E,v,{match:/\$\d+/},g];f.contains=N.concat({begin:/\{/,end:/\}/,keywords:l,contains:["self"].concat(N)});const R=[].concat(w,f.contains),D=R.concat([{begin:/(\s*)\(/,end:/\)/,keywords:l,contains:["self"].concat(R)}]),L={className:"params",begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:l,contains:D},j={variants:[{match:[/class/,/\s+/,n,/\s+/,/extends/,/\s+/,t.concat(n,"(",t.concat(/\./,n),")*")],scope:{1:"keyword",3:"title.class",5:"keyword",7:"title.class.inherited"}},{match:[/class/,/\s+/,n],scope:{1:"keyword",3:"title.class"}}]},B={relevance:0,match:t.either(/\bJSON/,/\b[A-Z][a-z]+([A-Z][a-z]*|\d)*/,/\b[A-Z]{2,}([A-Z][a-z]+|\d)+([A-Z][a-z]*)*/,/\b[A-Z]{2,}[a-z]+([A-Z][a-z]+|\d)*([A-Z][a-z]*)*/),className:"title.class",keywords:{_:[...vF,...SF]}},q={label:"use_strict",className:"meta",relevance:10,begin:/^\s*['"]use (strict|asm)['"]/},z={variants:[{match:[/function/,/\s+/,n,/(?=\s*\()/]},{match:[/function/,/\s*(?=\()/]}],className:{1:"keyword",3:"title.function"},label:"func.def",contains:[L],illegal:/%/},K={relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"};function X(V){return t.concat("(?!",V.join("|"),")")}const Q={match:t.concat(/\b/,X([...TF,"super","import"].map(V=>`${V}\\s*\\(`)),n,t.lookahead(/\s*\(/)),className:"title.function",relevance:0},O={begin:t.concat(/\./,t.lookahead(t.concat(n,/(?![0-9A-Za-z$_(])/))),end:n,excludeBegin:!0,keywords:"prototype",className:"property",relevance:0},H={match:[/get|set/,/\s+/,n,/(?=\()/],className:{1:"keyword",3:"title.function"},contains:[{begin:/\(\)/},L]},$="(\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)|"+e.UNDERSCORE_IDENT_RE+")\\s*=>",Y={match:[/const|var|let/,/\s+/,n,/\s*/,/=\s*/,/(async\s*)?/,t.lookahead($)],keywords:"async",className:{1:"keyword",3:"title.function"},contains:[L]};return{name:"JavaScript",aliases:["js","jsx","mjs","cjs"],keywords:l,exports:{PARAMS_CONTAINS:D,CLASS_REFERENCE:B},illegal:/#(?![$_A-z])/,contains:[e.SHEBANG({label:"shebang",binary:"node",relevance:5}),q,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,b,x,E,v,w,{match:/\$\d+/},g,B,{scope:"attr",match:n+t.lookahead(":"),relevance:0},Y,{begin:"("+e.RE_STARTERS_RE+"|\\b(case|return|throw)\\b)\\s*",keywords:"return throw case",relevance:0,contains:[w,e.REGEXP_MODE,{className:"function",begin:$,returnBegin:!0,end:"\\s*=>",contains:[{className:"params",variants:[{begin:e.UNDERSCORE_IDENT_RE,relevance:0},{className:null,begin:/\(\s*\)/,skip:!0},{begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:l,contains:D}]}]},{begin:/,/,relevance:0},{match:/\s+/,relevance:0},{variants:[{begin:a.begin,end:a.end},{match:i},{begin:o.begin,"on:begin":o.isTrulyOpeningTag,end:o.end}],subLanguage:"xml",contains:[{begin:o.begin,end:o.end,skip:!0,contains:["self"]}]}]},z,{beginKeywords:"while if switch catch for"},{begin:"\\b(?!function)"+e.UNDERSCORE_IDENT_RE+"\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)\\s*\\{",returnBegin:!0,label:"func.def",contains:[L,e.inherit(e.TITLE_MODE,{begin:n,className:"title.function"})]},{match:/\.\.\./,relevance:0},O,{match:"\\$"+n,relevance:0},{match:[/\bconstructor(?=\s*\()/],className:{1:"title.function"},contains:[L]},Q,K,j,H,{match:/\$[(.]/}]}}function Gce(e){const t=e.regex,r=zce(e),n=jb,a=["any","void","number","boolean","string","object","never","symbol","bigint","unknown"],i={begin:[/namespace/,/\s+/,e.IDENT_RE],beginScope:{1:"keyword",3:"title.class"}},o={beginKeywords:"interface",end:/\{/,excludeEnd:!0,keywords:{keyword:"interface extends",built_in:a},contains:[r.exports.CLASS_REFERENCE]},l={className:"meta",relevance:10,begin:/^\s*['"]use strict['"]/},u=["type","interface","public","private","protected","implements","declare","abstract","readonly","enum","override","satisfies"],d={$pattern:jb,keyword:xF.concat(u),literal:EF,built_in:kF.concat(a),"variable.language":wF},h={className:"meta",begin:"@"+n},g=(E,v,T)=>{const w=E.contains.findIndex(N=>N.label===v);if(w===-1)throw new Error("can not find mode to replace");E.contains.splice(w,1,T)};Object.assign(r.keywords,d),r.exports.PARAMS_CONTAINS.push(h);const f=r.contains.find(E=>E.scope==="attr"),b=Object.assign({},f,{match:t.concat(n,t.lookahead(/\s*\?:/))});r.exports.PARAMS_CONTAINS.push([r.exports.CLASS_REFERENCE,f,b]),r.contains=r.contains.concat([h,i,o,b]),g(r,"shebang",e.SHEBANG()),g(r,"use_strict",l);const x=r.contains.find(E=>E.label==="func.def");return x.relevance=0,Object.assign(r,{name:"TypeScript",aliases:["ts","tsx","mts","cts"]}),r}function qce(e){const t=e.regex,r={className:"string",begin:/"(""|[^/n])"C\b/},n={className:"string",begin:/"/,end:/"/,illegal:/\n/,contains:[{begin:/""/}]},a=/\d{1,2}\/\d{1,2}\/\d{4}/,i=/\d{4}-\d{1,2}-\d{1,2}/,o=/(\d|1[012])(:\d+){0,2} *(AM|PM)/,l=/\d{1,2}(:\d{1,2}){1,2}/,u={className:"literal",variants:[{begin:t.concat(/# */,t.either(i,a),/ *#/)},{begin:t.concat(/# */,l,/ *#/)},{begin:t.concat(/# */,o,/ *#/)},{begin:t.concat(/# */,t.either(i,a),/ +/,t.either(o,l),/ *#/)}]},d={className:"number",relevance:0,variants:[{begin:/\b\d[\d_]*((\.[\d_]+(E[+-]?[\d_]+)?)|(E[+-]?[\d_]+))[RFD@!#]?/},{begin:/\b\d[\d_]*((U?[SIL])|[%&])?/},{begin:/&H[\dA-F_]+((U?[SIL])|[%&])?/},{begin:/&O[0-7_]+((U?[SIL])|[%&])?/},{begin:/&B[01_]+((U?[SIL])|[%&])?/}]},h={className:"label",begin:/^\w+:/},g=e.COMMENT(/'''/,/$/,{contains:[{className:"doctag",begin:/<\/?/,end:/>/}]}),f=e.COMMENT(null,/$/,{variants:[{begin:/'/},{begin:/([\t ]|^)REM(?=\s)/}]});return{name:"Visual Basic .NET",aliases:["vb"],case_insensitive:!0,classNameAliases:{label:"symbol"},keywords:{keyword:"addhandler alias aggregate ansi as async assembly auto binary by byref byval call case catch class compare const continue custom declare default delegate dim distinct do each equals else elseif end enum erase error event exit explicit finally for friend from function get global goto group handles if implements imports in inherits interface into iterator join key let lib loop me mid module mustinherit mustoverride mybase myclass namespace narrowing new next notinheritable notoverridable of off on operator option optional order overloads overridable overrides paramarray partial preserve private property protected public raiseevent readonly redim removehandler resume return select set shadows shared skip static step stop structure strict sub synclock take text then throw to try unicode until using when where while widening with withevents writeonly yield",built_in:"addressof and andalso await directcast gettype getxmlnamespace is isfalse isnot istrue like mod nameof new not or orelse trycast typeof xor cbool cbyte cchar cdate cdbl cdec cint clng cobj csbyte cshort csng cstr cuint culng cushort",type:"boolean byte char date decimal double integer long object sbyte short single string uinteger ulong ushort",literal:"true false nothing"},illegal:"//|\\{|\\}|endif|gosub|variant|wend|^\\$ ",contains:[r,n,u,d,h,g,f,{className:"meta",begin:/[\t ]*#(const|disable|else|elseif|enable|end|externalsource|if|region)\b/,end:/$/,keywords:{keyword:"const disable else elseif enable end externalsource if region then"},contains:[f]}]}}function Wce(e){e.regex;const t=e.COMMENT(/\(;/,/;\)/);t.contains.push("self");const r=e.COMMENT(/;;/,/$/),n=["anyfunc","block","br","br_if","br_table","call","call_indirect","data","drop","elem","else","end","export","func","global.get","global.set","local.get","local.set","local.tee","get_global","get_local","global","if","import","local","loop","memory","memory.grow","memory.size","module","mut","nop","offset","param","result","return","select","set_global","set_local","start","table","tee_local","then","type","unreachable"],a={begin:[/(?:func|call|call_indirect)/,/\s+/,/\$[^\s)]+/],className:{1:"keyword",3:"title.function"}},i={className:"variable",begin:/\$[\w_]+/},o={match:/(\((?!;)|\))+/,className:"punctuation",relevance:0},l={className:"number",relevance:0,match:/[+-]?\b(?:\d(?:_?\d)*(?:\.\d(?:_?\d)*)?(?:[eE][+-]?\d(?:_?\d)*)?|0x[\da-fA-F](?:_?[\da-fA-F])*(?:\.[\da-fA-F](?:_?[\da-fA-D])*)?(?:[pP][+-]?\d(?:_?\d)*)?)\b|\binf\b|\bnan(?::0x[\da-fA-F](?:_?[\da-fA-D])*)?\b/},u={match:/(i32|i64|f32|f64)(?!\.)/,className:"type"},d={className:"keyword",match:/\b(f32|f64|i32|i64)(?:\.(?:abs|add|and|ceil|clz|const|convert_[su]\/i(?:32|64)|copysign|ctz|demote\/f64|div(?:_[su])?|eqz?|extend_[su]\/i32|floor|ge(?:_[su])?|gt(?:_[su])?|le(?:_[su])?|load(?:(?:8|16|32)_[su])?|lt(?:_[su])?|max|min|mul|nearest|neg?|or|popcnt|promote\/f32|reinterpret\/[fi](?:32|64)|rem_[su]|rot[lr]|shl|shr_[su]|store(?:8|16|32)?|sqrt|sub|trunc(?:_[su]\/f(?:32|64))?|wrap\/i64|xor))\b/};return{name:"WebAssembly",keywords:{$pattern:/[\w.]+/,keyword:n},contains:[r,t,{match:[/(?:offset|align)/,/\s*/,/=/],className:{1:"keyword",3:"operator"}},i,o,a,e.QUOTE_STRING_MODE,u,d,l]}}function Yce(e){const t=e.regex,r=t.concat(/[\p{L}_]/u,t.optional(/[\p{L}0-9_.-]*:/u),/[\p{L}0-9_.-]*/u),n=/[\p{L}0-9._:-]+/u,a={className:"symbol",begin:/&[a-z]+;|&#[0-9]+;|&#x[a-f0-9]+;/},i={begin:/\s/,contains:[{className:"keyword",begin:/#?[a-z_][a-z1-9_-]+/,illegal:/\n/}]},o=e.inherit(i,{begin:/\(/,end:/\)/}),l=e.inherit(e.APOS_STRING_MODE,{className:"string"}),u=e.inherit(e.QUOTE_STRING_MODE,{className:"string"}),d={endsWithParent:!0,illegal:/</,relevance:0,contains:[{className:"attr",begin:n,relevance:0},{begin:/=\s*/,relevance:0,contains:[{className:"string",endsParent:!0,variants:[{begin:/"/,end:/"/,contains:[a]},{begin:/'/,end:/'/,contains:[a]},{begin:/[^\s"'=<>`]+/}]}]}]};return{name:"HTML, XML",aliases:["html","xhtml","rss","atom","xjb","xsd","xsl","plist","wsf","svg"],case_insensitive:!0,unicodeRegex:!0,contains:[{className:"meta",begin:/<![a-z]/,end:/>/,relevance:10,contains:[i,u,l,o,{begin:/\[/,end:/\]/,contains:[{className:"meta",begin:/<![a-z]/,end:/>/,contains:[i,o,u,l]}]}]},e.COMMENT(/<!--/,/-->/,{relevance:10}),{begin:/<!\[CDATA\[/,end:/\]\]>/,relevance:10},a,{className:"meta",end:/\?>/,variants:[{begin:/<\?xml/,relevance:10,contains:[u]},{begin:/<\?[a-z][a-z0-9]+/}]},{className:"tag",begin:/<style(?=\s|>)/,end:/>/,keywords:{name:"style"},contains:[d],starts:{end:/<\/style>/,returnEnd:!0,subLanguage:["css","xml"]}},{className:"tag",begin:/<script(?=\s|>)/,end:/>/,keywords:{name:"script"},contains:[d],starts:{end:/<\/script>/,returnEnd:!0,subLanguage:["javascript","handlebars","xml"]}},{className:"tag",begin:/<>|<\/>/},{className:"tag",begin:t.concat(/</,t.lookahead(t.concat(r,t.either(/\/>/,/>/,/\s/)))),end:/\/?>/,contains:[{className:"name",begin:r,relevance:0,starts:d}]},{className:"tag",begin:t.concat(/<\//,t.lookahead(t.concat(r,/>/))),contains:[{className:"name",begin:r,relevance:0},{begin:/>/,relevance:0,endsParent:!0}]}]}}function Vce(e){const t="true false yes no null",r="[\\w#;/?:@&=+$,.~*'()[\\]]+",n={className:"attr",variants:[{begin:/[\w*@][\w*@ :()\./-]*:(?=[ \t]|$)/},{begin:/"[\w*@][\w*@ :()\./-]*":(?=[ \t]|$)/},{begin:/'[\w*@][\w*@ :()\./-]*':(?=[ \t]|$)/}]},a={className:"template-variable",variants:[{begin:/\{\{/,end:/\}\}/},{begin:/%\{/,end:/\}/}]},i={className:"string",relevance:0,begin:/'/,end:/'/,contains:[{match:/''/,scope:"char.escape",relevance:0}]},o={className:"string",relevance:0,variants:[{begin:/"/,end:/"/},{begin:/\S+/}],contains:[e.BACKSLASH_ESCAPE,a]},l=e.inherit(o,{variants:[{begin:/'/,end:/'/,contains:[{begin:/''/,relevance:0}]},{begin:/"/,end:/"/},{begin:/[^\s,{}[\]]+/}]}),f={className:"number",begin:"\\b"+"[0-9]{4}(-[0-9][0-9]){0,2}"+"([Tt \\t][0-9][0-9]?(:[0-9][0-9]){2})?"+"(\\.[0-9]*)?"+"([ \\t])*(Z|[-+][0-9][0-9]?(:[0-9][0-9])?)?"+"\\b"},b={end:",",endsWithParent:!0,excludeEnd:!0,keywords:t,relevance:0},x={begin:/\{/,end:/\}/,contains:[b],illegal:"\\n",relevance:0},E={begin:"\\[",end:"\\]",contains:[b],illegal:"\\n",relevance:0},v=[n,{className:"meta",begin:"^---\\s*$",relevance:10},{className:"string",begin:"[\\|>]([1-9]?[+-])?[ ]*\\n( +)[^ ][^\\n]*\\n(\\2[^\\n]+\\n?)*"},{begin:"<%[%=-]?",end:"[%-]?%>",subLanguage:"ruby",excludeBegin:!0,excludeEnd:!0,relevance:0},{className:"type",begin:"!\\w+!"+r},{className:"type",begin:"!<"+r+">"},{className:"type",begin:"!"+r},{className:"type",begin:"!!"+r},{className:"meta",begin:"&"+e.UNDERSCORE_IDENT_RE+"$"},{className:"meta",begin:"\\*"+e.UNDERSCORE_IDENT_RE+"$"},{className:"bullet",begin:"-(?=[ ]|$)",relevance:0},e.HASH_COMMENT_MODE,{beginKeywords:t,keywords:{literal:t}},f,{className:"number",begin:e.C_NUMBER_RE+"\\b",relevance:0},x,E,i,o],T=[...v];return T.pop(),T.push(l),b.contains=T,{name:"YAML",case_insensitive:!0,aliases:["yml"],contains:v}}const Kce={arduino:Ile,bash:Rle,c:Dle,cpp:Lle,csharp:Ole,css:zle,diff:Gle,go:qle,graphql:Wle,ini:Yle,java:Vle,javascript:Jle,json:ece,kotlin:rce,less:uce,lua:dce,makefile:pce,markdown:hce,objectivec:gce,perl:mce,php:fce,"php-template":bce,plaintext:yce,python:xce,"python-repl":Ece,r:vce,ruby:Sce,rust:Tce,scss:Dce,shell:Lce,sql:Oce,swift:Hce,typescript:Gce,vbnet:qce,wasm:Wce,xml:Yce,yaml:Vce};var IS,$O;function Qce(){if($O)return IS;$O=1;function e(be){return be instanceof Map?be.clear=be.delete=be.set=function(){throw new Error("map is read-only")}:be instanceof Set&&(be.add=be.clear=be.delete=function(){throw new Error("set is read-only")}),Object.freeze(be),Object.getOwnPropertyNames(be).forEach(Ue=>{const et=be[Ue],Ht=typeof et;(Ht==="object"||Ht==="function")&&!Object.isFrozen(et)&&e(et)}),be}class t{constructor(Ue){Ue.data===void 0&&(Ue.data={}),this.data=Ue.data,this.isMatchIgnored=!1}ignoreMatch(){this.isMatchIgnored=!0}}function r(be){return be.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")}function n(be,...Ue){const et=Object.create(null);for(const Ht in be)et[Ht]=be[Ht];return Ue.forEach(function(Ht){for(const Ar in Ht)et[Ar]=Ht[Ar]}),et}const a="</span>",i=be=>!!be.scope,o=(be,{prefix:Ue})=>{if(be.startsWith("language:"))return be.replace("language:","language-");if(be.includes(".")){const et=be.split(".");return[`${Ue}${et.shift()}`,...et.map((Ht,Ar)=>`${Ht}${"_".repeat(Ar+1)}`)].join(" ")}return`${Ue}${be}`};class l{constructor(Ue,et){this.buffer="",this.classPrefix=et.classPrefix,Ue.walk(this)}addText(Ue){this.buffer+=r(Ue)}openNode(Ue){if(!i(Ue))return;const et=o(Ue.scope,{prefix:this.classPrefix});this.span(et)}closeNode(Ue){i(Ue)&&(this.buffer+=a)}value(){return this.buffer}span(Ue){this.buffer+=`<span class="${Ue}">`}}const u=(be={})=>{const Ue={children:[]};return Object.assign(Ue,be),Ue};class d{constructor(){this.rootNode=u(),this.stack=[this.rootNode]}get top(){return this.stack[this.stack.length-1]}get root(){return this.rootNode}add(Ue){this.top.children.push(Ue)}openNode(Ue){const et=u({scope:Ue});this.add(et),this.stack.push(et)}closeNode(){if(this.stack.length>1)return this.stack.pop()}closeAllNodes(){for(;this.closeNode(););}toJSON(){return JSON.stringify(this.rootNode,null,4)}walk(Ue){return this.constructor._walk(Ue,this.rootNode)}static _walk(Ue,et){return typeof et=="string"?Ue.addText(et):et.children&&(Ue.openNode(et),et.children.forEach(Ht=>this._walk(Ue,Ht)),Ue.closeNode(et)),Ue}static _collapse(Ue){typeof Ue!="string"&&Ue.children&&(Ue.children.every(et=>typeof et=="string")?Ue.children=[Ue.children.join("")]:Ue.children.forEach(et=>{d._collapse(et)}))}}class h extends d{constructor(Ue){super(),this.options=Ue}addText(Ue){Ue!==""&&this.add(Ue)}startScope(Ue){this.openNode(Ue)}endScope(){this.closeNode()}__addSublanguage(Ue,et){const Ht=Ue.root;et&&(Ht.scope=`language:${et}`),this.add(Ht)}toHTML(){return new l(this,this.options).value()}finalize(){return this.closeAllNodes(),!0}}function g(be){return be?typeof be=="string"?be:be.source:null}function f(be){return E("(?=",be,")")}function b(be){return E("(?:",be,")*")}function x(be){return E("(?:",be,")?")}function E(...be){return be.map(et=>g(et)).join("")}function v(be){const Ue=be[be.length-1];return typeof Ue=="object"&&Ue.constructor===Object?(be.splice(be.length-1,1),Ue):{}}function T(...be){return"("+(v(be).capture?"":"?:")+be.map(Ht=>g(Ht)).join("|")+")"}function w(be){return new RegExp(be.toString()+"|").exec("").length-1}function N(be,Ue){const et=be&&be.exec(Ue);return et&&et.index===0}const R=/\[(?:[^\\\]]|\\.)*\]|\(\??|\\([1-9][0-9]*)|\\./;function D(be,{joinWith:Ue}){let et=0;return be.map(Ht=>{et+=1;const Ar=et;let Ur=g(Ht),It="";for(;Ur.length>0;){const At=R.exec(Ur);if(!At){It+=Ur;break}It+=Ur.substring(0,At.index),Ur=Ur.substring(At.index+At[0].length),At[0][0]==="\\"&&At[1]?It+="\\"+String(Number(At[1])+Ar):(It+=At[0],At[0]==="("&&et++)}return It}).map(Ht=>`(${Ht})`).join(Ue)}const L=/\b\B/,j="[a-zA-Z]\\w*",B="[a-zA-Z_]\\w*",q="\\b\\d+(\\.\\d+)?",z="(-?)(\\b0[xX][a-fA-F0-9]+|(\\b\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)",K="\\b(0b[01]+)",X="!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~",Q=(be={})=>{const Ue=/^#![ ]*\//;return be.binary&&(be.begin=E(Ue,/.*\b/,be.binary,/\b.*/)),n({scope:"meta",begin:Ue,end:/$/,relevance:0,"on:begin":(et,Ht)=>{et.index!==0&&Ht.ignoreMatch()}},be)},O={begin:"\\\\[\\s\\S]",relevance:0},H={scope:"string",begin:"'",end:"'",illegal:"\\n",contains:[O]},$={scope:"string",begin:'"',end:'"',illegal:"\\n",contains:[O]},Y={begin:/\b(a|an|the|are|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such|will|you|your|they|like|more)\b/},V=function(be,Ue,et={}){const Ht=n({scope:"comment",begin:be,end:Ue,contains:[]},et);Ht.contains.push({scope:"doctag",begin:"[ ]*(?=(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):)",end:/(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):/,excludeBegin:!0,relevance:0});const Ar=T("I","a","is","so","us","to","at","if","in","it","on",/[A-Za-z]+['](d|ve|re|ll|t|s|n)/,/[A-Za-z]+[-][a-z]+/,/[A-Za-z][a-z]{2,}/);return Ht.contains.push({begin:E(/[ ]+/,"(",Ar,/[.]?[:]?([.][ ]|[ ])/,"){3}")}),Ht},ne=V("//","$"),P=V("/\\*","\\*/"),I=V("#","$"),G={scope:"number",begin:q,relevance:0},F={scope:"number",begin:z,relevance:0},ie={scope:"number",begin:K,relevance:0},he={scope:"regexp",begin:/\/(?=[^/\n]*\/)/,end:/\/[gimuy]*/,contains:[O,{begin:/\[/,end:/\]/,relevance:0,contains:[O]}]},ye={scope:"title",begin:j,relevance:0},ge={scope:"title",begin:B,relevance:0},pe={begin:"\\.\\s*"+B,relevance:0};var Ee=Object.freeze({__proto__:null,APOS_STRING_MODE:H,BACKSLASH_ESCAPE:O,BINARY_NUMBER_MODE:ie,BINARY_NUMBER_RE:K,COMMENT:V,C_BLOCK_COMMENT_MODE:P,C_LINE_COMMENT_MODE:ne,C_NUMBER_MODE:F,C_NUMBER_RE:z,END_SAME_AS_BEGIN:function(be){return Object.assign(be,{"on:begin":(Ue,et)=>{et.data._beginMatch=Ue[1]},"on:end":(Ue,et)=>{et.data._beginMatch!==Ue[1]&&et.ignoreMatch()}})},HASH_COMMENT_MODE:I,IDENT_RE:j,MATCH_NOTHING_RE:L,METHOD_GUARD:pe,NUMBER_MODE:G,NUMBER_RE:q,PHRASAL_WORDS_MODE:Y,QUOTE_STRING_MODE:$,REGEXP_MODE:he,RE_STARTERS_RE:X,SHEBANG:Q,TITLE_MODE:ye,UNDERSCORE_IDENT_RE:B,UNDERSCORE_TITLE_MODE:ge});function we(be,Ue){be.input[be.index-1]==="."&&Ue.ignoreMatch()}function Je(be,Ue){be.className!==void 0&&(be.scope=be.className,delete be.className)}function Ke(be,Ue){Ue&&be.beginKeywords&&(be.begin="\\b("+be.beginKeywords.split(" ").join("|")+")(?!\\.)(?=\\b|\\s)",be.__beforeBegin=we,be.keywords=be.keywords||be.beginKeywords,delete be.beginKeywords,be.relevance===void 0&&(be.relevance=0))}function ze(be,Ue){Array.isArray(be.illegal)&&(be.illegal=T(...be.illegal))}function Vt(be,Ue){if(be.match){if(be.begin||be.end)throw new Error("begin & end are not supported with match");be.begin=be.match,delete be.match}}function kt(be,Ue){be.relevance===void 0&&(be.relevance=1)}const wt=(be,Ue)=>{if(!be.beforeMatch)return;if(be.starts)throw new Error("beforeMatch cannot be used with starts");const et=Object.assign({},be);Object.keys(be).forEach(Ht=>{delete be[Ht]}),be.keywords=et.keywords,be.begin=E(et.beforeMatch,f(et.begin)),be.starts={relevance:0,contains:[Object.assign(et,{endsParent:!0})]},be.relevance=0,delete et.beforeMatch},_t=["of","and","for","in","not","or","if","then","parent","list","value"],jt="keyword";function mt(be,Ue,et=jt){const Ht=Object.create(null);return typeof be=="string"?Ar(et,be.split(" ")):Array.isArray(be)?Ar(et,be):Object.keys(be).forEach(function(Ur){Object.assign(Ht,mt(be[Ur],Ue,Ur))}),Ht;function Ar(Ur,It){Ue&&(It=It.map(At=>At.toLowerCase())),It.forEach(function(At){const er=At.split("|");Ht[er[0]]=[Ur,zt(er[0],er[1])]})}}function zt(be,Ue){return Ue?Number(Ue):ar(be)?0:1}function ar(be){return _t.includes(be.toLowerCase())}const kr={},dr=be=>{console.error(be)},Jt=(be,...Ue)=>{console.log(`WARN: ${be}`,...Ue)},le=(be,Ue)=>{kr[`${be}/${Ue}`]||(console.log(`Deprecated as of ${be}. ${Ue}`),kr[`${be}/${Ue}`]=!0)},se=new Error;function Ce(be,Ue,{key:et}){let Ht=0;const Ar=be[et],Ur={},It={};for(let At=1;At<=Ue.length;At++)It[At+Ht]=Ar[At],Ur[At+Ht]=!0,Ht+=w(Ue[At-1]);be[et]=It,be[et]._emit=Ur,be[et]._multi=!0}function De(be){if(Array.isArray(be.begin)){if(be.skip||be.excludeBegin||be.returnBegin)throw dr("skip, excludeBegin, returnBegin not compatible with beginScope: {}"),se;if(typeof be.beginScope!="object"||be.beginScope===null)throw dr("beginScope must be object"),se;Ce(be,be.begin,{key:"beginScope"}),be.begin=D(be.begin,{joinWith:""})}}function dt(be){if(Array.isArray(be.end)){if(be.skip||be.excludeEnd||be.returnEnd)throw dr("skip, excludeEnd, returnEnd not compatible with endScope: {}"),se;if(typeof be.endScope!="object"||be.endScope===null)throw dr("endScope must be object"),se;Ce(be,be.end,{key:"endScope"}),be.end=D(be.end,{joinWith:""})}}function lt(be){be.scope&&typeof be.scope=="object"&&be.scope!==null&&(be.beginScope=be.scope,delete be.scope)}function qt(be){lt(be),typeof be.beginScope=="string"&&(be.beginScope={_wrap:be.beginScope}),typeof be.endScope=="string"&&(be.endScope={_wrap:be.endScope}),De(be),dt(be)}function Ft(be){function Ue(It,At){return new RegExp(g(It),"m"+(be.case_insensitive?"i":"")+(be.unicodeRegex?"u":"")+(At?"g":""))}class et{constructor(){this.matchIndexes={},this.regexes=[],this.matchAt=1,this.position=0}addRule(At,er){er.position=this.position++,this.matchIndexes[this.matchAt]=er,this.regexes.push([er,At]),this.matchAt+=w(At)+1}compile(){this.regexes.length===0&&(this.exec=()=>null);const At=this.regexes.map(er=>er[1]);this.matcherRe=Ue(D(At,{joinWith:"|"}),!0),this.lastIndex=0}exec(At){this.matcherRe.lastIndex=this.lastIndex;const er=this.matcherRe.exec(At);if(!er)return null;const fn=er.findIndex((Gn,xs)=>xs>0&&Gn!==void 0),Nr=this.matchIndexes[fn];return er.splice(0,fn),Object.assign(er,Nr)}}class Ht{constructor(){this.rules=[],this.multiRegexes=[],this.count=0,this.lastIndex=0,this.regexIndex=0}getMatcher(At){if(this.multiRegexes[At])return this.multiRegexes[At];const er=new et;return this.rules.slice(At).forEach(([fn,Nr])=>er.addRule(fn,Nr)),er.compile(),this.multiRegexes[At]=er,er}resumingScanAtSamePosition(){return this.regexIndex!==0}considerAll(){this.regexIndex=0}addRule(At,er){this.rules.push([At,er]),er.type==="begin"&&this.count++}exec(At){const er=this.getMatcher(this.regexIndex);er.lastIndex=this.lastIndex;let fn=er.exec(At);if(this.resumingScanAtSamePosition()&&!(fn&&fn.index===this.lastIndex)){const Nr=this.getMatcher(0);Nr.lastIndex=this.lastIndex+1,fn=Nr.exec(At)}return fn&&(this.regexIndex+=fn.position+1,this.regexIndex===this.count&&this.considerAll()),fn}}function Ar(It){const At=new Ht;return It.contains.forEach(er=>At.addRule(er.begin,{rule:er,type:"begin"})),It.terminatorEnd&&At.addRule(It.terminatorEnd,{type:"end"}),It.illegal&&At.addRule(It.illegal,{type:"illegal"}),At}function Ur(It,At){const er=It;if(It.isCompiled)return er;[Je,Vt,qt,wt].forEach(Nr=>Nr(It,At)),be.compilerExtensions.forEach(Nr=>Nr(It,At)),It.__beforeBegin=null,[Ke,ze,kt].forEach(Nr=>Nr(It,At)),It.isCompiled=!0;let fn=null;return typeof It.keywords=="object"&&It.keywords.$pattern&&(It.keywords=Object.assign({},It.keywords),fn=It.keywords.$pattern,delete It.keywords.$pattern),fn=fn||/\w+/,It.keywords&&(It.keywords=mt(It.keywords,be.case_insensitive)),er.keywordPatternRe=Ue(fn,!0),At&&(It.begin||(It.begin=/\B|\b/),er.beginRe=Ue(er.begin),!It.end&&!It.endsWithParent&&(It.end=/\B|\b/),It.end&&(er.endRe=Ue(er.end)),er.terminatorEnd=g(er.end)||"",It.endsWithParent&&At.terminatorEnd&&(er.terminatorEnd+=(It.end?"|":"")+At.terminatorEnd)),It.illegal&&(er.illegalRe=Ue(It.illegal)),It.contains||(It.contains=[]),It.contains=[].concat(...It.contains.map(function(Nr){return je(Nr==="self"?It:Nr)})),It.contains.forEach(function(Nr){Ur(Nr,er)}),It.starts&&Ur(It.starts,At),er.matcher=Ar(er),er}if(be.compilerExtensions||(be.compilerExtensions=[]),be.contains&&be.contains.includes("self"))throw new Error("ERR: contains `self` is not supported at the top-level of a language.  See documentation.");return be.classNameAliases=n(be.classNameAliases||{}),Ur(be)}function Ct(be){return be?be.endsWithParent||Ct(be.starts):!1}function je(be){return be.variants&&!be.cachedVariants&&(be.cachedVariants=be.variants.map(function(Ue){return n(be,{variants:null},Ue)})),be.cachedVariants?be.cachedVariants:Ct(be)?n(be,{starts:be.starts?n(be.starts):null}):Object.isFrozen(be)?n(be):be}var it="11.11.1";class mr extends Error{constructor(Ue,et){super(Ue),this.name="HTMLInjectionError",this.html=et}}const Ut=r,Qr=n,Mt=Symbol("nomatch"),nn=7,Bn=function(be){const Ue=Object.create(null),et=Object.create(null),Ht=[];let Ar=!0;const Ur="Could not find the language '{}', did you forget to load/include a language module?",It={disableAutodetect:!0,name:"Plain text",contains:[]};let At={ignoreUnescapedHTML:!1,throwUnescapedHTML:!1,noHighlightRe:/^(no-?highlight)$/i,languageDetectRe:/\blang(?:uage)?-([\w-]+)\b/i,classPrefix:"hljs-",cssSelector:"pre code",languages:null,__emitter:h};function er(ct){return At.noHighlightRe.test(ct)}function fn(ct){let Rt=ct.className+" ";Rt+=ct.parentNode?ct.parentNode.className:"";const Er=At.languageDetectRe.exec(Rt);if(Er){const Rr=nt(Er[1]);return Rr||(Jt(Ur.replace("{}",Er[1])),Jt("Falling back to no-highlight mode for this block.",ct)),Rr?Er[1]:"no-highlight"}return Rt.split(/\s+/).find(Rr=>er(Rr)||nt(Rr))}function Nr(ct,Rt,Er){let Rr="",Mn="";typeof Rt=="object"?(Rr=ct,Er=Rt.ignoreIllegals,Mn=Rt.language):(le("10.7.0","highlight(lang, code, ...args) has been deprecated."),le("10.7.0",`Please use highlight(code, options) instead.
https://github.com/highlightjs/highlight.js/issues/2277`),Mn=ct,Rr=Rt),Er===void 0&&(Er=!0);const Pn={code:Rr,language:Mn};xn("before:highlight",Pn);const ya=Pn.result?Pn.result:Gn(Pn.language,Pn.code,Er);return ya.code=Pn.code,xn("after:highlight",ya),ya}function Gn(ct,Rt,Er,Rr){const Mn=Object.create(null);function Pn(Xe,Lt){return Xe.keywords[Lt]}function ya(){if(!rr.keywords){Se.addText($e);return}let Xe=0;rr.keywordPatternRe.lastIndex=0;let Lt=rr.keywordPatternRe.exec($e),Bt="";for(;Lt;){Bt+=$e.substring(Xe,Lt.index);const Kt=Kn.case_insensitive?Lt[0].toLowerCase():Lt[0],Br=Pn(rr,Kt);if(Br){const[sa,Na]=Br;if(Se.addText(Bt),Bt="",Mn[Kt]=(Mn[Kt]||0)+1,Mn[Kt]<=nn&&(Nt+=Na),sa.startsWith("_"))Bt+=Lt[0];else{const Mr=Kn.classNameAliases[sa]||sa;En(Lt[0],Mr)}}else Bt+=Lt[0];Xe=rr.keywordPatternRe.lastIndex,Lt=rr.keywordPatternRe.exec($e)}Bt+=$e.substring(Xe),Se.addText(Bt)}function Aa(){if($e==="")return;let Xe=null;if(typeof rr.subLanguage=="string"){if(!Ue[rr.subLanguage]){Se.addText($e);return}Xe=Gn(rr.subLanguage,$e,!0,de[rr.subLanguage]),de[rr.subLanguage]=Xe._top}else Xe=lr($e,rr.subLanguage.length?rr.subLanguage:null);rr.relevance>0&&(Nt+=Xe.relevance),Se.__addSublanguage(Xe._emitter,Xe.language)}function an(){rr.subLanguage!=null?Aa():ya(),$e=""}function En(Xe,Lt){Xe!==""&&(Se.startScope(Lt),Se.addText(Xe),Se.endScope())}function Yi(Xe,Lt){let Bt=1;const Kt=Lt.length-1;for(;Bt<=Kt;){if(!Xe._emit[Bt]){Bt++;continue}const Br=Kn.classNameAliases[Xe[Bt]]||Xe[Bt],sa=Lt[Bt];Br?En(sa,Br):($e=sa,ya(),$e=""),Bt++}}function Vi(Xe,Lt){return Xe.scope&&typeof Xe.scope=="string"&&Se.openNode(Kn.classNameAliases[Xe.scope]||Xe.scope),Xe.beginScope&&(Xe.beginScope._wrap?(En($e,Kn.classNameAliases[Xe.beginScope._wrap]||Xe.beginScope._wrap),$e=""):Xe.beginScope._multi&&(Yi(Xe.beginScope,Lt),$e="")),rr=Object.create(Xe,{parent:{value:rr}}),rr}function si(Xe,Lt,Bt){let Kt=N(Xe.endRe,Bt);if(Kt){if(Xe["on:end"]){const Br=new t(Xe);Xe["on:end"](Lt,Br),Br.isMatchIgnored&&(Kt=!1)}if(Kt){for(;Xe.endsParent&&Xe.parent;)Xe=Xe.parent;return Xe}}if(Xe.endsWithParent)return si(Xe.parent,Lt,Bt)}function Ki(Xe){return rr.matcher.regexIndex===0?($e+=Xe[0],1):(un=!0,0)}function vo(Xe){const Lt=Xe[0],Bt=Xe.rule,Kt=new t(Bt),Br=[Bt.__beforeBegin,Bt["on:begin"]];for(const sa of Br)if(sa&&(sa(Xe,Kt),Kt.isMatchIgnored))return Ki(Lt);return Bt.skip?$e+=Lt:(Bt.excludeBegin&&($e+=Lt),an(),!Bt.returnBegin&&!Bt.excludeBegin&&($e=Lt)),Vi(Bt,Xe),Bt.returnBegin?0:Lt.length}function ua(Xe){const Lt=Xe[0],Bt=Rt.substring(Xe.index),Kt=si(rr,Xe,Bt);if(!Kt)return Mt;const Br=rr;rr.endScope&&rr.endScope._wrap?(an(),En(Lt,rr.endScope._wrap)):rr.endScope&&rr.endScope._multi?(an(),Yi(rr.endScope,Xe)):Br.skip?$e+=Lt:(Br.returnEnd||Br.excludeEnd||($e+=Lt),an(),Br.excludeEnd&&($e=Lt));do rr.scope&&Se.closeNode(),!rr.skip&&!rr.subLanguage&&(Nt+=rr.relevance),rr=rr.parent;while(rr!==Kt.parent);return Kt.starts&&Vi(Kt.starts,Xe),Br.returnEnd?0:Lt.length}function ii(){const Xe=[];for(let Lt=rr;Lt!==Kn;Lt=Lt.parent)Lt.scope&&Xe.unshift(Lt.scope);Xe.forEach(Lt=>Se.openNode(Lt))}let vs={};function Si(Xe,Lt){const Bt=Lt&&Lt[0];if($e+=Xe,Bt==null)return an(),0;if(vs.type==="begin"&&Lt.type==="end"&&vs.index===Lt.index&&Bt===""){if($e+=Rt.slice(Lt.index,Lt.index+1),!Ar){const Kt=new Error(`0 width match regex (${ct})`);throw Kt.languageName=ct,Kt.badRule=vs.rule,Kt}return 1}if(vs=Lt,Lt.type==="begin")return vo(Lt);if(Lt.type==="illegal"&&!Er){const Kt=new Error('Illegal lexeme "'+Bt+'" for mode "'+(rr.scope||"<unnamed>")+'"');throw Kt.mode=rr,Kt}else if(Lt.type==="end"){const Kt=ua(Lt);if(Kt!==Mt)return Kt}if(Lt.type==="illegal"&&Bt==="")return $e+=`
`,1;if(Ir>1e5&&Ir>Lt.index*3)throw new Error("potential infinite loop, way more iterations than matches");return $e+=Bt,Bt.length}const Kn=nt(ct);if(!Kn)throw dr(Ur.replace("{}",ct)),new Error('Unknown language: "'+ct+'"');const So=Ft(Kn);let Qi="",rr=Rr||So;const de={},Se=new At.__emitter(At);ii();let $e="",Nt=0,pr=0,Ir=0,un=!1;try{if(Kn.__emitTokens)Kn.__emitTokens(Rt,Se);else{for(rr.matcher.considerAll();;){Ir++,un?un=!1:rr.matcher.considerAll(),rr.matcher.lastIndex=pr;const Xe=rr.matcher.exec(Rt);if(!Xe)break;const Lt=Rt.substring(pr,Xe.index),Bt=Si(Lt,Xe);pr=Xe.index+Bt}Si(Rt.substring(pr))}return Se.finalize(),Qi=Se.toHTML(),{language:ct,value:Qi,relevance:Nt,illegal:!1,_emitter:Se,_top:rr}}catch(Xe){if(Xe.message&&Xe.message.includes("Illegal"))return{language:ct,value:Ut(Rt),illegal:!0,relevance:0,_illegalBy:{message:Xe.message,index:pr,context:Rt.slice(pr-100,pr+100),mode:Xe.mode,resultSoFar:Qi},_emitter:Se};if(Ar)return{language:ct,value:Ut(Rt),illegal:!1,relevance:0,errorRaised:Xe,_emitter:Se,_top:rr};throw Xe}}function xs(ct){const Rt={value:Ut(ct),illegal:!1,relevance:0,_top:It,_emitter:new At.__emitter(At)};return Rt._emitter.addText(ct),Rt}function lr(ct,Rt){Rt=Rt||At.languages||Object.keys(Ue);const Er=xs(ct),Rr=Rt.filter(nt).filter(Fr).map(an=>Gn(an,ct,!1));Rr.unshift(Er);const Mn=Rr.sort((an,En)=>{if(an.relevance!==En.relevance)return En.relevance-an.relevance;if(an.language&&En.language){if(nt(an.language).supersetOf===En.language)return 1;if(nt(En.language).supersetOf===an.language)return-1}return 0}),[Pn,ya]=Mn,Aa=Pn;return Aa.secondBest=ya,Aa}function fa(ct,Rt,Er){const Rr=Rt&&et[Rt]||Er;ct.classList.add("hljs"),ct.classList.add(`language-${Rr}`)}function en(ct){let Rt=null;const Er=fn(ct);if(er(Er))return;if(xn("before:highlightElement",{el:ct,language:Er}),ct.dataset.highlighted){console.log("Element previously highlighted. To highlight again, first unset `dataset.highlighted`.",ct);return}if(ct.children.length>0&&(At.ignoreUnescapedHTML||(console.warn("One of your code blocks includes unescaped HTML. This is a potentially serious security risk."),console.warn("https://github.com/highlightjs/highlight.js/wiki/security"),console.warn("The element with unescaped HTML:"),console.warn(ct)),At.throwUnescapedHTML))throw new mr("One of your code blocks includes unescaped HTML.",ct.innerHTML);Rt=ct;const Rr=Rt.textContent,Mn=Er?Nr(Rr,{language:Er,ignoreIllegals:!0}):lr(Rr);ct.innerHTML=Mn.value,ct.dataset.highlighted="yes",fa(ct,Er,Mn.language),ct.result={language:Mn.language,re:Mn.relevance,relevance:Mn.relevance},Mn.secondBest&&(ct.secondBest={language:Mn.secondBest.language,relevance:Mn.secondBest.relevance}),xn("after:highlightElement",{el:ct,result:Mn,text:Rr})}function cn(ct){At=Qr(At,ct)}const Ba=()=>{as(),le("10.6.0","initHighlighting() deprecated.  Use highlightAll() now.")};function ba(){as(),le("10.6.0","initHighlightingOnLoad() deprecated.  Use highlightAll() now.")}let ns=!1;function as(){function ct(){as()}if(document.readyState==="loading"){ns||window.addEventListener("DOMContentLoaded",ct,!1),ns=!0;return}document.querySelectorAll(At.cssSelector).forEach(en)}function Es(ct,Rt){let Er=null;try{Er=Rt(be)}catch(Rr){if(dr("Language definition for '{}' could not be registered.".replace("{}",ct)),Ar)dr(Rr);else throw Rr;Er=It}Er.name||(Er.name=ct),Ue[ct]=Er,Er.rawDefinition=Rt.bind(null,be),Er.aliases&&Dt(Er.aliases,{languageName:ct})}function Pt(ct){delete Ue[ct];for(const Rt of Object.keys(et))et[Rt]===ct&&delete et[Rt]}function ve(){return Object.keys(Ue)}function nt(ct){return ct=(ct||"").toLowerCase(),Ue[ct]||Ue[et[ct]]}function Dt(ct,{languageName:Rt}){typeof ct=="string"&&(ct=[ct]),ct.forEach(Er=>{et[Er.toLowerCase()]=Rt})}function Fr(ct){const Rt=nt(ct);return Rt&&!Rt.disableAutodetect}function yn(ct){ct["before:highlightBlock"]&&!ct["before:highlightElement"]&&(ct["before:highlightElement"]=Rt=>{ct["before:highlightBlock"](Object.assign({block:Rt.el},Rt))}),ct["after:highlightBlock"]&&!ct["after:highlightElement"]&&(ct["after:highlightElement"]=Rt=>{ct["after:highlightBlock"](Object.assign({block:Rt.el},Rt))})}function Sr(ct){yn(ct),Ht.push(ct)}function ra(ct){const Rt=Ht.indexOf(ct);Rt!==-1&&Ht.splice(Rt,1)}function xn(ct,Rt){const Er=ct;Ht.forEach(function(Rr){Rr[Er]&&Rr[Er](Rt)})}function wn(ct){return le("10.7.0","highlightBlock will be removed entirely in v12.0"),le("10.7.0","Please use highlightElement now."),en(ct)}Object.assign(be,{highlight:Nr,highlightAuto:lr,highlightAll:as,highlightElement:en,highlightBlock:wn,configure:cn,initHighlighting:Ba,initHighlightingOnLoad:ba,registerLanguage:Es,unregisterLanguage:Pt,listLanguages:ve,getLanguage:nt,registerAliases:Dt,autoDetection:Fr,inherit:Qr,addPlugin:Sr,removePlugin:ra}),be.debugMode=function(){Ar=!1},be.safeMode=function(){Ar=!0},be.versionString=it,be.regex={concat:E,lookahead:f,either:T,optional:x,anyNumberOfTimes:b};for(const ct in Ee)typeof Ee[ct]=="object"&&e(Ee[ct]);return Object.assign(be,Ee),be},Xr=Bn({});return Xr.newInstance=()=>Bn({}),IS=Xr,Xr.HighlightJS=Xr,Xr.default=Xr,IS}var Xce=Qce();const Zce=Al(Xce),HO={},Jce="hljs-";function eue(e){const t=Zce.newInstance();return e&&i(e),{highlight:r,highlightAuto:n,listLanguages:a,register:i,registerAlias:o,registered:l};function r(u,d,h){const g=h||HO,f=typeof g.prefix=="string"?g.prefix:Jce;if(!t.getLanguage(u))throw new Error("Unknown language: `"+u+"` is not registered");t.configure({__emitter:tue,classPrefix:f});const b=t.highlight(d,{ignoreIllegals:!0,language:u});if(b.errorRaised)throw new Error("Could not highlight with `Highlight.js`",{cause:b.errorRaised});const x=b._emitter.root,E=x.data;return E.language=b.language,E.relevance=b.relevance,x}function n(u,d){const g=(d||HO).subset||a();let f=-1,b=0,x;for(;++f<g.length;){const E=g[f];if(!t.getLanguage(E))continue;const v=r(E,u,d);v.data&&v.data.relevance!==void 0&&v.data.relevance>b&&(b=v.data.relevance,x=v)}return x||{type:"root",children:[],data:{language:void 0,relevance:b}}}function a(){return t.listLanguages()}function i(u,d){if(typeof u=="string")t.registerLanguage(u,d);else{let h;for(h in u)Object.hasOwn(u,h)&&t.registerLanguage(h,u[h])}}function o(u,d){if(typeof u=="string")t.registerAliases(typeof d=="string"?d:[...d],{languageName:u});else{let h;for(h in u)if(Object.hasOwn(u,h)){const g=u[h];t.registerAliases(typeof g=="string"?g:[...g],{languageName:h})}}}function l(u){return!!t.getLanguage(u)}}class tue{constructor(t){this.options=t,this.root={type:"root",children:[],data:{language:void 0,relevance:0}},this.stack=[this.root]}addText(t){if(t==="")return;const r=this.stack[this.stack.length-1],n=r.children[r.children.length-1];n&&n.type==="text"?n.value+=t:r.children.push({type:"text",value:t})}startScope(t){this.openNode(String(t))}endScope(){this.closeNode()}__addSublanguage(t,r){const n=this.stack[this.stack.length-1],a=t.root.children;r?n.children.push({type:"element",tagName:"span",properties:{className:[r]},children:a}):n.children.push(...a)}openNode(t){const r=this,n=t.split(".").map(function(o,l){return l?o+"_".repeat(l):r.options.classPrefix+o}),a=this.stack[this.stack.length-1],i={type:"element",tagName:"span",properties:{className:n},children:[]};a.children.push(i),this.stack.push(i)}closeNode(){this.stack.pop()}finalize(){}toHTML(){return""}}const rue={};function nue(e){const t=e||rue,r=t.aliases,n=t.detect||!1,a=t.languages||Kce,i=t.plainText,o=t.prefix,l=t.subset;let u="hljs";const d=eue(a);if(r&&d.registerAlias(r),o){const h=o.indexOf("-");u=h===-1?o:o.slice(0,h)}return function(h,g){Ja(h,"element",function(f,b,x){if(f.tagName!=="code"||!x||x.type!=="element"||x.tagName!=="pre")return;const E=aue(f);if(E===!1||!E&&!n||E&&i&&i.includes(E))return;Array.isArray(f.properties.className)||(f.properties.className=[]),f.properties.className.includes(u)||f.properties.className.unshift(u);const v=Sle(f,{whitespace:"pre"});let T;try{T=E?d.highlight(E,v,{prefix:o}):d.highlightAuto(v,{prefix:o,subset:l})}catch(w){const N=w;if(E&&/Unknown language/.test(N.message)){g.message("Cannot highlight as `"+E+"`, its not registered",{ancestors:[x,f],cause:N,place:f.position,ruleId:"missing-language",source:"rehype-highlight"});return}throw N}!E&&T.data&&T.data.language&&f.properties.className.push("language-"+T.data.language),T.children.length>0&&(f.children=T.children)})}}function aue(e){const t=e.properties.className;let r=-1;if(!Array.isArray(t))return;let n;for(;++r<t.length;){const a=String(t[r]);if(a==="no-highlight"||a==="nohighlight")return!1;!n&&a.slice(0,5)==="lang-"&&(n=a.slice(5)),!n&&a.slice(0,9)==="language-"&&(n=a.slice(9))}return n}var zO={name:"mermaid",version:"11.12.0",description:"Markdown-ish syntax for generating flowcharts, mindmaps, sequence diagrams, class diagrams, gantt charts, git graphs and more.",type:"module",module:"./dist/mermaid.core.mjs",types:"./dist/mermaid.d.ts",exports:{".":{types:"./dist/mermaid.d.ts",import:"./dist/mermaid.core.mjs",default:"./dist/mermaid.core.mjs"},"./*":"./*"},keywords:["diagram","markdown","flowchart","sequence diagram","gantt","class diagram","git graph","mindmap","packet diagram","c4 diagram","er diagram","pie chart","pie diagram","quadrant chart","requirement diagram","graph"],scripts:{clean:"rimraf dist",dev:"pnpm -w dev","docs:code":"typedoc src/defaultConfig.ts src/config.ts src/mermaid.ts && prettier --write ./src/docs/config/setup","docs:build":"rimraf ../../docs && pnpm docs:code && pnpm docs:spellcheck && tsx scripts/docs.cli.mts","docs:verify":"pnpm docs:code && pnpm docs:spellcheck && tsx scripts/docs.cli.mts --verify","docs:pre:vitepress":"pnpm --filter ./src/docs prefetch && rimraf src/vitepress && pnpm docs:code && tsx scripts/docs.cli.mts --vitepress && pnpm --filter ./src/vitepress install --no-frozen-lockfile --ignore-scripts","docs:build:vitepress":"pnpm docs:pre:vitepress && (cd src/vitepress && pnpm run build) && cpy --flat src/docs/landing/ ./src/vitepress/.vitepress/dist/landing","docs:dev":'pnpm docs:pre:vitepress && concurrently "pnpm --filter ./src/vitepress dev" "tsx scripts/docs.cli.mts --watch --vitepress"',"docs:dev:docker":'pnpm docs:pre:vitepress && concurrently "pnpm --filter ./src/vitepress dev:docker" "tsx scripts/docs.cli.mts --watch --vitepress"',"docs:serve":"pnpm docs:build:vitepress && vitepress serve src/vitepress","docs:spellcheck":'cspell "src/docs/**/*.md"',"docs:release-version":"tsx scripts/update-release-version.mts","docs:verify-version":"tsx scripts/update-release-version.mts --verify","types:build-config":"tsx scripts/create-types-from-json-schema.mts","types:verify-config":"tsx scripts/create-types-from-json-schema.mts --verify",checkCircle:"npx madge --circular ./src",prepublishOnly:"pnpm docs:verify-version"},repository:{type:"git",url:"https://github.com/mermaid-js/mermaid"},author:"Knut Sveidqvist",license:"MIT",standard:{ignore:["**/parser/*.js","dist/**/*.js","cypress/**/*.js"],globals:["page"]},dependencies:{"@braintree/sanitize-url":"^7.1.1","@iconify/utils":"^3.0.1","@mermaid-js/parser":"workspace:^","@types/d3":"^7.4.3",cytoscape:"^3.29.3","cytoscape-cose-bilkent":"^4.1.0","cytoscape-fcose":"^2.2.0",d3:"^7.9.0","d3-sankey":"^0.12.3","dagre-d3-es":"7.0.11",dayjs:"^1.11.18",dompurify:"^3.2.5",katex:"^0.16.22",khroma:"^2.1.0","lodash-es":"^4.17.21",marked:"^16.2.1",roughjs:"^4.6.6",stylis:"^4.3.6","ts-dedent":"^2.2.0",uuid:"^11.1.0"},devDependencies:{"@adobe/jsonschema2md":"^8.0.5","@iconify/types":"^2.0.0","@types/cytoscape":"^3.21.9","@types/cytoscape-fcose":"^2.2.4","@types/d3-sankey":"^0.12.4","@types/d3-scale":"^4.0.9","@types/d3-scale-chromatic":"^3.1.0","@types/d3-selection":"^3.0.11","@types/d3-shape":"^3.1.7","@types/jsdom":"^21.1.7","@types/katex":"^0.16.7","@types/lodash-es":"^4.17.12","@types/micromatch":"^4.0.9","@types/stylis":"^4.2.7","@types/uuid":"^10.0.0",ajv:"^8.17.1",canvas:"^3.1.2",chokidar:"3.6.0",concurrently:"^9.1.2","csstree-validator":"^4.0.1",globby:"^14.1.0",jison:"^0.4.18","js-base64":"^3.7.8",jsdom:"^26.1.0","json-schema-to-typescript":"^15.0.4",micromatch:"^4.0.8","path-browserify":"^1.0.1",prettier:"^3.5.3",remark:"^15.0.1","remark-frontmatter":"^5.0.0","remark-gfm":"^4.0.1",rimraf:"^6.0.1","start-server-and-test":"^2.0.13","type-fest":"^4.35.0",typedoc:"^0.28.12","typedoc-plugin-markdown":"^4.8.1",typescript:"~5.7.3","unist-util-flatmap":"^1.0.0","unist-util-visit":"^5.0.0",vitepress:"^1.6.4","vitepress-plugin-search":"1.0.4-alpha.22"},files:["dist/","README.md"],publishConfig:{access:"public"}},nb={exports:{}},sue=nb.exports,GO;function iue(){return GO||(GO=1,(function(e,t){(function(r,n){e.exports=n()})(sue,(function(){var r=1e3,n=6e4,a=36e5,i="millisecond",o="second",l="minute",u="hour",d="day",h="week",g="month",f="quarter",b="year",x="date",E="Invalid Date",v=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,T=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,w={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(O){var H=["th","st","nd","rd"],$=O%100;return"["+O+(H[($-20)%10]||H[$]||H[0])+"]"}},N=function(O,H,$){var Y=String(O);return!Y||Y.length>=H?O:""+Array(H+1-Y.length).join($)+O},R={s:N,z:function(O){var H=-O.utcOffset(),$=Math.abs(H),Y=Math.floor($/60),V=$%60;return(H<=0?"+":"-")+N(Y,2,"0")+":"+N(V,2,"0")},m:function O(H,$){if(H.date()<$.date())return-O($,H);var Y=12*($.year()-H.year())+($.month()-H.month()),V=H.clone().add(Y,g),ne=$-V<0,P=H.clone().add(Y+(ne?-1:1),g);return+(-(Y+($-V)/(ne?V-P:P-V))||0)},a:function(O){return O<0?Math.ceil(O)||0:Math.floor(O)},p:function(O){return{M:g,y:b,w:h,d,D:x,h:u,m:l,s:o,ms:i,Q:f}[O]||String(O||"").toLowerCase().replace(/s$/,"")},u:function(O){return O===void 0}},D="en",L={};L[D]=w;var j="$isDayjsObject",B=function(O){return O instanceof X||!(!O||!O[j])},q=function O(H,$,Y){var V;if(!H)return D;if(typeof H=="string"){var ne=H.toLowerCase();L[ne]&&(V=ne),$&&(L[ne]=$,V=ne);var P=H.split("-");if(!V&&P.length>1)return O(P[0])}else{var I=H.name;L[I]=H,V=I}return!Y&&V&&(D=V),V||!Y&&D},z=function(O,H){if(B(O))return O.clone();var $=typeof H=="object"?H:{};return $.date=O,$.args=arguments,new X($)},K=R;K.l=q,K.i=B,K.w=function(O,H){return z(O,{locale:H.$L,utc:H.$u,x:H.$x,$offset:H.$offset})};var X=(function(){function O($){this.$L=q($.locale,null,!0),this.parse($),this.$x=this.$x||$.x||{},this[j]=!0}var H=O.prototype;return H.parse=function($){this.$d=(function(Y){var V=Y.date,ne=Y.utc;if(V===null)return new Date(NaN);if(K.u(V))return new Date;if(V instanceof Date)return new Date(V);if(typeof V=="string"&&!/Z$/i.test(V)){var P=V.match(v);if(P){var I=P[2]-1||0,G=(P[7]||"0").substring(0,3);return ne?new Date(Date.UTC(P[1],I,P[3]||1,P[4]||0,P[5]||0,P[6]||0,G)):new Date(P[1],I,P[3]||1,P[4]||0,P[5]||0,P[6]||0,G)}}return new Date(V)})($),this.init()},H.init=function(){var $=this.$d;this.$y=$.getFullYear(),this.$M=$.getMonth(),this.$D=$.getDate(),this.$W=$.getDay(),this.$H=$.getHours(),this.$m=$.getMinutes(),this.$s=$.getSeconds(),this.$ms=$.getMilliseconds()},H.$utils=function(){return K},H.isValid=function(){return this.$d.toString()!==E},H.isSame=function($,Y){var V=z($);return this.startOf(Y)<=V&&V<=this.endOf(Y)},H.isAfter=function($,Y){return z($)<this.startOf(Y)},H.isBefore=function($,Y){return this.endOf(Y)<z($)},H.$g=function($,Y,V){return K.u($)?this[Y]:this.set(V,$)},H.unix=function(){return Math.floor(this.valueOf()/1e3)},H.valueOf=function(){return this.$d.getTime()},H.startOf=function($,Y){var V=this,ne=!!K.u(Y)||Y,P=K.p($),I=function(Be,Ee){var we=K.w(V.$u?Date.UTC(V.$y,Ee,Be):new Date(V.$y,Ee,Be),V);return ne?we:we.endOf(d)},G=function(Be,Ee){return K.w(V.toDate()[Be].apply(V.toDate("s"),(ne?[0,0,0,0]:[23,59,59,999]).slice(Ee)),V)},F=this.$W,ie=this.$M,he=this.$D,ye="set"+(this.$u?"UTC":"");switch(P){case b:return ne?I(1,0):I(31,11);case g:return ne?I(1,ie):I(0,ie+1);case h:var ge=this.$locale().weekStart||0,pe=(F<ge?F+7:F)-ge;return I(ne?he-pe:he+(6-pe),ie);case d:case x:return G(ye+"Hours",0);case u:return G(ye+"Minutes",1);case l:return G(ye+"Seconds",2);case o:return G(ye+"Milliseconds",3);default:return this.clone()}},H.endOf=function($){return this.startOf($,!1)},H.$set=function($,Y){var V,ne=K.p($),P="set"+(this.$u?"UTC":""),I=(V={},V[d]=P+"Date",V[x]=P+"Date",V[g]=P+"Month",V[b]=P+"FullYear",V[u]=P+"Hours",V[l]=P+"Minutes",V[o]=P+"Seconds",V[i]=P+"Milliseconds",V)[ne],G=ne===d?this.$D+(Y-this.$W):Y;if(ne===g||ne===b){var F=this.clone().set(x,1);F.$d[I](G),F.init(),this.$d=F.set(x,Math.min(this.$D,F.daysInMonth())).$d}else I&&this.$d[I](G);return this.init(),this},H.set=function($,Y){return this.clone().$set($,Y)},H.get=function($){return this[K.p($)]()},H.add=function($,Y){var V,ne=this;$=Number($);var P=K.p(Y),I=function(ie){var he=z(ne);return K.w(he.date(he.date()+Math.round(ie*$)),ne)};if(P===g)return this.set(g,this.$M+$);if(P===b)return this.set(b,this.$y+$);if(P===d)return I(1);if(P===h)return I(7);var G=(V={},V[l]=n,V[u]=a,V[o]=r,V)[P]||1,F=this.$d.getTime()+$*G;return K.w(F,this)},H.subtract=function($,Y){return this.add(-1*$,Y)},H.format=function($){var Y=this,V=this.$locale();if(!this.isValid())return V.invalidDate||E;var ne=$||"YYYY-MM-DDTHH:mm:ssZ",P=K.z(this),I=this.$H,G=this.$m,F=this.$M,ie=V.weekdays,he=V.months,ye=V.meridiem,ge=function(Ee,we,Je,Ke){return Ee&&(Ee[we]||Ee(Y,ne))||Je[we].slice(0,Ke)},pe=function(Ee){return K.s(I%12||12,Ee,"0")},Be=ye||function(Ee,we,Je){var Ke=Ee<12?"AM":"PM";return Je?Ke.toLowerCase():Ke};return ne.replace(T,(function(Ee,we){return we||(function(Je){switch(Je){case"YY":return String(Y.$y).slice(-2);case"YYYY":return K.s(Y.$y,4,"0");case"M":return F+1;case"MM":return K.s(F+1,2,"0");case"MMM":return ge(V.monthsShort,F,he,3);case"MMMM":return ge(he,F);case"D":return Y.$D;case"DD":return K.s(Y.$D,2,"0");case"d":return String(Y.$W);case"dd":return ge(V.weekdaysMin,Y.$W,ie,2);case"ddd":return ge(V.weekdaysShort,Y.$W,ie,3);case"dddd":return ie[Y.$W];case"H":return String(I);case"HH":return K.s(I,2,"0");case"h":return pe(1);case"hh":return pe(2);case"a":return Be(I,G,!0);case"A":return Be(I,G,!1);case"m":return String(G);case"mm":return K.s(G,2,"0");case"s":return String(Y.$s);case"ss":return K.s(Y.$s,2,"0");case"SSS":return K.s(Y.$ms,3,"0");case"Z":return P}return null})(Ee)||P.replace(":","")}))},H.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},H.diff=function($,Y,V){var ne,P=this,I=K.p(Y),G=z($),F=(G.utcOffset()-this.utcOffset())*n,ie=this-G,he=function(){return K.m(P,G)};switch(I){case b:ne=he()/12;break;case g:ne=he();break;case f:ne=he()/3;break;case h:ne=(ie-F)/6048e5;break;case d:ne=(ie-F)/864e5;break;case u:ne=ie/a;break;case l:ne=ie/n;break;case o:ne=ie/r;break;default:ne=ie}return V?ne:K.a(ne)},H.daysInMonth=function(){return this.endOf(g).$D},H.$locale=function(){return L[this.$L]},H.locale=function($,Y){if(!$)return this.$L;var V=this.clone(),ne=q($,Y,!0);return ne&&(V.$L=ne),V},H.clone=function(){return K.w(this.$d,this)},H.toDate=function(){return new Date(this.valueOf())},H.toJSON=function(){return this.isValid()?this.toISOString():null},H.toISOString=function(){return this.$d.toISOString()},H.toString=function(){return this.$d.toUTCString()},O})(),Q=X.prototype;return z.prototype=Q,[["$ms",i],["$s",o],["$m",l],["$H",u],["$W",d],["$M",g],["$y",b],["$D",x]].forEach((function(O){Q[O[1]]=function(H){return this.$g(H,O[0],O[1])}})),z.extend=function(O,H){return O.$i||(O(H,X,z),O.$i=!0),z},z.locale=q,z.isDayjs=B,z.unix=function(O){return z(1e3*O)},z.en=L[D],z.Ls=L,z.p={},z}))})(nb)),nb.exports}var oue=iue();const lue=Al(oue);var CF=Object.defineProperty,M=(e,t)=>CF(e,"name",{value:t,configurable:!0}),cue=(e,t)=>{for(var r in t)CF(e,r,{get:t[r],enumerable:!0})},ml={trace:0,debug:1,info:2,warn:3,error:4,fatal:5},st={trace:M((...e)=>{},"trace"),debug:M((...e)=>{},"debug"),info:M((...e)=>{},"info"),warn:M((...e)=>{},"warn"),error:M((...e)=>{},"error"),fatal:M((...e)=>{},"fatal")},ak=M(function(e="fatal"){let t=ml.fatal;typeof e=="string"?e.toLowerCase()in ml&&(t=ml[e]):typeof e=="number"&&(t=e),st.trace=()=>{},st.debug=()=>{},st.info=()=>{},st.warn=()=>{},st.error=()=>{},st.fatal=()=>{},t<=ml.fatal&&(st.fatal=console.error?console.error.bind(console,Mi("FATAL"),"color: orange"):console.log.bind(console,"\x1B[35m",Mi("FATAL"))),t<=ml.error&&(st.error=console.error?console.error.bind(console,Mi("ERROR"),"color: orange"):console.log.bind(console,"\x1B[31m",Mi("ERROR"))),t<=ml.warn&&(st.warn=console.warn?console.warn.bind(console,Mi("WARN"),"color: orange"):console.log.bind(console,"\x1B[33m",Mi("WARN"))),t<=ml.info&&(st.info=console.info?console.info.bind(console,Mi("INFO"),"color: lightblue"):console.log.bind(console,"\x1B[34m",Mi("INFO"))),t<=ml.debug&&(st.debug=console.debug?console.debug.bind(console,Mi("DEBUG"),"color: lightgreen"):console.log.bind(console,"\x1B[32m",Mi("DEBUG"))),t<=ml.trace&&(st.trace=console.debug?console.debug.bind(console,Mi("TRACE"),"color: lightgreen"):console.log.bind(console,"\x1B[32m",Mi("TRACE")))},"setLogLevel"),Mi=M(e=>`%c${lue().format("ss.SSS")} : ${e} : `,"format");const ab={min:{r:0,g:0,b:0,s:0,l:0,a:0},max:{r:255,g:255,b:255,h:360,s:100,l:100,a:1},clamp:{r:e=>e>=255?255:e<0?0:e,g:e=>e>=255?255:e<0?0:e,b:e=>e>=255?255:e<0?0:e,h:e=>e%360,s:e=>e>=100?100:e<0?0:e,l:e=>e>=100?100:e<0?0:e,a:e=>e>=1?1:e<0?0:e},toLinear:e=>{const t=e/255;return e>.03928?Math.pow((t+.055)/1.055,2.4):t/12.92},hue2rgb:(e,t,r)=>(r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e),hsl2rgb:({h:e,s:t,l:r},n)=>{if(!t)return r*2.55;e/=360,t/=100,r/=100;const a=r<.5?r*(1+t):r+t-r*t,i=2*r-a;switch(n){case"r":return ab.hue2rgb(i,a,e+1/3)*255;case"g":return ab.hue2rgb(i,a,e)*255;case"b":return ab.hue2rgb(i,a,e-1/3)*255}},rgb2hsl:({r:e,g:t,b:r},n)=>{e/=255,t/=255,r/=255;const a=Math.max(e,t,r),i=Math.min(e,t,r),o=(a+i)/2;if(n==="l")return o*100;if(a===i)return 0;const l=a-i,u=o>.5?l/(2-a-i):l/(a+i);if(n==="s")return u*100;switch(a){case e:return((t-r)/l+(t<r?6:0))*60;case t:return((r-e)/l+2)*60;case r:return((e-t)/l+4)*60;default:return-1}}},uue={clamp:(e,t,r)=>t>r?Math.min(t,Math.max(r,e)):Math.min(r,Math.max(t,e)),round:e=>Math.round(e*1e10)/1e10},due={dec2hex:e=>{const t=Math.round(e).toString(16);return t.length>1?t:`0${t}`}},vr={channel:ab,lang:uue,unit:due},sc={};for(let e=0;e<=255;e++)sc[e]=vr.unit.dec2hex(e);const cs={ALL:0,RGB:1,HSL:2};class pue{constructor(){this.type=cs.ALL}get(){return this.type}set(t){if(this.type&&this.type!==t)throw new Error("Cannot change both RGB and HSL channels at the same time");this.type=t}reset(){this.type=cs.ALL}is(t){return this.type===t}}class hue{constructor(t,r){this.color=r,this.changed=!1,this.data=t,this.type=new pue}set(t,r){return this.color=r,this.changed=!1,this.data=t,this.type.type=cs.ALL,this}_ensureHSL(){const t=this.data,{h:r,s:n,l:a}=t;r===void 0&&(t.h=vr.channel.rgb2hsl(t,"h")),n===void 0&&(t.s=vr.channel.rgb2hsl(t,"s")),a===void 0&&(t.l=vr.channel.rgb2hsl(t,"l"))}_ensureRGB(){const t=this.data,{r,g:n,b:a}=t;r===void 0&&(t.r=vr.channel.hsl2rgb(t,"r")),n===void 0&&(t.g=vr.channel.hsl2rgb(t,"g")),a===void 0&&(t.b=vr.channel.hsl2rgb(t,"b"))}get r(){const t=this.data,r=t.r;return!this.type.is(cs.HSL)&&r!==void 0?r:(this._ensureHSL(),vr.channel.hsl2rgb(t,"r"))}get g(){const t=this.data,r=t.g;return!this.type.is(cs.HSL)&&r!==void 0?r:(this._ensureHSL(),vr.channel.hsl2rgb(t,"g"))}get b(){const t=this.data,r=t.b;return!this.type.is(cs.HSL)&&r!==void 0?r:(this._ensureHSL(),vr.channel.hsl2rgb(t,"b"))}get h(){const t=this.data,r=t.h;return!this.type.is(cs.RGB)&&r!==void 0?r:(this._ensureRGB(),vr.channel.rgb2hsl(t,"h"))}get s(){const t=this.data,r=t.s;return!this.type.is(cs.RGB)&&r!==void 0?r:(this._ensureRGB(),vr.channel.rgb2hsl(t,"s"))}get l(){const t=this.data,r=t.l;return!this.type.is(cs.RGB)&&r!==void 0?r:(this._ensureRGB(),vr.channel.rgb2hsl(t,"l"))}get a(){return this.data.a}set r(t){this.type.set(cs.RGB),this.changed=!0,this.data.r=t}set g(t){this.type.set(cs.RGB),this.changed=!0,this.data.g=t}set b(t){this.type.set(cs.RGB),this.changed=!0,this.data.b=t}set h(t){this.type.set(cs.HSL),this.changed=!0,this.data.h=t}set s(t){this.type.set(cs.HSL),this.changed=!0,this.data.s=t}set l(t){this.type.set(cs.HSL),this.changed=!0,this.data.l=t}set a(t){this.changed=!0,this.data.a=t}}const qy=new hue({r:0,g:0,b:0,a:0},"transparent"),Qd={re:/^#((?:[a-f0-9]{2}){2,4}|[a-f0-9]{3})$/i,parse:e=>{if(e.charCodeAt(0)!==35)return;const t=e.match(Qd.re);if(!t)return;const r=t[1],n=parseInt(r,16),a=r.length,i=a%4===0,o=a>4,l=o?1:17,u=o?8:4,d=i?0:-1,h=o?255:15;return qy.set({r:(n>>u*(d+3)&h)*l,g:(n>>u*(d+2)&h)*l,b:(n>>u*(d+1)&h)*l,a:i?(n&h)*l/255:1},e)},stringify:e=>{const{r:t,g:r,b:n,a}=e;return a<1?`#${sc[Math.round(t)]}${sc[Math.round(r)]}${sc[Math.round(n)]}${sc[Math.round(a*255)]}`:`#${sc[Math.round(t)]}${sc[Math.round(r)]}${sc[Math.round(n)]}`}},ru={re:/^hsla?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(?:deg|grad|rad|turn)?)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(%)?))?\s*?\)$/i,hueRe:/^(.+?)(deg|grad|rad|turn)$/i,_hue2deg:e=>{const t=e.match(ru.hueRe);if(t){const[,r,n]=t;switch(n){case"grad":return vr.channel.clamp.h(parseFloat(r)*.9);case"rad":return vr.channel.clamp.h(parseFloat(r)*180/Math.PI);case"turn":return vr.channel.clamp.h(parseFloat(r)*360)}}return vr.channel.clamp.h(parseFloat(e))},parse:e=>{const t=e.charCodeAt(0);if(t!==104&&t!==72)return;const r=e.match(ru.re);if(!r)return;const[,n,a,i,o,l]=r;return qy.set({h:ru._hue2deg(n),s:vr.channel.clamp.s(parseFloat(a)),l:vr.channel.clamp.l(parseFloat(i)),a:o?vr.channel.clamp.a(l?parseFloat(o)/100:parseFloat(o)):1},e)},stringify:e=>{const{h:t,s:r,l:n,a}=e;return a<1?`hsla(${vr.lang.round(t)}, ${vr.lang.round(r)}%, ${vr.lang.round(n)}%, ${a})`:`hsl(${vr.lang.round(t)}, ${vr.lang.round(r)}%, ${vr.lang.round(n)}%)`}},Pg={colors:{aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyanaqua:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",transparent:"#00000000",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},parse:e=>{e=e.toLowerCase();const t=Pg.colors[e];if(t)return Qd.parse(t)},stringify:e=>{const t=Qd.stringify(e);for(const r in Pg.colors)if(Pg.colors[r]===t)return r}},hg={re:/^rgba?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?)))?\s*?\)$/i,parse:e=>{const t=e.charCodeAt(0);if(t!==114&&t!==82)return;const r=e.match(hg.re);if(!r)return;const[,n,a,i,o,l,u,d,h]=r;return qy.set({r:vr.channel.clamp.r(a?parseFloat(n)*2.55:parseFloat(n)),g:vr.channel.clamp.g(o?parseFloat(i)*2.55:parseFloat(i)),b:vr.channel.clamp.b(u?parseFloat(l)*2.55:parseFloat(l)),a:d?vr.channel.clamp.a(h?parseFloat(d)/100:parseFloat(d)):1},e)},stringify:e=>{const{r:t,g:r,b:n,a}=e;return a<1?`rgba(${vr.lang.round(t)}, ${vr.lang.round(r)}, ${vr.lang.round(n)}, ${vr.lang.round(a)})`:`rgb(${vr.lang.round(t)}, ${vr.lang.round(r)}, ${vr.lang.round(n)})`}},zo={format:{keyword:Pg,hex:Qd,rgb:hg,rgba:hg,hsl:ru,hsla:ru},parse:e=>{if(typeof e!="string")return e;const t=Qd.parse(e)||hg.parse(e)||ru.parse(e)||Pg.parse(e);if(t)return t;throw new Error(`Unsupported color format: "${e}"`)},stringify:e=>!e.changed&&e.color?e.color:e.type.is(cs.HSL)||e.data.r===void 0?ru.stringify(e):e.a<1||!Number.isInteger(e.r)||!Number.isInteger(e.g)||!Number.isInteger(e.b)?hg.stringify(e):Qd.stringify(e)},_F=(e,t)=>{const r=zo.parse(e);for(const n in t)r[n]=vr.channel.clamp[n](t[n]);return zo.stringify(r)},jg=(e,t,r=0,n=1)=>{if(typeof e!="number")return _F(e,{a:t});const a=qy.set({r:vr.channel.clamp.r(e),g:vr.channel.clamp.g(t),b:vr.channel.clamp.b(r),a:vr.channel.clamp.a(n)});return zo.stringify(a)},gue=e=>{const{r:t,g:r,b:n}=zo.parse(e),a=.2126*vr.channel.toLinear(t)+.7152*vr.channel.toLinear(r)+.0722*vr.channel.toLinear(n);return vr.lang.round(a)},mue=e=>gue(e)>=.5,Fm=e=>!mue(e),AF=(e,t,r)=>{const n=zo.parse(e),a=n[t],i=vr.channel.clamp[t](a+r);return a!==i&&(n[t]=i),zo.stringify(n)},Wt=(e,t)=>AF(e,"l",t),ur=(e,t)=>AF(e,"l",-t),Ne=(e,t)=>{const r=zo.parse(e),n={};for(const a in t)t[a]&&(n[a]=r[a]+t[a]);return _F(e,n)},fue=(e,t,r=50)=>{const{r:n,g:a,b:i,a:o}=zo.parse(e),{r:l,g:u,b:d,a:h}=zo.parse(t),g=r/100,f=g*2-1,b=o-h,E=((f*b===-1?f:(f+b)/(1+f*b))+1)/2,v=1-E,T=n*E+l*v,w=a*E+u*v,N=i*E+d*v,R=o*g+h*(1-g);return jg(T,w,N,R)},Ot=(e,t=100)=>{const r=zo.parse(e);return r.r=255-r.r,r.g=255-r.g,r.b=255-r.b,fue(r,e,t)};/*! @license DOMPurify 3.3.0 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.3.0/LICENSE */const{entries:NF,setPrototypeOf:qO,isFrozen:bue,getPrototypeOf:yue,getOwnPropertyDescriptor:xue}=Object;let{freeze:Ls,seal:$i,create:iT}=Object,{apply:oT,construct:lT}=typeof Reflect<"u"&&Reflect;Ls||(Ls=function(t){return t});$i||($i=function(t){return t});oT||(oT=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i];return t.apply(r,a)});lT||(lT=function(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];return new t(...n)});const I0=Os(Array.prototype.forEach),Eue=Os(Array.prototype.lastIndexOf),WO=Os(Array.prototype.pop),Yh=Os(Array.prototype.push),vue=Os(Array.prototype.splice),sb=Os(String.prototype.toLowerCase),RS=Os(String.prototype.toString),DS=Os(String.prototype.match),Vh=Os(String.prototype.replace),Sue=Os(String.prototype.indexOf),Tue=Os(String.prototype.trim),no=Os(Object.prototype.hasOwnProperty),Cs=Os(RegExp.prototype.test),Kh=wue(TypeError);function Os(e){return function(t){t instanceof RegExp&&(t.lastIndex=0);for(var r=arguments.length,n=new Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];return oT(e,t,n)}}function wue(e){return function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return lT(e,r)}}function Gr(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:sb;qO&&qO(e,null);let n=t.length;for(;n--;){let a=t[n];if(typeof a=="string"){const i=r(a);i!==a&&(bue(t)||(t[n]=i),a=i)}e[a]=!0}return e}function kue(e){for(let t=0;t<e.length;t++)no(e,t)||(e[t]=null);return e}function yl(e){const t=iT(null);for(const[r,n]of NF(e))no(e,r)&&(Array.isArray(n)?t[r]=kue(n):n&&typeof n=="object"&&n.constructor===Object?t[r]=yl(n):t[r]=n);return t}function Qh(e,t){for(;e!==null;){const n=xue(e,t);if(n){if(n.get)return Os(n.get);if(typeof n.value=="function")return Os(n.value)}e=yue(e)}function r(){return null}return r}const YO=Ls(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),LS=Ls(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","enterkeyhint","exportparts","filter","font","g","glyph","glyphref","hkern","image","inputmode","line","lineargradient","marker","mask","metadata","mpath","part","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),OS=Ls(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),Cue=Ls(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),MS=Ls(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),_ue=Ls(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),VO=Ls(["#text"]),KO=Ls(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","exportparts","face","for","headers","height","hidden","high","href","hreflang","id","inert","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","part","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","slot","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),PS=Ls(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","mask-type","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),QO=Ls(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),R0=Ls(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Aue=$i(/\{\{[\w\W]*|[\w\W]*\}\}/gm),Nue=$i(/<%[\w\W]*|[\w\W]*%>/gm),Iue=$i(/\$\{[\w\W]*/gm),Rue=$i(/^data-[\-\w.\u00B7-\uFFFF]+$/),Due=$i(/^aria-[\-\w]+$/),IF=$i(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Lue=$i(/^(?:\w+script|data):/i),Oue=$i(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),RF=$i(/^html$/i),Mue=$i(/^[a-z][.\w]*(-[.\w]+)+$/i);var XO=Object.freeze({__proto__:null,ARIA_ATTR:Due,ATTR_WHITESPACE:Oue,CUSTOM_ELEMENT:Mue,DATA_ATTR:Rue,DOCTYPE_NAME:RF,ERB_EXPR:Nue,IS_ALLOWED_URI:IF,IS_SCRIPT_OR_DATA:Lue,MUSTACHE_EXPR:Aue,TMPLIT_EXPR:Iue});const Xh={element:1,text:3,progressingInstruction:7,comment:8,document:9},Pue=function(){return typeof window>"u"?null:window},jue=function(t,r){if(typeof t!="object"||typeof t.createPolicy!="function")return null;let n=null;const a="data-tt-policy-suffix";r&&r.hasAttribute(a)&&(n=r.getAttribute(a));const i="dompurify"+(n?"#"+n:"");try{return t.createPolicy(i,{createHTML(o){return o},createScriptURL(o){return o}})}catch{return console.warn("TrustedTypes policy "+i+" could not be created."),null}},ZO=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function DF(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Pue();const t=Pt=>DF(Pt);if(t.version="3.3.0",t.removed=[],!e||!e.document||e.document.nodeType!==Xh.document||!e.Element)return t.isSupported=!1,t;let{document:r}=e;const n=r,a=n.currentScript,{DocumentFragment:i,HTMLTemplateElement:o,Node:l,Element:u,NodeFilter:d,NamedNodeMap:h=e.NamedNodeMap||e.MozNamedAttrMap,HTMLFormElement:g,DOMParser:f,trustedTypes:b}=e,x=u.prototype,E=Qh(x,"cloneNode"),v=Qh(x,"remove"),T=Qh(x,"nextSibling"),w=Qh(x,"childNodes"),N=Qh(x,"parentNode");if(typeof o=="function"){const Pt=r.createElement("template");Pt.content&&Pt.content.ownerDocument&&(r=Pt.content.ownerDocument)}let R,D="";const{implementation:L,createNodeIterator:j,createDocumentFragment:B,getElementsByTagName:q}=r,{importNode:z}=n;let K=ZO();t.isSupported=typeof NF=="function"&&typeof N=="function"&&L&&L.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:X,ERB_EXPR:Q,TMPLIT_EXPR:O,DATA_ATTR:H,ARIA_ATTR:$,IS_SCRIPT_OR_DATA:Y,ATTR_WHITESPACE:V,CUSTOM_ELEMENT:ne}=XO;let{IS_ALLOWED_URI:P}=XO,I=null;const G=Gr({},[...YO,...LS,...OS,...MS,...VO]);let F=null;const ie=Gr({},[...KO,...PS,...QO,...R0]);let he=Object.seal(iT(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),ye=null,ge=null;const pe=Object.seal(iT(null,{tagCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeCheck:{writable:!0,configurable:!1,enumerable:!0,value:null}}));let Be=!0,Ee=!0,we=!1,Je=!0,Ke=!1,ze=!0,Vt=!1,kt=!1,wt=!1,_t=!1,jt=!1,mt=!1,zt=!0,ar=!1;const kr="user-content-";let dr=!0,Jt=!1,le={},se=null;const Ce=Gr({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let De=null;const dt=Gr({},["audio","video","img","source","image","track"]);let lt=null;const qt=Gr({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Ft="http://www.w3.org/1998/Math/MathML",Ct="http://www.w3.org/2000/svg",je="http://www.w3.org/1999/xhtml";let it=je,mr=!1,Ut=null;const Qr=Gr({},[Ft,Ct,je],RS);let Mt=Gr({},["mi","mo","mn","ms","mtext"]),nn=Gr({},["annotation-xml"]);const Bn=Gr({},["title","style","font","a","script"]);let Xr=null;const be=["application/xhtml+xml","text/html"],Ue="text/html";let et=null,Ht=null;const Ar=r.createElement("form"),Ur=function(ve){return ve instanceof RegExp||ve instanceof Function},It=function(){let ve=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(Ht&&Ht===ve)){if((!ve||typeof ve!="object")&&(ve={}),ve=yl(ve),Xr=be.indexOf(ve.PARSER_MEDIA_TYPE)===-1?Ue:ve.PARSER_MEDIA_TYPE,et=Xr==="application/xhtml+xml"?RS:sb,I=no(ve,"ALLOWED_TAGS")?Gr({},ve.ALLOWED_TAGS,et):G,F=no(ve,"ALLOWED_ATTR")?Gr({},ve.ALLOWED_ATTR,et):ie,Ut=no(ve,"ALLOWED_NAMESPACES")?Gr({},ve.ALLOWED_NAMESPACES,RS):Qr,lt=no(ve,"ADD_URI_SAFE_ATTR")?Gr(yl(qt),ve.ADD_URI_SAFE_ATTR,et):qt,De=no(ve,"ADD_DATA_URI_TAGS")?Gr(yl(dt),ve.ADD_DATA_URI_TAGS,et):dt,se=no(ve,"FORBID_CONTENTS")?Gr({},ve.FORBID_CONTENTS,et):Ce,ye=no(ve,"FORBID_TAGS")?Gr({},ve.FORBID_TAGS,et):yl({}),ge=no(ve,"FORBID_ATTR")?Gr({},ve.FORBID_ATTR,et):yl({}),le=no(ve,"USE_PROFILES")?ve.USE_PROFILES:!1,Be=ve.ALLOW_ARIA_ATTR!==!1,Ee=ve.ALLOW_DATA_ATTR!==!1,we=ve.ALLOW_UNKNOWN_PROTOCOLS||!1,Je=ve.ALLOW_SELF_CLOSE_IN_ATTR!==!1,Ke=ve.SAFE_FOR_TEMPLATES||!1,ze=ve.SAFE_FOR_XML!==!1,Vt=ve.WHOLE_DOCUMENT||!1,_t=ve.RETURN_DOM||!1,jt=ve.RETURN_DOM_FRAGMENT||!1,mt=ve.RETURN_TRUSTED_TYPE||!1,wt=ve.FORCE_BODY||!1,zt=ve.SANITIZE_DOM!==!1,ar=ve.SANITIZE_NAMED_PROPS||!1,dr=ve.KEEP_CONTENT!==!1,Jt=ve.IN_PLACE||!1,P=ve.ALLOWED_URI_REGEXP||IF,it=ve.NAMESPACE||je,Mt=ve.MATHML_TEXT_INTEGRATION_POINTS||Mt,nn=ve.HTML_INTEGRATION_POINTS||nn,he=ve.CUSTOM_ELEMENT_HANDLING||{},ve.CUSTOM_ELEMENT_HANDLING&&Ur(ve.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(he.tagNameCheck=ve.CUSTOM_ELEMENT_HANDLING.tagNameCheck),ve.CUSTOM_ELEMENT_HANDLING&&Ur(ve.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(he.attributeNameCheck=ve.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),ve.CUSTOM_ELEMENT_HANDLING&&typeof ve.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(he.allowCustomizedBuiltInElements=ve.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Ke&&(Ee=!1),jt&&(_t=!0),le&&(I=Gr({},VO),F=[],le.html===!0&&(Gr(I,YO),Gr(F,KO)),le.svg===!0&&(Gr(I,LS),Gr(F,PS),Gr(F,R0)),le.svgFilters===!0&&(Gr(I,OS),Gr(F,PS),Gr(F,R0)),le.mathMl===!0&&(Gr(I,MS),Gr(F,QO),Gr(F,R0))),ve.ADD_TAGS&&(typeof ve.ADD_TAGS=="function"?pe.tagCheck=ve.ADD_TAGS:(I===G&&(I=yl(I)),Gr(I,ve.ADD_TAGS,et))),ve.ADD_ATTR&&(typeof ve.ADD_ATTR=="function"?pe.attributeCheck=ve.ADD_ATTR:(F===ie&&(F=yl(F)),Gr(F,ve.ADD_ATTR,et))),ve.ADD_URI_SAFE_ATTR&&Gr(lt,ve.ADD_URI_SAFE_ATTR,et),ve.FORBID_CONTENTS&&(se===Ce&&(se=yl(se)),Gr(se,ve.FORBID_CONTENTS,et)),dr&&(I["#text"]=!0),Vt&&Gr(I,["html","head","body"]),I.table&&(Gr(I,["tbody"]),delete ye.tbody),ve.TRUSTED_TYPES_POLICY){if(typeof ve.TRUSTED_TYPES_POLICY.createHTML!="function")throw Kh('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof ve.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw Kh('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');R=ve.TRUSTED_TYPES_POLICY,D=R.createHTML("")}else R===void 0&&(R=jue(b,a)),R!==null&&typeof D=="string"&&(D=R.createHTML(""));Ls&&Ls(ve),Ht=ve}},At=Gr({},[...LS,...OS,...Cue]),er=Gr({},[...MS,..._ue]),fn=function(ve){let nt=N(ve);(!nt||!nt.tagName)&&(nt={namespaceURI:it,tagName:"template"});const Dt=sb(ve.tagName),Fr=sb(nt.tagName);return Ut[ve.namespaceURI]?ve.namespaceURI===Ct?nt.namespaceURI===je?Dt==="svg":nt.namespaceURI===Ft?Dt==="svg"&&(Fr==="annotation-xml"||Mt[Fr]):!!At[Dt]:ve.namespaceURI===Ft?nt.namespaceURI===je?Dt==="math":nt.namespaceURI===Ct?Dt==="math"&&nn[Fr]:!!er[Dt]:ve.namespaceURI===je?nt.namespaceURI===Ct&&!nn[Fr]||nt.namespaceURI===Ft&&!Mt[Fr]?!1:!er[Dt]&&(Bn[Dt]||!At[Dt]):!!(Xr==="application/xhtml+xml"&&Ut[ve.namespaceURI]):!1},Nr=function(ve){Yh(t.removed,{element:ve});try{N(ve).removeChild(ve)}catch{v(ve)}},Gn=function(ve,nt){try{Yh(t.removed,{attribute:nt.getAttributeNode(ve),from:nt})}catch{Yh(t.removed,{attribute:null,from:nt})}if(nt.removeAttribute(ve),ve==="is")if(_t||jt)try{Nr(nt)}catch{}else try{nt.setAttribute(ve,"")}catch{}},xs=function(ve){let nt=null,Dt=null;if(wt)ve="<remove></remove>"+ve;else{const Sr=DS(ve,/^[\r\n\t ]+/);Dt=Sr&&Sr[0]}Xr==="application/xhtml+xml"&&it===je&&(ve='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+ve+"</body></html>");const Fr=R?R.createHTML(ve):ve;if(it===je)try{nt=new f().parseFromString(Fr,Xr)}catch{}if(!nt||!nt.documentElement){nt=L.createDocument(it,"template",null);try{nt.documentElement.innerHTML=mr?D:Fr}catch{}}const yn=nt.body||nt.documentElement;return ve&&Dt&&yn.insertBefore(r.createTextNode(Dt),yn.childNodes[0]||null),it===je?q.call(nt,Vt?"html":"body")[0]:Vt?nt.documentElement:yn},lr=function(ve){return j.call(ve.ownerDocument||ve,ve,d.SHOW_ELEMENT|d.SHOW_COMMENT|d.SHOW_TEXT|d.SHOW_PROCESSING_INSTRUCTION|d.SHOW_CDATA_SECTION,null)},fa=function(ve){return ve instanceof g&&(typeof ve.nodeName!="string"||typeof ve.textContent!="string"||typeof ve.removeChild!="function"||!(ve.attributes instanceof h)||typeof ve.removeAttribute!="function"||typeof ve.setAttribute!="function"||typeof ve.namespaceURI!="string"||typeof ve.insertBefore!="function"||typeof ve.hasChildNodes!="function")},en=function(ve){return typeof l=="function"&&ve instanceof l};function cn(Pt,ve,nt){I0(Pt,Dt=>{Dt.call(t,ve,nt,Ht)})}const Ba=function(ve){let nt=null;if(cn(K.beforeSanitizeElements,ve,null),fa(ve))return Nr(ve),!0;const Dt=et(ve.nodeName);if(cn(K.uponSanitizeElement,ve,{tagName:Dt,allowedTags:I}),ze&&ve.hasChildNodes()&&!en(ve.firstElementChild)&&Cs(/<[/\w!]/g,ve.innerHTML)&&Cs(/<[/\w!]/g,ve.textContent)||ve.nodeType===Xh.progressingInstruction||ze&&ve.nodeType===Xh.comment&&Cs(/<[/\w]/g,ve.data))return Nr(ve),!0;if(!(pe.tagCheck instanceof Function&&pe.tagCheck(Dt))&&(!I[Dt]||ye[Dt])){if(!ye[Dt]&&ns(Dt)&&(he.tagNameCheck instanceof RegExp&&Cs(he.tagNameCheck,Dt)||he.tagNameCheck instanceof Function&&he.tagNameCheck(Dt)))return!1;if(dr&&!se[Dt]){const Fr=N(ve)||ve.parentNode,yn=w(ve)||ve.childNodes;if(yn&&Fr){const Sr=yn.length;for(let ra=Sr-1;ra>=0;--ra){const xn=E(yn[ra],!0);xn.__removalCount=(ve.__removalCount||0)+1,Fr.insertBefore(xn,T(ve))}}}return Nr(ve),!0}return ve instanceof u&&!fn(ve)||(Dt==="noscript"||Dt==="noembed"||Dt==="noframes")&&Cs(/<\/no(script|embed|frames)/i,ve.innerHTML)?(Nr(ve),!0):(Ke&&ve.nodeType===Xh.text&&(nt=ve.textContent,I0([X,Q,O],Fr=>{nt=Vh(nt,Fr," ")}),ve.textContent!==nt&&(Yh(t.removed,{element:ve.cloneNode()}),ve.textContent=nt)),cn(K.afterSanitizeElements,ve,null),!1)},ba=function(ve,nt,Dt){if(zt&&(nt==="id"||nt==="name")&&(Dt in r||Dt in Ar))return!1;if(!(Ee&&!ge[nt]&&Cs(H,nt))){if(!(Be&&Cs($,nt))){if(!(pe.attributeCheck instanceof Function&&pe.attributeCheck(nt,ve))){if(!F[nt]||ge[nt]){if(!(ns(ve)&&(he.tagNameCheck instanceof RegExp&&Cs(he.tagNameCheck,ve)||he.tagNameCheck instanceof Function&&he.tagNameCheck(ve))&&(he.attributeNameCheck instanceof RegExp&&Cs(he.attributeNameCheck,nt)||he.attributeNameCheck instanceof Function&&he.attributeNameCheck(nt,ve))||nt==="is"&&he.allowCustomizedBuiltInElements&&(he.tagNameCheck instanceof RegExp&&Cs(he.tagNameCheck,Dt)||he.tagNameCheck instanceof Function&&he.tagNameCheck(Dt))))return!1}else if(!lt[nt]){if(!Cs(P,Vh(Dt,V,""))){if(!((nt==="src"||nt==="xlink:href"||nt==="href")&&ve!=="script"&&Sue(Dt,"data:")===0&&De[ve])){if(!(we&&!Cs(Y,Vh(Dt,V,"")))){if(Dt)return!1}}}}}}}return!0},ns=function(ve){return ve!=="annotation-xml"&&DS(ve,ne)},as=function(ve){cn(K.beforeSanitizeAttributes,ve,null);const{attributes:nt}=ve;if(!nt||fa(ve))return;const Dt={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:F,forceKeepAttr:void 0};let Fr=nt.length;for(;Fr--;){const yn=nt[Fr],{name:Sr,namespaceURI:ra,value:xn}=yn,wn=et(Sr),ct=xn;let Rt=Sr==="value"?ct:Tue(ct);if(Dt.attrName=wn,Dt.attrValue=Rt,Dt.keepAttr=!0,Dt.forceKeepAttr=void 0,cn(K.uponSanitizeAttribute,ve,Dt),Rt=Dt.attrValue,ar&&(wn==="id"||wn==="name")&&(Gn(Sr,ve),Rt=kr+Rt),ze&&Cs(/((--!?|])>)|<\/(style|title|textarea)/i,Rt)){Gn(Sr,ve);continue}if(wn==="attributename"&&DS(Rt,"href")){Gn(Sr,ve);continue}if(Dt.forceKeepAttr)continue;if(!Dt.keepAttr){Gn(Sr,ve);continue}if(!Je&&Cs(/\/>/i,Rt)){Gn(Sr,ve);continue}Ke&&I0([X,Q,O],Rr=>{Rt=Vh(Rt,Rr," ")});const Er=et(ve.nodeName);if(!ba(Er,wn,Rt)){Gn(Sr,ve);continue}if(R&&typeof b=="object"&&typeof b.getAttributeType=="function"&&!ra)switch(b.getAttributeType(Er,wn)){case"TrustedHTML":{Rt=R.createHTML(Rt);break}case"TrustedScriptURL":{Rt=R.createScriptURL(Rt);break}}if(Rt!==ct)try{ra?ve.setAttributeNS(ra,Sr,Rt):ve.setAttribute(Sr,Rt),fa(ve)?Nr(ve):WO(t.removed)}catch{Gn(Sr,ve)}}cn(K.afterSanitizeAttributes,ve,null)},Es=function Pt(ve){let nt=null;const Dt=lr(ve);for(cn(K.beforeSanitizeShadowDOM,ve,null);nt=Dt.nextNode();)cn(K.uponSanitizeShadowNode,nt,null),Ba(nt),as(nt),nt.content instanceof i&&Pt(nt.content);cn(K.afterSanitizeShadowDOM,ve,null)};return t.sanitize=function(Pt){let ve=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},nt=null,Dt=null,Fr=null,yn=null;if(mr=!Pt,mr&&(Pt="<!-->"),typeof Pt!="string"&&!en(Pt))if(typeof Pt.toString=="function"){if(Pt=Pt.toString(),typeof Pt!="string")throw Kh("dirty is not a string, aborting")}else throw Kh("toString is not a function");if(!t.isSupported)return Pt;if(kt||It(ve),t.removed=[],typeof Pt=="string"&&(Jt=!1),Jt){if(Pt.nodeName){const xn=et(Pt.nodeName);if(!I[xn]||ye[xn])throw Kh("root node is forbidden and cannot be sanitized in-place")}}else if(Pt instanceof l)nt=xs("<!---->"),Dt=nt.ownerDocument.importNode(Pt,!0),Dt.nodeType===Xh.element&&Dt.nodeName==="BODY"||Dt.nodeName==="HTML"?nt=Dt:nt.appendChild(Dt);else{if(!_t&&!Ke&&!Vt&&Pt.indexOf("<")===-1)return R&&mt?R.createHTML(Pt):Pt;if(nt=xs(Pt),!nt)return _t?null:mt?D:""}nt&&wt&&Nr(nt.firstChild);const Sr=lr(Jt?Pt:nt);for(;Fr=Sr.nextNode();)Ba(Fr),as(Fr),Fr.content instanceof i&&Es(Fr.content);if(Jt)return Pt;if(_t){if(jt)for(yn=B.call(nt.ownerDocument);nt.firstChild;)yn.appendChild(nt.firstChild);else yn=nt;return(F.shadowroot||F.shadowrootmode)&&(yn=z.call(n,yn,!0)),yn}let ra=Vt?nt.outerHTML:nt.innerHTML;return Vt&&I["!doctype"]&&nt.ownerDocument&&nt.ownerDocument.doctype&&nt.ownerDocument.doctype.name&&Cs(RF,nt.ownerDocument.doctype.name)&&(ra="<!DOCTYPE "+nt.ownerDocument.doctype.name+`>
`+ra),Ke&&I0([X,Q,O],xn=>{ra=Vh(ra,xn," ")}),R&&mt?R.createHTML(ra):ra},t.setConfig=function(){let Pt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};It(Pt),kt=!0},t.clearConfig=function(){Ht=null,kt=!1},t.isValidAttribute=function(Pt,ve,nt){Ht||It({});const Dt=et(Pt),Fr=et(ve);return ba(Dt,Fr,nt)},t.addHook=function(Pt,ve){typeof ve=="function"&&Yh(K[Pt],ve)},t.removeHook=function(Pt,ve){if(ve!==void 0){const nt=Eue(K[Pt],ve);return nt===-1?void 0:vue(K[Pt],nt,1)[0]}return WO(K[Pt])},t.removeHooks=function(Pt){K[Pt]=[]},t.removeAllHooks=function(){K=ZO()},t}var hp=DF(),LF=/^-{3}\s*[\n\r](.*?)[\n\r]-{3}\s*[\n\r]+/s,Fg=/%{2}{\s*(?:(\w+)\s*:|(\w+))\s*(?:(\w+)|((?:(?!}%{2}).|\r?\n)*))?\s*(?:}%{2})?/gi,Fue=/\s*%%.*\n/gm,np,OF=(np=class extends Error{constructor(t){super(t),this.name="UnknownDiagramError"}},M(np,"UnknownDiagramError"),np),bu={},sk=M(function(e,t){e=e.replace(LF,"").replace(Fg,"").replace(Fue,`
`);for(const[r,{detector:n}]of Object.entries(bu))if(n(e,t))return r;throw new OF(`No diagram type detected matching given configuration for text: ${e}`)},"detectType"),cT=M((...e)=>{for(const{id:t,detector:r,loader:n}of e)MF(t,r,n)},"registerLazyLoadedDiagrams"),MF=M((e,t,r)=>{bu[e]&&st.warn(`Detector with key ${e} already exists. Overwriting.`),bu[e]={detector:t,loader:r},st.debug(`Detector with key ${e} added${r?" with loader":""}`)},"addDetector"),Bue=M(e=>bu[e].loader,"getDiagramLoader"),uT=M((e,t,{depth:r=2,clobber:n=!1}={})=>{const a={depth:r,clobber:n};return Array.isArray(t)&&!Array.isArray(e)?(t.forEach(i=>uT(e,i,a)),e):Array.isArray(t)&&Array.isArray(e)?(t.forEach(i=>{e.includes(i)||e.push(i)}),e):e===void 0||r<=0?e!=null&&typeof e=="object"&&typeof t=="object"?Object.assign(e,t):t:(t!==void 0&&typeof e=="object"&&typeof t=="object"&&Object.keys(t).forEach(i=>{typeof t[i]=="object"&&(e[i]===void 0||typeof e[i]=="object")?(e[i]===void 0&&(e[i]=Array.isArray(t[i])?[]:{}),e[i]=uT(e[i],t[i],{depth:r-1,clobber:n})):(n||typeof e[i]!="object"&&typeof t[i]!="object")&&(e[i]=t[i])}),e)},"assignWithDepth"),Oa=uT,Wy="#ffffff",Yy="#f2f2f2",Is=M((e,t)=>t?Ne(e,{s:-40,l:10}):Ne(e,{s:-40,l:-10}),"mkBorder"),ap,Uue=(ap=class{constructor(){this.background="#f4f4f4",this.primaryColor="#fff4dd",this.noteBkgColor="#fff5ad",this.noteTextColor="#333",this.THEME_COLOR_LIMIT=12,this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px"}updateColors(){if(this.primaryTextColor=this.primaryTextColor||(this.darkMode?"#eee":"#333"),this.secondaryColor=this.secondaryColor||Ne(this.primaryColor,{h:-120}),this.tertiaryColor=this.tertiaryColor||Ne(this.primaryColor,{h:180,l:5}),this.primaryBorderColor=this.primaryBorderColor||Is(this.primaryColor,this.darkMode),this.secondaryBorderColor=this.secondaryBorderColor||Is(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=this.tertiaryBorderColor||Is(this.tertiaryColor,this.darkMode),this.noteBorderColor=this.noteBorderColor||Is(this.noteBkgColor,this.darkMode),this.noteBkgColor=this.noteBkgColor||"#fff5ad",this.noteTextColor=this.noteTextColor||"#333",this.secondaryTextColor=this.secondaryTextColor||Ot(this.secondaryColor),this.tertiaryTextColor=this.tertiaryTextColor||Ot(this.tertiaryColor),this.lineColor=this.lineColor||Ot(this.background),this.arrowheadColor=this.arrowheadColor||Ot(this.background),this.textColor=this.textColor||this.primaryTextColor,this.border2=this.border2||this.tertiaryBorderColor,this.nodeBkg=this.nodeBkg||this.primaryColor,this.mainBkg=this.mainBkg||this.primaryColor,this.nodeBorder=this.nodeBorder||this.primaryBorderColor,this.clusterBkg=this.clusterBkg||this.tertiaryColor,this.clusterBorder=this.clusterBorder||this.tertiaryBorderColor,this.defaultLinkColor=this.defaultLinkColor||this.lineColor,this.titleColor=this.titleColor||this.tertiaryTextColor,this.edgeLabelBackground=this.edgeLabelBackground||(this.darkMode?ur(this.secondaryColor,30):this.secondaryColor),this.nodeTextColor=this.nodeTextColor||this.primaryTextColor,this.actorBorder=this.actorBorder||this.primaryBorderColor,this.actorBkg=this.actorBkg||this.mainBkg,this.actorTextColor=this.actorTextColor||this.primaryTextColor,this.actorLineColor=this.actorLineColor||this.actorBorder,this.labelBoxBkgColor=this.labelBoxBkgColor||this.actorBkg,this.signalColor=this.signalColor||this.textColor,this.signalTextColor=this.signalTextColor||this.textColor,this.labelBoxBorderColor=this.labelBoxBorderColor||this.actorBorder,this.labelTextColor=this.labelTextColor||this.actorTextColor,this.loopTextColor=this.loopTextColor||this.actorTextColor,this.activationBorderColor=this.activationBorderColor||ur(this.secondaryColor,10),this.activationBkgColor=this.activationBkgColor||this.secondaryColor,this.sequenceNumberColor=this.sequenceNumberColor||Ot(this.lineColor),this.sectionBkgColor=this.sectionBkgColor||this.tertiaryColor,this.altSectionBkgColor=this.altSectionBkgColor||"white",this.sectionBkgColor=this.sectionBkgColor||this.secondaryColor,this.sectionBkgColor2=this.sectionBkgColor2||this.primaryColor,this.excludeBkgColor=this.excludeBkgColor||"#eeeeee",this.taskBorderColor=this.taskBorderColor||this.primaryBorderColor,this.taskBkgColor=this.taskBkgColor||this.primaryColor,this.activeTaskBorderColor=this.activeTaskBorderColor||this.primaryColor,this.activeTaskBkgColor=this.activeTaskBkgColor||Wt(this.primaryColor,23),this.gridColor=this.gridColor||"lightgrey",this.doneTaskBkgColor=this.doneTaskBkgColor||"lightgrey",this.doneTaskBorderColor=this.doneTaskBorderColor||"grey",this.critBorderColor=this.critBorderColor||"#ff8888",this.critBkgColor=this.critBkgColor||"red",this.todayLineColor=this.todayLineColor||"red",this.vertLineColor=this.vertLineColor||"navy",this.taskTextColor=this.taskTextColor||this.textColor,this.taskTextOutsideColor=this.taskTextOutsideColor||this.textColor,this.taskTextLightColor=this.taskTextLightColor||this.textColor,this.taskTextColor=this.taskTextColor||this.primaryTextColor,this.taskTextDarkColor=this.taskTextDarkColor||this.textColor,this.taskTextClickableColor=this.taskTextClickableColor||"#003163",this.personBorder=this.personBorder||this.primaryBorderColor,this.personBkg=this.personBkg||this.mainBkg,this.darkMode?(this.rowOdd=this.rowOdd||ur(this.mainBkg,5)||"#ffffff",this.rowEven=this.rowEven||ur(this.mainBkg,10)):(this.rowOdd=this.rowOdd||Wt(this.mainBkg,75)||"#ffffff",this.rowEven=this.rowEven||Wt(this.mainBkg,5)),this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||this.tertiaryColor,this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.nodeBorder,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.specialStateColor=this.lineColor,this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||Ne(this.primaryColor,{h:30}),this.cScale4=this.cScale4||Ne(this.primaryColor,{h:60}),this.cScale5=this.cScale5||Ne(this.primaryColor,{h:90}),this.cScale6=this.cScale6||Ne(this.primaryColor,{h:120}),this.cScale7=this.cScale7||Ne(this.primaryColor,{h:150}),this.cScale8=this.cScale8||Ne(this.primaryColor,{h:210,l:150}),this.cScale9=this.cScale9||Ne(this.primaryColor,{h:270}),this.cScale10=this.cScale10||Ne(this.primaryColor,{h:300}),this.cScale11=this.cScale11||Ne(this.primaryColor,{h:330}),this.darkMode)for(let r=0;r<this.THEME_COLOR_LIMIT;r++)this["cScale"+r]=ur(this["cScale"+r],75);else for(let r=0;r<this.THEME_COLOR_LIMIT;r++)this["cScale"+r]=ur(this["cScale"+r],25);for(let r=0;r<this.THEME_COLOR_LIMIT;r++)this["cScaleInv"+r]=this["cScaleInv"+r]||Ot(this["cScale"+r]);for(let r=0;r<this.THEME_COLOR_LIMIT;r++)this.darkMode?this["cScalePeer"+r]=this["cScalePeer"+r]||Wt(this["cScale"+r],10):this["cScalePeer"+r]=this["cScalePeer"+r]||ur(this["cScale"+r],10);this.scaleLabelColor=this.scaleLabelColor||this.labelTextColor;for(let r=0;r<this.THEME_COLOR_LIMIT;r++)this["cScaleLabel"+r]=this["cScaleLabel"+r]||this.scaleLabelColor;const t=this.darkMode?-4:-1;for(let r=0;r<5;r++)this["surface"+r]=this["surface"+r]||Ne(this.mainBkg,{h:180,s:-15,l:t*(5+r*3)}),this["surfacePeer"+r]=this["surfacePeer"+r]||Ne(this.mainBkg,{h:180,s:-15,l:t*(8+r*3)});this.classText=this.classText||this.textColor,this.fillType0=this.fillType0||this.primaryColor,this.fillType1=this.fillType1||this.secondaryColor,this.fillType2=this.fillType2||Ne(this.primaryColor,{h:64}),this.fillType3=this.fillType3||Ne(this.secondaryColor,{h:64}),this.fillType4=this.fillType4||Ne(this.primaryColor,{h:-64}),this.fillType5=this.fillType5||Ne(this.secondaryColor,{h:-64}),this.fillType6=this.fillType6||Ne(this.primaryColor,{h:128}),this.fillType7=this.fillType7||Ne(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||this.tertiaryColor,this.pie4=this.pie4||Ne(this.primaryColor,{l:-10}),this.pie5=this.pie5||Ne(this.secondaryColor,{l:-10}),this.pie6=this.pie6||Ne(this.tertiaryColor,{l:-10}),this.pie7=this.pie7||Ne(this.primaryColor,{h:60,l:-10}),this.pie8=this.pie8||Ne(this.primaryColor,{h:-60,l:-10}),this.pie9=this.pie9||Ne(this.primaryColor,{h:120,l:0}),this.pie10=this.pie10||Ne(this.primaryColor,{h:60,l:-20}),this.pie11=this.pie11||Ne(this.primaryColor,{h:-60,l:-20}),this.pie12=this.pie12||Ne(this.primaryColor,{h:120,l:-10}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.radar={axisColor:this.radar?.axisColor||this.lineColor,axisStrokeWidth:this.radar?.axisStrokeWidth||2,axisLabelFontSize:this.radar?.axisLabelFontSize||12,curveOpacity:this.radar?.curveOpacity||.5,curveStrokeWidth:this.radar?.curveStrokeWidth||2,graticuleColor:this.radar?.graticuleColor||"#DEDEDE",graticuleStrokeWidth:this.radar?.graticuleStrokeWidth||1,graticuleOpacity:this.radar?.graticuleOpacity||.3,legendBoxSize:this.radar?.legendBoxSize||12,legendFontSize:this.radar?.legendFontSize||12},this.archEdgeColor=this.archEdgeColor||"#777",this.archEdgeArrowColor=this.archEdgeArrowColor||"#777",this.archEdgeWidth=this.archEdgeWidth||"3",this.archGroupBorderColor=this.archGroupBorderColor||"#000",this.archGroupBorderWidth=this.archGroupBorderWidth||"2px",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||Ne(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||Ne(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||Ne(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||Ne(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||Ne(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||Ne(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||Fm(this.quadrant1Fill)?Wt(this.quadrant1Fill):ur(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:this.xyChart?.backgroundColor||this.background,titleColor:this.xyChart?.titleColor||this.primaryTextColor,xAxisTitleColor:this.xyChart?.xAxisTitleColor||this.primaryTextColor,xAxisLabelColor:this.xyChart?.xAxisLabelColor||this.primaryTextColor,xAxisTickColor:this.xyChart?.xAxisTickColor||this.primaryTextColor,xAxisLineColor:this.xyChart?.xAxisLineColor||this.primaryTextColor,yAxisTitleColor:this.xyChart?.yAxisTitleColor||this.primaryTextColor,yAxisLabelColor:this.xyChart?.yAxisLabelColor||this.primaryTextColor,yAxisTickColor:this.xyChart?.yAxisTickColor||this.primaryTextColor,yAxisLineColor:this.xyChart?.yAxisLineColor||this.primaryTextColor,plotColorPalette:this.xyChart?.plotColorPalette||"#FFF4DD,#FFD8B1,#FFA07A,#ECEFF1,#D6DBDF,#C3E0A8,#FFB6A4,#FFD74D,#738FA7,#FFFFF0"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||(this.darkMode?ur(this.secondaryColor,30):this.secondaryColor),this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||Ne(this.primaryColor,{h:-30}),this.git4=this.git4||Ne(this.primaryColor,{h:-60}),this.git5=this.git5||Ne(this.primaryColor,{h:-90}),this.git6=this.git6||Ne(this.primaryColor,{h:60}),this.git7=this.git7||Ne(this.primaryColor,{h:120}),this.darkMode?(this.git0=Wt(this.git0,25),this.git1=Wt(this.git1,25),this.git2=Wt(this.git2,25),this.git3=Wt(this.git3,25),this.git4=Wt(this.git4,25),this.git5=Wt(this.git5,25),this.git6=Wt(this.git6,25),this.git7=Wt(this.git7,25)):(this.git0=ur(this.git0,25),this.git1=ur(this.git1,25),this.git2=ur(this.git2,25),this.git3=ur(this.git3,25),this.git4=ur(this.git4,25),this.git5=ur(this.git5,25),this.git6=ur(this.git6,25),this.git7=ur(this.git7,25)),this.gitInv0=this.gitInv0||Ot(this.git0),this.gitInv1=this.gitInv1||Ot(this.git1),this.gitInv2=this.gitInv2||Ot(this.git2),this.gitInv3=this.gitInv3||Ot(this.git3),this.gitInv4=this.gitInv4||Ot(this.git4),this.gitInv5=this.gitInv5||Ot(this.git5),this.gitInv6=this.gitInv6||Ot(this.git6),this.gitInv7=this.gitInv7||Ot(this.git7),this.branchLabelColor=this.branchLabelColor||(this.darkMode?"black":this.labelTextColor),this.gitBranchLabel0=this.gitBranchLabel0||this.branchLabelColor,this.gitBranchLabel1=this.gitBranchLabel1||this.branchLabelColor,this.gitBranchLabel2=this.gitBranchLabel2||this.branchLabelColor,this.gitBranchLabel3=this.gitBranchLabel3||this.branchLabelColor,this.gitBranchLabel4=this.gitBranchLabel4||this.branchLabelColor,this.gitBranchLabel5=this.gitBranchLabel5||this.branchLabelColor,this.gitBranchLabel6=this.gitBranchLabel6||this.branchLabelColor,this.gitBranchLabel7=this.gitBranchLabel7||this.branchLabelColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||Wy,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||Yy}calculate(t){if(typeof t!="object"){this.updateColors();return}const r=Object.keys(t);r.forEach(n=>{this[n]=t[n]}),this.updateColors(),r.forEach(n=>{this[n]=t[n]})}},M(ap,"Theme"),ap),$ue=M(e=>{const t=new Uue;return t.calculate(e),t},"getThemeVariables"),sp,Hue=(sp=class{constructor(){this.background="#333",this.primaryColor="#1f2020",this.secondaryColor=Wt(this.primaryColor,16),this.tertiaryColor=Ne(this.primaryColor,{h:-160}),this.primaryBorderColor=Ot(this.background),this.secondaryBorderColor=Is(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=Is(this.tertiaryColor,this.darkMode),this.primaryTextColor=Ot(this.primaryColor),this.secondaryTextColor=Ot(this.secondaryColor),this.tertiaryTextColor=Ot(this.tertiaryColor),this.lineColor=Ot(this.background),this.textColor=Ot(this.background),this.mainBkg="#1f2020",this.secondBkg="calculated",this.mainContrastColor="lightgrey",this.darkTextColor=Wt(Ot("#323D47"),10),this.lineColor="calculated",this.border1="#ccc",this.border2=jg(255,255,255,.25),this.arrowheadColor="calculated",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.labelBackground="#181818",this.textColor="#ccc",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="#F9FFFE",this.edgeLabelBackground="calculated",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="calculated",this.actorLineColor="calculated",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="calculated",this.activationBkgColor="calculated",this.sequenceNumberColor="black",this.sectionBkgColor=ur("#EAE8D9",30),this.altSectionBkgColor="calculated",this.sectionBkgColor2="#EAE8D9",this.excludeBkgColor=ur(this.sectionBkgColor,10),this.taskBorderColor=jg(255,255,255,70),this.taskBkgColor="calculated",this.taskTextColor="calculated",this.taskTextLightColor="calculated",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor=jg(255,255,255,50),this.activeTaskBkgColor="#81B1DB",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="grey",this.critBorderColor="#E83737",this.critBkgColor="#E83737",this.taskTextDarkColor="calculated",this.todayLineColor="#DB5757",this.vertLineColor="#00BFFF",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.rowOdd=this.rowOdd||Wt(this.mainBkg,5)||"#ffffff",this.rowEven=this.rowEven||ur(this.mainBkg,10),this.labelColor="calculated",this.errorBkgColor="#a44141",this.errorTextColor="#ddd"}updateColors(){this.secondBkg=Wt(this.mainBkg,16),this.lineColor=this.mainContrastColor,this.arrowheadColor=this.mainContrastColor,this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.edgeLabelBackground=Wt(this.labelBackground,25),this.actorBorder=this.border1,this.actorBkg=this.mainBkg,this.actorTextColor=this.mainContrastColor,this.actorLineColor=this.actorBorder,this.signalColor=this.mainContrastColor,this.signalTextColor=this.mainContrastColor,this.labelBoxBkgColor=this.actorBkg,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.mainContrastColor,this.loopTextColor=this.mainContrastColor,this.noteBorderColor=this.secondaryBorderColor,this.noteBkgColor=this.secondBkg,this.noteTextColor=this.secondaryTextColor,this.activationBorderColor=this.border1,this.activationBkgColor=this.secondBkg,this.altSectionBkgColor=this.background,this.taskBkgColor=Wt(this.mainBkg,23),this.taskTextColor=this.darkTextColor,this.taskTextLightColor=this.mainContrastColor,this.taskTextOutsideColor=this.taskTextLightColor,this.gridColor=this.mainContrastColor,this.doneTaskBkgColor=this.mainContrastColor,this.taskTextDarkColor=this.darkTextColor,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#555",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.primaryBorderColor,this.specialStateColor="#f4f4f4",this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=Ne(this.primaryColor,{h:64}),this.fillType3=Ne(this.secondaryColor,{h:64}),this.fillType4=Ne(this.primaryColor,{h:-64}),this.fillType5=Ne(this.secondaryColor,{h:-64}),this.fillType6=Ne(this.primaryColor,{h:128}),this.fillType7=Ne(this.secondaryColor,{h:128}),this.cScale1=this.cScale1||"#0b0000",this.cScale2=this.cScale2||"#4d1037",this.cScale3=this.cScale3||"#3f5258",this.cScale4=this.cScale4||"#4f2f1b",this.cScale5=this.cScale5||"#6e0a0a",this.cScale6=this.cScale6||"#3b0048",this.cScale7=this.cScale7||"#995a01",this.cScale8=this.cScale8||"#154706",this.cScale9=this.cScale9||"#161722",this.cScale10=this.cScale10||"#00296f",this.cScale11=this.cScale11||"#01629c",this.cScale12=this.cScale12||"#010029",this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||Ne(this.primaryColor,{h:30}),this.cScale4=this.cScale4||Ne(this.primaryColor,{h:60}),this.cScale5=this.cScale5||Ne(this.primaryColor,{h:90}),this.cScale6=this.cScale6||Ne(this.primaryColor,{h:120}),this.cScale7=this.cScale7||Ne(this.primaryColor,{h:150}),this.cScale8=this.cScale8||Ne(this.primaryColor,{h:210}),this.cScale9=this.cScale9||Ne(this.primaryColor,{h:270}),this.cScale10=this.cScale10||Ne(this.primaryColor,{h:300}),this.cScale11=this.cScale11||Ne(this.primaryColor,{h:330});for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScaleInv"+t]=this["cScaleInv"+t]||Ot(this["cScale"+t]);for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScalePeer"+t]=this["cScalePeer"+t]||Wt(this["cScale"+t],10);for(let t=0;t<5;t++)this["surface"+t]=this["surface"+t]||Ne(this.mainBkg,{h:30,s:-30,l:-(-10+t*4)}),this["surfacePeer"+t]=this["surfacePeer"+t]||Ne(this.mainBkg,{h:30,s:-30,l:-(-7+t*4)});this.scaleLabelColor=this.scaleLabelColor||(this.darkMode?"black":this.labelTextColor);for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScaleLabel"+t]=this["cScaleLabel"+t]||this.scaleLabelColor;for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["pie"+t]=this["cScale"+t];this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||Ne(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||Ne(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||Ne(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||Ne(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||Ne(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||Ne(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||Fm(this.quadrant1Fill)?Wt(this.quadrant1Fill):ur(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:this.xyChart?.backgroundColor||this.background,titleColor:this.xyChart?.titleColor||this.primaryTextColor,xAxisTitleColor:this.xyChart?.xAxisTitleColor||this.primaryTextColor,xAxisLabelColor:this.xyChart?.xAxisLabelColor||this.primaryTextColor,xAxisTickColor:this.xyChart?.xAxisTickColor||this.primaryTextColor,xAxisLineColor:this.xyChart?.xAxisLineColor||this.primaryTextColor,yAxisTitleColor:this.xyChart?.yAxisTitleColor||this.primaryTextColor,yAxisLabelColor:this.xyChart?.yAxisLabelColor||this.primaryTextColor,yAxisTickColor:this.xyChart?.yAxisTickColor||this.primaryTextColor,yAxisLineColor:this.xyChart?.yAxisLineColor||this.primaryTextColor,plotColorPalette:this.xyChart?.plotColorPalette||"#3498db,#2ecc71,#e74c3c,#f1c40f,#bdc3c7,#ffffff,#34495e,#9b59b6,#1abc9c,#e67e22"},this.packet={startByteColor:this.primaryTextColor,endByteColor:this.primaryTextColor,labelColor:this.primaryTextColor,titleColor:this.primaryTextColor,blockStrokeColor:this.primaryTextColor,blockFillColor:this.background},this.radar={axisColor:this.radar?.axisColor||this.lineColor,axisStrokeWidth:this.radar?.axisStrokeWidth||2,axisLabelFontSize:this.radar?.axisLabelFontSize||12,curveOpacity:this.radar?.curveOpacity||.5,curveStrokeWidth:this.radar?.curveStrokeWidth||2,graticuleColor:this.radar?.graticuleColor||"#DEDEDE",graticuleStrokeWidth:this.radar?.graticuleStrokeWidth||1,graticuleOpacity:this.radar?.graticuleOpacity||.3,legendBoxSize:this.radar?.legendBoxSize||12,legendFontSize:this.radar?.legendFontSize||12},this.classText=this.primaryTextColor,this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||(this.darkMode?ur(this.secondaryColor,30):this.secondaryColor),this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=Wt(this.secondaryColor,20),this.git1=Wt(this.pie2||this.secondaryColor,20),this.git2=Wt(this.pie3||this.tertiaryColor,20),this.git3=Wt(this.pie4||Ne(this.primaryColor,{h:-30}),20),this.git4=Wt(this.pie5||Ne(this.primaryColor,{h:-60}),20),this.git5=Wt(this.pie6||Ne(this.primaryColor,{h:-90}),10),this.git6=Wt(this.pie7||Ne(this.primaryColor,{h:60}),10),this.git7=Wt(this.pie8||Ne(this.primaryColor,{h:120}),20),this.gitInv0=this.gitInv0||Ot(this.git0),this.gitInv1=this.gitInv1||Ot(this.git1),this.gitInv2=this.gitInv2||Ot(this.git2),this.gitInv3=this.gitInv3||Ot(this.git3),this.gitInv4=this.gitInv4||Ot(this.git4),this.gitInv5=this.gitInv5||Ot(this.git5),this.gitInv6=this.gitInv6||Ot(this.git6),this.gitInv7=this.gitInv7||Ot(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||Ot(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||Ot(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||Wt(this.background,12),this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||Wt(this.background,2),this.nodeBorder=this.nodeBorder||"#999"}calculate(t){if(typeof t!="object"){this.updateColors();return}const r=Object.keys(t);r.forEach(n=>{this[n]=t[n]}),this.updateColors(),r.forEach(n=>{this[n]=t[n]})}},M(sp,"Theme"),sp),zue=M(e=>{const t=new Hue;return t.calculate(e),t},"getThemeVariables"),ip,Gue=(ip=class{constructor(){this.background="#f4f4f4",this.primaryColor="#ECECFF",this.secondaryColor=Ne(this.primaryColor,{h:120}),this.secondaryColor="#ffffde",this.tertiaryColor=Ne(this.primaryColor,{h:-160}),this.primaryBorderColor=Is(this.primaryColor,this.darkMode),this.secondaryBorderColor=Is(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=Is(this.tertiaryColor,this.darkMode),this.primaryTextColor=Ot(this.primaryColor),this.secondaryTextColor=Ot(this.secondaryColor),this.tertiaryTextColor=Ot(this.tertiaryColor),this.lineColor=Ot(this.background),this.textColor=Ot(this.background),this.background="white",this.mainBkg="#ECECFF",this.secondBkg="#ffffde",this.lineColor="#333333",this.border1="#9370DB",this.border2="#aaaa33",this.arrowheadColor="#333333",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.labelBackground="rgba(232,232,232, 0.8)",this.textColor="#333",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="calculated",this.edgeLabelBackground="calculated",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="black",this.actorLineColor="calculated",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="calculated",this.altSectionBkgColor="calculated",this.sectionBkgColor2="calculated",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="calculated",this.taskTextLightColor="calculated",this.taskTextColor=this.taskTextLightColor,this.taskTextDarkColor="calculated",this.taskTextOutsideColor=this.taskTextDarkColor,this.taskTextClickableColor="calculated",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="calculated",this.critBorderColor="calculated",this.critBkgColor="calculated",this.todayLineColor="calculated",this.vertLineColor="calculated",this.sectionBkgColor=jg(102,102,255,.49),this.altSectionBkgColor="white",this.sectionBkgColor2="#fff400",this.taskBorderColor="#534fbc",this.taskBkgColor="#8a90dd",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="black",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="#534fbc",this.activeTaskBkgColor="#bfc7ff",this.gridColor="lightgrey",this.doneTaskBkgColor="lightgrey",this.doneTaskBorderColor="grey",this.critBorderColor="#ff8888",this.critBkgColor="red",this.todayLineColor="red",this.vertLineColor="navy",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.rowOdd="calculated",this.rowEven="calculated",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222",this.updateColors()}updateColors(){this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||Ne(this.primaryColor,{h:30}),this.cScale4=this.cScale4||Ne(this.primaryColor,{h:60}),this.cScale5=this.cScale5||Ne(this.primaryColor,{h:90}),this.cScale6=this.cScale6||Ne(this.primaryColor,{h:120}),this.cScale7=this.cScale7||Ne(this.primaryColor,{h:150}),this.cScale8=this.cScale8||Ne(this.primaryColor,{h:210}),this.cScale9=this.cScale9||Ne(this.primaryColor,{h:270}),this.cScale10=this.cScale10||Ne(this.primaryColor,{h:300}),this.cScale11=this.cScale11||Ne(this.primaryColor,{h:330}),this.cScalePeer1=this.cScalePeer1||ur(this.secondaryColor,45),this.cScalePeer2=this.cScalePeer2||ur(this.tertiaryColor,40);for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScale"+t]=ur(this["cScale"+t],10),this["cScalePeer"+t]=this["cScalePeer"+t]||ur(this["cScale"+t],25);for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScaleInv"+t]=this["cScaleInv"+t]||Ne(this["cScale"+t],{h:180});for(let t=0;t<5;t++)this["surface"+t]=this["surface"+t]||Ne(this.mainBkg,{h:30,l:-(5+t*5)}),this["surfacePeer"+t]=this["surfacePeer"+t]||Ne(this.mainBkg,{h:30,l:-(7+t*5)});if(this.scaleLabelColor=this.scaleLabelColor!=="calculated"&&this.scaleLabelColor?this.scaleLabelColor:this.labelTextColor,this.labelTextColor!=="calculated"){this.cScaleLabel0=this.cScaleLabel0||Ot(this.labelTextColor),this.cScaleLabel3=this.cScaleLabel3||Ot(this.labelTextColor);for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScaleLabel"+t]=this["cScaleLabel"+t]||this.labelTextColor}this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.titleColor=this.textColor,this.edgeLabelBackground=this.labelBackground,this.actorBorder=Wt(this.border1,23),this.actorBkg=this.mainBkg,this.labelBoxBkgColor=this.actorBkg,this.signalColor=this.textColor,this.signalTextColor=this.textColor,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.actorTextColor,this.loopTextColor=this.actorTextColor,this.noteBorderColor=this.border2,this.noteTextColor=this.actorTextColor,this.actorLineColor=this.actorBorder,this.taskTextColor=this.taskTextLightColor,this.taskTextOutsideColor=this.taskTextDarkColor,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.rowOdd=this.rowOdd||Wt(this.primaryColor,75)||"#ffffff",this.rowEven=this.rowEven||Wt(this.primaryColor,1),this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f0f0f0",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.nodeBorder,this.specialStateColor=this.lineColor,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=Ne(this.primaryColor,{h:64}),this.fillType3=Ne(this.secondaryColor,{h:64}),this.fillType4=Ne(this.primaryColor,{h:-64}),this.fillType5=Ne(this.secondaryColor,{h:-64}),this.fillType6=Ne(this.primaryColor,{h:128}),this.fillType7=Ne(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||Ne(this.tertiaryColor,{l:-40}),this.pie4=this.pie4||Ne(this.primaryColor,{l:-10}),this.pie5=this.pie5||Ne(this.secondaryColor,{l:-30}),this.pie6=this.pie6||Ne(this.tertiaryColor,{l:-20}),this.pie7=this.pie7||Ne(this.primaryColor,{h:60,l:-20}),this.pie8=this.pie8||Ne(this.primaryColor,{h:-60,l:-40}),this.pie9=this.pie9||Ne(this.primaryColor,{h:120,l:-40}),this.pie10=this.pie10||Ne(this.primaryColor,{h:60,l:-40}),this.pie11=this.pie11||Ne(this.primaryColor,{h:-90,l:-40}),this.pie12=this.pie12||Ne(this.primaryColor,{h:120,l:-30}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||Ne(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||Ne(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||Ne(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||Ne(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||Ne(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||Ne(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||Fm(this.quadrant1Fill)?Wt(this.quadrant1Fill):ur(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.radar={axisColor:this.radar?.axisColor||this.lineColor,axisStrokeWidth:this.radar?.axisStrokeWidth||2,axisLabelFontSize:this.radar?.axisLabelFontSize||12,curveOpacity:this.radar?.curveOpacity||.5,curveStrokeWidth:this.radar?.curveStrokeWidth||2,graticuleColor:this.radar?.graticuleColor||"#DEDEDE",graticuleStrokeWidth:this.radar?.graticuleStrokeWidth||1,graticuleOpacity:this.radar?.graticuleOpacity||.3,legendBoxSize:this.radar?.legendBoxSize||12,legendFontSize:this.radar?.legendFontSize||12},this.xyChart={backgroundColor:this.xyChart?.backgroundColor||this.background,titleColor:this.xyChart?.titleColor||this.primaryTextColor,xAxisTitleColor:this.xyChart?.xAxisTitleColor||this.primaryTextColor,xAxisLabelColor:this.xyChart?.xAxisLabelColor||this.primaryTextColor,xAxisTickColor:this.xyChart?.xAxisTickColor||this.primaryTextColor,xAxisLineColor:this.xyChart?.xAxisLineColor||this.primaryTextColor,yAxisTitleColor:this.xyChart?.yAxisTitleColor||this.primaryTextColor,yAxisLabelColor:this.xyChart?.yAxisLabelColor||this.primaryTextColor,yAxisTickColor:this.xyChart?.yAxisTickColor||this.primaryTextColor,yAxisLineColor:this.xyChart?.yAxisLineColor||this.primaryTextColor,plotColorPalette:this.xyChart?.plotColorPalette||"#ECECFF,#8493A6,#FFC3A0,#DCDDE1,#B8E994,#D1A36F,#C3CDE6,#FFB6C1,#496078,#F8F3E3"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.labelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||Ne(this.primaryColor,{h:-30}),this.git4=this.git4||Ne(this.primaryColor,{h:-60}),this.git5=this.git5||Ne(this.primaryColor,{h:-90}),this.git6=this.git6||Ne(this.primaryColor,{h:60}),this.git7=this.git7||Ne(this.primaryColor,{h:120}),this.darkMode?(this.git0=Wt(this.git0,25),this.git1=Wt(this.git1,25),this.git2=Wt(this.git2,25),this.git3=Wt(this.git3,25),this.git4=Wt(this.git4,25),this.git5=Wt(this.git5,25),this.git6=Wt(this.git6,25),this.git7=Wt(this.git7,25)):(this.git0=ur(this.git0,25),this.git1=ur(this.git1,25),this.git2=ur(this.git2,25),this.git3=ur(this.git3,25),this.git4=ur(this.git4,25),this.git5=ur(this.git5,25),this.git6=ur(this.git6,25),this.git7=ur(this.git7,25)),this.gitInv0=this.gitInv0||ur(Ot(this.git0),25),this.gitInv1=this.gitInv1||Ot(this.git1),this.gitInv2=this.gitInv2||Ot(this.git2),this.gitInv3=this.gitInv3||Ot(this.git3),this.gitInv4=this.gitInv4||Ot(this.git4),this.gitInv5=this.gitInv5||Ot(this.git5),this.gitInv6=this.gitInv6||Ot(this.git6),this.gitInv7=this.gitInv7||Ot(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||Ot(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||Ot(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||Wy,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||Yy}calculate(t){if(Object.keys(this).forEach(n=>{this[n]==="calculated"&&(this[n]=void 0)}),typeof t!="object"){this.updateColors();return}const r=Object.keys(t);r.forEach(n=>{this[n]=t[n]}),this.updateColors(),r.forEach(n=>{this[n]=t[n]})}},M(ip,"Theme"),ip),que=M(e=>{const t=new Gue;return t.calculate(e),t},"getThemeVariables"),op,Wue=(op=class{constructor(){this.background="#f4f4f4",this.primaryColor="#cde498",this.secondaryColor="#cdffb2",this.background="white",this.mainBkg="#cde498",this.secondBkg="#cdffb2",this.lineColor="green",this.border1="#13540c",this.border2="#6eaa49",this.arrowheadColor="green",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.tertiaryColor=Wt("#cde498",10),this.primaryBorderColor=Is(this.primaryColor,this.darkMode),this.secondaryBorderColor=Is(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=Is(this.tertiaryColor,this.darkMode),this.primaryTextColor=Ot(this.primaryColor),this.secondaryTextColor=Ot(this.secondaryColor),this.tertiaryTextColor=Ot(this.primaryColor),this.lineColor=Ot(this.background),this.textColor=Ot(this.background),this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="#333",this.edgeLabelBackground="#e8e8e8",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="black",this.actorLineColor="calculated",this.signalColor="#333",this.signalTextColor="#333",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="#326932",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="#6eaa49",this.altSectionBkgColor="white",this.sectionBkgColor2="#6eaa49",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="#487e3a",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="black",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="lightgrey",this.doneTaskBkgColor="lightgrey",this.doneTaskBorderColor="grey",this.critBorderColor="#ff8888",this.critBkgColor="red",this.todayLineColor="red",this.vertLineColor="#00BFFF",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222"}updateColors(){this.actorBorder=ur(this.mainBkg,20),this.actorBkg=this.mainBkg,this.labelBoxBkgColor=this.actorBkg,this.labelTextColor=this.actorTextColor,this.loopTextColor=this.actorTextColor,this.noteBorderColor=this.border2,this.noteTextColor=this.actorTextColor,this.actorLineColor=this.actorBorder,this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||Ne(this.primaryColor,{h:30}),this.cScale4=this.cScale4||Ne(this.primaryColor,{h:60}),this.cScale5=this.cScale5||Ne(this.primaryColor,{h:90}),this.cScale6=this.cScale6||Ne(this.primaryColor,{h:120}),this.cScale7=this.cScale7||Ne(this.primaryColor,{h:150}),this.cScale8=this.cScale8||Ne(this.primaryColor,{h:210}),this.cScale9=this.cScale9||Ne(this.primaryColor,{h:270}),this.cScale10=this.cScale10||Ne(this.primaryColor,{h:300}),this.cScale11=this.cScale11||Ne(this.primaryColor,{h:330}),this.cScalePeer1=this.cScalePeer1||ur(this.secondaryColor,45),this.cScalePeer2=this.cScalePeer2||ur(this.tertiaryColor,40);for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScale"+t]=ur(this["cScale"+t],10),this["cScalePeer"+t]=this["cScalePeer"+t]||ur(this["cScale"+t],25);for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScaleInv"+t]=this["cScaleInv"+t]||Ne(this["cScale"+t],{h:180});this.scaleLabelColor=this.scaleLabelColor!=="calculated"&&this.scaleLabelColor?this.scaleLabelColor:this.labelTextColor;for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScaleLabel"+t]=this["cScaleLabel"+t]||this.scaleLabelColor;for(let t=0;t<5;t++)this["surface"+t]=this["surface"+t]||Ne(this.mainBkg,{h:30,s:-30,l:-(5+t*5)}),this["surfacePeer"+t]=this["surfacePeer"+t]||Ne(this.mainBkg,{h:30,s:-30,l:-(8+t*5)});this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.taskBorderColor=this.border1,this.taskTextColor=this.taskTextLightColor,this.taskTextOutsideColor=this.taskTextDarkColor,this.activeTaskBorderColor=this.taskBorderColor,this.activeTaskBkgColor=this.mainBkg,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.rowOdd=this.rowOdd||Wt(this.mainBkg,75)||"#ffffff",this.rowEven=this.rowEven||Wt(this.mainBkg,20),this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f0f0f0",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.primaryBorderColor,this.specialStateColor=this.lineColor,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=Ne(this.primaryColor,{h:64}),this.fillType3=Ne(this.secondaryColor,{h:64}),this.fillType4=Ne(this.primaryColor,{h:-64}),this.fillType5=Ne(this.secondaryColor,{h:-64}),this.fillType6=Ne(this.primaryColor,{h:128}),this.fillType7=Ne(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||this.tertiaryColor,this.pie4=this.pie4||Ne(this.primaryColor,{l:-30}),this.pie5=this.pie5||Ne(this.secondaryColor,{l:-30}),this.pie6=this.pie6||Ne(this.tertiaryColor,{h:40,l:-40}),this.pie7=this.pie7||Ne(this.primaryColor,{h:60,l:-10}),this.pie8=this.pie8||Ne(this.primaryColor,{h:-60,l:-10}),this.pie9=this.pie9||Ne(this.primaryColor,{h:120,l:0}),this.pie10=this.pie10||Ne(this.primaryColor,{h:60,l:-50}),this.pie11=this.pie11||Ne(this.primaryColor,{h:-60,l:-50}),this.pie12=this.pie12||Ne(this.primaryColor,{h:120,l:-50}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||Ne(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||Ne(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||Ne(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||Ne(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||Ne(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||Ne(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||Fm(this.quadrant1Fill)?Wt(this.quadrant1Fill):ur(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.packet={startByteColor:this.primaryTextColor,endByteColor:this.primaryTextColor,labelColor:this.primaryTextColor,titleColor:this.primaryTextColor,blockStrokeColor:this.primaryTextColor,blockFillColor:this.mainBkg},this.radar={axisColor:this.radar?.axisColor||this.lineColor,axisStrokeWidth:this.radar?.axisStrokeWidth||2,axisLabelFontSize:this.radar?.axisLabelFontSize||12,curveOpacity:this.radar?.curveOpacity||.5,curveStrokeWidth:this.radar?.curveStrokeWidth||2,graticuleColor:this.radar?.graticuleColor||"#DEDEDE",graticuleStrokeWidth:this.radar?.graticuleStrokeWidth||1,graticuleOpacity:this.radar?.graticuleOpacity||.3,legendBoxSize:this.radar?.legendBoxSize||12,legendFontSize:this.radar?.legendFontSize||12},this.xyChart={backgroundColor:this.xyChart?.backgroundColor||this.background,titleColor:this.xyChart?.titleColor||this.primaryTextColor,xAxisTitleColor:this.xyChart?.xAxisTitleColor||this.primaryTextColor,xAxisLabelColor:this.xyChart?.xAxisLabelColor||this.primaryTextColor,xAxisTickColor:this.xyChart?.xAxisTickColor||this.primaryTextColor,xAxisLineColor:this.xyChart?.xAxisLineColor||this.primaryTextColor,yAxisTitleColor:this.xyChart?.yAxisTitleColor||this.primaryTextColor,yAxisLabelColor:this.xyChart?.yAxisLabelColor||this.primaryTextColor,yAxisTickColor:this.xyChart?.yAxisTickColor||this.primaryTextColor,yAxisLineColor:this.xyChart?.yAxisLineColor||this.primaryTextColor,plotColorPalette:this.xyChart?.plotColorPalette||"#CDE498,#FF6B6B,#A0D2DB,#D7BDE2,#F0F0F0,#FFC3A0,#7FD8BE,#FF9A8B,#FAF3E0,#FFF176"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.edgeLabelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||Ne(this.primaryColor,{h:-30}),this.git4=this.git4||Ne(this.primaryColor,{h:-60}),this.git5=this.git5||Ne(this.primaryColor,{h:-90}),this.git6=this.git6||Ne(this.primaryColor,{h:60}),this.git7=this.git7||Ne(this.primaryColor,{h:120}),this.darkMode?(this.git0=Wt(this.git0,25),this.git1=Wt(this.git1,25),this.git2=Wt(this.git2,25),this.git3=Wt(this.git3,25),this.git4=Wt(this.git4,25),this.git5=Wt(this.git5,25),this.git6=Wt(this.git6,25),this.git7=Wt(this.git7,25)):(this.git0=ur(this.git0,25),this.git1=ur(this.git1,25),this.git2=ur(this.git2,25),this.git3=ur(this.git3,25),this.git4=ur(this.git4,25),this.git5=ur(this.git5,25),this.git6=ur(this.git6,25),this.git7=ur(this.git7,25)),this.gitInv0=this.gitInv0||Ot(this.git0),this.gitInv1=this.gitInv1||Ot(this.git1),this.gitInv2=this.gitInv2||Ot(this.git2),this.gitInv3=this.gitInv3||Ot(this.git3),this.gitInv4=this.gitInv4||Ot(this.git4),this.gitInv5=this.gitInv5||Ot(this.git5),this.gitInv6=this.gitInv6||Ot(this.git6),this.gitInv7=this.gitInv7||Ot(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||Ot(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||Ot(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||Wy,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||Yy}calculate(t){if(typeof t!="object"){this.updateColors();return}const r=Object.keys(t);r.forEach(n=>{this[n]=t[n]}),this.updateColors(),r.forEach(n=>{this[n]=t[n]})}},M(op,"Theme"),op),Yue=M(e=>{const t=new Wue;return t.calculate(e),t},"getThemeVariables"),lp,Vue=(lp=class{constructor(){this.primaryColor="#eee",this.contrast="#707070",this.secondaryColor=Wt(this.contrast,55),this.background="#ffffff",this.tertiaryColor=Ne(this.primaryColor,{h:-160}),this.primaryBorderColor=Is(this.primaryColor,this.darkMode),this.secondaryBorderColor=Is(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=Is(this.tertiaryColor,this.darkMode),this.primaryTextColor=Ot(this.primaryColor),this.secondaryTextColor=Ot(this.secondaryColor),this.tertiaryTextColor=Ot(this.tertiaryColor),this.lineColor=Ot(this.background),this.textColor=Ot(this.background),this.mainBkg="#eee",this.secondBkg="calculated",this.lineColor="#666",this.border1="#999",this.border2="calculated",this.note="#ffa",this.text="#333",this.critical="#d42",this.done="#bbb",this.arrowheadColor="#333333",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="calculated",this.edgeLabelBackground="white",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="calculated",this.actorLineColor=this.actorBorder,this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="calculated",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="calculated",this.altSectionBkgColor="white",this.sectionBkgColor2="calculated",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="calculated",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="calculated",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="calculated",this.critBkgColor="calculated",this.critBorderColor="calculated",this.todayLineColor="calculated",this.vertLineColor="calculated",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.rowOdd=this.rowOdd||Wt(this.mainBkg,75)||"#ffffff",this.rowEven=this.rowEven||"#f4f4f4",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222"}updateColors(){this.secondBkg=Wt(this.contrast,55),this.border2=this.contrast,this.actorBorder=Wt(this.border1,23),this.actorBkg=this.mainBkg,this.actorTextColor=this.text,this.actorLineColor=this.actorBorder,this.signalColor=this.text,this.signalTextColor=this.text,this.labelBoxBkgColor=this.actorBkg,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.text,this.loopTextColor=this.text,this.noteBorderColor="#999",this.noteBkgColor="#666",this.noteTextColor="#fff",this.cScale0=this.cScale0||"#555",this.cScale1=this.cScale1||"#F4F4F4",this.cScale2=this.cScale2||"#555",this.cScale3=this.cScale3||"#BBB",this.cScale4=this.cScale4||"#777",this.cScale5=this.cScale5||"#999",this.cScale6=this.cScale6||"#DDD",this.cScale7=this.cScale7||"#FFF",this.cScale8=this.cScale8||"#DDD",this.cScale9=this.cScale9||"#BBB",this.cScale10=this.cScale10||"#999",this.cScale11=this.cScale11||"#777";for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScaleInv"+t]=this["cScaleInv"+t]||Ot(this["cScale"+t]);for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this.darkMode?this["cScalePeer"+t]=this["cScalePeer"+t]||Wt(this["cScale"+t],10):this["cScalePeer"+t]=this["cScalePeer"+t]||ur(this["cScale"+t],10);this.scaleLabelColor=this.scaleLabelColor||(this.darkMode?"black":this.labelTextColor),this.cScaleLabel0=this.cScaleLabel0||this.cScale1,this.cScaleLabel2=this.cScaleLabel2||this.cScale1;for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScaleLabel"+t]=this["cScaleLabel"+t]||this.scaleLabelColor;for(let t=0;t<5;t++)this["surface"+t]=this["surface"+t]||Ne(this.mainBkg,{l:-(5+t*5)}),this["surfacePeer"+t]=this["surfacePeer"+t]||Ne(this.mainBkg,{l:-(8+t*5)});this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.titleColor=this.text,this.sectionBkgColor=Wt(this.contrast,30),this.sectionBkgColor2=Wt(this.contrast,30),this.taskBorderColor=ur(this.contrast,10),this.taskBkgColor=this.contrast,this.taskTextColor=this.taskTextLightColor,this.taskTextDarkColor=this.text,this.taskTextOutsideColor=this.taskTextDarkColor,this.activeTaskBorderColor=this.taskBorderColor,this.activeTaskBkgColor=this.mainBkg,this.gridColor=Wt(this.border1,30),this.doneTaskBkgColor=this.done,this.doneTaskBorderColor=this.lineColor,this.critBkgColor=this.critical,this.critBorderColor=ur(this.critBkgColor,10),this.todayLineColor=this.critBkgColor,this.vertLineColor=this.critBkgColor,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.transitionColor=this.transitionColor||"#000",this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f4f4f4",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.stateBorder=this.stateBorder||"#000",this.innerEndBackground=this.primaryBorderColor,this.specialStateColor="#222",this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=Ne(this.primaryColor,{h:64}),this.fillType3=Ne(this.secondaryColor,{h:64}),this.fillType4=Ne(this.primaryColor,{h:-64}),this.fillType5=Ne(this.secondaryColor,{h:-64}),this.fillType6=Ne(this.primaryColor,{h:128}),this.fillType7=Ne(this.secondaryColor,{h:128});for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["pie"+t]=this["cScale"+t];this.pie12=this.pie0,this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||Ne(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||Ne(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||Ne(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||Ne(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||Ne(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||Ne(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||Fm(this.quadrant1Fill)?Wt(this.quadrant1Fill):ur(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:this.xyChart?.backgroundColor||this.background,titleColor:this.xyChart?.titleColor||this.primaryTextColor,xAxisTitleColor:this.xyChart?.xAxisTitleColor||this.primaryTextColor,xAxisLabelColor:this.xyChart?.xAxisLabelColor||this.primaryTextColor,xAxisTickColor:this.xyChart?.xAxisTickColor||this.primaryTextColor,xAxisLineColor:this.xyChart?.xAxisLineColor||this.primaryTextColor,yAxisTitleColor:this.xyChart?.yAxisTitleColor||this.primaryTextColor,yAxisLabelColor:this.xyChart?.yAxisLabelColor||this.primaryTextColor,yAxisTickColor:this.xyChart?.yAxisTickColor||this.primaryTextColor,yAxisLineColor:this.xyChart?.yAxisLineColor||this.primaryTextColor,plotColorPalette:this.xyChart?.plotColorPalette||"#EEE,#6BB8E4,#8ACB88,#C7ACD6,#E8DCC2,#FFB2A8,#FFF380,#7E8D91,#FFD8B1,#FAF3E0"},this.radar={axisColor:this.radar?.axisColor||this.lineColor,axisStrokeWidth:this.radar?.axisStrokeWidth||2,axisLabelFontSize:this.radar?.axisLabelFontSize||12,curveOpacity:this.radar?.curveOpacity||.5,curveStrokeWidth:this.radar?.curveStrokeWidth||2,graticuleColor:this.radar?.graticuleColor||"#DEDEDE",graticuleStrokeWidth:this.radar?.graticuleStrokeWidth||1,graticuleOpacity:this.radar?.graticuleOpacity||.3,legendBoxSize:this.radar?.legendBoxSize||12,legendFontSize:this.radar?.legendFontSize||12},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.edgeLabelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=ur(this.pie1,25)||this.primaryColor,this.git1=this.pie2||this.secondaryColor,this.git2=this.pie3||this.tertiaryColor,this.git3=this.pie4||Ne(this.primaryColor,{h:-30}),this.git4=this.pie5||Ne(this.primaryColor,{h:-60}),this.git5=this.pie6||Ne(this.primaryColor,{h:-90}),this.git6=this.pie7||Ne(this.primaryColor,{h:60}),this.git7=this.pie8||Ne(this.primaryColor,{h:120}),this.gitInv0=this.gitInv0||Ot(this.git0),this.gitInv1=this.gitInv1||Ot(this.git1),this.gitInv2=this.gitInv2||Ot(this.git2),this.gitInv3=this.gitInv3||Ot(this.git3),this.gitInv4=this.gitInv4||Ot(this.git4),this.gitInv5=this.gitInv5||Ot(this.git5),this.gitInv6=this.gitInv6||Ot(this.git6),this.gitInv7=this.gitInv7||Ot(this.git7),this.branchLabelColor=this.branchLabelColor||this.labelTextColor,this.gitBranchLabel0=this.branchLabelColor,this.gitBranchLabel1="white",this.gitBranchLabel2=this.branchLabelColor,this.gitBranchLabel3="white",this.gitBranchLabel4=this.branchLabelColor,this.gitBranchLabel5=this.branchLabelColor,this.gitBranchLabel6=this.branchLabelColor,this.gitBranchLabel7=this.branchLabelColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||Wy,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||Yy}calculate(t){if(typeof t!="object"){this.updateColors();return}const r=Object.keys(t);r.forEach(n=>{this[n]=t[n]}),this.updateColors(),r.forEach(n=>{this[n]=t[n]})}},M(lp,"Theme"),lp),Kue=M(e=>{const t=new Vue;return t.calculate(e),t},"getThemeVariables"),Sl={base:{getThemeVariables:$ue},dark:{getThemeVariables:zue},default:{getThemeVariables:que},forest:{getThemeVariables:Yue},neutral:{getThemeVariables:Kue}},Io={flowchart:{useMaxWidth:!0,titleTopMargin:25,subGraphTitleMargin:{top:0,bottom:0},diagramPadding:8,htmlLabels:!0,nodeSpacing:50,rankSpacing:50,curve:"basis",padding:15,defaultRenderer:"dagre-wrapper",wrappingWidth:200,inheritDir:!1},sequence:{useMaxWidth:!0,hideUnusedParticipants:!1,activationWidth:10,diagramMarginX:50,diagramMarginY:10,actorMargin:50,width:150,height:65,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",mirrorActors:!0,forceMenus:!1,bottomMarginAdj:1,rightAngles:!1,showSequenceNumbers:!1,actorFontSize:14,actorFontFamily:'"Open Sans", sans-serif',actorFontWeight:400,noteFontSize:14,noteFontFamily:'"trebuchet ms", verdana, arial, sans-serif',noteFontWeight:400,noteAlign:"center",messageFontSize:16,messageFontFamily:'"trebuchet ms", verdana, arial, sans-serif',messageFontWeight:400,wrap:!1,wrapPadding:10,labelBoxWidth:50,labelBoxHeight:20},gantt:{useMaxWidth:!0,titleTopMargin:25,barHeight:20,barGap:4,topPadding:50,rightPadding:75,leftPadding:75,gridLineStartPadding:35,fontSize:11,sectionFontSize:11,numberSectionStyles:4,axisFormat:"%Y-%m-%d",topAxis:!1,displayMode:"",weekday:"sunday"},journey:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,leftMargin:150,maxLabelWidth:360,width:150,height:50,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",bottomMarginAdj:1,rightAngles:!1,taskFontSize:14,taskFontFamily:'"Open Sans", sans-serif',taskMargin:50,activationWidth:10,textPlacement:"fo",actorColours:["#8FBC8F","#7CFC00","#00FFFF","#20B2AA","#B0E0E6","#FFFFE0"],sectionFills:["#191970","#8B008B","#4B0082","#2F4F4F","#800000","#8B4513","#00008B"],sectionColours:["#fff"],titleColor:"",titleFontFamily:'"trebuchet ms", verdana, arial, sans-serif',titleFontSize:"4ex"},class:{useMaxWidth:!0,titleTopMargin:25,arrowMarkerAbsolute:!1,dividerMargin:10,padding:5,textHeight:10,defaultRenderer:"dagre-wrapper",htmlLabels:!1,hideEmptyMembersBox:!1},state:{useMaxWidth:!0,titleTopMargin:25,dividerMargin:10,sizeUnit:5,padding:8,textHeight:10,titleShift:-15,noteMargin:10,forkWidth:70,forkHeight:7,miniPadding:2,fontSizeFactor:5.02,fontSize:24,labelHeight:16,edgeLengthFactor:"20",compositTitleSize:35,radius:5,defaultRenderer:"dagre-wrapper"},er:{useMaxWidth:!0,titleTopMargin:25,diagramPadding:20,layoutDirection:"TB",minEntityWidth:100,minEntityHeight:75,entityPadding:15,nodeSpacing:140,rankSpacing:80,stroke:"gray",fill:"honeydew",fontSize:12},pie:{useMaxWidth:!0,textPosition:.75},quadrantChart:{useMaxWidth:!0,chartWidth:500,chartHeight:500,titleFontSize:20,titlePadding:10,quadrantPadding:5,xAxisLabelPadding:5,yAxisLabelPadding:5,xAxisLabelFontSize:16,yAxisLabelFontSize:16,quadrantLabelFontSize:16,quadrantTextTopPadding:5,pointTextPadding:5,pointLabelFontSize:12,pointRadius:5,xAxisPosition:"top",yAxisPosition:"left",quadrantInternalBorderStrokeWidth:1,quadrantExternalBorderStrokeWidth:2},xyChart:{useMaxWidth:!0,width:700,height:500,titleFontSize:20,titlePadding:10,showDataLabel:!1,showTitle:!0,xAxis:{$ref:"#/$defs/XYChartAxisConfig",showLabel:!0,labelFontSize:14,labelPadding:5,showTitle:!0,titleFontSize:16,titlePadding:5,showTick:!0,tickLength:5,tickWidth:2,showAxisLine:!0,axisLineWidth:2},yAxis:{$ref:"#/$defs/XYChartAxisConfig",showLabel:!0,labelFontSize:14,labelPadding:5,showTitle:!0,titleFontSize:16,titlePadding:5,showTick:!0,tickLength:5,tickWidth:2,showAxisLine:!0,axisLineWidth:2},chartOrientation:"vertical",plotReservedSpacePercent:50},requirement:{useMaxWidth:!0,rect_fill:"#f9f9f9",text_color:"#333",rect_border_size:"0.5px",rect_border_color:"#bbb",rect_min_width:200,rect_min_height:200,fontSize:14,rect_padding:10,line_height:20},mindmap:{useMaxWidth:!0,padding:10,maxNodeWidth:200,layoutAlgorithm:"cose-bilkent"},kanban:{useMaxWidth:!0,padding:8,sectionWidth:200,ticketBaseUrl:""},timeline:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,leftMargin:150,width:150,height:50,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",bottomMarginAdj:1,rightAngles:!1,taskFontSize:14,taskFontFamily:'"Open Sans", sans-serif',taskMargin:50,activationWidth:10,textPlacement:"fo",actorColours:["#8FBC8F","#7CFC00","#00FFFF","#20B2AA","#B0E0E6","#FFFFE0"],sectionFills:["#191970","#8B008B","#4B0082","#2F4F4F","#800000","#8B4513","#00008B"],sectionColours:["#fff"],disableMulticolor:!1},gitGraph:{useMaxWidth:!0,titleTopMargin:25,diagramPadding:8,nodeLabel:{width:75,height:100,x:-25,y:0},mainBranchName:"main",mainBranchOrder:0,showCommitLabel:!0,showBranches:!0,rotateCommitLabel:!0,parallelCommits:!1,arrowMarkerAbsolute:!1},c4:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,c4ShapeMargin:50,c4ShapePadding:20,width:216,height:60,boxMargin:10,c4ShapeInRow:4,nextLinePaddingX:0,c4BoundaryInRow:2,personFontSize:14,personFontFamily:'"Open Sans", sans-serif',personFontWeight:"normal",external_personFontSize:14,external_personFontFamily:'"Open Sans", sans-serif',external_personFontWeight:"normal",systemFontSize:14,systemFontFamily:'"Open Sans", sans-serif',systemFontWeight:"normal",external_systemFontSize:14,external_systemFontFamily:'"Open Sans", sans-serif',external_systemFontWeight:"normal",system_dbFontSize:14,system_dbFontFamily:'"Open Sans", sans-serif',system_dbFontWeight:"normal",external_system_dbFontSize:14,external_system_dbFontFamily:'"Open Sans", sans-serif',external_system_dbFontWeight:"normal",system_queueFontSize:14,system_queueFontFamily:'"Open Sans", sans-serif',system_queueFontWeight:"normal",external_system_queueFontSize:14,external_system_queueFontFamily:'"Open Sans", sans-serif',external_system_queueFontWeight:"normal",boundaryFontSize:14,boundaryFontFamily:'"Open Sans", sans-serif',boundaryFontWeight:"normal",messageFontSize:12,messageFontFamily:'"Open Sans", sans-serif',messageFontWeight:"normal",containerFontSize:14,containerFontFamily:'"Open Sans", sans-serif',containerFontWeight:"normal",external_containerFontSize:14,external_containerFontFamily:'"Open Sans", sans-serif',external_containerFontWeight:"normal",container_dbFontSize:14,container_dbFontFamily:'"Open Sans", sans-serif',container_dbFontWeight:"normal",external_container_dbFontSize:14,external_container_dbFontFamily:'"Open Sans", sans-serif',external_container_dbFontWeight:"normal",container_queueFontSize:14,container_queueFontFamily:'"Open Sans", sans-serif',container_queueFontWeight:"normal",external_container_queueFontSize:14,external_container_queueFontFamily:'"Open Sans", sans-serif',external_container_queueFontWeight:"normal",componentFontSize:14,componentFontFamily:'"Open Sans", sans-serif',componentFontWeight:"normal",external_componentFontSize:14,external_componentFontFamily:'"Open Sans", sans-serif',external_componentFontWeight:"normal",component_dbFontSize:14,component_dbFontFamily:'"Open Sans", sans-serif',component_dbFontWeight:"normal",external_component_dbFontSize:14,external_component_dbFontFamily:'"Open Sans", sans-serif',external_component_dbFontWeight:"normal",component_queueFontSize:14,component_queueFontFamily:'"Open Sans", sans-serif',component_queueFontWeight:"normal",external_component_queueFontSize:14,external_component_queueFontFamily:'"Open Sans", sans-serif',external_component_queueFontWeight:"normal",wrap:!0,wrapPadding:10,person_bg_color:"#08427B",person_border_color:"#073B6F",external_person_bg_color:"#686868",external_person_border_color:"#8A8A8A",system_bg_color:"#1168BD",system_border_color:"#3C7FC0",system_db_bg_color:"#1168BD",system_db_border_color:"#3C7FC0",system_queue_bg_color:"#1168BD",system_queue_border_color:"#3C7FC0",external_system_bg_color:"#999999",external_system_border_color:"#8A8A8A",external_system_db_bg_color:"#999999",external_system_db_border_color:"#8A8A8A",external_system_queue_bg_color:"#999999",external_system_queue_border_color:"#8A8A8A",container_bg_color:"#438DD5",container_border_color:"#3C7FC0",container_db_bg_color:"#438DD5",container_db_border_color:"#3C7FC0",container_queue_bg_color:"#438DD5",container_queue_border_color:"#3C7FC0",external_container_bg_color:"#B3B3B3",external_container_border_color:"#A6A6A6",external_container_db_bg_color:"#B3B3B3",external_container_db_border_color:"#A6A6A6",external_container_queue_bg_color:"#B3B3B3",external_container_queue_border_color:"#A6A6A6",component_bg_color:"#85BBF0",component_border_color:"#78A8D8",component_db_bg_color:"#85BBF0",component_db_border_color:"#78A8D8",component_queue_bg_color:"#85BBF0",component_queue_border_color:"#78A8D8",external_component_bg_color:"#CCCCCC",external_component_border_color:"#BFBFBF",external_component_db_bg_color:"#CCCCCC",external_component_db_border_color:"#BFBFBF",external_component_queue_bg_color:"#CCCCCC",external_component_queue_border_color:"#BFBFBF"},sankey:{useMaxWidth:!0,width:600,height:400,linkColor:"gradient",nodeAlignment:"justify",showValues:!0,prefix:"",suffix:""},block:{useMaxWidth:!0,padding:8},packet:{useMaxWidth:!0,rowHeight:32,bitWidth:32,bitsPerRow:32,showBits:!0,paddingX:5,paddingY:5},architecture:{useMaxWidth:!0,padding:40,iconSize:80,fontSize:16},radar:{useMaxWidth:!0,width:600,height:600,marginTop:50,marginRight:50,marginBottom:50,marginLeft:50,axisScaleFactor:1,axisLabelFactor:1.05,curveTension:.17},theme:"default",look:"classic",handDrawnSeed:0,layout:"dagre",maxTextSize:5e4,maxEdges:500,darkMode:!1,fontFamily:'"trebuchet ms", verdana, arial, sans-serif;',logLevel:5,securityLevel:"strict",startOnLoad:!0,arrowMarkerAbsolute:!1,secure:["secure","securityLevel","startOnLoad","maxTextSize","suppressErrorRendering","maxEdges"],legacyMathML:!1,forceLegacyMathML:!1,deterministicIds:!1,fontSize:16,markdownAutoWrap:!0,suppressErrorRendering:!1},PF={...Io,deterministicIDSeed:void 0,elk:{mergeEdges:!1,nodePlacementStrategy:"BRANDES_KOEPF",forceNodeModelOrder:!1,considerModelOrder:"NODES_AND_EDGES"},themeCSS:void 0,themeVariables:Sl.default.getThemeVariables(),sequence:{...Io.sequence,messageFont:M(function(){return{fontFamily:this.messageFontFamily,fontSize:this.messageFontSize,fontWeight:this.messageFontWeight}},"messageFont"),noteFont:M(function(){return{fontFamily:this.noteFontFamily,fontSize:this.noteFontSize,fontWeight:this.noteFontWeight}},"noteFont"),actorFont:M(function(){return{fontFamily:this.actorFontFamily,fontSize:this.actorFontSize,fontWeight:this.actorFontWeight}},"actorFont")},class:{hideEmptyMembersBox:!1},gantt:{...Io.gantt,tickInterval:void 0,useWidth:void 0},c4:{...Io.c4,useWidth:void 0,personFont:M(function(){return{fontFamily:this.personFontFamily,fontSize:this.personFontSize,fontWeight:this.personFontWeight}},"personFont"),flowchart:{...Io.flowchart,inheritDir:!1},external_personFont:M(function(){return{fontFamily:this.external_personFontFamily,fontSize:this.external_personFontSize,fontWeight:this.external_personFontWeight}},"external_personFont"),systemFont:M(function(){return{fontFamily:this.systemFontFamily,fontSize:this.systemFontSize,fontWeight:this.systemFontWeight}},"systemFont"),external_systemFont:M(function(){return{fontFamily:this.external_systemFontFamily,fontSize:this.external_systemFontSize,fontWeight:this.external_systemFontWeight}},"external_systemFont"),system_dbFont:M(function(){return{fontFamily:this.system_dbFontFamily,fontSize:this.system_dbFontSize,fontWeight:this.system_dbFontWeight}},"system_dbFont"),external_system_dbFont:M(function(){return{fontFamily:this.external_system_dbFontFamily,fontSize:this.external_system_dbFontSize,fontWeight:this.external_system_dbFontWeight}},"external_system_dbFont"),system_queueFont:M(function(){return{fontFamily:this.system_queueFontFamily,fontSize:this.system_queueFontSize,fontWeight:this.system_queueFontWeight}},"system_queueFont"),external_system_queueFont:M(function(){return{fontFamily:this.external_system_queueFontFamily,fontSize:this.external_system_queueFontSize,fontWeight:this.external_system_queueFontWeight}},"external_system_queueFont"),containerFont:M(function(){return{fontFamily:this.containerFontFamily,fontSize:this.containerFontSize,fontWeight:this.containerFontWeight}},"containerFont"),external_containerFont:M(function(){return{fontFamily:this.external_containerFontFamily,fontSize:this.external_containerFontSize,fontWeight:this.external_containerFontWeight}},"external_containerFont"),container_dbFont:M(function(){return{fontFamily:this.container_dbFontFamily,fontSize:this.container_dbFontSize,fontWeight:this.container_dbFontWeight}},"container_dbFont"),external_container_dbFont:M(function(){return{fontFamily:this.external_container_dbFontFamily,fontSize:this.external_container_dbFontSize,fontWeight:this.external_container_dbFontWeight}},"external_container_dbFont"),container_queueFont:M(function(){return{fontFamily:this.container_queueFontFamily,fontSize:this.container_queueFontSize,fontWeight:this.container_queueFontWeight}},"container_queueFont"),external_container_queueFont:M(function(){return{fontFamily:this.external_container_queueFontFamily,fontSize:this.external_container_queueFontSize,fontWeight:this.external_container_queueFontWeight}},"external_container_queueFont"),componentFont:M(function(){return{fontFamily:this.componentFontFamily,fontSize:this.componentFontSize,fontWeight:this.componentFontWeight}},"componentFont"),external_componentFont:M(function(){return{fontFamily:this.external_componentFontFamily,fontSize:this.external_componentFontSize,fontWeight:this.external_componentFontWeight}},"external_componentFont"),component_dbFont:M(function(){return{fontFamily:this.component_dbFontFamily,fontSize:this.component_dbFontSize,fontWeight:this.component_dbFontWeight}},"component_dbFont"),external_component_dbFont:M(function(){return{fontFamily:this.external_component_dbFontFamily,fontSize:this.external_component_dbFontSize,fontWeight:this.external_component_dbFontWeight}},"external_component_dbFont"),component_queueFont:M(function(){return{fontFamily:this.component_queueFontFamily,fontSize:this.component_queueFontSize,fontWeight:this.component_queueFontWeight}},"component_queueFont"),external_component_queueFont:M(function(){return{fontFamily:this.external_component_queueFontFamily,fontSize:this.external_component_queueFontSize,fontWeight:this.external_component_queueFontWeight}},"external_component_queueFont"),boundaryFont:M(function(){return{fontFamily:this.boundaryFontFamily,fontSize:this.boundaryFontSize,fontWeight:this.boundaryFontWeight}},"boundaryFont"),messageFont:M(function(){return{fontFamily:this.messageFontFamily,fontSize:this.messageFontSize,fontWeight:this.messageFontWeight}},"messageFont")},pie:{...Io.pie,useWidth:984},xyChart:{...Io.xyChart,useWidth:void 0},requirement:{...Io.requirement,useWidth:void 0},packet:{...Io.packet},radar:{...Io.radar},treemap:{useMaxWidth:!0,padding:10,diagramPadding:8,showValues:!0,nodeWidth:100,nodeHeight:40,borderWidth:1,valueFontSize:12,labelFontSize:14,valueFormat:","}},jF=M((e,t="")=>Object.keys(e).reduce((r,n)=>Array.isArray(e[n])?r:typeof e[n]=="object"&&e[n]!==null?[...r,t+n,...jF(e[n],"")]:[...r,t+n],[]),"keyify"),Que=new Set(jF(PF,"")),FF=PF,Fb=M(e=>{if(st.debug("sanitizeDirective called with",e),!(typeof e!="object"||e==null)){if(Array.isArray(e)){e.forEach(t=>Fb(t));return}for(const t of Object.keys(e)){if(st.debug("Checking key",t),t.startsWith("__")||t.includes("proto")||t.includes("constr")||!Que.has(t)||e[t]==null){st.debug("sanitize deleting key: ",t),delete e[t];continue}if(typeof e[t]=="object"){st.debug("sanitizing object",t),Fb(e[t]);continue}const r=["themeCSS","fontFamily","altFontFamily"];for(const n of r)t.includes(n)&&(st.debug("sanitizing css option",t),e[t]=Xue(e[t]))}if(e.themeVariables)for(const t of Object.keys(e.themeVariables)){const r=e.themeVariables[t];r?.match&&!r.match(/^[\d "#%(),.;A-Za-z]+$/)&&(e.themeVariables[t]="")}st.debug("After sanitization",e)}},"sanitizeDirective"),Xue=M(e=>{let t=0,r=0;for(const n of e){if(t<r)return"{ /* ERROR: Unbalanced CSS */ }";n==="{"?t++:n==="}"&&r++}return t!==r?"{ /* ERROR: Unbalanced CSS */ }":e},"sanitizeCss"),gp=Object.freeze(FF),Js=Oa({},gp),Bb,yu=[],Bg=Oa({},gp),Vy=M((e,t)=>{let r=Oa({},e),n={};for(const a of t)$F(a),n=Oa(n,a);if(r=Oa(r,n),n.theme&&n.theme in Sl){const a=Oa({},Bb),i=Oa(a.themeVariables||{},n.themeVariables);r.theme&&r.theme in Sl&&(r.themeVariables=Sl[r.theme].getThemeVariables(i))}return Bg=r,HF(Bg),Bg},"updateCurrentConfig"),Zue=M(e=>(Js=Oa({},gp),Js=Oa(Js,e),e.theme&&Sl[e.theme]&&(Js.themeVariables=Sl[e.theme].getThemeVariables(e.themeVariables)),Vy(Js,yu),Js),"setSiteConfig"),Jue=M(e=>{Bb=Oa({},e)},"saveConfigFromInitialize"),ede=M(e=>(Js=Oa(Js,e),Vy(Js,yu),Js),"updateSiteConfig"),BF=M(()=>Oa({},Js),"getSiteConfig"),UF=M(e=>(HF(e),Oa(Bg,e),ps()),"setConfig"),ps=M(()=>Oa({},Bg),"getConfig"),$F=M(e=>{e&&(["secure",...Js.secure??[]].forEach(t=>{Object.hasOwn(e,t)&&(st.debug(`Denied attempt to modify a secure key ${t}`,e[t]),delete e[t])}),Object.keys(e).forEach(t=>{t.startsWith("__")&&delete e[t]}),Object.keys(e).forEach(t=>{typeof e[t]=="string"&&(e[t].includes("<")||e[t].includes(">")||e[t].includes("url(data:"))&&delete e[t],typeof e[t]=="object"&&$F(e[t])}))},"sanitize"),tde=M(e=>{Fb(e),e.fontFamily&&!e.themeVariables?.fontFamily&&(e.themeVariables={...e.themeVariables,fontFamily:e.fontFamily}),yu.push(e),Vy(Js,yu)},"addDirective"),Ub=M((e=Js)=>{yu=[],Vy(e,yu)},"reset"),rde={LAZY_LOAD_DEPRECATED:"The configuration options lazyLoadedDiagrams and loadExternalDiagramsAtStartup are deprecated. Please use registerExternalDiagrams instead."},JO={},nde=M(e=>{JO[e]||(st.warn(rde[e]),JO[e]=!0)},"issueWarning"),HF=M(e=>{e&&(e.lazyLoadedDiagrams||e.loadExternalDiagramsAtStartup)&&nde("LAZY_LOAD_DEPRECATED")},"checkConfig"),WRe=M(()=>{let e={};Bb&&(e=Oa(e,Bb));for(const t of yu)e=Oa(e,t);return e},"getUserDefinedConfig"),Bm=/<br\s*\/?>/gi,ade=M(e=>e?qF(e).replace(/\\n/g,"#br#").split("#br#"):[""],"getRows"),sde=(()=>{let e=!1;return()=>{e||(zF(),e=!0)}})();function zF(){const e="data-temp-href-target";hp.addHook("beforeSanitizeAttributes",t=>{t.tagName==="A"&&t.hasAttribute("target")&&t.setAttribute(e,t.getAttribute("target")??"")}),hp.addHook("afterSanitizeAttributes",t=>{t.tagName==="A"&&t.hasAttribute(e)&&(t.setAttribute("target",t.getAttribute(e)??""),t.removeAttribute(e),t.getAttribute("target")==="_blank"&&t.setAttribute("rel","noopener"))})}M(zF,"setupDompurifyHooks");var GF=M(e=>(sde(),hp.sanitize(e)),"removeScript"),eM=M((e,t)=>{if(t.flowchart?.htmlLabels!==!1){const r=t.securityLevel;r==="antiscript"||r==="strict"?e=GF(e):r!=="loose"&&(e=qF(e),e=e.replace(/</g,"&lt;").replace(/>/g,"&gt;"),e=e.replace(/=/g,"&equals;"),e=cde(e))}return e},"sanitizeMore"),Hi=M((e,t)=>e&&(t.dompurifyConfig?e=hp.sanitize(eM(e,t),t.dompurifyConfig).toString():e=hp.sanitize(eM(e,t),{FORBID_TAGS:["style"]}).toString(),e),"sanitizeText"),ide=M((e,t)=>typeof e=="string"?Hi(e,t):e.flat().map(r=>Hi(r,t)),"sanitizeTextOrArray"),ode=M(e=>Bm.test(e),"hasBreaks"),lde=M(e=>e.split(Bm),"splitBreaks"),cde=M(e=>e.replace(/#br#/g,"<br/>"),"placeholderToBreak"),qF=M(e=>e.replace(Bm,"#br#"),"breakToPlaceholder"),ude=M(e=>{let t="";return e&&(t=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,t=CSS.escape(t)),t},"getUrl"),ja=M(e=>!(e===!1||["false","null","0"].includes(String(e).trim().toLowerCase())),"evaluate"),dde=M(function(...e){const t=e.filter(r=>!isNaN(r));return Math.max(...t)},"getMax"),pde=M(function(...e){const t=e.filter(r=>!isNaN(r));return Math.min(...t)},"getMin"),tM=M(function(e){const t=e.split(/(,)/),r=[];for(let n=0;n<t.length;n++){let a=t[n];if(a===","&&n>0&&n+1<t.length){const i=t[n-1],o=t[n+1];hde(i,o)&&(a=i+","+o,n++,r.pop())}r.push(gde(a))}return r.join("")},"parseGenericTypes"),dT=M((e,t)=>Math.max(0,e.split(t).length-1),"countOccurrence"),hde=M((e,t)=>{const r=dT(e,"~"),n=dT(t,"~");return r===1&&n===1},"shouldCombineSets"),gde=M(e=>{const t=dT(e,"~");let r=!1;if(t<=1)return e;t%2!==0&&e.startsWith("~")&&(e=e.substring(1),r=!0);const n=[...e];let a=n.indexOf("~"),i=n.lastIndexOf("~");for(;a!==-1&&i!==-1&&a!==i;)n[a]="<",n[i]=">",a=n.indexOf("~"),i=n.lastIndexOf("~");return r&&n.unshift("~"),n.join("")},"processSet"),rM=M(()=>window.MathMLElement!==void 0,"isMathMLSupported"),pT=/\$\$(.*)\$\$/g,mp=M(e=>(e.match(pT)?.length??0)>0,"hasKatex"),YRe=M(async(e,t)=>{const r=document.createElement("div");r.innerHTML=await ik(e,t),r.id="katex-temp",r.style.visibility="hidden",r.style.position="absolute",r.style.top="0",document.querySelector("body")?.insertAdjacentElement("beforeend",r);const a={width:r.clientWidth,height:r.clientHeight};return r.remove(),a},"calculateMathMLDimensions"),mde=M(async(e,t)=>{if(!mp(e))return e;if(!(rM()||t.legacyMathML||t.forceLegacyMathML))return e.replace(pT,"MathML is unsupported in this environment.");{const{default:r}=await wr(async()=>{const{default:a}=await import("./katex-qrhCpa0F.js");return{default:a}},[]),n=t.forceLegacyMathML||!rM()&&t.legacyMathML?"htmlAndMathml":"mathml";return e.split(Bm).map(a=>mp(a)?`<div style="display: flex; align-items: center; justify-content: center; white-space: nowrap;">${a}</div>`:`<div>${a}</div>`).join("").replace(pT,(a,i)=>r.renderToString(i,{throwOnError:!0,displayMode:!0,output:n}).replace(/\n/g," ").replace(/<annotation.*<\/annotation>/g,""))}},"renderKatexUnsanitized"),ik=M(async(e,t)=>Hi(await mde(e,t),t),"renderKatexSanitized"),Pp={getRows:ade,sanitizeText:Hi,sanitizeTextOrArray:ide,hasBreaks:ode,splitBreaks:lde,lineBreakRegex:Bm,removeScript:GF,getUrl:ude,evaluate:ja,getMax:dde,getMin:pde},fde=M(function(e,t){for(let r of t)e.attr(r[0],r[1])},"d3Attrs"),bde=M(function(e,t,r){let n=new Map;return r?(n.set("width","100%"),n.set("style",`max-width: ${t}px;`)):(n.set("height",e),n.set("width",t)),n},"calculateSvgSizeAttrs"),WF=M(function(e,t,r,n){const a=bde(t,r,n);fde(e,a)},"configureSvgSize"),yde=M(function(e,t,r,n){const a=t.node().getBBox(),i=a.width,o=a.height;st.info(`SVG bounds: ${i}x${o}`,a);let l=0,u=0;st.info(`Graph bounds: ${l}x${u}`,e),l=i+r*2,u=o+r*2,st.info(`Calculated bounds: ${l}x${u}`),WF(t,u,l,n);const d=`${a.x-r} ${a.y-r} ${a.width+2*r} ${a.height+2*r}`;t.attr("viewBox",d)},"setupGraphViewbox"),ib={},xde=M((e,t,r)=>{let n="";return e in ib&&ib[e]?n=ib[e](r):st.warn(`No theme found for ${e}`),` & {
    font-family: ${r.fontFamily};
    font-size: ${r.fontSize};
    fill: ${r.textColor}
  }
  @keyframes edge-animation-frame {
    from {
      stroke-dashoffset: 0;
    }
  }
  @keyframes dash {
    to {
      stroke-dashoffset: 0;
    }
  }
  & .edge-animation-slow {
    stroke-dasharray: 9,5 !important;
    stroke-dashoffset: 900;
    animation: dash 50s linear infinite;
    stroke-linecap: round;
  }
  & .edge-animation-fast {
    stroke-dasharray: 9,5 !important;
    stroke-dashoffset: 900;
    animation: dash 20s linear infinite;
    stroke-linecap: round;
  }
  /* Classes common for multiple diagrams */

  & .error-icon {
    fill: ${r.errorBkgColor};
  }
  & .error-text {
    fill: ${r.errorTextColor};
    stroke: ${r.errorTextColor};
  }

  & .edge-thickness-normal {
    stroke-width: 1px;
  }
  & .edge-thickness-thick {
    stroke-width: 3.5px
  }
  & .edge-pattern-solid {
    stroke-dasharray: 0;
  }
  & .edge-thickness-invisible {
    stroke-width: 0;
    fill: none;
  }
  & .edge-pattern-dashed{
    stroke-dasharray: 3;
  }
  .edge-pattern-dotted {
    stroke-dasharray: 2;
  }

  & .marker {
    fill: ${r.lineColor};
    stroke: ${r.lineColor};
  }
  & .marker.cross {
    stroke: ${r.lineColor};
  }

  & svg {
    font-family: ${r.fontFamily};
    font-size: ${r.fontSize};
  }
   & p {
    margin: 0
   }

  ${n}

  ${t}
`},"getStyles"),Ede=M((e,t)=>{t!==void 0&&(ib[e]=t)},"addStylesForDiagram"),vde=xde,YF={};cue(YF,{clear:()=>Sde,getAccDescription:()=>Cde,getAccTitle:()=>wde,getDiagramTitle:()=>Ade,setAccDescription:()=>kde,setAccTitle:()=>Tde,setDiagramTitle:()=>_de});var ok="",lk="",ck="",uk=M(e=>Hi(e,ps()),"sanitizeText"),Sde=M(()=>{ok="",ck="",lk=""},"clear"),Tde=M(e=>{ok=uk(e).replace(/^\s+/g,"")},"setAccTitle"),wde=M(()=>ok,"getAccTitle"),kde=M(e=>{ck=uk(e).replace(/\n\s+/g,`
`)},"setAccDescription"),Cde=M(()=>ck,"getAccDescription"),_de=M(e=>{lk=uk(e)},"setDiagramTitle"),Ade=M(()=>lk,"getDiagramTitle"),nM=st,Nde=ak,Sn=ps,VRe=UF,KRe=gp,dk=M(e=>Hi(e,Sn()),"sanitizeText"),Ide=yde,Rde=M(()=>YF,"getCommonDb"),$b={},Hb=M((e,t,r)=>{$b[e]&&nM.warn(`Diagram with id ${e} already registered. Overwriting.`),$b[e]=t,r&&MF(e,r),Ede(e,t.styles),t.injectUtils?.(nM,Nde,Sn,dk,Ide,Rde(),()=>{})},"registerDiagram"),hT=M(e=>{if(e in $b)return $b[e];throw new Dde(e)},"getDiagram"),cp,Dde=(cp=class extends Error{constructor(t){super(`Diagram ${t} not found.`)}},M(cp,"DiagramNotFoundError"),cp),Lde={value:()=>{}};function VF(){for(var e=0,t=arguments.length,r={},n;e<t;++e){if(!(n=arguments[e]+"")||n in r||/[\s.]/.test(n))throw new Error("illegal type: "+n);r[n]=[]}return new ob(r)}function ob(e){this._=e}function Ode(e,t){return e.trim().split(/^|\s+/).map(function(r){var n="",a=r.indexOf(".");if(a>=0&&(n=r.slice(a+1),r=r.slice(0,a)),r&&!t.hasOwnProperty(r))throw new Error("unknown type: "+r);return{type:r,name:n}})}ob.prototype=VF.prototype={constructor:ob,on:function(e,t){var r=this._,n=Ode(e+"",r),a,i=-1,o=n.length;if(arguments.length<2){for(;++i<o;)if((a=(e=n[i]).type)&&(a=Mde(r[a],e.name)))return a;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++i<o;)if(a=(e=n[i]).type)r[a]=aM(r[a],e.name,t);else if(t==null)for(a in r)r[a]=aM(r[a],e.name,null);return this},copy:function(){var e={},t=this._;for(var r in t)e[r]=t[r].slice();return new ob(e)},call:function(e,t){if((a=arguments.length-2)>0)for(var r=new Array(a),n=0,a,i;n<a;++n)r[n]=arguments[n+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(i=this._[e],n=0,a=i.length;n<a;++n)i[n].value.apply(t,r)},apply:function(e,t,r){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var n=this._[e],a=0,i=n.length;a<i;++a)n[a].value.apply(t,r)}};function Mde(e,t){for(var r=0,n=e.length,a;r<n;++r)if((a=e[r]).name===t)return a.value}function aM(e,t,r){for(var n=0,a=e.length;n<a;++n)if(e[n].name===t){e[n]=Lde,e=e.slice(0,n).concat(e.slice(n+1));break}return r!=null&&e.push({name:t,value:r}),e}var gT="http://www.w3.org/1999/xhtml";const sM={svg:"http://www.w3.org/2000/svg",xhtml:gT,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Ky(e){var t=e+="",r=t.indexOf(":");return r>=0&&(t=e.slice(0,r))!=="xmlns"&&(e=e.slice(r+1)),sM.hasOwnProperty(t)?{space:sM[t],local:e}:e}function Pde(e){return function(){var t=this.ownerDocument,r=this.namespaceURI;return r===gT&&t.documentElement.namespaceURI===gT?t.createElement(e):t.createElementNS(r,e)}}function jde(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function KF(e){var t=Ky(e);return(t.local?jde:Pde)(t)}function Fde(){}function pk(e){return e==null?Fde:function(){return this.querySelector(e)}}function Bde(e){typeof e!="function"&&(e=pk(e));for(var t=this._groups,r=t.length,n=new Array(r),a=0;a<r;++a)for(var i=t[a],o=i.length,l=n[a]=new Array(o),u,d,h=0;h<o;++h)(u=i[h])&&(d=e.call(u,u.__data__,h,i))&&("__data__"in u&&(d.__data__=u.__data__),l[h]=d);return new vi(n,this._parents)}function Ude(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function $de(){return[]}function QF(e){return e==null?$de:function(){return this.querySelectorAll(e)}}function Hde(e){return function(){return Ude(e.apply(this,arguments))}}function zde(e){typeof e=="function"?e=Hde(e):e=QF(e);for(var t=this._groups,r=t.length,n=[],a=[],i=0;i<r;++i)for(var o=t[i],l=o.length,u,d=0;d<l;++d)(u=o[d])&&(n.push(e.call(u,u.__data__,d,o)),a.push(u));return new vi(n,a)}function XF(e){return function(){return this.matches(e)}}function ZF(e){return function(t){return t.matches(e)}}var Gde=Array.prototype.find;function qde(e){return function(){return Gde.call(this.children,e)}}function Wde(){return this.firstElementChild}function Yde(e){return this.select(e==null?Wde:qde(typeof e=="function"?e:ZF(e)))}var Vde=Array.prototype.filter;function Kde(){return Array.from(this.children)}function Qde(e){return function(){return Vde.call(this.children,e)}}function Xde(e){return this.selectAll(e==null?Kde:Qde(typeof e=="function"?e:ZF(e)))}function Zde(e){typeof e!="function"&&(e=XF(e));for(var t=this._groups,r=t.length,n=new Array(r),a=0;a<r;++a)for(var i=t[a],o=i.length,l=n[a]=[],u,d=0;d<o;++d)(u=i[d])&&e.call(u,u.__data__,d,i)&&l.push(u);return new vi(n,this._parents)}function JF(e){return new Array(e.length)}function Jde(){return new vi(this._enter||this._groups.map(JF),this._parents)}function zb(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}zb.prototype={constructor:zb,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function epe(e){return function(){return e}}function tpe(e,t,r,n,a,i){for(var o=0,l,u=t.length,d=i.length;o<d;++o)(l=t[o])?(l.__data__=i[o],n[o]=l):r[o]=new zb(e,i[o]);for(;o<u;++o)(l=t[o])&&(a[o]=l)}function rpe(e,t,r,n,a,i,o){var l,u,d=new Map,h=t.length,g=i.length,f=new Array(h),b;for(l=0;l<h;++l)(u=t[l])&&(f[l]=b=o.call(u,u.__data__,l,t)+"",d.has(b)?a[l]=u:d.set(b,u));for(l=0;l<g;++l)b=o.call(e,i[l],l,i)+"",(u=d.get(b))?(n[l]=u,u.__data__=i[l],d.delete(b)):r[l]=new zb(e,i[l]);for(l=0;l<h;++l)(u=t[l])&&d.get(f[l])===u&&(a[l]=u)}function npe(e){return e.__data__}function ape(e,t){if(!arguments.length)return Array.from(this,npe);var r=t?rpe:tpe,n=this._parents,a=this._groups;typeof e!="function"&&(e=epe(e));for(var i=a.length,o=new Array(i),l=new Array(i),u=new Array(i),d=0;d<i;++d){var h=n[d],g=a[d],f=g.length,b=spe(e.call(h,h&&h.__data__,d,n)),x=b.length,E=l[d]=new Array(x),v=o[d]=new Array(x),T=u[d]=new Array(f);r(h,g,E,v,T,b,t);for(var w=0,N=0,R,D;w<x;++w)if(R=E[w]){for(w>=N&&(N=w+1);!(D=v[N])&&++N<x;);R._next=D||null}}return o=new vi(o,n),o._enter=l,o._exit=u,o}function spe(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function ipe(){return new vi(this._exit||this._groups.map(JF),this._parents)}function ope(e,t,r){var n=this.enter(),a=this,i=this.exit();return typeof e=="function"?(n=e(n),n&&(n=n.selection())):n=n.append(e+""),t!=null&&(a=t(a),a&&(a=a.selection())),r==null?i.remove():r(i),n&&a?n.merge(a).order():a}function lpe(e){for(var t=e.selection?e.selection():e,r=this._groups,n=t._groups,a=r.length,i=n.length,o=Math.min(a,i),l=new Array(a),u=0;u<o;++u)for(var d=r[u],h=n[u],g=d.length,f=l[u]=new Array(g),b,x=0;x<g;++x)(b=d[x]||h[x])&&(f[x]=b);for(;u<a;++u)l[u]=r[u];return new vi(l,this._parents)}function cpe(){for(var e=this._groups,t=-1,r=e.length;++t<r;)for(var n=e[t],a=n.length-1,i=n[a],o;--a>=0;)(o=n[a])&&(i&&o.compareDocumentPosition(i)^4&&i.parentNode.insertBefore(o,i),i=o);return this}function upe(e){e||(e=dpe);function t(g,f){return g&&f?e(g.__data__,f.__data__):!g-!f}for(var r=this._groups,n=r.length,a=new Array(n),i=0;i<n;++i){for(var o=r[i],l=o.length,u=a[i]=new Array(l),d,h=0;h<l;++h)(d=o[h])&&(u[h]=d);u.sort(t)}return new vi(a,this._parents).order()}function dpe(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function ppe(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function hpe(){return Array.from(this)}function gpe(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var n=e[t],a=0,i=n.length;a<i;++a){var o=n[a];if(o)return o}return null}function mpe(){let e=0;for(const t of this)++e;return e}function fpe(){return!this.node()}function bpe(e){for(var t=this._groups,r=0,n=t.length;r<n;++r)for(var a=t[r],i=0,o=a.length,l;i<o;++i)(l=a[i])&&e.call(l,l.__data__,i,a);return this}function ype(e){return function(){this.removeAttribute(e)}}function xpe(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Epe(e,t){return function(){this.setAttribute(e,t)}}function vpe(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function Spe(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttribute(e):this.setAttribute(e,r)}}function Tpe(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,r)}}function wpe(e,t){var r=Ky(e);if(arguments.length<2){var n=this.node();return r.local?n.getAttributeNS(r.space,r.local):n.getAttribute(r)}return this.each((t==null?r.local?xpe:ype:typeof t=="function"?r.local?Tpe:Spe:r.local?vpe:Epe)(r,t))}function eB(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function kpe(e){return function(){this.style.removeProperty(e)}}function Cpe(e,t,r){return function(){this.style.setProperty(e,t,r)}}function _pe(e,t,r){return function(){var n=t.apply(this,arguments);n==null?this.style.removeProperty(e):this.style.setProperty(e,n,r)}}function Ape(e,t,r){return arguments.length>1?this.each((t==null?kpe:typeof t=="function"?_pe:Cpe)(e,t,r??"")):fp(this.node(),e)}function fp(e,t){return e.style.getPropertyValue(t)||eB(e).getComputedStyle(e,null).getPropertyValue(t)}function Npe(e){return function(){delete this[e]}}function Ipe(e,t){return function(){this[e]=t}}function Rpe(e,t){return function(){var r=t.apply(this,arguments);r==null?delete this[e]:this[e]=r}}function Dpe(e,t){return arguments.length>1?this.each((t==null?Npe:typeof t=="function"?Rpe:Ipe)(e,t)):this.node()[e]}function tB(e){return e.trim().split(/^|\s+/)}function hk(e){return e.classList||new rB(e)}function rB(e){this._node=e,this._names=tB(e.getAttribute("class")||"")}rB.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function nB(e,t){for(var r=hk(e),n=-1,a=t.length;++n<a;)r.add(t[n])}function aB(e,t){for(var r=hk(e),n=-1,a=t.length;++n<a;)r.remove(t[n])}function Lpe(e){return function(){nB(this,e)}}function Ope(e){return function(){aB(this,e)}}function Mpe(e,t){return function(){(t.apply(this,arguments)?nB:aB)(this,e)}}function Ppe(e,t){var r=tB(e+"");if(arguments.length<2){for(var n=hk(this.node()),a=-1,i=r.length;++a<i;)if(!n.contains(r[a]))return!1;return!0}return this.each((typeof t=="function"?Mpe:t?Lpe:Ope)(r,t))}function jpe(){this.textContent=""}function Fpe(e){return function(){this.textContent=e}}function Bpe(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function Upe(e){return arguments.length?this.each(e==null?jpe:(typeof e=="function"?Bpe:Fpe)(e)):this.node().textContent}function $pe(){this.innerHTML=""}function Hpe(e){return function(){this.innerHTML=e}}function zpe(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function Gpe(e){return arguments.length?this.each(e==null?$pe:(typeof e=="function"?zpe:Hpe)(e)):this.node().innerHTML}function qpe(){this.nextSibling&&this.parentNode.appendChild(this)}function Wpe(){return this.each(qpe)}function Ype(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Vpe(){return this.each(Ype)}function Kpe(e){var t=typeof e=="function"?e:KF(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function Qpe(){return null}function Xpe(e,t){var r=typeof e=="function"?e:KF(e),n=t==null?Qpe:typeof t=="function"?t:pk(t);return this.select(function(){return this.insertBefore(r.apply(this,arguments),n.apply(this,arguments)||null)})}function Zpe(){var e=this.parentNode;e&&e.removeChild(this)}function Jpe(){return this.each(Zpe)}function ehe(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function the(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function rhe(e){return this.select(e?the:ehe)}function nhe(e){return arguments.length?this.property("__data__",e):this.node().__data__}function ahe(e){return function(t){e.call(this,t,this.__data__)}}function she(e){return e.trim().split(/^|\s+/).map(function(t){var r="",n=t.indexOf(".");return n>=0&&(r=t.slice(n+1),t=t.slice(0,n)),{type:t,name:r}})}function ihe(e){return function(){var t=this.__on;if(t){for(var r=0,n=-1,a=t.length,i;r<a;++r)i=t[r],(!e.type||i.type===e.type)&&i.name===e.name?this.removeEventListener(i.type,i.listener,i.options):t[++n]=i;++n?t.length=n:delete this.__on}}}function ohe(e,t,r){return function(){var n=this.__on,a,i=ahe(t);if(n){for(var o=0,l=n.length;o<l;++o)if((a=n[o]).type===e.type&&a.name===e.name){this.removeEventListener(a.type,a.listener,a.options),this.addEventListener(a.type,a.listener=i,a.options=r),a.value=t;return}}this.addEventListener(e.type,i,r),a={type:e.type,name:e.name,value:t,listener:i,options:r},n?n.push(a):this.__on=[a]}}function lhe(e,t,r){var n=she(e+""),a,i=n.length,o;if(arguments.length<2){var l=this.node().__on;if(l){for(var u=0,d=l.length,h;u<d;++u)for(a=0,h=l[u];a<i;++a)if((o=n[a]).type===h.type&&o.name===h.name)return h.value}return}for(l=t?ohe:ihe,a=0;a<i;++a)this.each(l(n[a],t,r));return this}function sB(e,t,r){var n=eB(e),a=n.CustomEvent;typeof a=="function"?a=new a(t,r):(a=n.document.createEvent("Event"),r?(a.initEvent(t,r.bubbles,r.cancelable),a.detail=r.detail):a.initEvent(t,!1,!1)),e.dispatchEvent(a)}function che(e,t){return function(){return sB(this,e,t)}}function uhe(e,t){return function(){return sB(this,e,t.apply(this,arguments))}}function dhe(e,t){return this.each((typeof t=="function"?uhe:che)(e,t))}function*phe(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var n=e[t],a=0,i=n.length,o;a<i;++a)(o=n[a])&&(yield o)}var iB=[null];function vi(e,t){this._groups=e,this._parents=t}function Um(){return new vi([[document.documentElement]],iB)}function hhe(){return this}vi.prototype=Um.prototype={constructor:vi,select:Bde,selectAll:zde,selectChild:Yde,selectChildren:Xde,filter:Zde,data:ape,enter:Jde,exit:ipe,join:ope,merge:lpe,selection:hhe,order:cpe,sort:upe,call:ppe,nodes:hpe,node:gpe,size:mpe,empty:fpe,each:bpe,attr:wpe,style:Ape,property:Dpe,classed:Ppe,text:Upe,html:Gpe,raise:Wpe,lower:Vpe,append:Kpe,insert:Xpe,remove:Jpe,clone:rhe,datum:nhe,on:lhe,dispatch:dhe,[Symbol.iterator]:phe};function sn(e){return typeof e=="string"?new vi([[document.querySelector(e)]],[document.documentElement]):new vi([[e]],iB)}function gk(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function oB(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function $m(){}var om=.7,Gb=1/om,Xd="\\s*([+-]?\\d+)\\s*",lm="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ho="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",ghe=/^#([0-9a-f]{3,8})$/,mhe=new RegExp(`^rgb\\(${Xd},${Xd},${Xd}\\)$`),fhe=new RegExp(`^rgb\\(${Ho},${Ho},${Ho}\\)$`),bhe=new RegExp(`^rgba\\(${Xd},${Xd},${Xd},${lm}\\)$`),yhe=new RegExp(`^rgba\\(${Ho},${Ho},${Ho},${lm}\\)$`),xhe=new RegExp(`^hsl\\(${lm},${Ho},${Ho}\\)$`),Ehe=new RegExp(`^hsla\\(${lm},${Ho},${Ho},${lm}\\)$`),iM={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};gk($m,cm,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:oM,formatHex:oM,formatHex8:vhe,formatHsl:She,formatRgb:lM,toString:lM});function oM(){return this.rgb().formatHex()}function vhe(){return this.rgb().formatHex8()}function She(){return lB(this).formatHsl()}function lM(){return this.rgb().formatRgb()}function cm(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=ghe.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?cM(t):r===3?new ri(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?D0(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?D0(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=mhe.exec(e))?new ri(t[1],t[2],t[3],1):(t=fhe.exec(e))?new ri(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=bhe.exec(e))?D0(t[1],t[2],t[3],t[4]):(t=yhe.exec(e))?D0(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=xhe.exec(e))?pM(t[1],t[2]/100,t[3]/100,1):(t=Ehe.exec(e))?pM(t[1],t[2]/100,t[3]/100,t[4]):iM.hasOwnProperty(e)?cM(iM[e]):e==="transparent"?new ri(NaN,NaN,NaN,0):null}function cM(e){return new ri(e>>16&255,e>>8&255,e&255,1)}function D0(e,t,r,n){return n<=0&&(e=t=r=NaN),new ri(e,t,r,n)}function The(e){return e instanceof $m||(e=cm(e)),e?(e=e.rgb(),new ri(e.r,e.g,e.b,e.opacity)):new ri}function mT(e,t,r,n){return arguments.length===1?The(e):new ri(e,t,r,n??1)}function ri(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}gk(ri,mT,oB($m,{brighter(e){return e=e==null?Gb:Math.pow(Gb,e),new ri(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?om:Math.pow(om,e),new ri(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new ri(uu(this.r),uu(this.g),uu(this.b),qb(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:uM,formatHex:uM,formatHex8:whe,formatRgb:dM,toString:dM}));function uM(){return`#${nu(this.r)}${nu(this.g)}${nu(this.b)}`}function whe(){return`#${nu(this.r)}${nu(this.g)}${nu(this.b)}${nu((isNaN(this.opacity)?1:this.opacity)*255)}`}function dM(){const e=qb(this.opacity);return`${e===1?"rgb(":"rgba("}${uu(this.r)}, ${uu(this.g)}, ${uu(this.b)}${e===1?")":`, ${e})`}`}function qb(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function uu(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function nu(e){return e=uu(e),(e<16?"0":"")+e.toString(16)}function pM(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new oo(e,t,r,n)}function lB(e){if(e instanceof oo)return new oo(e.h,e.s,e.l,e.opacity);if(e instanceof $m||(e=cm(e)),!e)return new oo;if(e instanceof oo)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),i=Math.max(t,r,n),o=NaN,l=i-a,u=(i+a)/2;return l?(t===i?o=(r-n)/l+(r<n)*6:r===i?o=(n-t)/l+2:o=(t-r)/l+4,l/=u<.5?i+a:2-i-a,o*=60):l=u>0&&u<1?0:o,new oo(o,l,u,e.opacity)}function khe(e,t,r,n){return arguments.length===1?lB(e):new oo(e,t,r,n??1)}function oo(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}gk(oo,khe,oB($m,{brighter(e){return e=e==null?Gb:Math.pow(Gb,e),new oo(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?om:Math.pow(om,e),new oo(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new ri(jS(e>=240?e-240:e+120,a,n),jS(e,a,n),jS(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new oo(hM(this.h),L0(this.s),L0(this.l),qb(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=qb(this.opacity);return`${e===1?"hsl(":"hsla("}${hM(this.h)}, ${L0(this.s)*100}%, ${L0(this.l)*100}%${e===1?")":`, ${e})`}`}}));function hM(e){return e=(e||0)%360,e<0?e+360:e}function L0(e){return Math.max(0,Math.min(1,e||0))}function jS(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const mk=e=>()=>e;function cB(e,t){return function(r){return e+r*t}}function Che(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function QRe(e,t){var r=t-e;return r?cB(e,r>180||r<-180?r-360*Math.round(r/360):r):mk(isNaN(e)?t:e)}function _he(e){return(e=+e)==1?uB:function(t,r){return r-t?Che(t,r,e):mk(isNaN(t)?r:t)}}function uB(e,t){var r=t-e;return r?cB(e,r):mk(isNaN(e)?t:e)}const gM=(function e(t){var r=_he(t);function n(a,i){var o=r((a=mT(a)).r,(i=mT(i)).r),l=r(a.g,i.g),u=r(a.b,i.b),d=uB(a.opacity,i.opacity);return function(h){return a.r=o(h),a.g=l(h),a.b=u(h),a.opacity=d(h),a+""}}return n.gamma=e,n})(1);function cc(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}var fT=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,FS=new RegExp(fT.source,"g");function Ahe(e){return function(){return e}}function Nhe(e){return function(t){return e(t)+""}}function Ihe(e,t){var r=fT.lastIndex=FS.lastIndex=0,n,a,i,o=-1,l=[],u=[];for(e=e+"",t=t+"";(n=fT.exec(e))&&(a=FS.exec(t));)(i=a.index)>r&&(i=t.slice(r,i),l[o]?l[o]+=i:l[++o]=i),(n=n[0])===(a=a[0])?l[o]?l[o]+=a:l[++o]=a:(l[++o]=null,u.push({i:o,x:cc(n,a)})),r=FS.lastIndex;return r<t.length&&(i=t.slice(r),l[o]?l[o]+=i:l[++o]=i),l.length<2?u[0]?Nhe(u[0].x):Ahe(t):(t=u.length,function(d){for(var h=0,g;h<t;++h)l[(g=u[h]).i]=g.x(d);return l.join("")})}var mM=180/Math.PI,bT={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function dB(e,t,r,n,a,i){var o,l,u;return(o=Math.sqrt(e*e+t*t))&&(e/=o,t/=o),(u=e*r+t*n)&&(r-=e*u,n-=t*u),(l=Math.sqrt(r*r+n*n))&&(r/=l,n/=l,u/=l),e*n<t*r&&(e=-e,t=-t,u=-u,o=-o),{translateX:a,translateY:i,rotate:Math.atan2(t,e)*mM,skewX:Math.atan(u)*mM,scaleX:o,scaleY:l}}var O0;function Rhe(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?bT:dB(t.a,t.b,t.c,t.d,t.e,t.f)}function Dhe(e){return e==null||(O0||(O0=document.createElementNS("http://www.w3.org/2000/svg","g")),O0.setAttribute("transform",e),!(e=O0.transform.baseVal.consolidate()))?bT:(e=e.matrix,dB(e.a,e.b,e.c,e.d,e.e,e.f))}function pB(e,t,r,n){function a(d){return d.length?d.pop()+" ":""}function i(d,h,g,f,b,x){if(d!==g||h!==f){var E=b.push("translate(",null,t,null,r);x.push({i:E-4,x:cc(d,g)},{i:E-2,x:cc(h,f)})}else(g||f)&&b.push("translate("+g+t+f+r)}function o(d,h,g,f){d!==h?(d-h>180?h+=360:h-d>180&&(d+=360),f.push({i:g.push(a(g)+"rotate(",null,n)-2,x:cc(d,h)})):h&&g.push(a(g)+"rotate("+h+n)}function l(d,h,g,f){d!==h?f.push({i:g.push(a(g)+"skewX(",null,n)-2,x:cc(d,h)}):h&&g.push(a(g)+"skewX("+h+n)}function u(d,h,g,f,b,x){if(d!==g||h!==f){var E=b.push(a(b)+"scale(",null,",",null,")");x.push({i:E-4,x:cc(d,g)},{i:E-2,x:cc(h,f)})}else(g!==1||f!==1)&&b.push(a(b)+"scale("+g+","+f+")")}return function(d,h){var g=[],f=[];return d=e(d),h=e(h),i(d.translateX,d.translateY,h.translateX,h.translateY,g,f),o(d.rotate,h.rotate,g,f),l(d.skewX,h.skewX,g,f),u(d.scaleX,d.scaleY,h.scaleX,h.scaleY,g,f),d=h=null,function(b){for(var x=-1,E=f.length,v;++x<E;)g[(v=f[x]).i]=v.x(b);return g.join("")}}}var Lhe=pB(Rhe,"px, ","px)","deg)"),Ohe=pB(Dhe,", ",")",")"),bp=0,gg=0,Zh=0,hB=1e3,Wb,mg,Yb=0,xu=0,Qy=0,um=typeof performance=="object"&&performance.now?performance:Date,gB=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function fk(){return xu||(gB(Mhe),xu=um.now()+Qy)}function Mhe(){xu=0}function Vb(){this._call=this._time=this._next=null}Vb.prototype=mB.prototype={constructor:Vb,restart:function(e,t,r){if(typeof e!="function")throw new TypeError("callback is not a function");r=(r==null?fk():+r)+(t==null?0:+t),!this._next&&mg!==this&&(mg?mg._next=this:Wb=this,mg=this),this._call=e,this._time=r,yT()},stop:function(){this._call&&(this._call=null,this._time=1/0,yT())}};function mB(e,t,r){var n=new Vb;return n.restart(e,t,r),n}function Phe(){fk(),++bp;for(var e=Wb,t;e;)(t=xu-e._time)>=0&&e._call.call(void 0,t),e=e._next;--bp}function fM(){xu=(Yb=um.now())+Qy,bp=gg=0;try{Phe()}finally{bp=0,Fhe(),xu=0}}function jhe(){var e=um.now(),t=e-Yb;t>hB&&(Qy-=t,Yb=e)}function Fhe(){for(var e,t=Wb,r,n=1/0;t;)t._call?(n>t._time&&(n=t._time),e=t,t=t._next):(r=t._next,t._next=null,t=e?e._next=r:Wb=r);mg=e,yT(n)}function yT(e){if(!bp){gg&&(gg=clearTimeout(gg));var t=e-xu;t>24?(e<1/0&&(gg=setTimeout(fM,e-um.now()-Qy)),Zh&&(Zh=clearInterval(Zh))):(Zh||(Yb=um.now(),Zh=setInterval(jhe,hB)),bp=1,gB(fM))}}function bM(e,t,r){var n=new Vb;return t=t==null?0:+t,n.restart(a=>{n.stop(),e(a+t)},t,r),n}var Bhe=VF("start","end","cancel","interrupt"),Uhe=[],fB=0,yM=1,xT=2,lb=3,xM=4,ET=5,cb=6;function Xy(e,t,r,n,a,i){var o=e.__transition;if(!o)e.__transition={};else if(r in o)return;$he(e,r,{name:t,index:n,group:a,on:Bhe,tween:Uhe,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:fB})}function bk(e,t){var r=bo(e,t);if(r.state>fB)throw new Error("too late; already scheduled");return r}function Vo(e,t){var r=bo(e,t);if(r.state>lb)throw new Error("too late; already running");return r}function bo(e,t){var r=e.__transition;if(!r||!(r=r[t]))throw new Error("transition not found");return r}function $he(e,t,r){var n=e.__transition,a;n[t]=r,r.timer=mB(i,0,r.time);function i(d){r.state=yM,r.timer.restart(o,r.delay,r.time),r.delay<=d&&o(d-r.delay)}function o(d){var h,g,f,b;if(r.state!==yM)return u();for(h in n)if(b=n[h],b.name===r.name){if(b.state===lb)return bM(o);b.state===xM?(b.state=cb,b.timer.stop(),b.on.call("interrupt",e,e.__data__,b.index,b.group),delete n[h]):+h<t&&(b.state=cb,b.timer.stop(),b.on.call("cancel",e,e.__data__,b.index,b.group),delete n[h])}if(bM(function(){r.state===lb&&(r.state=xM,r.timer.restart(l,r.delay,r.time),l(d))}),r.state=xT,r.on.call("start",e,e.__data__,r.index,r.group),r.state===xT){for(r.state=lb,a=new Array(f=r.tween.length),h=0,g=-1;h<f;++h)(b=r.tween[h].value.call(e,e.__data__,r.index,r.group))&&(a[++g]=b);a.length=g+1}}function l(d){for(var h=d<r.duration?r.ease.call(null,d/r.duration):(r.timer.restart(u),r.state=ET,1),g=-1,f=a.length;++g<f;)a[g].call(e,h);r.state===ET&&(r.on.call("end",e,e.__data__,r.index,r.group),u())}function u(){r.state=cb,r.timer.stop(),delete n[t];for(var d in n)return;delete e.__transition}}function Hhe(e,t){var r=e.__transition,n,a,i=!0,o;if(r){t=t==null?null:t+"";for(o in r){if((n=r[o]).name!==t){i=!1;continue}a=n.state>xT&&n.state<ET,n.state=cb,n.timer.stop(),n.on.call(a?"interrupt":"cancel",e,e.__data__,n.index,n.group),delete r[o]}i&&delete e.__transition}}function zhe(e){return this.each(function(){Hhe(this,e)})}function Ghe(e,t){var r,n;return function(){var a=Vo(this,e),i=a.tween;if(i!==r){n=r=i;for(var o=0,l=n.length;o<l;++o)if(n[o].name===t){n=n.slice(),n.splice(o,1);break}}a.tween=n}}function qhe(e,t,r){var n,a;if(typeof r!="function")throw new Error;return function(){var i=Vo(this,e),o=i.tween;if(o!==n){a=(n=o).slice();for(var l={name:t,value:r},u=0,d=a.length;u<d;++u)if(a[u].name===t){a[u]=l;break}u===d&&a.push(l)}i.tween=a}}function Whe(e,t){var r=this._id;if(e+="",arguments.length<2){for(var n=bo(this.node(),r).tween,a=0,i=n.length,o;a<i;++a)if((o=n[a]).name===e)return o.value;return null}return this.each((t==null?Ghe:qhe)(r,e,t))}function yk(e,t,r){var n=e._id;return e.each(function(){var a=Vo(this,n);(a.value||(a.value={}))[t]=r.apply(this,arguments)}),function(a){return bo(a,n).value[t]}}function bB(e,t){var r;return(typeof t=="number"?cc:t instanceof cm?gM:(r=cm(t))?(t=r,gM):Ihe)(e,t)}function Yhe(e){return function(){this.removeAttribute(e)}}function Vhe(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Khe(e,t,r){var n,a=r+"",i;return function(){var o=this.getAttribute(e);return o===a?null:o===n?i:i=t(n=o,r)}}function Qhe(e,t,r){var n,a=r+"",i;return function(){var o=this.getAttributeNS(e.space,e.local);return o===a?null:o===n?i:i=t(n=o,r)}}function Xhe(e,t,r){var n,a,i;return function(){var o,l=r(this),u;return l==null?void this.removeAttribute(e):(o=this.getAttribute(e),u=l+"",o===u?null:o===n&&u===a?i:(a=u,i=t(n=o,l)))}}function Zhe(e,t,r){var n,a,i;return function(){var o,l=r(this),u;return l==null?void this.removeAttributeNS(e.space,e.local):(o=this.getAttributeNS(e.space,e.local),u=l+"",o===u?null:o===n&&u===a?i:(a=u,i=t(n=o,l)))}}function Jhe(e,t){var r=Ky(e),n=r==="transform"?Ohe:bB;return this.attrTween(e,typeof t=="function"?(r.local?Zhe:Xhe)(r,n,yk(this,"attr."+e,t)):t==null?(r.local?Vhe:Yhe)(r):(r.local?Qhe:Khe)(r,n,t))}function ege(e,t){return function(r){this.setAttribute(e,t.call(this,r))}}function tge(e,t){return function(r){this.setAttributeNS(e.space,e.local,t.call(this,r))}}function rge(e,t){var r,n;function a(){var i=t.apply(this,arguments);return i!==n&&(r=(n=i)&&tge(e,i)),r}return a._value=t,a}function nge(e,t){var r,n;function a(){var i=t.apply(this,arguments);return i!==n&&(r=(n=i)&&ege(e,i)),r}return a._value=t,a}function age(e,t){var r="attr."+e;if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;var n=Ky(e);return this.tween(r,(n.local?rge:nge)(n,t))}function sge(e,t){return function(){bk(this,e).delay=+t.apply(this,arguments)}}function ige(e,t){return t=+t,function(){bk(this,e).delay=t}}function oge(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?sge:ige)(t,e)):bo(this.node(),t).delay}function lge(e,t){return function(){Vo(this,e).duration=+t.apply(this,arguments)}}function cge(e,t){return t=+t,function(){Vo(this,e).duration=t}}function uge(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?lge:cge)(t,e)):bo(this.node(),t).duration}function dge(e,t){if(typeof t!="function")throw new Error;return function(){Vo(this,e).ease=t}}function pge(e){var t=this._id;return arguments.length?this.each(dge(t,e)):bo(this.node(),t).ease}function hge(e,t){return function(){var r=t.apply(this,arguments);if(typeof r!="function")throw new Error;Vo(this,e).ease=r}}function gge(e){if(typeof e!="function")throw new Error;return this.each(hge(this._id,e))}function mge(e){typeof e!="function"&&(e=XF(e));for(var t=this._groups,r=t.length,n=new Array(r),a=0;a<r;++a)for(var i=t[a],o=i.length,l=n[a]=[],u,d=0;d<o;++d)(u=i[d])&&e.call(u,u.__data__,d,i)&&l.push(u);return new kl(n,this._parents,this._name,this._id)}function fge(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,r=e._groups,n=t.length,a=r.length,i=Math.min(n,a),o=new Array(n),l=0;l<i;++l)for(var u=t[l],d=r[l],h=u.length,g=o[l]=new Array(h),f,b=0;b<h;++b)(f=u[b]||d[b])&&(g[b]=f);for(;l<n;++l)o[l]=t[l];return new kl(o,this._parents,this._name,this._id)}function bge(e){return(e+"").trim().split(/^|\s+/).every(function(t){var r=t.indexOf(".");return r>=0&&(t=t.slice(0,r)),!t||t==="start"})}function yge(e,t,r){var n,a,i=bge(t)?bk:Vo;return function(){var o=i(this,e),l=o.on;l!==n&&(a=(n=l).copy()).on(t,r),o.on=a}}function xge(e,t){var r=this._id;return arguments.length<2?bo(this.node(),r).on.on(e):this.each(yge(r,e,t))}function Ege(e){return function(){var t=this.parentNode;for(var r in this.__transition)if(+r!==e)return;t&&t.removeChild(this)}}function vge(){return this.on("end.remove",Ege(this._id))}function Sge(e){var t=this._name,r=this._id;typeof e!="function"&&(e=pk(e));for(var n=this._groups,a=n.length,i=new Array(a),o=0;o<a;++o)for(var l=n[o],u=l.length,d=i[o]=new Array(u),h,g,f=0;f<u;++f)(h=l[f])&&(g=e.call(h,h.__data__,f,l))&&("__data__"in h&&(g.__data__=h.__data__),d[f]=g,Xy(d[f],t,r,f,d,bo(h,r)));return new kl(i,this._parents,t,r)}function Tge(e){var t=this._name,r=this._id;typeof e!="function"&&(e=QF(e));for(var n=this._groups,a=n.length,i=[],o=[],l=0;l<a;++l)for(var u=n[l],d=u.length,h,g=0;g<d;++g)if(h=u[g]){for(var f=e.call(h,h.__data__,g,u),b,x=bo(h,r),E=0,v=f.length;E<v;++E)(b=f[E])&&Xy(b,t,r,E,f,x);i.push(f),o.push(h)}return new kl(i,o,t,r)}var wge=Um.prototype.constructor;function kge(){return new wge(this._groups,this._parents)}function Cge(e,t){var r,n,a;return function(){var i=fp(this,e),o=(this.style.removeProperty(e),fp(this,e));return i===o?null:i===r&&o===n?a:a=t(r=i,n=o)}}function yB(e){return function(){this.style.removeProperty(e)}}function _ge(e,t,r){var n,a=r+"",i;return function(){var o=fp(this,e);return o===a?null:o===n?i:i=t(n=o,r)}}function Age(e,t,r){var n,a,i;return function(){var o=fp(this,e),l=r(this),u=l+"";return l==null&&(u=l=(this.style.removeProperty(e),fp(this,e))),o===u?null:o===n&&u===a?i:(a=u,i=t(n=o,l))}}function Nge(e,t){var r,n,a,i="style."+t,o="end."+i,l;return function(){var u=Vo(this,e),d=u.on,h=u.value[i]==null?l||(l=yB(t)):void 0;(d!==r||a!==h)&&(n=(r=d).copy()).on(o,a=h),u.on=n}}function Ige(e,t,r){var n=(e+="")=="transform"?Lhe:bB;return t==null?this.styleTween(e,Cge(e,n)).on("end.style."+e,yB(e)):typeof t=="function"?this.styleTween(e,Age(e,n,yk(this,"style."+e,t))).each(Nge(this._id,e)):this.styleTween(e,_ge(e,n,t),r).on("end.style."+e,null)}function Rge(e,t,r){return function(n){this.style.setProperty(e,t.call(this,n),r)}}function Dge(e,t,r){var n,a;function i(){var o=t.apply(this,arguments);return o!==a&&(n=(a=o)&&Rge(e,o,r)),n}return i._value=t,i}function Lge(e,t,r){var n="style."+(e+="");if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;return this.tween(n,Dge(e,t,r??""))}function Oge(e){return function(){this.textContent=e}}function Mge(e){return function(){var t=e(this);this.textContent=t??""}}function Pge(e){return this.tween("text",typeof e=="function"?Mge(yk(this,"text",e)):Oge(e==null?"":e+""))}function jge(e){return function(t){this.textContent=e.call(this,t)}}function Fge(e){var t,r;function n(){var a=e.apply(this,arguments);return a!==r&&(t=(r=a)&&jge(a)),t}return n._value=e,n}function Bge(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,Fge(e))}function Uge(){for(var e=this._name,t=this._id,r=xB(),n=this._groups,a=n.length,i=0;i<a;++i)for(var o=n[i],l=o.length,u,d=0;d<l;++d)if(u=o[d]){var h=bo(u,t);Xy(u,e,r,d,o,{time:h.time+h.delay+h.duration,delay:0,duration:h.duration,ease:h.ease})}return new kl(n,this._parents,e,r)}function $ge(){var e,t,r=this,n=r._id,a=r.size();return new Promise(function(i,o){var l={value:o},u={value:function(){--a===0&&i()}};r.each(function(){var d=Vo(this,n),h=d.on;h!==e&&(t=(e=h).copy(),t._.cancel.push(l),t._.interrupt.push(l),t._.end.push(u)),d.on=t}),a===0&&i()})}var Hge=0;function kl(e,t,r,n){this._groups=e,this._parents=t,this._name=r,this._id=n}function xB(){return++Hge}var fl=Um.prototype;kl.prototype={constructor:kl,select:Sge,selectAll:Tge,selectChild:fl.selectChild,selectChildren:fl.selectChildren,filter:mge,merge:fge,selection:kge,transition:Uge,call:fl.call,nodes:fl.nodes,node:fl.node,size:fl.size,empty:fl.empty,each:fl.each,on:xge,attr:Jhe,attrTween:age,style:Ige,styleTween:Lge,text:Pge,textTween:Bge,remove:vge,tween:Whe,delay:oge,duration:uge,ease:pge,easeVarying:gge,end:$ge,[Symbol.iterator]:fl[Symbol.iterator]};function zge(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var Gge={time:null,delay:0,duration:250,ease:zge};function qge(e,t){for(var r;!(r=e.__transition)||!(r=r[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return r}function Wge(e){var t,r;e instanceof kl?(t=e._id,e=e._name):(t=xB(),(r=Gge).time=fk(),e=e==null?null:e+"");for(var n=this._groups,a=n.length,i=0;i<a;++i)for(var o=n[i],l=o.length,u,d=0;d<l;++d)(u=o[d])&&Xy(u,e,t,d,o,r||qge(u,t));return new kl(n,this._parents,e,t)}Um.prototype.interrupt=zhe;Um.prototype.transition=Wge;const vT=Math.PI,ST=2*vT,Xc=1e-6,Yge=ST-Xc;function EB(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function Vge(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return EB;const r=10**t;return function(n){this._+=n[0];for(let a=1,i=n.length;a<i;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class Kge{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?EB:Vge(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,i,o){this._append`C${+t},${+r},${+n},${+a},${this._x1=+i},${this._y1=+o}`}arcTo(t,r,n,a,i){if(t=+t,r=+r,n=+n,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,l=this._y1,u=n-t,d=a-r,h=o-t,g=l-r,f=h*h+g*g;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(f>Xc)if(!(Math.abs(g*u-d*h)>Xc)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let b=n-o,x=a-l,E=u*u+d*d,v=b*b+x*x,T=Math.sqrt(E),w=Math.sqrt(f),N=i*Math.tan((vT-Math.acos((E+f-v)/(2*T*w)))/2),R=N/w,D=N/T;Math.abs(R-1)>Xc&&this._append`L${t+R*h},${r+R*g}`,this._append`A${i},${i},0,0,${+(g*b>h*x)},${this._x1=t+D*u},${this._y1=r+D*d}`}}arc(t,r,n,a,i,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(a),u=n*Math.sin(a),d=t+l,h=r+u,g=1^o,f=o?a-i:i-a;this._x1===null?this._append`M${d},${h}`:(Math.abs(this._x1-d)>Xc||Math.abs(this._y1-h)>Xc)&&this._append`L${d},${h}`,n&&(f<0&&(f=f%ST+ST),f>Yge?this._append`A${n},${n},0,1,${g},${t-l},${r-u}A${n},${n},0,1,${g},${this._x1=d},${this._y1=h}`:f>Xc&&this._append`A${n},${n},0,${+(f>=vT)},${g},${this._x1=t+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function Rd(e){return function(){return e}}const XRe=Math.abs,ZRe=Math.atan2,JRe=Math.cos,eDe=Math.max,tDe=Math.min,rDe=Math.sin,nDe=Math.sqrt,EM=1e-12,xk=Math.PI,vM=xk/2,aDe=2*xk;function sDe(e){return e>1?0:e<-1?xk:Math.acos(e)}function iDe(e){return e>=1?vM:e<=-1?-vM:Math.asin(e)}function Qge(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new Kge(t)}function Xge(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function vB(e){this._context=e}vB.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Kb(e){return new vB(e)}function Zge(e){return e[0]}function Jge(e){return e[1]}function eme(e,t){var r=Rd(!0),n=null,a=Kb,i=null,o=Qge(l);e=typeof e=="function"?e:e===void 0?Zge:Rd(e),t=typeof t=="function"?t:t===void 0?Jge:Rd(t);function l(u){var d,h=(u=Xge(u)).length,g,f=!1,b;for(n==null&&(i=a(b=o())),d=0;d<=h;++d)!(d<h&&r(g=u[d],d,u))===f&&((f=!f)?i.lineStart():i.lineEnd()),f&&i.point(+e(g,d,u),+t(g,d,u));if(b)return i=null,b+""||null}return l.x=function(u){return arguments.length?(e=typeof u=="function"?u:Rd(+u),l):e},l.y=function(u){return arguments.length?(t=typeof u=="function"?u:Rd(+u),l):t},l.defined=function(u){return arguments.length?(r=typeof u=="function"?u:Rd(!!u),l):r},l.curve=function(u){return arguments.length?(a=u,n!=null&&(i=a(n)),l):a},l.context=function(u){return arguments.length?(u==null?n=i=null:i=a(n=u),l):n},l}class SB{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function TB(e){return new SB(e,!0)}function wB(e){return new SB(e,!1)}function mc(){}function Qb(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function Zy(e){this._context=e}Zy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Qb(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Qb(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function ub(e){return new Zy(e)}function kB(e){this._context=e}kB.prototype={areaStart:mc,areaEnd:mc,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Qb(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function tme(e){return new kB(e)}function CB(e){this._context=e}CB.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Qb(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function rme(e){return new CB(e)}function _B(e,t){this._basis=new Zy(e),this._beta=t}_B.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var e=this._x,t=this._y,r=e.length-1;if(r>0)for(var n=e[0],a=t[0],i=e[r]-n,o=t[r]-a,l=-1,u;++l<=r;)u=l/r,this._basis.point(this._beta*e[l]+(1-this._beta)*(n+u*i),this._beta*t[l]+(1-this._beta)*(a+u*o));this._x=this._y=null,this._basis.lineEnd()},point:function(e,t){this._x.push(+e),this._y.push(+t)}};const nme=(function e(t){function r(n){return t===1?new Zy(n):new _B(n,t)}return r.beta=function(n){return e(+n)},r})(.85);function Xb(e,t,r){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-r),e._x2,e._y2)}function Ek(e,t){this._context=e,this._k=(1-t)/6}Ek.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Xb(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:Xb(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const AB=(function e(t){function r(n){return new Ek(n,t)}return r.tension=function(n){return e(+n)},r})(0);function vk(e,t){this._context=e,this._k=(1-t)/6}vk.prototype={areaStart:mc,areaEnd:mc,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:Xb(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const ame=(function e(t){function r(n){return new vk(n,t)}return r.tension=function(n){return e(+n)},r})(0);function Sk(e,t){this._context=e,this._k=(1-t)/6}Sk.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Xb(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const sme=(function e(t){function r(n){return new Sk(n,t)}return r.tension=function(n){return e(+n)},r})(0);function Tk(e,t,r){var n=e._x1,a=e._y1,i=e._x2,o=e._y2;if(e._l01_a>EM){var l=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,u=3*e._l01_a*(e._l01_a+e._l12_a);n=(n*l-e._x0*e._l12_2a+e._x2*e._l01_2a)/u,a=(a*l-e._y0*e._l12_2a+e._y2*e._l01_2a)/u}if(e._l23_a>EM){var d=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,h=3*e._l23_a*(e._l23_a+e._l12_a);i=(i*d+e._x1*e._l23_2a-t*e._l12_2a)/h,o=(o*d+e._y1*e._l23_2a-r*e._l12_2a)/h}e._context.bezierCurveTo(n,a,i,o,e._x2,e._y2)}function NB(e,t){this._context=e,this._alpha=t}NB.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var r=this._x2-e,n=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+n*n,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:Tk(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const IB=(function e(t){function r(n){return t?new NB(n,t):new Ek(n,0)}return r.alpha=function(n){return e(+n)},r})(.5);function RB(e,t){this._context=e,this._alpha=t}RB.prototype={areaStart:mc,areaEnd:mc,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){if(e=+e,t=+t,this._point){var r=this._x2-e,n=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+n*n,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:Tk(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const ime=(function e(t){function r(n){return t?new RB(n,t):new vk(n,0)}return r.alpha=function(n){return e(+n)},r})(.5);function DB(e,t){this._context=e,this._alpha=t}DB.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var r=this._x2-e,n=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+n*n,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Tk(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const ome=(function e(t){function r(n){return t?new DB(n,t):new Sk(n,0)}return r.alpha=function(n){return e(+n)},r})(.5);function LB(e){this._context=e}LB.prototype={areaStart:mc,areaEnd:mc,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function lme(e){return new LB(e)}function SM(e){return e<0?-1:1}function TM(e,t,r){var n=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(n||a<0&&-0),o=(r-e._y1)/(a||n<0&&-0),l=(i*a+o*n)/(n+a);return(SM(i)+SM(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(l))||0}function wM(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function BS(e,t,r){var n=e._x0,a=e._y0,i=e._x1,o=e._y1,l=(i-n)/3;e._context.bezierCurveTo(n+l,a+l*t,i-l,o-l*r,i,o)}function Zb(e){this._context=e}Zb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:BS(this,this._t0,wM(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,BS(this,wM(this,r=TM(this,e,t)),r);break;default:BS(this,this._t0,r=TM(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function OB(e){this._context=new MB(e)}(OB.prototype=Object.create(Zb.prototype)).point=function(e,t){Zb.prototype.point.call(this,t,e)};function MB(e){this._context=e}MB.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,i){this._context.bezierCurveTo(t,e,n,r,i,a)}};function PB(e){return new Zb(e)}function jB(e){return new OB(e)}function FB(e){this._context=e}FB.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=kM(e),a=kM(t),i=0,o=1;o<r;++i,++o)this._context.bezierCurveTo(n[0][i],a[0][i],n[1][i],a[1][i],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function kM(e){var t,r=e.length-1,n,a=new Array(r),i=new Array(r),o=new Array(r);for(a[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,i[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/i[t-1],i[t]-=n,o[t]-=n*o[t-1];for(a[r-1]=o[r-1]/i[r-1],t=r-2;t>=0;--t)a[t]=(o[t]-a[t+1])/i[t];for(i[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function BB(e){return new FB(e)}function Jy(e,t){this._context=e,this._t=t}Jy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function UB(e){return new Jy(e,.5)}function $B(e){return new Jy(e,0)}function HB(e){return new Jy(e,1)}function fg(e,t,r){this.k=e,this.x=t,this.y=r}fg.prototype={constructor:fg,scale:function(e){return e===1?this:new fg(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new fg(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};fg.prototype;var cme=M(e=>{const{securityLevel:t}=Sn();let r=sn("body");if(t==="sandbox"){const i=sn(`#i${e}`).node()?.contentDocument??document;r=sn(i.body)}return r.select(`#${e}`)},"selectSvgElement");function wk(e){return typeof e>"u"||e===null}M(wk,"isNothing");function zB(e){return typeof e=="object"&&e!==null}M(zB,"isObject");function GB(e){return Array.isArray(e)?e:wk(e)?[]:[e]}M(GB,"toArray");function qB(e,t){var r,n,a,i;if(t)for(i=Object.keys(t),r=0,n=i.length;r<n;r+=1)a=i[r],e[a]=t[a];return e}M(qB,"extend");function WB(e,t){var r="",n;for(n=0;n<t;n+=1)r+=e;return r}M(WB,"repeat");function YB(e){return e===0&&Number.NEGATIVE_INFINITY===1/e}M(YB,"isNegativeZero");var ume=wk,dme=zB,pme=GB,hme=WB,gme=YB,mme=qB,Ma={isNothing:ume,isObject:dme,toArray:pme,repeat:hme,isNegativeZero:gme,extend:mme};function kk(e,t){var r="",n=e.reason||"(unknown reason)";return e.mark?(e.mark.name&&(r+='in "'+e.mark.name+'" '),r+="("+(e.mark.line+1)+":"+(e.mark.column+1)+")",!t&&e.mark.snippet&&(r+=`

`+e.mark.snippet),n+" "+r):n}M(kk,"formatError");function yp(e,t){Error.call(this),this.name="YAMLException",this.reason=e,this.mark=t,this.message=kk(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}M(yp,"YAMLException$1");yp.prototype=Object.create(Error.prototype);yp.prototype.constructor=yp;yp.prototype.toString=M(function(t){return this.name+": "+kk(this,t)},"toString");var ei=yp;function db(e,t,r,n,a){var i="",o="",l=Math.floor(a/2)-1;return n-t>l&&(i=" ... ",t=n-l+i.length),r-n>l&&(o=" ...",r=n+l-o.length),{str:i+e.slice(t,r).replace(/\t/g,"")+o,pos:n-t+i.length}}M(db,"getLine");function pb(e,t){return Ma.repeat(" ",t-e.length)+e}M(pb,"padStart");function VB(e,t){if(t=Object.create(t||null),!e.buffer)return null;t.maxLength||(t.maxLength=79),typeof t.indent!="number"&&(t.indent=1),typeof t.linesBefore!="number"&&(t.linesBefore=3),typeof t.linesAfter!="number"&&(t.linesAfter=2);for(var r=/\r?\n|\r|\0/g,n=[0],a=[],i,o=-1;i=r.exec(e.buffer);)a.push(i.index),n.push(i.index+i[0].length),e.position<=i.index&&o<0&&(o=n.length-2);o<0&&(o=n.length-1);var l="",u,d,h=Math.min(e.line+t.linesAfter,a.length).toString().length,g=t.maxLength-(t.indent+h+3);for(u=1;u<=t.linesBefore&&!(o-u<0);u++)d=db(e.buffer,n[o-u],a[o-u],e.position-(n[o]-n[o-u]),g),l=Ma.repeat(" ",t.indent)+pb((e.line-u+1).toString(),h)+" | "+d.str+`
`+l;for(d=db(e.buffer,n[o],a[o],e.position,g),l+=Ma.repeat(" ",t.indent)+pb((e.line+1).toString(),h)+" | "+d.str+`
`,l+=Ma.repeat("-",t.indent+h+3+d.pos)+`^
`,u=1;u<=t.linesAfter&&!(o+u>=a.length);u++)d=db(e.buffer,n[o+u],a[o+u],e.position-(n[o]-n[o+u]),g),l+=Ma.repeat(" ",t.indent)+pb((e.line+u+1).toString(),h)+" | "+d.str+`
`;return l.replace(/\n$/,"")}M(VB,"makeSnippet");var fme=VB,bme=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],yme=["scalar","sequence","mapping"];function KB(e){var t={};return e!==null&&Object.keys(e).forEach(function(r){e[r].forEach(function(n){t[String(n)]=r})}),t}M(KB,"compileStyleAliases");function QB(e,t){if(t=t||{},Object.keys(t).forEach(function(r){if(bme.indexOf(r)===-1)throw new ei('Unknown option "'+r+'" is met in definition of "'+e+'" YAML type.')}),this.options=t,this.tag=e,this.kind=t.kind||null,this.resolve=t.resolve||function(){return!0},this.construct=t.construct||function(r){return r},this.instanceOf=t.instanceOf||null,this.predicate=t.predicate||null,this.represent=t.represent||null,this.representName=t.representName||null,this.defaultStyle=t.defaultStyle||null,this.multi=t.multi||!1,this.styleAliases=KB(t.styleAliases||null),yme.indexOf(this.kind)===-1)throw new ei('Unknown kind "'+this.kind+'" is specified for "'+e+'" YAML type.')}M(QB,"Type$1");var hs=QB;function TT(e,t){var r=[];return e[t].forEach(function(n){var a=r.length;r.forEach(function(i,o){i.tag===n.tag&&i.kind===n.kind&&i.multi===n.multi&&(a=o)}),r[a]=n}),r}M(TT,"compileList");function XB(){var e={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},t,r;function n(a){a.multi?(e.multi[a.kind].push(a),e.multi.fallback.push(a)):e[a.kind][a.tag]=e.fallback[a.tag]=a}for(M(n,"collectType"),t=0,r=arguments.length;t<r;t+=1)arguments[t].forEach(n);return e}M(XB,"compileMap");function Jb(e){return this.extend(e)}M(Jb,"Schema$1");Jb.prototype.extend=M(function(t){var r=[],n=[];if(t instanceof hs)n.push(t);else if(Array.isArray(t))n=n.concat(t);else if(t&&(Array.isArray(t.implicit)||Array.isArray(t.explicit)))t.implicit&&(r=r.concat(t.implicit)),t.explicit&&(n=n.concat(t.explicit));else throw new ei("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");r.forEach(function(i){if(!(i instanceof hs))throw new ei("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(i.loadKind&&i.loadKind!=="scalar")throw new ei("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(i.multi)throw new ei("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),n.forEach(function(i){if(!(i instanceof hs))throw new ei("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var a=Object.create(Jb.prototype);return a.implicit=(this.implicit||[]).concat(r),a.explicit=(this.explicit||[]).concat(n),a.compiledImplicit=TT(a,"implicit"),a.compiledExplicit=TT(a,"explicit"),a.compiledTypeMap=XB(a.compiledImplicit,a.compiledExplicit),a},"extend");var xme=Jb,Eme=new hs("tag:yaml.org,2002:str",{kind:"scalar",construct:M(function(e){return e!==null?e:""},"construct")}),vme=new hs("tag:yaml.org,2002:seq",{kind:"sequence",construct:M(function(e){return e!==null?e:[]},"construct")}),Sme=new hs("tag:yaml.org,2002:map",{kind:"mapping",construct:M(function(e){return e!==null?e:{}},"construct")}),Tme=new xme({explicit:[Eme,vme,Sme]});function ZB(e){if(e===null)return!0;var t=e.length;return t===1&&e==="~"||t===4&&(e==="null"||e==="Null"||e==="NULL")}M(ZB,"resolveYamlNull");function JB(){return null}M(JB,"constructYamlNull");function e8(e){return e===null}M(e8,"isNull");var wme=new hs("tag:yaml.org,2002:null",{kind:"scalar",resolve:ZB,construct:JB,predicate:e8,represent:{canonical:M(function(){return"~"},"canonical"),lowercase:M(function(){return"null"},"lowercase"),uppercase:M(function(){return"NULL"},"uppercase"),camelcase:M(function(){return"Null"},"camelcase"),empty:M(function(){return""},"empty")},defaultStyle:"lowercase"});function t8(e){if(e===null)return!1;var t=e.length;return t===4&&(e==="true"||e==="True"||e==="TRUE")||t===5&&(e==="false"||e==="False"||e==="FALSE")}M(t8,"resolveYamlBoolean");function r8(e){return e==="true"||e==="True"||e==="TRUE"}M(r8,"constructYamlBoolean");function n8(e){return Object.prototype.toString.call(e)==="[object Boolean]"}M(n8,"isBoolean");var kme=new hs("tag:yaml.org,2002:bool",{kind:"scalar",resolve:t8,construct:r8,predicate:n8,represent:{lowercase:M(function(e){return e?"true":"false"},"lowercase"),uppercase:M(function(e){return e?"TRUE":"FALSE"},"uppercase"),camelcase:M(function(e){return e?"True":"False"},"camelcase")},defaultStyle:"lowercase"});function a8(e){return 48<=e&&e<=57||65<=e&&e<=70||97<=e&&e<=102}M(a8,"isHexCode");function s8(e){return 48<=e&&e<=55}M(s8,"isOctCode");function i8(e){return 48<=e&&e<=57}M(i8,"isDecCode");function o8(e){if(e===null)return!1;var t=e.length,r=0,n=!1,a;if(!t)return!1;if(a=e[r],(a==="-"||a==="+")&&(a=e[++r]),a==="0"){if(r+1===t)return!0;if(a=e[++r],a==="b"){for(r++;r<t;r++)if(a=e[r],a!=="_"){if(a!=="0"&&a!=="1")return!1;n=!0}return n&&a!=="_"}if(a==="x"){for(r++;r<t;r++)if(a=e[r],a!=="_"){if(!a8(e.charCodeAt(r)))return!1;n=!0}return n&&a!=="_"}if(a==="o"){for(r++;r<t;r++)if(a=e[r],a!=="_"){if(!s8(e.charCodeAt(r)))return!1;n=!0}return n&&a!=="_"}}if(a==="_")return!1;for(;r<t;r++)if(a=e[r],a!=="_"){if(!i8(e.charCodeAt(r)))return!1;n=!0}return!(!n||a==="_")}M(o8,"resolveYamlInteger");function l8(e){var t=e,r=1,n;if(t.indexOf("_")!==-1&&(t=t.replace(/_/g,"")),n=t[0],(n==="-"||n==="+")&&(n==="-"&&(r=-1),t=t.slice(1),n=t[0]),t==="0")return 0;if(n==="0"){if(t[1]==="b")return r*parseInt(t.slice(2),2);if(t[1]==="x")return r*parseInt(t.slice(2),16);if(t[1]==="o")return r*parseInt(t.slice(2),8)}return r*parseInt(t,10)}M(l8,"constructYamlInteger");function c8(e){return Object.prototype.toString.call(e)==="[object Number]"&&e%1===0&&!Ma.isNegativeZero(e)}M(c8,"isInteger");var Cme=new hs("tag:yaml.org,2002:int",{kind:"scalar",resolve:o8,construct:l8,predicate:c8,represent:{binary:M(function(e){return e>=0?"0b"+e.toString(2):"-0b"+e.toString(2).slice(1)},"binary"),octal:M(function(e){return e>=0?"0o"+e.toString(8):"-0o"+e.toString(8).slice(1)},"octal"),decimal:M(function(e){return e.toString(10)},"decimal"),hexadecimal:M(function(e){return e>=0?"0x"+e.toString(16).toUpperCase():"-0x"+e.toString(16).toUpperCase().slice(1)},"hexadecimal")},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),_me=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function u8(e){return!(e===null||!_me.test(e)||e[e.length-1]==="_")}M(u8,"resolveYamlFloat");function d8(e){var t,r;return t=e.replace(/_/g,"").toLowerCase(),r=t[0]==="-"?-1:1,"+-".indexOf(t[0])>=0&&(t=t.slice(1)),t===".inf"?r===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:t===".nan"?NaN:r*parseFloat(t,10)}M(d8,"constructYamlFloat");var Ame=/^[-+]?[0-9]+e/;function p8(e,t){var r;if(isNaN(e))switch(t){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===e)switch(t){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===e)switch(t){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(Ma.isNegativeZero(e))return"-0.0";return r=e.toString(10),Ame.test(r)?r.replace("e",".e"):r}M(p8,"representYamlFloat");function h8(e){return Object.prototype.toString.call(e)==="[object Number]"&&(e%1!==0||Ma.isNegativeZero(e))}M(h8,"isFloat");var Nme=new hs("tag:yaml.org,2002:float",{kind:"scalar",resolve:u8,construct:d8,predicate:h8,represent:p8,defaultStyle:"lowercase"}),g8=Tme.extend({implicit:[wme,kme,Cme,Nme]}),Ime=g8,m8=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),f8=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function b8(e){return e===null?!1:m8.exec(e)!==null||f8.exec(e)!==null}M(b8,"resolveYamlTimestamp");function y8(e){var t,r,n,a,i,o,l,u=0,d=null,h,g,f;if(t=m8.exec(e),t===null&&(t=f8.exec(e)),t===null)throw new Error("Date resolve error");if(r=+t[1],n=+t[2]-1,a=+t[3],!t[4])return new Date(Date.UTC(r,n,a));if(i=+t[4],o=+t[5],l=+t[6],t[7]){for(u=t[7].slice(0,3);u.length<3;)u+="0";u=+u}return t[9]&&(h=+t[10],g=+(t[11]||0),d=(h*60+g)*6e4,t[9]==="-"&&(d=-d)),f=new Date(Date.UTC(r,n,a,i,o,l,u)),d&&f.setTime(f.getTime()-d),f}M(y8,"constructYamlTimestamp");function x8(e){return e.toISOString()}M(x8,"representYamlTimestamp");var Rme=new hs("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:b8,construct:y8,instanceOf:Date,represent:x8});function E8(e){return e==="<<"||e===null}M(E8,"resolveYamlMerge");var Dme=new hs("tag:yaml.org,2002:merge",{kind:"scalar",resolve:E8}),Ck=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function v8(e){if(e===null)return!1;var t,r,n=0,a=e.length,i=Ck;for(r=0;r<a;r++)if(t=i.indexOf(e.charAt(r)),!(t>64)){if(t<0)return!1;n+=6}return n%8===0}M(v8,"resolveYamlBinary");function S8(e){var t,r,n=e.replace(/[\r\n=]/g,""),a=n.length,i=Ck,o=0,l=[];for(t=0;t<a;t++)t%4===0&&t&&(l.push(o>>16&255),l.push(o>>8&255),l.push(o&255)),o=o<<6|i.indexOf(n.charAt(t));return r=a%4*6,r===0?(l.push(o>>16&255),l.push(o>>8&255),l.push(o&255)):r===18?(l.push(o>>10&255),l.push(o>>2&255)):r===12&&l.push(o>>4&255),new Uint8Array(l)}M(S8,"constructYamlBinary");function T8(e){var t="",r=0,n,a,i=e.length,o=Ck;for(n=0;n<i;n++)n%3===0&&n&&(t+=o[r>>18&63],t+=o[r>>12&63],t+=o[r>>6&63],t+=o[r&63]),r=(r<<8)+e[n];return a=i%3,a===0?(t+=o[r>>18&63],t+=o[r>>12&63],t+=o[r>>6&63],t+=o[r&63]):a===2?(t+=o[r>>10&63],t+=o[r>>4&63],t+=o[r<<2&63],t+=o[64]):a===1&&(t+=o[r>>2&63],t+=o[r<<4&63],t+=o[64],t+=o[64]),t}M(T8,"representYamlBinary");function w8(e){return Object.prototype.toString.call(e)==="[object Uint8Array]"}M(w8,"isBinary");var Lme=new hs("tag:yaml.org,2002:binary",{kind:"scalar",resolve:v8,construct:S8,predicate:w8,represent:T8}),Ome=Object.prototype.hasOwnProperty,Mme=Object.prototype.toString;function k8(e){if(e===null)return!0;var t=[],r,n,a,i,o,l=e;for(r=0,n=l.length;r<n;r+=1){if(a=l[r],o=!1,Mme.call(a)!=="[object Object]")return!1;for(i in a)if(Ome.call(a,i))if(!o)o=!0;else return!1;if(!o)return!1;if(t.indexOf(i)===-1)t.push(i);else return!1}return!0}M(k8,"resolveYamlOmap");function C8(e){return e!==null?e:[]}M(C8,"constructYamlOmap");var Pme=new hs("tag:yaml.org,2002:omap",{kind:"sequence",resolve:k8,construct:C8}),jme=Object.prototype.toString;function _8(e){if(e===null)return!0;var t,r,n,a,i,o=e;for(i=new Array(o.length),t=0,r=o.length;t<r;t+=1){if(n=o[t],jme.call(n)!=="[object Object]"||(a=Object.keys(n),a.length!==1))return!1;i[t]=[a[0],n[a[0]]]}return!0}M(_8,"resolveYamlPairs");function A8(e){if(e===null)return[];var t,r,n,a,i,o=e;for(i=new Array(o.length),t=0,r=o.length;t<r;t+=1)n=o[t],a=Object.keys(n),i[t]=[a[0],n[a[0]]];return i}M(A8,"constructYamlPairs");var Fme=new hs("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:_8,construct:A8}),Bme=Object.prototype.hasOwnProperty;function N8(e){if(e===null)return!0;var t,r=e;for(t in r)if(Bme.call(r,t)&&r[t]!==null)return!1;return!0}M(N8,"resolveYamlSet");function I8(e){return e!==null?e:{}}M(I8,"constructYamlSet");var Ume=new hs("tag:yaml.org,2002:set",{kind:"mapping",resolve:N8,construct:I8}),R8=Ime.extend({implicit:[Rme,Dme],explicit:[Lme,Pme,Fme,Ume]}),fc=Object.prototype.hasOwnProperty,ey=1,D8=2,L8=3,ty=4,US=1,$me=2,CM=3,Hme=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,zme=/[\x85\u2028\u2029]/,Gme=/[,\[\]\{\}]/,O8=/^(?:!|!!|![a-z\-]+!)$/i,M8=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function wT(e){return Object.prototype.toString.call(e)}M(wT,"_class");function uo(e){return e===10||e===13}M(uo,"is_EOL");function hc(e){return e===9||e===32}M(hc,"is_WHITE_SPACE");function Rs(e){return e===9||e===32||e===10||e===13}M(Rs,"is_WS_OR_EOL");function au(e){return e===44||e===91||e===93||e===123||e===125}M(au,"is_FLOW_INDICATOR");function P8(e){var t;return 48<=e&&e<=57?e-48:(t=e|32,97<=t&&t<=102?t-97+10:-1)}M(P8,"fromHexCode");function j8(e){return e===120?2:e===117?4:e===85?8:0}M(j8,"escapedHexLen");function F8(e){return 48<=e&&e<=57?e-48:-1}M(F8,"fromDecimalCode");function kT(e){return e===48?"\0":e===97?"\x07":e===98?"\b":e===116||e===9?"	":e===110?`
`:e===118?"\v":e===102?"\f":e===114?"\r":e===101?"\x1B":e===32?" ":e===34?'"':e===47?"/":e===92?"\\":e===78?"":e===95?"":e===76?"\u2028":e===80?"\u2029":""}M(kT,"simpleEscapeSequence");function B8(e){return e<=65535?String.fromCharCode(e):String.fromCharCode((e-65536>>10)+55296,(e-65536&1023)+56320)}M(B8,"charFromCodepoint");var U8=new Array(256),$8=new Array(256);for(Kc=0;Kc<256;Kc++)U8[Kc]=kT(Kc)?1:0,$8[Kc]=kT(Kc);var Kc;function H8(e,t){this.input=e,this.filename=t.filename||null,this.schema=t.schema||R8,this.onWarning=t.onWarning||null,this.legacy=t.legacy||!1,this.json=t.json||!1,this.listener=t.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=e.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}M(H8,"State$1");function _k(e,t){var r={name:e.filename,buffer:e.input.slice(0,-1),position:e.position,line:e.line,column:e.position-e.lineStart};return r.snippet=fme(r),new ei(t,r)}M(_k,"generateError");function or(e,t){throw _k(e,t)}M(or,"throwError");function dm(e,t){e.onWarning&&e.onWarning.call(null,_k(e,t))}M(dm,"throwWarning");var _M={YAML:M(function(t,r,n){var a,i,o;t.version!==null&&or(t,"duplication of %YAML directive"),n.length!==1&&or(t,"YAML directive accepts exactly one argument"),a=/^([0-9]+)\.([0-9]+)$/.exec(n[0]),a===null&&or(t,"ill-formed argument of the YAML directive"),i=parseInt(a[1],10),o=parseInt(a[2],10),i!==1&&or(t,"unacceptable YAML version of the document"),t.version=n[0],t.checkLineBreaks=o<2,o!==1&&o!==2&&dm(t,"unsupported YAML version of the document")},"handleYamlDirective"),TAG:M(function(t,r,n){var a,i;n.length!==2&&or(t,"TAG directive accepts exactly two arguments"),a=n[0],i=n[1],O8.test(a)||or(t,"ill-formed tag handle (first argument) of the TAG directive"),fc.call(t.tagMap,a)&&or(t,'there is a previously declared suffix for "'+a+'" tag handle'),M8.test(i)||or(t,"ill-formed tag prefix (second argument) of the TAG directive");try{i=decodeURIComponent(i)}catch{or(t,"tag prefix is malformed: "+i)}t.tagMap[a]=i},"handleTagDirective")};function Tl(e,t,r,n){var a,i,o,l;if(t<r){if(l=e.input.slice(t,r),n)for(a=0,i=l.length;a<i;a+=1)o=l.charCodeAt(a),o===9||32<=o&&o<=1114111||or(e,"expected valid JSON character");else Hme.test(l)&&or(e,"the stream contains non-printable characters");e.result+=l}}M(Tl,"captureSegment");function CT(e,t,r,n){var a,i,o,l;for(Ma.isObject(r)||or(e,"cannot merge mappings; the provided source object is unacceptable"),a=Object.keys(r),o=0,l=a.length;o<l;o+=1)i=a[o],fc.call(t,i)||(t[i]=r[i],n[i]=!0)}M(CT,"mergeMappings");function su(e,t,r,n,a,i,o,l,u){var d,h;if(Array.isArray(a))for(a=Array.prototype.slice.call(a),d=0,h=a.length;d<h;d+=1)Array.isArray(a[d])&&or(e,"nested arrays are not supported inside keys"),typeof a=="object"&&wT(a[d])==="[object Object]"&&(a[d]="[object Object]");if(typeof a=="object"&&wT(a)==="[object Object]"&&(a="[object Object]"),a=String(a),t===null&&(t={}),n==="tag:yaml.org,2002:merge")if(Array.isArray(i))for(d=0,h=i.length;d<h;d+=1)CT(e,t,i[d],r);else CT(e,t,i,r);else!e.json&&!fc.call(r,a)&&fc.call(t,a)&&(e.line=o||e.line,e.lineStart=l||e.lineStart,e.position=u||e.position,or(e,"duplicated mapping key")),a==="__proto__"?Object.defineProperty(t,a,{configurable:!0,enumerable:!0,writable:!0,value:i}):t[a]=i,delete r[a];return t}M(su,"storeMappingPair");function ex(e){var t;t=e.input.charCodeAt(e.position),t===10?e.position++:t===13?(e.position++,e.input.charCodeAt(e.position)===10&&e.position++):or(e,"a line break is expected"),e.line+=1,e.lineStart=e.position,e.firstTabInLine=-1}M(ex,"readLineBreak");function ma(e,t,r){for(var n=0,a=e.input.charCodeAt(e.position);a!==0;){for(;hc(a);)a===9&&e.firstTabInLine===-1&&(e.firstTabInLine=e.position),a=e.input.charCodeAt(++e.position);if(t&&a===35)do a=e.input.charCodeAt(++e.position);while(a!==10&&a!==13&&a!==0);if(uo(a))for(ex(e),a=e.input.charCodeAt(e.position),n++,e.lineIndent=0;a===32;)e.lineIndent++,a=e.input.charCodeAt(++e.position);else break}return r!==-1&&n!==0&&e.lineIndent<r&&dm(e,"deficient indentation"),n}M(ma,"skipSeparationSpace");function Hm(e){var t=e.position,r;return r=e.input.charCodeAt(t),!!((r===45||r===46)&&r===e.input.charCodeAt(t+1)&&r===e.input.charCodeAt(t+2)&&(t+=3,r=e.input.charCodeAt(t),r===0||Rs(r)))}M(Hm,"testDocumentSeparator");function tx(e,t){t===1?e.result+=" ":t>1&&(e.result+=Ma.repeat(`
`,t-1))}M(tx,"writeFoldedLines");function z8(e,t,r){var n,a,i,o,l,u,d,h,g=e.kind,f=e.result,b;if(b=e.input.charCodeAt(e.position),Rs(b)||au(b)||b===35||b===38||b===42||b===33||b===124||b===62||b===39||b===34||b===37||b===64||b===96||(b===63||b===45)&&(a=e.input.charCodeAt(e.position+1),Rs(a)||r&&au(a)))return!1;for(e.kind="scalar",e.result="",i=o=e.position,l=!1;b!==0;){if(b===58){if(a=e.input.charCodeAt(e.position+1),Rs(a)||r&&au(a))break}else if(b===35){if(n=e.input.charCodeAt(e.position-1),Rs(n))break}else{if(e.position===e.lineStart&&Hm(e)||r&&au(b))break;if(uo(b))if(u=e.line,d=e.lineStart,h=e.lineIndent,ma(e,!1,-1),e.lineIndent>=t){l=!0,b=e.input.charCodeAt(e.position);continue}else{e.position=o,e.line=u,e.lineStart=d,e.lineIndent=h;break}}l&&(Tl(e,i,o,!1),tx(e,e.line-u),i=o=e.position,l=!1),hc(b)||(o=e.position+1),b=e.input.charCodeAt(++e.position)}return Tl(e,i,o,!1),e.result?!0:(e.kind=g,e.result=f,!1)}M(z8,"readPlainScalar");function G8(e,t){var r,n,a;if(r=e.input.charCodeAt(e.position),r!==39)return!1;for(e.kind="scalar",e.result="",e.position++,n=a=e.position;(r=e.input.charCodeAt(e.position))!==0;)if(r===39)if(Tl(e,n,e.position,!0),r=e.input.charCodeAt(++e.position),r===39)n=e.position,e.position++,a=e.position;else return!0;else uo(r)?(Tl(e,n,a,!0),tx(e,ma(e,!1,t)),n=a=e.position):e.position===e.lineStart&&Hm(e)?or(e,"unexpected end of the document within a single quoted scalar"):(e.position++,a=e.position);or(e,"unexpected end of the stream within a single quoted scalar")}M(G8,"readSingleQuotedScalar");function q8(e,t){var r,n,a,i,o,l;if(l=e.input.charCodeAt(e.position),l!==34)return!1;for(e.kind="scalar",e.result="",e.position++,r=n=e.position;(l=e.input.charCodeAt(e.position))!==0;){if(l===34)return Tl(e,r,e.position,!0),e.position++,!0;if(l===92){if(Tl(e,r,e.position,!0),l=e.input.charCodeAt(++e.position),uo(l))ma(e,!1,t);else if(l<256&&U8[l])e.result+=$8[l],e.position++;else if((o=j8(l))>0){for(a=o,i=0;a>0;a--)l=e.input.charCodeAt(++e.position),(o=P8(l))>=0?i=(i<<4)+o:or(e,"expected hexadecimal character");e.result+=B8(i),e.position++}else or(e,"unknown escape sequence");r=n=e.position}else uo(l)?(Tl(e,r,n,!0),tx(e,ma(e,!1,t)),r=n=e.position):e.position===e.lineStart&&Hm(e)?or(e,"unexpected end of the document within a double quoted scalar"):(e.position++,n=e.position)}or(e,"unexpected end of the stream within a double quoted scalar")}M(q8,"readDoubleQuotedScalar");function W8(e,t){var r=!0,n,a,i,o=e.tag,l,u=e.anchor,d,h,g,f,b,x=Object.create(null),E,v,T,w;if(w=e.input.charCodeAt(e.position),w===91)h=93,b=!1,l=[];else if(w===123)h=125,b=!0,l={};else return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=l),w=e.input.charCodeAt(++e.position);w!==0;){if(ma(e,!0,t),w=e.input.charCodeAt(e.position),w===h)return e.position++,e.tag=o,e.anchor=u,e.kind=b?"mapping":"sequence",e.result=l,!0;r?w===44&&or(e,"expected the node content, but found ','"):or(e,"missed comma between flow collection entries"),v=E=T=null,g=f=!1,w===63&&(d=e.input.charCodeAt(e.position+1),Rs(d)&&(g=f=!0,e.position++,ma(e,!0,t))),n=e.line,a=e.lineStart,i=e.position,Eu(e,t,ey,!1,!0),v=e.tag,E=e.result,ma(e,!0,t),w=e.input.charCodeAt(e.position),(f||e.line===n)&&w===58&&(g=!0,w=e.input.charCodeAt(++e.position),ma(e,!0,t),Eu(e,t,ey,!1,!0),T=e.result),b?su(e,l,x,v,E,T,n,a,i):g?l.push(su(e,null,x,v,E,T,n,a,i)):l.push(E),ma(e,!0,t),w=e.input.charCodeAt(e.position),w===44?(r=!0,w=e.input.charCodeAt(++e.position)):r=!1}or(e,"unexpected end of the stream within a flow collection")}M(W8,"readFlowCollection");function Y8(e,t){var r,n,a=US,i=!1,o=!1,l=t,u=0,d=!1,h,g;if(g=e.input.charCodeAt(e.position),g===124)n=!1;else if(g===62)n=!0;else return!1;for(e.kind="scalar",e.result="";g!==0;)if(g=e.input.charCodeAt(++e.position),g===43||g===45)US===a?a=g===43?CM:$me:or(e,"repeat of a chomping mode identifier");else if((h=F8(g))>=0)h===0?or(e,"bad explicit indentation width of a block scalar; it cannot be less than one"):o?or(e,"repeat of an indentation width identifier"):(l=t+h-1,o=!0);else break;if(hc(g)){do g=e.input.charCodeAt(++e.position);while(hc(g));if(g===35)do g=e.input.charCodeAt(++e.position);while(!uo(g)&&g!==0)}for(;g!==0;){for(ex(e),e.lineIndent=0,g=e.input.charCodeAt(e.position);(!o||e.lineIndent<l)&&g===32;)e.lineIndent++,g=e.input.charCodeAt(++e.position);if(!o&&e.lineIndent>l&&(l=e.lineIndent),uo(g)){u++;continue}if(e.lineIndent<l){a===CM?e.result+=Ma.repeat(`
`,i?1+u:u):a===US&&i&&(e.result+=`
`);break}for(n?hc(g)?(d=!0,e.result+=Ma.repeat(`
`,i?1+u:u)):d?(d=!1,e.result+=Ma.repeat(`
`,u+1)):u===0?i&&(e.result+=" "):e.result+=Ma.repeat(`
`,u):e.result+=Ma.repeat(`
`,i?1+u:u),i=!0,o=!0,u=0,r=e.position;!uo(g)&&g!==0;)g=e.input.charCodeAt(++e.position);Tl(e,r,e.position,!1)}return!0}M(Y8,"readBlockScalar");function _T(e,t){var r,n=e.tag,a=e.anchor,i=[],o,l=!1,u;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=i),u=e.input.charCodeAt(e.position);u!==0&&(e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,or(e,"tab characters must not be used in indentation")),!(u!==45||(o=e.input.charCodeAt(e.position+1),!Rs(o))));){if(l=!0,e.position++,ma(e,!0,-1)&&e.lineIndent<=t){i.push(null),u=e.input.charCodeAt(e.position);continue}if(r=e.line,Eu(e,t,L8,!1,!0),i.push(e.result),ma(e,!0,-1),u=e.input.charCodeAt(e.position),(e.line===r||e.lineIndent>t)&&u!==0)or(e,"bad indentation of a sequence entry");else if(e.lineIndent<t)break}return l?(e.tag=n,e.anchor=a,e.kind="sequence",e.result=i,!0):!1}M(_T,"readBlockSequence");function V8(e,t,r){var n,a,i,o,l,u,d=e.tag,h=e.anchor,g={},f=Object.create(null),b=null,x=null,E=null,v=!1,T=!1,w;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=g),w=e.input.charCodeAt(e.position);w!==0;){if(!v&&e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,or(e,"tab characters must not be used in indentation")),n=e.input.charCodeAt(e.position+1),i=e.line,(w===63||w===58)&&Rs(n))w===63?(v&&(su(e,g,f,b,x,null,o,l,u),b=x=E=null),T=!0,v=!0,a=!0):v?(v=!1,a=!0):or(e,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),e.position+=1,w=n;else{if(o=e.line,l=e.lineStart,u=e.position,!Eu(e,r,D8,!1,!0))break;if(e.line===i){for(w=e.input.charCodeAt(e.position);hc(w);)w=e.input.charCodeAt(++e.position);if(w===58)w=e.input.charCodeAt(++e.position),Rs(w)||or(e,"a whitespace character is expected after the key-value separator within a block mapping"),v&&(su(e,g,f,b,x,null,o,l,u),b=x=E=null),T=!0,v=!1,a=!1,b=e.tag,x=e.result;else if(T)or(e,"can not read an implicit mapping pair; a colon is missed");else return e.tag=d,e.anchor=h,!0}else if(T)or(e,"can not read a block mapping entry; a multiline key may not be an implicit key");else return e.tag=d,e.anchor=h,!0}if((e.line===i||e.lineIndent>t)&&(v&&(o=e.line,l=e.lineStart,u=e.position),Eu(e,t,ty,!0,a)&&(v?x=e.result:E=e.result),v||(su(e,g,f,b,x,E,o,l,u),b=x=E=null),ma(e,!0,-1),w=e.input.charCodeAt(e.position)),(e.line===i||e.lineIndent>t)&&w!==0)or(e,"bad indentation of a mapping entry");else if(e.lineIndent<t)break}return v&&su(e,g,f,b,x,null,o,l,u),T&&(e.tag=d,e.anchor=h,e.kind="mapping",e.result=g),T}M(V8,"readBlockMapping");function K8(e){var t,r=!1,n=!1,a,i,o;if(o=e.input.charCodeAt(e.position),o!==33)return!1;if(e.tag!==null&&or(e,"duplication of a tag property"),o=e.input.charCodeAt(++e.position),o===60?(r=!0,o=e.input.charCodeAt(++e.position)):o===33?(n=!0,a="!!",o=e.input.charCodeAt(++e.position)):a="!",t=e.position,r){do o=e.input.charCodeAt(++e.position);while(o!==0&&o!==62);e.position<e.length?(i=e.input.slice(t,e.position),o=e.input.charCodeAt(++e.position)):or(e,"unexpected end of the stream within a verbatim tag")}else{for(;o!==0&&!Rs(o);)o===33&&(n?or(e,"tag suffix cannot contain exclamation marks"):(a=e.input.slice(t-1,e.position+1),O8.test(a)||or(e,"named tag handle cannot contain such characters"),n=!0,t=e.position+1)),o=e.input.charCodeAt(++e.position);i=e.input.slice(t,e.position),Gme.test(i)&&or(e,"tag suffix cannot contain flow indicator characters")}i&&!M8.test(i)&&or(e,"tag name cannot contain such characters: "+i);try{i=decodeURIComponent(i)}catch{or(e,"tag name is malformed: "+i)}return r?e.tag=i:fc.call(e.tagMap,a)?e.tag=e.tagMap[a]+i:a==="!"?e.tag="!"+i:a==="!!"?e.tag="tag:yaml.org,2002:"+i:or(e,'undeclared tag handle "'+a+'"'),!0}M(K8,"readTagProperty");function Q8(e){var t,r;if(r=e.input.charCodeAt(e.position),r!==38)return!1;for(e.anchor!==null&&or(e,"duplication of an anchor property"),r=e.input.charCodeAt(++e.position),t=e.position;r!==0&&!Rs(r)&&!au(r);)r=e.input.charCodeAt(++e.position);return e.position===t&&or(e,"name of an anchor node must contain at least one character"),e.anchor=e.input.slice(t,e.position),!0}M(Q8,"readAnchorProperty");function X8(e){var t,r,n;if(n=e.input.charCodeAt(e.position),n!==42)return!1;for(n=e.input.charCodeAt(++e.position),t=e.position;n!==0&&!Rs(n)&&!au(n);)n=e.input.charCodeAt(++e.position);return e.position===t&&or(e,"name of an alias node must contain at least one character"),r=e.input.slice(t,e.position),fc.call(e.anchorMap,r)||or(e,'unidentified alias "'+r+'"'),e.result=e.anchorMap[r],ma(e,!0,-1),!0}M(X8,"readAlias");function Eu(e,t,r,n,a){var i,o,l,u=1,d=!1,h=!1,g,f,b,x,E,v;if(e.listener!==null&&e.listener("open",e),e.tag=null,e.anchor=null,e.kind=null,e.result=null,i=o=l=ty===r||L8===r,n&&ma(e,!0,-1)&&(d=!0,e.lineIndent>t?u=1:e.lineIndent===t?u=0:e.lineIndent<t&&(u=-1)),u===1)for(;K8(e)||Q8(e);)ma(e,!0,-1)?(d=!0,l=i,e.lineIndent>t?u=1:e.lineIndent===t?u=0:e.lineIndent<t&&(u=-1)):l=!1;if(l&&(l=d||a),(u===1||ty===r)&&(ey===r||D8===r?E=t:E=t+1,v=e.position-e.lineStart,u===1?l&&(_T(e,v)||V8(e,v,E))||W8(e,E)?h=!0:(o&&Y8(e,E)||G8(e,E)||q8(e,E)?h=!0:X8(e)?(h=!0,(e.tag!==null||e.anchor!==null)&&or(e,"alias node should not have any properties")):z8(e,E,ey===r)&&(h=!0,e.tag===null&&(e.tag="?")),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):u===0&&(h=l&&_T(e,v))),e.tag===null)e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);else if(e.tag==="?"){for(e.result!==null&&e.kind!=="scalar"&&or(e,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+e.kind+'"'),g=0,f=e.implicitTypes.length;g<f;g+=1)if(x=e.implicitTypes[g],x.resolve(e.result)){e.result=x.construct(e.result),e.tag=x.tag,e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);break}}else if(e.tag!=="!"){if(fc.call(e.typeMap[e.kind||"fallback"],e.tag))x=e.typeMap[e.kind||"fallback"][e.tag];else for(x=null,b=e.typeMap.multi[e.kind||"fallback"],g=0,f=b.length;g<f;g+=1)if(e.tag.slice(0,b[g].tag.length)===b[g].tag){x=b[g];break}x||or(e,"unknown tag !<"+e.tag+">"),e.result!==null&&x.kind!==e.kind&&or(e,"unacceptable node kind for !<"+e.tag+'> tag; it should be "'+x.kind+'", not "'+e.kind+'"'),x.resolve(e.result,e.tag)?(e.result=x.construct(e.result,e.tag),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):or(e,"cannot resolve a node with !<"+e.tag+"> explicit tag")}return e.listener!==null&&e.listener("close",e),e.tag!==null||e.anchor!==null||h}M(Eu,"composeNode");function Z8(e){var t=e.position,r,n,a,i=!1,o;for(e.version=null,e.checkLineBreaks=e.legacy,e.tagMap=Object.create(null),e.anchorMap=Object.create(null);(o=e.input.charCodeAt(e.position))!==0&&(ma(e,!0,-1),o=e.input.charCodeAt(e.position),!(e.lineIndent>0||o!==37));){for(i=!0,o=e.input.charCodeAt(++e.position),r=e.position;o!==0&&!Rs(o);)o=e.input.charCodeAt(++e.position);for(n=e.input.slice(r,e.position),a=[],n.length<1&&or(e,"directive name must not be less than one character in length");o!==0;){for(;hc(o);)o=e.input.charCodeAt(++e.position);if(o===35){do o=e.input.charCodeAt(++e.position);while(o!==0&&!uo(o));break}if(uo(o))break;for(r=e.position;o!==0&&!Rs(o);)o=e.input.charCodeAt(++e.position);a.push(e.input.slice(r,e.position))}o!==0&&ex(e),fc.call(_M,n)?_M[n](e,n,a):dm(e,'unknown document directive "'+n+'"')}if(ma(e,!0,-1),e.lineIndent===0&&e.input.charCodeAt(e.position)===45&&e.input.charCodeAt(e.position+1)===45&&e.input.charCodeAt(e.position+2)===45?(e.position+=3,ma(e,!0,-1)):i&&or(e,"directives end mark is expected"),Eu(e,e.lineIndent-1,ty,!1,!0),ma(e,!0,-1),e.checkLineBreaks&&zme.test(e.input.slice(t,e.position))&&dm(e,"non-ASCII line breaks are interpreted as content"),e.documents.push(e.result),e.position===e.lineStart&&Hm(e)){e.input.charCodeAt(e.position)===46&&(e.position+=3,ma(e,!0,-1));return}if(e.position<e.length-1)or(e,"end of the stream or a document separator is expected");else return}M(Z8,"readDocument");function Ak(e,t){e=String(e),t=t||{},e.length!==0&&(e.charCodeAt(e.length-1)!==10&&e.charCodeAt(e.length-1)!==13&&(e+=`
`),e.charCodeAt(0)===65279&&(e=e.slice(1)));var r=new H8(e,t),n=e.indexOf("\0");for(n!==-1&&(r.position=n,or(r,"null byte is not allowed in input")),r.input+="\0";r.input.charCodeAt(r.position)===32;)r.lineIndent+=1,r.position+=1;for(;r.position<r.length-1;)Z8(r);return r.documents}M(Ak,"loadDocuments");function qme(e,t,r){t!==null&&typeof t=="object"&&typeof r>"u"&&(r=t,t=null);var n=Ak(e,r);if(typeof t!="function")return n;for(var a=0,i=n.length;a<i;a+=1)t(n[a])}M(qme,"loadAll$1");function J8(e,t){var r=Ak(e,t);if(r.length!==0){if(r.length===1)return r[0];throw new ei("expected a single document in the stream, but found more")}}M(J8,"load$1");var Wme=J8,Yme={load:Wme},eU=Object.prototype.toString,tU=Object.prototype.hasOwnProperty,Nk=65279,Vme=9,pm=10,Kme=13,Qme=32,Xme=33,Zme=34,AT=35,Jme=37,efe=38,tfe=39,rfe=42,rU=44,nfe=45,ry=58,afe=61,sfe=62,ife=63,ofe=64,nU=91,aU=93,lfe=96,sU=123,cfe=124,iU=125,bs={};bs[0]="\\0";bs[7]="\\a";bs[8]="\\b";bs[9]="\\t";bs[10]="\\n";bs[11]="\\v";bs[12]="\\f";bs[13]="\\r";bs[27]="\\e";bs[34]='\\"';bs[92]="\\\\";bs[133]="\\N";bs[160]="\\_";bs[8232]="\\L";bs[8233]="\\P";var ufe=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],dfe=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function oU(e,t){var r,n,a,i,o,l,u;if(t===null)return{};for(r={},n=Object.keys(t),a=0,i=n.length;a<i;a+=1)o=n[a],l=String(t[o]),o.slice(0,2)==="!!"&&(o="tag:yaml.org,2002:"+o.slice(2)),u=e.compiledTypeMap.fallback[o],u&&tU.call(u.styleAliases,l)&&(l=u.styleAliases[l]),r[o]=l;return r}M(oU,"compileStyleMap");function lU(e){var t,r,n;if(t=e.toString(16).toUpperCase(),e<=255)r="x",n=2;else if(e<=65535)r="u",n=4;else if(e<=4294967295)r="U",n=8;else throw new ei("code point within a string may not be greater than 0xFFFFFFFF");return"\\"+r+Ma.repeat("0",n-t.length)+t}M(lU,"encodeHex");var pfe=1,hm=2;function cU(e){this.schema=e.schema||R8,this.indent=Math.max(1,e.indent||2),this.noArrayIndent=e.noArrayIndent||!1,this.skipInvalid=e.skipInvalid||!1,this.flowLevel=Ma.isNothing(e.flowLevel)?-1:e.flowLevel,this.styleMap=oU(this.schema,e.styles||null),this.sortKeys=e.sortKeys||!1,this.lineWidth=e.lineWidth||80,this.noRefs=e.noRefs||!1,this.noCompatMode=e.noCompatMode||!1,this.condenseFlow=e.condenseFlow||!1,this.quotingType=e.quotingType==='"'?hm:pfe,this.forceQuotes=e.forceQuotes||!1,this.replacer=typeof e.replacer=="function"?e.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}M(cU,"State");function NT(e,t){for(var r=Ma.repeat(" ",t),n=0,a=-1,i="",o,l=e.length;n<l;)a=e.indexOf(`
`,n),a===-1?(o=e.slice(n),n=l):(o=e.slice(n,a+1),n=a+1),o.length&&o!==`
`&&(i+=r),i+=o;return i}M(NT,"indentString");function ny(e,t){return`
`+Ma.repeat(" ",e.indent*t)}M(ny,"generateNextLine");function uU(e,t){var r,n,a;for(r=0,n=e.implicitTypes.length;r<n;r+=1)if(a=e.implicitTypes[r],a.resolve(t))return!0;return!1}M(uU,"testImplicitResolving");function gm(e){return e===Qme||e===Vme}M(gm,"isWhitespace");function xp(e){return 32<=e&&e<=126||161<=e&&e<=55295&&e!==8232&&e!==8233||57344<=e&&e<=65533&&e!==Nk||65536<=e&&e<=1114111}M(xp,"isPrintable");function IT(e){return xp(e)&&e!==Nk&&e!==Kme&&e!==pm}M(IT,"isNsCharOrWhitespace");function RT(e,t,r){var n=IT(e),a=n&&!gm(e);return(r?n:n&&e!==rU&&e!==nU&&e!==aU&&e!==sU&&e!==iU)&&e!==AT&&!(t===ry&&!a)||IT(t)&&!gm(t)&&e===AT||t===ry&&a}M(RT,"isPlainSafe");function dU(e){return xp(e)&&e!==Nk&&!gm(e)&&e!==nfe&&e!==ife&&e!==ry&&e!==rU&&e!==nU&&e!==aU&&e!==sU&&e!==iU&&e!==AT&&e!==efe&&e!==rfe&&e!==Xme&&e!==cfe&&e!==afe&&e!==sfe&&e!==tfe&&e!==Zme&&e!==Jme&&e!==ofe&&e!==lfe}M(dU,"isPlainSafeFirst");function pU(e){return!gm(e)&&e!==ry}M(pU,"isPlainSafeLast");function zd(e,t){var r=e.charCodeAt(t),n;return r>=55296&&r<=56319&&t+1<e.length&&(n=e.charCodeAt(t+1),n>=56320&&n<=57343)?(r-55296)*1024+n-56320+65536:r}M(zd,"codePointAt");function Ik(e){var t=/^\n* /;return t.test(e)}M(Ik,"needIndentIndicator");var hU=1,DT=2,gU=3,mU=4,Ud=5;function fU(e,t,r,n,a,i,o,l){var u,d=0,h=null,g=!1,f=!1,b=n!==-1,x=-1,E=dU(zd(e,0))&&pU(zd(e,e.length-1));if(t||o)for(u=0;u<e.length;d>=65536?u+=2:u++){if(d=zd(e,u),!xp(d))return Ud;E=E&&RT(d,h,l),h=d}else{for(u=0;u<e.length;d>=65536?u+=2:u++){if(d=zd(e,u),d===pm)g=!0,b&&(f=f||u-x-1>n&&e[x+1]!==" ",x=u);else if(!xp(d))return Ud;E=E&&RT(d,h,l),h=d}f=f||b&&u-x-1>n&&e[x+1]!==" "}return!g&&!f?E&&!o&&!a(e)?hU:i===hm?Ud:DT:r>9&&Ik(e)?Ud:o?i===hm?Ud:DT:f?mU:gU}M(fU,"chooseScalarStyle");function bU(e,t,r,n,a){e.dump=(function(){if(t.length===0)return e.quotingType===hm?'""':"''";if(!e.noCompatMode&&(ufe.indexOf(t)!==-1||dfe.test(t)))return e.quotingType===hm?'"'+t+'"':"'"+t+"'";var i=e.indent*Math.max(1,r),o=e.lineWidth===-1?-1:Math.max(Math.min(e.lineWidth,40),e.lineWidth-i),l=n||e.flowLevel>-1&&r>=e.flowLevel;function u(d){return uU(e,d)}switch(M(u,"testAmbiguity"),fU(t,l,e.indent,o,u,e.quotingType,e.forceQuotes&&!n,a)){case hU:return t;case DT:return"'"+t.replace(/'/g,"''")+"'";case gU:return"|"+LT(t,e.indent)+OT(NT(t,i));case mU:return">"+LT(t,e.indent)+OT(NT(yU(t,o),i));case Ud:return'"'+xU(t)+'"';default:throw new ei("impossible error: invalid scalar style")}})()}M(bU,"writeScalar");function LT(e,t){var r=Ik(e)?String(t):"",n=e[e.length-1]===`
`,a=n&&(e[e.length-2]===`
`||e===`
`),i=a?"+":n?"":"-";return r+i+`
`}M(LT,"blockHeader");function OT(e){return e[e.length-1]===`
`?e.slice(0,-1):e}M(OT,"dropEndingNewline");function yU(e,t){for(var r=/(\n+)([^\n]*)/g,n=(function(){var d=e.indexOf(`
`);return d=d!==-1?d:e.length,r.lastIndex=d,MT(e.slice(0,d),t)})(),a=e[0]===`
`||e[0]===" ",i,o;o=r.exec(e);){var l=o[1],u=o[2];i=u[0]===" ",n+=l+(!a&&!i&&u!==""?`
`:"")+MT(u,t),a=i}return n}M(yU,"foldString");function MT(e,t){if(e===""||e[0]===" ")return e;for(var r=/ [^ ]/g,n,a=0,i,o=0,l=0,u="";n=r.exec(e);)l=n.index,l-a>t&&(i=o>a?o:l,u+=`
`+e.slice(a,i),a=i+1),o=l;return u+=`
`,e.length-a>t&&o>a?u+=e.slice(a,o)+`
`+e.slice(o+1):u+=e.slice(a),u.slice(1)}M(MT,"foldLine");function xU(e){for(var t="",r=0,n,a=0;a<e.length;r>=65536?a+=2:a++)r=zd(e,a),n=bs[r],!n&&xp(r)?(t+=e[a],r>=65536&&(t+=e[a+1])):t+=n||lU(r);return t}M(xU,"escapeString");function EU(e,t,r){var n="",a=e.tag,i,o,l;for(i=0,o=r.length;i<o;i+=1)l=r[i],e.replacer&&(l=e.replacer.call(r,String(i),l)),(Go(e,t,l,!1,!1)||typeof l>"u"&&Go(e,t,null,!1,!1))&&(n!==""&&(n+=","+(e.condenseFlow?"":" ")),n+=e.dump);e.tag=a,e.dump="["+n+"]"}M(EU,"writeFlowSequence");function PT(e,t,r,n){var a="",i=e.tag,o,l,u;for(o=0,l=r.length;o<l;o+=1)u=r[o],e.replacer&&(u=e.replacer.call(r,String(o),u)),(Go(e,t+1,u,!0,!0,!1,!0)||typeof u>"u"&&Go(e,t+1,null,!0,!0,!1,!0))&&((!n||a!=="")&&(a+=ny(e,t)),e.dump&&pm===e.dump.charCodeAt(0)?a+="-":a+="- ",a+=e.dump);e.tag=i,e.dump=a||"[]"}M(PT,"writeBlockSequence");function vU(e,t,r){var n="",a=e.tag,i=Object.keys(r),o,l,u,d,h;for(o=0,l=i.length;o<l;o+=1)h="",n!==""&&(h+=", "),e.condenseFlow&&(h+='"'),u=i[o],d=r[u],e.replacer&&(d=e.replacer.call(r,u,d)),Go(e,t,u,!1,!1)&&(e.dump.length>1024&&(h+="? "),h+=e.dump+(e.condenseFlow?'"':"")+":"+(e.condenseFlow?"":" "),Go(e,t,d,!1,!1)&&(h+=e.dump,n+=h));e.tag=a,e.dump="{"+n+"}"}M(vU,"writeFlowMapping");function SU(e,t,r,n){var a="",i=e.tag,o=Object.keys(r),l,u,d,h,g,f;if(e.sortKeys===!0)o.sort();else if(typeof e.sortKeys=="function")o.sort(e.sortKeys);else if(e.sortKeys)throw new ei("sortKeys must be a boolean or a function");for(l=0,u=o.length;l<u;l+=1)f="",(!n||a!=="")&&(f+=ny(e,t)),d=o[l],h=r[d],e.replacer&&(h=e.replacer.call(r,d,h)),Go(e,t+1,d,!0,!0,!0)&&(g=e.tag!==null&&e.tag!=="?"||e.dump&&e.dump.length>1024,g&&(e.dump&&pm===e.dump.charCodeAt(0)?f+="?":f+="? "),f+=e.dump,g&&(f+=ny(e,t)),Go(e,t+1,h,!0,g)&&(e.dump&&pm===e.dump.charCodeAt(0)?f+=":":f+=": ",f+=e.dump,a+=f));e.tag=i,e.dump=a||"{}"}M(SU,"writeBlockMapping");function jT(e,t,r){var n,a,i,o,l,u;for(a=r?e.explicitTypes:e.implicitTypes,i=0,o=a.length;i<o;i+=1)if(l=a[i],(l.instanceOf||l.predicate)&&(!l.instanceOf||typeof t=="object"&&t instanceof l.instanceOf)&&(!l.predicate||l.predicate(t))){if(r?l.multi&&l.representName?e.tag=l.representName(t):e.tag=l.tag:e.tag="?",l.represent){if(u=e.styleMap[l.tag]||l.defaultStyle,eU.call(l.represent)==="[object Function]")n=l.represent(t,u);else if(tU.call(l.represent,u))n=l.represent[u](t,u);else throw new ei("!<"+l.tag+'> tag resolver accepts not "'+u+'" style');e.dump=n}return!0}return!1}M(jT,"detectType");function Go(e,t,r,n,a,i,o){e.tag=null,e.dump=r,jT(e,r,!1)||jT(e,r,!0);var l=eU.call(e.dump),u=n,d;n&&(n=e.flowLevel<0||e.flowLevel>t);var h=l==="[object Object]"||l==="[object Array]",g,f;if(h&&(g=e.duplicates.indexOf(r),f=g!==-1),(e.tag!==null&&e.tag!=="?"||f||e.indent!==2&&t>0)&&(a=!1),f&&e.usedDuplicates[g])e.dump="*ref_"+g;else{if(h&&f&&!e.usedDuplicates[g]&&(e.usedDuplicates[g]=!0),l==="[object Object]")n&&Object.keys(e.dump).length!==0?(SU(e,t,e.dump,a),f&&(e.dump="&ref_"+g+e.dump)):(vU(e,t,e.dump),f&&(e.dump="&ref_"+g+" "+e.dump));else if(l==="[object Array]")n&&e.dump.length!==0?(e.noArrayIndent&&!o&&t>0?PT(e,t-1,e.dump,a):PT(e,t,e.dump,a),f&&(e.dump="&ref_"+g+e.dump)):(EU(e,t,e.dump),f&&(e.dump="&ref_"+g+" "+e.dump));else if(l==="[object String]")e.tag!=="?"&&bU(e,e.dump,t,i,u);else{if(l==="[object Undefined]")return!1;if(e.skipInvalid)return!1;throw new ei("unacceptable kind of an object to dump "+l)}e.tag!==null&&e.tag!=="?"&&(d=encodeURI(e.tag[0]==="!"?e.tag.slice(1):e.tag).replace(/!/g,"%21"),e.tag[0]==="!"?d="!"+d:d.slice(0,18)==="tag:yaml.org,2002:"?d="!!"+d.slice(18):d="!<"+d+">",e.dump=d+" "+e.dump)}return!0}M(Go,"writeNode");function TU(e,t){var r=[],n=[],a,i;for(ay(e,r,n),a=0,i=n.length;a<i;a+=1)t.duplicates.push(r[n[a]]);t.usedDuplicates=new Array(i)}M(TU,"getDuplicateReferences");function ay(e,t,r){var n,a,i;if(e!==null&&typeof e=="object")if(a=t.indexOf(e),a!==-1)r.indexOf(a)===-1&&r.push(a);else if(t.push(e),Array.isArray(e))for(a=0,i=e.length;a<i;a+=1)ay(e[a],t,r);else for(n=Object.keys(e),a=0,i=n.length;a<i;a+=1)ay(e[n[a]],t,r)}M(ay,"inspectNode");function hfe(e,t){t=t||{};var r=new cU(t);r.noRefs||TU(e,r);var n=e;return r.replacer&&(n=r.replacer.call({"":n},"",n)),Go(r,0,n,!0,!0)?r.dump+`
`:""}M(hfe,"dump$1");function gfe(e,t){return function(){throw new Error("Function yaml."+e+" is removed in js-yaml 4. Use yaml."+t+" instead, which is now safe by default.")}}M(gfe,"renamed");var mfe=g8,ffe=Yme.load;/*! Bundled license information:

js-yaml/dist/js-yaml.mjs:
  (*! js-yaml 4.1.0 https://github.com/nodeca/js-yaml @license MIT *)
*/var us={aggregation:17.25,extension:17.25,composition:17.25,dependency:6,lollipop:13.5,arrow_point:4},AM={arrow_point:9,arrow_cross:12.5,arrow_circle:12.5};function bg(e,t){if(e===void 0||t===void 0)return{angle:0,deltaX:0,deltaY:0};e=ea(e),t=ea(t);const[r,n]=[e.x,e.y],[a,i]=[t.x,t.y],o=a-r,l=i-n;return{angle:Math.atan(l/o),deltaX:o,deltaY:l}}M(bg,"calculateDeltaAndAngle");var ea=M(e=>Array.isArray(e)?{x:e[0],y:e[1]}:e,"pointTransformer"),bfe=M(e=>({x:M(function(t,r,n){let a=0;const i=ea(n[0]).x<ea(n[n.length-1]).x?"left":"right";if(r===0&&Object.hasOwn(us,e.arrowTypeStart)){const{angle:b,deltaX:x}=bg(n[0],n[1]);a=us[e.arrowTypeStart]*Math.cos(b)*(x>=0?1:-1)}else if(r===n.length-1&&Object.hasOwn(us,e.arrowTypeEnd)){const{angle:b,deltaX:x}=bg(n[n.length-1],n[n.length-2]);a=us[e.arrowTypeEnd]*Math.cos(b)*(x>=0?1:-1)}const o=Math.abs(ea(t).x-ea(n[n.length-1]).x),l=Math.abs(ea(t).y-ea(n[n.length-1]).y),u=Math.abs(ea(t).x-ea(n[0]).x),d=Math.abs(ea(t).y-ea(n[0]).y),h=us[e.arrowTypeStart],g=us[e.arrowTypeEnd],f=1;if(o<g&&o>0&&l<g){let b=g+f-o;b*=i==="right"?-1:1,a-=b}if(u<h&&u>0&&d<h){let b=h+f-u;b*=i==="right"?-1:1,a+=b}return ea(t).x+a},"x"),y:M(function(t,r,n){let a=0;const i=ea(n[0]).y<ea(n[n.length-1]).y?"down":"up";if(r===0&&Object.hasOwn(us,e.arrowTypeStart)){const{angle:b,deltaY:x}=bg(n[0],n[1]);a=us[e.arrowTypeStart]*Math.abs(Math.sin(b))*(x>=0?1:-1)}else if(r===n.length-1&&Object.hasOwn(us,e.arrowTypeEnd)){const{angle:b,deltaY:x}=bg(n[n.length-1],n[n.length-2]);a=us[e.arrowTypeEnd]*Math.abs(Math.sin(b))*(x>=0?1:-1)}const o=Math.abs(ea(t).y-ea(n[n.length-1]).y),l=Math.abs(ea(t).x-ea(n[n.length-1]).x),u=Math.abs(ea(t).y-ea(n[0]).y),d=Math.abs(ea(t).x-ea(n[0]).x),h=us[e.arrowTypeStart],g=us[e.arrowTypeEnd],f=1;if(o<g&&o>0&&l<g){let b=g+f-o;b*=i==="up"?-1:1,a-=b}if(u<h&&u>0&&d<h){let b=h+f-u;b*=i==="up"?-1:1,a+=b}return ea(t).y+a},"y")}),"getLineFunctionsWithOffset"),Rk=M(({flowchart:e})=>{const t=e?.subGraphTitleMargin?.top??0,r=e?.subGraphTitleMargin?.bottom??0,n=t+r;return{subGraphTitleTopMargin:t,subGraphTitleBottomMargin:r,subGraphTitleTotalMargin:n}},"getSubGraphTitleMargins"),yfe=M(e=>{const{handDrawnSeed:t}=Sn();return{fill:e,hachureAngle:120,hachureGap:4,fillWeight:2,roughness:.7,stroke:e,seed:t}},"solidStateFill"),jp=M(e=>{const t=xfe([...e.cssCompiledStyles||[],...e.cssStyles||[],...e.labelStyle||[]]);return{stylesMap:t,stylesArray:[...t]}},"compileStyles"),xfe=M(e=>{const t=new Map;return e.forEach(r=>{const[n,a]=r.split(":");t.set(n.trim(),a?.trim())}),t},"styles2Map"),wU=M(e=>e==="color"||e==="font-size"||e==="font-family"||e==="font-weight"||e==="font-style"||e==="text-decoration"||e==="text-align"||e==="text-transform"||e==="line-height"||e==="letter-spacing"||e==="word-spacing"||e==="text-shadow"||e==="text-overflow"||e==="white-space"||e==="word-wrap"||e==="word-break"||e==="overflow-wrap"||e==="hyphens","isLabelStyle"),Xt=M(e=>{const{stylesArray:t}=jp(e),r=[],n=[],a=[],i=[];return t.forEach(o=>{const l=o[0];wU(l)?r.push(o.join(":")+" !important"):(n.push(o.join(":")+" !important"),l.includes("stroke")&&a.push(o.join(":")+" !important"),l==="fill"&&i.push(o.join(":")+" !important"))}),{labelStyles:r.join(";"),nodeStyles:n.join(";"),stylesArray:t,borderStyles:a,backgroundStyles:i}},"styles2String"),Qt=M((e,t)=>{const{themeVariables:r,handDrawnSeed:n}=Sn(),{nodeBorder:a,mainBkg:i}=r,{stylesMap:o}=jp(e);return Object.assign({roughness:.7,fill:o.get("fill")||i,fillStyle:"hachure",fillWeight:4,hachureGap:5.2,stroke:o.get("stroke")||a,seed:n,strokeWidth:o.get("stroke-width")?.replace("px","")||1.3,fillLineDash:[0,0],strokeLineDash:Efe(o.get("stroke-dasharray"))},t)},"userNodeOverrides"),Efe=M(e=>{if(!e)return[0,0];const t=e.trim().split(/\s+/).map(Number);if(t.length===1){const a=isNaN(t[0])?0:t[0];return[a,a]}const r=isNaN(t[0])?0:t[0],n=isNaN(t[1])?0:t[1];return[r,n]},"getStrokeDashArray"),Jh={},Da={},NM;function vfe(){return NM||(NM=1,Object.defineProperty(Da,"__esModule",{value:!0}),Da.BLANK_URL=Da.relativeFirstCharacters=Da.whitespaceEscapeCharsRegex=Da.urlSchemeRegex=Da.ctrlCharactersRegex=Da.htmlCtrlEntityRegex=Da.htmlEntitiesRegex=Da.invalidProtocolRegex=void 0,Da.invalidProtocolRegex=/^([^\w]*)(javascript|data|vbscript)/im,Da.htmlEntitiesRegex=/&#(\w+)(^\w|;)?/g,Da.htmlCtrlEntityRegex=/&(newline|tab);/gi,Da.ctrlCharactersRegex=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim,Da.urlSchemeRegex=/^.+(:|&colon;)/gim,Da.whitespaceEscapeCharsRegex=/(\\|%5[cC])((%(6[eE]|72|74))|[nrt])/g,Da.relativeFirstCharacters=[".","/"],Da.BLANK_URL="about:blank"),Da}var IM;function Sfe(){if(IM)return Jh;IM=1,Object.defineProperty(Jh,"__esModule",{value:!0}),Jh.sanitizeUrl=void 0;var e=vfe();function t(o){return e.relativeFirstCharacters.indexOf(o[0])>-1}function r(o){var l=o.replace(e.ctrlCharactersRegex,"");return l.replace(e.htmlEntitiesRegex,function(u,d){return String.fromCharCode(d)})}function n(o){return URL.canParse(o)}function a(o){try{return decodeURIComponent(o)}catch{return o}}function i(o){if(!o)return e.BLANK_URL;var l,u=a(o.trim());do u=r(u).replace(e.htmlCtrlEntityRegex,"").replace(e.ctrlCharactersRegex,"").replace(e.whitespaceEscapeCharsRegex,"").trim(),u=a(u),l=u.match(e.ctrlCharactersRegex)||u.match(e.htmlEntitiesRegex)||u.match(e.htmlCtrlEntityRegex)||u.match(e.whitespaceEscapeCharsRegex);while(l&&l.length>0);var d=u;if(!d)return e.BLANK_URL;if(t(d))return d;var h=d.trimStart(),g=h.match(e.urlSchemeRegex);if(!g)return d;var f=g[0].toLowerCase().trim();if(e.invalidProtocolRegex.test(f))return e.BLANK_URL;var b=h.replace(/\\/g,"/");if(f==="mailto:"||f.includes("://"))return b;if(f==="http:"||f==="https:"){if(!n(b))return e.BLANK_URL;var x=new URL(b);return x.protocol=x.protocol.toLowerCase(),x.hostname=x.hostname.toLowerCase(),x.toString()}return b}return Jh.sanitizeUrl=i,Jh}var Tfe=Sfe(),kU=typeof global=="object"&&global&&global.Object===Object&&global,wfe=typeof self=="object"&&self&&self.Object===Object&&self,Ko=kU||wfe||Function("return this")(),sy=Ko.Symbol,CU=Object.prototype,kfe=CU.hasOwnProperty,Cfe=CU.toString,eg=sy?sy.toStringTag:void 0;function _fe(e){var t=kfe.call(e,eg),r=e[eg];try{e[eg]=void 0;var n=!0}catch{}var a=Cfe.call(e);return n&&(t?e[eg]=r:delete e[eg]),a}var Afe=Object.prototype,Nfe=Afe.toString;function Ife(e){return Nfe.call(e)}var Rfe="[object Null]",Dfe="[object Undefined]",RM=sy?sy.toStringTag:void 0;function Fp(e){return e==null?e===void 0?Dfe:Rfe:RM&&RM in Object(e)?_fe(e):Ife(e)}function Du(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Lfe="[object AsyncFunction]",Ofe="[object Function]",Mfe="[object GeneratorFunction]",Pfe="[object Proxy]";function Dk(e){if(!Du(e))return!1;var t=Fp(e);return t==Ofe||t==Mfe||t==Lfe||t==Pfe}var $S=Ko["__core-js_shared__"],DM=(function(){var e=/[^.]+$/.exec($S&&$S.keys&&$S.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""})();function jfe(e){return!!DM&&DM in e}var Ffe=Function.prototype,Bfe=Ffe.toString;function Lu(e){if(e!=null){try{return Bfe.call(e)}catch{}try{return e+""}catch{}}return""}var Ufe=/[\\^$.*+?()[\]{}|]/g,$fe=/^\[object .+?Constructor\]$/,Hfe=Function.prototype,zfe=Object.prototype,Gfe=Hfe.toString,qfe=zfe.hasOwnProperty,Wfe=RegExp("^"+Gfe.call(qfe).replace(Ufe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Yfe(e){if(!Du(e)||jfe(e))return!1;var t=Dk(e)?Wfe:$fe;return t.test(Lu(e))}function Vfe(e,t){return e?.[t]}function Ou(e,t){var r=Vfe(e,t);return Yfe(r)?r:void 0}var mm=Ou(Object,"create");function Kfe(){this.__data__=mm?mm(null):{},this.size=0}function Qfe(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var Xfe="__lodash_hash_undefined__",Zfe=Object.prototype,Jfe=Zfe.hasOwnProperty;function e0e(e){var t=this.__data__;if(mm){var r=t[e];return r===Xfe?void 0:r}return Jfe.call(t,e)?t[e]:void 0}var t0e=Object.prototype,r0e=t0e.hasOwnProperty;function n0e(e){var t=this.__data__;return mm?t[e]!==void 0:r0e.call(t,e)}var a0e="__lodash_hash_undefined__";function s0e(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=mm&&t===void 0?a0e:t,this}function vu(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}vu.prototype.clear=Kfe;vu.prototype.delete=Qfe;vu.prototype.get=e0e;vu.prototype.has=n0e;vu.prototype.set=s0e;function i0e(){this.__data__=[],this.size=0}function rx(e,t){return e===t||e!==e&&t!==t}function nx(e,t){for(var r=e.length;r--;)if(rx(e[r][0],t))return r;return-1}var o0e=Array.prototype,l0e=o0e.splice;function c0e(e){var t=this.__data__,r=nx(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():l0e.call(t,r,1),--this.size,!0}function u0e(e){var t=this.__data__,r=nx(t,e);return r<0?void 0:t[r][1]}function d0e(e){return nx(this.__data__,e)>-1}function p0e(e,t){var r=this.__data__,n=nx(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}function Dl(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Dl.prototype.clear=i0e;Dl.prototype.delete=c0e;Dl.prototype.get=u0e;Dl.prototype.has=d0e;Dl.prototype.set=p0e;var fm=Ou(Ko,"Map");function h0e(){this.size=0,this.__data__={hash:new vu,map:new(fm||Dl),string:new vu}}function g0e(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function ax(e,t){var r=e.__data__;return g0e(t)?r[typeof t=="string"?"string":"hash"]:r.map}function m0e(e){var t=ax(this,e).delete(e);return this.size-=t?1:0,t}function f0e(e){return ax(this,e).get(e)}function b0e(e){return ax(this,e).has(e)}function y0e(e,t){var r=ax(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}function Sc(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Sc.prototype.clear=h0e;Sc.prototype.delete=m0e;Sc.prototype.get=f0e;Sc.prototype.has=b0e;Sc.prototype.set=y0e;var x0e="Expected a function";function zm(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(x0e);var r=function(){var n=arguments,a=t?t.apply(this,n):n[0],i=r.cache;if(i.has(a))return i.get(a);var o=e.apply(this,n);return r.cache=i.set(a,o)||i,o};return r.cache=new(zm.Cache||Sc),r}zm.Cache=Sc;function E0e(){this.__data__=new Dl,this.size=0}function v0e(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}function S0e(e){return this.__data__.get(e)}function T0e(e){return this.__data__.has(e)}var w0e=200;function k0e(e,t){var r=this.__data__;if(r instanceof Dl){var n=r.__data__;if(!fm||n.length<w0e-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new Sc(n)}return r.set(e,t),this.size=r.size,this}function Bp(e){var t=this.__data__=new Dl(e);this.size=t.size}Bp.prototype.clear=E0e;Bp.prototype.delete=v0e;Bp.prototype.get=S0e;Bp.prototype.has=T0e;Bp.prototype.set=k0e;var iy=(function(){try{var e=Ou(Object,"defineProperty");return e({},"",{}),e}catch{}})();function Lk(e,t,r){t=="__proto__"&&iy?iy(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}function FT(e,t,r){(r!==void 0&&!rx(e[t],r)||r===void 0&&!(t in e))&&Lk(e,t,r)}function C0e(e){return function(t,r,n){for(var a=-1,i=Object(t),o=n(t),l=o.length;l--;){var u=o[++a];if(r(i[u],u,i)===!1)break}return t}}var _0e=C0e(),_U=typeof exports=="object"&&exports&&!exports.nodeType&&exports,LM=_U&&typeof module=="object"&&module&&!module.nodeType&&module,A0e=LM&&LM.exports===_U,OM=A0e?Ko.Buffer:void 0,MM=OM?OM.allocUnsafe:void 0;function N0e(e,t){if(t)return e.slice();var r=e.length,n=MM?MM(r):new e.constructor(r);return e.copy(n),n}var PM=Ko.Uint8Array;function I0e(e){var t=new e.constructor(e.byteLength);return new PM(t).set(new PM(e)),t}function R0e(e,t){var r=t?I0e(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}function D0e(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}var jM=Object.create,L0e=(function(){function e(){}return function(t){if(!Du(t))return{};if(jM)return jM(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}})();function AU(e,t){return function(r){return e(t(r))}}var NU=AU(Object.getPrototypeOf,Object),O0e=Object.prototype;function sx(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||O0e;return e===r}function M0e(e){return typeof e.constructor=="function"&&!sx(e)?L0e(NU(e)):{}}function Gm(e){return e!=null&&typeof e=="object"}var P0e="[object Arguments]";function FM(e){return Gm(e)&&Fp(e)==P0e}var IU=Object.prototype,j0e=IU.hasOwnProperty,F0e=IU.propertyIsEnumerable,oy=FM((function(){return arguments})())?FM:function(e){return Gm(e)&&j0e.call(e,"callee")&&!F0e.call(e,"callee")},ly=Array.isArray,B0e=9007199254740991;function RU(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=B0e}function ix(e){return e!=null&&RU(e.length)&&!Dk(e)}function U0e(e){return Gm(e)&&ix(e)}function $0e(){return!1}var DU=typeof exports=="object"&&exports&&!exports.nodeType&&exports,BM=DU&&typeof module=="object"&&module&&!module.nodeType&&module,H0e=BM&&BM.exports===DU,UM=H0e?Ko.Buffer:void 0,z0e=UM?UM.isBuffer:void 0,Ok=z0e||$0e,G0e="[object Object]",q0e=Function.prototype,W0e=Object.prototype,LU=q0e.toString,Y0e=W0e.hasOwnProperty,V0e=LU.call(Object);function K0e(e){if(!Gm(e)||Fp(e)!=G0e)return!1;var t=NU(e);if(t===null)return!0;var r=Y0e.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&LU.call(r)==V0e}var Q0e="[object Arguments]",X0e="[object Array]",Z0e="[object Boolean]",J0e="[object Date]",ebe="[object Error]",tbe="[object Function]",rbe="[object Map]",nbe="[object Number]",abe="[object Object]",sbe="[object RegExp]",ibe="[object Set]",obe="[object String]",lbe="[object WeakMap]",cbe="[object ArrayBuffer]",ube="[object DataView]",dbe="[object Float32Array]",pbe="[object Float64Array]",hbe="[object Int8Array]",gbe="[object Int16Array]",mbe="[object Int32Array]",fbe="[object Uint8Array]",bbe="[object Uint8ClampedArray]",ybe="[object Uint16Array]",xbe="[object Uint32Array]",Vn={};Vn[dbe]=Vn[pbe]=Vn[hbe]=Vn[gbe]=Vn[mbe]=Vn[fbe]=Vn[bbe]=Vn[ybe]=Vn[xbe]=!0;Vn[Q0e]=Vn[X0e]=Vn[cbe]=Vn[Z0e]=Vn[ube]=Vn[J0e]=Vn[ebe]=Vn[tbe]=Vn[rbe]=Vn[nbe]=Vn[abe]=Vn[sbe]=Vn[ibe]=Vn[obe]=Vn[lbe]=!1;function Ebe(e){return Gm(e)&&RU(e.length)&&!!Vn[Fp(e)]}function vbe(e){return function(t){return e(t)}}var OU=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Ug=OU&&typeof module=="object"&&module&&!module.nodeType&&module,Sbe=Ug&&Ug.exports===OU,HS=Sbe&&kU.process,$M=(function(){try{var e=Ug&&Ug.require&&Ug.require("util").types;return e||HS&&HS.binding&&HS.binding("util")}catch{}})(),HM=$M&&$M.isTypedArray,Mk=HM?vbe(HM):Ebe;function BT(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}var Tbe=Object.prototype,wbe=Tbe.hasOwnProperty;function kbe(e,t,r){var n=e[t];(!(wbe.call(e,t)&&rx(n,r))||r===void 0&&!(t in e))&&Lk(e,t,r)}function Cbe(e,t,r,n){var a=!r;r||(r={});for(var i=-1,o=t.length;++i<o;){var l=t[i],u=void 0;u===void 0&&(u=e[l]),a?Lk(r,l,u):kbe(r,l,u)}return r}function _be(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var Abe=9007199254740991,Nbe=/^(?:0|[1-9]\d*)$/;function MU(e,t){var r=typeof e;return t=t??Abe,!!t&&(r=="number"||r!="symbol"&&Nbe.test(e))&&e>-1&&e%1==0&&e<t}var Ibe=Object.prototype,Rbe=Ibe.hasOwnProperty;function Dbe(e,t){var r=ly(e),n=!r&&oy(e),a=!r&&!n&&Ok(e),i=!r&&!n&&!a&&Mk(e),o=r||n||a||i,l=o?_be(e.length,String):[],u=l.length;for(var d in e)(t||Rbe.call(e,d))&&!(o&&(d=="length"||a&&(d=="offset"||d=="parent")||i&&(d=="buffer"||d=="byteLength"||d=="byteOffset")||MU(d,u)))&&l.push(d);return l}function Lbe(e){var t=[];if(e!=null)for(var r in Object(e))t.push(r);return t}var Obe=Object.prototype,Mbe=Obe.hasOwnProperty;function Pbe(e){if(!Du(e))return Lbe(e);var t=sx(e),r=[];for(var n in e)n=="constructor"&&(t||!Mbe.call(e,n))||r.push(n);return r}function PU(e){return ix(e)?Dbe(e,!0):Pbe(e)}function jbe(e){return Cbe(e,PU(e))}function Fbe(e,t,r,n,a,i,o){var l=BT(e,r),u=BT(t,r),d=o.get(u);if(d){FT(e,r,d);return}var h=i?i(l,u,r+"",e,t,o):void 0,g=h===void 0;if(g){var f=ly(u),b=!f&&Ok(u),x=!f&&!b&&Mk(u);h=u,f||b||x?ly(l)?h=l:U0e(l)?h=D0e(l):b?(g=!1,h=N0e(u,!0)):x?(g=!1,h=R0e(u,!0)):h=[]:K0e(u)||oy(u)?(h=l,oy(l)?h=jbe(l):(!Du(l)||Dk(l))&&(h=M0e(u))):g=!1}g&&(o.set(u,h),a(h,u,n,i,o),o.delete(u)),FT(e,r,h)}function jU(e,t,r,n,a){e!==t&&_0e(t,function(i,o){if(a||(a=new Bp),Du(i))Fbe(e,t,o,r,jU,n,a);else{var l=n?n(BT(e,o),i,o+"",e,t,a):void 0;l===void 0&&(l=i),FT(e,o,l)}},PU)}function FU(e){return e}function Bbe(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var zM=Math.max;function Ube(e,t,r){return t=zM(t===void 0?e.length-1:t,0),function(){for(var n=arguments,a=-1,i=zM(n.length-t,0),o=Array(i);++a<i;)o[a]=n[t+a];a=-1;for(var l=Array(t+1);++a<t;)l[a]=n[a];return l[t]=r(o),Bbe(e,this,l)}}function $be(e){return function(){return e}}var Hbe=iy?function(e,t){return iy(e,"toString",{configurable:!0,enumerable:!1,value:$be(t),writable:!0})}:FU,zbe=800,Gbe=16,qbe=Date.now;function Wbe(e){var t=0,r=0;return function(){var n=qbe(),a=Gbe-(n-r);if(r=n,a>0){if(++t>=zbe)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var Ybe=Wbe(Hbe);function Vbe(e,t){return Ybe(Ube(e,t,FU),e+"")}function Kbe(e,t,r){if(!Du(r))return!1;var n=typeof t;return(n=="number"?ix(r)&&MU(t,r.length):n=="string"&&t in r)?rx(r[t],e):!1}function Qbe(e){return Vbe(function(t,r){var n=-1,a=r.length,i=a>1?r[a-1]:void 0,o=a>2?r[2]:void 0;for(i=e.length>3&&typeof i=="function"?(a--,i):void 0,o&&Kbe(r[0],r[1],o)&&(i=a<3?void 0:i,a=1),t=Object(t);++n<a;){var l=r[n];l&&e(t,l,n,i)}return t})}var Xbe=Qbe(function(e,t,r){jU(e,t,r)}),Zbe="",Jbe={curveBasis:ub,curveBasisClosed:tme,curveBasisOpen:rme,curveBumpX:TB,curveBumpY:wB,curveBundle:nme,curveCardinalClosed:ame,curveCardinalOpen:sme,curveCardinal:AB,curveCatmullRomClosed:ime,curveCatmullRomOpen:ome,curveCatmullRom:IB,curveLinear:Kb,curveLinearClosed:lme,curveMonotoneX:PB,curveMonotoneY:jB,curveNatural:BB,curveStep:UB,curveStepAfter:HB,curveStepBefore:$B},eye=/\s*(?:(\w+)(?=:):|(\w+))\s*(?:(\w+)|((?:(?!}%{2}).|\r?\n)*))?\s*(?:}%{2})?/gi,tye=M(function(e,t){const r=BU(e,/(?:init\b)|(?:initialize\b)/);let n={};if(Array.isArray(r)){const o=r.map(l=>l.args);Fb(o),n=Oa(n,[...o])}else n=r.args;if(!n)return;let a=sk(e,t);const i="config";return n[i]!==void 0&&(a==="flowchart-v2"&&(a="flowchart"),n[a]=n[i],delete n[i]),n},"detectInit"),BU=M(function(e,t=null){try{const r=new RegExp(`[%]{2}(?![{]${eye.source})(?=[}][%]{2}).*
`,"ig");e=e.trim().replace(r,"").replace(/'/gm,'"'),st.debug(`Detecting diagram directive${t!==null?" type:"+t:""} based on the text:${e}`);let n;const a=[];for(;(n=Fg.exec(e))!==null;)if(n.index===Fg.lastIndex&&Fg.lastIndex++,n&&!t||t&&n[1]?.match(t)||t&&n[2]?.match(t)){const i=n[1]?n[1]:n[2],o=n[3]?n[3].trim():n[4]?JSON.parse(n[4].trim()):null;a.push({type:i,args:o})}return a.length===0?{type:e,args:null}:a.length===1?a[0]:a}catch(r){return st.error(`ERROR: ${r.message} - Unable to parse directive type: '${t}' based on the text: '${e}'`),{type:void 0,args:null}}},"detectDirective"),rye=M(function(e){return e.replace(Fg,"")},"removeDirectives"),nye=M(function(e,t){for(const[r,n]of t.entries())if(n.match(e))return r;return-1},"isSubstringInArray");function Pk(e,t){if(!e)return t;const r=`curve${e.charAt(0).toUpperCase()+e.slice(1)}`;return Jbe[r]??t}M(Pk,"interpolateToCurve");function UU(e,t){const r=e.trim();if(r)return t.securityLevel!=="loose"?Tfe.sanitizeUrl(r):r}M(UU,"formatUrl");var aye=M((e,...t)=>{const r=e.split("."),n=r.length-1,a=r[n];let i=window;for(let o=0;o<n;o++)if(i=i[r[o]],!i){st.error(`Function name: ${e} not found in window`);return}i[a](...t)},"runFunc");function jk(e,t){return!e||!t?0:Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}M(jk,"distance");function $U(e){let t,r=0;e.forEach(a=>{r+=jk(a,t),t=a});const n=r/2;return Fk(e,n)}M($U,"traverseEdge");function HU(e){return e.length===1?e[0]:$U(e)}M(HU,"calcLabelPosition");var GM=M((e,t=2)=>{const r=Math.pow(10,t);return Math.round(e*r)/r},"roundNumber"),Fk=M((e,t)=>{let r,n=t;for(const a of e){if(r){const i=jk(a,r);if(i===0)return r;if(i<n)n-=i;else{const o=n/i;if(o<=0)return r;if(o>=1)return{x:a.x,y:a.y};if(o>0&&o<1)return{x:GM((1-o)*r.x+o*a.x,5),y:GM((1-o)*r.y+o*a.y,5)}}}r=a}throw new Error("Could not find a suitable point for the given distance")},"calculatePoint"),sye=M((e,t,r)=>{st.info(`our points ${JSON.stringify(t)}`),t[0]!==r&&(t=t.reverse());const a=Fk(t,25),i=e?10:5,o=Math.atan2(t[0].y-a.y,t[0].x-a.x),l={x:0,y:0};return l.x=Math.sin(o)*i+(t[0].x+a.x)/2,l.y=-Math.cos(o)*i+(t[0].y+a.y)/2,l},"calcCardinalityPosition");function zU(e,t,r){const n=structuredClone(r);st.info("our points",n),t!=="start_left"&&t!=="start_right"&&n.reverse();const a=25+e,i=Fk(n,a),o=10+e*.5,l=Math.atan2(n[0].y-i.y,n[0].x-i.x),u={x:0,y:0};return t==="start_left"?(u.x=Math.sin(l+Math.PI)*o+(n[0].x+i.x)/2,u.y=-Math.cos(l+Math.PI)*o+(n[0].y+i.y)/2):t==="end_right"?(u.x=Math.sin(l-Math.PI)*o+(n[0].x+i.x)/2-5,u.y=-Math.cos(l-Math.PI)*o+(n[0].y+i.y)/2-5):t==="end_left"?(u.x=Math.sin(l)*o+(n[0].x+i.x)/2-5,u.y=-Math.cos(l)*o+(n[0].y+i.y)/2-5):(u.x=Math.sin(l)*o+(n[0].x+i.x)/2,u.y=-Math.cos(l)*o+(n[0].y+i.y)/2),u}M(zU,"calcTerminalLabelPosition");function GU(e){let t="",r="";for(const n of e)n!==void 0&&(n.startsWith("color:")||n.startsWith("text-align:")?r=r+n+";":t=t+n+";");return{style:t,labelStyle:r}}M(GU,"getStylesFromArray");var qM=0,iye=M(()=>(qM++,"id-"+Math.random().toString(36).substr(2,12)+"-"+qM),"generateId");function qU(e){let t="";const r="0123456789abcdef",n=r.length;for(let a=0;a<e;a++)t+=r.charAt(Math.floor(Math.random()*n));return t}M(qU,"makeRandomHex");var oye=M(e=>qU(e.length),"random"),lye=M(function(){return{x:0,y:0,fill:void 0,anchor:"start",style:"#666",width:100,height:100,textMargin:0,rx:0,ry:0,valign:void 0,text:""}},"getTextObj"),cye=M(function(e,t){const r=t.text.replace(Pp.lineBreakRegex," "),[,n]=ox(t.fontSize),a=e.append("text");a.attr("x",t.x),a.attr("y",t.y),a.style("text-anchor",t.anchor),a.style("font-family",t.fontFamily),a.style("font-size",n),a.style("font-weight",t.fontWeight),a.attr("fill",t.fill),t.class!==void 0&&a.attr("class",t.class);const i=a.append("tspan");return i.attr("x",t.x+t.textMargin*2),i.attr("fill",t.fill),i.text(r),a},"drawSimpleText"),uye=zm((e,t,r)=>{if(!e||(r=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",joinWith:"<br/>"},r),Pp.lineBreakRegex.test(e)))return e;const n=e.split(" ").filter(Boolean),a=[];let i="";return n.forEach((o,l)=>{const u=Cl(`${o} `,r),d=Cl(i,r);if(u>t){const{hyphenatedStrings:f,remainingWord:b}=dye(o,t,"-",r);a.push(i,...f),i=b}else d+u>=t?(a.push(i),i=o):i=[i,o].filter(Boolean).join(" ");l+1===n.length&&a.push(i)}),a.filter(o=>o!=="").join(r.joinWith)},(e,t,r)=>`${e}${t}${r.fontSize}${r.fontWeight}${r.fontFamily}${r.joinWith}`),dye=zm((e,t,r="-",n)=>{n=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",margin:0},n);const a=[...e],i=[];let o="";return a.forEach((l,u)=>{const d=`${o}${l}`;if(Cl(d,n)>=t){const g=u+1,f=a.length===g,b=`${d}${r}`;i.push(f?d:b),o=""}else o=d}),{hyphenatedStrings:i,remainingWord:o}},(e,t,r="-",n)=>`${e}${t}${r}${n.fontSize}${n.fontWeight}${n.fontFamily}`);function WU(e,t){return Bk(e,t).height}M(WU,"calculateTextHeight");function Cl(e,t){return Bk(e,t).width}M(Cl,"calculateTextWidth");var Bk=zm((e,t)=>{const{fontSize:r=12,fontFamily:n="Arial",fontWeight:a=400}=t;if(!e)return{width:0,height:0};const[,i]=ox(r),o=["sans-serif",n],l=e.split(Pp.lineBreakRegex),u=[],d=sn("body");if(!d.remove)return{width:0,height:0,lineHeight:0};const h=d.append("svg");for(const f of o){let b=0;const x={width:0,height:0,lineHeight:0};for(const E of l){const v=lye();v.text=E||Zbe;const T=cye(h,v).style("font-size",i).style("font-weight",a).style("font-family",f),w=(T._groups||T)[0][0].getBBox();if(w.width===0&&w.height===0)throw new Error("svg element not in render tree");x.width=Math.round(Math.max(x.width,w.width)),b=Math.round(w.height),x.height+=b,x.lineHeight=Math.round(Math.max(x.lineHeight,b))}u.push(x)}h.remove();const g=isNaN(u[1].height)||isNaN(u[1].width)||isNaN(u[1].lineHeight)||u[0].height>u[1].height&&u[0].width>u[1].width&&u[0].lineHeight>u[1].lineHeight?0:1;return u[g]},(e,t)=>`${e}${t.fontSize}${t.fontWeight}${t.fontFamily}`),up,pye=(up=class{constructor(t=!1,r){this.count=0,this.count=r?r.length:0,this.next=t?()=>this.count++:()=>Date.now()}},M(up,"InitIDGenerator"),up),M0,hye=M(function(e){return M0=M0||document.createElement("div"),e=escape(e).replace(/%26/g,"&").replace(/%23/g,"#").replace(/%3B/g,";"),M0.innerHTML=e,unescape(M0.textContent)},"entityDecode");function Uk(e){return"str"in e}M(Uk,"isDetailedError");var gye=M((e,t,r,n)=>{if(!n)return;const a=e.node()?.getBBox();a&&e.append("text").text(n).attr("text-anchor","middle").attr("x",a.x+a.width/2).attr("y",-r).attr("class",t)},"insertTitle"),ox=M(e=>{if(typeof e=="number")return[e,e+"px"];const t=parseInt(e??"",10);return Number.isNaN(t)?[void 0,void 0]:e===String(t)?[t,e+"px"]:[t,e]},"parseFontSize");function $k(e,t){return Xbe({},e,t)}M($k,"cleanAndMerge");var lo={assignWithDepth:Oa,wrapLabel:uye,calculateTextHeight:WU,calculateTextWidth:Cl,calculateTextDimensions:Bk,cleanAndMerge:$k,detectInit:tye,detectDirective:BU,isSubstringInArray:nye,interpolateToCurve:Pk,calcLabelPosition:HU,calcCardinalityPosition:sye,calcTerminalLabelPosition:zU,formatUrl:UU,getStylesFromArray:GU,generateId:iye,random:oye,runFunc:aye,entityDecode:hye,insertTitle:gye,isLabelCoordinateInPath:YU,parseFontSize:ox,InitIDGenerator:pye},mye=M(function(e){let t=e;return t=t.replace(/style.*:\S*#.*;/g,function(r){return r.substring(0,r.length-1)}),t=t.replace(/classDef.*:\S*#.*;/g,function(r){return r.substring(0,r.length-1)}),t=t.replace(/#\w+;/g,function(r){const n=r.substring(1,r.length-1);return/^\+?\d+$/.test(n)?""+n+"":""+n+""}),t},"encodeEntities"),Mu=M(function(e){return e.replace(//g,"&#").replace(//g,"&").replace(//g,";")},"decodeEntities"),oDe=M((e,t,{counter:r=0,prefix:n,suffix:a},i)=>i||`${n?`${n}_`:""}${e}_${t}_${r}${a?`_${a}`:""}`,"getEdgeId");function gs(e){return e??null}M(gs,"handleUndefinedAttr");function YU(e,t){const r=Math.round(e.x),n=Math.round(e.y),a=t.replace(/(\d+\.\d+)/g,i=>Math.round(parseFloat(i)).toString());return a.includes(r.toString())||a.includes(n.toString())}M(YU,"isLabelCoordinateInPath");const fye=Object.freeze({left:0,top:0,width:16,height:16}),cy=Object.freeze({rotate:0,vFlip:!1,hFlip:!1}),VU=Object.freeze({...fye,...cy}),bye=Object.freeze({...VU,body:"",hidden:!1}),yye=Object.freeze({width:null,height:null}),xye=Object.freeze({...yye,...cy}),Eye=(e,t,r,n="")=>{const a=e.split(":");if(e.slice(0,1)==="@"){if(a.length<2||a.length>3)return null;n=a.shift().slice(1)}if(a.length>3||!a.length)return null;if(a.length>1){const l=a.pop(),u=a.pop(),d={provider:a.length>0?a[0]:n,prefix:u,name:l};return zS(d)?d:null}const i=a[0],o=i.split("-");if(o.length>1){const l={provider:n,prefix:o.shift(),name:o.join("-")};return zS(l)?l:null}if(r&&n===""){const l={provider:n,prefix:"",name:i};return zS(l,r)?l:null}return null},zS=(e,t)=>e?!!((t&&e.prefix===""||e.prefix)&&e.name):!1;function vye(e,t){const r={};!e.hFlip!=!t.hFlip&&(r.hFlip=!0),!e.vFlip!=!t.vFlip&&(r.vFlip=!0);const n=((e.rotate||0)+(t.rotate||0))%4;return n&&(r.rotate=n),r}function WM(e,t){const r=vye(e,t);for(const n in bye)n in cy?n in e&&!(n in r)&&(r[n]=cy[n]):n in t?r[n]=t[n]:n in e&&(r[n]=e[n]);return r}function Sye(e,t){const r=e.icons,n=e.aliases||Object.create(null),a=Object.create(null);function i(o){if(r[o])return a[o]=[];if(!(o in a)){a[o]=null;const l=n[o]&&n[o].parent,u=l&&i(l);u&&(a[o]=[l].concat(u))}return a[o]}return(t||Object.keys(r).concat(Object.keys(n))).forEach(i),a}function YM(e,t,r){const n=e.icons,a=e.aliases||Object.create(null);let i={};function o(l){i=WM(n[l]||a[l],i)}return o(t),r.forEach(o),WM(e,i)}function Tye(e,t){if(e.icons[t])return YM(e,t,[]);const r=Sye(e,[t])[t];return r?YM(e,t,r):null}const wye=/(-?[0-9.]*[0-9]+[0-9.]*)/g,kye=/^-?[0-9.]*[0-9]+[0-9.]*$/g;function VM(e,t,r){if(t===1)return e;if(r=r||100,typeof e=="number")return Math.ceil(e*t*r)/r;if(typeof e!="string")return e;const n=e.split(wye);if(n===null||!n.length)return e;const a=[];let i=n.shift(),o=kye.test(i);for(;;){if(o){const l=parseFloat(i);isNaN(l)?a.push(i):a.push(Math.ceil(l*t*r)/r)}else a.push(i);if(i=n.shift(),i===void 0)return a.join("");o=!o}}function Cye(e,t="defs"){let r="";const n=e.indexOf("<"+t);for(;n>=0;){const a=e.indexOf(">",n),i=e.indexOf("</"+t);if(a===-1||i===-1)break;const o=e.indexOf(">",i);if(o===-1)break;r+=e.slice(a+1,i).trim(),e=e.slice(0,n).trim()+e.slice(o+1)}return{defs:r,content:e}}function _ye(e,t){return e?"<defs>"+e+"</defs>"+t:t}function Aye(e,t,r){const n=Cye(e);return _ye(n.defs,t+n.content+r)}const Nye=e=>e==="unset"||e==="undefined"||e==="none";function Iye(e,t){const r={...VU,...e},n={...xye,...t},a={left:r.left,top:r.top,width:r.width,height:r.height};let i=r.body;[r,n].forEach(E=>{const v=[],T=E.hFlip,w=E.vFlip;let N=E.rotate;T?w?N+=2:(v.push("translate("+(a.width+a.left).toString()+" "+(0-a.top).toString()+")"),v.push("scale(-1 1)"),a.top=a.left=0):w&&(v.push("translate("+(0-a.left).toString()+" "+(a.height+a.top).toString()+")"),v.push("scale(1 -1)"),a.top=a.left=0);let R;switch(N<0&&(N-=Math.floor(N/4)*4),N=N%4,N){case 1:R=a.height/2+a.top,v.unshift("rotate(90 "+R.toString()+" "+R.toString()+")");break;case 2:v.unshift("rotate(180 "+(a.width/2+a.left).toString()+" "+(a.height/2+a.top).toString()+")");break;case 3:R=a.width/2+a.left,v.unshift("rotate(-90 "+R.toString()+" "+R.toString()+")");break}N%2===1&&(a.left!==a.top&&(R=a.left,a.left=a.top,a.top=R),a.width!==a.height&&(R=a.width,a.width=a.height,a.height=R)),v.length&&(i=Aye(i,'<g transform="'+v.join(" ")+'">',"</g>"))});const o=n.width,l=n.height,u=a.width,d=a.height;let h,g;o===null?(g=l===null?"1em":l==="auto"?d:l,h=VM(g,u/d)):(h=o==="auto"?u:o,g=l===null?VM(h,d/u):l==="auto"?d:l);const f={},b=(E,v)=>{Nye(v)||(f[E]=v.toString())};b("width",h),b("height",g);const x=[a.left,a.top,u,d];return f.viewBox=x.join(" "),{attributes:f,viewBox:x,body:i}}const Rye=/\sid="(\S+)"/g,Dye="IconifyId"+Date.now().toString(16)+(Math.random()*16777216|0).toString(16);let Lye=0;function Oye(e,t=Dye){const r=[];let n;for(;n=Rye.exec(e);)r.push(n[1]);if(!r.length)return e;const a="suffix"+(Math.random()*16777216|Date.now()).toString(16);return r.forEach(i=>{const o=typeof t=="function"?t(i):t+(Lye++).toString(),l=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");e=e.replace(new RegExp('([#;"])('+l+')([")]|\\.[a-z])',"g"),"$1"+o+a+"$3")}),e=e.replace(new RegExp(a,"g"),""),e}function Mye(e,t){let r=e.indexOf("xlink:")===-1?"":' xmlns:xlink="http://www.w3.org/1999/xlink"';for(const n in t)r+=" "+n+'="'+t[n]+'"';return'<svg xmlns="http://www.w3.org/2000/svg"'+r+">"+e+"</svg>"}function Hk(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}var Pu=Hk();function KU(e){Pu=e}var $g={exec:()=>null};function mn(e,t=""){let r=typeof e=="string"?e:e.source,n={replace:(a,i)=>{let o=typeof i=="string"?i:i.source;return o=o.replace(Ds.caret,"$1"),r=r.replace(a,o),n},getRegex:()=>new RegExp(r,t)};return n}var Ds={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] /,listReplaceTask:/^\[[ xX]\] +/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:e=>new RegExp(`^( {0,3}${e})((?:[	 ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),hrRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}#`),htmlBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}<(?:[a-z].*>|!--)`,"i")},Pye=/^(?:[ \t]*(?:\n|$))+/,jye=/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,Fye=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,qm=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,Bye=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,zk=/(?:[*+-]|\d{1,9}[.)])/,QU=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,XU=mn(QU).replace(/bull/g,zk).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex(),Uye=mn(QU).replace(/bull/g,zk).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex(),Gk=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,$ye=/^[^\n]+/,qk=/(?!\s*\])(?:\\[\s\S]|[^\[\]\\])+/,Hye=mn(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",qk).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),zye=mn(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,zk).getRegex(),lx="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",Wk=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,Gye=mn("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$))","i").replace("comment",Wk).replace("tag",lx).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),ZU=mn(Gk).replace("hr",qm).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",lx).getRegex(),qye=mn(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",ZU).getRegex(),Yk={blockquote:qye,code:jye,def:Hye,fences:Fye,heading:Bye,hr:qm,html:Gye,lheading:XU,list:zye,newline:Pye,paragraph:ZU,table:$g,text:$ye},KM=mn("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",qm).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}	)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",lx).getRegex(),Wye={...Yk,lheading:Uye,table:KM,paragraph:mn(Gk).replace("hr",qm).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",KM).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",lx).getRegex()},Yye={...Yk,html:mn(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",Wk).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:$g,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:mn(Gk).replace("hr",qm).replace("heading",` *#{1,6} *[^
]`).replace("lheading",XU).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},Vye=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,Kye=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,JU=/^( {2,}|\\)\n(?!\s*$)/,Qye=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,cx=/[\p{P}\p{S}]/u,Vk=/[\s\p{P}\p{S}]/u,e7=/[^\s\p{P}\p{S}]/u,Xye=mn(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,Vk).getRegex(),t7=/(?!~)[\p{P}\p{S}]/u,Zye=/(?!~)[\s\p{P}\p{S}]/u,Jye=/(?:[^\s\p{P}\p{S}]|~)/u,exe=mn(/link|code|html/,"g").replace("link",new RegExp("\\[(?:[^\\[\\]`]|(?<!`)(?<a>`+)[^`]+\\k<a>(?!`))*?\\]\\((?:\\\\[\\s\\S]|[^\\\\\\(\\)]|\\((?:\\\\[\\s\\S]|[^\\\\\\(\\)])*\\))*\\)")).replace("code",new RegExp("(?<!`)(?<b>`+)[^`]+\\k<b>(?!`)")).replace("html",/<(?! )[^<>]*?>/).getRegex(),r7=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,txe=mn(r7,"u").replace(/punct/g,cx).getRegex(),rxe=mn(r7,"u").replace(/punct/g,t7).getRegex(),n7="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",nxe=mn(n7,"gu").replace(/notPunctSpace/g,e7).replace(/punctSpace/g,Vk).replace(/punct/g,cx).getRegex(),axe=mn(n7,"gu").replace(/notPunctSpace/g,Jye).replace(/punctSpace/g,Zye).replace(/punct/g,t7).getRegex(),sxe=mn("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,e7).replace(/punctSpace/g,Vk).replace(/punct/g,cx).getRegex(),ixe=mn(/\\(punct)/,"gu").replace(/punct/g,cx).getRegex(),oxe=mn(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),lxe=mn(Wk).replace("(?:-->|$)","-->").getRegex(),cxe=mn("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",lxe).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),uy=/(?:\[(?:\\[\s\S]|[^\[\]\\])*\]|\\[\s\S]|`+[^`]*?`+(?!`)|[^\[\]\\`])*?/,uxe=mn(/^!?\[(label)\]\(\s*(href)(?:(?:[ \t]*(?:\n[ \t]*)?)(title))?\s*\)/).replace("label",uy).replace("href",/<(?:\\.|[^\n<>\\])+>|[^ \t\n\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),a7=mn(/^!?\[(label)\]\[(ref)\]/).replace("label",uy).replace("ref",qk).getRegex(),s7=mn(/^!?\[(ref)\](?:\[\])?/).replace("ref",qk).getRegex(),dxe=mn("reflink|nolink(?!\\()","g").replace("reflink",a7).replace("nolink",s7).getRegex(),QM=/[hH][tT][tT][pP][sS]?|[fF][tT][pP]/,Kk={_backpedal:$g,anyPunctuation:ixe,autolink:oxe,blockSkip:exe,br:JU,code:Kye,del:$g,emStrongLDelim:txe,emStrongRDelimAst:nxe,emStrongRDelimUnd:sxe,escape:Vye,link:uxe,nolink:s7,punctuation:Xye,reflink:a7,reflinkSearch:dxe,tag:cxe,text:Qye,url:$g},pxe={...Kk,link:mn(/^!?\[(label)\]\((.*?)\)/).replace("label",uy).getRegex(),reflink:mn(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",uy).getRegex()},UT={...Kk,emStrongRDelimAst:axe,emStrongLDelim:rxe,url:mn(/^((?:protocol):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/).replace("protocol",QM).replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\[\s\S]|[^\\])*?(?:\\[\s\S]|[^\s~\\]))\1(?=[^~]|$)/,text:mn(/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|protocol:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/).replace("protocol",QM).getRegex()},hxe={...UT,br:mn(JU).replace("{2,}","*").getRegex(),text:mn(UT.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},P0={normal:Yk,gfm:Wye,pedantic:Yye},tg={normal:Kk,gfm:UT,breaks:hxe,pedantic:pxe},gxe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},XM=e=>gxe[e];function Lo(e,t){if(t){if(Ds.escapeTest.test(e))return e.replace(Ds.escapeReplace,XM)}else if(Ds.escapeTestNoEncode.test(e))return e.replace(Ds.escapeReplaceNoEncode,XM);return e}function ZM(e){try{e=encodeURI(e).replace(Ds.percentDecode,"%")}catch{return null}return e}function JM(e,t){let r=e.replace(Ds.findPipe,(i,o,l)=>{let u=!1,d=o;for(;--d>=0&&l[d]==="\\";)u=!u;return u?"|":" |"}),n=r.split(Ds.splitPipe),a=0;if(n[0].trim()||n.shift(),n.length>0&&!n.at(-1)?.trim()&&n.pop(),t)if(n.length>t)n.splice(t);else for(;n.length<t;)n.push("");for(;a<n.length;a++)n[a]=n[a].trim().replace(Ds.slashPipe,"|");return n}function rg(e,t,r){let n=e.length;if(n===0)return"";let a=0;for(;a<n&&e.charAt(n-a-1)===t;)a++;return e.slice(0,n-a)}function mxe(e,t){if(e.indexOf(t[1])===-1)return-1;let r=0;for(let n=0;n<e.length;n++)if(e[n]==="\\")n++;else if(e[n]===t[0])r++;else if(e[n]===t[1]&&(r--,r<0))return n;return r>0?-2:-1}function eP(e,t,r,n,a){let i=t.href,o=t.title||null,l=e[1].replace(a.other.outputLinkReplace,"$1");n.state.inLink=!0;let u={type:e[0].charAt(0)==="!"?"image":"link",raw:r,href:i,title:o,text:l,tokens:n.inlineTokens(l)};return n.state.inLink=!1,u}function fxe(e,t,r){let n=e.match(r.other.indentCodeCompensation);if(n===null)return t;let a=n[1];return t.split(`
`).map(i=>{let o=i.match(r.other.beginningSpace);if(o===null)return i;let[l]=o;return l.length>=a.length?i.slice(a.length):i}).join(`
`)}var dy=class{options;rules;lexer;constructor(t){this.options=t||Pu}space(t){let r=this.rules.block.newline.exec(t);if(r&&r[0].length>0)return{type:"space",raw:r[0]}}code(t){let r=this.rules.block.code.exec(t);if(r){let n=r[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:r[0],codeBlockStyle:"indented",text:this.options.pedantic?n:rg(n,`
`)}}}fences(t){let r=this.rules.block.fences.exec(t);if(r){let n=r[0],a=fxe(n,r[3]||"",this.rules);return{type:"code",raw:n,lang:r[2]?r[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):r[2],text:a}}}heading(t){let r=this.rules.block.heading.exec(t);if(r){let n=r[2].trim();if(this.rules.other.endingHash.test(n)){let a=rg(n,"#");(this.options.pedantic||!a||this.rules.other.endingSpaceChar.test(a))&&(n=a.trim())}return{type:"heading",raw:r[0],depth:r[1].length,text:n,tokens:this.lexer.inline(n)}}}hr(t){let r=this.rules.block.hr.exec(t);if(r)return{type:"hr",raw:rg(r[0],`
`)}}blockquote(t){let r=this.rules.block.blockquote.exec(t);if(r){let n=rg(r[0],`
`).split(`
`),a="",i="",o=[];for(;n.length>0;){let l=!1,u=[],d;for(d=0;d<n.length;d++)if(this.rules.other.blockquoteStart.test(n[d]))u.push(n[d]),l=!0;else if(!l)u.push(n[d]);else break;n=n.slice(d);let h=u.join(`
`),g=h.replace(this.rules.other.blockquoteSetextReplace,`
    $1`).replace(this.rules.other.blockquoteSetextReplace2,"");a=a?`${a}
${h}`:h,i=i?`${i}
${g}`:g;let f=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(g,o,!0),this.lexer.state.top=f,n.length===0)break;let b=o.at(-1);if(b?.type==="code")break;if(b?.type==="blockquote"){let x=b,E=x.raw+`
`+n.join(`
`),v=this.blockquote(E);o[o.length-1]=v,a=a.substring(0,a.length-x.raw.length)+v.raw,i=i.substring(0,i.length-x.text.length)+v.text;break}else if(b?.type==="list"){let x=b,E=x.raw+`
`+n.join(`
`),v=this.list(E);o[o.length-1]=v,a=a.substring(0,a.length-b.raw.length)+v.raw,i=i.substring(0,i.length-x.raw.length)+v.raw,n=E.substring(o.at(-1).raw.length).split(`
`);continue}}return{type:"blockquote",raw:a,tokens:o,text:i}}}list(t){let r=this.rules.block.list.exec(t);if(r){let n=r[1].trim(),a=n.length>1,i={type:"list",raw:"",ordered:a,start:a?+n.slice(0,-1):"",loose:!1,items:[]};n=a?`\\d{1,9}\\${n.slice(-1)}`:`\\${n}`,this.options.pedantic&&(n=a?n:"[*+-]");let o=this.rules.other.listItemRegex(n),l=!1;for(;t;){let d=!1,h="",g="";if(!(r=o.exec(t))||this.rules.block.hr.test(t))break;h=r[0],t=t.substring(h.length);let f=r[2].split(`
`,1)[0].replace(this.rules.other.listReplaceTabs,w=>" ".repeat(3*w.length)),b=t.split(`
`,1)[0],x=!f.trim(),E=0;if(this.options.pedantic?(E=2,g=f.trimStart()):x?E=r[1].length+1:(E=r[2].search(this.rules.other.nonSpaceChar),E=E>4?1:E,g=f.slice(E),E+=r[1].length),x&&this.rules.other.blankLine.test(b)&&(h+=b+`
`,t=t.substring(b.length+1),d=!0),!d){let w=this.rules.other.nextBulletRegex(E),N=this.rules.other.hrRegex(E),R=this.rules.other.fencesBeginRegex(E),D=this.rules.other.headingBeginRegex(E),L=this.rules.other.htmlBeginRegex(E);for(;t;){let j=t.split(`
`,1)[0],B;if(b=j,this.options.pedantic?(b=b.replace(this.rules.other.listReplaceNesting,"  "),B=b):B=b.replace(this.rules.other.tabCharGlobal,"    "),R.test(b)||D.test(b)||L.test(b)||w.test(b)||N.test(b))break;if(B.search(this.rules.other.nonSpaceChar)>=E||!b.trim())g+=`
`+B.slice(E);else{if(x||f.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||R.test(f)||D.test(f)||N.test(f))break;g+=`
`+b}!x&&!b.trim()&&(x=!0),h+=j+`
`,t=t.substring(j.length+1),f=B.slice(E)}}i.loose||(l?i.loose=!0:this.rules.other.doubleBlankLine.test(h)&&(l=!0));let v=null,T;this.options.gfm&&(v=this.rules.other.listIsTask.exec(g),v&&(T=v[0]!=="[ ] ",g=g.replace(this.rules.other.listReplaceTask,""))),i.items.push({type:"list_item",raw:h,task:!!v,checked:T,loose:!1,text:g,tokens:[]}),i.raw+=h}let u=i.items.at(-1);if(u)u.raw=u.raw.trimEnd(),u.text=u.text.trimEnd();else return;i.raw=i.raw.trimEnd();for(let d=0;d<i.items.length;d++)if(this.lexer.state.top=!1,i.items[d].tokens=this.lexer.blockTokens(i.items[d].text,[]),!i.loose){let h=i.items[d].tokens.filter(f=>f.type==="space"),g=h.length>0&&h.some(f=>this.rules.other.anyLine.test(f.raw));i.loose=g}if(i.loose)for(let d=0;d<i.items.length;d++)i.items[d].loose=!0;return i}}html(t){let r=this.rules.block.html.exec(t);if(r)return{type:"html",block:!0,raw:r[0],pre:r[1]==="pre"||r[1]==="script"||r[1]==="style",text:r[0]}}def(t){let r=this.rules.block.def.exec(t);if(r){let n=r[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),a=r[2]?r[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",i=r[3]?r[3].substring(1,r[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):r[3];return{type:"def",tag:n,raw:r[0],href:a,title:i}}}table(t){let r=this.rules.block.table.exec(t);if(!r||!this.rules.other.tableDelimiter.test(r[2]))return;let n=JM(r[1]),a=r[2].replace(this.rules.other.tableAlignChars,"").split("|"),i=r[3]?.trim()?r[3].replace(this.rules.other.tableRowBlankLine,"").split(`
`):[],o={type:"table",raw:r[0],header:[],align:[],rows:[]};if(n.length===a.length){for(let l of a)this.rules.other.tableAlignRight.test(l)?o.align.push("right"):this.rules.other.tableAlignCenter.test(l)?o.align.push("center"):this.rules.other.tableAlignLeft.test(l)?o.align.push("left"):o.align.push(null);for(let l=0;l<n.length;l++)o.header.push({text:n[l],tokens:this.lexer.inline(n[l]),header:!0,align:o.align[l]});for(let l of i)o.rows.push(JM(l,o.header.length).map((u,d)=>({text:u,tokens:this.lexer.inline(u),header:!1,align:o.align[d]})));return o}}lheading(t){let r=this.rules.block.lheading.exec(t);if(r)return{type:"heading",raw:r[0],depth:r[2].charAt(0)==="="?1:2,text:r[1],tokens:this.lexer.inline(r[1])}}paragraph(t){let r=this.rules.block.paragraph.exec(t);if(r){let n=r[1].charAt(r[1].length-1)===`
`?r[1].slice(0,-1):r[1];return{type:"paragraph",raw:r[0],text:n,tokens:this.lexer.inline(n)}}}text(t){let r=this.rules.block.text.exec(t);if(r)return{type:"text",raw:r[0],text:r[0],tokens:this.lexer.inline(r[0])}}escape(t){let r=this.rules.inline.escape.exec(t);if(r)return{type:"escape",raw:r[0],text:r[1]}}tag(t){let r=this.rules.inline.tag.exec(t);if(r)return!this.lexer.state.inLink&&this.rules.other.startATag.test(r[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(r[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(r[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(r[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:r[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:r[0]}}link(t){let r=this.rules.inline.link.exec(t);if(r){let n=r[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(n)){if(!this.rules.other.endAngleBracket.test(n))return;let o=rg(n.slice(0,-1),"\\");if((n.length-o.length)%2===0)return}else{let o=mxe(r[2],"()");if(o===-2)return;if(o>-1){let l=(r[0].indexOf("!")===0?5:4)+r[1].length+o;r[2]=r[2].substring(0,o),r[0]=r[0].substring(0,l).trim(),r[3]=""}}let a=r[2],i="";if(this.options.pedantic){let o=this.rules.other.pedanticHrefTitle.exec(a);o&&(a=o[1],i=o[3])}else i=r[3]?r[3].slice(1,-1):"";return a=a.trim(),this.rules.other.startAngleBracket.test(a)&&(this.options.pedantic&&!this.rules.other.endAngleBracket.test(n)?a=a.slice(1):a=a.slice(1,-1)),eP(r,{href:a&&a.replace(this.rules.inline.anyPunctuation,"$1"),title:i&&i.replace(this.rules.inline.anyPunctuation,"$1")},r[0],this.lexer,this.rules)}}reflink(t,r){let n;if((n=this.rules.inline.reflink.exec(t))||(n=this.rules.inline.nolink.exec(t))){let a=(n[2]||n[1]).replace(this.rules.other.multipleSpaceGlobal," "),i=r[a.toLowerCase()];if(!i){let o=n[0].charAt(0);return{type:"text",raw:o,text:o}}return eP(n,i,n[0],this.lexer,this.rules)}}emStrong(t,r,n=""){let a=this.rules.inline.emStrongLDelim.exec(t);if(!(!a||a[3]&&n.match(this.rules.other.unicodeAlphaNumeric))&&(!(a[1]||a[2])||!n||this.rules.inline.punctuation.exec(n))){let i=[...a[0]].length-1,o,l,u=i,d=0,h=a[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(h.lastIndex=0,r=r.slice(-1*t.length+i);(a=h.exec(r))!=null;){if(o=a[1]||a[2]||a[3]||a[4]||a[5]||a[6],!o)continue;if(l=[...o].length,a[3]||a[4]){u+=l;continue}else if((a[5]||a[6])&&i%3&&!((i+l)%3)){d+=l;continue}if(u-=l,u>0)continue;l=Math.min(l,l+u+d);let g=[...a[0]][0].length,f=t.slice(0,i+a.index+g+l);if(Math.min(i,l)%2){let x=f.slice(1,-1);return{type:"em",raw:f,text:x,tokens:this.lexer.inlineTokens(x)}}let b=f.slice(2,-2);return{type:"strong",raw:f,text:b,tokens:this.lexer.inlineTokens(b)}}}}codespan(t){let r=this.rules.inline.code.exec(t);if(r){let n=r[2].replace(this.rules.other.newLineCharGlobal," "),a=this.rules.other.nonSpaceChar.test(n),i=this.rules.other.startingSpaceChar.test(n)&&this.rules.other.endingSpaceChar.test(n);return a&&i&&(n=n.substring(1,n.length-1)),{type:"codespan",raw:r[0],text:n}}}br(t){let r=this.rules.inline.br.exec(t);if(r)return{type:"br",raw:r[0]}}del(t){let r=this.rules.inline.del.exec(t);if(r)return{type:"del",raw:r[0],text:r[2],tokens:this.lexer.inlineTokens(r[2])}}autolink(t){let r=this.rules.inline.autolink.exec(t);if(r){let n,a;return r[2]==="@"?(n=r[1],a="mailto:"+n):(n=r[1],a=n),{type:"link",raw:r[0],text:n,href:a,tokens:[{type:"text",raw:n,text:n}]}}}url(t){let r;if(r=this.rules.inline.url.exec(t)){let n,a;if(r[2]==="@")n=r[0],a="mailto:"+n;else{let i;do i=r[0],r[0]=this.rules.inline._backpedal.exec(r[0])?.[0]??"";while(i!==r[0]);n=r[0],r[1]==="www."?a="http://"+r[0]:a=r[0]}return{type:"link",raw:r[0],text:n,href:a,tokens:[{type:"text",raw:n,text:n}]}}}inlineText(t){let r=this.rules.inline.text.exec(t);if(r){let n=this.lexer.state.inRawBlock;return{type:"text",raw:r[0],text:r[0],escaped:n}}}},ao=class $T{tokens;options;state;tokenizer;inlineQueue;constructor(t){this.tokens=[],this.tokens.links=Object.create(null),this.options=t||Pu,this.options.tokenizer=this.options.tokenizer||new dy,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};let r={other:Ds,block:P0.normal,inline:tg.normal};this.options.pedantic?(r.block=P0.pedantic,r.inline=tg.pedantic):this.options.gfm&&(r.block=P0.gfm,this.options.breaks?r.inline=tg.breaks:r.inline=tg.gfm),this.tokenizer.rules=r}static get rules(){return{block:P0,inline:tg}}static lex(t,r){return new $T(r).lex(t)}static lexInline(t,r){return new $T(r).inlineTokens(t)}lex(t){t=t.replace(Ds.carriageReturn,`
`),this.blockTokens(t,this.tokens);for(let r=0;r<this.inlineQueue.length;r++){let n=this.inlineQueue[r];this.inlineTokens(n.src,n.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(t,r=[],n=!1){for(this.options.pedantic&&(t=t.replace(Ds.tabCharGlobal,"    ").replace(Ds.spaceLine,""));t;){let a;if(this.options.extensions?.block?.some(o=>(a=o.call({lexer:this},t,r))?(t=t.substring(a.raw.length),r.push(a),!0):!1))continue;if(a=this.tokenizer.space(t)){t=t.substring(a.raw.length);let o=r.at(-1);a.raw.length===1&&o!==void 0?o.raw+=`
`:r.push(a);continue}if(a=this.tokenizer.code(t)){t=t.substring(a.raw.length);let o=r.at(-1);o?.type==="paragraph"||o?.type==="text"?(o.raw+=(o.raw.endsWith(`
`)?"":`
`)+a.raw,o.text+=`
`+a.text,this.inlineQueue.at(-1).src=o.text):r.push(a);continue}if(a=this.tokenizer.fences(t)){t=t.substring(a.raw.length),r.push(a);continue}if(a=this.tokenizer.heading(t)){t=t.substring(a.raw.length),r.push(a);continue}if(a=this.tokenizer.hr(t)){t=t.substring(a.raw.length),r.push(a);continue}if(a=this.tokenizer.blockquote(t)){t=t.substring(a.raw.length),r.push(a);continue}if(a=this.tokenizer.list(t)){t=t.substring(a.raw.length),r.push(a);continue}if(a=this.tokenizer.html(t)){t=t.substring(a.raw.length),r.push(a);continue}if(a=this.tokenizer.def(t)){t=t.substring(a.raw.length);let o=r.at(-1);o?.type==="paragraph"||o?.type==="text"?(o.raw+=(o.raw.endsWith(`
`)?"":`
`)+a.raw,o.text+=`
`+a.raw,this.inlineQueue.at(-1).src=o.text):this.tokens.links[a.tag]||(this.tokens.links[a.tag]={href:a.href,title:a.title},r.push(a));continue}if(a=this.tokenizer.table(t)){t=t.substring(a.raw.length),r.push(a);continue}if(a=this.tokenizer.lheading(t)){t=t.substring(a.raw.length),r.push(a);continue}let i=t;if(this.options.extensions?.startBlock){let o=1/0,l=t.slice(1),u;this.options.extensions.startBlock.forEach(d=>{u=d.call({lexer:this},l),typeof u=="number"&&u>=0&&(o=Math.min(o,u))}),o<1/0&&o>=0&&(i=t.substring(0,o+1))}if(this.state.top&&(a=this.tokenizer.paragraph(i))){let o=r.at(-1);n&&o?.type==="paragraph"?(o.raw+=(o.raw.endsWith(`
`)?"":`
`)+a.raw,o.text+=`
`+a.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=o.text):r.push(a),n=i.length!==t.length,t=t.substring(a.raw.length);continue}if(a=this.tokenizer.text(t)){t=t.substring(a.raw.length);let o=r.at(-1);o?.type==="text"?(o.raw+=(o.raw.endsWith(`
`)?"":`
`)+a.raw,o.text+=`
`+a.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=o.text):r.push(a);continue}if(t){let o="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(o);break}else throw new Error(o)}}return this.state.top=!0,r}inline(t,r=[]){return this.inlineQueue.push({src:t,tokens:r}),r}inlineTokens(t,r=[]){let n=t,a=null;if(this.tokens.links){let l=Object.keys(this.tokens.links);if(l.length>0)for(;(a=this.tokenizer.rules.inline.reflinkSearch.exec(n))!=null;)l.includes(a[0].slice(a[0].lastIndexOf("[")+1,-1))&&(n=n.slice(0,a.index)+"["+"a".repeat(a[0].length-2)+"]"+n.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(a=this.tokenizer.rules.inline.anyPunctuation.exec(n))!=null;)n=n.slice(0,a.index)+"++"+n.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;(a=this.tokenizer.rules.inline.blockSkip.exec(n))!=null;)n=n.slice(0,a.index)+"["+"a".repeat(a[0].length-2)+"]"+n.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);n=this.options.hooks?.emStrongMask?.call({lexer:this},n)??n;let i=!1,o="";for(;t;){i||(o=""),i=!1;let l;if(this.options.extensions?.inline?.some(d=>(l=d.call({lexer:this},t,r))?(t=t.substring(l.raw.length),r.push(l),!0):!1))continue;if(l=this.tokenizer.escape(t)){t=t.substring(l.raw.length),r.push(l);continue}if(l=this.tokenizer.tag(t)){t=t.substring(l.raw.length),r.push(l);continue}if(l=this.tokenizer.link(t)){t=t.substring(l.raw.length),r.push(l);continue}if(l=this.tokenizer.reflink(t,this.tokens.links)){t=t.substring(l.raw.length);let d=r.at(-1);l.type==="text"&&d?.type==="text"?(d.raw+=l.raw,d.text+=l.text):r.push(l);continue}if(l=this.tokenizer.emStrong(t,n,o)){t=t.substring(l.raw.length),r.push(l);continue}if(l=this.tokenizer.codespan(t)){t=t.substring(l.raw.length),r.push(l);continue}if(l=this.tokenizer.br(t)){t=t.substring(l.raw.length),r.push(l);continue}if(l=this.tokenizer.del(t)){t=t.substring(l.raw.length),r.push(l);continue}if(l=this.tokenizer.autolink(t)){t=t.substring(l.raw.length),r.push(l);continue}if(!this.state.inLink&&(l=this.tokenizer.url(t))){t=t.substring(l.raw.length),r.push(l);continue}let u=t;if(this.options.extensions?.startInline){let d=1/0,h=t.slice(1),g;this.options.extensions.startInline.forEach(f=>{g=f.call({lexer:this},h),typeof g=="number"&&g>=0&&(d=Math.min(d,g))}),d<1/0&&d>=0&&(u=t.substring(0,d+1))}if(l=this.tokenizer.inlineText(u)){t=t.substring(l.raw.length),l.raw.slice(-1)!=="_"&&(o=l.raw.slice(-1)),i=!0;let d=r.at(-1);d?.type==="text"?(d.raw+=l.raw,d.text+=l.text):r.push(l);continue}if(t){let d="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(d);break}else throw new Error(d)}}return r}},py=class{options;parser;constructor(t){this.options=t||Pu}space(t){return""}code({text:t,lang:r,escaped:n}){let a=(r||"").match(Ds.notSpaceStart)?.[0],i=t.replace(Ds.endingNewline,"")+`
`;return a?'<pre><code class="language-'+Lo(a)+'">'+(n?i:Lo(i,!0))+`</code></pre>
`:"<pre><code>"+(n?i:Lo(i,!0))+`</code></pre>
`}blockquote({tokens:t}){return`<blockquote>
${this.parser.parse(t)}</blockquote>
`}html({text:t}){return t}def(t){return""}heading({tokens:t,depth:r}){return`<h${r}>${this.parser.parseInline(t)}</h${r}>
`}hr(t){return`<hr>
`}list(t){let r=t.ordered,n=t.start,a="";for(let l=0;l<t.items.length;l++){let u=t.items[l];a+=this.listitem(u)}let i=r?"ol":"ul",o=r&&n!==1?' start="'+n+'"':"";return"<"+i+o+`>
`+a+"</"+i+`>
`}listitem(t){let r="";if(t.task){let n=this.checkbox({checked:!!t.checked});t.loose?t.tokens[0]?.type==="paragraph"?(t.tokens[0].text=n+" "+t.tokens[0].text,t.tokens[0].tokens&&t.tokens[0].tokens.length>0&&t.tokens[0].tokens[0].type==="text"&&(t.tokens[0].tokens[0].text=n+" "+Lo(t.tokens[0].tokens[0].text),t.tokens[0].tokens[0].escaped=!0)):t.tokens.unshift({type:"text",raw:n+" ",text:n+" ",escaped:!0}):r+=n+" "}return r+=this.parser.parse(t.tokens,!!t.loose),`<li>${r}</li>
`}checkbox({checked:t}){return"<input "+(t?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:t}){return`<p>${this.parser.parseInline(t)}</p>
`}table(t){let r="",n="";for(let i=0;i<t.header.length;i++)n+=this.tablecell(t.header[i]);r+=this.tablerow({text:n});let a="";for(let i=0;i<t.rows.length;i++){let o=t.rows[i];n="";for(let l=0;l<o.length;l++)n+=this.tablecell(o[l]);a+=this.tablerow({text:n})}return a&&(a=`<tbody>${a}</tbody>`),`<table>
<thead>
`+r+`</thead>
`+a+`</table>
`}tablerow({text:t}){return`<tr>
${t}</tr>
`}tablecell(t){let r=this.parser.parseInline(t.tokens),n=t.header?"th":"td";return(t.align?`<${n} align="${t.align}">`:`<${n}>`)+r+`</${n}>
`}strong({tokens:t}){return`<strong>${this.parser.parseInline(t)}</strong>`}em({tokens:t}){return`<em>${this.parser.parseInline(t)}</em>`}codespan({text:t}){return`<code>${Lo(t,!0)}</code>`}br(t){return"<br>"}del({tokens:t}){return`<del>${this.parser.parseInline(t)}</del>`}link({href:t,title:r,tokens:n}){let a=this.parser.parseInline(n),i=ZM(t);if(i===null)return a;t=i;let o='<a href="'+t+'"';return r&&(o+=' title="'+Lo(r)+'"'),o+=">"+a+"</a>",o}image({href:t,title:r,text:n,tokens:a}){a&&(n=this.parser.parseInline(a,this.parser.textRenderer));let i=ZM(t);if(i===null)return Lo(n);t=i;let o=`<img src="${t}" alt="${n}"`;return r&&(o+=` title="${Lo(r)}"`),o+=">",o}text(t){return"tokens"in t&&t.tokens?this.parser.parseInline(t.tokens):"escaped"in t&&t.escaped?t.text:Lo(t.text)}},Qk=class{strong({text:t}){return t}em({text:t}){return t}codespan({text:t}){return t}del({text:t}){return t}html({text:t}){return t}text({text:t}){return t}link({text:t}){return""+t}image({text:t}){return""+t}br(){return""}},so=class HT{options;renderer;textRenderer;constructor(t){this.options=t||Pu,this.options.renderer=this.options.renderer||new py,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new Qk}static parse(t,r){return new HT(r).parse(t)}static parseInline(t,r){return new HT(r).parseInline(t)}parse(t,r=!0){let n="";for(let a=0;a<t.length;a++){let i=t[a];if(this.options.extensions?.renderers?.[i.type]){let l=i,u=this.options.extensions.renderers[l.type].call({parser:this},l);if(u!==!1||!["space","hr","heading","code","table","blockquote","list","html","def","paragraph","text"].includes(l.type)){n+=u||"";continue}}let o=i;switch(o.type){case"space":{n+=this.renderer.space(o);continue}case"hr":{n+=this.renderer.hr(o);continue}case"heading":{n+=this.renderer.heading(o);continue}case"code":{n+=this.renderer.code(o);continue}case"table":{n+=this.renderer.table(o);continue}case"blockquote":{n+=this.renderer.blockquote(o);continue}case"list":{n+=this.renderer.list(o);continue}case"html":{n+=this.renderer.html(o);continue}case"def":{n+=this.renderer.def(o);continue}case"paragraph":{n+=this.renderer.paragraph(o);continue}case"text":{let l=o,u=this.renderer.text(l);for(;a+1<t.length&&t[a+1].type==="text";)l=t[++a],u+=`
`+this.renderer.text(l);r?n+=this.renderer.paragraph({type:"paragraph",raw:u,text:u,tokens:[{type:"text",raw:u,text:u,escaped:!0}]}):n+=u;continue}default:{let l='Token with "'+o.type+'" type was not found.';if(this.options.silent)return console.error(l),"";throw new Error(l)}}}return n}parseInline(t,r=this.renderer){let n="";for(let a=0;a<t.length;a++){let i=t[a];if(this.options.extensions?.renderers?.[i.type]){let l=this.options.extensions.renderers[i.type].call({parser:this},i);if(l!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(i.type)){n+=l||"";continue}}let o=i;switch(o.type){case"escape":{n+=r.text(o);break}case"html":{n+=r.html(o);break}case"link":{n+=r.link(o);break}case"image":{n+=r.image(o);break}case"strong":{n+=r.strong(o);break}case"em":{n+=r.em(o);break}case"codespan":{n+=r.codespan(o);break}case"br":{n+=r.br(o);break}case"del":{n+=r.del(o);break}case"text":{n+=r.text(o);break}default:{let l='Token with "'+o.type+'" type was not found.';if(this.options.silent)return console.error(l),"";throw new Error(l)}}}return n}},yg=class{options;block;constructor(t){this.options=t||Pu}static passThroughHooks=new Set(["preprocess","postprocess","processAllTokens","emStrongMask"]);static passThroughHooksRespectAsync=new Set(["preprocess","postprocess","processAllTokens"]);preprocess(t){return t}postprocess(t){return t}processAllTokens(t){return t}emStrongMask(t){return t}provideLexer(){return this.block?ao.lex:ao.lexInline}provideParser(){return this.block?so.parse:so.parseInline}},bxe=class{defaults=Hk();options=this.setOptions;parse=this.parseMarkdown(!0);parseInline=this.parseMarkdown(!1);Parser=so;Renderer=py;TextRenderer=Qk;Lexer=ao;Tokenizer=dy;Hooks=yg;constructor(...t){this.use(...t)}walkTokens(t,r){let n=[];for(let a of t)switch(n=n.concat(r.call(this,a)),a.type){case"table":{let i=a;for(let o of i.header)n=n.concat(this.walkTokens(o.tokens,r));for(let o of i.rows)for(let l of o)n=n.concat(this.walkTokens(l.tokens,r));break}case"list":{let i=a;n=n.concat(this.walkTokens(i.items,r));break}default:{let i=a;this.defaults.extensions?.childTokens?.[i.type]?this.defaults.extensions.childTokens[i.type].forEach(o=>{let l=i[o].flat(1/0);n=n.concat(this.walkTokens(l,r))}):i.tokens&&(n=n.concat(this.walkTokens(i.tokens,r)))}}return n}use(...t){let r=this.defaults.extensions||{renderers:{},childTokens:{}};return t.forEach(n=>{let a={...n};if(a.async=this.defaults.async||a.async||!1,n.extensions&&(n.extensions.forEach(i=>{if(!i.name)throw new Error("extension name required");if("renderer"in i){let o=r.renderers[i.name];o?r.renderers[i.name]=function(...l){let u=i.renderer.apply(this,l);return u===!1&&(u=o.apply(this,l)),u}:r.renderers[i.name]=i.renderer}if("tokenizer"in i){if(!i.level||i.level!=="block"&&i.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");let o=r[i.level];o?o.unshift(i.tokenizer):r[i.level]=[i.tokenizer],i.start&&(i.level==="block"?r.startBlock?r.startBlock.push(i.start):r.startBlock=[i.start]:i.level==="inline"&&(r.startInline?r.startInline.push(i.start):r.startInline=[i.start]))}"childTokens"in i&&i.childTokens&&(r.childTokens[i.name]=i.childTokens)}),a.extensions=r),n.renderer){let i=this.defaults.renderer||new py(this.defaults);for(let o in n.renderer){if(!(o in i))throw new Error(`renderer '${o}' does not exist`);if(["options","parser"].includes(o))continue;let l=o,u=n.renderer[l],d=i[l];i[l]=(...h)=>{let g=u.apply(i,h);return g===!1&&(g=d.apply(i,h)),g||""}}a.renderer=i}if(n.tokenizer){let i=this.defaults.tokenizer||new dy(this.defaults);for(let o in n.tokenizer){if(!(o in i))throw new Error(`tokenizer '${o}' does not exist`);if(["options","rules","lexer"].includes(o))continue;let l=o,u=n.tokenizer[l],d=i[l];i[l]=(...h)=>{let g=u.apply(i,h);return g===!1&&(g=d.apply(i,h)),g}}a.tokenizer=i}if(n.hooks){let i=this.defaults.hooks||new yg;for(let o in n.hooks){if(!(o in i))throw new Error(`hook '${o}' does not exist`);if(["options","block"].includes(o))continue;let l=o,u=n.hooks[l],d=i[l];yg.passThroughHooks.has(o)?i[l]=h=>{if(this.defaults.async&&yg.passThroughHooksRespectAsync.has(o))return(async()=>{let f=await u.call(i,h);return d.call(i,f)})();let g=u.call(i,h);return d.call(i,g)}:i[l]=(...h)=>{if(this.defaults.async)return(async()=>{let f=await u.apply(i,h);return f===!1&&(f=await d.apply(i,h)),f})();let g=u.apply(i,h);return g===!1&&(g=d.apply(i,h)),g}}a.hooks=i}if(n.walkTokens){let i=this.defaults.walkTokens,o=n.walkTokens;a.walkTokens=function(l){let u=[];return u.push(o.call(this,l)),i&&(u=u.concat(i.call(this,l))),u}}this.defaults={...this.defaults,...a}}),this}setOptions(t){return this.defaults={...this.defaults,...t},this}lexer(t,r){return ao.lex(t,r??this.defaults)}parser(t,r){return so.parse(t,r??this.defaults)}parseMarkdown(t){return(r,n)=>{let a={...n},i={...this.defaults,...a},o=this.onError(!!i.silent,!!i.async);if(this.defaults.async===!0&&a.async===!1)return o(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof r>"u"||r===null)return o(new Error("marked(): input parameter is undefined or null"));if(typeof r!="string")return o(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(r)+", string expected"));if(i.hooks&&(i.hooks.options=i,i.hooks.block=t),i.async)return(async()=>{let l=i.hooks?await i.hooks.preprocess(r):r,u=await(i.hooks?await i.hooks.provideLexer():t?ao.lex:ao.lexInline)(l,i),d=i.hooks?await i.hooks.processAllTokens(u):u;i.walkTokens&&await Promise.all(this.walkTokens(d,i.walkTokens));let h=await(i.hooks?await i.hooks.provideParser():t?so.parse:so.parseInline)(d,i);return i.hooks?await i.hooks.postprocess(h):h})().catch(o);try{i.hooks&&(r=i.hooks.preprocess(r));let l=(i.hooks?i.hooks.provideLexer():t?ao.lex:ao.lexInline)(r,i);i.hooks&&(l=i.hooks.processAllTokens(l)),i.walkTokens&&this.walkTokens(l,i.walkTokens);let u=(i.hooks?i.hooks.provideParser():t?so.parse:so.parseInline)(l,i);return i.hooks&&(u=i.hooks.postprocess(u)),u}catch(l){return o(l)}}}onError(t,r){return n=>{if(n.message+=`
Please report this to https://github.com/markedjs/marked.`,t){let a="<p>An error occurred:</p><pre>"+Lo(n.message+"",!0)+"</pre>";return r?Promise.resolve(a):a}if(r)return Promise.reject(n);throw n}}},Su=new bxe;function Tn(e,t){return Su.parse(e,t)}Tn.options=Tn.setOptions=function(e){return Su.setOptions(e),Tn.defaults=Su.defaults,KU(Tn.defaults),Tn};Tn.getDefaults=Hk;Tn.defaults=Pu;Tn.use=function(...e){return Su.use(...e),Tn.defaults=Su.defaults,KU(Tn.defaults),Tn};Tn.walkTokens=function(e,t){return Su.walkTokens(e,t)};Tn.parseInline=Su.parseInline;Tn.Parser=so;Tn.parser=so.parse;Tn.Renderer=py;Tn.TextRenderer=Qk;Tn.Lexer=ao;Tn.lexer=ao.lex;Tn.Tokenizer=dy;Tn.Hooks=yg;Tn.parse=Tn;Tn.options;Tn.setOptions;Tn.use;Tn.walkTokens;Tn.parseInline;so.parse;ao.lex;function i7(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var n=Array.from(typeof e=="string"?[e]:e);n[n.length-1]=n[n.length-1].replace(/\r?\n([\t ]*)$/,"");var a=n.reduce(function(l,u){var d=u.match(/\n([\t ]+|(?!\s).)/g);return d?l.concat(d.map(function(h){var g,f;return(f=(g=h.match(/[\t ]/g))===null||g===void 0?void 0:g.length)!==null&&f!==void 0?f:0})):l},[]);if(a.length){var i=new RegExp(`
[	 ]{`+Math.min.apply(Math,a)+"}","g");n=n.map(function(l){return l.replace(i,`
`)})}n[0]=n[0].replace(/^\r?\n/,"");var o=n[0];return t.forEach(function(l,u){var d=o.match(/(?:^|\n)( *)$/),h=d?d[1]:"",g=l;typeof l=="string"&&l.includes(`
`)&&(g=String(l).split(`
`).map(function(f,b){return b===0?f:""+h+f}).join(`
`)),o+=g+n[u+1]}),o}var yxe={body:'<g><rect width="80" height="80" style="fill: #087ebf; stroke-width: 0px;"/><text transform="translate(21.16 64.67)" style="fill: #fff; font-family: ArialMT, Arial; font-size: 67.75px;"><tspan x="0" y="0">?</tspan></text></g>',height:80,width:80},zT=new Map,o7=new Map,xxe=M(e=>{for(const t of e){if(!t.name)throw new Error('Invalid icon loader. Must have a "name" property with non-empty string value.');if(st.debug("Registering icon pack:",t.name),"loader"in t)o7.set(t.name,t.loader);else if("icons"in t)zT.set(t.name,t.icons);else throw st.error("Invalid icon loader:",t),new Error('Invalid icon loader. Must have either "icons" or "loader" property.')}},"registerIconPacks"),l7=M(async(e,t)=>{const r=Eye(e,!0,t!==void 0);if(!r)throw new Error(`Invalid icon name: ${e}`);const n=r.prefix||t;if(!n)throw new Error(`Icon name must contain a prefix: ${e}`);let a=zT.get(n);if(!a){const o=o7.get(n);if(!o)throw new Error(`Icon set not found: ${r.prefix}`);try{a={...await o(),prefix:n},zT.set(n,a)}catch(l){throw st.error(l),new Error(`Failed to load icon set: ${r.prefix}`)}}const i=Tye(a,r.name);if(!i)throw new Error(`Icon not found: ${e}`);return i},"getRegisteredIconData"),Exe=M(async e=>{try{return await l7(e),!0}catch{return!1}},"isIconAvailable"),Wm=M(async(e,t,r)=>{let n;try{n=await l7(e,t?.fallbackPrefix)}catch(o){st.error(o),n=yxe}const a=Iye(n,t),i=Mye(Oye(a.body),{...a.attributes,...r});return Hi(i,ps())},"getIconSVG");function c7(e,{markdownAutoWrap:t}){const n=e.replace(/<br\/>/g,`
`).replace(/\n{2,}/g,`
`),a=i7(n);return t===!1?a.replace(/ /g,"&nbsp;"):a}M(c7,"preprocessMarkdown");function u7(e,t={}){const r=c7(e,t),n=Tn.lexer(r),a=[[]];let i=0;function o(l,u="normal"){l.type==="text"?l.text.split(`
`).forEach((h,g)=>{g!==0&&(i++,a.push([])),h.split(" ").forEach(f=>{f=f.replace(/&#39;/g,"'"),f&&a[i].push({content:f,type:u})})}):l.type==="strong"||l.type==="em"?l.tokens.forEach(d=>{o(d,l.type)}):l.type==="html"&&a[i].push({content:l.text,type:"normal"})}return M(o,"processNode"),n.forEach(l=>{l.type==="paragraph"?l.tokens?.forEach(u=>{o(u)}):l.type==="html"?a[i].push({content:l.text,type:"normal"}):a[i].push({content:l.raw,type:"normal"})}),a}M(u7,"markdownToLines");function d7(e,{markdownAutoWrap:t}={}){const r=Tn.lexer(e);function n(a){return a.type==="text"?t===!1?a.text.replace(/\n */g,"<br/>").replace(/ /g,"&nbsp;"):a.text.replace(/\n */g,"<br/>"):a.type==="strong"?`<strong>${a.tokens?.map(n).join("")}</strong>`:a.type==="em"?`<em>${a.tokens?.map(n).join("")}</em>`:a.type==="paragraph"?`<p>${a.tokens?.map(n).join("")}</p>`:a.type==="space"?"":a.type==="html"?`${a.text}`:a.type==="escape"?a.text:(st.warn(`Unsupported markdown: ${a.type}`),a.raw)}return M(n,"output"),r.map(n).join("")}M(d7,"markdownToHTML");function p7(e){return Intl.Segmenter?[...new Intl.Segmenter().segment(e)].map(t=>t.segment):[...e]}M(p7,"splitTextToChars");function h7(e,t){const r=p7(t.content);return Xk(e,[],r,t.type)}M(h7,"splitWordToFitWidth");function Xk(e,t,r,n){if(r.length===0)return[{content:t.join(""),type:n},{content:"",type:n}];const[a,...i]=r,o=[...t,a];return e([{content:o.join(""),type:n}])?Xk(e,o,i,n):(t.length===0&&a&&(t.push(a),r.shift()),[{content:t.join(""),type:n},{content:r.join(""),type:n}])}M(Xk,"splitWordToFitWidthRecursion");function g7(e,t){if(e.some(({content:r})=>r.includes(`
`)))throw new Error("splitLineToFitWidth does not support newlines in the line");return hy(e,t)}M(g7,"splitLineToFitWidth");function hy(e,t,r=[],n=[]){if(e.length===0)return n.length>0&&r.push(n),r.length>0?r:[];let a="";e[0].content===" "&&(a=" ",e.shift());const i=e.shift()??{content:" ",type:"normal"},o=[...n];if(a!==""&&o.push({content:a,type:"normal"}),o.push(i),t(o))return hy(e,t,r,o);if(n.length>0)r.push(n),e.unshift(i);else if(i.content){const[l,u]=h7(t,i);r.push([l]),u.content&&e.unshift(u)}return hy(e,t,r)}M(hy,"splitLineToFitWidthRecursion");function GT(e,t){t&&e.attr("style",t)}M(GT,"applyStyle");async function m7(e,t,r,n,a=!1,i=ps()){const o=e.append("foreignObject");o.attr("width",`${10*r}px`),o.attr("height",`${10*r}px`);const l=o.append("xhtml:div"),u=mp(t.label)?await ik(t.label.replace(Pp.lineBreakRegex,`
`),i):Hi(t.label,i),d=t.isNode?"nodeLabel":"edgeLabel",h=l.append("span");h.html(u),GT(h,t.labelStyle),h.attr("class",`${d} ${n}`),GT(l,t.labelStyle),l.style("display","table-cell"),l.style("white-space","nowrap"),l.style("line-height","1.5"),l.style("max-width",r+"px"),l.style("text-align","center"),l.attr("xmlns","http://www.w3.org/1999/xhtml"),a&&l.attr("class","labelBkg");let g=l.node().getBoundingClientRect();return g.width===r&&(l.style("display","table"),l.style("white-space","break-spaces"),l.style("width",r+"px"),g=l.node().getBoundingClientRect()),o.node()}M(m7,"addHtmlSpan");function ux(e,t,r){return e.append("tspan").attr("class","text-outer-tspan").attr("x",0).attr("y",t*r-.1+"em").attr("dy",r+"em")}M(ux,"createTspan");function f7(e,t,r){const n=e.append("text"),a=ux(n,1,t);dx(a,r);const i=a.node().getComputedTextLength();return n.remove(),i}M(f7,"computeWidthOfText");function vxe(e,t,r){const n=e.append("text"),a=ux(n,1,t);dx(a,[{content:r,type:"normal"}]);const i=a.node()?.getBoundingClientRect();return i&&n.remove(),i}M(vxe,"computeDimensionOfText");function b7(e,t,r,n=!1){const i=t.append("g"),o=i.insert("rect").attr("class","background").attr("style","stroke: none"),l=i.append("text").attr("y","-10.1");let u=0;for(const d of r){const h=M(f=>f7(i,1.1,f)<=e,"checkWidth"),g=h(d)?[d]:g7(d,h);for(const f of g){const b=ux(l,u,1.1);dx(b,f),u++}}if(n){const d=l.node().getBBox(),h=2;return o.attr("x",d.x-h).attr("y",d.y-h).attr("width",d.width+2*h).attr("height",d.height+2*h),i.node()}else return l.node()}M(b7,"createFormattedText");function dx(e,t){e.text(""),t.forEach((r,n)=>{const a=e.append("tspan").attr("font-style",r.type==="em"?"italic":"normal").attr("class","text-inner-tspan").attr("font-weight",r.type==="strong"?"bold":"normal");n===0?a.text(r.content):a.text(" "+r.content)})}M(dx,"updateTextContentAndStyles");async function y7(e,t={}){const r=[];e.replace(/(fa[bklrs]?):fa-([\w-]+)/g,(a,i,o)=>(r.push((async()=>{const l=`${i}:${o}`;return await Exe(l)?await Wm(l,void 0,{class:"label-icon"}):`<i class='${Hi(a,t).replace(":"," ")}'></i>`})()),a));const n=await Promise.all(r);return e.replace(/(fa[bklrs]?):fa-([\w-]+)/g,()=>n.shift()??"")}M(y7,"replaceIconSubstring");var Tc=M(async(e,t="",{style:r="",isTitle:n=!1,classes:a="",useHtmlLabels:i=!0,isNode:o=!0,width:l=200,addSvgBackground:u=!1}={},d)=>{if(st.debug("XYZ createText",t,r,n,a,i,o,"addSvgBackground: ",u),i){const h=d7(t,d),g=await y7(Mu(h),d),f=t.replace(/\\\\/g,"\\"),b={isNode:o,label:mp(t)?f:g,labelStyle:r.replace("fill:","color:")};return await m7(e,b,l,a,u,d)}else{const h=t.replace(/<br\s*\/?>/g,"<br/>"),g=u7(h.replace("<br>","<br/>"),d),f=b7(l,e,g,t?u:!1);if(o){/stroke:/.exec(r)&&(r=r.replace("stroke:","lineColor:"));const b=r.replace(/stroke:[^;]+;?/g,"").replace(/stroke-width:[^;]+;?/g,"").replace(/fill:[^;]+;?/g,"").replace(/color:/g,"fill:");sn(f).attr("style",b)}else{const b=r.replace(/stroke:[^;]+;?/g,"").replace(/stroke-width:[^;]+;?/g,"").replace(/fill:[^;]+;?/g,"").replace(/background:/g,"fill:");sn(f).select("rect").attr("style",b.replace(/background:/g,"fill:"));const x=r.replace(/stroke:[^;]+;?/g,"").replace(/stroke-width:[^;]+;?/g,"").replace(/fill:[^;]+;?/g,"").replace(/color:/g,"fill:");sn(f).select("text").attr("style",x)}return f}},"createText");function GS(e,t,r){if(e&&e.length){const[n,a]=t,i=Math.PI/180*r,o=Math.cos(i),l=Math.sin(i);for(const u of e){const[d,h]=u;u[0]=(d-n)*o-(h-a)*l+n,u[1]=(d-n)*l+(h-a)*o+a}}}function Sxe(e,t){return e[0]===t[0]&&e[1]===t[1]}function Txe(e,t,r,n=1){const a=r,i=Math.max(t,.1),o=e[0]&&e[0][0]&&typeof e[0][0]=="number"?[e]:e,l=[0,0];if(a)for(const d of o)GS(d,l,a);const u=(function(d,h,g){const f=[];for(const w of d){const N=[...w];Sxe(N[0],N[N.length-1])||N.push([N[0][0],N[0][1]]),N.length>2&&f.push(N)}const b=[];h=Math.max(h,.1);const x=[];for(const w of f)for(let N=0;N<w.length-1;N++){const R=w[N],D=w[N+1];if(R[1]!==D[1]){const L=Math.min(R[1],D[1]);x.push({ymin:L,ymax:Math.max(R[1],D[1]),x:L===R[1]?R[0]:D[0],islope:(D[0]-R[0])/(D[1]-R[1])})}}if(x.sort(((w,N)=>w.ymin<N.ymin?-1:w.ymin>N.ymin?1:w.x<N.x?-1:w.x>N.x?1:w.ymax===N.ymax?0:(w.ymax-N.ymax)/Math.abs(w.ymax-N.ymax))),!x.length)return b;let E=[],v=x[0].ymin,T=0;for(;E.length||x.length;){if(x.length){let w=-1;for(let N=0;N<x.length&&!(x[N].ymin>v);N++)w=N;x.splice(0,w+1).forEach((N=>{E.push({s:v,edge:N})}))}if(E=E.filter((w=>!(w.edge.ymax<=v))),E.sort(((w,N)=>w.edge.x===N.edge.x?0:(w.edge.x-N.edge.x)/Math.abs(w.edge.x-N.edge.x))),(g!==1||T%h==0)&&E.length>1)for(let w=0;w<E.length;w+=2){const N=w+1;if(N>=E.length)break;const R=E[w].edge,D=E[N].edge;b.push([[Math.round(R.x),v],[Math.round(D.x),v]])}v+=g,E.forEach((w=>{w.edge.x=w.edge.x+g*w.edge.islope})),T++}return b})(o,i,n);if(a){for(const d of o)GS(d,l,-a);(function(d,h,g){const f=[];d.forEach((b=>f.push(...b))),GS(f,h,g)})(u,l,-a)}return u}function Ym(e,t){var r;const n=t.hachureAngle+90;let a=t.hachureGap;a<0&&(a=4*t.strokeWidth),a=Math.round(Math.max(a,.1));let i=1;return t.roughness>=1&&(((r=t.randomizer)===null||r===void 0?void 0:r.next())||Math.random())>.7&&(i=a),Txe(e,a,n,i||1)}class Zk{constructor(t){this.helper=t}fillPolygons(t,r){return this._fillPolygons(t,r)}_fillPolygons(t,r){const n=Ym(t,r);return{type:"fillSketch",ops:this.renderLines(n,r)}}renderLines(t,r){const n=[];for(const a of t)n.push(...this.helper.doubleLineOps(a[0][0],a[0][1],a[1][0],a[1][1],r));return n}}function px(e){const t=e[0],r=e[1];return Math.sqrt(Math.pow(t[0]-r[0],2)+Math.pow(t[1]-r[1],2))}let wxe=class extends Zk{fillPolygons(t,r){let n=r.hachureGap;n<0&&(n=4*r.strokeWidth),n=Math.max(n,.1);const a=Ym(t,Object.assign({},r,{hachureGap:n})),i=Math.PI/180*r.hachureAngle,o=[],l=.5*n*Math.cos(i),u=.5*n*Math.sin(i);for(const[d,h]of a)px([d,h])&&o.push([[d[0]-l,d[1]+u],[...h]],[[d[0]+l,d[1]-u],[...h]]);return{type:"fillSketch",ops:this.renderLines(o,r)}}},kxe=class extends Zk{fillPolygons(t,r){const n=this._fillPolygons(t,r),a=Object.assign({},r,{hachureAngle:r.hachureAngle+90}),i=this._fillPolygons(t,a);return n.ops=n.ops.concat(i.ops),n}};class Cxe{constructor(t){this.helper=t}fillPolygons(t,r){const n=Ym(t,r=Object.assign({},r,{hachureAngle:0}));return this.dotsOnLines(n,r)}dotsOnLines(t,r){const n=[];let a=r.hachureGap;a<0&&(a=4*r.strokeWidth),a=Math.max(a,.1);let i=r.fillWeight;i<0&&(i=r.strokeWidth/2);const o=a/4;for(const l of t){const u=px(l),d=u/a,h=Math.ceil(d)-1,g=u-h*a,f=(l[0][0]+l[1][0])/2-a/4,b=Math.min(l[0][1],l[1][1]);for(let x=0;x<h;x++){const E=b+g+x*a,v=f-o+2*Math.random()*o,T=E-o+2*Math.random()*o,w=this.helper.ellipse(v,T,i,i,r);n.push(...w.ops)}}return{type:"fillSketch",ops:n}}}let _xe=class{constructor(t){this.helper=t}fillPolygons(t,r){const n=Ym(t,r);return{type:"fillSketch",ops:this.dashedLine(n,r)}}dashedLine(t,r){const n=r.dashOffset<0?r.hachureGap<0?4*r.strokeWidth:r.hachureGap:r.dashOffset,a=r.dashGap<0?r.hachureGap<0?4*r.strokeWidth:r.hachureGap:r.dashGap,i=[];return t.forEach((o=>{const l=px(o),u=Math.floor(l/(n+a)),d=(l+a-u*(n+a))/2;let h=o[0],g=o[1];h[0]>g[0]&&(h=o[1],g=o[0]);const f=Math.atan((g[1]-h[1])/(g[0]-h[0]));for(let b=0;b<u;b++){const x=b*(n+a),E=x+n,v=[h[0]+x*Math.cos(f)+d*Math.cos(f),h[1]+x*Math.sin(f)+d*Math.sin(f)],T=[h[0]+E*Math.cos(f)+d*Math.cos(f),h[1]+E*Math.sin(f)+d*Math.sin(f)];i.push(...this.helper.doubleLineOps(v[0],v[1],T[0],T[1],r))}})),i}},Axe=class{constructor(t){this.helper=t}fillPolygons(t,r){const n=r.hachureGap<0?4*r.strokeWidth:r.hachureGap,a=r.zigzagOffset<0?n:r.zigzagOffset,i=Ym(t,r=Object.assign({},r,{hachureGap:n+a}));return{type:"fillSketch",ops:this.zigzagLines(i,a,r)}}zigzagLines(t,r,n){const a=[];return t.forEach((i=>{const o=px(i),l=Math.round(o/(2*r));let u=i[0],d=i[1];u[0]>d[0]&&(u=i[1],d=i[0]);const h=Math.atan((d[1]-u[1])/(d[0]-u[0]));for(let g=0;g<l;g++){const f=2*g*r,b=2*(g+1)*r,x=Math.sqrt(2*Math.pow(r,2)),E=[u[0]+f*Math.cos(h),u[1]+f*Math.sin(h)],v=[u[0]+b*Math.cos(h),u[1]+b*Math.sin(h)],T=[E[0]+x*Math.cos(h+Math.PI/4),E[1]+x*Math.sin(h+Math.PI/4)];a.push(...this.helper.doubleLineOps(E[0],E[1],T[0],T[1],n),...this.helper.doubleLineOps(T[0],T[1],v[0],v[1],n))}})),a}};const Ks={};let Nxe=class{constructor(t){this.seed=t}next(){return this.seed?(2**31-1&(this.seed=Math.imul(48271,this.seed)))/2**31:Math.random()}};const Ixe=0,qS=1,tP=2,j0={A:7,a:7,C:6,c:6,H:1,h:1,L:2,l:2,M:2,m:2,Q:4,q:4,S:4,s:4,T:2,t:2,V:1,v:1,Z:0,z:0};function WS(e,t){return e.type===t}function Jk(e){const t=[],r=(function(o){const l=new Array;for(;o!=="";)if(o.match(/^([ \t\r\n,]+)/))o=o.substr(RegExp.$1.length);else if(o.match(/^([aAcChHlLmMqQsStTvVzZ])/))l[l.length]={type:Ixe,text:RegExp.$1},o=o.substr(RegExp.$1.length);else{if(!o.match(/^(([-+]?[0-9]+(\.[0-9]*)?|[-+]?\.[0-9]+)([eE][-+]?[0-9]+)?)/))return[];l[l.length]={type:qS,text:`${parseFloat(RegExp.$1)}`},o=o.substr(RegExp.$1.length)}return l[l.length]={type:tP,text:""},l})(e);let n="BOD",a=0,i=r[a];for(;!WS(i,tP);){let o=0;const l=[];if(n==="BOD"){if(i.text!=="M"&&i.text!=="m")return Jk("M0,0"+e);a++,o=j0[i.text],n=i.text}else WS(i,qS)?o=j0[n]:(a++,o=j0[i.text],n=i.text);if(!(a+o<r.length))throw new Error("Path data ended short");for(let u=a;u<a+o;u++){const d=r[u];if(!WS(d,qS))throw new Error("Param not a number: "+n+","+d.text);l[l.length]=+d.text}if(typeof j0[n]!="number")throw new Error("Bad segment: "+n);{const u={key:n,data:l};t.push(u),a+=o,i=r[a],n==="M"&&(n="L"),n==="m"&&(n="l")}}return t}function x7(e){let t=0,r=0,n=0,a=0;const i=[];for(const{key:o,data:l}of e)switch(o){case"M":i.push({key:"M",data:[...l]}),[t,r]=l,[n,a]=l;break;case"m":t+=l[0],r+=l[1],i.push({key:"M",data:[t,r]}),n=t,a=r;break;case"L":i.push({key:"L",data:[...l]}),[t,r]=l;break;case"l":t+=l[0],r+=l[1],i.push({key:"L",data:[t,r]});break;case"C":i.push({key:"C",data:[...l]}),t=l[4],r=l[5];break;case"c":{const u=l.map(((d,h)=>h%2?d+r:d+t));i.push({key:"C",data:u}),t=u[4],r=u[5];break}case"Q":i.push({key:"Q",data:[...l]}),t=l[2],r=l[3];break;case"q":{const u=l.map(((d,h)=>h%2?d+r:d+t));i.push({key:"Q",data:u}),t=u[2],r=u[3];break}case"A":i.push({key:"A",data:[...l]}),t=l[5],r=l[6];break;case"a":t+=l[5],r+=l[6],i.push({key:"A",data:[l[0],l[1],l[2],l[3],l[4],t,r]});break;case"H":i.push({key:"H",data:[...l]}),t=l[0];break;case"h":t+=l[0],i.push({key:"H",data:[t]});break;case"V":i.push({key:"V",data:[...l]}),r=l[0];break;case"v":r+=l[0],i.push({key:"V",data:[r]});break;case"S":i.push({key:"S",data:[...l]}),t=l[2],r=l[3];break;case"s":{const u=l.map(((d,h)=>h%2?d+r:d+t));i.push({key:"S",data:u}),t=u[2],r=u[3];break}case"T":i.push({key:"T",data:[...l]}),t=l[0],r=l[1];break;case"t":t+=l[0],r+=l[1],i.push({key:"T",data:[t,r]});break;case"Z":case"z":i.push({key:"Z",data:[]}),t=n,r=a}return i}function E7(e){const t=[];let r="",n=0,a=0,i=0,o=0,l=0,u=0;for(const{key:d,data:h}of e){switch(d){case"M":t.push({key:"M",data:[...h]}),[n,a]=h,[i,o]=h;break;case"C":t.push({key:"C",data:[...h]}),n=h[4],a=h[5],l=h[2],u=h[3];break;case"L":t.push({key:"L",data:[...h]}),[n,a]=h;break;case"H":n=h[0],t.push({key:"L",data:[n,a]});break;case"V":a=h[0],t.push({key:"L",data:[n,a]});break;case"S":{let g=0,f=0;r==="C"||r==="S"?(g=n+(n-l),f=a+(a-u)):(g=n,f=a),t.push({key:"C",data:[g,f,...h]}),l=h[0],u=h[1],n=h[2],a=h[3];break}case"T":{const[g,f]=h;let b=0,x=0;r==="Q"||r==="T"?(b=n+(n-l),x=a+(a-u)):(b=n,x=a);const E=n+2*(b-n)/3,v=a+2*(x-a)/3,T=g+2*(b-g)/3,w=f+2*(x-f)/3;t.push({key:"C",data:[E,v,T,w,g,f]}),l=b,u=x,n=g,a=f;break}case"Q":{const[g,f,b,x]=h,E=n+2*(g-n)/3,v=a+2*(f-a)/3,T=b+2*(g-b)/3,w=x+2*(f-x)/3;t.push({key:"C",data:[E,v,T,w,b,x]}),l=g,u=f,n=b,a=x;break}case"A":{const g=Math.abs(h[0]),f=Math.abs(h[1]),b=h[2],x=h[3],E=h[4],v=h[5],T=h[6];g===0||f===0?(t.push({key:"C",data:[n,a,v,T,v,T]}),n=v,a=T):(n!==v||a!==T)&&(v7(n,a,v,T,g,f,b,x,E).forEach((function(w){t.push({key:"C",data:w})})),n=v,a=T);break}case"Z":t.push({key:"Z",data:[]}),n=i,a=o}r=d}return t}function ng(e,t,r){return[e*Math.cos(r)-t*Math.sin(r),e*Math.sin(r)+t*Math.cos(r)]}function v7(e,t,r,n,a,i,o,l,u,d){const h=(g=o,Math.PI*g/180);var g;let f=[],b=0,x=0,E=0,v=0;if(d)[b,x,E,v]=d;else{[e,t]=ng(e,t,-h),[r,n]=ng(r,n,-h);const Q=(e-r)/2,O=(t-n)/2;let H=Q*Q/(a*a)+O*O/(i*i);H>1&&(H=Math.sqrt(H),a*=H,i*=H);const $=a*a,Y=i*i,V=$*Y-$*O*O-Y*Q*Q,ne=$*O*O+Y*Q*Q,P=(l===u?-1:1)*Math.sqrt(Math.abs(V/ne));E=P*a*O/i+(e+r)/2,v=P*-i*Q/a+(t+n)/2,b=Math.asin(parseFloat(((t-v)/i).toFixed(9))),x=Math.asin(parseFloat(((n-v)/i).toFixed(9))),e<E&&(b=Math.PI-b),r<E&&(x=Math.PI-x),b<0&&(b=2*Math.PI+b),x<0&&(x=2*Math.PI+x),u&&b>x&&(b-=2*Math.PI),!u&&x>b&&(x-=2*Math.PI)}let T=x-b;if(Math.abs(T)>120*Math.PI/180){const Q=x,O=r,H=n;x=u&&x>b?b+120*Math.PI/180*1:b+120*Math.PI/180*-1,f=v7(r=E+a*Math.cos(x),n=v+i*Math.sin(x),O,H,a,i,o,0,u,[x,Q,E,v])}T=x-b;const w=Math.cos(b),N=Math.sin(b),R=Math.cos(x),D=Math.sin(x),L=Math.tan(T/4),j=4/3*a*L,B=4/3*i*L,q=[e,t],z=[e+j*N,t-B*w],K=[r+j*D,n-B*R],X=[r,n];if(z[0]=2*q[0]-z[0],z[1]=2*q[1]-z[1],d)return[z,K,X].concat(f);{f=[z,K,X].concat(f);const Q=[];for(let O=0;O<f.length;O+=3){const H=ng(f[O][0],f[O][1],h),$=ng(f[O+1][0],f[O+1][1],h),Y=ng(f[O+2][0],f[O+2][1],h);Q.push([H[0],H[1],$[0],$[1],Y[0],Y[1]])}return Q}}const Rxe={randOffset:function(e,t){return xr(e,t)},randOffsetWithRange:function(e,t,r){return gy(e,t,r)},ellipse:function(e,t,r,n,a){const i=T7(r,n,a);return qT(e,t,a,i).opset},doubleLineOps:function(e,t,r,n,a){return bc(e,t,r,n,a,!0)}};function S7(e,t,r,n,a){return{type:"path",ops:bc(e,t,r,n,a)}}function hb(e,t,r){const n=(e||[]).length;if(n>2){const a=[];for(let i=0;i<n-1;i++)a.push(...bc(e[i][0],e[i][1],e[i+1][0],e[i+1][1],r));return t&&a.push(...bc(e[n-1][0],e[n-1][1],e[0][0],e[0][1],r)),{type:"path",ops:a}}return n===2?S7(e[0][0],e[0][1],e[1][0],e[1][1],r):{type:"path",ops:[]}}function Dxe(e,t,r,n,a){return(function(i,o){return hb(i,!0,o)})([[e,t],[e+r,t],[e+r,t+n],[e,t+n]],a)}function rP(e,t){if(e.length){const r=typeof e[0][0]=="number"?[e]:e,n=F0(r[0],1*(1+.2*t.roughness),t),a=t.disableMultiStroke?[]:F0(r[0],1.5*(1+.22*t.roughness),sP(t));for(let i=1;i<r.length;i++){const o=r[i];if(o.length){const l=F0(o,1*(1+.2*t.roughness),t),u=t.disableMultiStroke?[]:F0(o,1.5*(1+.22*t.roughness),sP(t));for(const d of l)d.op!=="move"&&n.push(d);for(const d of u)d.op!=="move"&&a.push(d)}}return{type:"path",ops:n.concat(a)}}return{type:"path",ops:[]}}function T7(e,t,r){const n=Math.sqrt(2*Math.PI*Math.sqrt((Math.pow(e/2,2)+Math.pow(t/2,2))/2)),a=Math.ceil(Math.max(r.curveStepCount,r.curveStepCount/Math.sqrt(200)*n)),i=2*Math.PI/a;let o=Math.abs(e/2),l=Math.abs(t/2);const u=1-r.curveFitting;return o+=xr(o*u,r),l+=xr(l*u,r),{increment:i,rx:o,ry:l}}function qT(e,t,r,n){const[a,i]=iP(n.increment,e,t,n.rx,n.ry,1,n.increment*gy(.1,gy(.4,1,r),r),r);let o=my(a,null,r);if(!r.disableMultiStroke&&r.roughness!==0){const[l]=iP(n.increment,e,t,n.rx,n.ry,1.5,0,r),u=my(l,null,r);o=o.concat(u)}return{estimatedPoints:i,opset:{type:"path",ops:o}}}function nP(e,t,r,n,a,i,o,l,u){const d=e,h=t;let g=Math.abs(r/2),f=Math.abs(n/2);g+=xr(.01*g,u),f+=xr(.01*f,u);let b=a,x=i;for(;b<0;)b+=2*Math.PI,x+=2*Math.PI;x-b>2*Math.PI&&(b=0,x=2*Math.PI);const E=2*Math.PI/u.curveStepCount,v=Math.min(E/2,(x-b)/2),T=oP(v,d,h,g,f,b,x,1,u);if(!u.disableMultiStroke){const w=oP(v,d,h,g,f,b,x,1.5,u);T.push(...w)}return o&&(l?T.push(...bc(d,h,d+g*Math.cos(b),h+f*Math.sin(b),u),...bc(d,h,d+g*Math.cos(x),h+f*Math.sin(x),u)):T.push({op:"lineTo",data:[d,h]},{op:"lineTo",data:[d+g*Math.cos(b),h+f*Math.sin(b)]})),{type:"path",ops:T}}function aP(e,t){const r=E7(x7(Jk(e))),n=[];let a=[0,0],i=[0,0];for(const{key:o,data:l}of r)switch(o){case"M":i=[l[0],l[1]],a=[l[0],l[1]];break;case"L":n.push(...bc(i[0],i[1],l[0],l[1],t)),i=[l[0],l[1]];break;case"C":{const[u,d,h,g,f,b]=l;n.push(...Lxe(u,d,h,g,f,b,i,t)),i=[f,b];break}case"Z":n.push(...bc(i[0],i[1],a[0],a[1],t)),i=[a[0],a[1]]}return{type:"path",ops:n}}function YS(e,t){const r=[];for(const n of e)if(n.length){const a=t.maxRandomnessOffset||0,i=n.length;if(i>2){r.push({op:"move",data:[n[0][0]+xr(a,t),n[0][1]+xr(a,t)]});for(let o=1;o<i;o++)r.push({op:"lineTo",data:[n[o][0]+xr(a,t),n[o][1]+xr(a,t)]})}}return{type:"fillPath",ops:r}}function Dd(e,t){return(function(r,n){let a=r.fillStyle||"hachure";if(!Ks[a])switch(a){case"zigzag":Ks[a]||(Ks[a]=new wxe(n));break;case"cross-hatch":Ks[a]||(Ks[a]=new kxe(n));break;case"dots":Ks[a]||(Ks[a]=new Cxe(n));break;case"dashed":Ks[a]||(Ks[a]=new _xe(n));break;case"zigzag-line":Ks[a]||(Ks[a]=new Axe(n));break;default:a="hachure",Ks[a]||(Ks[a]=new Zk(n))}return Ks[a]})(t,Rxe).fillPolygons(e,t)}function sP(e){const t=Object.assign({},e);return t.randomizer=void 0,e.seed&&(t.seed=e.seed+1),t}function w7(e){return e.randomizer||(e.randomizer=new Nxe(e.seed||0)),e.randomizer.next()}function gy(e,t,r,n=1){return r.roughness*n*(w7(r)*(t-e)+e)}function xr(e,t,r=1){return gy(-e,e,t,r)}function bc(e,t,r,n,a,i=!1){const o=i?a.disableMultiStrokeFill:a.disableMultiStroke,l=WT(e,t,r,n,a,!0,!1);if(o)return l;const u=WT(e,t,r,n,a,!0,!0);return l.concat(u)}function WT(e,t,r,n,a,i,o){const l=Math.pow(e-r,2)+Math.pow(t-n,2),u=Math.sqrt(l);let d=1;d=u<200?1:u>500?.4:-.0016668*u+1.233334;let h=a.maxRandomnessOffset||0;h*h*100>l&&(h=u/10);const g=h/2,f=.2+.2*w7(a);let b=a.bowing*a.maxRandomnessOffset*(n-t)/200,x=a.bowing*a.maxRandomnessOffset*(e-r)/200;b=xr(b,a,d),x=xr(x,a,d);const E=[],v=()=>xr(g,a,d),T=()=>xr(h,a,d),w=a.preserveVertices;return o?E.push({op:"move",data:[e+(w?0:v()),t+(w?0:v())]}):E.push({op:"move",data:[e+(w?0:xr(h,a,d)),t+(w?0:xr(h,a,d))]}),o?E.push({op:"bcurveTo",data:[b+e+(r-e)*f+v(),x+t+(n-t)*f+v(),b+e+2*(r-e)*f+v(),x+t+2*(n-t)*f+v(),r+(w?0:v()),n+(w?0:v())]}):E.push({op:"bcurveTo",data:[b+e+(r-e)*f+T(),x+t+(n-t)*f+T(),b+e+2*(r-e)*f+T(),x+t+2*(n-t)*f+T(),r+(w?0:T()),n+(w?0:T())]}),E}function F0(e,t,r){if(!e.length)return[];const n=[];n.push([e[0][0]+xr(t,r),e[0][1]+xr(t,r)]),n.push([e[0][0]+xr(t,r),e[0][1]+xr(t,r)]);for(let a=1;a<e.length;a++)n.push([e[a][0]+xr(t,r),e[a][1]+xr(t,r)]),a===e.length-1&&n.push([e[a][0]+xr(t,r),e[a][1]+xr(t,r)]);return my(n,null,r)}function my(e,t,r){const n=e.length,a=[];if(n>3){const i=[],o=1-r.curveTightness;a.push({op:"move",data:[e[1][0],e[1][1]]});for(let l=1;l+2<n;l++){const u=e[l];i[0]=[u[0],u[1]],i[1]=[u[0]+(o*e[l+1][0]-o*e[l-1][0])/6,u[1]+(o*e[l+1][1]-o*e[l-1][1])/6],i[2]=[e[l+1][0]+(o*e[l][0]-o*e[l+2][0])/6,e[l+1][1]+(o*e[l][1]-o*e[l+2][1])/6],i[3]=[e[l+1][0],e[l+1][1]],a.push({op:"bcurveTo",data:[i[1][0],i[1][1],i[2][0],i[2][1],i[3][0],i[3][1]]})}}else n===3?(a.push({op:"move",data:[e[1][0],e[1][1]]}),a.push({op:"bcurveTo",data:[e[1][0],e[1][1],e[2][0],e[2][1],e[2][0],e[2][1]]})):n===2&&a.push(...WT(e[0][0],e[0][1],e[1][0],e[1][1],r,!0,!0));return a}function iP(e,t,r,n,a,i,o,l){const u=[],d=[];if(l.roughness===0){e/=4,d.push([t+n*Math.cos(-e),r+a*Math.sin(-e)]);for(let h=0;h<=2*Math.PI;h+=e){const g=[t+n*Math.cos(h),r+a*Math.sin(h)];u.push(g),d.push(g)}d.push([t+n*Math.cos(0),r+a*Math.sin(0)]),d.push([t+n*Math.cos(e),r+a*Math.sin(e)])}else{const h=xr(.5,l)-Math.PI/2;d.push([xr(i,l)+t+.9*n*Math.cos(h-e),xr(i,l)+r+.9*a*Math.sin(h-e)]);const g=2*Math.PI+h-.01;for(let f=h;f<g;f+=e){const b=[xr(i,l)+t+n*Math.cos(f),xr(i,l)+r+a*Math.sin(f)];u.push(b),d.push(b)}d.push([xr(i,l)+t+n*Math.cos(h+2*Math.PI+.5*o),xr(i,l)+r+a*Math.sin(h+2*Math.PI+.5*o)]),d.push([xr(i,l)+t+.98*n*Math.cos(h+o),xr(i,l)+r+.98*a*Math.sin(h+o)]),d.push([xr(i,l)+t+.9*n*Math.cos(h+.5*o),xr(i,l)+r+.9*a*Math.sin(h+.5*o)])}return[d,u]}function oP(e,t,r,n,a,i,o,l,u){const d=i+xr(.1,u),h=[];h.push([xr(l,u)+t+.9*n*Math.cos(d-e),xr(l,u)+r+.9*a*Math.sin(d-e)]);for(let g=d;g<=o;g+=e)h.push([xr(l,u)+t+n*Math.cos(g),xr(l,u)+r+a*Math.sin(g)]);return h.push([t+n*Math.cos(o),r+a*Math.sin(o)]),h.push([t+n*Math.cos(o),r+a*Math.sin(o)]),my(h,null,u)}function Lxe(e,t,r,n,a,i,o,l){const u=[],d=[l.maxRandomnessOffset||1,(l.maxRandomnessOffset||1)+.3];let h=[0,0];const g=l.disableMultiStroke?1:2,f=l.preserveVertices;for(let b=0;b<g;b++)b===0?u.push({op:"move",data:[o[0],o[1]]}):u.push({op:"move",data:[o[0]+(f?0:xr(d[0],l)),o[1]+(f?0:xr(d[0],l))]}),h=f?[a,i]:[a+xr(d[b],l),i+xr(d[b],l)],u.push({op:"bcurveTo",data:[e+xr(d[b],l),t+xr(d[b],l),r+xr(d[b],l),n+xr(d[b],l),h[0],h[1]]});return u}function ag(e){return[...e]}function lP(e,t=0){const r=e.length;if(r<3)throw new Error("A curve must have at least three points.");const n=[];if(r===3)n.push(ag(e[0]),ag(e[1]),ag(e[2]),ag(e[2]));else{const a=[];a.push(e[0],e[0]);for(let l=1;l<e.length;l++)a.push(e[l]),l===e.length-1&&a.push(e[l]);const i=[],o=1-t;n.push(ag(a[0]));for(let l=1;l+2<a.length;l++){const u=a[l];i[0]=[u[0],u[1]],i[1]=[u[0]+(o*a[l+1][0]-o*a[l-1][0])/6,u[1]+(o*a[l+1][1]-o*a[l-1][1])/6],i[2]=[a[l+1][0]+(o*a[l][0]-o*a[l+2][0])/6,a[l+1][1]+(o*a[l][1]-o*a[l+2][1])/6],i[3]=[a[l+1][0],a[l+1][1]],n.push(i[1],i[2],i[3])}}return n}function gb(e,t){return Math.pow(e[0]-t[0],2)+Math.pow(e[1]-t[1],2)}function Oxe(e,t,r){const n=gb(t,r);if(n===0)return gb(e,t);let a=((e[0]-t[0])*(r[0]-t[0])+(e[1]-t[1])*(r[1]-t[1]))/n;return a=Math.max(0,Math.min(1,a)),gb(e,Zc(t,r,a))}function Zc(e,t,r){return[e[0]+(t[0]-e[0])*r,e[1]+(t[1]-e[1])*r]}function YT(e,t,r,n){const a=n||[];if((function(l,u){const d=l[u+0],h=l[u+1],g=l[u+2],f=l[u+3];let b=3*h[0]-2*d[0]-f[0];b*=b;let x=3*h[1]-2*d[1]-f[1];x*=x;let E=3*g[0]-2*f[0]-d[0];E*=E;let v=3*g[1]-2*f[1]-d[1];return v*=v,b<E&&(b=E),x<v&&(x=v),b+x})(e,t)<r){const l=e[t+0];a.length?(i=a[a.length-1],o=l,Math.sqrt(gb(i,o))>1&&a.push(l)):a.push(l),a.push(e[t+3])}else{const u=e[t+0],d=e[t+1],h=e[t+2],g=e[t+3],f=Zc(u,d,.5),b=Zc(d,h,.5),x=Zc(h,g,.5),E=Zc(f,b,.5),v=Zc(b,x,.5),T=Zc(E,v,.5);YT([u,f,E,T],0,r,a),YT([T,v,x,g],0,r,a)}var i,o;return a}function Mxe(e,t){return fy(e,0,e.length,t)}function fy(e,t,r,n,a){const i=a||[],o=e[t],l=e[r-1];let u=0,d=1;for(let h=t+1;h<r-1;++h){const g=Oxe(e[h],o,l);g>u&&(u=g,d=h)}return Math.sqrt(u)>n?(fy(e,t,d+1,n,i),fy(e,d,r,n,i)):(i.length||i.push(o),i.push(l)),i}function VS(e,t=.15,r){const n=[],a=(e.length-1)/3;for(let i=0;i<a;i++)YT(e,3*i,t,n);return r&&r>0?fy(n,0,n.length,r):n}const gi="none";class by{constructor(t){this.defaultOptions={maxRandomnessOffset:2,roughness:1,bowing:1,stroke:"#000",strokeWidth:1,curveTightness:0,curveFitting:.95,curveStepCount:9,fillStyle:"hachure",fillWeight:-1,hachureAngle:-41,hachureGap:-1,dashOffset:-1,dashGap:-1,zigzagOffset:-1,seed:0,disableMultiStroke:!1,disableMultiStrokeFill:!1,preserveVertices:!1,fillShapeRoughnessGain:.8},this.config=t||{},this.config.options&&(this.defaultOptions=this._o(this.config.options))}static newSeed(){return Math.floor(Math.random()*2**31)}_o(t){return t?Object.assign({},this.defaultOptions,t):this.defaultOptions}_d(t,r,n){return{shape:t,sets:r||[],options:n||this.defaultOptions}}line(t,r,n,a,i){const o=this._o(i);return this._d("line",[S7(t,r,n,a,o)],o)}rectangle(t,r,n,a,i){const o=this._o(i),l=[],u=Dxe(t,r,n,a,o);if(o.fill){const d=[[t,r],[t+n,r],[t+n,r+a],[t,r+a]];o.fillStyle==="solid"?l.push(YS([d],o)):l.push(Dd([d],o))}return o.stroke!==gi&&l.push(u),this._d("rectangle",l,o)}ellipse(t,r,n,a,i){const o=this._o(i),l=[],u=T7(n,a,o),d=qT(t,r,o,u);if(o.fill)if(o.fillStyle==="solid"){const h=qT(t,r,o,u).opset;h.type="fillPath",l.push(h)}else l.push(Dd([d.estimatedPoints],o));return o.stroke!==gi&&l.push(d.opset),this._d("ellipse",l,o)}circle(t,r,n,a){const i=this.ellipse(t,r,n,n,a);return i.shape="circle",i}linearPath(t,r){const n=this._o(r);return this._d("linearPath",[hb(t,!1,n)],n)}arc(t,r,n,a,i,o,l=!1,u){const d=this._o(u),h=[],g=nP(t,r,n,a,i,o,l,!0,d);if(l&&d.fill)if(d.fillStyle==="solid"){const f=Object.assign({},d);f.disableMultiStroke=!0;const b=nP(t,r,n,a,i,o,!0,!1,f);b.type="fillPath",h.push(b)}else h.push((function(f,b,x,E,v,T,w){const N=f,R=b;let D=Math.abs(x/2),L=Math.abs(E/2);D+=xr(.01*D,w),L+=xr(.01*L,w);let j=v,B=T;for(;j<0;)j+=2*Math.PI,B+=2*Math.PI;B-j>2*Math.PI&&(j=0,B=2*Math.PI);const q=(B-j)/w.curveStepCount,z=[];for(let K=j;K<=B;K+=q)z.push([N+D*Math.cos(K),R+L*Math.sin(K)]);return z.push([N+D*Math.cos(B),R+L*Math.sin(B)]),z.push([N,R]),Dd([z],w)})(t,r,n,a,i,o,d));return d.stroke!==gi&&h.push(g),this._d("arc",h,d)}curve(t,r){const n=this._o(r),a=[],i=rP(t,n);if(n.fill&&n.fill!==gi)if(n.fillStyle==="solid"){const o=rP(t,Object.assign(Object.assign({},n),{disableMultiStroke:!0,roughness:n.roughness?n.roughness+n.fillShapeRoughnessGain:0}));a.push({type:"fillPath",ops:this._mergedShape(o.ops)})}else{const o=[],l=t;if(l.length){const u=typeof l[0][0]=="number"?[l]:l;for(const d of u)d.length<3?o.push(...d):d.length===3?o.push(...VS(lP([d[0],d[0],d[1],d[2]]),10,(1+n.roughness)/2)):o.push(...VS(lP(d),10,(1+n.roughness)/2))}o.length&&a.push(Dd([o],n))}return n.stroke!==gi&&a.push(i),this._d("curve",a,n)}polygon(t,r){const n=this._o(r),a=[],i=hb(t,!0,n);return n.fill&&(n.fillStyle==="solid"?a.push(YS([t],n)):a.push(Dd([t],n))),n.stroke!==gi&&a.push(i),this._d("polygon",a,n)}path(t,r){const n=this._o(r),a=[];if(!t)return this._d("path",a,n);t=(t||"").replace(/\n/g," ").replace(/(-\s)/g,"-").replace("/(ss)/g"," ");const i=n.fill&&n.fill!=="transparent"&&n.fill!==gi,o=n.stroke!==gi,l=!!(n.simplification&&n.simplification<1),u=(function(h,g,f){const b=E7(x7(Jk(h))),x=[];let E=[],v=[0,0],T=[];const w=()=>{T.length>=4&&E.push(...VS(T,g)),T=[]},N=()=>{w(),E.length&&(x.push(E),E=[])};for(const{key:D,data:L}of b)switch(D){case"M":N(),v=[L[0],L[1]],E.push(v);break;case"L":w(),E.push([L[0],L[1]]);break;case"C":if(!T.length){const j=E.length?E[E.length-1]:v;T.push([j[0],j[1]])}T.push([L[0],L[1]]),T.push([L[2],L[3]]),T.push([L[4],L[5]]);break;case"Z":w(),E.push([v[0],v[1]])}if(N(),!f)return x;const R=[];for(const D of x){const L=Mxe(D,f);L.length&&R.push(L)}return R})(t,1,l?4-4*(n.simplification||1):(1+n.roughness)/2),d=aP(t,n);if(i)if(n.fillStyle==="solid")if(u.length===1){const h=aP(t,Object.assign(Object.assign({},n),{disableMultiStroke:!0,roughness:n.roughness?n.roughness+n.fillShapeRoughnessGain:0}));a.push({type:"fillPath",ops:this._mergedShape(h.ops)})}else a.push(YS(u,n));else a.push(Dd(u,n));return o&&(l?u.forEach((h=>{a.push(hb(h,!1,n))})):a.push(d)),this._d("path",a,n)}opsToPath(t,r){let n="";for(const a of t.ops){const i=typeof r=="number"&&r>=0?a.data.map((o=>+o.toFixed(r))):a.data;switch(a.op){case"move":n+=`M${i[0]} ${i[1]} `;break;case"bcurveTo":n+=`C${i[0]} ${i[1]}, ${i[2]} ${i[3]}, ${i[4]} ${i[5]} `;break;case"lineTo":n+=`L${i[0]} ${i[1]} `}}return n.trim()}toPaths(t){const r=t.sets||[],n=t.options||this.defaultOptions,a=[];for(const i of r){let o=null;switch(i.type){case"path":o={d:this.opsToPath(i),stroke:n.stroke,strokeWidth:n.strokeWidth,fill:gi};break;case"fillPath":o={d:this.opsToPath(i),stroke:gi,strokeWidth:0,fill:n.fill||gi};break;case"fillSketch":o=this.fillSketch(i,n)}o&&a.push(o)}return a}fillSketch(t,r){let n=r.fillWeight;return n<0&&(n=r.strokeWidth/2),{d:this.opsToPath(t),stroke:r.fill||gi,strokeWidth:n,fill:gi}}_mergedShape(t){return t.filter(((r,n)=>n===0||r.op!=="move"))}}class Pxe{constructor(t,r){this.canvas=t,this.ctx=this.canvas.getContext("2d"),this.gen=new by(r)}draw(t){const r=t.sets||[],n=t.options||this.getDefaultOptions(),a=this.ctx,i=t.options.fixedDecimalPlaceDigits;for(const o of r)switch(o.type){case"path":a.save(),a.strokeStyle=n.stroke==="none"?"transparent":n.stroke,a.lineWidth=n.strokeWidth,n.strokeLineDash&&a.setLineDash(n.strokeLineDash),n.strokeLineDashOffset&&(a.lineDashOffset=n.strokeLineDashOffset),this._drawToContext(a,o,i),a.restore();break;case"fillPath":{a.save(),a.fillStyle=n.fill||"";const l=t.shape==="curve"||t.shape==="polygon"||t.shape==="path"?"evenodd":"nonzero";this._drawToContext(a,o,i,l),a.restore();break}case"fillSketch":this.fillSketch(a,o,n)}}fillSketch(t,r,n){let a=n.fillWeight;a<0&&(a=n.strokeWidth/2),t.save(),n.fillLineDash&&t.setLineDash(n.fillLineDash),n.fillLineDashOffset&&(t.lineDashOffset=n.fillLineDashOffset),t.strokeStyle=n.fill||"",t.lineWidth=a,this._drawToContext(t,r,n.fixedDecimalPlaceDigits),t.restore()}_drawToContext(t,r,n,a="nonzero"){t.beginPath();for(const i of r.ops){const o=typeof n=="number"&&n>=0?i.data.map((l=>+l.toFixed(n))):i.data;switch(i.op){case"move":t.moveTo(o[0],o[1]);break;case"bcurveTo":t.bezierCurveTo(o[0],o[1],o[2],o[3],o[4],o[5]);break;case"lineTo":t.lineTo(o[0],o[1])}}r.type==="fillPath"?t.fill(a):t.stroke()}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}line(t,r,n,a,i){const o=this.gen.line(t,r,n,a,i);return this.draw(o),o}rectangle(t,r,n,a,i){const o=this.gen.rectangle(t,r,n,a,i);return this.draw(o),o}ellipse(t,r,n,a,i){const o=this.gen.ellipse(t,r,n,a,i);return this.draw(o),o}circle(t,r,n,a){const i=this.gen.circle(t,r,n,a);return this.draw(i),i}linearPath(t,r){const n=this.gen.linearPath(t,r);return this.draw(n),n}polygon(t,r){const n=this.gen.polygon(t,r);return this.draw(n),n}arc(t,r,n,a,i,o,l=!1,u){const d=this.gen.arc(t,r,n,a,i,o,l,u);return this.draw(d),d}curve(t,r){const n=this.gen.curve(t,r);return this.draw(n),n}path(t,r){const n=this.gen.path(t,r);return this.draw(n),n}}const B0="http://www.w3.org/2000/svg";class jxe{constructor(t,r){this.svg=t,this.gen=new by(r)}draw(t){const r=t.sets||[],n=t.options||this.getDefaultOptions(),a=this.svg.ownerDocument||window.document,i=a.createElementNS(B0,"g"),o=t.options.fixedDecimalPlaceDigits;for(const l of r){let u=null;switch(l.type){case"path":u=a.createElementNS(B0,"path"),u.setAttribute("d",this.opsToPath(l,o)),u.setAttribute("stroke",n.stroke),u.setAttribute("stroke-width",n.strokeWidth+""),u.setAttribute("fill","none"),n.strokeLineDash&&u.setAttribute("stroke-dasharray",n.strokeLineDash.join(" ").trim()),n.strokeLineDashOffset&&u.setAttribute("stroke-dashoffset",`${n.strokeLineDashOffset}`);break;case"fillPath":u=a.createElementNS(B0,"path"),u.setAttribute("d",this.opsToPath(l,o)),u.setAttribute("stroke","none"),u.setAttribute("stroke-width","0"),u.setAttribute("fill",n.fill||""),t.shape!=="curve"&&t.shape!=="polygon"||u.setAttribute("fill-rule","evenodd");break;case"fillSketch":u=this.fillSketch(a,l,n)}u&&i.appendChild(u)}return i}fillSketch(t,r,n){let a=n.fillWeight;a<0&&(a=n.strokeWidth/2);const i=t.createElementNS(B0,"path");return i.setAttribute("d",this.opsToPath(r,n.fixedDecimalPlaceDigits)),i.setAttribute("stroke",n.fill||""),i.setAttribute("stroke-width",a+""),i.setAttribute("fill","none"),n.fillLineDash&&i.setAttribute("stroke-dasharray",n.fillLineDash.join(" ").trim()),n.fillLineDashOffset&&i.setAttribute("stroke-dashoffset",`${n.fillLineDashOffset}`),i}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}opsToPath(t,r){return this.gen.opsToPath(t,r)}line(t,r,n,a,i){const o=this.gen.line(t,r,n,a,i);return this.draw(o)}rectangle(t,r,n,a,i){const o=this.gen.rectangle(t,r,n,a,i);return this.draw(o)}ellipse(t,r,n,a,i){const o=this.gen.ellipse(t,r,n,a,i);return this.draw(o)}circle(t,r,n,a){const i=this.gen.circle(t,r,n,a);return this.draw(i)}linearPath(t,r){const n=this.gen.linearPath(t,r);return this.draw(n)}polygon(t,r){const n=this.gen.polygon(t,r);return this.draw(n)}arc(t,r,n,a,i,o,l=!1,u){const d=this.gen.arc(t,r,n,a,i,o,l,u);return this.draw(d)}curve(t,r){const n=this.gen.curve(t,r);return this.draw(n)}path(t,r){const n=this.gen.path(t,r);return this.draw(n)}}var Yt={canvas:(e,t)=>new Pxe(e,t),svg:(e,t)=>new jxe(e,t),generator:e=>new by(e),newSeed:()=>by.newSeed()},yr=M(async(e,t,r)=>{let n;const a=t.useHtmlLabels||ja(Sn()?.htmlLabels);r?n=r:n="node default";const i=e.insert("g").attr("class",n).attr("id",t.domId||t.id),o=i.insert("g").attr("class","label").attr("style",gs(t.labelStyle));let l;t.label===void 0?l="":l=typeof t.label=="string"?t.label:t.label[0];const u=await Tc(o,Hi(Mu(l),Sn()),{useHtmlLabels:a,width:t.width||Sn().flowchart?.wrappingWidth,cssClasses:"markdown-node-label",style:t.labelStyle,addSvgBackground:!!t.icon||!!t.img});let d=u.getBBox();const h=(t?.padding??0)/2;if(a){const g=u.children[0],f=sn(u),b=g.getElementsByTagName("img");if(b){const x=l.replace(/<img[^>]*>/g,"").trim()==="";await Promise.all([...b].map(E=>new Promise(v=>{function T(){if(E.style.display="flex",E.style.flexDirection="column",x){const w=Sn().fontSize?Sn().fontSize:window.getComputedStyle(document.body).fontSize,N=5,[R=FF.fontSize]=ox(w),D=R*N+"px";E.style.minWidth=D,E.style.maxWidth=D}else E.style.width="100%";v(E)}M(T,"setupImage"),setTimeout(()=>{E.complete&&T()}),E.addEventListener("error",T),E.addEventListener("load",T)})))}d=g.getBoundingClientRect(),f.attr("width",d.width),f.attr("height",d.height)}return a?o.attr("transform","translate("+-d.width/2+", "+-d.height/2+")"):o.attr("transform","translate(0, "+-d.height/2+")"),t.centerLabel&&o.attr("transform","translate("+-d.width/2+", "+-d.height/2+")"),o.insert("rect",":first-child"),{shapeSvg:i,bbox:d,halfPadding:h,label:o}},"labelHelper"),KS=M(async(e,t,r)=>{const n=r.useHtmlLabels||ja(Sn()?.flowchart?.htmlLabels),a=e.insert("g").attr("class","label").attr("style",r.labelStyle||""),i=await Tc(a,Hi(Mu(t),Sn()),{useHtmlLabels:n,width:r.width||Sn()?.flowchart?.wrappingWidth,style:r.labelStyle,addSvgBackground:!!r.icon||!!r.img});let o=i.getBBox();const l=r.padding/2;if(ja(Sn()?.flowchart?.htmlLabels)){const u=i.children[0],d=sn(i);o=u.getBoundingClientRect(),d.attr("width",o.width),d.attr("height",o.height)}return n?a.attr("transform","translate("+-o.width/2+", "+-o.height/2+")"):a.attr("transform","translate(0, "+-o.height/2+")"),r.centerLabel&&a.attr("transform","translate("+-o.width/2+", "+-o.height/2+")"),a.insert("rect",":first-child"),{shapeSvg:e,bbox:o,halfPadding:l,label:a}},"insertLabel"),Zt=M((e,t)=>{const r=t.node().getBBox();e.width=r.width,e.height=r.height},"updateNodeBounds"),hr=M((e,t)=>(e.look==="handDrawn"?"rough-node":"node")+" "+e.cssClasses+" "+(t||""),"getNodeClasses");function Vr(e){const t=e.map((r,n)=>`${n===0?"M":"L"}${r.x},${r.y}`);return t.push("Z"),t.join(" ")}M(Vr,"createPathFromPoints");function yc(e,t,r,n,a,i){const o=[],u=r-e,d=n-t,h=u/i,g=2*Math.PI/h,f=t+d/2;for(let b=0;b<=50;b++){const x=b/50,E=e+x*u,v=f+a*Math.sin(g*(E-e));o.push({x:E,y:v})}return o}M(yc,"generateFullSineWavePoints");function bm(e,t,r,n,a,i){const o=[],l=a*Math.PI/180,h=(i*Math.PI/180-l)/(n-1);for(let g=0;g<n;g++){const f=l+g*h,b=e+r*Math.cos(f),x=t+r*Math.sin(f);o.push({x:-b,y:-x})}return o}M(bm,"generateCirclePoints");var Fxe=M((e,t)=>{var r=e.x,n=e.y,a=t.x-r,i=t.y-n,o=e.width/2,l=e.height/2,u,d;return Math.abs(i)*o>Math.abs(a)*l?(i<0&&(l=-l),u=i===0?0:l*a/i,d=l):(a<0&&(o=-o),u=o,d=a===0?0:o*i/a),{x:r+u,y:n+d}},"intersectRect"),Up=Fxe;function k7(e,t){t&&e.attr("style",t)}M(k7,"applyStyle");async function C7(e){const t=sn(document.createElementNS("http://www.w3.org/2000/svg","foreignObject")),r=t.append("xhtml:div"),n=Sn();let a=e.label;e.label&&mp(e.label)&&(a=await ik(e.label.replace(Pp.lineBreakRegex,`
`),n));const o='<span class="'+(e.isNode?"nodeLabel":"edgeLabel")+'" '+(e.labelStyle?'style="'+e.labelStyle+'"':"")+">"+a+"</span>";return r.html(Hi(o,n)),k7(r,e.labelStyle),r.style("display","inline-block"),r.style("padding-right","1px"),r.style("white-space","nowrap"),r.attr("xmlns","http://www.w3.org/1999/xhtml"),t.node()}M(C7,"addHtmlLabel");var Bxe=M(async(e,t,r,n)=>{let a=e||"";if(typeof a=="object"&&(a=a[0]),ja(Sn().flowchart.htmlLabels)){a=a.replace(/\\n|\n/g,"<br />"),st.info("vertexText"+a);const i={isNode:n,label:Mu(a).replace(/fa[blrs]?:fa-[\w-]+/g,l=>`<i class='${l.replace(":"," ")}'></i>`),labelStyle:t&&t.replace("fill:","color:")};return await C7(i)}else{const i=document.createElementNS("http://www.w3.org/2000/svg","text");i.setAttribute("style",t.replace("color:","fill:"));let o=[];typeof a=="string"?o=a.split(/\\n|\n|<br\s*\/?>/gi):Array.isArray(a)?o=a:o=[];for(const l of o){const u=document.createElementNS("http://www.w3.org/2000/svg","tspan");u.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),u.setAttribute("dy","1em"),u.setAttribute("x","0"),r?u.setAttribute("class","title-row"):u.setAttribute("class","row"),u.textContent=l.trim(),i.appendChild(u)}return i}},"createLabel"),iu=Bxe,wc=M((e,t,r,n,a)=>["M",e+a,t,"H",e+r-a,"A",a,a,0,0,1,e+r,t+a,"V",t+n-a,"A",a,a,0,0,1,e+r-a,t+n,"H",e+a,"A",a,a,0,0,1,e,t+n-a,"V",t+a,"A",a,a,0,0,1,e+a,t,"Z"].join(" "),"createRoundedRectPathD"),_7=M(async(e,t)=>{st.info("Creating subgraph rect for ",t.id,t);const r=Sn(),{themeVariables:n,handDrawnSeed:a}=r,{clusterBkg:i,clusterBorder:o}=n,{labelStyles:l,nodeStyles:u,borderStyles:d,backgroundStyles:h}=Xt(t),g=e.insert("g").attr("class","cluster "+t.cssClasses).attr("id",t.id).attr("data-look",t.look),f=ja(r.flowchart.htmlLabels),b=g.insert("g").attr("class","cluster-label "),x=await Tc(b,t.label,{style:t.labelStyle,useHtmlLabels:f,isNode:!0});let E=x.getBBox();if(ja(r.flowchart.htmlLabels)){const j=x.children[0],B=sn(x);E=j.getBoundingClientRect(),B.attr("width",E.width),B.attr("height",E.height)}const v=t.width<=E.width+t.padding?E.width+t.padding:t.width;t.width<=E.width+t.padding?t.diff=(v-t.width)/2-t.padding:t.diff=-t.padding;const T=t.height,w=t.x-v/2,N=t.y-T/2;st.trace("Data ",t,JSON.stringify(t));let R;if(t.look==="handDrawn"){const j=Yt.svg(g),B=Qt(t,{roughness:.7,fill:i,stroke:o,fillWeight:3,seed:a}),q=j.path(wc(w,N,v,T,0),B);R=g.insert(()=>(st.debug("Rough node insert CXC",q),q),":first-child"),R.select("path:nth-child(2)").attr("style",d.join(";")),R.select("path").attr("style",h.join(";").replace("fill","stroke"))}else R=g.insert("rect",":first-child"),R.attr("style",u).attr("rx",t.rx).attr("ry",t.ry).attr("x",w).attr("y",N).attr("width",v).attr("height",T);const{subGraphTitleTopMargin:D}=Rk(r);if(b.attr("transform",`translate(${t.x-E.width/2}, ${t.y-t.height/2+D})`),l){const j=b.select("span");j&&j.attr("style",l)}const L=R.node().getBBox();return t.offsetX=0,t.width=L.width,t.height=L.height,t.offsetY=E.height-t.padding/2,t.intersect=function(j){return Up(t,j)},{cluster:g,labelBBox:E}},"rect"),Uxe=M((e,t)=>{const r=e.insert("g").attr("class","note-cluster").attr("id",t.id),n=r.insert("rect",":first-child"),a=0*t.padding,i=a/2;n.attr("rx",t.rx).attr("ry",t.ry).attr("x",t.x-t.width/2-i).attr("y",t.y-t.height/2-i).attr("width",t.width+a).attr("height",t.height+a).attr("fill","none");const o=n.node().getBBox();return t.width=o.width,t.height=o.height,t.intersect=function(l){return Up(t,l)},{cluster:r,labelBBox:{width:0,height:0}}},"noteGroup"),$xe=M(async(e,t)=>{const r=Sn(),{themeVariables:n,handDrawnSeed:a}=r,{altBackground:i,compositeBackground:o,compositeTitleBackground:l,nodeBorder:u}=n,d=e.insert("g").attr("class",t.cssClasses).attr("id",t.id).attr("data-id",t.id).attr("data-look",t.look),h=d.insert("g",":first-child"),g=d.insert("g").attr("class","cluster-label");let f=d.append("rect");const b=g.node().appendChild(await iu(t.label,t.labelStyle,void 0,!0));let x=b.getBBox();if(ja(r.flowchart.htmlLabels)){const q=b.children[0],z=sn(b);x=q.getBoundingClientRect(),z.attr("width",x.width),z.attr("height",x.height)}const E=0*t.padding,v=E/2,T=(t.width<=x.width+t.padding?x.width+t.padding:t.width)+E;t.width<=x.width+t.padding?t.diff=(T-t.width)/2-t.padding:t.diff=-t.padding;const w=t.height+E,N=t.height+E-x.height-6,R=t.x-T/2,D=t.y-w/2;t.width=T;const L=t.y-t.height/2-v+x.height+2;let j;if(t.look==="handDrawn"){const q=t.cssClasses.includes("statediagram-cluster-alt"),z=Yt.svg(d),K=t.rx||t.ry?z.path(wc(R,D,T,w,10),{roughness:.7,fill:l,fillStyle:"solid",stroke:u,seed:a}):z.rectangle(R,D,T,w,{seed:a});j=d.insert(()=>K,":first-child");const X=z.rectangle(R,L,T,N,{fill:q?i:o,fillStyle:q?"hachure":"solid",stroke:u,seed:a});j=d.insert(()=>K,":first-child"),f=d.insert(()=>X)}else j=h.insert("rect",":first-child"),j.attr("class","outer").attr("x",R).attr("y",D).attr("width",T).attr("height",w).attr("data-look",t.look),f.attr("class","inner").attr("x",R).attr("y",L).attr("width",T).attr("height",N);g.attr("transform",`translate(${t.x-x.width/2}, ${D+1-(ja(r.flowchart.htmlLabels)?0:3)})`);const B=j.node().getBBox();return t.height=B.height,t.offsetX=0,t.offsetY=x.height-t.padding/2,t.labelBBox=x,t.intersect=function(q){return Up(t,q)},{cluster:d,labelBBox:x}},"roundedWithTitle"),Hxe=M(async(e,t)=>{st.info("Creating subgraph rect for ",t.id,t);const r=Sn(),{themeVariables:n,handDrawnSeed:a}=r,{clusterBkg:i,clusterBorder:o}=n,{labelStyles:l,nodeStyles:u,borderStyles:d,backgroundStyles:h}=Xt(t),g=e.insert("g").attr("class","cluster "+t.cssClasses).attr("id",t.id).attr("data-look",t.look),f=ja(r.flowchart.htmlLabels),b=g.insert("g").attr("class","cluster-label "),x=await Tc(b,t.label,{style:t.labelStyle,useHtmlLabels:f,isNode:!0,width:t.width});let E=x.getBBox();if(ja(r.flowchart.htmlLabels)){const j=x.children[0],B=sn(x);E=j.getBoundingClientRect(),B.attr("width",E.width),B.attr("height",E.height)}const v=t.width<=E.width+t.padding?E.width+t.padding:t.width;t.width<=E.width+t.padding?t.diff=(v-t.width)/2-t.padding:t.diff=-t.padding;const T=t.height,w=t.x-v/2,N=t.y-T/2;st.trace("Data ",t,JSON.stringify(t));let R;if(t.look==="handDrawn"){const j=Yt.svg(g),B=Qt(t,{roughness:.7,fill:i,stroke:o,fillWeight:4,seed:a}),q=j.path(wc(w,N,v,T,t.rx),B);R=g.insert(()=>(st.debug("Rough node insert CXC",q),q),":first-child"),R.select("path:nth-child(2)").attr("style",d.join(";")),R.select("path").attr("style",h.join(";").replace("fill","stroke"))}else R=g.insert("rect",":first-child"),R.attr("style",u).attr("rx",t.rx).attr("ry",t.ry).attr("x",w).attr("y",N).attr("width",v).attr("height",T);const{subGraphTitleTopMargin:D}=Rk(r);if(b.attr("transform",`translate(${t.x-E.width/2}, ${t.y-t.height/2+D})`),l){const j=b.select("span");j&&j.attr("style",l)}const L=R.node().getBBox();return t.offsetX=0,t.width=L.width,t.height=L.height,t.offsetY=E.height-t.padding/2,t.intersect=function(j){return Up(t,j)},{cluster:g,labelBBox:E}},"kanbanSection"),zxe=M((e,t)=>{const r=Sn(),{themeVariables:n,handDrawnSeed:a}=r,{nodeBorder:i}=n,o=e.insert("g").attr("class",t.cssClasses).attr("id",t.id).attr("data-look",t.look),l=o.insert("g",":first-child"),u=0*t.padding,d=t.width+u;t.diff=-t.padding;const h=t.height+u,g=t.x-d/2,f=t.y-h/2;t.width=d;let b;if(t.look==="handDrawn"){const v=Yt.svg(o).rectangle(g,f,d,h,{fill:"lightgrey",roughness:.5,strokeLineDash:[5],stroke:i,seed:a});b=o.insert(()=>v,":first-child")}else b=l.insert("rect",":first-child"),b.attr("class","divider").attr("x",g).attr("y",f).attr("width",d).attr("height",h).attr("data-look",t.look);const x=b.node().getBBox();return t.height=x.height,t.offsetX=0,t.offsetY=0,t.intersect=function(E){return Up(t,E)},{cluster:o,labelBBox:{}}},"divider"),Gxe=_7,qxe={rect:_7,squareRect:Gxe,roundedWithTitle:$xe,noteGroup:Uxe,divider:zxe,kanbanSection:Hxe},A7=new Map,Wxe=M(async(e,t)=>{const r=t.shape||"rect",n=await qxe[r](e,t);return A7.set(t.id,n),n},"insertCluster"),yDe=M(()=>{A7=new Map},"clear");function N7(e,t){return e.intersect(t)}M(N7,"intersectNode");var Yxe=N7;function I7(e,t,r,n){var a=e.x,i=e.y,o=a-n.x,l=i-n.y,u=Math.sqrt(t*t*l*l+r*r*o*o),d=Math.abs(t*r*o/u);n.x<a&&(d=-d);var h=Math.abs(t*r*l/u);return n.y<i&&(h=-h),{x:a+d,y:i+h}}M(I7,"intersectEllipse");var R7=I7;function D7(e,t,r){return R7(e,t,t,r)}M(D7,"intersectCircle");var Vxe=D7;function L7(e,t,r,n){{const a=t.y-e.y,i=e.x-t.x,o=t.x*e.y-e.x*t.y,l=a*r.x+i*r.y+o,u=a*n.x+i*n.y+o,d=1e-6;if(l!==0&&u!==0&&VT(l,u))return;const h=n.y-r.y,g=r.x-n.x,f=n.x*r.y-r.x*n.y,b=h*e.x+g*e.y+f,x=h*t.x+g*t.y+f;if(Math.abs(b)<d&&Math.abs(x)<d&&VT(b,x))return;const E=a*g-h*i;if(E===0)return;const v=Math.abs(E/2);let T=i*f-g*o;const w=T<0?(T-v)/E:(T+v)/E;T=h*o-a*f;const N=T<0?(T-v)/E:(T+v)/E;return{x:w,y:N}}}M(L7,"intersectLine");function VT(e,t){return e*t>0}M(VT,"sameSign");var Kxe=L7;function O7(e,t,r){let n=e.x,a=e.y,i=[],o=Number.POSITIVE_INFINITY,l=Number.POSITIVE_INFINITY;typeof t.forEach=="function"?t.forEach(function(h){o=Math.min(o,h.x),l=Math.min(l,h.y)}):(o=Math.min(o,t.x),l=Math.min(l,t.y));let u=n-e.width/2-o,d=a-e.height/2-l;for(let h=0;h<t.length;h++){let g=t[h],f=t[h<t.length-1?h+1:0],b=Kxe(e,r,{x:u+g.x,y:d+g.y},{x:u+f.x,y:d+f.y});b&&i.push(b)}return i.length?(i.length>1&&i.sort(function(h,g){let f=h.x-r.x,b=h.y-r.y,x=Math.sqrt(f*f+b*b),E=g.x-r.x,v=g.y-r.y,T=Math.sqrt(E*E+v*v);return x<T?-1:x===T?0:1}),i[0]):e}M(O7,"intersectPolygon");var Qxe=O7,$t={node:Yxe,circle:Vxe,ellipse:R7,polygon:Qxe,rect:Up};function M7(e,t){const{labelStyles:r}=Xt(t);t.labelStyle=r;const n=hr(t);let a=n;n||(a="anchor");const i=e.insert("g").attr("class",a).attr("id",t.domId||t.id),o=1,{cssStyles:l}=t,u=Yt.svg(i),d=Qt(t,{fill:"black",stroke:"none",fillStyle:"solid"});t.look!=="handDrawn"&&(d.roughness=0);const h=u.circle(0,0,o*2,d),g=i.insert(()=>h,":first-child");return g.attr("class","anchor").attr("style",gs(l)),Zt(t,g),t.intersect=function(f){return st.info("Circle intersect",t,o,f),$t.circle(t,o,f)},i}M(M7,"anchor");function KT(e,t,r,n,a,i,o){const u=(e+r)/2,d=(t+n)/2,h=Math.atan2(n-t,r-e),g=(r-e)/2,f=(n-t)/2,b=g/a,x=f/i,E=Math.sqrt(b**2+x**2);if(E>1)throw new Error("The given radii are too small to create an arc between the points.");const v=Math.sqrt(1-E**2),T=u+v*i*Math.sin(h)*(o?-1:1),w=d-v*a*Math.cos(h)*(o?-1:1),N=Math.atan2((t-w)/i,(e-T)/a);let D=Math.atan2((n-w)/i,(r-T)/a)-N;o&&D<0&&(D+=2*Math.PI),!o&&D>0&&(D-=2*Math.PI);const L=[];for(let j=0;j<20;j++){const B=j/19,q=N+B*D,z=T+a*Math.cos(q),K=w+i*Math.sin(q);L.push({x:z,y:K})}return L}M(KT,"generateArcPoints");async function P7(e,t){const{labelStyles:r,nodeStyles:n}=Xt(t);t.labelStyle=r;const{shapeSvg:a,bbox:i}=await yr(e,t,hr(t)),o=i.width+t.padding+20,l=i.height+t.padding,u=l/2,d=u/(2.5+l/50),{cssStyles:h}=t,g=[{x:o/2,y:-l/2},{x:-o/2,y:-l/2},...KT(-o/2,-l/2,-o/2,l/2,d,u,!1),{x:o/2,y:l/2},...KT(o/2,l/2,o/2,-l/2,d,u,!0)],f=Yt.svg(a),b=Qt(t,{});t.look!=="handDrawn"&&(b.roughness=0,b.fillStyle="solid");const x=Vr(g),E=f.path(x,b),v=a.insert(()=>E,":first-child");return v.attr("class","basic label-container"),h&&t.look!=="handDrawn"&&v.selectAll("path").attr("style",h),n&&t.look!=="handDrawn"&&v.selectAll("path").attr("style",n),v.attr("transform",`translate(${d/2}, 0)`),Zt(t,v),t.intersect=function(T){return $t.polygon(t,g,T)},a}M(P7,"bowTieRect");function kc(e,t,r,n){return e.insert("polygon",":first-child").attr("points",n.map(function(a){return a.x+","+a.y}).join(" ")).attr("class","label-container").attr("transform","translate("+-t/2+","+r/2+")")}M(kc,"insertPolygonShape");async function j7(e,t){const{labelStyles:r,nodeStyles:n}=Xt(t);t.labelStyle=r;const{shapeSvg:a,bbox:i}=await yr(e,t,hr(t)),o=i.height+t.padding,l=12,u=i.width+t.padding+l,d=0,h=u,g=-o,f=0,b=[{x:d+l,y:g},{x:h,y:g},{x:h,y:f},{x:d,y:f},{x:d,y:g+l},{x:d+l,y:g}];let x;const{cssStyles:E}=t;if(t.look==="handDrawn"){const v=Yt.svg(a),T=Qt(t,{}),w=Vr(b),N=v.path(w,T);x=a.insert(()=>N,":first-child").attr("transform",`translate(${-u/2}, ${o/2})`),E&&x.attr("style",E)}else x=kc(a,u,o,b);return n&&x.attr("style",n),Zt(t,x),t.intersect=function(v){return $t.polygon(t,b,v)},a}M(j7,"card");function F7(e,t){const{nodeStyles:r}=Xt(t);t.label="";const n=e.insert("g").attr("class",hr(t)).attr("id",t.domId??t.id),{cssStyles:a}=t,i=Math.max(28,t.width??0),o=[{x:0,y:i/2},{x:i/2,y:0},{x:0,y:-i/2},{x:-i/2,y:0}],l=Yt.svg(n),u=Qt(t,{});t.look!=="handDrawn"&&(u.roughness=0,u.fillStyle="solid");const d=Vr(o),h=l.path(d,u),g=n.insert(()=>h,":first-child");return a&&t.look!=="handDrawn"&&g.selectAll("path").attr("style",a),r&&t.look!=="handDrawn"&&g.selectAll("path").attr("style",r),t.width=28,t.height=28,t.intersect=function(f){return $t.polygon(t,o,f)},n}M(F7,"choice");async function eC(e,t,r){const{labelStyles:n,nodeStyles:a}=Xt(t);t.labelStyle=n;const{shapeSvg:i,bbox:o,halfPadding:l}=await yr(e,t,hr(t)),u=r?.padding??l,d=o.width/2+u;let h;const{cssStyles:g}=t;if(t.look==="handDrawn"){const f=Yt.svg(i),b=Qt(t,{}),x=f.circle(0,0,d*2,b);h=i.insert(()=>x,":first-child"),h.attr("class","basic label-container").attr("style",gs(g))}else h=i.insert("circle",":first-child").attr("class","basic label-container").attr("style",a).attr("r",d).attr("cx",0).attr("cy",0);return Zt(t,h),t.calcIntersect=function(f,b){const x=f.width/2;return $t.circle(f,x,b)},t.intersect=function(f){return st.info("Circle intersect",t,d,f),$t.circle(t,d,f)},i}M(eC,"circle");function B7(e){const t=Math.cos(Math.PI/4),r=Math.sin(Math.PI/4),n=e*2,a={x:n/2*t,y:n/2*r},i={x:-(n/2)*t,y:n/2*r},o={x:-(n/2)*t,y:-(n/2)*r},l={x:n/2*t,y:-(n/2)*r};return`M ${i.x},${i.y} L ${l.x},${l.y}
                   M ${a.x},${a.y} L ${o.x},${o.y}`}M(B7,"createLine");function U7(e,t){const{labelStyles:r,nodeStyles:n}=Xt(t);t.labelStyle=r,t.label="";const a=e.insert("g").attr("class",hr(t)).attr("id",t.domId??t.id),i=Math.max(30,t?.width??0),{cssStyles:o}=t,l=Yt.svg(a),u=Qt(t,{});t.look!=="handDrawn"&&(u.roughness=0,u.fillStyle="solid");const d=l.circle(0,0,i*2,u),h=B7(i),g=l.path(h,u),f=a.insert(()=>d,":first-child");return f.insert(()=>g),o&&t.look!=="handDrawn"&&f.selectAll("path").attr("style",o),n&&t.look!=="handDrawn"&&f.selectAll("path").attr("style",n),Zt(t,f),t.intersect=function(b){return st.info("crossedCircle intersect",t,{radius:i,point:b}),$t.circle(t,i,b)},a}M(U7,"crossedCircle");function xl(e,t,r,n=100,a=0,i=180){const o=[],l=a*Math.PI/180,h=(i*Math.PI/180-l)/(n-1);for(let g=0;g<n;g++){const f=l+g*h,b=e+r*Math.cos(f),x=t+r*Math.sin(f);o.push({x:-b,y:-x})}return o}M(xl,"generateCirclePoints");async function $7(e,t){const{labelStyles:r,nodeStyles:n}=Xt(t);t.labelStyle=r;const{shapeSvg:a,bbox:i,label:o}=await yr(e,t,hr(t)),l=i.width+(t.padding??0),u=i.height+(t.padding??0),d=Math.max(5,u*.1),{cssStyles:h}=t,g=[...xl(l/2,-u/2,d,30,-90,0),{x:-l/2-d,y:d},...xl(l/2+d*2,-d,d,20,-180,-270),...xl(l/2+d*2,d,d,20,-90,-180),{x:-l/2-d,y:-u/2},...xl(l/2,u/2,d,20,0,90)],f=[{x:l/2,y:-u/2-d},{x:-l/2,y:-u/2-d},...xl(l/2,-u/2,d,20,-90,0),{x:-l/2-d,y:-d},...xl(l/2+l*.1,-d,d,20,-180,-270),...xl(l/2+l*.1,d,d,20,-90,-180),{x:-l/2-d,y:u/2},...xl(l/2,u/2,d,20,0,90),{x:-l/2,y:u/2+d},{x:l/2,y:u/2+d}],b=Yt.svg(a),x=Qt(t,{fill:"none"});t.look!=="handDrawn"&&(x.roughness=0,x.fillStyle="solid");const v=Vr(g).replace("Z",""),T=b.path(v,x),w=Vr(f),N=b.path(w,{...x}),R=a.insert("g",":first-child");return R.insert(()=>N,":first-child").attr("stroke-opacity",0),R.insert(()=>T,":first-child"),R.attr("class","text"),h&&t.look!=="handDrawn"&&R.selectAll("path").attr("style",h),n&&t.look!=="handDrawn"&&R.selectAll("path").attr("style",n),R.attr("transform",`translate(${d}, 0)`),o.attr("transform",`translate(${-l/2+d-(i.x-(i.left??0))},${-u/2+(t.padding??0)/2-(i.y-(i.top??0))})`),Zt(t,R),t.intersect=function(D){return $t.polygon(t,f,D)},a}M($7,"curlyBraceLeft");function El(e,t,r,n=100,a=0,i=180){const o=[],l=a*Math.PI/180,h=(i*Math.PI/180-l)/(n-1);for(let g=0;g<n;g++){const f=l+g*h,b=e+r*Math.cos(f),x=t+r*Math.sin(f);o.push({x:b,y:x})}return o}M(El,"generateCirclePoints");async function H7(e,t){const{labelStyles:r,nodeStyles:n}=Xt(t);t.labelStyle=r;const{shapeSvg:a,bbox:i,label:o}=await yr(e,t,hr(t)),l=i.width+(t.padding??0),u=i.height+(t.padding??0),d=Math.max(5,u*.1),{cssStyles:h}=t,g=[...El(l/2,-u/2,d,20,-90,0),{x:l/2+d,y:-d},...El(l/2+d*2,-d,d,20,-180,-270),...El(l/2+d*2,d,d,20,-90,-180),{x:l/2+d,y:u/2},...El(l/2,u/2,d,20,0,90)],f=[{x:-l/2,y:-u/2-d},{x:l/2,y:-u/2-d},...El(l/2,-u/2,d,20,-90,0),{x:l/2+d,y:-d},...El(l/2+d*2,-d,d,20,-180,-270),...El(l/2+d*2,d,d,20,-90,-180),{x:l/2+d,y:u/2},...El(l/2,u/2,d,20,0,90),{x:l/2,y:u/2+d},{x:-l/2,y:u/2+d}],b=Yt.svg(a),x=Qt(t,{fill:"none"});t.look!=="handDrawn"&&(x.roughness=0,x.fillStyle="solid");const v=Vr(g).replace("Z",""),T=b.path(v,x),w=Vr(f),N=b.path(w,{...x}),R=a.insert("g",":first-child");return R.insert(()=>N,":first-child").attr("stroke-opacity",0),R.insert(()=>T,":first-child"),R.attr("class","text"),h&&t.look!=="handDrawn"&&R.selectAll("path").attr("style",h),n&&t.look!=="handDrawn"&&R.selectAll("path").attr("style",n),R.attr("transform",`translate(${-d}, 0)`),o.attr("transform",`translate(${-l/2+(t.padding??0)/2-(i.x-(i.left??0))},${-u/2+(t.padding??0)/2-(i.y-(i.top??0))})`),Zt(t,R),t.intersect=function(D){return $t.polygon(t,f,D)},a}M(H7,"curlyBraceRight");function Qa(e,t,r,n=100,a=0,i=180){const o=[],l=a*Math.PI/180,h=(i*Math.PI/180-l)/(n-1);for(let g=0;g<n;g++){const f=l+g*h,b=e+r*Math.cos(f),x=t+r*Math.sin(f);o.push({x:-b,y:-x})}return o}M(Qa,"generateCirclePoints");async function z7(e,t){const{labelStyles:r,nodeStyles:n}=Xt(t);t.labelStyle=r;const{shapeSvg:a,bbox:i,label:o}=await yr(e,t,hr(t)),l=i.width+(t.padding??0),u=i.height+(t.padding??0),d=Math.max(5,u*.1),{cssStyles:h}=t,g=[...Qa(l/2,-u/2,d,30,-90,0),{x:-l/2-d,y:d},...Qa(l/2+d*2,-d,d,20,-180,-270),...Qa(l/2+d*2,d,d,20,-90,-180),{x:-l/2-d,y:-u/2},...Qa(l/2,u/2,d,20,0,90)],f=[...Qa(-l/2+d+d/2,-u/2,d,20,-90,-180),{x:l/2-d/2,y:d},...Qa(-l/2-d/2,-d,d,20,0,90),...Qa(-l/2-d/2,d,d,20,-90,0),{x:l/2-d/2,y:-d},...Qa(-l/2+d+d/2,u/2,d,30,-180,-270)],b=[{x:l/2,y:-u/2-d},{x:-l/2,y:-u/2-d},...Qa(l/2,-u/2,d,20,-90,0),{x:-l/2-d,y:-d},...Qa(l/2+d*2,-d,d,20,-180,-270),...Qa(l/2+d*2,d,d,20,-90,-180),{x:-l/2-d,y:u/2},...Qa(l/2,u/2,d,20,0,90),{x:-l/2,y:u/2+d},{x:l/2-d-d/2,y:u/2+d},...Qa(-l/2+d+d/2,-u/2,d,20,-90,-180),{x:l/2-d/2,y:d},...Qa(-l/2-d/2,-d,d,20,0,90),...Qa(-l/2-d/2,d,d,20,-90,0),{x:l/2-d/2,y:-d},...Qa(-l/2+d+d/2,u/2,d,30,-180,-270)],x=Yt.svg(a),E=Qt(t,{fill:"none"});t.look!=="handDrawn"&&(E.roughness=0,E.fillStyle="solid");const T=Vr(g).replace("Z",""),w=x.path(T,E),R=Vr(f).replace("Z",""),D=x.path(R,E),L=Vr(b),j=x.path(L,{...E}),B=a.insert("g",":first-child");return B.insert(()=>j,":first-child").attr("stroke-opacity",0),B.insert(()=>w,":first-child"),B.insert(()=>D,":first-child"),B.attr("class","text"),h&&t.look!=="handDrawn"&&B.selectAll("path").attr("style",h),n&&t.look!=="handDrawn"&&B.selectAll("path").attr("style",n),B.attr("transform",`translate(${d-d/4}, 0)`),o.attr("transform",`translate(${-l/2+(t.padding??0)/2-(i.x-(i.left??0))},${-u/2+(t.padding??0)/2-(i.y-(i.top??0))})`),Zt(t,B),t.intersect=function(q){return $t.polygon(t,b,q)},a}M(z7,"curlyBraces");async function G7(e,t){const{labelStyles:r,nodeStyles:n}=Xt(t);t.labelStyle=r;const{shapeSvg:a,bbox:i}=await yr(e,t,hr(t)),o=80,l=20,u=Math.max(o,(i.width+(t.padding??0)*2)*1.25,t?.width??0),d=Math.max(l,i.height+(t.padding??0)*2,t?.height??0),h=d/2,{cssStyles:g}=t,f=Yt.svg(a),b=Qt(t,{});t.look!=="handDrawn"&&(b.roughness=0,b.fillStyle="solid");const x=u,E=d,v=x-h,T=E/4,w=[{x:v,y:0},{x:T,y:0},{x:0,y:E/2},{x:T,y:E},{x:v,y:E},...bm(-v,-E/2,h,50,270,90)],N=Vr(w),R=f.path(N,b),D=a.insert(()=>R,":first-child");return D.attr("class","basic label-container"),g&&t.look!=="handDrawn"&&D.selectChildren("path").attr("style",g),n&&t.look!=="handDrawn"&&D.selectChildren("path").attr("style",n),D.attr("transform",`translate(${-u/2}, ${-d/2})`),Zt(t,D),t.intersect=function(L){return $t.polygon(t,w,L)},a}M(G7,"curvedTrapezoid");var Xxe=M((e,t,r,n,a,i)=>[`M${e},${t+i}`,`a${a},${i} 0,0,0 ${r},0`,`a${a},${i} 0,0,0 ${-r},0`,`l0,${n}`,`a${a},${i} 0,0,0 ${r},0`,`l0,${-n}`].join(" "),"createCylinderPathD"),Zxe=M((e,t,r,n,a,i)=>[`M${e},${t+i}`,`M${e+r},${t+i}`,`a${a},${i} 0,0,0 ${-r},0`,`l0,${n}`,`a${a},${i} 0,0,0 ${r},0`,`l0,${-n}`].join(" "),"createOuterCylinderPathD"),Jxe=M((e,t,r,n,a,i)=>[`M${e-r/2},${-n/2}`,`a${a},${i} 0,0,0 ${r},0`].join(" "),"createInnerCylinderPathD");async function q7(e,t){const{labelStyles:r,nodeStyles:n}=Xt(t);t.labelStyle=r;const{shapeSvg:a,bbox:i,label:o}=await yr(e,t,hr(t)),l=Math.max(i.width+t.padding,t.width??0),u=l/2,d=u/(2.5+l/50),h=Math.max(i.height+d+t.padding,t.height??0);let g;const{cssStyles:f}=t;if(t.look==="handDrawn"){const b=Yt.svg(a),x=Zxe(0,0,l,h,u,d),E=Jxe(0,d,l,h,u,d),v=b.path(x,Qt(t,{})),T=b.path(E,Qt(t,{fill:"none"}));g=a.insert(()=>T,":first-child"),g=a.insert(()=>v,":first-child"),g.attr("class","basic label-container"),f&&g.attr("style",f)}else{const b=Xxe(0,0,l,h,u,d);g=a.insert("path",":first-child").attr("d",b).attr("class","basic label-container").attr("style",gs(f)).attr("style",n)}return g.attr("label-offset-y",d),g.attr("transform",`translate(${-l/2}, ${-(h/2+d)})`),Zt(t,g),o.attr("transform",`translate(${-(i.width/2)-(i.x-(i.left??0))}, ${-(i.height/2)+(t.padding??0)/1.5-(i.y-(i.top??0))})`),t.intersect=function(b){const x=$t.rect(t,b),E=x.x-(t.x??0);if(u!=0&&(Math.abs(E)<(t.width??0)/2||Math.abs(E)==(t.width??0)/2&&Math.abs(x.y-(t.y??0))>(t.height??0)/2-d)){let v=d*d*(1-E*E/(u*u));v>0&&(v=Math.sqrt(v)),v=d-v,b.y-(t.y??0)>0&&(v=-v),x.y+=v}return x},a}M(q7,"cylinder");async function W7(e,t){const{labelStyles:r,nodeStyles:n}=Xt(t);t.labelStyle=r;const{shapeSvg:a,bbox:i,label:o}=await yr(e,t,hr(t)),l=i.width+t.padding,u=i.height+t.padding,d=u*.2,h=-l/2,g=-u/2-d/2,{cssStyles:f}=t,b=Yt.svg(a),x=Qt(t,{});t.look!=="handDrawn"&&(x.roughness=0,x.fillStyle="solid");const E=[{x:h,y:g+d},{x:-h,y:g+d},{x:-h,y:-g},{x:h,y:-g},{x:h,y:g},{x:-h,y:g},{x:-h,y:g+d}],v=b.polygon(E.map(w=>[w.x,w.y]),x),T=a.insert(()=>v,":first-child");return T.attr("class","basic label-container"),f&&t.look!=="handDrawn"&&T.selectAll("path").attr("style",f),n&&t.look!=="handDrawn"&&T.selectAll("path").attr("style",n),o.attr("transform",`translate(${h+(t.padding??0)/2-(i.x-(i.left??0))}, ${g+d+(t.padding??0)/2-(i.y-(i.top??0))})`),Zt(t,T),t.intersect=function(w){return $t.rect(t,w)},a}M(W7,"dividedRectangle");async function Y7(e,t){const{labelStyles:r,nodeStyles:n}=Xt(t);t.labelStyle=r;const{shapeSvg:a,bbox:i,halfPadding:o}=await yr(e,t,hr(t)),u=i.width/2+o+5,d=i.width/2+o;let h;const{cssStyles:g}=t;if(t.look==="handDrawn"){const f=Yt.svg(a),b=Qt(t,{roughness:.2,strokeWidth:2.5}),x=Qt(t,{roughness:.2,strokeWidth:1.5}),E=f.circle(0,0,u*2,b),v=f.circle(0,0,d*2,x);h=a.insert("g",":first-child"),h.attr("class",gs(t.cssClasses)).attr("style",gs(g)),h.node()?.appendChild(E),h.node()?.appendChild(v)}else{h=a.insert("g",":first-child");const f=h.insert("circle",":first-child"),b=h.insert("circle");h.attr("class","basic label-container").attr("style",n),f.attr("class","outer-circle").attr("style",n).attr("r",u).attr("cx",0).attr("cy",0),b.attr("class","inner-circle").attr("style",n).attr("r",d).attr("cx",0).attr("cy",0)}return Zt(t,h),t.intersect=function(f){return st.info("DoubleCircle intersect",t,u,f),$t.circle(t,u,f)},a}M(Y7,"doublecircle");function V7(e,t,{config:{themeVariables:r}}){const{labelStyles:n,nodeStyles:a}=Xt(t);t.label="",t.labelStyle=n;const i=e.insert("g").attr("class",hr(t)).attr("id",t.domId??t.id),o=7,{cssStyles:l}=t,u=Yt.svg(i),{nodeBorder:d}=r,h=Qt(t,{fillStyle:"solid"});t.look!=="handDrawn"&&(h.roughness=0);const g=u.circle(0,0,o*2,h),f=i.insert(()=>g,":first-child");return f.selectAll("path").attr("style",`fill: ${d} !important;`),l&&l.length>0&&t.look!=="handDrawn"&&f.selectAll("path").attr("style",l),a&&t.look!=="handDrawn"&&f.selectAll("path").attr("style",a),Zt(t,f),t.intersect=function(b){return st.info("filledCircle intersect",t,{radius:o,point:b}),$t.circle(t,o,b)},i}M(V7,"filledCircle");async function K7(e,t){const{labelStyles:r,nodeStyles:n}=Xt(t);t.labelStyle=r;const{shapeSvg:a,bbox:i,label:o}=await yr(e,t,hr(t)),l=i.width+(t.padding??0),u=l+i.height,d=l+i.height,h=[{x:0,y:-u},{x:d,y:-u},{x:d/2,y:0}],{cssStyles:g}=t,f=Yt.svg(a),b=Qt(t,{});t.look!=="handDrawn"&&(b.roughness=0,b.fillStyle="solid");const x=Vr(h),E=f.path(x,b),v=a.insert(()=>E,":first-child").attr("transform",`translate(${-u/2}, ${u/2})`);return g&&t.look!=="handDrawn"&&v.selectChildren("path").attr("style",g),n&&t.look!=="handDrawn"&&v.selectChildren("path").attr("style",n),t.width=l,t.height=u,Zt(t,v),o.attr("transform",`translate(${-i.width/2-(i.x-(i.left??0))}, ${-u/2+(t.padding??0)/2+(i.y-(i.top??0))})`),t.intersect=function(T){return st.info("Triangle intersect",t,h,T),$t.polygon(t,h,T)},a}M(K7,"flippedTriangle");function Q7(e,t,{dir:r,config:{state:n,themeVariables:a}}){const{nodeStyles:i}=Xt(t);t.label="";const o=e.insert("g").attr("class",hr(t)).attr("id",t.domId??t.id),{cssStyles:l}=t;let u=Math.max(70,t?.width??0),d=Math.max(10,t?.height??0);r==="LR"&&(u=Math.max(10,t?.width??0),d=Math.max(70,t?.height??0));const h=-1*u/2,g=-1*d/2,f=Yt.svg(o),b=Qt(t,{stroke:a.lineColor,fill:a.lineColor});t.look!=="handDrawn"&&(b.roughness=0,b.fillStyle="solid");const x=f.rectangle(h,g,u,d,b),E=o.insert(()=>x,":first-child");l&&t.look!=="handDrawn"&&E.selectAll("path").attr("style",l),i&&t.look!=="handDrawn"&&E.selectAll("path").attr("style",i),Zt(t,E);const v=n?.padding??0;return t.width&&t.height&&(t.width+=v/2||0,t.height+=v/2||0),t.intersect=function(T){return $t.rect(t,T)},o}M(Q7,"forkJoin");async function X7(e,t){const{labelStyles:r,nodeStyles:n}=Xt(t);t.labelStyle=r;const a=80,i=50,{shapeSvg:o,bbox:l}=await yr(e,t,hr(t)),u=Math.max(a,l.width+(t.padding??0)*2,t?.width??0),d=Math.max(i,l.height+(t.padding??0)*2,t?.height??0),h=d/2,{cssStyles:g}=t,f=Yt.svg(o),b=Qt(t,{});t.look!=="handDrawn"&&(b.roughness=0,b.fillStyle="solid");const x=[{x:-u/2,y:-d/2},{x:u/2-h,y:-d/2},...bm(-u/2+h,0,h,50,90,270),{x:u/2-h,y:d/2},{x:-u/2,y:d/2}],E=Vr(x),v=f.path(E,b),T=o.insert(()=>v,":first-child");return T.attr("class","basic label-container"),g&&t.look!=="handDrawn"&&T.selectChildren("path").attr("style",g),n&&t.look!=="handDrawn"&&T.selectChildren("path").attr("style",n),Zt(t,T),t.intersect=function(w){return st.info("Pill intersect",t,{radius:h,point:w}),$t.polygon(t,x,w)},o}M(X7,"halfRoundedRectangle");async function Z7(e,t){const{labelStyles:r,nodeStyles:n}=Xt(t);t.labelStyle=r;const{shapeSvg:a,bbox:i}=await yr(e,t,hr(t)),o=i.height+(t.padding??0),l=i.width+(t.padding??0)*2.5,{cssStyles:u}=t,d=Yt.svg(a),h=Qt(t,{});t.look!=="handDrawn"&&(h.roughness=0,h.fillStyle="solid");let g=l/2;const f=g/6;g=g+f;const b=o/2,x=b/2,E=g-x,v=[{x:-E,y:-b},{x:0,y:-b},{x:E,y:-b},{x:g,y:0},{x:E,y:b},{x:0,y:b},{x:-E,y:b},{x:-g,y:0}],T=Vr(v),w=d.path(T,h),N=a.insert(()=>w,":first-child");return N.attr("class","basic label-container"),u&&t.look!=="handDrawn"&&N.selectChildren("path").attr("style",u),n&&t.look!=="handDrawn"&&N.selectChildren("path").attr("style",n),t.width=l,t.height=o,Zt(t,N),t.intersect=function(R){return $t.polygon(t,v,R)},a}M(Z7,"hexagon");async function J7(e,t){const{labelStyles:r,nodeStyles:n}=Xt(t);t.label="",t.labelStyle=r;const{shapeSvg:a}=await yr(e,t,hr(t)),i=Math.max(30,t?.width??0),o=Math.max(30,t?.height??0),{cssStyles:l}=t,u=Yt.svg(a),d=Qt(t,{});t.look!=="handDrawn"&&(d.roughness=0,d.fillStyle="solid");const h=[{x:0,y:0},{x:i,y:0},{x:0,y:o},{x:i,y:o}],g=Vr(h),f=u.path(g,d),b=a.insert(()=>f,":first-child");return b.attr("class","basic label-container"),l&&t.look!=="handDrawn"&&b.selectChildren("path").attr("style",l),n&&t.look!=="handDrawn"&&b.selectChildren("path").attr("style",n),b.attr("transform",`translate(${-i/2}, ${-o/2})`),Zt(t,b),t.intersect=function(x){return st.info("Pill intersect",t,{points:h}),$t.polygon(t,h,x)},a}M(J7,"hourglass");async function e9(e,t,{config:{themeVariables:r,flowchart:n}}){const{labelStyles:a}=Xt(t);t.labelStyle=a;const i=t.assetHeight??48,o=t.assetWidth??48,l=Math.max(i,o),u=n?.wrappingWidth;t.width=Math.max(l,u??0);const{shapeSvg:d,bbox:h,label:g}=await yr(e,t,"icon-shape default"),f=t.pos==="t",b=l,x=l,{nodeBorder:E}=r,{stylesMap:v}=jp(t),T=-x/2,w=-b/2,N=t.label?8:0,R=Yt.svg(d),D=Qt(t,{stroke:"none",fill:"none"});t.look!=="handDrawn"&&(D.roughness=0,D.fillStyle="solid");const L=R.rectangle(T,w,x,b,D),j=Math.max(x,h.width),B=b+h.height+N,q=R.rectangle(-j/2,-B/2,j,B,{...D,fill:"transparent",stroke:"none"}),z=d.insert(()=>L,":first-child"),K=d.insert(()=>q);if(t.icon){const X=d.append("g");X.html(`<g>${await Wm(t.icon,{height:l,width:l,fallbackPrefix:""})}</g>`);const Q=X.node().getBBox(),O=Q.width,H=Q.height,$=Q.x,Y=Q.y;X.attr("transform",`translate(${-O/2-$},${f?h.height/2+N/2-H/2-Y:-h.height/2-N/2-H/2-Y})`),X.attr("style",`color: ${v.get("stroke")??E};`)}return g.attr("transform",`translate(${-h.width/2-(h.x-(h.left??0))},${f?-B/2:B/2-h.height})`),z.attr("transform",`translate(0,${f?h.height/2+N/2:-h.height/2-N/2})`),Zt(t,K),t.intersect=function(X){if(st.info("iconSquare intersect",t,X),!t.label)return $t.rect(t,X);const Q=t.x??0,O=t.y??0,H=t.height??0;let $=[];return f?$=[{x:Q-h.width/2,y:O-H/2},{x:Q+h.width/2,y:O-H/2},{x:Q+h.width/2,y:O-H/2+h.height+N},{x:Q+x/2,y:O-H/2+h.height+N},{x:Q+x/2,y:O+H/2},{x:Q-x/2,y:O+H/2},{x:Q-x/2,y:O-H/2+h.height+N},{x:Q-h.width/2,y:O-H/2+h.height+N}]:$=[{x:Q-x/2,y:O-H/2},{x:Q+x/2,y:O-H/2},{x:Q+x/2,y:O-H/2+b},{x:Q+h.width/2,y:O-H/2+b},{x:Q+h.width/2/2,y:O+H/2},{x:Q-h.width/2,y:O+H/2},{x:Q-h.width/2,y:O-H/2+b},{x:Q-x/2,y:O-H/2+b}],$t.polygon(t,$,X)},d}M(e9,"icon");async function t9(e,t,{config:{themeVariables:r,flowchart:n}}){const{labelStyles:a}=Xt(t);t.labelStyle=a;const i=t.assetHeight??48,o=t.assetWidth??48,l=Math.max(i,o),u=n?.wrappingWidth;t.width=Math.max(l,u??0);const{shapeSvg:d,bbox:h,label:g}=await yr(e,t,"icon-shape default"),f=20,b=t.label?8:0,x=t.pos==="t",{nodeBorder:E,mainBkg:v}=r,{stylesMap:T}=jp(t),w=Yt.svg(d),N=Qt(t,{});t.look!=="handDrawn"&&(N.roughness=0,N.fillStyle="solid");const R=T.get("fill");N.stroke=R??v;const D=d.append("g");t.icon&&D.html(`<g>${await Wm(t.icon,{height:l,width:l,fallbackPrefix:""})}</g>`);const L=D.node().getBBox(),j=L.width,B=L.height,q=L.x,z=L.y,K=Math.max(j,B)*Math.SQRT2+f*2,X=w.circle(0,0,K,N),Q=Math.max(K,h.width),O=K+h.height+b,H=w.rectangle(-Q/2,-O/2,Q,O,{...N,fill:"transparent",stroke:"none"}),$=d.insert(()=>X,":first-child"),Y=d.insert(()=>H);return D.attr("transform",`translate(${-j/2-q},${x?h.height/2+b/2-B/2-z:-h.height/2-b/2-B/2-z})`),D.attr("style",`color: ${T.get("stroke")??E};`),g.attr("transform",`translate(${-h.width/2-(h.x-(h.left??0))},${x?-O/2:O/2-h.height})`),$.attr("transform",`translate(0,${x?h.height/2+b/2:-h.height/2-b/2})`),Zt(t,Y),t.intersect=function(V){return st.info("iconSquare intersect",t,V),$t.rect(t,V)},d}M(t9,"iconCircle");async function r9(e,t,{config:{themeVariables:r,flowchart:n}}){const{labelStyles:a}=Xt(t);t.labelStyle=a;const i=t.assetHeight??48,o=t.assetWidth??48,l=Math.max(i,o),u=n?.wrappingWidth;t.width=Math.max(l,u??0);const{shapeSvg:d,bbox:h,halfPadding:g,label:f}=await yr(e,t,"icon-shape default"),b=t.pos==="t",x=l+g*2,E=l+g*2,{nodeBorder:v,mainBkg:T}=r,{stylesMap:w}=jp(t),N=-E/2,R=-x/2,D=t.label?8:0,L=Yt.svg(d),j=Qt(t,{});t.look!=="handDrawn"&&(j.roughness=0,j.fillStyle="solid");const B=w.get("fill");j.stroke=B??T;const q=L.path(wc(N,R,E,x,5),j),z=Math.max(E,h.width),K=x+h.height+D,X=L.rectangle(-z/2,-K/2,z,K,{...j,fill:"transparent",stroke:"none"}),Q=d.insert(()=>q,":first-child").attr("class","icon-shape2"),O=d.insert(()=>X);if(t.icon){const H=d.append("g");H.html(`<g>${await Wm(t.icon,{height:l,width:l,fallbackPrefix:""})}</g>`);const $=H.node().getBBox(),Y=$.width,V=$.height,ne=$.x,P=$.y;H.attr("transform",`translate(${-Y/2-ne},${b?h.height/2+D/2-V/2-P:-h.height/2-D/2-V/2-P})`),H.attr("style",`color: ${w.get("stroke")??v};`)}return f.attr("transform",`translate(${-h.width/2-(h.x-(h.left??0))},${b?-K/2:K/2-h.height})`),Q.attr("transform",`translate(0,${b?h.height/2+D/2:-h.height/2-D/2})`),Zt(t,O),t.intersect=function(H){if(st.info("iconSquare intersect",t,H),!t.label)return $t.rect(t,H);const $=t.x??0,Y=t.y??0,V=t.height??0;let ne=[];return b?ne=[{x:$-h.width/2,y:Y-V/2},{x:$+h.width/2,y:Y-V/2},{x:$+h.width/2,y:Y-V/2+h.height+D},{x:$+E/2,y:Y-V/2+h.height+D},{x:$+E/2,y:Y+V/2},{x:$-E/2,y:Y+V/2},{x:$-E/2,y:Y-V/2+h.height+D},{x:$-h.width/2,y:Y-V/2+h.height+D}]:ne=[{x:$-E/2,y:Y-V/2},{x:$+E/2,y:Y-V/2},{x:$+E/2,y:Y-V/2+x},{x:$+h.width/2,y:Y-V/2+x},{x:$+h.width/2/2,y:Y+V/2},{x:$-h.width/2,y:Y+V/2},{x:$-h.width/2,y:Y-V/2+x},{x:$-E/2,y:Y-V/2+x}],$t.polygon(t,ne,H)},d}M(r9,"iconRounded");async function n9(e,t,{config:{themeVariables:r,flowchart:n}}){const{labelStyles:a}=Xt(t);t.labelStyle=a;const i=t.assetHeight??48,o=t.assetWidth??48,l=Math.max(i,o),u=n?.wrappingWidth;t.width=Math.max(l,u??0);const{shapeSvg:d,bbox:h,halfPadding:g,label:f}=await yr(e,t,"icon-shape default"),b=t.pos==="t",x=l+g*2,E=l+g*2,{nodeBorder:v,mainBkg:T}=r,{stylesMap:w}=jp(t),N=-E/2,R=-x/2,D=t.label?8:0,L=Yt.svg(d),j=Qt(t,{});t.look!=="handDrawn"&&(j.roughness=0,j.fillStyle="solid");const B=w.get("fill");j.stroke=B??T;const q=L.path(wc(N,R,E,x,.1),j),z=Math.max(E,h.width),K=x+h.height+D,X=L.rectangle(-z/2,-K/2,z,K,{...j,fill:"transparent",stroke:"none"}),Q=d.insert(()=>q,":first-child"),O=d.insert(()=>X);if(t.icon){const H=d.append("g");H.html(`<g>${await Wm(t.icon,{height:l,width:l,fallbackPrefix:""})}</g>`);const $=H.node().getBBox(),Y=$.width,V=$.height,ne=$.x,P=$.y;H.attr("transform",`translate(${-Y/2-ne},${b?h.height/2+D/2-V/2-P:-h.height/2-D/2-V/2-P})`),H.attr("style",`color: ${w.get("stroke")??v};`)}return f.attr("transform",`translate(${-h.width/2-(h.x-(h.left??0))},${b?-K/2:K/2-h.height})`),Q.attr("transform",`translate(0,${b?h.height/2+D/2:-h.height/2-D/2})`),Zt(t,O),t.intersect=function(H){if(st.info("iconSquare intersect",t,H),!t.label)return $t.rect(t,H);const $=t.x??0,Y=t.y??0,V=t.height??0;let ne=[];return b?ne=[{x:$-h.width/2,y:Y-V/2},{x:$+h.width/2,y:Y-V/2},{x:$+h.width/2,y:Y-V/2+h.height+D},{x:$+E/2,y:Y-V/2+h.height+D},{x:$+E/2,y:Y+V/2},{x:$-E/2,y:Y+V/2},{x:$-E/2,y:Y-V/2+h.height+D},{x:$-h.width/2,y:Y-V/2+h.height+D}]:ne=[{x:$-E/2,y:Y-V/2},{x:$+E/2,y:Y-V/2},{x:$+E/2,y:Y-V/2+x},{x:$+h.width/2,y:Y-V/2+x},{x:$+h.width/2/2,y:Y+V/2},{x:$-h.width/2,y:Y+V/2},{x:$-h.width/2,y:Y-V/2+x},{x:$-E/2,y:Y-V/2+x}],$t.polygon(t,ne,H)},d}M(n9,"iconSquare");async function a9(e,t,{config:{flowchart:r}}){const n=new Image;n.src=t?.img??"",await n.decode();const a=Number(n.naturalWidth.toString().replace("px","")),i=Number(n.naturalHeight.toString().replace("px",""));t.imageAspectRatio=a/i;const{labelStyles:o}=Xt(t);t.labelStyle=o;const l=r?.wrappingWidth;t.defaultWidth=r?.wrappingWidth;const u=Math.max(t.label?l??0:0,t?.assetWidth??a),d=t.constraint==="on"&&t?.assetHeight?t.assetHeight*t.imageAspectRatio:u,h=t.constraint==="on"?d/t.imageAspectRatio:t?.assetHeight??i;t.width=Math.max(d,l??0);const{shapeSvg:g,bbox:f,label:b}=await yr(e,t,"image-shape default"),x=t.pos==="t",E=-d/2,v=-h/2,T=t.label?8:0,w=Yt.svg(g),N=Qt(t,{});t.look!=="handDrawn"&&(N.roughness=0,N.fillStyle="solid");const R=w.rectangle(E,v,d,h,N),D=Math.max(d,f.width),L=h+f.height+T,j=w.rectangle(-D/2,-L/2,D,L,{...N,fill:"none",stroke:"none"}),B=g.insert(()=>R,":first-child"),q=g.insert(()=>j);if(t.img){const z=g.append("image");z.attr("href",t.img),z.attr("width",d),z.attr("height",h),z.attr("preserveAspectRatio","none"),z.attr("transform",`translate(${-d/2},${x?L/2-h:-L/2})`)}return b.attr("transform",`translate(${-f.width/2-(f.x-(f.left??0))},${x?-h/2-f.height/2-T/2:h/2-f.height/2+T/2})`),B.attr("transform",`translate(0,${x?f.height/2+T/2:-f.height/2-T/2})`),Zt(t,q),t.intersect=function(z){if(st.info("iconSquare intersect",t,z),!t.label)return $t.rect(t,z);const K=t.x??0,X=t.y??0,Q=t.height??0;let O=[];return x?O=[{x:K-f.width/2,y:X-Q/2},{x:K+f.width/2,y:X-Q/2},{x:K+f.width/2,y:X-Q/2+f.height+T},{x:K+d/2,y:X-Q/2+f.height+T},{x:K+d/2,y:X+Q/2},{x:K-d/2,y:X+Q/2},{x:K-d/2,y:X-Q/2+f.height+T},{x:K-f.width/2,y:X-Q/2+f.height+T}]:O=[{x:K-d/2,y:X-Q/2},{x:K+d/2,y:X-Q/2},{x:K+d/2,y:X-Q/2+h},{x:K+f.width/2,y:X-Q/2+h},{x:K+f.width/2/2,y:X+Q/2},{x:K-f.width/2,y:X+Q/2},{x:K-f.width/2,y:X-Q/2+h},{x:K-d/2,y:X-Q/2+h}],$t.polygon(t,O,z)},g}M(a9,"imageSquare");async function s9(e,t){const{labelStyles:r,nodeStyles:n}=Xt(t);t.labelStyle=r;const{shapeSvg:a,bbox:i}=await yr(e,t,hr(t)),o=Math.max(i.width+(t.padding??0)*2,t?.width??0),l=Math.max(i.height+(t.padding??0)*2,t?.height??0),u=[{x:0,y:0},{x:o,y:0},{x:o+3*l/6,y:-l},{x:-3*l/6,y:-l}];let d;const{cssStyles:h}=t;if(t.look==="handDrawn"){const g=Yt.svg(a),f=Qt(t,{}),b=Vr(u),x=g.path(b,f);d=a.insert(()=>x,":first-child").attr("transform",`translate(${-o/2}, ${l/2})`),h&&d.attr("style",h)}else d=kc(a,o,l,u);return n&&d.attr("style",n),t.width=o,t.height=l,Zt(t,d),t.intersect=function(g){return $t.polygon(t,u,g)},a}M(s9,"inv_trapezoid");async function hx(e,t,r){const{labelStyles:n,nodeStyles:a}=Xt(t);t.labelStyle=n;const{shapeSvg:i,bbox:o}=await yr(e,t,hr(t)),l=Math.max(o.width+r.labelPaddingX*2,t?.width||0),u=Math.max(o.height+r.labelPaddingY*2,t?.height||0),d=-l/2,h=-u/2;let g,{rx:f,ry:b}=t;const{cssStyles:x}=t;if(r?.rx&&r.ry&&(f=r.rx,b=r.ry),t.look==="handDrawn"){const E=Yt.svg(i),v=Qt(t,{}),T=f||b?E.path(wc(d,h,l,u,f||0),v):E.rectangle(d,h,l,u,v);g=i.insert(()=>T,":first-child"),g.attr("class","basic label-container").attr("style",gs(x))}else g=i.insert("rect",":first-child"),g.attr("class","basic label-container").attr("style",a).attr("rx",gs(f)).attr("ry",gs(b)).attr("x",d).attr("y",h).attr("width",l).attr("height",u);return Zt(t,g),t.calcIntersect=function(E,v){return $t.rect(E,v)},t.intersect=function(E){return $t.rect(t,E)},i}M(hx,"drawRect");async function i9(e,t){const{shapeSvg:r,bbox:n,label:a}=await yr(e,t,"label"),i=r.insert("rect",":first-child");return i.attr("width",.1).attr("height",.1),r.attr("class","label edgeLabel"),a.attr("transform",`translate(${-(n.width/2)-(n.x-(n.left??0))}, ${-(n.height/2)-(n.y-(n.top??0))})`),Zt(t,i),t.intersect=function(u){return $t.rect(t,u)},r}M(i9,"labelRect");async function o9(e,t){const{labelStyles:r,nodeStyles:n}=Xt(t);t.labelStyle=r;const{shapeSvg:a,bbox:i}=await yr(e,t,hr(t)),o=Math.max(i.width+(t.padding??0),t?.width??0),l=Math.max(i.height+(t.padding??0),t?.height??0),u=[{x:0,y:0},{x:o+3*l/6,y:0},{x:o,y:-l},{x:-(3*l)/6,y:-l}];let d;const{cssStyles:h}=t;if(t.look==="handDrawn"){const g=Yt.svg(a),f=Qt(t,{}),b=Vr(u),x=g.path(b,f);d=a.insert(()=>x,":first-child").attr("transform",`translate(${-o/2}, ${l/2})`),h&&d.attr("style",h)}else d=kc(a,o,l,u);return n&&d.attr("style",n),t.width=o,t.height=l,Zt(t,d),t.intersect=function(g){return $t.polygon(t,u,g)},a}M(o9,"lean_left");async function l9(e,t){const{labelStyles:r,nodeStyles:n}=Xt(t);t.labelStyle=r;const{shapeSvg:a,bbox:i}=await yr(e,t,hr(t)),o=Math.max(i.width+(t.padding??0),t?.width??0),l=Math.max(i.height+(t.padding??0),t?.height??0),u=[{x:-3*l/6,y:0},{x:o,y:0},{x:o+3*l/6,y:-l},{x:0,y:-l}];let d;const{cssStyles:h}=t;if(t.look==="handDrawn"){const g=Yt.svg(a),f=Qt(t,{}),b=Vr(u),x=g.path(b,f);d=a.insert(()=>x,":first-child").attr("transform",`translate(${-o/2}, ${l/2})`),h&&d.attr("style",h)}else d=kc(a,o,l,u);return n&&d.attr("style",n),t.width=o,t.height=l,Zt(t,d),t.intersect=function(g){return $t.polygon(t,u,g)},a}M(l9,"lean_right");function c9(e,t){const{labelStyles:r,nodeStyles:n}=Xt(t);t.label="",t.labelStyle=r;const a=e.insert("g").attr("class",hr(t)).attr("id",t.domId??t.id),{cssStyles:i}=t,o=Math.max(35,t?.width??0),l=Math.max(35,t?.height??0),u=7,d=[{x:o,y:0},{x:0,y:l+u/2},{x:o-2*u,y:l+u/2},{x:0,y:2*l},{x:o,y:l-u/2},{x:2*u,y:l-u/2}],h=Yt.svg(a),g=Qt(t,{});t.look!=="handDrawn"&&(g.roughness=0,g.fillStyle="solid");const f=Vr(d),b=h.path(f,g),x=a.insert(()=>b,":first-child");return i&&t.look!=="handDrawn"&&x.selectAll("path").attr("style",i),n&&t.look!=="handDrawn"&&x.selectAll("path").attr("style",n),x.attr("transform",`translate(-${o/2},${-l})`),Zt(t,x),t.intersect=function(E){return st.info("lightningBolt intersect",t,E),$t.polygon(t,d,E)},a}M(c9,"lightningBolt");var eEe=M((e,t,r,n,a,i,o)=>[`M${e},${t+i}`,`a${a},${i} 0,0,0 ${r},0`,`a${a},${i} 0,0,0 ${-r},0`,`l0,${n}`,`a${a},${i} 0,0,0 ${r},0`,`l0,${-n}`,`M${e},${t+i+o}`,`a${a},${i} 0,0,0 ${r},0`].join(" "),"createCylinderPathD"),tEe=M((e,t,r,n,a,i,o)=>[`M${e},${t+i}`,`M${e+r},${t+i}`,`a${a},${i} 0,0,0 ${-r},0`,`l0,${n}`,`a${a},${i} 0,0,0 ${r},0`,`l0,${-n}`,`M${e},${t+i+o}`,`a${a},${i} 0,0,0 ${r},0`].join(" "),"createOuterCylinderPathD"),rEe=M((e,t,r,n,a,i)=>[`M${e-r/2},${-n/2}`,`a${a},${i} 0,0,0 ${r},0`].join(" "),"createInnerCylinderPathD");async function u9(e,t){const{labelStyles:r,nodeStyles:n}=Xt(t);t.labelStyle=r;const{shapeSvg:a,bbox:i,label:o}=await yr(e,t,hr(t)),l=Math.max(i.width+(t.padding??0),t.width??0),u=l/2,d=u/(2.5+l/50),h=Math.max(i.height+d+(t.padding??0),t.height??0),g=h*.1;let f;const{cssStyles:b}=t;if(t.look==="handDrawn"){const x=Yt.svg(a),E=tEe(0,0,l,h,u,d,g),v=rEe(0,d,l,h,u,d),T=Qt(t,{}),w=x.path(E,T),N=x.path(v,T);a.insert(()=>N,":first-child").attr("class","line"),f=a.insert(()=>w,":first-child"),f.attr("class","basic label-container"),b&&f.attr("style",b)}else{const x=eEe(0,0,l,h,u,d,g);f=a.insert("path",":first-child").attr("d",x).attr("class","basic label-container").attr("style",gs(b)).attr("style",n)}return f.attr("label-offset-y",d),f.attr("transform",`translate(${-l/2}, ${-(h/2+d)})`),Zt(t,f),o.attr("transform",`translate(${-(i.width/2)-(i.x-(i.left??0))}, ${-(i.height/2)+d-(i.y-(i.top??0))})`),t.intersect=function(x){const E=$t.rect(t,x),v=E.x-(t.x??0);if(u!=0&&(Math.abs(v)<(t.width??0)/2||Math.abs(v)==(t.width??0)/2&&Math.abs(E.y-(t.y??0))>(t.height??0)/2-d)){let T=d*d*(1-v*v/(u*u));T>0&&(T=Math.sqrt(T)),T=d-T,x.y-(t.y??0)>0&&(T=-T),E.y+=T}return E},a}M(u9,"linedCylinder");async function d9(e,t){const{labelStyles:r,nodeStyles:n}=Xt(t);t.labelStyle=r;const{shapeSvg:a,bbox:i,label:o}=await yr(e,t,hr(t)),l=Math.max(i.width+(t.padding??0)*2,t?.width??0),u=Math.max(i.height+(t.padding??0)*2,t?.height??0),d=u/4,h=u+d,{cssStyles:g}=t,f=Yt.svg(a),b=Qt(t,{});t.look!=="handDrawn"&&(b.roughness=0,b.fillStyle="solid");const x=[{x:-l/2-l/2*.1,y:-h/2},{x:-l/2-l/2*.1,y:h/2},...yc(-l/2-l/2*.1,h/2,l/2+l/2*.1,h/2,d,.8),{x:l/2+l/2*.1,y:-h/2},{x:-l/2-l/2*.1,y:-h/2},{x:-l/2,y:-h/2},{x:-l/2,y:h/2*1.1},{x:-l/2,y:-h/2}],E=f.polygon(x.map(T=>[T.x,T.y]),b),v=a.insert(()=>E,":first-child");return v.attr("class","basic label-container"),g&&t.look!=="handDrawn"&&v.selectAll("path").attr("style",g),n&&t.look!=="handDrawn"&&v.selectAll("path").attr("style",n),v.attr("transform",`translate(0,${-d/2})`),o.attr("transform",`translate(${-l/2+(t.padding??0)+l/2*.1/2-(i.x-(i.left??0))},${-u/2+(t.padding??0)-d/2-(i.y-(i.top??0))})`),Zt(t,v),t.intersect=function(T){return $t.polygon(t,x,T)},a}M(d9,"linedWaveEdgedRect");async function p9(e,t){const{labelStyles:r,nodeStyles:n}=Xt(t);t.labelStyle=r;const{shapeSvg:a,bbox:i,label:o}=await yr(e,t,hr(t)),l=Math.max(i.width+(t.padding??0)*2,t?.width??0),u=Math.max(i.height+(t.padding??0)*2,t?.height??0),d=5,h=-l/2,g=-u/2,{cssStyles:f}=t,b=Yt.svg(a),x=Qt(t,{}),E=[{x:h-d,y:g+d},{x:h-d,y:g+u+d},{x:h+l-d,y:g+u+d},{x:h+l-d,y:g+u},{x:h+l,y:g+u},{x:h+l,y:g+u-d},{x:h+l+d,y:g+u-d},{x:h+l+d,y:g-d},{x:h+d,y:g-d},{x:h+d,y:g},{x:h,y:g},{x:h,y:g+d}],v=[{x:h,y:g+d},{x:h+l-d,y:g+d},{x:h+l-d,y:g+u},{x:h+l,y:g+u},{x:h+l,y:g},{x:h,y:g}];t.look!=="handDrawn"&&(x.roughness=0,x.fillStyle="solid");const T=Vr(E),w=b.path(T,x),N=Vr(v),R=b.path(N,{...x,fill:"none"}),D=a.insert(()=>R,":first-child");return D.insert(()=>w,":first-child"),D.attr("class","basic label-container"),f&&t.look!=="handDrawn"&&D.selectAll("path").attr("style",f),n&&t.look!=="handDrawn"&&D.selectAll("path").attr("style",n),o.attr("transform",`translate(${-(i.width/2)-d-(i.x-(i.left??0))}, ${-(i.height/2)+d-(i.y-(i.top??0))})`),Zt(t,D),t.intersect=function(L){return $t.polygon(t,E,L)},a}M(p9,"multiRect");async function h9(e,t){const{labelStyles:r,nodeStyles:n}=Xt(t);t.labelStyle=r;const{shapeSvg:a,bbox:i,label:o}=await yr(e,t,hr(t)),l=Math.max(i.width+(t.padding??0)*2,t?.width??0),u=Math.max(i.height+(t.padding??0)*2,t?.height??0),d=u/4,h=u+d,g=-l/2,f=-h/2,b=5,{cssStyles:x}=t,E=yc(g-b,f+h+b,g+l-b,f+h+b,d,.8),v=E?.[E.length-1],T=[{x:g-b,y:f+b},{x:g-b,y:f+h+b},...E,{x:g+l-b,y:v.y-b},{x:g+l,y:v.y-b},{x:g+l,y:v.y-2*b},{x:g+l+b,y:v.y-2*b},{x:g+l+b,y:f-b},{x:g+b,y:f-b},{x:g+b,y:f},{x:g,y:f},{x:g,y:f+b}],w=[{x:g,y:f+b},{x:g+l-b,y:f+b},{x:g+l-b,y:v.y-b},{x:g+l,y:v.y-b},{x:g+l,y:f},{x:g,y:f}],N=Yt.svg(a),R=Qt(t,{});t.look!=="handDrawn"&&(R.roughness=0,R.fillStyle="solid");const D=Vr(T),L=N.path(D,R),j=Vr(w),B=N.path(j,R),q=a.insert(()=>L,":first-child");return q.insert(()=>B),q.attr("class","basic label-container"),x&&t.look!=="handDrawn"&&q.selectAll("path").attr("style",x),n&&t.look!=="handDrawn"&&q.selectAll("path").attr("style",n),q.attr("transform",`translate(0,${-d/2})`),o.attr("transform",`translate(${-(i.width/2)-b-(i.x-(i.left??0))}, ${-(i.height/2)+b-d/2-(i.y-(i.top??0))})`),Zt(t,q),t.intersect=function(z){return $t.polygon(t,T,z)},a}M(h9,"multiWaveEdgedRectangle");async function g9(e,t,{config:{themeVariables:r}}){const{labelStyles:n,nodeStyles:a}=Xt(t);t.labelStyle=n,t.useHtmlLabels||ps().flowchart?.htmlLabels!==!1||(t.centerLabel=!0);const{shapeSvg:o,bbox:l,label:u}=await yr(e,t,hr(t)),d=Math.max(l.width+(t.padding??0)*2,t?.width??0),h=Math.max(l.height+(t.padding??0)*2,t?.height??0),g=-d/2,f=-h/2,{cssStyles:b}=t,x=Yt.svg(o),E=Qt(t,{fill:r.noteBkgColor,stroke:r.noteBorderColor});t.look!=="handDrawn"&&(E.roughness=0,E.fillStyle="solid");const v=x.rectangle(g,f,d,h,E),T=o.insert(()=>v,":first-child");return T.attr("class","basic label-container"),b&&t.look!=="handDrawn"&&T.selectAll("path").attr("style",b),a&&t.look!=="handDrawn"&&T.selectAll("path").attr("style",a),u.attr("transform",`translate(${-l.width/2-(l.x-(l.left??0))}, ${-(l.height/2)-(l.y-(l.top??0))})`),Zt(t,T),t.intersect=function(w){return $t.rect(t,w)},o}M(g9,"note");var nEe=M((e,t,r)=>[`M${e+r/2},${t}`,`L${e+r},${t-r/2}`,`L${e+r/2},${t-r}`,`L${e},${t-r/2}`,"Z"].join(" "),"createDecisionBoxPathD");async function m9(e,t){const{labelStyles:r,nodeStyles:n}=Xt(t);t.labelStyle=r;const{shapeSvg:a,bbox:i}=await yr(e,t,hr(t)),o=i.width+t.padding,l=i.height+t.padding,u=o+l,d=.5,h=[{x:u/2,y:0},{x:u,y:-u/2},{x:u/2,y:-u},{x:0,y:-u/2}];let g;const{cssStyles:f}=t;if(t.look==="handDrawn"){const b=Yt.svg(a),x=Qt(t,{}),E=nEe(0,0,u),v=b.path(E,x);g=a.insert(()=>v,":first-child").attr("transform",`translate(${-u/2+d}, ${u/2})`),f&&g.attr("style",f)}else g=kc(a,u,u,h),g.attr("transform",`translate(${-u/2+d}, ${u/2})`);return n&&g.attr("style",n),Zt(t,g),t.calcIntersect=function(b,x){const E=b.width,v=[{x:E/2,y:0},{x:E,y:-E/2},{x:E/2,y:-E},{x:0,y:-E/2}],T=$t.polygon(b,v,x);return{x:T.x-.5,y:T.y-.5}},t.intersect=function(b){return this.calcIntersect(t,b)},a}M(m9,"question");async function f9(e,t){const{labelStyles:r,nodeStyles:n}=Xt(t);t.labelStyle=r;const{shapeSvg:a,bbox:i,label:o}=await yr(e,t,hr(t)),l=Math.max(i.width+(t.padding??0),t?.width??0),u=Math.max(i.height+(t.padding??0),t?.height??0),d=-l/2,h=-u/2,g=h/2,f=[{x:d+g,y:h},{x:d,y:0},{x:d+g,y:-h},{x:-d,y:-h},{x:-d,y:h}],{cssStyles:b}=t,x=Yt.svg(a),E=Qt(t,{});t.look!=="handDrawn"&&(E.roughness=0,E.fillStyle="solid");const v=Vr(f),T=x.path(v,E),w=a.insert(()=>T,":first-child");return w.attr("class","basic label-container"),b&&t.look!=="handDrawn"&&w.selectAll("path").attr("style",b),n&&t.look!=="handDrawn"&&w.selectAll("path").attr("style",n),w.attr("transform",`translate(${-g/2},0)`),o.attr("transform",`translate(${-g/2-i.width/2-(i.x-(i.left??0))}, ${-(i.height/2)-(i.y-(i.top??0))})`),Zt(t,w),t.intersect=function(N){return $t.polygon(t,f,N)},a}M(f9,"rect_left_inv_arrow");async function b9(e,t){const{labelStyles:r,nodeStyles:n}=Xt(t);t.labelStyle=r;let a;t.cssClasses?a="node "+t.cssClasses:a="node default";const i=e.insert("g").attr("class",a).attr("id",t.domId||t.id),o=i.insert("g"),l=i.insert("g").attr("class","label").attr("style",n),u=t.description,d=t.label,h=l.node().appendChild(await iu(d,t.labelStyle,!0,!0));let g={width:0,height:0};if(ja(Sn()?.flowchart?.htmlLabels)){const B=h.children[0],q=sn(h);g=B.getBoundingClientRect(),q.attr("width",g.width),q.attr("height",g.height)}st.info("Text 2",u);const f=u||[],b=h.getBBox(),x=l.node().appendChild(await iu(f.join?f.join("<br/>"):f,t.labelStyle,!0,!0)),E=x.children[0],v=sn(x);g=E.getBoundingClientRect(),v.attr("width",g.width),v.attr("height",g.height);const T=(t.padding||0)/2;sn(x).attr("transform","translate( "+(g.width>b.width?0:(b.width-g.width)/2)+", "+(b.height+T+5)+")"),sn(h).attr("transform","translate( "+(g.width<b.width?0:-(b.width-g.width)/2)+", 0)"),g=l.node().getBBox(),l.attr("transform","translate("+-g.width/2+", "+(-g.height/2-T+3)+")");const w=g.width+(t.padding||0),N=g.height+(t.padding||0),R=-g.width/2-T,D=-g.height/2-T;let L,j;if(t.look==="handDrawn"){const B=Yt.svg(i),q=Qt(t,{}),z=B.path(wc(R,D,w,N,t.rx||0),q),K=B.line(-g.width/2-T,-g.height/2-T+b.height+T,g.width/2+T,-g.height/2-T+b.height+T,q);j=i.insert(()=>(st.debug("Rough node insert CXC",z),K),":first-child"),L=i.insert(()=>(st.debug("Rough node insert CXC",z),z),":first-child")}else L=o.insert("rect",":first-child"),j=o.insert("line"),L.attr("class","outer title-state").attr("style",n).attr("x",-g.width/2-T).attr("y",-g.height/2-T).attr("width",g.width+(t.padding||0)).attr("height",g.height+(t.padding||0)),j.attr("class","divider").attr("x1",-g.width/2-T).attr("x2",g.width/2+T).attr("y1",-g.height/2-T+b.height+T).attr("y2",-g.height/2-T+b.height+T);return Zt(t,L),t.intersect=function(B){return $t.rect(t,B)},i}M(b9,"rectWithTitle");function xg(e,t,r,n,a,i,o){const u=(e+r)/2,d=(t+n)/2,h=Math.atan2(n-t,r-e),g=(r-e)/2,f=(n-t)/2,b=g/a,x=f/i,E=Math.sqrt(b**2+x**2);if(E>1)throw new Error("The given radii are too small to create an arc between the points.");const v=Math.sqrt(1-E**2),T=u+v*i*Math.sin(h)*(o?-1:1),w=d-v*a*Math.cos(h)*(o?-1:1),N=Math.atan2((t-w)/i,(e-T)/a);let D=Math.atan2((n-w)/i,(r-T)/a)-N;o&&D<0&&(D+=2*Math.PI),!o&&D>0&&(D-=2*Math.PI);const L=[];for(let j=0;j<20;j++){const B=j/19,q=N+B*D,z=T+a*Math.cos(q),K=w+i*Math.sin(q);L.push({x:z,y:K})}return L}M(xg,"generateArcPoints");async function y9(e,t){const{labelStyles:r,nodeStyles:n}=Xt(t);t.labelStyle=r;const{shapeSvg:a,bbox:i}=await yr(e,t,hr(t)),o=t?.padding??0,l=t?.padding??0,u=(t?.width?t?.width:i.width)+o*2,d=(t?.height?t?.height:i.height)+l*2,h=t.radius||5,g=t.taper||5,{cssStyles:f}=t,b=Yt.svg(a),x=Qt(t,{});t.stroke&&(x.stroke=t.stroke),t.look!=="handDrawn"&&(x.roughness=0,x.fillStyle="solid");const E=[{x:-u/2+g,y:-d/2},{x:u/2-g,y:-d/2},...xg(u/2-g,-d/2,u/2,-d/2+g,h,h,!0),{x:u/2,y:-d/2+g},{x:u/2,y:d/2-g},...xg(u/2,d/2-g,u/2-g,d/2,h,h,!0),{x:u/2-g,y:d/2},{x:-u/2+g,y:d/2},...xg(-u/2+g,d/2,-u/2,d/2-g,h,h,!0),{x:-u/2,y:d/2-g},{x:-u/2,y:-d/2+g},...xg(-u/2,-d/2+g,-u/2+g,-d/2,h,h,!0)],v=Vr(E),T=b.path(v,x),w=a.insert(()=>T,":first-child");return w.attr("class","basic label-container outer-path"),f&&t.look!=="handDrawn"&&w.selectChildren("path").attr("style",f),n&&t.look!=="handDrawn"&&w.selectChildren("path").attr("style",n),Zt(t,w),t.intersect=function(N){return $t.polygon(t,E,N)},a}M(y9,"roundedRect");async function x9(e,t){const{labelStyles:r,nodeStyles:n}=Xt(t);t.labelStyle=r;const{shapeSvg:a,bbox:i,label:o}=await yr(e,t,hr(t)),l=t?.padding??0,u=Math.max(i.width+(t.padding??0)*2,t?.width??0),d=Math.max(i.height+(t.padding??0)*2,t?.height??0),h=-i.width/2-l,g=-i.height/2-l,{cssStyles:f}=t,b=Yt.svg(a),x=Qt(t,{});t.look!=="handDrawn"&&(x.roughness=0,x.fillStyle="solid");const E=[{x:h,y:g},{x:h+u+8,y:g},{x:h+u+8,y:g+d},{x:h-8,y:g+d},{x:h-8,y:g},{x:h,y:g},{x:h,y:g+d}],v=b.polygon(E.map(w=>[w.x,w.y]),x),T=a.insert(()=>v,":first-child");return T.attr("class","basic label-container").attr("style",gs(f)),n&&t.look!=="handDrawn"&&T.selectAll("path").attr("style",n),f&&t.look!=="handDrawn"&&T.selectAll("path").attr("style",n),o.attr("transform",`translate(${-u/2+4+(t.padding??0)-(i.x-(i.left??0))},${-d/2+(t.padding??0)-(i.y-(i.top??0))})`),Zt(t,T),t.intersect=function(w){return $t.rect(t,w)},a}M(x9,"shadedProcess");async function E9(e,t){const{labelStyles:r,nodeStyles:n}=Xt(t);t.labelStyle=r;const{shapeSvg:a,bbox:i,label:o}=await yr(e,t,hr(t)),l=Math.max(i.width+(t.padding??0)*2,t?.width??0),u=Math.max(i.height+(t.padding??0)*2,t?.height??0),d=-l/2,h=-u/2,{cssStyles:g}=t,f=Yt.svg(a),b=Qt(t,{});t.look!=="handDrawn"&&(b.roughness=0,b.fillStyle="solid");const x=[{x:d,y:h},{x:d,y:h+u},{x:d+l,y:h+u},{x:d+l,y:h-u/2}],E=Vr(x),v=f.path(E,b),T=a.insert(()=>v,":first-child");return T.attr("class","basic label-container"),g&&t.look!=="handDrawn"&&T.selectChildren("path").attr("style",g),n&&t.look!=="handDrawn"&&T.selectChildren("path").attr("style",n),T.attr("transform",`translate(0, ${u/4})`),o.attr("transform",`translate(${-l/2+(t.padding??0)-(i.x-(i.left??0))}, ${-u/4+(t.padding??0)-(i.y-(i.top??0))})`),Zt(t,T),t.intersect=function(w){return $t.polygon(t,x,w)},a}M(E9,"slopedRect");async function v9(e,t){const r={rx:0,ry:0,labelPaddingX:t.labelPaddingX??(t?.padding||0)*2,labelPaddingY:(t?.padding||0)*1};return hx(e,t,r)}M(v9,"squareRect");async function S9(e,t){const{labelStyles:r,nodeStyles:n}=Xt(t);t.labelStyle=r;const{shapeSvg:a,bbox:i}=await yr(e,t,hr(t)),o=i.height+t.padding,l=i.width+o/4+t.padding,u=o/2,{cssStyles:d}=t,h=Yt.svg(a),g=Qt(t,{});t.look!=="handDrawn"&&(g.roughness=0,g.fillStyle="solid");const f=[{x:-l/2+u,y:-o/2},{x:l/2-u,y:-o/2},...bm(-l/2+u,0,u,50,90,270),{x:l/2-u,y:o/2},...bm(l/2-u,0,u,50,270,450)],b=Vr(f),x=h.path(b,g),E=a.insert(()=>x,":first-child");return E.attr("class","basic label-container outer-path"),d&&t.look!=="handDrawn"&&E.selectChildren("path").attr("style",d),n&&t.look!=="handDrawn"&&E.selectChildren("path").attr("style",n),Zt(t,E),t.intersect=function(v){return $t.polygon(t,f,v)},a}M(S9,"stadium");async function T9(e,t){return hx(e,t,{rx:5,ry:5})}M(T9,"state");function w9(e,t,{config:{themeVariables:r}}){const{labelStyles:n,nodeStyles:a}=Xt(t);t.labelStyle=n;const{cssStyles:i}=t,{lineColor:o,stateBorder:l,nodeBorder:u}=r,d=e.insert("g").attr("class","node default").attr("id",t.domId||t.id),h=Yt.svg(d),g=Qt(t,{});t.look!=="handDrawn"&&(g.roughness=0,g.fillStyle="solid");const f=h.circle(0,0,14,{...g,stroke:o,strokeWidth:2}),b=l??u,x=h.circle(0,0,5,{...g,fill:b,stroke:b,strokeWidth:2,fillStyle:"solid"}),E=d.insert(()=>f,":first-child");return E.insert(()=>x),i&&E.selectAll("path").attr("style",i),a&&E.selectAll("path").attr("style",a),Zt(t,E),t.intersect=function(v){return $t.circle(t,7,v)},d}M(w9,"stateEnd");function k9(e,t,{config:{themeVariables:r}}){const{lineColor:n}=r,a=e.insert("g").attr("class","node default").attr("id",t.domId||t.id);let i;if(t.look==="handDrawn"){const l=Yt.svg(a).circle(0,0,14,yfe(n));i=a.insert(()=>l),i.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14)}else i=a.insert("circle",":first-child"),i.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14);return Zt(t,i),t.intersect=function(o){return $t.circle(t,7,o)},a}M(k9,"stateStart");async function C9(e,t){const{labelStyles:r,nodeStyles:n}=Xt(t);t.labelStyle=r;const{shapeSvg:a,bbox:i}=await yr(e,t,hr(t)),o=(t?.padding||0)/2,l=i.width+t.padding,u=i.height+t.padding,d=-i.width/2-o,h=-i.height/2-o,g=[{x:0,y:0},{x:l,y:0},{x:l,y:-u},{x:0,y:-u},{x:0,y:0},{x:-8,y:0},{x:l+8,y:0},{x:l+8,y:-u},{x:-8,y:-u},{x:-8,y:0}];if(t.look==="handDrawn"){const f=Yt.svg(a),b=Qt(t,{}),x=f.rectangle(d-8,h,l+16,u,b),E=f.line(d,h,d,h+u,b),v=f.line(d+l,h,d+l,h+u,b);a.insert(()=>E,":first-child"),a.insert(()=>v,":first-child");const T=a.insert(()=>x,":first-child"),{cssStyles:w}=t;T.attr("class","basic label-container").attr("style",gs(w)),Zt(t,T)}else{const f=kc(a,l,u,g);n&&f.attr("style",n),Zt(t,f)}return t.intersect=function(f){return $t.polygon(t,g,f)},a}M(C9,"subroutine");async function _9(e,t){const{labelStyles:r,nodeStyles:n}=Xt(t);t.labelStyle=r;const{shapeSvg:a,bbox:i}=await yr(e,t,hr(t)),o=Math.max(i.width+(t.padding??0)*2,t?.width??0),l=Math.max(i.height+(t.padding??0)*2,t?.height??0),u=-o/2,d=-l/2,h=.2*l,g=.2*l,{cssStyles:f}=t,b=Yt.svg(a),x=Qt(t,{}),E=[{x:u-h/2,y:d},{x:u+o+h/2,y:d},{x:u+o+h/2,y:d+l},{x:u-h/2,y:d+l}],v=[{x:u+o-h/2,y:d+l},{x:u+o+h/2,y:d+l},{x:u+o+h/2,y:d+l-g}];t.look!=="handDrawn"&&(x.roughness=0,x.fillStyle="solid");const T=Vr(E),w=b.path(T,x),N=Vr(v),R=b.path(N,{...x,fillStyle:"solid"}),D=a.insert(()=>R,":first-child");return D.insert(()=>w,":first-child"),D.attr("class","basic label-container"),f&&t.look!=="handDrawn"&&D.selectAll("path").attr("style",f),n&&t.look!=="handDrawn"&&D.selectAll("path").attr("style",n),Zt(t,D),t.intersect=function(L){return $t.polygon(t,E,L)},a}M(_9,"taggedRect");async function A9(e,t){const{labelStyles:r,nodeStyles:n}=Xt(t);t.labelStyle=r;const{shapeSvg:a,bbox:i,label:o}=await yr(e,t,hr(t)),l=Math.max(i.width+(t.padding??0)*2,t?.width??0),u=Math.max(i.height+(t.padding??0)*2,t?.height??0),d=u/4,h=.2*l,g=.2*u,f=u+d,{cssStyles:b}=t,x=Yt.svg(a),E=Qt(t,{});t.look!=="handDrawn"&&(E.roughness=0,E.fillStyle="solid");const v=[{x:-l/2-l/2*.1,y:f/2},...yc(-l/2-l/2*.1,f/2,l/2+l/2*.1,f/2,d,.8),{x:l/2+l/2*.1,y:-f/2},{x:-l/2-l/2*.1,y:-f/2}],T=-l/2+l/2*.1,w=-f/2-g*.4,N=[{x:T+l-h,y:(w+u)*1.4},{x:T+l,y:w+u-g},{x:T+l,y:(w+u)*.9},...yc(T+l,(w+u)*1.3,T+l-h,(w+u)*1.5,-u*.03,.5)],R=Vr(v),D=x.path(R,E),L=Vr(N),j=x.path(L,{...E,fillStyle:"solid"}),B=a.insert(()=>j,":first-child");return B.insert(()=>D,":first-child"),B.attr("class","basic label-container"),b&&t.look!=="handDrawn"&&B.selectAll("path").attr("style",b),n&&t.look!=="handDrawn"&&B.selectAll("path").attr("style",n),B.attr("transform",`translate(0,${-d/2})`),o.attr("transform",`translate(${-l/2+(t.padding??0)-(i.x-(i.left??0))},${-u/2+(t.padding??0)-d/2-(i.y-(i.top??0))})`),Zt(t,B),t.intersect=function(q){return $t.polygon(t,v,q)},a}M(A9,"taggedWaveEdgedRectangle");async function N9(e,t){const{labelStyles:r,nodeStyles:n}=Xt(t);t.labelStyle=r;const{shapeSvg:a,bbox:i}=await yr(e,t,hr(t)),o=Math.max(i.width+t.padding,t?.width||0),l=Math.max(i.height+t.padding,t?.height||0),u=-o/2,d=-l/2,h=a.insert("rect",":first-child");return h.attr("class","text").attr("style",n).attr("rx",0).attr("ry",0).attr("x",u).attr("y",d).attr("width",o).attr("height",l),Zt(t,h),t.intersect=function(g){return $t.rect(t,g)},a}M(N9,"text");var aEe=M((e,t,r,n,a,i)=>`M${e},${t}
    a${a},${i} 0,0,1 0,${-n}
    l${r},0
    a${a},${i} 0,0,1 0,${n}
    M${r},${-n}
    a${a},${i} 0,0,0 0,${n}
    l${-r},0`,"createCylinderPathD"),sEe=M((e,t,r,n,a,i)=>[`M${e},${t}`,`M${e+r},${t}`,`a${a},${i} 0,0,0 0,${-n}`,`l${-r},0`,`a${a},${i} 0,0,0 0,${n}`,`l${r},0`].join(" "),"createOuterCylinderPathD"),iEe=M((e,t,r,n,a,i)=>[`M${e+r/2},${-n/2}`,`a${a},${i} 0,0,0 0,${n}`].join(" "),"createInnerCylinderPathD");async function I9(e,t){const{labelStyles:r,nodeStyles:n}=Xt(t);t.labelStyle=r;const{shapeSvg:a,bbox:i,label:o,halfPadding:l}=await yr(e,t,hr(t)),u=t.look==="neo"?l*2:l,d=i.height+u,h=d/2,g=h/(2.5+d/50),f=i.width+g+u,{cssStyles:b}=t;let x;if(t.look==="handDrawn"){const E=Yt.svg(a),v=sEe(0,0,f,d,g,h),T=iEe(0,0,f,d,g,h),w=E.path(v,Qt(t,{})),N=E.path(T,Qt(t,{fill:"none"}));x=a.insert(()=>N,":first-child"),x=a.insert(()=>w,":first-child"),x.attr("class","basic label-container"),b&&x.attr("style",b)}else{const E=aEe(0,0,f,d,g,h);x=a.insert("path",":first-child").attr("d",E).attr("class","basic label-container").attr("style",gs(b)).attr("style",n),x.attr("class","basic label-container"),b&&x.selectAll("path").attr("style",b),n&&x.selectAll("path").attr("style",n)}return x.attr("label-offset-x",g),x.attr("transform",`translate(${-f/2}, ${d/2} )`),o.attr("transform",`translate(${-(i.width/2)-g-(i.x-(i.left??0))}, ${-(i.height/2)-(i.y-(i.top??0))})`),Zt(t,x),t.intersect=function(E){const v=$t.rect(t,E),T=v.y-(t.y??0);if(h!=0&&(Math.abs(T)<(t.height??0)/2||Math.abs(T)==(t.height??0)/2&&Math.abs(v.x-(t.x??0))>(t.width??0)/2-g)){let w=g*g*(1-T*T/(h*h));w!=0&&(w=Math.sqrt(Math.abs(w))),w=g-w,E.x-(t.x??0)>0&&(w=-w),v.x+=w}return v},a}M(I9,"tiltedCylinder");async function R9(e,t){const{labelStyles:r,nodeStyles:n}=Xt(t);t.labelStyle=r;const{shapeSvg:a,bbox:i}=await yr(e,t,hr(t)),o=i.width+t.padding,l=i.height+t.padding,u=[{x:-3*l/6,y:0},{x:o+3*l/6,y:0},{x:o,y:-l},{x:0,y:-l}];let d;const{cssStyles:h}=t;if(t.look==="handDrawn"){const g=Yt.svg(a),f=Qt(t,{}),b=Vr(u),x=g.path(b,f);d=a.insert(()=>x,":first-child").attr("transform",`translate(${-o/2}, ${l/2})`),h&&d.attr("style",h)}else d=kc(a,o,l,u);return n&&d.attr("style",n),t.width=o,t.height=l,Zt(t,d),t.intersect=function(g){return $t.polygon(t,u,g)},a}M(R9,"trapezoid");async function D9(e,t){const{labelStyles:r,nodeStyles:n}=Xt(t);t.labelStyle=r;const{shapeSvg:a,bbox:i}=await yr(e,t,hr(t)),o=60,l=20,u=Math.max(o,i.width+(t.padding??0)*2,t?.width??0),d=Math.max(l,i.height+(t.padding??0)*2,t?.height??0),{cssStyles:h}=t,g=Yt.svg(a),f=Qt(t,{});t.look!=="handDrawn"&&(f.roughness=0,f.fillStyle="solid");const b=[{x:-u/2*.8,y:-d/2},{x:u/2*.8,y:-d/2},{x:u/2,y:-d/2*.6},{x:u/2,y:d/2},{x:-u/2,y:d/2},{x:-u/2,y:-d/2*.6}],x=Vr(b),E=g.path(x,f),v=a.insert(()=>E,":first-child");return v.attr("class","basic label-container"),h&&t.look!=="handDrawn"&&v.selectChildren("path").attr("style",h),n&&t.look!=="handDrawn"&&v.selectChildren("path").attr("style",n),Zt(t,v),t.intersect=function(T){return $t.polygon(t,b,T)},a}M(D9,"trapezoidalPentagon");async function L9(e,t){const{labelStyles:r,nodeStyles:n}=Xt(t);t.labelStyle=r;const{shapeSvg:a,bbox:i,label:o}=await yr(e,t,hr(t)),l=ja(Sn().flowchart?.htmlLabels),u=i.width+(t.padding??0),d=u+i.height,h=u+i.height,g=[{x:0,y:0},{x:h,y:0},{x:h/2,y:-d}],{cssStyles:f}=t,b=Yt.svg(a),x=Qt(t,{});t.look!=="handDrawn"&&(x.roughness=0,x.fillStyle="solid");const E=Vr(g),v=b.path(E,x),T=a.insert(()=>v,":first-child").attr("transform",`translate(${-d/2}, ${d/2})`);return f&&t.look!=="handDrawn"&&T.selectChildren("path").attr("style",f),n&&t.look!=="handDrawn"&&T.selectChildren("path").attr("style",n),t.width=u,t.height=d,Zt(t,T),o.attr("transform",`translate(${-i.width/2-(i.x-(i.left??0))}, ${d/2-(i.height+(t.padding??0)/(l?2:1)-(i.y-(i.top??0)))})`),t.intersect=function(w){return st.info("Triangle intersect",t,g,w),$t.polygon(t,g,w)},a}M(L9,"triangle");async function O9(e,t){const{labelStyles:r,nodeStyles:n}=Xt(t);t.labelStyle=r;const{shapeSvg:a,bbox:i,label:o}=await yr(e,t,hr(t)),l=Math.max(i.width+(t.padding??0)*2,t?.width??0),u=Math.max(i.height+(t.padding??0)*2,t?.height??0),d=u/8,h=u+d,{cssStyles:g}=t,b=70-l,x=b>0?b/2:0,E=Yt.svg(a),v=Qt(t,{});t.look!=="handDrawn"&&(v.roughness=0,v.fillStyle="solid");const T=[{x:-l/2-x,y:h/2},...yc(-l/2-x,h/2,l/2+x,h/2,d,.8),{x:l/2+x,y:-h/2},{x:-l/2-x,y:-h/2}],w=Vr(T),N=E.path(w,v),R=a.insert(()=>N,":first-child");return R.attr("class","basic label-container"),g&&t.look!=="handDrawn"&&R.selectAll("path").attr("style",g),n&&t.look!=="handDrawn"&&R.selectAll("path").attr("style",n),R.attr("transform",`translate(0,${-d/2})`),o.attr("transform",`translate(${-l/2+(t.padding??0)-(i.x-(i.left??0))},${-u/2+(t.padding??0)-d-(i.y-(i.top??0))})`),Zt(t,R),t.intersect=function(D){return $t.polygon(t,T,D)},a}M(O9,"waveEdgedRectangle");async function M9(e,t){const{labelStyles:r,nodeStyles:n}=Xt(t);t.labelStyle=r;const{shapeSvg:a,bbox:i}=await yr(e,t,hr(t)),o=100,l=50,u=Math.max(i.width+(t.padding??0)*2,t?.width??0),d=Math.max(i.height+(t.padding??0)*2,t?.height??0),h=u/d;let g=u,f=d;g>f*h?f=g/h:g=f*h,g=Math.max(g,o),f=Math.max(f,l);const b=Math.min(f*.2,f/4),x=f+b*2,{cssStyles:E}=t,v=Yt.svg(a),T=Qt(t,{});t.look!=="handDrawn"&&(T.roughness=0,T.fillStyle="solid");const w=[{x:-g/2,y:x/2},...yc(-g/2,x/2,g/2,x/2,b,1),{x:g/2,y:-x/2},...yc(g/2,-x/2,-g/2,-x/2,b,-1)],N=Vr(w),R=v.path(N,T),D=a.insert(()=>R,":first-child");return D.attr("class","basic label-container"),E&&t.look!=="handDrawn"&&D.selectAll("path").attr("style",E),n&&t.look!=="handDrawn"&&D.selectAll("path").attr("style",n),Zt(t,D),t.intersect=function(L){return $t.polygon(t,w,L)},a}M(M9,"waveRectangle");async function P9(e,t){const{labelStyles:r,nodeStyles:n}=Xt(t);t.labelStyle=r;const{shapeSvg:a,bbox:i,label:o}=await yr(e,t,hr(t)),l=Math.max(i.width+(t.padding??0)*2,t?.width??0),u=Math.max(i.height+(t.padding??0)*2,t?.height??0),d=5,h=-l/2,g=-u/2,{cssStyles:f}=t,b=Yt.svg(a),x=Qt(t,{}),E=[{x:h-d,y:g-d},{x:h-d,y:g+u},{x:h+l,y:g+u},{x:h+l,y:g-d}],v=`M${h-d},${g-d} L${h+l},${g-d} L${h+l},${g+u} L${h-d},${g+u} L${h-d},${g-d}
                M${h-d},${g} L${h+l},${g}
                M${h},${g-d} L${h},${g+u}`;t.look!=="handDrawn"&&(x.roughness=0,x.fillStyle="solid");const T=b.path(v,x),w=a.insert(()=>T,":first-child");return w.attr("transform",`translate(${d/2}, ${d/2})`),w.attr("class","basic label-container"),f&&t.look!=="handDrawn"&&w.selectAll("path").attr("style",f),n&&t.look!=="handDrawn"&&w.selectAll("path").attr("style",n),o.attr("transform",`translate(${-(i.width/2)+d/2-(i.x-(i.left??0))}, ${-(i.height/2)+d/2-(i.y-(i.top??0))})`),Zt(t,w),t.intersect=function(N){return $t.polygon(t,E,N)},a}M(P9,"windowPane");async function tC(e,t){const r=t;if(r.alias&&(t.label=r.alias),t.look==="handDrawn"){const{themeVariables:G}=ps(),{background:F}=G,ie={...t,id:t.id+"-background",look:"default",cssStyles:["stroke: none",`fill: ${F}`]};await tC(e,ie)}const n=ps();t.useHtmlLabels=n.htmlLabels;let a=n.er?.diagramPadding??10,i=n.er?.entityPadding??6;const{cssStyles:o}=t,{labelStyles:l,nodeStyles:u}=Xt(t);if(r.attributes.length===0&&t.label){const G={rx:0,ry:0,labelPaddingX:a,labelPaddingY:a*1.5};Cl(t.label,n)+G.labelPaddingX*2<n.er.minEntityWidth&&(t.width=n.er.minEntityWidth);const F=await hx(e,t,G);if(!ja(n.htmlLabels)){const ie=F.select("text"),he=ie.node()?.getBBox();ie.attr("transform",`translate(${-he.width/2}, 0)`)}return F}n.htmlLabels||(a*=1.25,i*=1.25);let d=hr(t);d||(d="node default");const h=e.insert("g").attr("class",d).attr("id",t.domId||t.id),g=await $d(h,t.label??"",n,0,0,["name"],l);g.height+=i;let f=0;const b=[],x=[];let E=0,v=0,T=0,w=0,N=!0,R=!0;for(const G of r.attributes){const F=await $d(h,G.type,n,0,f,["attribute-type"],l);E=Math.max(E,F.width+a);const ie=await $d(h,G.name,n,0,f,["attribute-name"],l);v=Math.max(v,ie.width+a);const he=await $d(h,G.keys.join(),n,0,f,["attribute-keys"],l);T=Math.max(T,he.width+a);const ye=await $d(h,G.comment,n,0,f,["attribute-comment"],l);w=Math.max(w,ye.width+a);const ge=Math.max(F.height,ie.height,he.height,ye.height)+i;x.push({yOffset:f,rowHeight:ge}),f+=ge}let D=4;T<=a&&(N=!1,T=0,D--),w<=a&&(R=!1,w=0,D--);const L=h.node().getBBox();if(g.width+a*2-(E+v+T+w)>0){const G=g.width+a*2-(E+v+T+w);E+=G/D,v+=G/D,T>0&&(T+=G/D),w>0&&(w+=G/D)}const j=E+v+T+w,B=Yt.svg(h),q=Qt(t,{});t.look!=="handDrawn"&&(q.roughness=0,q.fillStyle="solid");let z=0;x.length>0&&(z=x.reduce((G,F)=>G+(F?.rowHeight??0),0));const K=Math.max(L.width+a*2,t?.width||0,j),X=Math.max((z??0)+g.height,t?.height||0),Q=-K/2,O=-X/2;h.selectAll("g:not(:first-child)").each((G,F,ie)=>{const he=sn(ie[F]),ye=he.attr("transform");let ge=0,pe=0;if(ye){const Ee=RegExp(/translate\(([^,]+),([^)]+)\)/).exec(ye);Ee&&(ge=parseFloat(Ee[1]),pe=parseFloat(Ee[2]),he.attr("class").includes("attribute-name")?ge+=E:he.attr("class").includes("attribute-keys")?ge+=E+v:he.attr("class").includes("attribute-comment")&&(ge+=E+v+T))}he.attr("transform",`translate(${Q+a/2+ge}, ${pe+O+g.height+i/2})`)}),h.select(".name").attr("transform","translate("+-g.width/2+", "+(O+i/2)+")");const H=B.rectangle(Q,O,K,X,q),$=h.insert(()=>H,":first-child").attr("style",o.join("")),{themeVariables:Y}=ps(),{rowEven:V,rowOdd:ne,nodeBorder:P}=Y;b.push(0);for(const[G,F]of x.entries()){const he=(G+1)%2===0&&F.yOffset!==0,ye=B.rectangle(Q,g.height+O+F?.yOffset,K,F?.rowHeight,{...q,fill:he?V:ne,stroke:P});h.insert(()=>ye,"g.label").attr("style",o.join("")).attr("class",`row-rect-${he?"even":"odd"}`)}let I=B.line(Q,g.height+O,K+Q,g.height+O,q);h.insert(()=>I).attr("class","divider"),I=B.line(E+Q,g.height+O,E+Q,X+O,q),h.insert(()=>I).attr("class","divider"),N&&(I=B.line(E+v+Q,g.height+O,E+v+Q,X+O,q),h.insert(()=>I).attr("class","divider")),R&&(I=B.line(E+v+T+Q,g.height+O,E+v+T+Q,X+O,q),h.insert(()=>I).attr("class","divider"));for(const G of b)I=B.line(Q,g.height+O+G,K+Q,g.height+O+G,q),h.insert(()=>I).attr("class","divider");if(Zt(t,$),u&&t.look!=="handDrawn"){const F=u.split(";")?.filter(ie=>ie.includes("stroke"))?.map(ie=>`${ie}`).join("; ");h.selectAll("path").attr("style",F??""),h.selectAll(".row-rect-even path").attr("style",u)}return t.intersect=function(G){return $t.rect(t,G)},h}M(tC,"erBox");async function $d(e,t,r,n=0,a=0,i=[],o=""){const l=e.insert("g").attr("class",`label ${i.join(" ")}`).attr("transform",`translate(${n}, ${a})`).attr("style",o);t!==tM(t)&&(t=tM(t),t=t.replaceAll("<","&lt;").replaceAll(">","&gt;"));const u=l.node().appendChild(await Tc(l,t,{width:Cl(t,r)+100,style:o,useHtmlLabels:r.htmlLabels},r));if(t.includes("&lt;")||t.includes("&gt;")){let h=u.children[0];for(h.textContent=h.textContent.replaceAll("&lt;","<").replaceAll("&gt;",">");h.childNodes[0];)h=h.childNodes[0],h.textContent=h.textContent.replaceAll("&lt;","<").replaceAll("&gt;",">")}let d=u.getBBox();if(ja(r.htmlLabels)){const h=u.children[0];h.style.textAlign="start";const g=sn(u);d=h.getBoundingClientRect(),g.attr("width",d.width),g.attr("height",d.height)}return d}M($d,"addText");async function j9(e,t,r,n,a=r.class.padding??12){const i=n?0:3,o=e.insert("g").attr("class",hr(t)).attr("id",t.domId||t.id);let l=null,u=null,d=null,h=null,g=0,f=0,b=0;if(l=o.insert("g").attr("class","annotation-group text"),t.annotations.length>0){const w=t.annotations[0];await Eg(l,{text:`${w}`},0),g=l.node().getBBox().height}u=o.insert("g").attr("class","label-group text"),await Eg(u,t,0,["font-weight: bolder"]);const x=u.node().getBBox();f=x.height,d=o.insert("g").attr("class","members-group text");let E=0;for(const w of t.members){const N=await Eg(d,w,E,[w.parseClassifier()]);E+=N+i}b=d.node().getBBox().height,b<=0&&(b=a/2),h=o.insert("g").attr("class","methods-group text");let v=0;for(const w of t.methods){const N=await Eg(h,w,v,[w.parseClassifier()]);v+=N+i}let T=o.node().getBBox();if(l!==null){const w=l.node().getBBox();l.attr("transform",`translate(${-w.width/2})`)}return u.attr("transform",`translate(${-x.width/2}, ${g})`),T=o.node().getBBox(),d.attr("transform",`translate(0, ${g+f+a*2})`),T=o.node().getBBox(),h.attr("transform",`translate(0, ${g+f+(b?b+a*4:a*2)})`),T=o.node().getBBox(),{shapeSvg:o,bbox:T}}M(j9,"textHelper");async function Eg(e,t,r,n=[]){const a=e.insert("g").attr("class","label").attr("style",n.join("; ")),i=ps();let o="useHtmlLabels"in t?t.useHtmlLabels:ja(i.htmlLabels)??!0,l="";"text"in t?l=t.text:l=t.label,!o&&l.startsWith("\\")&&(l=l.substring(1)),mp(l)&&(o=!0);const u=await Tc(a,dk(Mu(l)),{width:Cl(l,i)+50,classes:"markdown-node-label",useHtmlLabels:o},i);let d,h=1;if(o){const g=u.children[0],f=sn(u);h=g.innerHTML.split("<br>").length,g.innerHTML.includes("</math>")&&(h+=g.innerHTML.split("<mrow>").length-1);const b=g.getElementsByTagName("img");if(b){const x=l.replace(/<img[^>]*>/g,"").trim()==="";await Promise.all([...b].map(E=>new Promise(v=>{function T(){if(E.style.display="flex",E.style.flexDirection="column",x){const w=i.fontSize?.toString()??window.getComputedStyle(document.body).fontSize,R=parseInt(w,10)*5+"px";E.style.minWidth=R,E.style.maxWidth=R}else E.style.width="100%";v(E)}M(T,"setupImage"),setTimeout(()=>{E.complete&&T()}),E.addEventListener("error",T),E.addEventListener("load",T)})))}d=g.getBoundingClientRect(),f.attr("width",d.width),f.attr("height",d.height)}else{n.includes("font-weight: bolder")&&sn(u).selectAll("tspan").attr("font-weight",""),h=u.children.length;const g=u.children[0];(u.textContent===""||u.textContent.includes("&gt"))&&(g.textContent=l[0]+l.substring(1).replaceAll("&gt;",">").replaceAll("&lt;","<").trim(),l[1]===" "&&(g.textContent=g.textContent[0]+" "+g.textContent.substring(1))),g.textContent==="undefined"&&(g.textContent=""),d=u.getBBox()}return a.attr("transform","translate(0,"+(-d.height/(2*h)+r)+")"),d.height}M(Eg,"addText");async function F9(e,t){const r=Sn(),n=r.class.padding??12,a=n,i=t.useHtmlLabels??ja(r.htmlLabels)??!0,o=t;o.annotations=o.annotations??[],o.members=o.members??[],o.methods=o.methods??[];const{shapeSvg:l,bbox:u}=await j9(e,t,r,i,a),{labelStyles:d,nodeStyles:h}=Xt(t);t.labelStyle=d,t.cssStyles=o.styles||"";const g=o.styles?.join(";")||h||"";t.cssStyles||(t.cssStyles=g.replaceAll("!important","").split(";"));const f=o.members.length===0&&o.methods.length===0&&!r.class?.hideEmptyMembersBox,b=Yt.svg(l),x=Qt(t,{});t.look!=="handDrawn"&&(x.roughness=0,x.fillStyle="solid");const E=u.width;let v=u.height;o.members.length===0&&o.methods.length===0?v+=a:o.members.length>0&&o.methods.length===0&&(v+=a*2);const T=-E/2,w=-v/2,N=b.rectangle(T-n,w-n-(f?n:o.members.length===0&&o.methods.length===0?-n/2:0),E+2*n,v+2*n+(f?n*2:o.members.length===0&&o.methods.length===0?-n:0),x),R=l.insert(()=>N,":first-child");R.attr("class","basic label-container");const D=R.node().getBBox();l.selectAll(".text").each((q,z,K)=>{const X=sn(K[z]),Q=X.attr("transform");let O=0;if(Q){const V=RegExp(/translate\(([^,]+),([^)]+)\)/).exec(Q);V&&(O=parseFloat(V[2]))}let H=O+w+n-(f?n:o.members.length===0&&o.methods.length===0?-n/2:0);i||(H-=4);let $=T;(X.attr("class").includes("label-group")||X.attr("class").includes("annotation-group"))&&($=-X.node()?.getBBox().width/2||0,l.selectAll("text").each(function(Y,V,ne){window.getComputedStyle(ne[V]).textAnchor==="middle"&&($=0)})),X.attr("transform",`translate(${$}, ${H})`)});const L=l.select(".annotation-group").node().getBBox().height-(f?n/2:0)||0,j=l.select(".label-group").node().getBBox().height-(f?n/2:0)||0,B=l.select(".members-group").node().getBBox().height-(f?n/2:0)||0;if(o.members.length>0||o.methods.length>0||f){const q=b.line(D.x,L+j+w+n,D.x+D.width,L+j+w+n,x);l.insert(()=>q).attr("class","divider").attr("style",g)}if(f||o.members.length>0||o.methods.length>0){const q=b.line(D.x,L+j+B+w+a*2+n,D.x+D.width,L+j+B+w+n+a*2,x);l.insert(()=>q).attr("class","divider").attr("style",g)}if(o.look!=="handDrawn"&&l.selectAll("path").attr("style",g),R.select(":nth-child(2)").attr("style",g),l.selectAll(".divider").select("path").attr("style",g),t.labelStyle?l.selectAll("span").attr("style",t.labelStyle):l.selectAll("span").attr("style",g),!i){const q=RegExp(/color\s*:\s*([^;]*)/),z=q.exec(g);if(z){const K=z[0].replace("color","fill");l.selectAll("tspan").attr("style",K)}else if(d){const K=q.exec(d);if(K){const X=K[0].replace("color","fill");l.selectAll("tspan").attr("style",X)}}}return Zt(t,R),t.intersect=function(q){return $t.rect(t,q)},l}M(F9,"classBox");async function B9(e,t){const{labelStyles:r,nodeStyles:n}=Xt(t);t.labelStyle=r;const a=t,i=t,o=20,l=20,u="verifyMethod"in t,d=hr(t),h=e.insert("g").attr("class",d).attr("id",t.domId??t.id);let g;u?g=await Oo(h,`&lt;&lt;${a.type}&gt;&gt;`,0,t.labelStyle):g=await Oo(h,"&lt;&lt;Element&gt;&gt;",0,t.labelStyle);let f=g;const b=await Oo(h,a.name,f,t.labelStyle+"; font-weight: bold;");if(f+=b+l,u){const L=await Oo(h,`${a.requirementId?`ID: ${a.requirementId}`:""}`,f,t.labelStyle);f+=L;const j=await Oo(h,`${a.text?`Text: ${a.text}`:""}`,f,t.labelStyle);f+=j;const B=await Oo(h,`${a.risk?`Risk: ${a.risk}`:""}`,f,t.labelStyle);f+=B,await Oo(h,`${a.verifyMethod?`Verification: ${a.verifyMethod}`:""}`,f,t.labelStyle)}else{const L=await Oo(h,`${i.type?`Type: ${i.type}`:""}`,f,t.labelStyle);f+=L,await Oo(h,`${i.docRef?`Doc Ref: ${i.docRef}`:""}`,f,t.labelStyle)}const x=(h.node()?.getBBox().width??200)+o,E=(h.node()?.getBBox().height??200)+o,v=-x/2,T=-E/2,w=Yt.svg(h),N=Qt(t,{});t.look!=="handDrawn"&&(N.roughness=0,N.fillStyle="solid");const R=w.rectangle(v,T,x,E,N),D=h.insert(()=>R,":first-child");if(D.attr("class","basic label-container").attr("style",n),h.selectAll(".label").each((L,j,B)=>{const q=sn(B[j]),z=q.attr("transform");let K=0,X=0;if(z){const $=RegExp(/translate\(([^,]+),([^)]+)\)/).exec(z);$&&(K=parseFloat($[1]),X=parseFloat($[2]))}const Q=X-E/2;let O=v+o/2;(j===0||j===1)&&(O=K),q.attr("transform",`translate(${O}, ${Q+o})`)}),f>g+b+l){const L=w.line(v,T+g+b+l,v+x,T+g+b+l,N);h.insert(()=>L).attr("style",n)}return Zt(t,D),t.intersect=function(L){return $t.rect(t,L)},h}M(B9,"requirementBox");async function Oo(e,t,r,n=""){if(t==="")return 0;const a=e.insert("g").attr("class","label").attr("style",n),i=Sn(),o=i.htmlLabels??!0,l=await Tc(a,dk(Mu(t)),{width:Cl(t,i)+50,classes:"markdown-node-label",useHtmlLabels:o,style:n},i);let u;if(o){const d=l.children[0],h=sn(l);u=d.getBoundingClientRect(),h.attr("width",u.width),h.attr("height",u.height)}else{const d=l.children[0];for(const h of d.children)h.textContent=h.textContent.replaceAll("&gt;",">").replaceAll("&lt;","<"),n&&h.setAttribute("style",n);u=l.getBBox(),u.height+=6}return a.attr("transform",`translate(${-u.width/2},${-u.height/2+r})`),u.height}M(Oo,"addText");var oEe=M(e=>{switch(e){case"Very High":return"red";case"High":return"orange";case"Medium":return null;case"Low":return"blue";case"Very Low":return"lightblue"}},"colorFromPriority");async function U9(e,t,{config:r}){const{labelStyles:n,nodeStyles:a}=Xt(t);t.labelStyle=n||"";const i=10,o=t.width;t.width=(t.width??200)-10;const{shapeSvg:l,bbox:u,label:d}=await yr(e,t,hr(t)),h=t.padding||10;let g="",f;"ticket"in t&&t.ticket&&r?.kanban?.ticketBaseUrl&&(g=r?.kanban?.ticketBaseUrl.replace("#TICKET#",t.ticket),f=l.insert("svg:a",":first-child").attr("class","kanban-ticket-link").attr("xlink:href",g).attr("target","_blank"));const b={useHtmlLabels:t.useHtmlLabels,labelStyle:t.labelStyle||"",width:t.width,img:t.img,padding:t.padding||8,centerLabel:!1};let x,E;f?{label:x,bbox:E}=await KS(f,"ticket"in t&&t.ticket||"",b):{label:x,bbox:E}=await KS(l,"ticket"in t&&t.ticket||"",b);const{label:v,bbox:T}=await KS(l,"assigned"in t&&t.assigned||"",b);t.width=o;const w=10,N=t?.width||0,R=Math.max(E.height,T.height)/2,D=Math.max(u.height+w*2,t?.height||0)+R,L=-N/2,j=-D/2;d.attr("transform","translate("+(h-N/2)+", "+(-R-u.height/2)+")"),x.attr("transform","translate("+(h-N/2)+", "+(-R+u.height/2)+")"),v.attr("transform","translate("+(h+N/2-T.width-2*i)+", "+(-R+u.height/2)+")");let B;const{rx:q,ry:z}=t,{cssStyles:K}=t;if(t.look==="handDrawn"){const X=Yt.svg(l),Q=Qt(t,{}),O=q||z?X.path(wc(L,j,N,D,q||0),Q):X.rectangle(L,j,N,D,Q);B=l.insert(()=>O,":first-child"),B.attr("class","basic label-container").attr("style",K||null)}else{B=l.insert("rect",":first-child"),B.attr("class","basic label-container __APA__").attr("style",a).attr("rx",q??5).attr("ry",z??5).attr("x",L).attr("y",j).attr("width",N).attr("height",D);const X="priority"in t&&t.priority;if(X){const Q=l.append("line"),O=L+2,H=j+Math.floor((q??0)/2),$=j+D-Math.floor((q??0)/2);Q.attr("x1",O).attr("y1",H).attr("x2",O).attr("y2",$).attr("stroke-width","4").attr("stroke",oEe(X))}}return Zt(t,B),t.height=D,t.intersect=function(X){return $t.rect(t,X)},l}M(U9,"kanbanItem");async function $9(e,t){const{labelStyles:r,nodeStyles:n}=Xt(t);t.labelStyle=r;const{shapeSvg:a,bbox:i,halfPadding:o,label:l}=await yr(e,t,hr(t)),u=i.width+10*o,d=i.height+8*o,h=.15*u,{cssStyles:g}=t,f=i.width+20,b=i.height+20,x=Math.max(u,f),E=Math.max(d,b);l.attr("transform",`translate(${-i.width/2}, ${-i.height/2})`);let v;const T=`M0 0 
    a${h},${h} 1 0,0 ${x*.25},${-1*E*.1}
    a${h},${h} 1 0,0 ${x*.25},0
    a${h},${h} 1 0,0 ${x*.25},0
    a${h},${h} 1 0,0 ${x*.25},${E*.1}

    a${h},${h} 1 0,0 ${x*.15},${E*.33}
    a${h*.8},${h*.8} 1 0,0 0,${E*.34}
    a${h},${h} 1 0,0 ${-1*x*.15},${E*.33}

    a${h},${h} 1 0,0 ${-1*x*.25},${E*.15}
    a${h},${h} 1 0,0 ${-1*x*.25},0
    a${h},${h} 1 0,0 ${-1*x*.25},0
    a${h},${h} 1 0,0 ${-1*x*.25},${-1*E*.15}

    a${h},${h} 1 0,0 ${-1*x*.1},${-1*E*.33}
    a${h*.8},${h*.8} 1 0,0 0,${-1*E*.34}
    a${h},${h} 1 0,0 ${x*.1},${-1*E*.33}
  H0 V0 Z`;if(t.look==="handDrawn"){const w=Yt.svg(a),N=Qt(t,{}),R=w.path(T,N);v=a.insert(()=>R,":first-child"),v.attr("class","basic label-container").attr("style",gs(g))}else v=a.insert("path",":first-child").attr("class","basic label-container").attr("style",n).attr("d",T);return v.attr("transform",`translate(${-x/2}, ${-E/2})`),Zt(t,v),t.calcIntersect=function(w,N){return $t.rect(w,N)},t.intersect=function(w){return st.info("Bang intersect",t,w),$t.rect(t,w)},a}M($9,"bang");async function H9(e,t){const{labelStyles:r,nodeStyles:n}=Xt(t);t.labelStyle=r;const{shapeSvg:a,bbox:i,halfPadding:o,label:l}=await yr(e,t,hr(t)),u=i.width+2*o,d=i.height+2*o,h=.15*u,g=.25*u,f=.35*u,b=.2*u,{cssStyles:x}=t;let E;const v=`M0 0 
    a${h},${h} 0 0,1 ${u*.25},${-1*u*.1}
    a${f},${f} 1 0,1 ${u*.4},${-1*u*.1}
    a${g},${g} 1 0,1 ${u*.35},${u*.2}

    a${h},${h} 1 0,1 ${u*.15},${d*.35}
    a${b},${b} 1 0,1 ${-1*u*.15},${d*.65}

    a${g},${h} 1 0,1 ${-1*u*.25},${u*.15}
    a${f},${f} 1 0,1 ${-1*u*.5},0
    a${h},${h} 1 0,1 ${-1*u*.25},${-1*u*.15}

    a${h},${h} 1 0,1 ${-1*u*.1},${-1*d*.35}
    a${b},${b} 1 0,1 ${u*.1},${-1*d*.65}
  H0 V0 Z`;if(t.look==="handDrawn"){const T=Yt.svg(a),w=Qt(t,{}),N=T.path(v,w);E=a.insert(()=>N,":first-child"),E.attr("class","basic label-container").attr("style",gs(x))}else E=a.insert("path",":first-child").attr("class","basic label-container").attr("style",n).attr("d",v);return l.attr("transform",`translate(${-i.width/2}, ${-i.height/2})`),E.attr("transform",`translate(${-u/2}, ${-d/2})`),Zt(t,E),t.calcIntersect=function(T,w){return $t.rect(T,w)},t.intersect=function(T){return st.info("Cloud intersect",t,T),$t.rect(t,T)},a}M(H9,"cloud");async function z9(e,t){const{labelStyles:r,nodeStyles:n}=Xt(t);t.labelStyle=r;const{shapeSvg:a,bbox:i,halfPadding:o,label:l}=await yr(e,t,hr(t)),u=i.width+8*o,d=i.height+2*o,h=5,g=`
    M${-u/2} ${d/2-h}
    v${-d+2*h}
    q0,-${h} ${h},-${h}
    h${u-2*h}
    q${h},0 ${h},${h}
    v${d-2*h}
    q0,${h} -${h},${h}
    h${-u+2*h}
    q-${h},0 -${h},-${h}
    Z
  `,f=a.append("path").attr("id","node-"+t.id).attr("class","node-bkg node-"+t.type).attr("style",n).attr("d",g);return a.append("line").attr("class","node-line-").attr("x1",-u/2).attr("y1",d/2).attr("x2",u/2).attr("y2",d/2),l.attr("transform",`translate(${-i.width/2}, ${-i.height/2})`),a.append(()=>l.node()),Zt(t,f),t.calcIntersect=function(b,x){return $t.rect(b,x)},t.intersect=function(b){return $t.rect(t,b)},a}M(z9,"defaultMindmapNode");async function G9(e,t){const r={padding:t.padding??0};return eC(e,t,r)}M(G9,"mindmapCircle");var lEe=[{semanticName:"Process",name:"Rectangle",shortName:"rect",description:"Standard process shape",aliases:["proc","process","rectangle"],internalAliases:["squareRect"],handler:v9},{semanticName:"Event",name:"Rounded Rectangle",shortName:"rounded",description:"Represents an event",aliases:["event"],internalAliases:["roundedRect"],handler:y9},{semanticName:"Terminal Point",name:"Stadium",shortName:"stadium",description:"Terminal point",aliases:["terminal","pill"],handler:S9},{semanticName:"Subprocess",name:"Framed Rectangle",shortName:"fr-rect",description:"Subprocess",aliases:["subprocess","subproc","framed-rectangle","subroutine"],handler:C9},{semanticName:"Database",name:"Cylinder",shortName:"cyl",description:"Database storage",aliases:["db","database","cylinder"],handler:q7},{semanticName:"Start",name:"Circle",shortName:"circle",description:"Starting point",aliases:["circ"],handler:eC},{semanticName:"Bang",name:"Bang",shortName:"bang",description:"Bang",aliases:["bang"],handler:$9},{semanticName:"Cloud",name:"Cloud",shortName:"cloud",description:"cloud",aliases:["cloud"],handler:H9},{semanticName:"Decision",name:"Diamond",shortName:"diam",description:"Decision-making step",aliases:["decision","diamond","question"],handler:m9},{semanticName:"Prepare Conditional",name:"Hexagon",shortName:"hex",description:"Preparation or condition step",aliases:["hexagon","prepare"],handler:Z7},{semanticName:"Data Input/Output",name:"Lean Right",shortName:"lean-r",description:"Represents input or output",aliases:["lean-right","in-out"],internalAliases:["lean_right"],handler:l9},{semanticName:"Data Input/Output",name:"Lean Left",shortName:"lean-l",description:"Represents output or input",aliases:["lean-left","out-in"],internalAliases:["lean_left"],handler:o9},{semanticName:"Priority Action",name:"Trapezoid Base Bottom",shortName:"trap-b",description:"Priority action",aliases:["priority","trapezoid-bottom","trapezoid"],handler:R9},{semanticName:"Manual Operation",name:"Trapezoid Base Top",shortName:"trap-t",description:"Represents a manual task",aliases:["manual","trapezoid-top","inv-trapezoid"],internalAliases:["inv_trapezoid"],handler:s9},{semanticName:"Stop",name:"Double Circle",shortName:"dbl-circ",description:"Represents a stop point",aliases:["double-circle"],internalAliases:["doublecircle"],handler:Y7},{semanticName:"Text Block",name:"Text Block",shortName:"text",description:"Text block",handler:N9},{semanticName:"Card",name:"Notched Rectangle",shortName:"notch-rect",description:"Represents a card",aliases:["card","notched-rectangle"],handler:j7},{semanticName:"Lined/Shaded Process",name:"Lined Rectangle",shortName:"lin-rect",description:"Lined process shape",aliases:["lined-rectangle","lined-process","lin-proc","shaded-process"],handler:x9},{semanticName:"Start",name:"Small Circle",shortName:"sm-circ",description:"Small starting point",aliases:["start","small-circle"],internalAliases:["stateStart"],handler:k9},{semanticName:"Stop",name:"Framed Circle",shortName:"fr-circ",description:"Stop point",aliases:["stop","framed-circle"],internalAliases:["stateEnd"],handler:w9},{semanticName:"Fork/Join",name:"Filled Rectangle",shortName:"fork",description:"Fork or join in process flow",aliases:["join"],internalAliases:["forkJoin"],handler:Q7},{semanticName:"Collate",name:"Hourglass",shortName:"hourglass",description:"Represents a collate operation",aliases:["hourglass","collate"],handler:J7},{semanticName:"Comment",name:"Curly Brace",shortName:"brace",description:"Adds a comment",aliases:["comment","brace-l"],handler:$7},{semanticName:"Comment Right",name:"Curly Brace",shortName:"brace-r",description:"Adds a comment",handler:H7},{semanticName:"Comment with braces on both sides",name:"Curly Braces",shortName:"braces",description:"Adds a comment",handler:z7},{semanticName:"Com Link",name:"Lightning Bolt",shortName:"bolt",description:"Communication link",aliases:["com-link","lightning-bolt"],handler:c9},{semanticName:"Document",name:"Document",shortName:"doc",description:"Represents a document",aliases:["doc","document"],handler:O9},{semanticName:"Delay",name:"Half-Rounded Rectangle",shortName:"delay",description:"Represents a delay",aliases:["half-rounded-rectangle"],handler:X7},{semanticName:"Direct Access Storage",name:"Horizontal Cylinder",shortName:"h-cyl",description:"Direct access storage",aliases:["das","horizontal-cylinder"],handler:I9},{semanticName:"Disk Storage",name:"Lined Cylinder",shortName:"lin-cyl",description:"Disk storage",aliases:["disk","lined-cylinder"],handler:u9},{semanticName:"Display",name:"Curved Trapezoid",shortName:"curv-trap",description:"Represents a display",aliases:["curved-trapezoid","display"],handler:G7},{semanticName:"Divided Process",name:"Divided Rectangle",shortName:"div-rect",description:"Divided process shape",aliases:["div-proc","divided-rectangle","divided-process"],handler:W7},{semanticName:"Extract",name:"Triangle",shortName:"tri",description:"Extraction process",aliases:["extract","triangle"],handler:L9},{semanticName:"Internal Storage",name:"Window Pane",shortName:"win-pane",description:"Internal storage",aliases:["internal-storage","window-pane"],handler:P9},{semanticName:"Junction",name:"Filled Circle",shortName:"f-circ",description:"Junction point",aliases:["junction","filled-circle"],handler:V7},{semanticName:"Loop Limit",name:"Trapezoidal Pentagon",shortName:"notch-pent",description:"Loop limit step",aliases:["loop-limit","notched-pentagon"],handler:D9},{semanticName:"Manual File",name:"Flipped Triangle",shortName:"flip-tri",description:"Manual file operation",aliases:["manual-file","flipped-triangle"],handler:K7},{semanticName:"Manual Input",name:"Sloped Rectangle",shortName:"sl-rect",description:"Manual input step",aliases:["manual-input","sloped-rectangle"],handler:E9},{semanticName:"Multi-Document",name:"Stacked Document",shortName:"docs",description:"Multiple documents",aliases:["documents","st-doc","stacked-document"],handler:h9},{semanticName:"Multi-Process",name:"Stacked Rectangle",shortName:"st-rect",description:"Multiple processes",aliases:["procs","processes","stacked-rectangle"],handler:p9},{semanticName:"Stored Data",name:"Bow Tie Rectangle",shortName:"bow-rect",description:"Stored data",aliases:["stored-data","bow-tie-rectangle"],handler:P7},{semanticName:"Summary",name:"Crossed Circle",shortName:"cross-circ",description:"Summary",aliases:["summary","crossed-circle"],handler:U7},{semanticName:"Tagged Document",name:"Tagged Document",shortName:"tag-doc",description:"Tagged document",aliases:["tag-doc","tagged-document"],handler:A9},{semanticName:"Tagged Process",name:"Tagged Rectangle",shortName:"tag-rect",description:"Tagged process",aliases:["tagged-rectangle","tag-proc","tagged-process"],handler:_9},{semanticName:"Paper Tape",name:"Flag",shortName:"flag",description:"Paper tape",aliases:["paper-tape"],handler:M9},{semanticName:"Odd",name:"Odd",shortName:"odd",description:"Odd shape",internalAliases:["rect_left_inv_arrow"],handler:f9},{semanticName:"Lined Document",name:"Lined Document",shortName:"lin-doc",description:"Lined document",aliases:["lined-document"],handler:d9}],cEe=M(()=>{const t=[...Object.entries({state:T9,choice:F7,note:g9,rectWithTitle:b9,labelRect:i9,iconSquare:n9,iconCircle:t9,icon:e9,iconRounded:r9,imageSquare:a9,anchor:M7,kanbanItem:U9,mindmapCircle:G9,defaultMindmapNode:z9,classBox:F9,erBox:tC,requirementBox:B9}),...lEe.flatMap(r=>[r.shortName,..."aliases"in r?r.aliases:[],..."internalAliases"in r?r.internalAliases:[]].map(a=>[a,r.handler]))];return Object.fromEntries(t)},"generateShapeMap"),q9=cEe();function uEe(e){return e in q9}M(uEe,"isValidShape");var gx=new Map;async function W9(e,t,r){let n,a;t.shape==="rect"&&(t.rx&&t.ry?t.shape="roundedRect":t.shape="squareRect");const i=t.shape?q9[t.shape]:void 0;if(!i)throw new Error(`No such shape: ${t.shape}. Please check your syntax.`);if(t.link){let o;r.config.securityLevel==="sandbox"?o="_top":t.linkTarget&&(o=t.linkTarget||"_blank"),n=e.insert("svg:a").attr("xlink:href",t.link).attr("target",o??null),a=await i(n,t,r)}else a=await i(e,t,r),n=a;return t.tooltip&&a.attr("title",t.tooltip),gx.set(t.id,n),t.haveCallback&&n.attr("class",n.attr("class")+" clickable"),n}M(W9,"insertNode");var xDe=M((e,t)=>{gx.set(t.id,e)},"setNodeElem"),EDe=M(()=>{gx.clear()},"clear"),vDe=M(e=>{const t=gx.get(e.id);st.trace("Transforming node",e.diff,e,"translate("+(e.x-e.width/2-5)+", "+e.width/2+")");const r=8,n=e.diff||0;return e.clusterNode?t.attr("transform","translate("+(e.x+n-e.width/2)+", "+(e.y-e.height/2-r)+")"):t.attr("transform","translate("+e.x+", "+e.y+")"),n},"positionNode"),dEe=M((e,t,r,n,a,i)=>{t.arrowTypeStart&&cP(e,"start",t.arrowTypeStart,r,n,a,i),t.arrowTypeEnd&&cP(e,"end",t.arrowTypeEnd,r,n,a,i)},"addEdgeMarkers"),pEe={arrow_cross:{type:"cross",fill:!1},arrow_point:{type:"point",fill:!0},arrow_barb:{type:"barb",fill:!0},arrow_circle:{type:"circle",fill:!1},aggregation:{type:"aggregation",fill:!1},extension:{type:"extension",fill:!1},composition:{type:"composition",fill:!0},dependency:{type:"dependency",fill:!0},lollipop:{type:"lollipop",fill:!1},only_one:{type:"onlyOne",fill:!1},zero_or_one:{type:"zeroOrOne",fill:!1},one_or_more:{type:"oneOrMore",fill:!1},zero_or_more:{type:"zeroOrMore",fill:!1},requirement_arrow:{type:"requirement_arrow",fill:!1},requirement_contains:{type:"requirement_contains",fill:!1}},cP=M((e,t,r,n,a,i,o)=>{const l=pEe[r];if(!l){st.warn(`Unknown arrow type: ${r}`);return}const u=l.type,h=`${a}_${i}-${u}${t==="start"?"Start":"End"}`;if(o&&o.trim()!==""){const g=o.replace(/[^\dA-Za-z]/g,"_"),f=`${h}_${g}`;if(!document.getElementById(f)){const b=document.getElementById(h);if(b){const x=b.cloneNode(!0);x.id=f,x.querySelectorAll("path, circle, line").forEach(v=>{v.setAttribute("stroke",o),l.fill&&v.setAttribute("fill",o)}),b.parentNode?.appendChild(x)}}e.attr(`marker-${t}`,`url(${n}#${f})`)}else e.attr(`marker-${t}`,`url(${n}#${h})`)},"addEdgeMarker"),yy=new Map,Xa=new Map,SDe=M(()=>{yy.clear(),Xa.clear()},"clear"),U0=M(e=>e?e.reduce((r,n)=>r+";"+n,""):"","getLabelStyles"),hEe=M(async(e,t)=>{let r=ja(Sn().flowchart.htmlLabels);const{labelStyles:n}=Xt(t);t.labelStyle=n;const a=await Tc(e,t.label,{style:t.labelStyle,useHtmlLabels:r,addSvgBackground:!0,isNode:!1});st.info("abc82",t,t.labelType);const i=e.insert("g").attr("class","edgeLabel"),o=i.insert("g").attr("class","label").attr("data-id",t.id);o.node().appendChild(a);let l=a.getBBox();if(r){const d=a.children[0],h=sn(a);l=d.getBoundingClientRect(),h.attr("width",l.width),h.attr("height",l.height)}o.attr("transform","translate("+-l.width/2+", "+-l.height/2+")"),yy.set(t.id,i),t.width=l.width,t.height=l.height;let u;if(t.startLabelLeft){const d=await iu(t.startLabelLeft,U0(t.labelStyle)),h=e.insert("g").attr("class","edgeTerminals"),g=h.insert("g").attr("class","inner");u=g.node().appendChild(d);const f=d.getBBox();g.attr("transform","translate("+-f.width/2+", "+-f.height/2+")"),Xa.get(t.id)||Xa.set(t.id,{}),Xa.get(t.id).startLeft=h,vg(u,t.startLabelLeft)}if(t.startLabelRight){const d=await iu(t.startLabelRight,U0(t.labelStyle)),h=e.insert("g").attr("class","edgeTerminals"),g=h.insert("g").attr("class","inner");u=h.node().appendChild(d),g.node().appendChild(d);const f=d.getBBox();g.attr("transform","translate("+-f.width/2+", "+-f.height/2+")"),Xa.get(t.id)||Xa.set(t.id,{}),Xa.get(t.id).startRight=h,vg(u,t.startLabelRight)}if(t.endLabelLeft){const d=await iu(t.endLabelLeft,U0(t.labelStyle)),h=e.insert("g").attr("class","edgeTerminals"),g=h.insert("g").attr("class","inner");u=g.node().appendChild(d);const f=d.getBBox();g.attr("transform","translate("+-f.width/2+", "+-f.height/2+")"),h.node().appendChild(d),Xa.get(t.id)||Xa.set(t.id,{}),Xa.get(t.id).endLeft=h,vg(u,t.endLabelLeft)}if(t.endLabelRight){const d=await iu(t.endLabelRight,U0(t.labelStyle)),h=e.insert("g").attr("class","edgeTerminals"),g=h.insert("g").attr("class","inner");u=g.node().appendChild(d);const f=d.getBBox();g.attr("transform","translate("+-f.width/2+", "+-f.height/2+")"),h.node().appendChild(d),Xa.get(t.id)||Xa.set(t.id,{}),Xa.get(t.id).endRight=h,vg(u,t.endLabelRight)}return a},"insertEdgeLabel");function vg(e,t){Sn().flowchart.htmlLabels&&e&&(e.style.width=t.length*9+"px",e.style.height="12px")}M(vg,"setTerminalWidth");var gEe=M((e,t)=>{st.debug("Moving label abc88 ",e.id,e.label,yy.get(e.id),t);let r=t.updatedPath?t.updatedPath:t.originalPath;const n=Sn(),{subGraphTitleTotalMargin:a}=Rk(n);if(e.label){const i=yy.get(e.id);let o=e.x,l=e.y;if(r){const u=lo.calcLabelPosition(r);st.debug("Moving label "+e.label+" from (",o,",",l,") to (",u.x,",",u.y,") abc88"),t.updatedPath&&(o=u.x,l=u.y)}i.attr("transform",`translate(${o}, ${l+a/2})`)}if(e.startLabelLeft){const i=Xa.get(e.id).startLeft;let o=e.x,l=e.y;if(r){const u=lo.calcTerminalLabelPosition(e.arrowTypeStart?10:0,"start_left",r);o=u.x,l=u.y}i.attr("transform",`translate(${o}, ${l})`)}if(e.startLabelRight){const i=Xa.get(e.id).startRight;let o=e.x,l=e.y;if(r){const u=lo.calcTerminalLabelPosition(e.arrowTypeStart?10:0,"start_right",r);o=u.x,l=u.y}i.attr("transform",`translate(${o}, ${l})`)}if(e.endLabelLeft){const i=Xa.get(e.id).endLeft;let o=e.x,l=e.y;if(r){const u=lo.calcTerminalLabelPosition(e.arrowTypeEnd?10:0,"end_left",r);o=u.x,l=u.y}i.attr("transform",`translate(${o}, ${l})`)}if(e.endLabelRight){const i=Xa.get(e.id).endRight;let o=e.x,l=e.y;if(r){const u=lo.calcTerminalLabelPosition(e.arrowTypeEnd?10:0,"end_right",r);o=u.x,l=u.y}i.attr("transform",`translate(${o}, ${l})`)}},"positionEdgeLabel"),mEe=M((e,t)=>{const r=e.x,n=e.y,a=Math.abs(t.x-r),i=Math.abs(t.y-n),o=e.width/2,l=e.height/2;return a>=o||i>=l},"outsideNode"),fEe=M((e,t,r)=>{st.debug(`intersection calc abc89:
  outsidePoint: ${JSON.stringify(t)}
  insidePoint : ${JSON.stringify(r)}
  node        : x:${e.x} y:${e.y} w:${e.width} h:${e.height}`);const n=e.x,a=e.y,i=Math.abs(n-r.x),o=e.width/2;let l=r.x<t.x?o-i:o+i;const u=e.height/2,d=Math.abs(t.y-r.y),h=Math.abs(t.x-r.x);if(Math.abs(a-t.y)*o>Math.abs(n-t.x)*u){let g=r.y<t.y?t.y-u-a:a-u-t.y;l=h*g/d;const f={x:r.x<t.x?r.x+l:r.x-h+l,y:r.y<t.y?r.y+d-g:r.y-d+g};return l===0&&(f.x=t.x,f.y=t.y),h===0&&(f.x=t.x),d===0&&(f.y=t.y),st.debug(`abc89 top/bottom calc, Q ${d}, q ${g}, R ${h}, r ${l}`,f),f}else{r.x<t.x?l=t.x-o-n:l=n-o-t.x;let g=d*l/h,f=r.x<t.x?r.x+h-l:r.x-h+l,b=r.y<t.y?r.y+g:r.y-g;return st.debug(`sides calc abc89, Q ${d}, q ${g}, R ${h}, r ${l}`,{_x:f,_y:b}),l===0&&(f=t.x,b=t.y),h===0&&(f=t.x),d===0&&(b=t.y),{x:f,y:b}}},"intersection"),uP=M((e,t)=>{st.warn("abc88 cutPathAtIntersect",e,t);let r=[],n=e[0],a=!1;return e.forEach(i=>{if(st.info("abc88 checking point",i,t),!mEe(t,i)&&!a){const o=fEe(t,n,i);st.debug("abc88 inside",i,n,o),st.debug("abc88 intersection",o,t);let l=!1;r.forEach(u=>{l=l||u.x===o.x&&u.y===o.y}),r.some(u=>u.x===o.x&&u.y===o.y)?st.warn("abc88 no intersect",o,r):r.push(o),a=!0}else st.warn("abc88 outside",i,n),n=i,a||r.push(i)}),st.debug("returning points",r),r},"cutPathAtIntersect");function Y9(e){const t=[],r=[];for(let n=1;n<e.length-1;n++){const a=e[n-1],i=e[n],o=e[n+1];(a.x===i.x&&i.y===o.y&&Math.abs(i.x-o.x)>5&&Math.abs(i.y-a.y)>5||a.y===i.y&&i.x===o.x&&Math.abs(i.x-a.x)>5&&Math.abs(i.y-o.y)>5)&&(t.push(i),r.push(n))}return{cornerPoints:t,cornerPointPositions:r}}M(Y9,"extractCornerPoints");var dP=M(function(e,t,r){const n=t.x-e.x,a=t.y-e.y,i=Math.sqrt(n*n+a*a),o=r/i;return{x:t.x-o*n,y:t.y-o*a}},"findAdjacentPoint"),bEe=M(function(e){const{cornerPointPositions:t}=Y9(e),r=[];for(let n=0;n<e.length;n++)if(t.includes(n)){const a=e[n-1],i=e[n+1],o=e[n],l=dP(a,o,5),u=dP(i,o,5),d=u.x-l.x,h=u.y-l.y;r.push(l);const g=Math.sqrt(2)*2;let f={x:o.x,y:o.y};if(Math.abs(i.x-a.x)>10&&Math.abs(i.y-a.y)>=10){st.debug("Corner point fixing",Math.abs(i.x-a.x),Math.abs(i.y-a.y));const b=5;o.x===l.x?f={x:d<0?l.x-b+g:l.x+b-g,y:h<0?l.y-g:l.y+g}:f={x:d<0?l.x-g:l.x+g,y:h<0?l.y-b+g:l.y+b-g}}else st.debug("Corner point skipping fixing",Math.abs(i.x-a.x),Math.abs(i.y-a.y));r.push(f,u)}else r.push(e[n]);return r},"fixCorners"),yEe=M((e,t,r)=>{const n=e-t-r,a=2,i=2,o=a+i,l=Math.floor(n/o),u=Array(l).fill(`${a} ${i}`).join(" ");return`0 ${t} ${u} ${r}`},"generateDashArray"),xEe=M(function(e,t,r,n,a,i,o,l=!1){const{handDrawnSeed:u}=Sn();let d=t.points,h=!1;const g=a;var f=i;const b=[];for(const O in t.cssCompiledStyles)wU(O)||b.push(t.cssCompiledStyles[O]);st.debug("UIO intersect check",t.points,f.x,g.x),f.intersect&&g.intersect&&!l&&(d=d.slice(1,t.points.length-1),d.unshift(g.intersect(d[0])),st.debug("Last point UIO",t.start,"-->",t.end,d[d.length-1],f,f.intersect(d[d.length-1])),d.push(f.intersect(d[d.length-1])));const x=btoa(JSON.stringify(d));t.toCluster&&(st.info("to cluster abc88",r.get(t.toCluster)),d=uP(t.points,r.get(t.toCluster).node),h=!0),t.fromCluster&&(st.debug("from cluster abc88",r.get(t.fromCluster),JSON.stringify(d,null,2)),d=uP(d.reverse(),r.get(t.fromCluster).node).reverse(),h=!0);let E=d.filter(O=>!Number.isNaN(O.y));E=bEe(E);let v=ub;switch(v=Kb,t.curve){case"linear":v=Kb;break;case"basis":v=ub;break;case"cardinal":v=AB;break;case"bumpX":v=TB;break;case"bumpY":v=wB;break;case"catmullRom":v=IB;break;case"monotoneX":v=PB;break;case"monotoneY":v=jB;break;case"natural":v=BB;break;case"step":v=UB;break;case"stepAfter":v=HB;break;case"stepBefore":v=$B;break;default:v=ub}const{x:T,y:w}=bfe(t),N=eme().x(T).y(w).curve(v);let R;switch(t.thickness){case"normal":R="edge-thickness-normal";break;case"thick":R="edge-thickness-thick";break;case"invisible":R="edge-thickness-invisible";break;default:R="edge-thickness-normal"}switch(t.pattern){case"solid":R+=" edge-pattern-solid";break;case"dotted":R+=" edge-pattern-dotted";break;case"dashed":R+=" edge-pattern-dashed";break;default:R+=" edge-pattern-solid"}let D,L=t.curve==="rounded"?V9(K9(E,t),5):N(E);const j=Array.isArray(t.style)?t.style:[t.style];let B=j.find(O=>O?.startsWith("stroke:")),q=!1;if(t.look==="handDrawn"){const O=Yt.svg(e);Object.assign([],E);const H=O.path(L,{roughness:.3,seed:u});R+=" transition",D=sn(H).select("path").attr("id",t.id).attr("class"," "+R+(t.classes?" "+t.classes:"")).attr("style",j?j.reduce((Y,V)=>Y+";"+V,""):"");let $=D.attr("d");D.attr("d",$),e.node().appendChild(D.node())}else{const O=b.join(";"),H=j?j.reduce((G,F)=>G+F+";",""):"";let $="";t.animate&&($=" edge-animation-fast"),t.animation&&($=" edge-animation-"+t.animation);const Y=(O?O+";"+H+";":H)+";"+(j?j.reduce((G,F)=>G+";"+F,""):"");D=e.append("path").attr("d",L).attr("id",t.id).attr("class"," "+R+(t.classes?" "+t.classes:"")+($??"")).attr("style",Y),B=Y.match(/stroke:([^;]+)/)?.[1],q=t.animate===!0||!!t.animation||O.includes("animation");const V=D.node(),ne=typeof V.getTotalLength=="function"?V.getTotalLength():0,P=AM[t.arrowTypeStart]||0,I=AM[t.arrowTypeEnd]||0;if(t.look==="neo"&&!q){const F=`stroke-dasharray: ${t.pattern==="dotted"||t.pattern==="dashed"?yEe(ne,P,I):`0 ${P} ${ne-P-I} ${I}`}; stroke-dashoffset: 0;`;D.attr("style",F+D.attr("style"))}}D.attr("data-edge",!0),D.attr("data-et","edge"),D.attr("data-id",t.id),D.attr("data-points",x),t.showPoints&&E.forEach(O=>{e.append("circle").style("stroke","red").style("fill","red").attr("r",1).attr("cx",O.x).attr("cy",O.y)});let z="";(Sn().flowchart.arrowMarkerAbsolute||Sn().state.arrowMarkerAbsolute)&&(z=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,z=z.replace(/\(/g,"\\(").replace(/\)/g,"\\)")),st.info("arrowTypeStart",t.arrowTypeStart),st.info("arrowTypeEnd",t.arrowTypeEnd),dEe(D,t,z,o,n,B);const K=Math.floor(d.length/2),X=d[K];lo.isLabelCoordinateInPath(X,D.attr("d"))||(h=!0);let Q={};return h&&(Q.updatedPath=d),Q.originalPath=t.points,Q},"insertEdge");function V9(e,t){if(e.length<2)return"";let r="";const n=e.length,a=1e-5;for(let i=0;i<n;i++){const o=e[i],l=e[i-1],u=e[i+1];if(i===0)r+=`M${o.x},${o.y}`;else if(i===n-1)r+=`L${o.x},${o.y}`;else{const d=o.x-l.x,h=o.y-l.y,g=u.x-o.x,f=u.y-o.y,b=Math.hypot(d,h),x=Math.hypot(g,f);if(b<a||x<a){r+=`L${o.x},${o.y}`;continue}const E=d/b,v=h/b,T=g/x,w=f/x,N=E*T+v*w,R=Math.max(-1,Math.min(1,N)),D=Math.acos(R);if(D<a||Math.abs(Math.PI-D)<a){r+=`L${o.x},${o.y}`;continue}const L=Math.min(t/Math.sin(D/2),b/2,x/2),j=o.x-E*L,B=o.y-v*L,q=o.x+T*L,z=o.y+w*L;r+=`L${j},${B}`,r+=`Q${o.x},${o.y} ${q},${z}`}}return r}M(V9,"generateRoundedPath");function QT(e,t){if(!e||!t)return{angle:0,deltaX:0,deltaY:0};const r=t.x-e.x,n=t.y-e.y;return{angle:Math.atan2(n,r),deltaX:r,deltaY:n}}M(QT,"calculateDeltaAndAngle");function K9(e,t){const r=e.map(a=>({...a}));if(e.length>=2&&us[t.arrowTypeStart]){const a=us[t.arrowTypeStart],i=e[0],o=e[1],{angle:l}=QT(i,o),u=a*Math.cos(l),d=a*Math.sin(l);r[0].x=i.x+u,r[0].y=i.y+d}const n=e.length;if(n>=2&&us[t.arrowTypeEnd]){const a=us[t.arrowTypeEnd],i=e[n-1],o=e[n-2],{angle:l}=QT(o,i),u=a*Math.cos(l),d=a*Math.sin(l);r[n-1].x=i.x-u,r[n-1].y=i.y-d}return r}M(K9,"applyMarkerOffsetsToPoints");var EEe=M((e,t,r,n)=>{t.forEach(a=>{PEe[a](e,r,n)})},"insertMarkers"),vEe=M((e,t,r)=>{st.trace("Making markers for ",r),e.append("defs").append("marker").attr("id",r+"_"+t+"-extensionStart").attr("class","marker extension "+t).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 1,7 L18,13 V 1 Z"),e.append("defs").append("marker").attr("id",r+"_"+t+"-extensionEnd").attr("class","marker extension "+t).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 1,1 V 13 L18,7 Z")},"extension"),SEe=M((e,t,r)=>{e.append("defs").append("marker").attr("id",r+"_"+t+"-compositionStart").attr("class","marker composition "+t).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),e.append("defs").append("marker").attr("id",r+"_"+t+"-compositionEnd").attr("class","marker composition "+t).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},"composition"),TEe=M((e,t,r)=>{e.append("defs").append("marker").attr("id",r+"_"+t+"-aggregationStart").attr("class","marker aggregation "+t).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),e.append("defs").append("marker").attr("id",r+"_"+t+"-aggregationEnd").attr("class","marker aggregation "+t).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},"aggregation"),wEe=M((e,t,r)=>{e.append("defs").append("marker").attr("id",r+"_"+t+"-dependencyStart").attr("class","marker dependency "+t).attr("refX",6).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 5,7 L9,13 L1,7 L9,1 Z"),e.append("defs").append("marker").attr("id",r+"_"+t+"-dependencyEnd").attr("class","marker dependency "+t).attr("refX",13).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},"dependency"),kEe=M((e,t,r)=>{e.append("defs").append("marker").attr("id",r+"_"+t+"-lollipopStart").attr("class","marker lollipop "+t).attr("refX",13).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("circle").attr("stroke","black").attr("fill","transparent").attr("cx",7).attr("cy",7).attr("r",6),e.append("defs").append("marker").attr("id",r+"_"+t+"-lollipopEnd").attr("class","marker lollipop "+t).attr("refX",1).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("circle").attr("stroke","black").attr("fill","transparent").attr("cx",7).attr("cy",7).attr("r",6)},"lollipop"),CEe=M((e,t,r)=>{e.append("marker").attr("id",r+"_"+t+"-pointEnd").attr("class","marker "+t).attr("viewBox","0 0 10 10").attr("refX",5).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",8).attr("markerHeight",8).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),e.append("marker").attr("id",r+"_"+t+"-pointStart").attr("class","marker "+t).attr("viewBox","0 0 10 10").attr("refX",4.5).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",8).attr("markerHeight",8).attr("orient","auto").append("path").attr("d","M 0 5 L 10 10 L 10 0 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},"point"),_Ee=M((e,t,r)=>{e.append("marker").attr("id",r+"_"+t+"-circleEnd").attr("class","marker "+t).attr("viewBox","0 0 10 10").attr("refX",11).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),e.append("marker").attr("id",r+"_"+t+"-circleStart").attr("class","marker "+t).attr("viewBox","0 0 10 10").attr("refX",-1).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},"circle"),AEe=M((e,t,r)=>{e.append("marker").attr("id",r+"_"+t+"-crossEnd").attr("class","marker cross "+t).attr("viewBox","0 0 11 11").attr("refX",12).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0"),e.append("marker").attr("id",r+"_"+t+"-crossStart").attr("class","marker cross "+t).attr("viewBox","0 0 11 11").attr("refX",-1).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0")},"cross"),NEe=M((e,t,r)=>{e.append("defs").append("marker").attr("id",r+"_"+t+"-barbEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",14).attr("markerUnits","userSpaceOnUse").attr("orient","auto").append("path").attr("d","M 19,7 L9,13 L14,7 L9,1 Z")},"barb"),IEe=M((e,t,r)=>{e.append("defs").append("marker").attr("id",r+"_"+t+"-onlyOneStart").attr("class","marker onlyOne "+t).attr("refX",0).attr("refY",9).attr("markerWidth",18).attr("markerHeight",18).attr("orient","auto").append("path").attr("d","M9,0 L9,18 M15,0 L15,18"),e.append("defs").append("marker").attr("id",r+"_"+t+"-onlyOneEnd").attr("class","marker onlyOne "+t).attr("refX",18).attr("refY",9).attr("markerWidth",18).attr("markerHeight",18).attr("orient","auto").append("path").attr("d","M3,0 L3,18 M9,0 L9,18")},"only_one"),REe=M((e,t,r)=>{const n=e.append("defs").append("marker").attr("id",r+"_"+t+"-zeroOrOneStart").attr("class","marker zeroOrOne "+t).attr("refX",0).attr("refY",9).attr("markerWidth",30).attr("markerHeight",18).attr("orient","auto");n.append("circle").attr("fill","white").attr("cx",21).attr("cy",9).attr("r",6),n.append("path").attr("d","M9,0 L9,18");const a=e.append("defs").append("marker").attr("id",r+"_"+t+"-zeroOrOneEnd").attr("class","marker zeroOrOne "+t).attr("refX",30).attr("refY",9).attr("markerWidth",30).attr("markerHeight",18).attr("orient","auto");a.append("circle").attr("fill","white").attr("cx",9).attr("cy",9).attr("r",6),a.append("path").attr("d","M21,0 L21,18")},"zero_or_one"),DEe=M((e,t,r)=>{e.append("defs").append("marker").attr("id",r+"_"+t+"-oneOrMoreStart").attr("class","marker oneOrMore "+t).attr("refX",18).attr("refY",18).attr("markerWidth",45).attr("markerHeight",36).attr("orient","auto").append("path").attr("d","M0,18 Q 18,0 36,18 Q 18,36 0,18 M42,9 L42,27"),e.append("defs").append("marker").attr("id",r+"_"+t+"-oneOrMoreEnd").attr("class","marker oneOrMore "+t).attr("refX",27).attr("refY",18).attr("markerWidth",45).attr("markerHeight",36).attr("orient","auto").append("path").attr("d","M3,9 L3,27 M9,18 Q27,0 45,18 Q27,36 9,18")},"one_or_more"),LEe=M((e,t,r)=>{const n=e.append("defs").append("marker").attr("id",r+"_"+t+"-zeroOrMoreStart").attr("class","marker zeroOrMore "+t).attr("refX",18).attr("refY",18).attr("markerWidth",57).attr("markerHeight",36).attr("orient","auto");n.append("circle").attr("fill","white").attr("cx",48).attr("cy",18).attr("r",6),n.append("path").attr("d","M0,18 Q18,0 36,18 Q18,36 0,18");const a=e.append("defs").append("marker").attr("id",r+"_"+t+"-zeroOrMoreEnd").attr("class","marker zeroOrMore "+t).attr("refX",39).attr("refY",18).attr("markerWidth",57).attr("markerHeight",36).attr("orient","auto");a.append("circle").attr("fill","white").attr("cx",9).attr("cy",18).attr("r",6),a.append("path").attr("d","M21,18 Q39,0 57,18 Q39,36 21,18")},"zero_or_more"),OEe=M((e,t,r)=>{e.append("defs").append("marker").attr("id",r+"_"+t+"-requirement_arrowEnd").attr("refX",20).attr("refY",10).attr("markerWidth",20).attr("markerHeight",20).attr("orient","auto").append("path").attr("d",`M0,0
      L20,10
      M20,10
      L0,20`)},"requirement_arrow"),MEe=M((e,t,r)=>{const n=e.append("defs").append("marker").attr("id",r+"_"+t+"-requirement_containsStart").attr("refX",0).attr("refY",10).attr("markerWidth",20).attr("markerHeight",20).attr("orient","auto").append("g");n.append("circle").attr("cx",10).attr("cy",10).attr("r",9).attr("fill","none"),n.append("line").attr("x1",1).attr("x2",19).attr("y1",10).attr("y2",10),n.append("line").attr("y1",1).attr("y2",19).attr("x1",10).attr("x2",10)},"requirement_contains"),PEe={extension:vEe,composition:SEe,aggregation:TEe,dependency:wEe,lollipop:kEe,point:CEe,circle:_Ee,cross:AEe,barb:NEe,only_one:IEe,zero_or_one:REe,one_or_more:DEe,zero_or_more:LEe,requirement_arrow:OEe,requirement_contains:MEe},jEe=EEe,FEe={common:Pp,getConfig:ps,insertCluster:Wxe,insertEdge:xEe,insertEdgeLabel:hEe,insertMarkers:jEe,insertNode:W9,interpolateToCurve:Pk,labelHelper:yr,log:st,positionEdgeLabel:gEe},ym={},Q9=M(e=>{for(const t of e)ym[t.name]=t},"registerLayoutLoaders"),BEe=M(()=>{Q9([{name:"dagre",loader:M(async()=>await wr(()=>import("./dagre-6UL2VRFP-DrFkKx3P.js"),__vite__mapDeps([5,6,7,8,9,10])),"loader")},{name:"cose-bilkent",loader:M(async()=>await wr(()=>import("./cose-bilkent-S5V4N54A-DwUjrlzS.js"),__vite__mapDeps([11,12])),"loader")}])},"registerDefaultLayoutLoaders");BEe();var TDe=M(async(e,t)=>{if(!(e.layoutAlgorithm in ym))throw new Error(`Unknown layout algorithm: ${e.layoutAlgorithm}`);const r=ym[e.layoutAlgorithm];return(await r.loader()).render(e,t,FEe,{algorithm:r.algorithm})},"render"),wDe=M((e="",{fallback:t="dagre"}={})=>{if(e in ym)return e;if(t in ym)return st.warn(`Layout algorithm ${e} is not registered. Using ${t} as fallback.`),t;throw new Error(`Both layout algorithms ${e} and ${t} are not registered.`)},"getRegisteredLayoutAlgorithm"),X9="comm",Z9="rule",J9="decl",UEe="@import",$Ee="@namespace",HEe="@keyframes",zEe="@layer",e$=Math.abs,rC=String.fromCharCode;function t$(e){return e.trim()}function mb(e,t,r){return e.replace(t,r)}function GEe(e,t,r){return e.indexOf(t,r)}function Zd(e,t){return e.charCodeAt(t)|0}function Ep(e,t,r){return e.slice(t,r)}function jo(e){return e.length}function qEe(e){return e.length}function $0(e,t){return t.push(e),e}var mx=1,vp=1,r$=0,zi=0,_a=0,$p="";function nC(e,t,r,n,a,i,o,l){return{value:e,root:t,parent:r,type:n,props:a,children:i,line:mx,column:vp,length:o,return:"",siblings:l}}function WEe(){return _a}function YEe(){return _a=zi>0?Zd($p,--zi):0,vp--,_a===10&&(vp=1,mx--),_a}function po(){return _a=zi<r$?Zd($p,zi++):0,vp++,_a===10&&(vp=1,mx++),_a}function dc(){return Zd($p,zi)}function fb(){return zi}function fx(e,t){return Ep($p,e,t)}function xm(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function VEe(e){return mx=vp=1,r$=jo($p=e),zi=0,[]}function KEe(e){return $p="",e}function QS(e){return t$(fx(zi-1,XT(e===91?e+2:e===40?e+1:e)))}function QEe(e){for(;(_a=dc())&&_a<33;)po();return xm(e)>2||xm(_a)>3?"":" "}function XEe(e,t){for(;--t&&po()&&!(_a<48||_a>102||_a>57&&_a<65||_a>70&&_a<97););return fx(e,fb()+(t<6&&dc()==32&&po()==32))}function XT(e){for(;po();)switch(_a){case e:return zi;case 34:case 39:e!==34&&e!==39&&XT(_a);break;case 40:e===41&&XT(e);break;case 92:po();break}return zi}function ZEe(e,t){for(;po()&&e+_a!==57;)if(e+_a===84&&dc()===47)break;return"/*"+fx(t,zi-1)+"*"+rC(e===47?e:po())}function JEe(e){for(;!xm(dc());)po();return fx(e,zi)}function eve(e){return KEe(bb("",null,null,null,[""],e=VEe(e),0,[0],e))}function bb(e,t,r,n,a,i,o,l,u){for(var d=0,h=0,g=o,f=0,b=0,x=0,E=1,v=1,T=1,w=0,N="",R=a,D=i,L=n,j=N;v;)switch(x=w,w=po()){case 40:if(x!=108&&Zd(j,g-1)==58){GEe(j+=mb(QS(w),"&","&\f"),"&\f",e$(d?l[d-1]:0))!=-1&&(T=-1);break}case 34:case 39:case 91:j+=QS(w);break;case 9:case 10:case 13:case 32:j+=QEe(x);break;case 92:j+=XEe(fb()-1,7);continue;case 47:switch(dc()){case 42:case 47:$0(tve(ZEe(po(),fb()),t,r,u),u),(xm(x||1)==5||xm(dc()||1)==5)&&jo(j)&&Ep(j,-1,void 0)!==" "&&(j+=" ");break;default:j+="/"}break;case 123*E:l[d++]=jo(j)*T;case 125*E:case 59:case 0:switch(w){case 0:case 125:v=0;case 59+h:T==-1&&(j=mb(j,/\f/g,"")),b>0&&(jo(j)-g||E===0&&x===47)&&$0(b>32?hP(j+";",n,r,g-1,u):hP(mb(j," ","")+";",n,r,g-2,u),u);break;case 59:j+=";";default:if($0(L=pP(j,t,r,d,h,a,l,N,R=[],D=[],g,i),i),w===123)if(h===0)bb(j,t,L,L,R,i,g,l,D);else{switch(f){case 99:if(Zd(j,3)===110)break;case 108:if(Zd(j,2)===97)break;default:h=0;case 100:case 109:case 115:}h?bb(e,L,L,n&&$0(pP(e,L,L,0,0,a,l,N,a,R=[],g,D),D),a,D,g,l,n?R:D):bb(j,L,L,L,[""],D,0,l,D)}}d=h=b=0,E=T=1,N=j="",g=o;break;case 58:g=1+jo(j),b=x;default:if(E<1){if(w==123)--E;else if(w==125&&E++==0&&YEe()==125)continue}switch(j+=rC(w),w*E){case 38:T=h>0?1:(j+="\f",-1);break;case 44:l[d++]=(jo(j)-1)*T,T=1;break;case 64:dc()===45&&(j+=QS(po())),f=dc(),h=g=jo(N=j+=JEe(fb())),w++;break;case 45:x===45&&jo(j)==2&&(E=0)}}return i}function pP(e,t,r,n,a,i,o,l,u,d,h,g){for(var f=a-1,b=a===0?i:[""],x=qEe(b),E=0,v=0,T=0;E<n;++E)for(var w=0,N=Ep(e,f+1,f=e$(v=o[E])),R=e;w<x;++w)(R=t$(v>0?b[w]+" "+N:mb(N,/&\f/g,b[w])))&&(u[T++]=R);return nC(e,t,r,a===0?Z9:l,u,d,h,g)}function tve(e,t,r,n){return nC(e,t,r,X9,rC(WEe()),Ep(e,2,-2),0,n)}function hP(e,t,r,n,a){return nC(e,t,r,J9,Ep(e,0,n),Ep(e,n+1,-1),n,a)}function ZT(e,t){for(var r="",n=0;n<e.length;n++)r+=t(e[n],n,e,t)||"";return r}function rve(e,t,r,n){switch(e.type){case zEe:if(e.children.length)break;case UEe:case $Ee:case J9:return e.return=e.return||e.value;case X9:return"";case HEe:return e.return=e.value+"{"+ZT(e.children,n)+"}";case Z9:if(!jo(e.value=e.props.join(",")))return""}return jo(r=ZT(e.children,n))?e.return=e.value+"{"+r+"}":""}var nve=AU(Object.keys,Object),ave=Object.prototype,sve=ave.hasOwnProperty;function ive(e){if(!sx(e))return nve(e);var t=[];for(var r in Object(e))sve.call(e,r)&&r!="constructor"&&t.push(r);return t}var JT=Ou(Ko,"DataView"),ew=Ou(Ko,"Promise"),tw=Ou(Ko,"Set"),rw=Ou(Ko,"WeakMap"),gP="[object Map]",ove="[object Object]",mP="[object Promise]",fP="[object Set]",bP="[object WeakMap]",yP="[object DataView]",lve=Lu(JT),cve=Lu(fm),uve=Lu(ew),dve=Lu(tw),pve=Lu(rw),Jc=Fp;(JT&&Jc(new JT(new ArrayBuffer(1)))!=yP||fm&&Jc(new fm)!=gP||ew&&Jc(ew.resolve())!=mP||tw&&Jc(new tw)!=fP||rw&&Jc(new rw)!=bP)&&(Jc=function(e){var t=Fp(e),r=t==ove?e.constructor:void 0,n=r?Lu(r):"";if(n)switch(n){case lve:return yP;case cve:return gP;case uve:return mP;case dve:return fP;case pve:return bP}return t});var hve="[object Map]",gve="[object Set]",mve=Object.prototype,fve=mve.hasOwnProperty;function xP(e){if(e==null)return!0;if(ix(e)&&(ly(e)||typeof e=="string"||typeof e.splice=="function"||Ok(e)||Mk(e)||oy(e)))return!e.length;var t=Jc(e);if(t==hve||t==gve)return!e.size;if(sx(e))return!ive(e).length;for(var r in e)if(fve.call(e,r))return!1;return!0}var n$="c4",bve=M(e=>/^\s*C4Context|C4Container|C4Component|C4Dynamic|C4Deployment/.test(e),"detector"),yve=M(async()=>{const{diagram:e}=await wr(async()=>{const{diagram:t}=await import("./c4Diagram-YG6GDRKO-DUsEaJjc.js");return{diagram:t}},__vite__mapDeps([13,14]));return{id:n$,diagram:e}},"loader"),xve={id:n$,detector:bve,loader:yve},Eve=xve,a$="flowchart",vve=M((e,t)=>t?.flowchart?.defaultRenderer==="dagre-wrapper"||t?.flowchart?.defaultRenderer==="elk"?!1:/^\s*graph/.test(e),"detector"),Sve=M(async()=>{const{diagram:e}=await wr(async()=>{const{diagram:t}=await import("./flowDiagram-NV44I4VS-BW4_Tg2k.js");return{diagram:t}},__vite__mapDeps([15,16,17,18,19]));return{id:a$,diagram:e}},"loader"),Tve={id:a$,detector:vve,loader:Sve},wve=Tve,s$="flowchart-v2",kve=M((e,t)=>t?.flowchart?.defaultRenderer==="dagre-d3"?!1:(t?.flowchart?.defaultRenderer==="elk"&&(t.layout="elk"),/^\s*graph/.test(e)&&t?.flowchart?.defaultRenderer==="dagre-wrapper"?!0:/^\s*flowchart/.test(e)),"detector"),Cve=M(async()=>{const{diagram:e}=await wr(async()=>{const{diagram:t}=await import("./flowDiagram-NV44I4VS-BW4_Tg2k.js");return{diagram:t}},__vite__mapDeps([15,16,17,18,19]));return{id:s$,diagram:e}},"loader"),_ve={id:s$,detector:kve,loader:Cve},Ave=_ve,i$="er",Nve=M(e=>/^\s*erDiagram/.test(e),"detector"),Ive=M(async()=>{const{diagram:e}=await wr(async()=>{const{diagram:t}=await import("./erDiagram-Q2GNP2WA-B00jDUzU.js");return{diagram:t}},__vite__mapDeps([20,17,18,19]));return{id:i$,diagram:e}},"loader"),Rve={id:i$,detector:Nve,loader:Ive},Dve=Rve,o$="gitGraph",Lve=M(e=>/^\s*gitGraph/.test(e),"detector"),Ove=M(async()=>{const{diagram:e}=await wr(async()=>{const{diagram:t}=await import("./gitGraphDiagram-NY62KEGX-DjAXf0Xi.js");return{diagram:t}},__vite__mapDeps([21,22,23,24,7,9,10]));return{id:o$,diagram:e}},"loader"),Mve={id:o$,detector:Lve,loader:Ove},Pve=Mve,l$="gantt",jve=M(e=>/^\s*gantt/.test(e),"detector"),Fve=M(async()=>{const{diagram:e}=await wr(async()=>{const{diagram:t}=await import("./ganttDiagram-LVOFAZNH-Dh0RIFb3.js");return{diagram:t}},__vite__mapDeps([25,26,27,28]));return{id:l$,diagram:e}},"loader"),Bve={id:l$,detector:jve,loader:Fve},Uve=Bve,c$="info",$ve=M(e=>/^\s*info/.test(e),"detector"),Hve=M(async()=>{const{diagram:e}=await wr(async()=>{const{diagram:t}=await import("./infoDiagram-F6ZHWCRC-15_hbC3E.js");return{diagram:t}},__vite__mapDeps([29,24,7,9,10]));return{id:c$,diagram:e}},"loader"),zve={id:c$,detector:$ve,loader:Hve},u$="pie",Gve=M(e=>/^\s*pie/.test(e),"detector"),qve=M(async()=>{const{diagram:e}=await wr(async()=>{const{diagram:t}=await import("./pieDiagram-ADFJNKIX-CfjBoZrL.js");return{diagram:t}},__vite__mapDeps([30,22,24,7,9,10,31,32,27]));return{id:u$,diagram:e}},"loader"),Wve={id:u$,detector:Gve,loader:qve},d$="quadrantChart",Yve=M(e=>/^\s*quadrantChart/.test(e),"detector"),Vve=M(async()=>{const{diagram:e}=await wr(async()=>{const{diagram:t}=await import("./quadrantDiagram-AYHSOK5B-CHi9Xiob.js");return{diagram:t}},__vite__mapDeps([33,26,27,28]));return{id:d$,diagram:e}},"loader"),Kve={id:d$,detector:Yve,loader:Vve},Qve=Kve,p$="xychart",Xve=M(e=>/^\s*xychart(-beta)?/.test(e),"detector"),Zve=M(async()=>{const{diagram:e}=await wr(async()=>{const{diagram:t}=await import("./xychartDiagram-PRI3JC2R-DmmoStnH.js");return{diagram:t}},__vite__mapDeps([34,27,32,26,28]));return{id:p$,diagram:e}},"loader"),Jve={id:p$,detector:Xve,loader:Zve},eSe=Jve,h$="requirement",tSe=M(e=>/^\s*requirement(Diagram)?/.test(e),"detector"),rSe=M(async()=>{const{diagram:e}=await wr(async()=>{const{diagram:t}=await import("./requirementDiagram-UZGBJVZJ-DZ6EF743.js");return{diagram:t}},__vite__mapDeps([35,17,18]));return{id:h$,diagram:e}},"loader"),nSe={id:h$,detector:tSe,loader:rSe},aSe=nSe,g$="sequence",sSe=M(e=>/^\s*sequenceDiagram/.test(e),"detector"),iSe=M(async()=>{const{diagram:e}=await wr(async()=>{const{diagram:t}=await import("./sequenceDiagram-WL72ISMW-CTcwJ9Xg.js");return{diagram:t}},__vite__mapDeps([36,14,23]));return{id:g$,diagram:e}},"loader"),oSe={id:g$,detector:sSe,loader:iSe},lSe=oSe,m$="class",cSe=M((e,t)=>t?.class?.defaultRenderer==="dagre-wrapper"?!1:/^\s*classDiagram/.test(e),"detector"),uSe=M(async()=>{const{diagram:e}=await wr(async()=>{const{diagram:t}=await import("./classDiagram-2ON5EDUG-C82vwNFi.js");return{diagram:t}},__vite__mapDeps([37,38,16,17,18]));return{id:m$,diagram:e}},"loader"),dSe={id:m$,detector:cSe,loader:uSe},pSe=dSe,f$="classDiagram",hSe=M((e,t)=>/^\s*classDiagram/.test(e)&&t?.class?.defaultRenderer==="dagre-wrapper"?!0:/^\s*classDiagram-v2/.test(e),"detector"),gSe=M(async()=>{const{diagram:e}=await wr(async()=>{const{diagram:t}=await import("./classDiagram-v2-WZHVMYZB-C82vwNFi.js");return{diagram:t}},__vite__mapDeps([39,38,16,17,18]));return{id:f$,diagram:e}},"loader"),mSe={id:f$,detector:hSe,loader:gSe},fSe=mSe,b$="state",bSe=M((e,t)=>t?.state?.defaultRenderer==="dagre-wrapper"?!1:/^\s*stateDiagram/.test(e),"detector"),ySe=M(async()=>{const{diagram:e}=await wr(async()=>{const{diagram:t}=await import("./stateDiagram-FKZM4ZOC-N7vkjjxG.js");return{diagram:t}},__vite__mapDeps([40,41,17,18,6,7,8,9]));return{id:b$,diagram:e}},"loader"),xSe={id:b$,detector:bSe,loader:ySe},ESe=xSe,y$="stateDiagram",vSe=M((e,t)=>!!(/^\s*stateDiagram-v2/.test(e)||/^\s*stateDiagram/.test(e)&&t?.state?.defaultRenderer==="dagre-wrapper"),"detector"),SSe=M(async()=>{const{diagram:e}=await wr(async()=>{const{diagram:t}=await import("./stateDiagram-v2-4FDKWEC3-aNZz1952.js");return{diagram:t}},__vite__mapDeps([42,41,17,18]));return{id:y$,diagram:e}},"loader"),TSe={id:y$,detector:vSe,loader:SSe},wSe=TSe,x$="journey",kSe=M(e=>/^\s*journey/.test(e),"detector"),CSe=M(async()=>{const{diagram:e}=await wr(async()=>{const{diagram:t}=await import("./journeyDiagram-XKPGCS4Q-6C4vR_GX.js");return{diagram:t}},__vite__mapDeps([43,14,16,31]));return{id:x$,diagram:e}},"loader"),_Se={id:x$,detector:kSe,loader:CSe},ASe=_Se,NSe=M((e,t,r)=>{st.debug(`rendering svg for syntax error
`);const n=cme(t),a=n.append("g");n.attr("viewBox","0 0 2412 512"),WF(n,100,512,!0),a.append("path").attr("class","error-icon").attr("d","m411.313,123.313c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32-9.375,9.375-20.688-20.688c-12.484-12.5-32.766-12.5-45.25,0l-16,16c-1.261,1.261-2.304,2.648-3.31,4.051-21.739-8.561-45.324-13.426-70.065-13.426-105.867,0-192,86.133-192,192s86.133,192 192,192 192-86.133 192-192c0-24.741-4.864-48.327-13.426-70.065 1.402-1.007 2.79-2.049 4.051-3.31l16-16c12.5-12.492 12.5-32.758 0-45.25l-20.688-20.688 9.375-9.375 32.001-31.999zm-219.313,100.687c-52.938,0-96,43.063-96,96 0,8.836-7.164,16-16,16s-16-7.164-16-16c0-70.578 57.422-128 128-128 8.836,0 16,7.164 16,16s-7.164,16-16,16z"),a.append("path").attr("class","error-icon").attr("d","m459.02,148.98c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l16,16c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16.001-16z"),a.append("path").attr("class","error-icon").attr("d","m340.395,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16-16c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l15.999,16z"),a.append("path").attr("class","error-icon").attr("d","m400,64c8.844,0 16-7.164 16-16v-32c0-8.836-7.156-16-16-16-8.844,0-16,7.164-16,16v32c0,8.836 7.156,16 16,16z"),a.append("path").attr("class","error-icon").attr("d","m496,96.586h-32c-8.844,0-16,7.164-16,16 0,8.836 7.156,16 16,16h32c8.844,0 16-7.164 16-16 0-8.836-7.156-16-16-16z"),a.append("path").attr("class","error-icon").attr("d","m436.98,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688l32-32c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32c-6.251,6.25-6.251,16.375-0.001,22.625z"),a.append("text").attr("class","error-text").attr("x",1440).attr("y",250).attr("font-size","150px").style("text-anchor","middle").text("Syntax error in text"),a.append("text").attr("class","error-text").attr("x",1250).attr("y",400).attr("font-size","100px").style("text-anchor","middle").text(`mermaid version ${r}`)},"draw"),E$={draw:NSe},ISe=E$,RSe={db:{},renderer:E$,parser:{parse:M(()=>{},"parse")}},DSe=RSe,v$="flowchart-elk",LSe=M((e,t={})=>/^\s*flowchart-elk/.test(e)||/^\s*(flowchart|graph)/.test(e)&&t?.flowchart?.defaultRenderer==="elk"?(t.layout="elk",!0):!1,"detector"),OSe=M(async()=>{const{diagram:e}=await wr(async()=>{const{diagram:t}=await import("./flowDiagram-NV44I4VS-BW4_Tg2k.js");return{diagram:t}},__vite__mapDeps([15,16,17,18,19]));return{id:v$,diagram:e}},"loader"),MSe={id:v$,detector:LSe,loader:OSe},PSe=MSe,S$="timeline",jSe=M(e=>/^\s*timeline/.test(e),"detector"),FSe=M(async()=>{const{diagram:e}=await wr(async()=>{const{diagram:t}=await import("./timeline-definition-IT6M3QCI-CjL2KKuN.js");return{diagram:t}},__vite__mapDeps([44,31]));return{id:S$,diagram:e}},"loader"),BSe={id:S$,detector:jSe,loader:FSe},USe=BSe,T$="mindmap",$Se=M(e=>/^\s*mindmap/.test(e),"detector"),HSe=M(async()=>{const{diagram:e}=await wr(async()=>{const{diagram:t}=await import("./mindmap-definition-VGOIOE7T-reavsnLG.js");return{diagram:t}},__vite__mapDeps([45,17,18]));return{id:T$,diagram:e}},"loader"),zSe={id:T$,detector:$Se,loader:HSe},GSe=zSe,w$="kanban",qSe=M(e=>/^\s*kanban/.test(e),"detector"),WSe=M(async()=>{const{diagram:e}=await wr(async()=>{const{diagram:t}=await import("./kanban-definition-3W4ZIXB7-C6YLYMVY.js");return{diagram:t}},__vite__mapDeps([46,16]));return{id:w$,diagram:e}},"loader"),YSe={id:w$,detector:qSe,loader:WSe},VSe=YSe,k$="sankey",KSe=M(e=>/^\s*sankey(-beta)?/.test(e),"detector"),QSe=M(async()=>{const{diagram:e}=await wr(async()=>{const{diagram:t}=await import("./sankeyDiagram-TZEHDZUN-WPOfjSJ4.js");return{diagram:t}},__vite__mapDeps([47,32,27]));return{id:k$,diagram:e}},"loader"),XSe={id:k$,detector:KSe,loader:QSe},ZSe=XSe,C$="packet",JSe=M(e=>/^\s*packet(-beta)?/.test(e),"detector"),e1e=M(async()=>{const{diagram:e}=await wr(async()=>{const{diagram:t}=await import("./diagram-S2PKOQOG-DulpK0UX.js");return{diagram:t}},__vite__mapDeps([48,22,24,7,9,10]));return{id:C$,diagram:e}},"loader"),t1e={id:C$,detector:JSe,loader:e1e},_$="radar",r1e=M(e=>/^\s*radar-beta/.test(e),"detector"),n1e=M(async()=>{const{diagram:e}=await wr(async()=>{const{diagram:t}=await import("./diagram-QEK2KX5R-Bzxrx1Wt.js");return{diagram:t}},__vite__mapDeps([49,22,24,7,9,10]));return{id:_$,diagram:e}},"loader"),a1e={id:_$,detector:r1e,loader:n1e},A$="block",s1e=M(e=>/^\s*block(-beta)?/.test(e),"detector"),i1e=M(async()=>{const{diagram:e}=await wr(async()=>{const{diagram:t}=await import("./blockDiagram-VD42YOAC-DGhUjaKI.js");return{diagram:t}},__vite__mapDeps([50,16,10,7,6,19]));return{id:A$,diagram:e}},"loader"),o1e={id:A$,detector:s1e,loader:i1e},l1e=o1e,N$="architecture",c1e=M(e=>/^\s*architecture/.test(e),"detector"),u1e=M(async()=>{const{diagram:e}=await wr(async()=>{const{diagram:t}=await import("./architectureDiagram-VXUJARFQ-DvmPSMxF.js");return{diagram:t}},__vite__mapDeps([51,22,24,7,9,10,12]));return{id:N$,diagram:e}},"loader"),d1e={id:N$,detector:c1e,loader:u1e},p1e=d1e,I$="treemap",h1e=M(e=>/^\s*treemap/.test(e),"detector"),g1e=M(async()=>{const{diagram:e}=await wr(async()=>{const{diagram:t}=await import("./diagram-PSM6KHXK-Cu9ur84G.js");return{diagram:t}},__vite__mapDeps([52,18,22,24,7,9,10,28,32,27]));return{id:I$,diagram:e}},"loader"),m1e={id:I$,detector:h1e,loader:g1e},EP=!1,bx=M(()=>{EP||(EP=!0,Hb("error",DSe,e=>e.toLowerCase().trim()==="error"),Hb("---",{db:{clear:M(()=>{},"clear")},styles:{},renderer:{draw:M(()=>{},"draw")},parser:{parse:M(()=>{throw new Error("Diagrams beginning with --- are not valid. If you were trying to use a YAML front-matter, please ensure that you've correctly opened and closed the YAML front-matter with un-indented `---` blocks")},"parse")},init:M(()=>null,"init")},e=>e.toLowerCase().trimStart().startsWith("---")),cT(PSe,GSe,p1e),cT(Eve,VSe,fSe,pSe,Dve,Uve,zve,Wve,aSe,lSe,Ave,wve,USe,Pve,wSe,ESe,ASe,Qve,ZSe,t1e,eSe,l1e,a1e,m1e))},"addDiagrams"),f1e=M(async()=>{st.debug("Loading registered diagrams");const t=(await Promise.allSettled(Object.entries(bu).map(async([r,{detector:n,loader:a}])=>{if(a)try{hT(r)}catch{try{const{diagram:i,id:o}=await a();Hb(o,i,n)}catch(i){throw st.error(`Failed to load external diagram with key ${r}. Removing from detectors.`),delete bu[r],i}}}))).filter(r=>r.status==="rejected");if(t.length>0){st.error(`Failed to load ${t.length} external diagrams`);for(const r of t)st.error(r);throw new Error(`Failed to load ${t.length} external diagrams`)}},"loadRegisteredDiagrams"),b1e="graphics-document document";function R$(e,t){e.attr("role",b1e),t!==""&&e.attr("aria-roledescription",t)}M(R$,"setA11yDiagramInfo");function D$(e,t,r,n){if(e.insert!==void 0){if(r){const a=`chart-desc-${n}`;e.attr("aria-describedby",a),e.insert("desc",":first-child").attr("id",a).text(r)}if(t){const a=`chart-title-${n}`;e.attr("aria-labelledby",a),e.insert("title",":first-child").attr("id",a).text(t)}}}M(D$,"addSVGa11yTitleDescription");var hu,nw=(hu=class{constructor(t,r,n,a,i){this.type=t,this.text=r,this.db=n,this.parser=a,this.renderer=i}static async fromText(t,r={}){const n=ps(),a=sk(t,n);t=mye(t)+`
`;try{hT(a)}catch{const d=Bue(a);if(!d)throw new OF(`Diagram ${a} not found.`);const{id:h,diagram:g}=await d();Hb(h,g)}const{db:i,parser:o,renderer:l,init:u}=hT(a);return o.parser&&(o.parser.yy=i),i.clear?.(),u?.(n),r.title&&i.setDiagramTitle?.(r.title),await o.parse(t),new hu(a,t,i,o,l)}async render(t,r){await this.renderer.draw(this.text,t,r,this)}getParser(){return this.parser}getType(){return this.type}},M(hu,"Diagram"),hu),vP=[],y1e=M(()=>{vP.forEach(e=>{e()}),vP=[]},"attachFunctions"),x1e=M(e=>e.replace(/^\s*%%(?!{)[^\n]+\n?/gm,"").trimStart(),"cleanupComments");function L$(e){const t=e.match(LF);if(!t)return{text:e,metadata:{}};let r=ffe(t[1],{schema:mfe})??{};r=typeof r=="object"&&!Array.isArray(r)?r:{};const n={};return r.displayMode&&(n.displayMode=r.displayMode.toString()),r.title&&(n.title=r.title.toString()),r.config&&(n.config=r.config),{text:e.slice(t[0].length),metadata:n}}M(L$,"extractFrontMatter");var E1e=M(e=>e.replace(/\r\n?/g,`
`).replace(/<(\w+)([^>]*)>/g,(t,r,n)=>"<"+r+n.replace(/="([^"]*)"/g,"='$1'")+">"),"cleanupText"),v1e=M(e=>{const{text:t,metadata:r}=L$(e),{displayMode:n,title:a,config:i={}}=r;return n&&(i.gantt||(i.gantt={}),i.gantt.displayMode=n),{title:a,config:i,text:t}},"processFrontmatter"),S1e=M(e=>{const t=lo.detectInit(e)??{},r=lo.detectDirective(e,"wrap");return Array.isArray(r)?t.wrap=r.some(({type:n})=>n==="wrap"):r?.type==="wrap"&&(t.wrap=!0),{text:rye(e),directive:t}},"processDirectives");function aC(e){const t=E1e(e),r=v1e(t),n=S1e(r.text),a=$k(r.config,n.directive);return e=x1e(n.text),{code:e,title:r.title,config:a}}M(aC,"preprocessDiagram");function O$(e){const t=new TextEncoder().encode(e),r=Array.from(t,n=>String.fromCodePoint(n)).join("");return btoa(r)}M(O$,"toBase64");var T1e=5e4,w1e="graph TB;a[Maximum text size in diagram exceeded];style a fill:#faa",k1e="sandbox",C1e="loose",_1e="http://www.w3.org/2000/svg",A1e="http://www.w3.org/1999/xlink",N1e="http://www.w3.org/1999/xhtml",I1e="100%",R1e="100%",D1e="border:0;margin:0;",L1e="margin:0",O1e="allow-top-navigation-by-user-activation allow-popups",M1e='The "iframe" tag is not supported by your browser.',P1e=["foreignobject"],j1e=["dominant-baseline"];function sC(e){const t=aC(e);return Ub(),tde(t.config??{}),t}M(sC,"processAndSetConfigs");async function M$(e,t){bx();try{const{code:r,config:n}=sC(e);return{diagramType:(await j$(r)).type,config:n}}catch(r){if(t?.suppressErrors)return!1;throw r}}M(M$,"parse");var SP=M((e,t,r=[])=>`
.${e} ${t} { ${r.join(" !important; ")} !important; }`,"cssImportantStyles"),F1e=M((e,t=new Map)=>{let r="";if(e.themeCSS!==void 0&&(r+=`
${e.themeCSS}`),e.fontFamily!==void 0&&(r+=`
:root { --mermaid-font-family: ${e.fontFamily}}`),e.altFontFamily!==void 0&&(r+=`
:root { --mermaid-alt-font-family: ${e.altFontFamily}}`),t instanceof Map){const o=e.htmlLabels??e.flowchart?.htmlLabels?["> *","span"]:["rect","polygon","ellipse","circle","path"];t.forEach(l=>{xP(l.styles)||o.forEach(u=>{r+=SP(l.id,u,l.styles)}),xP(l.textStyles)||(r+=SP(l.id,"tspan",(l?.textStyles||[]).map(u=>u.replace("color","fill"))))})}return r},"createCssStyles"),B1e=M((e,t,r,n)=>{const a=F1e(e,r),i=vde(t,a,e.themeVariables);return ZT(eve(`${n}{${i}}`),rve)},"createUserStyles"),U1e=M((e="",t,r)=>{let n=e;return!r&&!t&&(n=n.replace(/marker-end="url\([\d+./:=?A-Za-z-]*?#/g,'marker-end="url(#')),n=Mu(n),n=n.replace(/<br>/g,"<br/>"),n},"cleanUpSvgCode"),$1e=M((e="",t)=>{const r=t?.viewBox?.baseVal?.height?t.viewBox.baseVal.height+"px":R1e,n=O$(`<body style="${L1e}">${e}</body>`);return`<iframe style="width:${I1e};height:${r};${D1e}" src="data:text/html;charset=UTF-8;base64,${n}" sandbox="${O1e}">
  ${M1e}
</iframe>`},"putIntoIFrame"),TP=M((e,t,r,n,a)=>{const i=e.append("div");i.attr("id",r),n&&i.attr("style",n);const o=i.append("svg").attr("id",t).attr("width","100%").attr("xmlns",_1e);return a&&o.attr("xmlns:xlink",a),o.append("g"),e},"appendDivSvgG");function aw(e,t){return e.append("iframe").attr("id",t).attr("style","width: 100%; height: 100%;").attr("sandbox","")}M(aw,"sandboxedIframe");var H1e=M((e,t,r,n)=>{e.getElementById(t)?.remove(),e.getElementById(r)?.remove(),e.getElementById(n)?.remove()},"removeExistingElements"),z1e=M(async function(e,t,r){bx();const n=sC(t);t=n.code;const a=ps();st.debug(a),t.length>(a?.maxTextSize??T1e)&&(t=w1e);const i="#"+e,o="i"+e,l="#"+o,u="d"+e,d="#"+u,h=M(()=>{const Q=sn(f?l:d).node();Q&&"remove"in Q&&Q.remove()},"removeTempElements");let g=sn("body");const f=a.securityLevel===k1e,b=a.securityLevel===C1e,x=a.fontFamily;if(r!==void 0){if(r&&(r.innerHTML=""),f){const X=aw(sn(r),o);g=sn(X.nodes()[0].contentDocument.body),g.node().style.margin=0}else g=sn(r);TP(g,e,u,`font-family: ${x}`,A1e)}else{if(H1e(document,e,u,o),f){const X=aw(sn("body"),o);g=sn(X.nodes()[0].contentDocument.body),g.node().style.margin=0}else g=sn("body");TP(g,e,u)}let E,v;try{E=await nw.fromText(t,{title:n.title})}catch(X){if(a.suppressErrorRendering)throw h(),X;E=await nw.fromText("error"),v=X}const T=g.select(d).node(),w=E.type,N=T.firstChild,R=N.firstChild,D=E.renderer.getClasses?.(t,E),L=B1e(a,w,D,i),j=document.createElement("style");j.innerHTML=L,N.insertBefore(j,R);try{await E.renderer.draw(t,e,zO.version,E)}catch(X){throw a.suppressErrorRendering?h():ISe.draw(t,e,zO.version),X}const B=g.select(`${d} svg`),q=E.db.getAccTitle?.(),z=E.db.getAccDescription?.();F$(w,B,q,z),g.select(`[id="${e}"]`).selectAll("foreignobject > *").attr("xmlns",N1e);let K=g.select(d).node().innerHTML;if(st.debug("config.arrowMarkerAbsolute",a.arrowMarkerAbsolute),K=U1e(K,f,ja(a.arrowMarkerAbsolute)),f){const X=g.select(d+" svg").node();K=$1e(K,X)}else b||(K=hp.sanitize(K,{ADD_TAGS:P1e,ADD_ATTR:j1e,HTML_INTEGRATION_POINTS:{foreignobject:!0}}));if(y1e(),v)throw v;return h(),{diagramType:w,svg:K,bindFunctions:E.db.bindFunctions}},"render");function P$(e={}){const t=Oa({},e);t?.fontFamily&&!t.themeVariables?.fontFamily&&(t.themeVariables||(t.themeVariables={}),t.themeVariables.fontFamily=t.fontFamily),Jue(t),t?.theme&&t.theme in Sl?t.themeVariables=Sl[t.theme].getThemeVariables(t.themeVariables):t&&(t.themeVariables=Sl.default.getThemeVariables(t.themeVariables));const r=typeof t=="object"?Zue(t):BF();ak(r.logLevel),bx()}M(P$,"initialize");var j$=M((e,t={})=>{const{code:r}=aC(e);return nw.fromText(r,t)},"getDiagramFromText");function F$(e,t,r,n){R$(t,e),D$(t,r,n,t.attr("id"))}M(F$,"addA11yInfo");var Tu=Object.freeze({render:z1e,parse:M$,getDiagramFromText:j$,initialize:P$,getConfig:ps,setConfig:UF,getSiteConfig:BF,updateSiteConfig:ede,reset:M(()=>{Ub()},"reset"),globalReset:M(()=>{Ub(gp)},"globalReset"),defaultConfig:gp});ak(ps().logLevel);Ub(ps());var G1e=M((e,t,r)=>{st.warn(e),Uk(e)?(r&&r(e.str,e.hash),t.push({...e,message:e.str,error:e})):(r&&r(e),e instanceof Error&&t.push({str:e.message,message:e.message,hash:e.name,error:e}))},"handleError"),B$=M(async function(e={querySelector:".mermaid"}){try{await q1e(e)}catch(t){if(Uk(t)&&st.error(t.str),_l.parseError&&_l.parseError(t),!e.suppressErrors)throw st.error("Use the suppressErrors option to suppress these errors"),t}},"run"),q1e=M(async function({postRenderCallback:e,querySelector:t,nodes:r}={querySelector:".mermaid"}){const n=Tu.getConfig();st.debug(`${e?"":"No "}Callback function found`);let a;if(r)a=r;else if(t)a=document.querySelectorAll(t);else throw new Error("Nodes and querySelector are both undefined");st.debug(`Found ${a.length} diagrams`),n?.startOnLoad!==void 0&&(st.debug("Start On Load: "+n?.startOnLoad),Tu.updateSiteConfig({startOnLoad:n?.startOnLoad}));const i=new lo.InitIDGenerator(n.deterministicIds,n.deterministicIDSeed);let o;const l=[];for(const u of Array.from(a)){if(st.info("Rendering diagram: "+u.id),u.getAttribute("data-processed"))continue;u.setAttribute("data-processed","true");const d=`mermaid-${i.next()}`;o=u.innerHTML,o=i7(lo.entityDecode(o)).trim().replace(/<br\s*\/?>/gi,"<br/>");const h=lo.detectInit(o);h&&st.debug("Detected early reinit: ",h);try{const{svg:g,bindFunctions:f}=await z$(d,o,u);u.innerHTML=g,e&&await e(d),f&&f(u)}catch(g){G1e(g,l,_l.parseError)}}if(l.length>0)throw l[0]},"runThrowsErrors"),U$=M(function(e){Tu.initialize(e)},"initialize"),W1e=M(async function(e,t,r){st.warn("mermaid.init is deprecated. Please use run instead."),e&&U$(e);const n={postRenderCallback:r,querySelector:".mermaid"};typeof t=="string"?n.querySelector=t:t&&(t instanceof HTMLElement?n.nodes=[t]:n.nodes=t),await B$(n)},"init"),Y1e=M(async(e,{lazyLoad:t=!0}={})=>{bx(),cT(...e),t===!1&&await f1e()},"registerExternalDiagrams"),$$=M(function(){if(_l.startOnLoad){const{startOnLoad:e}=Tu.getConfig();e&&_l.run().catch(t=>st.error("Mermaid failed to initialize",t))}},"contentLoaded");typeof document<"u"&&window.addEventListener("load",$$,!1);var V1e=M(function(e){_l.parseError=e},"setParseErrorHandler"),xy=[],XS=!1,H$=M(async()=>{if(!XS){for(XS=!0;xy.length>0;){const e=xy.shift();if(e)try{await e()}catch(t){st.error("Error executing queue",t)}}XS=!1}},"executeQueue"),K1e=M(async(e,t)=>new Promise((r,n)=>{const a=M(()=>new Promise((i,o)=>{Tu.parse(e,t).then(l=>{i(l),r(l)},l=>{st.error("Error parsing",l),_l.parseError?.(l),o(l),n(l)})}),"performCall");xy.push(a),H$().catch(n)}),"parse"),z$=M((e,t,r)=>new Promise((n,a)=>{const i=M(()=>new Promise((o,l)=>{Tu.render(e,t,r).then(u=>{o(u),n(u)},u=>{st.error("Error parsing",u),_l.parseError?.(u),l(u),a(u)})}),"performCall");xy.push(i),H$().catch(a)}),"render"),Q1e=M(()=>Object.keys(bu).map(e=>({id:e})),"getRegisteredDiagramsMetadata"),_l={startOnLoad:!0,mermaidAPI:Tu,parse:K1e,render:z$,init:W1e,run:B$,registerExternalDiagrams:Y1e,registerLayoutLoaders:Q9,initialize:U$,parseError:void 0,contentLoaded:$$,setParseErrorHandler:V1e,detectType:sk,registerIconPacks:xxe,getRegisteredDiagramsMetadata:Q1e},wP=_l;/*! Check if previously processed *//*!
 * Wait for document loaded before starting the execution
 */const Sp=({data:e,name:t,level:r=0,defaultExpanded:n=!0})=>{const[a,i]=C.useState(n),o=r*16;if(e==null)return s.jsxs("div",{style:{marginLeft:`${o}px`},className:"font-mono text-sm",children:[t&&s.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[t,": "]}),s.jsx("span",{className:"text-gray-500 dark:text-gray-500 italic",children:"null"})]});const l=typeof e;if(l==="string"||l==="number"||l==="boolean")return s.jsxs("div",{style:{marginLeft:`${o}px`},className:"font-mono text-sm",children:[t&&s.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[t,": "]}),s.jsx("span",{className:l==="string"?"text-green-600 dark:text-green-400":l==="number"?"text-blue-600 dark:text-blue-400":"text-purple-600 dark:text-purple-400",children:l==="string"?`"${e}"`:String(e)})]});if(Array.isArray(e))return e.length===0?s.jsxs("div",{style:{marginLeft:`${o}px`},className:"font-mono text-sm",children:[t&&s.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[t,": "]}),s.jsx("span",{className:"text-gray-500 dark:text-gray-500",children:"[]"})]}):s.jsxs("div",{style:{marginLeft:`${o}px`},className:"font-mono text-sm",children:[s.jsxs("button",{onClick:()=>i(!a),className:"text-left hover:bg-gray-100 dark:hover:bg-gray-800 px-1 rounded transition-colors",children:[s.jsx("span",{className:"text-gray-500 dark:text-gray-500 mr-1",children:a?"":""}),t&&s.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[t,": "]}),s.jsxs("span",{className:"text-gray-500 dark:text-gray-500",children:["[",e.length," ",e.length===1?"item":"items","]"]})]}),a&&s.jsx("div",{className:"ml-2",children:e.map((u,d)=>s.jsx(Sp,{data:u,name:String(d),level:r+1,defaultExpanded:r<1},d))})]});if(l==="object"){const u=Object.keys(e);return u.length===0?s.jsxs("div",{style:{marginLeft:`${o}px`},className:"font-mono text-sm",children:[t&&s.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[t,": "]}),s.jsx("span",{className:"text-gray-500 dark:text-gray-500",children:"{}"})]}):s.jsxs("div",{style:{marginLeft:`${o}px`},className:"font-mono text-sm",children:[s.jsxs("button",{onClick:()=>i(!a),className:"text-left hover:bg-gray-100 dark:hover:bg-gray-800 px-1 rounded transition-colors",children:[s.jsx("span",{className:"text-gray-500 dark:text-gray-500 mr-1",children:a?"":""}),t&&s.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[t,": "]}),s.jsxs("span",{className:"text-gray-500 dark:text-gray-500",children:["{",u.length," ",u.length===1?"key":"keys","}"]})]}),a&&s.jsx("div",{className:"ml-2",children:u.map(d=>s.jsx(Sp,{data:e[d],name:d,level:r+1,defaultExpanded:r<1},d))})]})}return s.jsxs("div",{style:{marginLeft:`${o}px`},className:"font-mono text-sm",children:[t&&s.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[t,": "]}),s.jsx("span",{className:"text-gray-500 dark:text-gray-500",children:String(e)})]})},ZS=({content:e})=>{try{const t=JSON.parse(e);return s.jsx("div",{className:"bg-gray-50 dark:bg-gray-900 p-3 rounded border border-gray-200 dark:border-gray-700 overflow-x-auto",children:s.jsx(Sp,{data:t,defaultExpanded:!0})})}catch{return s.jsx("pre",{className:"bg-gray-50 dark:bg-gray-900 p-3 rounded border border-gray-200 dark:border-gray-700 overflow-x-auto text-sm",children:e})}},H0=({data:e,title:t})=>{const[r,n]=C.useState(!1),[a,i]=C.useState(!1),o=h=>{if(typeof h=="string")try{const g=JSON.parse(h);return o(g)}catch{return h}else{if(Array.isArray(h))return h.map(g=>o(g));if(h!==null&&typeof h=="object"){const g={};for(const f in h)g[f]=o(h[f]);return g}}return h},l=o(e),u=()=>{navigator.clipboard.writeText(JSON.stringify(l,null,2)),n(!0),setTimeout(()=>n(!1),2e3)},d=()=>{i(!0)};return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"mt-3",children:s.jsxs("button",{onClick:d,className:"flex items-center justify-between w-full px-4 py-2 bg-gray-100 dark:bg-gray-800 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors",children:[s.jsx("span",{className:"font-medium text-gray-700 dark:text-gray-300",children:t}),s.jsx("span",{className:"text-purple-600 dark:text-purple-400 text-sm font-medium",children:" Click to View"})]})}),a&&s.jsx("div",{className:"fixed inset-0 bg-black/90 z-[100] flex items-center justify-center p-4",onClick:()=>i(!1),children:s.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-xl w-full h-full max-w-7xl max-h-[90vh] flex flex-col shadow-2xl",onClick:h=>h.stopPropagation(),children:[s.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700",children:[s.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white",children:t}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:u,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white text-sm rounded transition-colors",children:r?" Copied!":" Copy All"}),s.jsx("button",{onClick:()=>i(!1),className:"px-4 py-2 bg-gray-700 hover:bg-gray-600 text-white text-sm rounded transition-colors",children:" Close"})]})]}),s.jsx("div",{className:"flex-1 overflow-auto p-4 bg-gray-50 dark:bg-gray-950",children:s.jsx(Sp,{data:l,defaultExpanded:!0})})]})})]})};function X1e(e){switch(e.type){case"guardrail_input":return{label:"Guardrail Input",color:"bg-yellow-50 dark:bg-yellow-900/20",border:"border-yellow-300 dark:border-yellow-700",text:"text-yellow-700 dark:text-yellow-300",icon:""};case"guardrail_output":return{label:"Guardrail Output",color:"bg-yellow-50 dark:bg-yellow-900/20",border:"border-yellow-300 dark:border-yellow-700",text:"text-yellow-700 dark:text-yellow-300",icon:""};case"image_generation":return{label:"Image Generation",color:"bg-pink-50 dark:bg-pink-900/20",border:"border-pink-300 dark:border-pink-700",text:"text-pink-700 dark:text-pink-300",icon:""};case"transcription":return{label:"Whisper Transcription",color:"bg-purple-50 dark:bg-purple-900/20",border:"border-purple-300 dark:border-purple-700",text:"text-purple-700 dark:text-purple-300",icon:""};case"embedding":return{label:"Embedding",color:"bg-indigo-50 dark:bg-indigo-900/20",border:"border-indigo-300 dark:border-indigo-700",text:"text-indigo-700 dark:text-indigo-300",icon:""};case"planning":return{label:"Planning",color:"bg-blue-50 dark:bg-blue-900/20",border:"border-blue-300 dark:border-blue-700",text:"text-blue-700 dark:text-blue-300",icon:""};case"assessment":return{label:"Self-Assessment",color:"bg-teal-50 dark:bg-teal-900/20",border:"border-teal-300 dark:border-teal-700",text:"text-teal-700 dark:text-teal-300",icon:""};default:return{label:"Chat",color:"bg-gray-50 dark:bg-gray-900/20",border:"border-gray-300 dark:border-gray-700",text:"text-gray-700 dark:text-gray-300",icon:""}}}const Z1e=({call:e,index:t})=>{const r=X1e(e),n=e.response?.usage?.prompt_tokens||0,a=e.response?.usage?.completion_tokens||0,i=e.response?.usage?.total_tokens||n+a,o=e.cost??0;return s.jsxs("div",{className:`border-2 ${r.border} ${r.color} rounded-xl p-5 shadow-sm hover:shadow-md transition-shadow`,children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-2xl",children:r.icon}),s.jsxs("div",{children:[s.jsx("h3",{className:`font-bold text-lg ${r.text}`,children:r.label}),s.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[e.provider,"  ",e.model]})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:`text-2xl font-bold ${o>0?"text-red-600 dark:text-red-400":"text-green-600 dark:text-green-400"}`,children:Dw(o)}),s.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:["#",t+1]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 mb-4",children:[s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-3 border border-gray-200 dark:border-gray-700",children:[s.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Prompt Tokens"}),s.jsx("div",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:n.toLocaleString()})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-3 border border-gray-200 dark:border-gray-700",children:[s.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Completion Tokens"}),s.jsx("div",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:a.toLocaleString()})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-3 border border-gray-200 dark:border-gray-700",children:[s.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Total Tokens"}),s.jsx("div",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:i.toLocaleString()})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-3 border border-gray-200 dark:border-gray-700",children:[s.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Duration"}),s.jsx("div",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:e.durationMs?`${(e.durationMs/1e3).toFixed(2)}s`:"N/A"})]})]}),s.jsxs("div",{className:"flex items-center justify-between mb-4 text-sm",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[e.success!==void 0&&s.jsx("span",{className:`px-2 py-1 rounded-full ${e.success?"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-300":"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-300"}`,children:e.success?" Success":" Failed"}),e.httpStatus&&s.jsxs("span",{className:"px-2 py-1 rounded-full bg-gray-100 text-gray-700 dark:bg-gray-800 dark:text-gray-300",children:["HTTP ",e.httpStatus]})]}),s.jsx("div",{className:"text-gray-500 dark:text-gray-400",children:new Date(e.timestamp).toLocaleString()})]}),s.jsxs("div",{className:"space-y-2",children:[e.request&&s.jsx(H0,{data:e.request,title:" Request Body"}),e.response&&s.jsx(H0,{data:e.response,title:" Response Body"}),e.httpHeaders&&s.jsx(H0,{data:e.httpHeaders,title:" HTTP Headers"}),e.metadata&&s.jsx(H0,{data:e.metadata,title:" Metadata"})]})]})};function G$({apiCalls:e,onClose:t}){const r=Au(!0,t),[n,a]=C.useState(!1),{showSuccess:i}=go(),o=e.reduce((f,b)=>f+(b.response?.usage?.prompt_tokens||0),0),l=e.reduce((f,b)=>f+(b.response?.usage?.completion_tokens||0),0),u=o+l,d=e.reduce((f,b)=>f+(b.cost||0),0),h=e.reduce((f,b)=>f+(b.durationMs||0),0),g=()=>{const f=e.map((b,x)=>({callNumber:x+1,type:b.type||"chat",provider:b.provider,model:b.model,timestamp:b.timestamp,request:b.request,response:b.response,httpHeaders:b.httpHeaders,httpStatus:b.httpStatus,cost:b.cost,durationMs:b.durationMs,metadata:b.metadata}));navigator.clipboard.writeText(JSON.stringify(f,null,2)),a(!0),setTimeout(()=>a(!1),2e3),i(` Copied ${e.length} LLM API call${e.length!==1?"s":""} to clipboard`)};return s.jsx("div",{ref:r,className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4",children:s.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-2xl shadow-2xl w-full max-w-5xl max-h-[90vh] flex flex-col",onClick:f=>f.stopPropagation(),children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:" LLM API Transparency"}),s.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:[e.length," API call",e.length!==1?"s":""]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("button",{onClick:g,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white text-sm font-medium rounded-lg transition-colors flex items-center gap-2 shadow-sm hover:shadow-md",children:n?s.jsxs(s.Fragment,{children:[s.jsx("span",{children:""}),s.jsx("span",{children:"Copied All!"})]}):s.jsxs(s.Fragment,{children:[s.jsx("span",{children:""}),s.jsx("span",{children:"Copy All JSON"})]})}),s.jsx("button",{onClick:t,className:"w-12 h-12 flex items-center justify-center rounded-full hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200","aria-label":"Close",children:s.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]}),s.jsx("div",{className:"flex-1 overflow-y-auto p-6 space-y-4",children:e.length===0?s.jsx("div",{className:"text-center py-12 text-gray-500 dark:text-gray-400",children:"No API calls found."}):e.map((f,b)=>s.jsx(Z1e,{call:f,index:b},b))}),s.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-700 p-6 bg-gray-50 dark:bg-gray-800/50",children:[s.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-gray-100 mb-4",children:" Grand Totals"}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 border-2 border-gray-200 dark:border-gray-700",children:[s.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1",children:"Prompt Tokens"}),s.jsx("div",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:o.toLocaleString()})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 border-2 border-gray-200 dark:border-gray-700",children:[s.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1",children:"Completion Tokens"}),s.jsx("div",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:l.toLocaleString()})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 border-2 border-gray-200 dark:border-gray-700",children:[s.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1",children:"Total Tokens"}),s.jsx("div",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:u.toLocaleString()})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 border-2 border-gray-200 dark:border-gray-700",children:[s.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1",children:"Total Duration"}),s.jsxs("div",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:[(h/1e3).toFixed(2),"s"]})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 border-2 border-green-200 dark:border-green-700 bg-gradient-to-br from-green-50 to-white dark:from-green-900/20 dark:to-gray-800",children:[s.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1",children:"Total Cost"}),s.jsx("div",{className:"text-2xl font-bold text-green-700 dark:text-green-400",children:Dw(d)})]})]})]})]})})}const J1e=({chart:e,description:t,onLlmApiCall:r})=>{const n=C.useRef(null),[a,i]=C.useState(null),[o,l]=C.useState(!1),[u,d]=C.useState([]),[h,g]=C.useState(e),[f,b]=C.useState(!1),[x,E]=C.useState(!1),[v,T]=C.useState(!1),{accessToken:w}=Ps(),{settings:N}=mo(),{addCost:R}=_m(),{addSnippet:D}=_u(),{showSuccess:L,showError:j}=go(),B=async()=>{if(n.current)try{const X=n.current.querySelector("svg");if(!X){j("Chart not found");return}const Q=document.createElement("canvas"),O=new XMLSerializer().serializeToString(X),H=new Image,$=new Blob([O],{type:"image/svg+xml;charset=utf-8"}),Y=URL.createObjectURL($);H.onload=async()=>{Q.width=X.clientWidth||800,Q.height=X.clientHeight||600;const V=Q.getContext("2d");V&&(V.fillStyle="white",V.fillRect(0,0,Q.width,Q.height),V.drawImage(H,0,0),Q.toBlob(async ne=>{if(ne)try{await navigator.clipboard.write([new ClipboardItem({"image/png":ne})]),T(!0),setTimeout(()=>T(!1),2e3),L("Chart image copied to clipboard!")}catch(P){console.error("Failed to copy to clipboard:",P),j("Failed to copy image to clipboard")}})),URL.revokeObjectURL(Y)},H.onerror=()=>{j("Failed to process chart image"),URL.revokeObjectURL(Y)},H.src=Y}catch(X){console.error("Failed to copy image:",X),j("Failed to copy chart image")}},q=async()=>{if(n.current)try{const X=n.current.querySelector("svg");if(!X){j("Chart not found");return}const Q=t||"Chart diagram",O=document.createElement("canvas"),H=new XMLSerializer().serializeToString(X),$=new Image,Y=new Blob([H],{type:"image/svg+xml;charset=utf-8"}),V=URL.createObjectURL(Y);$.onload=async()=>{try{O.width=X.clientWidth||800,O.height=X.clientHeight||600;const ne=O.getContext("2d");if(ne){ne.fillStyle="white",ne.fillRect(0,0,O.width,O.height),ne.drawImage($,0,0);const I=`<img src="${O.toDataURL("image/png")}" alt="${Q}" class="max-w-full h-auto rounded-lg" />`;await D(I,"tool",`Chart: ${Q}`),L("Chart saved to Swag!")}URL.revokeObjectURL(V)}catch(ne){console.error("Failed to convert to PNG:",ne),j("Failed to save chart to Swag"),URL.revokeObjectURL(V)}},$.onerror=()=>{j("Failed to process chart image"),URL.revokeObjectURL(V)},$.src=V}catch(X){console.error("Failed to grab image:",X),j("Failed to save chart to Swag")}};C.useEffect(()=>{wP.initialize({startOnLoad:!1,theme:"default",securityLevel:"loose",fontFamily:"inherit",logLevel:"error"})},[]),C.useEffect(()=>{(async()=>{if(n.current)try{i(null),n.current.innerHTML="";const Q=`mermaid-${Math.random().toString(36).substr(2,9)}`,{svg:O}=await wP.render(Q,h);if(!n.current){console.warn(" MermaidChart container ref is null - component may have unmounted");return}n.current.innerHTML=O,document.querySelectorAll('div[id^="d"]').forEach($=>{const Y=$.textContent||"";(Y.includes("Syntax error in text")||Y.includes("mermaid version"))&&$.remove()}),console.log(" Mermaid chart rendered successfully")}catch(Q){console.error(" Mermaid rendering error:",Q);const O=Q.message||String(Q);i(O),document.querySelectorAll('div[id^="d"]').forEach($=>{const Y=$.textContent||"";(Y.includes("Syntax error in text")||Y.includes("mermaid version"))&&$.remove()}),u.length<3&&await z(O)}})()},[h]);const z=async X=>{if(!w){console.warn("No access token available for chart fix");return}if(u.length>=3){console.log("Max fix attempts (3) reached");return}l(!0);const Q=u.length+1;console.log(` Attempting to fix chart (attempt ${Q}/3)`);try{const{getCachedApiBase:O,resetApiBase:H}=await wr(async()=>{const{getCachedApiBase:P,resetApiBase:I}=await Promise.resolve().then(()=>QQ);return{getCachedApiBase:P,resetApiBase:I}},void 0);H();const $=await O(),Y=await fetch(`${$}/fix-mermaid-chart`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${w}`},body:JSON.stringify({chart:h,error:X,providers:N.providers})});if(!Y.ok)throw new Error(`Fix request failed: ${Y.statusText}`);const V=await Y.json();if(V.error)throw new Error(V.error);const ne={attemptNumber:Q,error:X,fixedChart:V.fixedChart,usage:V.usage,llmApiCall:V.llmApiCall};d(P=>[...P,ne]),V.usage&&R&&R(V.usage.cost||0),r&&V.usage&&r({model:V.usage.model,provider:V.usage.provider,prompt_tokens:V.usage.prompt_tokens,completion_tokens:V.usage.completion_tokens,total_tokens:V.usage.total_tokens,cost:V.usage.cost,duration_ms:V.usage.duration_ms,purpose:`chart-fix-attempt-${Q}`}),console.log(` Chart fix attempt ${Q} successful`),console.log(` Cost: $${V.usage?.cost?.toFixed(6)||"0.000000"}`),console.log(` Tokens: ${V.usage?.total_tokens||0}`),g(V.fixedChart),i(null)}catch(O){console.error(` Chart fix attempt ${Q} failed:`,O);const H={attemptNumber:Q,error:X};d($=>[...$,H]),Q>=3&&i(`Failed to fix chart after 3 attempts. Last error: ${X}`)}finally{l(!1)}},K=()=>{u.length<3&&a&&z(a)};return s.jsxs("div",{className:"my-4 border border-gray-300 dark:border-gray-700 rounded-lg overflow-hidden group",children:[s.jsxs("div",{className:"relative bg-white dark:bg-gray-900",children:[s.jsxs("div",{className:"absolute top-2 right-2 flex gap-1.5 z-10 opacity-0 group-hover:opacity-100 transition-opacity duration-200",children:[u.some(X=>X.llmApiCall)&&s.jsxs("button",{onClick:()=>E(!0),className:"p-1.5 bg-white/80 dark:bg-gray-800/80 hover:bg-white dark:hover:bg-gray-800 text-blue-600 dark:text-blue-400 text-xs rounded backdrop-blur-sm transition-all duration-200 shadow-sm hover:shadow flex items-center gap-1",title:"View LLM transparency info for chart fixes",children:[s.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),s.jsx("span",{className:"text-[10px]",children:"LLM"})]}),s.jsx("button",{onClick:B,className:"p-1.5 bg-white/80 dark:bg-gray-800/80 hover:bg-white dark:hover:bg-gray-800 text-gray-700 dark:text-gray-300 text-xs rounded backdrop-blur-sm transition-all duration-200 shadow-sm hover:shadow flex items-center gap-1",title:"Copy chart image to clipboard",children:v?s.jsxs(s.Fragment,{children:[s.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),s.jsx("span",{className:"text-[10px]",children:"Copied!"})]}):s.jsxs(s.Fragment,{children:[s.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})}),s.jsx("span",{className:"text-[10px]",children:"Copy"})]})}),s.jsxs("button",{onClick:q,className:"p-1.5 bg-white/80 dark:bg-gray-800/80 hover:bg-white dark:hover:bg-gray-800 text-gray-700 dark:text-gray-300 text-xs rounded backdrop-blur-sm transition-all duration-200 shadow-sm hover:shadow flex items-center gap-1",title:"Grab chart as base64 markdown",children:[s.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 11.5V14m0-2.5v-6a1.5 1.5 0 113 0m-3 6a1.5 1.5 0 00-3 0v2a7.5 7.5 0 0015 0v-5a1.5 1.5 0 00-3 0m-6-3V11m0-5.5v-1a1.5 1.5 0 013 0v1m0 0V11m0-5.5a1.5 1.5 0 013 0v3m0 0V11"})}),s.jsx("span",{className:"text-[10px]",children:"Grab"})]})]}),s.jsx("div",{ref:n,className:"p-4 flex items-center justify-center min-h-[200px]",style:{fontSize:"14px",overflow:"auto"}})]}),a&&!o&&s.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border-t border-red-300 dark:border-red-700 p-4",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("svg",{className:"w-5 h-5 text-red-500 flex-shrink-0 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("div",{className:"text-sm font-medium text-red-800 dark:text-red-300 mb-1",children:"Chart Rendering Error"}),s.jsx("div",{className:"text-xs text-red-700 dark:text-red-400 font-mono break-all",children:a}),u.length<3&&s.jsxs("button",{onClick:K,className:"mt-2 text-xs btn-secondary px-3 py-1",children:[" Try to Fix (",u.length,"/3 attempts)"]}),u.length>=3&&s.jsx("div",{className:"mt-2 text-xs text-red-600 dark:text-red-400",children:" Maximum fix attempts reached. The chart may have unsupported syntax."})]})]})}),o&&s.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 border-t border-blue-300 dark:border-blue-700 p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("svg",{className:"w-5 h-5 text-blue-500 animate-spin",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[s.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",strokeWidth:"3"}),s.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),s.jsxs("div",{className:"text-sm text-blue-700 dark:text-blue-300",children:["Attempting to fix chart (attempt ",u.length+1,"/3)..."]})]})}),u.length>0&&s.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 border-t border-gray-300 dark:border-gray-700",children:[s.jsxs("button",{onClick:()=>b(!f),className:"w-full px-4 py-2 text-left text-xs font-medium text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-750 flex items-center justify-between",children:[s.jsxs("span",{children:[" Chart Auto-Fix Details (",u.length," attempt",u.length>1?"s":"",")"]}),s.jsx("svg",{className:`w-4 h-4 transition-transform ${f?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),f&&s.jsxs("div",{className:"px-4 pb-4 space-y-3",children:[u.map(X=>s.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded p-3 text-xs",children:[s.jsxs("div",{className:"font-semibold text-gray-900 dark:text-gray-100 mb-2",children:["Attempt ",X.attemptNumber]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Error:"}),s.jsx("div",{className:"text-red-600 dark:text-red-400 font-mono text-[10px] break-all mt-1",children:X.error})]}),X.usage&&s.jsxs("div",{className:"pt-2 border-t border-gray-200 dark:border-gray-700",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"LLM Usage:"}),s.jsxs("div",{className:"mt-1 grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-gray-500 dark:text-gray-500",children:"Provider:"}),s.jsx("div",{className:"font-medium",children:X.usage.provider})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-gray-500 dark:text-gray-500",children:"Model:"}),s.jsx("div",{className:"font-medium",children:X.usage.model})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-gray-500 dark:text-gray-500",children:"Tokens:"}),s.jsx("div",{className:"font-medium",children:X.usage.total_tokens.toLocaleString()})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-gray-500 dark:text-gray-500",children:"Cost:"}),s.jsxs("div",{className:"font-medium text-green-600 dark:text-green-400",children:["$",X.usage.cost.toFixed(6)]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-gray-500 dark:text-gray-500",children:"Duration:"}),s.jsxs("div",{className:"font-medium",children:[X.usage.duration_ms,"ms"]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-gray-500 dark:text-gray-500",children:"Result:"}),s.jsx("div",{className:"font-medium text-green-600 dark:text-green-400",children:X.fixedChart?" Fixed":" Failed"})]})]})]})]})]},X.attemptNumber)),u.some(X=>X.usage)&&s.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded p-3 text-xs",children:[s.jsx("div",{className:"font-semibold text-blue-900 dark:text-blue-100 mb-1",children:" Total Cost"}),s.jsxs("div",{className:"text-blue-800 dark:text-blue-300",children:["$",u.reduce((X,Q)=>X+(Q.usage?.cost||0),0).toFixed(6)," ","(",u.reduce((X,Q)=>X+(Q.usage?.total_tokens||0),0).toLocaleString()," tokens)"]})]})]})]}),x&&s.jsx(G$,{apiCalls:u.filter(X=>X.llmApiCall).map(X=>X.llmApiCall),onClose:()=>E(!1)})]})},eTe={...Mg,attributes:{...Mg.attributes,"*":["className","style","id"],a:["href","title","target","rel"],img:["src","alt","title","width","height"],table:["className"],td:["align","colspan","rowspan"],th:["align","colspan","rowspan"]},tagNames:[...Mg.tagNames||[],"table","thead","tbody","tr","th","td","tfoot","div","span","br","hr"]};function tTe(e){const t=[/(?:youtube\.com\/watch\?v=|youtu\.be\/|youtube\.com\/embed\/)([^&\n?#]+)/,/youtube\.com\/shorts\/([^&\n?#]+)/];for(const r of t){const n=e.match(r);if(n&&n[1])return n[1]}return null}function rTe({href:e,children:t}){const{addTracksToStart:r,playTrack:n}=Cu(),a=tTe(e),i=o=>{if(o.preventDefault(),a){const l=typeof t=="string"?t:`YouTube Video ${a}`;r([{videoId:a,title:l,url:e}]),setTimeout(()=>{n(0)},0)}};return s.jsxs("span",{className:"inline-flex items-center gap-2",children:[s.jsx("a",{href:e,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 dark:text-blue-400 hover:underline",children:t}),s.jsxs("button",{onClick:i,className:"inline-flex items-center gap-1 px-2 py-1 text-xs font-medium text-white bg-green-600 hover:bg-green-700 rounded transition-colors",title:"Play now",children:[s.jsx("svg",{className:"w-3 h-3",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M8 5v14l11-7z"})}),"Play"]})]})}function nTe({images:e}){const[t,r]=C.useState(null);return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"image-gallery grid grid-cols-2 md:grid-cols-4 gap-4 my-6",children:e.map((n,a)=>s.jsxs("div",{className:"gallery-item cursor-pointer overflow-hidden rounded-lg border border-gray-200 dark:border-gray-700 hover:border-blue-500 dark:hover:border-blue-400 transition-all hover:shadow-lg",onClick:()=>r(n.src),children:[s.jsx("img",{src:n.src,alt:n.alt,className:"w-full h-48 object-cover hover:scale-105 transition-transform",loading:"lazy"}),n.alt&&s.jsx("div",{className:"p-2 text-xs text-gray-600 dark:text-gray-400 bg-gray-50 dark:bg-gray-800 truncate",children:n.alt})]},a))}),t&&s.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-90 z-50 flex items-center justify-center p-4",onClick:()=>r(null),children:[s.jsx("button",{className:"absolute top-4 right-4 text-white text-4xl font-bold hover:text-gray-300",onClick:()=>r(null),"aria-label":"Close",children:""}),s.jsx("img",{src:t,alt:"Expanded view",className:"max-w-full max-h-full object-contain",onClick:n=>n.stopPropagation()})]})]})}function ou({content:e,className:t="",chartDescription:r,onLlmApiCall:n,snippetId:a,snippetTags:i=[],onImageEdit:o}){const[l,u]=C.useState(0);if(/^<img\s+[^>]*src="data:image\/[^"]+"/i.test(e.trim()))return s.jsx("div",{className:`markdown-content ${t}`,dangerouslySetInnerHTML:{__html:e}});let h=e.replace(/```html\n([\s\S]*?)\n```/g,(E,v)=>v.includes("<table")?`

${v.replace(/<table/g,'<table class="min-w-full divide-y divide-gray-300 dark:divide-gray-700 border border-gray-300 dark:border-gray-700 my-4"').replace(/<th/g,'<th class="px-4 py-2 bg-gray-100 dark:bg-gray-800 font-semibold text-left border border-gray-300 dark:border-gray-700"').replace(/<td/g,'<td class="px-4 py-2 border border-gray-300 dark:border-gray-700"')}

`:E);const g=/<!-- GALLERY_START -->([\s\S]*?)<!-- GALLERY_END -->/g,f=g.exec(h);let b=h,x=[];if(f){const E=f[1],v=/!\[(.*?)\]\((.*?)\)/g;let T;for(;(T=v.exec(E))!==null;)x.push({alt:T[1],src:T[2]});b=e.replace(g,"").trim()}return s.jsxs("div",{className:`markdown-content ${t}`,children:[s.jsx(Pj,{remarkPlugins:[i5],rehypePlugins:[tk,[aF,eTe],nue],components:{h1:({children:E})=>s.jsx("h1",{className:"text-2xl font-bold mt-6 mb-4 text-gray-900 dark:text-gray-100",children:E}),h2:({children:E})=>s.jsx("h2",{className:"text-xl font-bold mt-5 mb-3 text-gray-900 dark:text-gray-100",children:E}),h3:({children:E})=>s.jsx("h3",{className:"text-lg font-semibold mt-4 mb-2 text-gray-900 dark:text-gray-100",children:E}),h4:({children:E})=>s.jsx("h4",{className:"text-base font-semibold mt-3 mb-2 text-gray-900 dark:text-gray-100",children:E}),p:({children:E})=>s.jsx("p",{className:"mb-4 leading-relaxed text-gray-800 dark:text-gray-200",children:E}),ul:({children:E})=>s.jsx("ul",{className:"list-disc list-inside mb-4 space-y-1 text-gray-800 dark:text-gray-200",children:E}),ol:({children:E})=>s.jsx("ol",{className:"list-decimal list-inside mb-4 space-y-1 text-gray-800 dark:text-gray-200",children:E}),li:({children:E})=>s.jsx("li",{className:"ml-4",children:E}),code:({className:E,children:v,...T})=>{const w=!E,N=/language-(\w+)/.exec(E||"");if((N?N[1]:"")==="mermaid"&&!w){const D=String(v).replace(/\n$/,""),L=D.split(`
`)[0].trim(),j=r||`${L} diagram`;return s.jsx(J1e,{chart:D,description:j,onLlmApiCall:n})}return w?s.jsx("code",{className:"px-1.5 py-0.5 rounded bg-gray-100 dark:bg-gray-800 text-pink-600 dark:text-pink-400 text-sm font-mono",...T,children:v}):s.jsx("code",{className:`${E} text-sm`,...T,children:v})},pre:({children:E})=>E?.props?.className?.includes("language-mermaid")?E:s.jsx("pre",{className:"mb-4 p-4 rounded-lg bg-gray-900 dark:bg-gray-950 overflow-x-auto",children:E}),a:({href:E,children:v})=>E&&(E.includes("youtube.com/watch")||E.includes("youtu.be/")||E.includes("youtube.com/embed/")||E.includes("youtube.com/shorts/"))&&E?s.jsx(rTe,{href:E,children:v}):s.jsx("a",{href:E,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 dark:text-blue-400 hover:underline",children:v}),blockquote:({children:E})=>s.jsx("blockquote",{className:"border-l-4 border-gray-300 dark:border-gray-600 pl-4 italic my-4 text-gray-700 dark:text-gray-300",children:E}),table:({children:E})=>s.jsx("div",{className:"overflow-x-auto mb-4",children:s.jsx("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:E})}),thead:({children:E})=>s.jsx("thead",{className:"bg-gray-50 dark:bg-gray-800",children:E}),tbody:({children:E})=>s.jsx("tbody",{className:"bg-white dark:bg-gray-900 divide-y divide-gray-200 dark:divide-gray-700",children:E}),tr:({children:E})=>s.jsx("tr",{children:E}),th:({children:E})=>s.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:E}),td:({children:E})=>s.jsx("td",{className:"px-4 py-2 text-sm text-gray-800 dark:text-gray-200",children:E}),hr:()=>s.jsx("hr",{className:"my-6 border-gray-300 dark:border-gray-700"}),strong:({children:E})=>s.jsx("strong",{className:"font-bold text-gray-900 dark:text-gray-100",children:E}),em:({children:E})=>s.jsx("em",{className:"italic text-gray-800 dark:text-gray-200",children:E}),img:({src:E,alt:v})=>{const T=typeof E=="string"&&E.trim()!==""?E:null;if(!T)return null;const w=l;u(L=>L+1);const N=a?`${a}-img-${w}`:`img-${w}`,R=L=>{if(L.startsWith("data:image/")){const B=L.match(/^data:image\/([^;,]+)/);return B?B[1].toUpperCase():"Unknown"}const j=L.split(".").pop()?.toLowerCase();return j==="jpg"||j==="jpeg"?"JPG":j==="png"?"PNG":j==="gif"?"GIF":j==="webp"?"WebP":j==="svg"?"SVG":"Unknown"},D=L=>{L.preventDefault(),L.stopPropagation(),o&&o({id:N,url:T,name:v||`Image ${w+1}`,tags:i,snippetId:a,format:R(T)})};return o?s.jsxs("div",{className:"relative inline-block group my-4",children:[s.jsx("img",{src:T,alt:v||"",className:"max-w-full h-auto rounded-lg border border-gray-200 dark:border-gray-700",loading:"lazy",onError:L=>{console.error("Image failed to load:",{src:T,alt:v}),L.target.style.display="none"}}),s.jsx("button",{onClick:D,className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity bg-orange-600 hover:bg-orange-700 text-white rounded-full p-2 shadow-lg",title:"Edit image","aria-label":"Edit image",children:s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})})})]}):s.jsx("img",{src:T,alt:v||"",className:"max-w-full h-auto rounded-lg my-4 border border-gray-200 dark:border-gray-700",loading:"lazy",onError:L=>{console.error("Image failed to load:",{src:T,alt:v}),L.target.style.display="none"}})}},children:b}),x.length>0&&s.jsx(nTe,{images:x})]})}const Qs={YOUTUBE_DOWNLOAD_START:"youtube_download_start",YOUTUBE_DOWNLOAD_PROGRESS:"youtube_download_progress",YOUTUBE_DOWNLOAD_COMPLETE:"youtube_download_complete",DOWNLOAD_START:"download_start",DOWNLOAD_PROGRESS:"download_progress",DOWNLOAD_COMPLETE:"download_complete",METADATA:"metadata",CHUNKING_START:"chunking_start",CHUNK_READY:"chunk_ready",TRANSCRIBE_START:"transcribe_start",TRANSCRIBE_CHUNK_COMPLETE:"transcribe_chunk_complete",TRANSCRIBE_COMPLETE:"transcribe_complete",TRANSCRIPTION_STOPPED:"transcription_stopped",ERROR:"error"},Ln={DOWNLOADING:"Downloading",CHUNKING:"Chunking",TRANSCRIBING:"Transcribing",COMPLETE:"Complete",STOPPED:"Stopped",ERROR:"Error"},aTe=({toolCallId:e,url:t,events:r,onStop:n})=>{const[a,i]=C.useState(!1),[o,l]=C.useState(!1),u=C.useMemo(()=>{let x=Ln.DOWNLOADING,E=0,v=null,T="",w=0,N=1,R=null;r.length>0&&console.log(`[TranscriptionProgress] Processing ${r.length} events for ${e}:`,r.map(D=>({type:D.progress_type||D.data?.type,data:D.data})));for(const D of r)switch(D.progress_type||D.data?.type||""){case Qs.YOUTUBE_DOWNLOAD_START:case Qs.DOWNLOAD_START:x=Ln.DOWNLOADING,E=0;break;case Qs.YOUTUBE_DOWNLOAD_PROGRESS:case Qs.DOWNLOAD_PROGRESS:x=Ln.DOWNLOADING,E=D.data?.percent||0;break;case Qs.YOUTUBE_DOWNLOAD_COMPLETE:case Qs.DOWNLOAD_COMPLETE:x=Ln.DOWNLOADING,E=100;break;case Qs.METADATA:v=D.data||null;break;case Qs.CHUNKING_START:x=Ln.CHUNKING,N=D.data?.chunks||1,E=0;break;case Qs.CHUNK_READY:x=Ln.CHUNKING,w=D.data?.chunkIndex||0,N=D.data?.totalChunks||1,E=w/N*100;break;case Qs.TRANSCRIBE_START:x=Ln.TRANSCRIBING,w=D.data?.chunkIndex||0;break;case Qs.TRANSCRIBE_CHUNK_COMPLETE:x=Ln.TRANSCRIBING,D.data?.text&&(T+=(T?`

`:"")+D.data.text),w=D.data?.chunkIndex||0,N=D.data?.totalChunks||1,E=w/N*100;break;case Qs.TRANSCRIBE_COMPLETE:x=Ln.COMPLETE,E=100;break;case Qs.TRANSCRIPTION_STOPPED:x=Ln.STOPPED,w=D.data?.completedChunks||0,N=D.data?.totalChunks||1,E=N>0?w/N*100:0;break;case Qs.ERROR:x=Ln.ERROR,R=D.data?.error||"Unknown error";break}return{stage:x,progress:Math.min(100,Math.max(0,E)),metadata:v,partialText:T,currentChunk:w,totalChunks:N,error:R}},[r]),d=async()=>{l(!0);try{await n(e)}catch(x){console.error("Failed to stop transcription:",x)}finally{setTimeout(()=>l(!1),5e3)}},h=x=>{const E=Math.floor(x/3600),v=Math.floor(x%3600/60),T=x%60;return E>0?`${E}:${v.toString().padStart(2,"0")}:${T.toString().padStart(2,"0")}`:`${v}:${T.toString().padStart(2,"0")}`},g=x=>{switch(x){case Ln.DOWNLOADING:return"text-blue-600 dark:text-blue-400";case Ln.CHUNKING:return"text-purple-600 dark:text-purple-400";case Ln.TRANSCRIBING:return"text-green-600 dark:text-green-400";case Ln.COMPLETE:return"text-green-700 dark:text-green-300";case Ln.STOPPED:return"text-yellow-600 dark:text-yellow-400";case Ln.ERROR:return"text-red-600 dark:text-red-400";default:return"text-gray-600 dark:text-gray-400"}},f=x=>{switch(x){case Ln.DOWNLOADING:return"bg-blue-500";case Ln.CHUNKING:return"bg-purple-500";case Ln.TRANSCRIBING:return"bg-green-500";case Ln.COMPLETE:return"bg-green-600";case Ln.STOPPED:return"bg-yellow-500";case Ln.ERROR:return"bg-red-500";default:return"bg-gray-500"}},b=u.stage===Ln.DOWNLOADING||u.stage===Ln.CHUNKING||u.stage===Ln.TRANSCRIBING;return s.jsxs("div",{className:"border border-gray-300 dark:border-gray-600 rounded-lg p-4 mb-4 bg-white dark:bg-gray-800",children:[s.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[u.metadata?.thumbnail&&s.jsx("img",{src:u.metadata.thumbnail,alt:"Video thumbnail",className:"w-24 h-16 object-cover rounded flex-shrink-0"}),s.jsx("div",{className:"flex-1 min-w-0",children:u.metadata?.title?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"font-medium text-gray-900 dark:text-gray-100 truncate",children:u.metadata.title}),u.metadata.author&&s.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400 truncate",children:u.metadata.author}),u.metadata.duration&&s.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-500",children:["Duration: ",h(u.metadata.duration)]})]}):s.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400 truncate",children:t})}),b&&!o&&s.jsx("button",{onClick:d,className:"px-3 py-1 text-sm bg-red-500 hover:bg-red-600 text-white rounded transition-colors flex-shrink-0",title:"Stop transcription",children:"Stop"}),o&&s.jsx("div",{className:"px-3 py-1 text-sm bg-gray-400 text-white rounded flex-shrink-0",children:"Stopping..."})]}),s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("span",{className:`text-sm font-medium ${g(u.stage)}`,children:u.stage}),u.totalChunks>1&&b&&s.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:["(Chunk ",u.currentChunk," of ",u.totalChunks,")"]}),b&&s.jsx("div",{className:"ml-auto",children:s.jsx("div",{className:"animate-spin h-4 w-4 border-2 border-gray-300 border-t-blue-500 rounded-full"})})]}),s.jsx("div",{className:"relative w-full h-2 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden mb-3",children:s.jsx("div",{className:`absolute left-0 top-0 h-full ${f(u.stage)} transition-all duration-300 ease-out`,style:{width:`${u.progress}%`}})}),s.jsxs("div",{className:"text-xs text-gray-600 dark:text-gray-400 mb-2",children:[u.progress.toFixed(0),"% complete"]}),u.error&&s.jsxs("div",{className:"mb-3 p-2 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded text-sm text-red-700 dark:text-red-300",children:["Error: ",u.error]}),u.partialText&&s.jsxs("div",{className:"mt-3 border-t border-gray-200 dark:border-gray-700 pt-3",children:[s.jsxs("button",{onClick:()=>i(!a),className:"flex items-center gap-2 text-sm font-medium text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300 transition-colors mb-2",children:[s.jsx("svg",{className:`w-4 h-4 transition-transform ${a?"rotate-90":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})}),s.jsxs("span",{children:[a?"Hide":"Show"," Partial Transcript",u.totalChunks>1&&` (${u.currentChunk} of ${u.totalChunks} chunks)`]})]}),a&&s.jsx("div",{className:"max-h-60 overflow-y-auto bg-gray-50 dark:bg-gray-900 rounded p-3 text-sm text-gray-700 dark:text-gray-300 whitespace-pre-wrap",children:u.partialText})]}),u.stage===Ln.COMPLETE&&s.jsxs("div",{className:"mt-3 text-sm text-green-600 dark:text-green-400 flex items-center gap-2",children:[s.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),"Transcription complete!"]}),u.stage===Ln.STOPPED&&s.jsxs("div",{className:"mt-3 text-sm text-yellow-600 dark:text-yellow-400 flex items-center gap-2",children:[s.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8 7a1 1 0 00-1 1v4a1 1 0 001 1h4a1 1 0 001-1V8a1 1 0 00-1-1H8z",clipRule:"evenodd"})}),"Transcription stopped (",u.currentChunk," of ",u.totalChunks," chunks completed)"]})]})},sTe=({toolCallId:e,url:t,events:r})=>{if(!r||r.length===0)return null;const n=r[r.length-1],a=n.progress_type||n.data?.type||"",i=a==="scrape_complete"||a==="scrape_error",o=a==="scrape_error",l=[{type:"scrape_launching",icon:"",label:"Launching browser"},{type:"scrape_launched",icon:"",label:"Browser ready"},{type:"scrape_navigating",icon:"",label:"Loading page"},{type:"scrape_page_loaded",icon:"",label:"Page loaded"},{type:"scrape_extracting",icon:"",label:"Extracting content"},{type:"scrape_extracted",icon:"",label:"Content extracted"},{type:"scrape_complete",icon:"",label:"Complete"}],u=l.findIndex(T=>T.type===a),d=l[u]||l[0],h=r.find(T=>(T.progress_type||T.data?.type)==="scrape_extracted"),g=r.find(T=>(T.progress_type||T.data?.type)==="scrape_complete"),f=r.find(T=>(T.progress_type||T.data?.type)==="scrape_error"),b=h?.data?.textLength||g?.data?.textLength||0,x=h?.data?.linkCount||g?.data?.linkCount||0,E=h?.data?.imageCount||g?.data?.imageCount||0,v=g?.data?.totalTime||0;return s.jsxs("div",{className:`p-4 rounded-lg border ${o?"bg-red-50 dark:bg-red-900/20 border-red-300 dark:border-red-700":i?"bg-green-50 dark:bg-green-900/20 border-green-300 dark:border-green-700":"bg-blue-50 dark:bg-blue-900/20 border-blue-300 dark:border-blue-700"}`,children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-2xl",children:d.icon}),s.jsxs("div",{children:[s.jsx("div",{className:"font-semibold text-sm text-gray-900 dark:text-gray-100",children:o?" Scraping Failed":i?" Scraping Complete":d.label}),s.jsx("div",{className:"text-xs text-gray-600 dark:text-gray-400 truncate max-w-md",children:t})]})]}),v>0&&s.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:[(v/1e3).toFixed(1),"s"]})]}),o&&f?.data?.error&&s.jsxs("div",{className:"mb-3 p-2 bg-red-100 dark:bg-red-900/30 rounded text-sm text-red-800 dark:text-red-200",children:[s.jsx("div",{className:"font-semibold mb-1",children:"Error:"}),s.jsx("div",{className:"text-xs font-mono",children:f.data.error})]}),!o&&s.jsx("div",{className:"mb-3",children:s.jsx("div",{className:"flex items-center gap-1",children:l.slice(0,-1).map((T,w)=>{const N=w<=u,R=w===u;return s.jsx(ir.Fragment,{children:s.jsx("div",{className:`h-1 flex-1 rounded transition-all duration-300 ${N?R?"bg-blue-500 dark:bg-blue-400":"bg-green-500 dark:bg-green-400":"bg-gray-300 dark:bg-gray-600"}`})},T.type)})})}),(b>0||x>0||E>0)&&s.jsxs("div",{className:"flex gap-4 text-xs text-gray-700 dark:text-gray-300",children:[b>0&&s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("span",{children:""}),s.jsxs("span",{children:[b," chars"]})]}),x>0&&s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("span",{children:""}),s.jsxs("span",{children:[x," links"]})]}),E>0&&s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("span",{children:""}),s.jsxs("span",{children:[E," images"]})]})]}),!i&&r.length>1&&s.jsxs("details",{className:"mt-3",children:[s.jsxs("summary",{className:"text-xs text-gray-600 dark:text-gray-400 cursor-pointer hover:text-gray-800 dark:hover:text-gray-200",children:["Show timeline (",r.length," events)"]}),s.jsx("div",{className:"mt-2 space-y-1 max-h-32 overflow-y-auto",children:r.map((T,w)=>{const N=T.progress_type||T.data?.type||"",R=l.find(L=>L.type===N),D=T.timestamp?new Date(T.timestamp).toLocaleTimeString():"";return s.jsxs("div",{className:"text-xs flex items-center gap-2 text-gray-600 dark:text-gray-400",children:[s.jsx("span",{children:R?.icon||""}),s.jsx("span",{className:"flex-1",children:R?.label||N}),D&&s.jsx("span",{className:"text-[10px]",children:D})]},w)})})]})]})},iTe=({data:e})=>{switch(e.phase){case"searching":return s.jsxs("div",{className:"flex items-center gap-2 p-2 bg-blue-50 dark:bg-blue-900/20 rounded text-sm",children:[s.jsxs("div",{className:"flex gap-1",children:[s.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-pulse",style:{animationDelay:"0ms"}}),s.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-pulse",style:{animationDelay:"150ms"}}),s.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-pulse",style:{animationDelay:"300ms"}})]}),s.jsxs("span",{className:"text-gray-700 dark:text-gray-300",children:["Searching ",e.service==="tavily"?"Tavily":"DuckDuckGo","..."]})]});case"results_found":return s.jsxs("div",{className:"flex items-center gap-2 p-2 bg-green-50 dark:bg-green-900/20 rounded text-sm",children:[s.jsx("svg",{className:"w-4 h-4 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),s.jsxs("span",{className:"text-gray-700 dark:text-gray-300",children:["Found results for: ",e.query]})]});case"loading_content":return s.jsxs("div",{className:"flex items-center gap-2 p-2 bg-blue-50 dark:bg-blue-900/20 rounded text-sm",children:[s.jsxs("div",{className:"flex gap-1",children:[s.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-pulse",style:{animationDelay:"0ms"}}),s.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-pulse",style:{animationDelay:"150ms"}}),s.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-pulse",style:{animationDelay:"300ms"}})]}),s.jsxs("span",{className:"text-gray-700 dark:text-gray-300",children:["Loading content from ",e.result_count," results..."]})]});case"fetching_result":return s.jsxs("div",{className:"flex items-center gap-2 p-2 bg-blue-50 dark:bg-blue-900/20 rounded text-sm",children:[s.jsxs("div",{className:"flex gap-1",children:[s.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-pulse",style:{animationDelay:"0ms"}}),s.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-pulse",style:{animationDelay:"150ms"}}),s.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-pulse",style:{animationDelay:"300ms"}})]}),s.jsxs("div",{className:"flex-1 text-gray-700 dark:text-gray-300",children:[s.jsxs("div",{className:"font-medium",children:["[",e.result_index,"/",e.result_total,"] ",e.title]}),s.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 truncate",children:e.url})]})]});case"result_loaded":return s.jsxs("div",{className:"flex items-center gap-2 p-2 bg-green-50 dark:bg-green-900/20 rounded text-sm",children:[s.jsx("svg",{className:"w-4 h-4 text-green-500 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),s.jsxs("div",{className:"flex-1 text-gray-700 dark:text-gray-300",children:[s.jsxs("div",{className:"font-medium",children:["[",e.result_index,"/",e.result_total,"] ",e.title]}),s.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Loaded ",Math.round((e.content_size||0)/1024),"KB in ",e.fetch_time_ms,"ms"]})]})]});case"result_failed":return s.jsxs("div",{className:"flex items-center gap-2 p-2 bg-red-50 dark:bg-red-900/20 rounded text-sm",children:[s.jsx("svg",{className:"w-4 h-4 text-red-500 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),s.jsxs("div",{className:"flex-1 text-gray-700 dark:text-gray-300",children:[s.jsxs("div",{className:"font-medium",children:["[",e.result_index,"/",e.result_total,"] Failed: ",e.title]}),s.jsx("div",{className:"text-xs text-red-600 dark:text-red-400",children:e.error})]})]});default:return null}},oTe=({data:e})=>{switch(e.phase){case"searching":return s.jsxs("div",{className:"flex items-center gap-2 p-2 bg-blue-50 dark:bg-blue-900/20 rounded text-sm",children:[s.jsxs("div",{className:"flex gap-1",children:[s.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-pulse",style:{animationDelay:"0ms"}}),s.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-pulse",style:{animationDelay:"150ms"}}),s.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-pulse",style:{animationDelay:"300ms"}})]}),s.jsxs("span",{className:"text-gray-700 dark:text-gray-300",children:[" Searching YouTube for: ",s.jsx("span",{className:"font-medium",children:e.query})]})]});case"results_found":return s.jsxs("div",{className:"flex items-center gap-2 p-2 bg-green-50 dark:bg-green-900/20 rounded text-sm",children:[s.jsx("svg",{className:"w-4 h-4 text-green-500 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),s.jsxs("span",{className:"text-gray-700 dark:text-gray-300",children:[" Found ",s.jsxs("span",{className:"font-medium",children:[e.totalVideos," videos"]})," for: ",e.query]})]});case"complete":return s.jsxs("div",{className:"flex items-center gap-2 p-2 bg-green-50 dark:bg-green-900/20 rounded text-sm",children:[s.jsx("svg",{className:"w-4 h-4 text-green-500 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),s.jsxs("span",{className:"text-gray-700 dark:text-gray-300",children:[" YouTube search complete - ",s.jsxs("span",{className:"font-medium",children:[e.totalVideos," videos"]})," added to playlist"]})]});case"fetching_transcripts":return s.jsxs("div",{className:"flex items-center gap-2 p-2 bg-red-50 dark:bg-red-900/20 rounded text-sm",children:[s.jsxs("div",{className:"flex gap-1",children:[s.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full animate-pulse",style:{animationDelay:"0ms"}}),s.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full animate-pulse",style:{animationDelay:"150ms"}}),s.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full animate-pulse",style:{animationDelay:"300ms"}})]}),s.jsxs("span",{className:"text-gray-700 dark:text-gray-300",children:[" ",e.message||`Found ${e.totalVideos} videos, fetching transcripts...`]})]});case"fetching_transcript":const t=e.totalVideos&&e.currentVideo?Math.round(e.currentVideo/e.totalVideos*100):0;return s.jsxs("div",{className:"p-2 bg-red-50 dark:bg-red-900/20 rounded text-sm space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("div",{className:"flex gap-1",children:[s.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full animate-pulse",style:{animationDelay:"0ms"}}),s.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full animate-pulse",style:{animationDelay:"150ms"}}),s.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full animate-pulse",style:{animationDelay:"300ms"}})]}),s.jsxs("div",{className:"flex-1 text-gray-700 dark:text-gray-300",children:[s.jsxs("div",{className:"font-medium",children:[" ",e.message||`Fetching transcript ${e.currentVideo}/${e.totalVideos}`]}),e.videoId&&s.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 font-mono",children:["Video ID: ",e.videoId]})]})]}),s.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:s.jsx("div",{className:"bg-red-500 h-2 rounded-full transition-all duration-300",style:{width:`${t}%`}})}),s.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 text-right",children:[t,"% complete"]})]});case"transcript_fetched":return s.jsxs("div",{className:"flex items-center gap-2 p-2 bg-green-50 dark:bg-green-900/20 rounded text-sm",children:[s.jsx("svg",{className:"w-4 h-4 text-green-500 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),s.jsxs("div",{className:"flex-1 text-gray-700 dark:text-gray-300",children:[s.jsx("span",{className:"font-medium",children:e.message||"Transcript fetched"}),e.transcriptLength&&s.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400 ml-2",children:["(",e.transcriptLength.toLocaleString()," characters)"]})]})]});case"transcript_failed":return s.jsxs("div",{className:"flex items-center gap-2 p-2 bg-yellow-50 dark:bg-yellow-900/20 rounded text-sm",children:[s.jsx("svg",{className:"w-4 h-4 text-yellow-500 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),s.jsxs("div",{className:"flex-1 text-gray-700 dark:text-gray-300",children:[s.jsx("span",{className:"font-medium",children:e.message||"Transcript unavailable"}),e.error&&s.jsx("div",{className:"text-xs text-yellow-600 dark:text-yellow-400",children:e.error})]})]});default:return null}},lTe=({data:e})=>{switch(e.phase){case"starting":return s.jsxs("div",{className:"flex items-center gap-2 p-2 bg-purple-50 dark:bg-purple-900/20 rounded text-sm",children:[s.jsxs("div",{className:"flex gap-1",children:[s.jsx("div",{className:"w-2 h-2 bg-purple-500 rounded-full animate-pulse"}),s.jsx("div",{className:"w-2 h-2 bg-purple-500 rounded-full animate-pulse",style:{animationDelay:"150ms"}}),s.jsx("div",{className:"w-2 h-2 bg-purple-500 rounded-full animate-pulse",style:{animationDelay:"300ms"}})]}),s.jsxs("span",{className:"text-gray-700 dark:text-gray-300",children:[" Starting JavaScript execution (",e.code_length," characters, ",(e.timeout_ms||0)/1e3,"s timeout)..."]})]});case"executing":return s.jsxs("div",{className:"flex items-center gap-2 p-2 bg-purple-50 dark:bg-purple-900/20 rounded text-sm",children:[s.jsx("div",{className:"w-4 h-4 border-2 border-purple-500 border-t-transparent rounded-full animate-spin"}),s.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:" Executing JavaScript code..."})]});case"console_output":return s.jsxs("div",{className:"p-2 bg-gray-50 dark:bg-gray-900/50 rounded text-sm font-mono border-l-4 border-purple-500",children:[s.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500 dark:text-gray-400 mb-1",children:[s.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 9l3 3-3 3m5 0h3M5 20h14a2 2 0 002-2V6a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),s.jsxs("span",{children:["Console Output #",e.output_number,":"]})]}),s.jsx("div",{className:"text-gray-800 dark:text-gray-200 whitespace-pre-wrap",children:e.output})]});case"completed":return s.jsxs("div",{className:"flex items-center gap-2 p-2 bg-green-50 dark:bg-green-900/20 rounded text-sm",children:[s.jsx("svg",{className:"w-4 h-4 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),s.jsxs("span",{className:"text-gray-700 dark:text-gray-300",children:[" Execution completed",e.output_lines!==void 0&&e.output_lines>0&&s.jsxs("span",{className:"ml-1",children:["(",e.output_lines," console output",e.output_lines!==1?"s":"",")"]}),e.has_result&&!e.output_lines&&s.jsx("span",{className:"ml-1",children:"(returned value)"})]})]});case"error":return s.jsxs("div",{className:"flex items-center gap-2 p-2 bg-red-50 dark:bg-red-900/20 rounded text-sm",children:[s.jsx("svg",{className:"w-4 h-4 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"font-medium text-red-700 dark:text-red-300",children:" Execution Error"}),s.jsx("div",{className:"text-xs text-red-600 dark:text-red-400 font-mono mt-1",children:e.error})]})]});default:return null}},cTe=({data:e})=>{const r=(()=>{switch(e.phase){case"analyzing_prompt":return{icon:s.jsxs("div",{className:"flex gap-1",children:[s.jsx("div",{className:"w-2 h-2 bg-pink-500 rounded-full animate-pulse",style:{animationDelay:"0ms"}}),s.jsx("div",{className:"w-2 h-2 bg-pink-500 rounded-full animate-pulse",style:{animationDelay:"150ms"}}),s.jsx("div",{className:"w-2 h-2 bg-pink-500 rounded-full animate-pulse",style:{animationDelay:"300ms"}})]}),label:"Analyzing prompt",description:e.prompt?`"${e.prompt.substring(0,60)}${e.prompt.length>60?"...":""}"`:"",bgColor:"bg-pink-50 dark:bg-pink-900/20",textColor:"text-pink-700 dark:text-pink-300"};case"quality_selected":return{icon:s.jsx("span",{className:"text-purple-500",children:""}),label:`Quality tier: ${e.quality||"standard"}`,description:e.quality==="ultra"?"Highest quality, slower generation":e.quality==="high"?"High quality output":e.quality==="standard"?"Balanced quality and speed":"Fast generation",bgColor:"bg-purple-50 dark:bg-purple-900/20",textColor:"text-purple-700 dark:text-purple-300"};case"selecting_provider":return{icon:s.jsx("span",{className:"text-indigo-500",children:""}),label:`Selected: ${e.provider||"provider"} ${e.model||""}`,description:`Size: ${e.size||"1024x1024"}  ${e.estimated_cost?`~$${e.estimated_cost.toFixed(4)}`:"Calculating cost..."}`,bgColor:"bg-indigo-50 dark:bg-indigo-900/20",textColor:"text-indigo-700 dark:text-indigo-300"};case"generating":const n=e.remaining_seconds??e.estimated_seconds??15,a=e.estimated_seconds&&e.remaining_seconds!==void 0?Math.min(100,Math.max(0,(e.estimated_seconds-e.remaining_seconds)/e.estimated_seconds*100)):0;return{icon:s.jsx("div",{className:"w-4 h-4 border-2 border-pink-500 border-t-transparent rounded-full animate-spin"}),label:"Generating image...",description:s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx("span",{children:""}),s.jsx("span",{children:n>0?`~${n}s remaining`:"Finishing up..."})]}),e.estimated_seconds&&s.jsx("div",{className:"w-full bg-pink-200 dark:bg-pink-800 rounded-full h-1.5",children:s.jsx("div",{className:"bg-gradient-to-r from-pink-500 to-purple-500 h-1.5 rounded-full transition-all duration-1000 ease-linear",style:{width:`${a}%`}})}),s.jsxs("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:[e.provider,"  ",e.quality," quality  ",e.size]})]}),bgColor:"bg-gradient-to-r from-pink-50 to-purple-50 dark:from-pink-900/20 dark:to-purple-900/20",textColor:"text-pink-700 dark:text-pink-300"};case"completed":return{icon:s.jsx("span",{className:"text-green-500",children:""}),label:"Image generated successfully",description:`${e.provider}  ${e.quality} quality  ${e.size}${e.estimated_cost?`  $${e.estimated_cost.toFixed(4)}`:""}`,bgColor:"bg-green-50 dark:bg-green-900/20",textColor:"text-green-700 dark:text-green-300"};case"error":return{icon:s.jsx("span",{className:"text-red-500",children:""}),label:"Image generation failed",description:e.error||"Unknown error occurred",bgColor:"bg-red-50 dark:bg-red-900/20",textColor:"text-red-700 dark:text-red-300"};default:return{icon:s.jsx("div",{className:"w-4 h-4 border-2 border-gray-500 border-t-transparent rounded-full animate-spin"}),label:"Processing...",description:"",bgColor:"bg-gray-50 dark:bg-gray-900/20",textColor:"text-gray-700 dark:text-gray-300"}}})();return s.jsx("div",{className:`rounded-lg ${r.bgColor} p-3 shadow-sm`,children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"flex-shrink-0 mt-0.5",children:r.icon}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("div",{className:`font-medium text-sm ${r.textColor}`,children:r.label}),r.description&&s.jsx("div",{className:"mt-1 text-xs text-gray-600 dark:text-gray-400",children:typeof r.description=="string"?s.jsx("span",{children:r.description}):r.description})]})]})})},uTe=({data:e})=>e.phase==="preparing"?s.jsx("div",{className:"rounded-lg bg-blue-50 dark:bg-blue-900/20 p-3 shadow-sm",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsxs("div",{className:"flex gap-1",children:[s.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-pulse",style:{animationDelay:"0ms"}}),s.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-pulse",style:{animationDelay:"150ms"}}),s.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-pulse",style:{animationDelay:"300ms"}})]}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"font-medium text-sm text-blue-700 dark:text-blue-300",children:["Preparing ",e.chart_type||"chart"," diagram"]}),e.description&&s.jsx("div",{className:"mt-1 text-xs text-gray-600 dark:text-gray-400",children:e.description})]})]})}):e.phase==="completed"?s.jsx("div",{className:"rounded-lg bg-green-50 dark:bg-green-900/20 p-3 shadow-sm",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-green-500",children:""}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"font-medium text-sm text-green-700 dark:text-green-300",children:[e.chart_type||"Chart"," diagram ready"]}),s.jsx("div",{className:"mt-1 text-xs text-gray-600 dark:text-gray-400",children:"Diagram will appear below"})]})]})}):null,dTe=({data:e})=>s.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg p-3 text-sm space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("svg",{className:"w-4 h-4 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),s.jsx("span",{className:"font-medium text-green-700 dark:text-green-300",children:"Content Extracted"})]}),e.title&&s.jsx("div",{className:"text-gray-700 dark:text-gray-300 font-medium truncate",children:e.title}),s.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[e.format&&s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Format:"})," ",s.jsx("span",{className:"text-gray-700 dark:text-gray-300 font-medium",children:e.format==="markdown"?" Markdown":" Plain Text"})]}),e.compressionRatio!=null&&s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Compression:"})," ",s.jsxs("span",{className:"text-gray-700 dark:text-gray-300 font-medium",children:[Number(e.compressionRatio).toFixed(1),"x"]})]}),e.originalLength!==void 0&&e.extractedLength!==void 0&&s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Size:"})," ",s.jsxs("span",{className:"text-gray-700 dark:text-gray-300 font-medium",children:[(e.originalLength/1024).toFixed(1),"KB  ",(e.extractedLength/1024).toFixed(1),"KB"]})]}),e.wordCount!==void 0&&s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Words:"})," ",s.jsx("span",{className:"text-gray-700 dark:text-gray-300 font-medium",children:e.wordCount.toLocaleString()})]}),e.language&&s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Language:"})," ",s.jsx("span",{className:"text-gray-700 dark:text-gray-300 font-medium",children:e.language})]}),e.duration!==void 0&&s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Duration:"})," ",s.jsxs("span",{className:"text-gray-700 dark:text-gray-300 font-medium",children:[Math.floor(e.duration/60),":",(e.duration%60).toString().padStart(2,"0")]})]})]}),(e.images||e.videos||e.youtube||e.links)&&s.jsxs("div",{className:"flex flex-wrap gap-3 text-xs",children:[(e.images??0)>0&&s.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[" ",e.images," ",e.images===1?"image":"images"]}),(e.videos??0)>0&&s.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[" ",e.videos," ",e.videos===1?"video":"videos"]}),(e.youtube??0)>0&&s.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[" ",e.youtube," YouTube ",e.youtube===1?"video":"videos"]}),(e.links??0)>0&&s.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[" ",e.links," ",e.links===1?"link":"links"]})]}),e.warning&&s.jsxs("div",{className:"text-yellow-600 dark:text-yellow-400 text-xs",children:[" ",e.warning]})]}),Sg=({data:e,level:t=0})=>{const[r,n]=ir.useState(t<2);if(e===null)return s.jsx("span",{className:"text-gray-500",children:"null"});if(e===void 0)return s.jsx("span",{className:"text-gray-500",children:"undefined"});if(typeof e!="object")return typeof e=="string"?s.jsxs("span",{className:"text-green-600 dark:text-green-400",children:['"',e,'"']}):typeof e=="number"?s.jsx("span",{className:"text-blue-600 dark:text-blue-400",children:e}):typeof e=="boolean"?s.jsx("span",{className:"text-purple-600 dark:text-purple-400",children:String(e)}):s.jsx("span",{children:String(e)});const a=Array.isArray(e),i=a?e.map((o,l)=>l):Object.keys(e);return i.length===0?s.jsx("span",{className:"text-gray-500",children:a?"[]":"{}"}):s.jsxs("div",{className:"ml-4",children:[s.jsxs("button",{onClick:()=>n(!r),className:"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-100",children:[r?"":""," ",a?`Array[${i.length}]`:`Object{${i.length}}`]}),r&&s.jsx("div",{className:"ml-4 border-l border-gray-300 dark:border-gray-600 pl-2",children:i.map(o=>s.jsxs("div",{className:"my-1",children:[s.jsx("span",{className:"text-blue-700 dark:text-blue-300 font-mono",children:String(o)}),s.jsx("span",{className:"text-gray-500",children:": "}),s.jsx(Sg,{data:e[o],level:t+1})]},String(o)))})]})},pTe=({errorData:e,llmApiCalls:t,onClose:r})=>{const n=Au(!0,r),{showSuccess:a,showError:i}=go();return s.jsx("div",{ref:n,className:"fixed inset-0 bg-black/60 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-2xl w-full max-w-4xl max-h-[90vh] flex flex-col",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700",children:[s.jsxs("h2",{className:"text-xl font-bold text-gray-900 dark:text-gray-100 flex items-center gap-2",children:[s.jsx("svg",{className:"w-6 h-6 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),"Error Details"]}),s.jsx("button",{onClick:r,className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),s.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:s.jsxs("div",{className:"space-y-4",children:[e?.message&&s.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 border-2 border-red-300 dark:border-red-700 rounded-lg p-4",children:[s.jsx("h3",{className:"text-sm font-semibold text-red-800 dark:text-red-200 mb-2",children:"Error Message"}),s.jsx("p",{className:"text-red-700 dark:text-red-300 font-mono text-sm whitespace-pre-wrap",children:e.message})]}),(e?.type||e?.code||e?.statusCode)&&s.jsxs("div",{className:"bg-orange-50 dark:bg-orange-900/20 border border-orange-300 dark:border-orange-700 rounded-lg p-4",children:[s.jsx("h3",{className:"text-sm font-semibold text-orange-800 dark:text-orange-200 mb-2",children:"Error Classification"}),s.jsxs("div",{className:"space-y-1 text-sm",children:[e.type&&s.jsxs("div",{children:[s.jsx("span",{className:"text-orange-700 dark:text-orange-300 font-semibold",children:"Type:"})," ",s.jsx("span",{className:"text-orange-600 dark:text-orange-400 font-mono",children:e.type})]}),e.code&&s.jsxs("div",{children:[s.jsx("span",{className:"text-orange-700 dark:text-orange-300 font-semibold",children:"Code:"})," ",s.jsx("span",{className:"text-orange-600 dark:text-orange-400 font-mono",children:e.code})]}),e.statusCode&&s.jsxs("div",{children:[s.jsx("span",{className:"text-orange-700 dark:text-orange-300 font-semibold",children:"Status Code:"})," ",s.jsx("span",{className:"text-orange-600 dark:text-orange-400 font-mono",children:e.statusCode})]})]})]}),e?.stack&&s.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900/50 border border-gray-300 dark:border-gray-700 rounded-lg p-4",children:[s.jsx("h3",{className:"text-sm font-semibold text-gray-800 dark:text-gray-200 mb-2",children:"Stack Trace"}),s.jsx("pre",{className:"text-xs text-gray-700 dark:text-gray-300 font-mono whitespace-pre-wrap overflow-x-auto",children:e.stack})]}),(e?.errorType||e?.errorMessage)&&s.jsxs("div",{className:"bg-purple-50 dark:bg-purple-900/20 border border-purple-300 dark:border-purple-700 rounded-lg p-4",children:[s.jsx("h3",{className:"text-sm font-semibold text-purple-800 dark:text-purple-200 mb-2",children:"Lambda Error"}),s.jsxs("div",{className:"space-y-1 text-sm",children:[e.errorType&&s.jsxs("div",{children:[s.jsx("span",{className:"text-purple-700 dark:text-purple-300 font-semibold",children:"Error Type:"})," ",s.jsx("span",{className:"text-purple-600 dark:text-purple-400 font-mono",children:e.errorType})]}),e.errorMessage&&s.jsxs("div",{children:[s.jsx("span",{className:"text-purple-700 dark:text-purple-300 font-semibold",children:"Error Message:"})," ",s.jsx("span",{className:"text-purple-600 dark:text-purple-400 font-mono",children:e.errorMessage})]})]})]}),(e?.error?.message||e?.error?.type||e?.error?.code)&&s.jsxs("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-300 dark:border-yellow-700 rounded-lg p-4",children:[s.jsx("h3",{className:"text-sm font-semibold text-yellow-800 dark:text-yellow-200 mb-2",children:"Upstream LLM Provider Error"}),s.jsxs("div",{className:"space-y-1 text-sm",children:[e.error.message&&s.jsxs("div",{children:[s.jsx("span",{className:"text-yellow-700 dark:text-yellow-300 font-semibold",children:"Message:"})," ",s.jsx("span",{className:"text-yellow-600 dark:text-yellow-400 font-mono",children:e.error.message})]}),e.error.type&&s.jsxs("div",{children:[s.jsx("span",{className:"text-yellow-700 dark:text-yellow-300 font-semibold",children:"Type:"})," ",s.jsx("span",{className:"text-yellow-600 dark:text-yellow-400 font-mono",children:e.error.type})]}),e.error.code&&s.jsxs("div",{children:[s.jsx("span",{className:"text-yellow-700 dark:text-yellow-300 font-semibold",children:"Code:"})," ",s.jsx("span",{className:"text-yellow-600 dark:text-yellow-400 font-mono",children:e.error.code})]})]})]}),(e?.request||e?.requestId||e?.timestamp)&&s.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-300 dark:border-blue-700 rounded-lg p-4",children:[s.jsx("h3",{className:"text-sm font-semibold text-blue-800 dark:text-blue-200 mb-2",children:"Request Context"}),s.jsxs("div",{className:"space-y-1 text-sm",children:[e.requestId&&s.jsxs("div",{children:[s.jsx("span",{className:"text-blue-700 dark:text-blue-300 font-semibold",children:"Request ID:"})," ",s.jsx("span",{className:"text-blue-600 dark:text-blue-400 font-mono",children:e.requestId})]}),e.timestamp&&s.jsxs("div",{children:[s.jsx("span",{className:"text-blue-700 dark:text-blue-300 font-semibold",children:"Timestamp:"})," ",s.jsx("span",{className:"text-blue-600 dark:text-blue-400 font-mono",children:new Date(e.timestamp).toLocaleString()})]}),e.request&&s.jsxs("div",{className:"mt-2",children:[s.jsx("span",{className:"text-blue-700 dark:text-blue-300 font-semibold",children:"Request Data:"}),s.jsx("div",{className:"mt-1 bg-white dark:bg-gray-800 rounded p-2 max-h-48 overflow-auto",children:s.jsx(Sg,{data:e.request})})]})]})]}),t&&t.length>0&&s.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 border-2 border-blue-300 dark:border-blue-700 rounded-lg p-4",children:[s.jsxs("h3",{className:"text-sm font-semibold text-blue-800 dark:text-blue-200 mb-3 flex items-center gap-2",children:[s.jsx("span",{children:" LLM Request Details"}),s.jsxs("span",{className:"text-xs font-normal text-blue-600 dark:text-blue-400",children:["(",t.length," call",t.length!==1?"s":"",")"]})]}),s.jsx("div",{className:"space-y-3",children:t.map((o,l)=>{const u=o.response?.usage?.prompt_tokens||0,d=o.response?.usage?.completion_tokens||0,h=u+d;return s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-3 border border-blue-200 dark:border-blue-700",children:s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[s.jsx("span",{className:"text-xs font-semibold text-blue-700 dark:text-blue-300",children:"Model:"}),s.jsx("span",{className:"text-xs px-2 py-0.5 bg-blue-100 dark:bg-blue-900/50 text-blue-800 dark:text-blue-200 rounded font-mono",children:o.model}),o.provider&&s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"text-gray-400",children:""}),s.jsx("span",{className:"text-xs text-blue-600 dark:text-blue-400",children:o.provider})]}),o.phase&&s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"text-gray-400",children:""}),s.jsx("span",{className:"text-xs text-blue-600 dark:text-blue-400",children:o.phase})]})]}),h>0&&s.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[s.jsx("span",{className:"text-blue-700 dark:text-blue-300 font-semibold",children:"Tokens:"}),s.jsxs("span",{className:"text-blue-600 dark:text-blue-400 font-mono",children:[h.toLocaleString()," total"]}),s.jsxs("span",{className:"text-gray-400",children:["(",u.toLocaleString()," in, ",d.toLocaleString()," out)"]})]}),o.cost!==void 0&&s.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[s.jsx("span",{className:"text-blue-700 dark:text-blue-300 font-semibold",children:"Cost:"}),s.jsxs("span",{className:"text-green-600 dark:text-green-400 font-mono",children:["$",o.cost.toFixed(6)]})]}),o.timestamp&&s.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[s.jsx("span",{className:"text-blue-700 dark:text-blue-300 font-semibold",children:"Time:"}),s.jsx("span",{className:"text-blue-600 dark:text-blue-400 font-mono",children:new Date(o.timestamp).toLocaleTimeString()})]}),o.httpStatus&&s.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[s.jsx("span",{className:"text-blue-700 dark:text-blue-300 font-semibold",children:"HTTP Status:"}),s.jsx("span",{className:`font-mono ${o.httpStatus>=400?"text-red-600 dark:text-red-400":"text-green-600 dark:text-green-400"}`,children:o.httpStatus})]}),o.request&&s.jsxs("details",{className:"mt-2",children:[s.jsx("summary",{className:"text-xs text-blue-700 dark:text-blue-300 font-semibold cursor-pointer hover:text-blue-900 dark:hover:text-blue-100",children:"Request Details "}),s.jsx("div",{className:"mt-2 bg-gray-50 dark:bg-gray-900 rounded p-2 max-h-48 overflow-auto",children:s.jsx(Sg,{data:o.request})})]}),o.response&&s.jsxs("details",{className:"mt-2",children:[s.jsx("summary",{className:"text-xs text-blue-700 dark:text-blue-300 font-semibold cursor-pointer hover:text-blue-900 dark:hover:text-blue-100",children:"Response Details "}),s.jsx("div",{className:"mt-2 bg-gray-50 dark:bg-gray-900 rounded p-2 max-h-48 overflow-auto",children:s.jsx(Sg,{data:o.response})})]})]})},l)})})]}),s.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900/50 border border-gray-300 dark:border-gray-700 rounded-lg p-4",children:[s.jsxs("h3",{className:"text-sm font-semibold text-gray-800 dark:text-gray-200 mb-2 flex items-center justify-between",children:[s.jsx("span",{children:"Complete Error Object (Expandable Tree)"}),s.jsxs("button",{onClick:()=>{const o=JSON.stringify(e,null,2);navigator.clipboard.writeText(o).then(()=>a("Copied to clipboard!")).catch(()=>i("Failed to copy"))},className:"text-xs text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-200 flex items-center gap-1",title:"Copy full JSON to clipboard",children:[s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})}),"Copy JSON"]})]}),s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded p-3 max-h-96 overflow-auto font-mono text-xs",children:s.jsx(Sg,{data:e})})]})]})}),s.jsxs("div",{className:"flex items-center justify-end gap-2 p-4 border-t border-gray-200 dark:border-gray-700",children:[s.jsx("button",{onClick:()=>{const o=JSON.stringify(e,null,2);navigator.clipboard.writeText(o).then(()=>a("Copied to clipboard!")).catch(()=>i("Failed to copy"))},className:"btn-secondary",children:"Copy Full JSON"}),s.jsx("button",{onClick:r,className:"btn-primary",children:"Close"})]})]})})};function hTe({isOpen:e,onClose:t,messageData:r}){const[n,a]=C.useState(""),[i,o]=C.useState(!1),[l,u]=C.useState(null),{getToken:d,user:h}=Ps(),g=2e3,f=g-n.length,b=async()=>{if(!n.trim()){u("Please provide an explanation");return}o(!0),u(null);try{const x=await d(),E=await ta(),v=await fetch(`${E}/report-error`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${x}`},body:JSON.stringify({userEmail:h?.email||"unknown",explanation:n.trim(),messageData:{messageId:r.messageId,messageContent:r.messageContent,llmApiCalls:r.llmApiCalls,evaluations:r.evaluations||[],conversationThread:r.conversationThread},timestamp:new Date().toISOString()})});if(!v.ok){const T=await v.json().catch(()=>({error:"Unknown error"}));throw new Error(T.error||`HTTP ${v.status}`)}a(""),t(),console.log(" Response reported successfully")}catch(x){console.error("Failed to submit error report:",x),u(x instanceof Error?x.message:"Failed to submit report. Please try again.")}finally{o(!1)}};return e?s.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center bg-black/50 backdrop-blur-sm p-4",children:s.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-2xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"sticky top-0 bg-white dark:bg-gray-900 flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700 z-10",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:"text-2xl",children:""}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:"Report Response Issue"})]}),s.jsx("button",{onClick:t,className:"text-gray-500 hover:text-gray-700 dark:hover:text-gray-300 text-2xl leading-none","aria-label":"Close",children:""})]}),s.jsxs("div",{className:"p-6 space-y-4",children:[s.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-3 rounded-lg border border-blue-200 dark:border-blue-800 text-sm",children:s.jsxs("p",{className:"text-blue-900 dark:text-blue-100",children:[" ",s.jsx("strong",{children:"Privacy Notice:"})," Your report will include this conversation's full context and will be reviewed by the development team to improve the system. Please do not include sensitive personal information in your explanation."]})}),s.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:"Help us improve! Describe what went wrong with this response:"}),s.jsx("textarea",{value:n,onChange:x=>a(x.target.value.slice(0,g)),placeholder:`Examples:
 Response was factually incorrect about...
 Did not answer my actual question
 Hallucinated information
 Ignored previous context
 Missing important details`,className:"w-full h-48 px-4 py-3 bg-gray-50 dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-900 dark:text-gray-100 placeholder-gray-400 dark:placeholder-gray-500 resize-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",autoFocus:!0}),s.jsx("div",{className:"flex justify-between items-center text-sm",children:s.jsxs("span",{className:`${f<100?"text-orange-600 dark:text-orange-400 font-medium":"text-gray-500 dark:text-gray-400"}`,children:[f," characters remaining"]})}),l&&s.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 p-3 rounded-lg border border-red-200 dark:border-red-800",children:s.jsxs("p",{className:"text-red-900 dark:text-red-100 text-sm",children:[" ",l]})})]}),s.jsxs("div",{className:"sticky bottom-0 bg-white dark:bg-gray-900 flex items-center justify-end gap-3 p-6 border-t border-gray-200 dark:border-gray-700",children:[s.jsx("button",{onClick:t,disabled:i,className:"px-6 py-2 bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancel"}),s.jsx("button",{onClick:b,disabled:i||!n.trim(),className:"px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:i?s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"animate-spin",children:""}),s.jsx("span",{children:"Sending..."})]}):s.jsxs(s.Fragment,{children:[s.jsx("span",{children:""}),s.jsx("span",{children:"Send Report"})]})})]})]})}):null}const kP=({data:e,title:t})=>{const[r,n]=C.useState(!1);return s.jsxs("div",{className:"border border-gray-200 dark:border-gray-700 rounded",children:[s.jsxs("button",{onClick:()=>n(!r),className:"w-full px-3 py-2 flex items-center justify-between bg-gray-50 dark:bg-gray-800 hover:bg-gray-100 dark:hover:bg-gray-750 transition-colors",children:[s.jsx("span",{className:"font-mono text-sm text-gray-700 dark:text-gray-300",children:t}),s.jsx("svg",{className:`w-4 h-4 transform transition-transform ${r?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),r&&s.jsx("pre",{className:"p-3 text-xs overflow-auto max-h-96 bg-white dark:bg-gray-900 font-mono text-gray-800 dark:text-gray-200",children:JSON.stringify(e,null,2)})]})},gTe=({data:e,accessToken:t,providerApiKeys:r,onCopy:n,onGrab:a,onLlmInfo:i,onStatusChange:o})=>{console.log(" GeneratedImageBlock render:",{status:e.status,hasImageUrl:!!e.imageUrl,hasBase64:!!e.base64,data:e});const[l,u]=C.useState(!1),[d,h]=C.useState(null),[g,f]=C.useState(!1),[b,x]=C.useState(!1),[E,v]=C.useState(!1),T=j=>{switch(j.toLowerCase()){case"openai":return"bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-300";case"together":return"bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300";case"replicate":return"bg-purple-100 dark:bg-purple-900/30 text-purple-700 dark:text-purple-300";case"gemini":return"bg-orange-100 dark:bg-orange-900/30 text-orange-700 dark:text-orange-300";default:return"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300"}},w=j=>{switch(j.toLowerCase()){case"openai":return"OpenAI";case"together":return"Together AI";case"replicate":return"Replicate";case"gemini":return"Google Gemini";default:return j}},N=async()=>{if(!t){h("Authentication required");return}u(!0),h(null),o?.(e.id,"generating");try{const j=await C6(e.prompt,e.provider,e.model,e.modelKey||"",e.size||"",e.qualityTier||"",e.style||"",t,r);if(j.success&&j.imageUrl){let B=j.imageUrl;j.base64&&!j.base64.startsWith("data:")?B=`data:image/png;base64,${j.base64}`:j.base64&&(B=j.base64),o?.(e.id,"complete",B,j.llmApiCall)}else{const B=j.error||"Image generation failed";h(B),o?.(e.id,"error")}}catch(j){const B=j instanceof Error?j.message:"Image generation failed";h(B),o?.(e.id,"error")}finally{u(!1)}},R=()=>{e.imageUrl&&n&&n(e.imageUrl)},D=()=>{if(e.imageUrl&&a){const j=`![${e.prompt.substring(0,100)}](${e.imageUrl})`;a(j)}},L=()=>{e.llmApiCall&&i&&i(e.llmApiCall)};return e.status==="pending"||!e.imageUrl&&!l&&!d?s.jsx("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg p-4 mb-4",children:s.jsxs("div",{className:"flex flex-col gap-3",children:[s.jsxs("button",{onClick:N,disabled:l,className:"btn-primary flex items-center justify-center gap-2 py-3",children:[s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),s.jsxs("span",{children:["Generate Image for $",e.cost.toFixed(4)]})]}),s.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[s.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${T(e.provider)}`,children:w(e.provider)}),s.jsx("span",{className:"px-2 py-1 rounded text-xs font-medium bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300",children:e.model}),e.qualityTier&&s.jsx("span",{className:"px-2 py-1 rounded text-xs font-medium bg-yellow-100 dark:bg-yellow-900/30 text-yellow-700 dark:text-yellow-300",children:e.qualityTier}),e.size&&s.jsx("span",{className:"px-2 py-1 rounded text-xs font-medium bg-indigo-100 dark:bg-indigo-900/30 text-indigo-700 dark:text-indigo-300",children:e.size})]}),e.constraints&&s.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-3",children:[s.jsxs("button",{onClick:()=>f(!g),className:"flex items-center gap-2 text-sm text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200",children:[s.jsx("svg",{className:`w-4 h-4 transform transition-transform ${g?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})}),s.jsx("span",{children:"Model Constraints"})]}),g&&s.jsxs("div",{className:"mt-2 text-sm text-gray-600 dark:text-gray-400 space-y-1 pl-6",children:[e.constraints.maxSize&&s.jsxs("div",{children:[" Max size: ",e.constraints.maxSize]}),e.constraints.supportedSizes&&e.constraints.supportedSizes.length>0&&s.jsxs("div",{children:[" Supported sizes: ",e.constraints.supportedSizes.join(", ")]}),e.constraints.supportsStyle!==void 0&&s.jsxs("div",{children:[" Style support: ",e.constraints.supportsStyle?"Yes":"No"]})]})]}),e.availableAlternatives&&e.availableAlternatives.length>0&&s.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-3",children:[s.jsxs("button",{onClick:()=>x(!b),className:"flex items-center gap-2 text-sm text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200",children:[s.jsx("svg",{className:`w-4 h-4 transform transition-transform ${b?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})}),s.jsxs("span",{children:["Available Alternatives (",e.availableAlternatives.length,")"]})]}),b&&s.jsx("div",{className:"mt-2 space-y-2 pl-6",children:e.availableAlternatives.map((j,B)=>s.jsxs("div",{className:"text-sm bg-gray-50 dark:bg-gray-700/50 rounded p-2 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:`px-2 py-0.5 rounded text-xs font-medium ${T(j.provider)}`,children:w(j.provider)}),s.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:j.model})]}),s.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:["$",j.cost.toFixed(4)]})]},B))})]})]})}):l||e.status==="generating"?s.jsx("div",{className:"bg-white dark:bg-gray-800 border border-blue-200 dark:border-blue-700 rounded-lg p-4 mb-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"flex gap-1",children:[s.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-pulse",style:{animationDelay:"0ms"}}),s.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-pulse",style:{animationDelay:"150ms"}}),s.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-pulse",style:{animationDelay:"300ms"}})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"font-medium text-gray-900 dark:text-gray-100",children:["Generating image with ",w(e.provider),"..."]}),s.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"This may take a few seconds"})]})]})}):d||e.status==="error"?s.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-700 rounded-lg p-4 mb-4",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("svg",{className:"w-5 h-5 text-red-500 flex-shrink-0 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"font-medium text-red-900 dark:text-red-200",children:"Image Generation Failed"}),s.jsx("div",{className:"text-sm text-red-700 dark:text-red-300 mt-1",children:d||e.error||"An unknown error occurred"}),s.jsxs("button",{onClick:N,className:"mt-3 btn-secondary text-sm flex items-center gap-2",children:[s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),s.jsx("span",{children:"Retry"})]})]})]})}):e.status==="complete"&&e.imageUrl?s.jsxs("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg overflow-hidden mb-4",children:[e.fallbackUsed&&s.jsxs("div",{className:"mx-4 mt-4 mb-2 flex items-center gap-2 text-sm bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-700 rounded px-3 py-2",children:[s.jsx("svg",{className:"w-4 h-4 text-yellow-600 dark:text-yellow-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),s.jsx("span",{className:"text-yellow-800 dark:text-yellow-200",children:"Primary provider unavailable, fallback provider used"})]}),E&&s.jsxs("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-900",children:[s.jsx("h3",{className:"text-lg font-bold text-blue-600 dark:text-blue-400 mb-3",children:" IMAGE GENERATION DETAILS"}),s.jsx("table",{className:"w-full text-sm mb-4",children:s.jsxs("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:[s.jsxs("tr",{children:[s.jsx("td",{className:"py-2 pr-4 font-semibold text-gray-700 dark:text-gray-300 whitespace-nowrap",children:"Title"}),s.jsx("td",{className:"py-2 text-gray-900 dark:text-gray-100",children:"Generated Image"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"py-2 pr-4 font-semibold text-gray-700 dark:text-gray-300 whitespace-nowrap",children:"Final Prompt"}),s.jsx("td",{className:"py-2 text-gray-900 dark:text-gray-100 break-words",children:e.revisedPrompt||e.prompt})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"py-2 pr-4 font-semibold text-gray-700 dark:text-gray-300 whitespace-nowrap",children:"Size"}),s.jsx("td",{className:"py-2 text-gray-900 dark:text-gray-100",children:e.size||"1024x1024"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"py-2 pr-4 font-semibold text-gray-700 dark:text-gray-300 whitespace-nowrap",children:"Model"}),s.jsx("td",{className:"py-2 text-gray-900 dark:text-gray-100",children:e.model})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"py-2 pr-4 font-semibold text-gray-700 dark:text-gray-300 whitespace-nowrap",children:"Provider"}),s.jsx("td",{className:"py-2",children:s.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${T(e.provider)}`,children:w(e.provider)})})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"py-2 pr-4 font-semibold text-gray-700 dark:text-gray-300 whitespace-nowrap",children:"Quality"}),s.jsx("td",{className:"py-2 text-gray-900 dark:text-gray-100",children:e.qualityTier||"standard"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"py-2 pr-4 font-semibold text-gray-700 dark:text-gray-300 whitespace-nowrap",children:"Cost"}),s.jsxs("td",{className:"py-2 text-gray-900 dark:text-gray-100",children:["$",e.cost.toFixed(4)]})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"py-2 pr-4 font-semibold text-gray-700 dark:text-gray-300 whitespace-nowrap",children:"Status"}),s.jsx("td",{className:"py-2",children:s.jsx("span",{className:"px-2 py-1 rounded text-xs font-medium bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-300",children:" Success"})})]})]})}),e.llmApiCall&&s.jsxs("div",{className:"space-y-3",children:[e.llmApiCall.request&&s.jsx(kP,{data:e.llmApiCall.request,title:"Request Data"}),e.llmApiCall.response&&s.jsx(kP,{data:e.llmApiCall.response,title:"Response Data"})]})]}),s.jsxs("div",{className:"relative group",children:[s.jsx("img",{src:e.imageUrl,alt:e.prompt,className:"w-full"}),s.jsxs("div",{className:"absolute top-2 right-2 flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[n&&s.jsx("button",{onClick:R,className:"p-1.5 bg-white/90 dark:bg-gray-800/90 hover:bg-white dark:hover:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded shadow-sm transition-colors",title:"Copy image URL",children:s.jsx("svg",{className:"w-3.5 h-3.5 text-gray-700 dark:text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})})}),a&&s.jsx("button",{onClick:D,className:"p-1.5 bg-white/90 dark:bg-gray-800/90 hover:bg-white dark:hover:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded shadow-sm transition-colors",title:"Copy as markdown",children:s.jsx("svg",{className:"w-3.5 h-3.5 text-gray-700 dark:text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})})})]})]}),s.jsxs("div",{className:"px-4 py-3 border-t border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-900 flex items-center justify-between",children:[s.jsxs("button",{onClick:()=>v(!E),className:"flex items-center gap-2 text-sm text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200 transition-colors",children:[s.jsx("svg",{className:`w-4 h-4 transform transition-transform ${E?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})}),s.jsxs("span",{className:"font-medium",children:[E?"Hide":"Show"," Details"]})]}),i&&e.llmApiCall&&s.jsxs("button",{onClick:L,className:"flex items-center gap-1.5 px-3 py-1.5 text-xs bg-white dark:bg-gray-800 hover:bg-gray-100 dark:hover:bg-gray-750 border border-gray-300 dark:border-gray-600 rounded transition-colors",title:"View LLM call details",children:[s.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),s.jsx("span",{children:"LLM Info"})]})]})]}):null},Em=({data:e,level:t=0,expanded:r=!1,expandPaths:n=[],currentPath:a="",expandAll:i=!1})=>{const o=i||r||n.some(x=>a===x||a.startsWith(x+".")),[l,u]=C.useState(o),h=(x=>x===null?"null":Array.isArray(x)?"array":typeof x)(e);if(h!=="object"&&h!=="array")return s.jsx("span",{className:`json-value json-${h}`,children:h==="string"?`"${e}"`:String(e)});const g=Array.isArray(e)?e.map((x,E)=>[E,x]):Object.entries(e),f=g.length===0,b=Array.isArray(e)?`Array(${e.length})`:`Object{${g.length}}`;return s.jsxs("div",{className:"json-tree",children:[s.jsxs("div",{className:"json-line",children:[!f&&s.jsx("button",{onClick:()=>u(!l),className:"json-toggle","aria-label":l?"Collapse":"Expand",children:l?"":""}),s.jsx("span",{className:"json-bracket",children:Array.isArray(e)?"[":"{"}),!l&&!f&&s.jsxs("span",{className:"json-preview",children:[" ",b," "]}),!l&&s.jsx("span",{className:"json-bracket",children:Array.isArray(e)?"]":"}"})]}),l&&s.jsxs("div",{className:"json-content",style:{marginLeft:`${t*20+20}px`},children:[g.map(([x,E],v)=>{const T=a?`${a}.${x}`:String(x);return s.jsxs("div",{className:"json-item",children:[!Array.isArray(e)&&s.jsxs(s.Fragment,{children:[s.jsxs("span",{className:"json-key",children:['"',x,'"']}),s.jsx("span",{className:"json-colon",children:": "})]}),s.jsx(Em,{data:E,level:t+1,expanded:!1,expandPaths:n,currentPath:T,expandAll:i}),v<g.length-1&&s.jsx("span",{className:"json-comma",children:","})]},x)}),s.jsx("div",{style:{marginLeft:"-20px"},className:"json-bracket",children:Array.isArray(e)?"]":"}"})]})]})},sw=e=>{if(typeof e!="string")return!1;const t=e.trim();if(!t||!(t.startsWith("{")||t.startsWith("[")))return!1;try{const r=JSON.parse(t);return typeof r=="object"&&r!==null}catch{return!1}},q$=e=>{try{return JSON.parse(e.trim())}catch{return null}},mTe=({content:e,className:t=""})=>{if(sw(e)){const r=q$(e);if(r!==null)return s.jsx("div",{className:`json-container ${t}`,children:s.jsx(Em,{data:r,expanded:!1})})}return s.jsx("div",{className:t,children:e})},fTe=({images:e,maxDisplay:t=3,onImageClick:r,onGrabImage:n})=>{const[a,i]=C.useState(new Set),l=e.map(d=>typeof d=="string"?{src:d,alt:void 0}:d).slice(0,t);if(!e||e.length===0)return null;const u=(d,h,g)=>{d.stopPropagation(),n?.(h,g)};return s.jsx("div",{className:"my-4 flex gap-2 flex-wrap",children:l.map((d,h)=>a.has(h)?null:s.jsxs("div",{className:"relative group rounded-lg overflow-hidden border border-gray-200 dark:border-gray-700 hover:border-blue-500 dark:hover:border-blue-400 transition-colors w-32 h-32",children:[s.jsx("img",{src:d.src,alt:d.alt||`Search result ${h+1}`,className:"w-full h-full object-cover cursor-pointer",loading:"lazy",onError:()=>i(g=>new Set(g).add(h)),onClick:()=>r?.(d.src)}),n&&s.jsx("button",{onClick:g=>u(g,d.src,d.alt||`Search result ${h+1}`),className:"absolute bottom-1 right-1 opacity-0 group-hover:opacity-100 transition-opacity bg-blue-600 hover:bg-blue-700 text-white text-xs px-2 py-1 rounded shadow-lg z-10",title:"Add to SWAG",children:" Grab"})]},`${d.src}-${h}`))})},bTe=({selectedSnippetIds:e,onSelectionChange:t,userEmail:r})=>{const{getToken:n}=Ps(),{snippets:a,getAllTags:i}=_u(),[o,l]=C.useState("text"),[u,d]=C.useState(""),[h,g]=C.useState(""),[f,b]=C.useState([]),[x,E]=C.useState(!1),[v,T]=C.useState(!1),[w,N]=C.useState([]),[R,D]=C.useState(.5);C.useEffect(()=>{const O=()=>{const $=localStorage.getItem("rag_config");if($)try{const Y=JSON.parse($);Y.similarityThreshold!==void 0&&D(Y.similarityThreshold)}catch(Y){console.error("Failed to parse RAG config:",Y)}};O();const H=()=>O();return window.addEventListener("rag_config_updated",H),()=>{window.removeEventListener("rag_config_updated",H)}},[]);const L=async()=>{if(h.trim()){E(!0),T(!0);try{const O=await ta(),H=await n(),$=await fetch(`${O}/rag/embed-query`,{method:"POST",headers:{"Content-Type":"application/json",...H?{Authorization:`Bearer ${H}`}:{}},body:JSON.stringify({query:h})});if(!$.ok)throw new Error("Failed to get query embedding");const{embedding:Y}=await $.json(),V=await As.vectorSearch(Y,20,R);console.log(` Vector search found ${V.length} results with threshold ${R}`),b(V)}catch(O){console.error("Vector search error:",O),alert("Vector search failed. Make sure snippets have embeddings generated.")}finally{E(!1)}}},j=()=>{let O=a;if(w.length>0&&(O=O.filter(H=>w.every($=>H.tags?.includes($)))),o==="text"&&u.trim()){const H=u.toLowerCase();O=O.filter($=>$.title?.toLowerCase().includes(H)||$.content.toLowerCase().includes(H))}else if(o==="vector"&&v){const H=new Set(f.map($=>String($.snippet_id)));O=O.filter($=>H.has($.id))}return O},B=O=>{if(o!=="vector"||!v)return null;const H=f.find($=>String($.snippet_id)===O);return H?H.score:null},q=O=>{const H=new Set(e);H.has(O)?H.delete(O):H.add(O),t(H)},z=()=>{const O=j(),H=new Set;O.forEach($=>H.add($.id)),t(H)},K=()=>{t(new Set)},X=j(),Q=i();return s.jsxs("div",{className:"snippet-selector flex flex-col h-full bg-gray-50 dark:bg-gray-800",children:[s.jsxs("div",{className:"flex items-center justify-between p-3 border-b border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-900",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:" Attach Context"}),s.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:e.size>0&&`${e.size} selected`})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{onClick:z,disabled:X.length===0,className:"px-2 py-1 text-xs text-blue-600 dark:text-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Select All"}),s.jsx("button",{onClick:K,disabled:e.size===0,className:"px-2 py-1 text-xs text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 rounded transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Clear"})]})]}),s.jsx("div",{className:"p-2 bg-blue-50 dark:bg-blue-900/20 border-b border-blue-200 dark:border-blue-800",children:s.jsxs("p",{className:"text-xs text-blue-800 dark:text-blue-200",children:[" Select snippets to include as ",s.jsx("strong",{children:"full context"})," in your message. Unlike automatic RAG which finds relevant fragments, selected snippets are included in their entirety."]})}),s.jsx("div",{className:"p-3 border-b border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-900",children:s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>{l("text"),T(!1),b([])},className:`flex-1 px-3 py-2 text-sm font-medium rounded transition-colors ${o==="text"?"bg-blue-600 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-600"}`,children:" Text Search"}),s.jsx("button",{onClick:()=>l("vector"),className:`flex-1 px-3 py-2 text-sm font-medium rounded transition-colors ${o==="vector"?"bg-blue-600 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-600"}`,children:" Semantic Search"})]})}),s.jsxs("div",{className:"p-3 border-b border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-900 space-y-2",children:[o==="text"?s.jsx("input",{type:"text",placeholder:"Search by title or content...",value:u,onChange:O=>d(O.target.value),className:"w-full px-3 py-2 text-sm border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500"}):s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{type:"text",placeholder:"Enter semantic search query...",value:h,onChange:O=>g(O.target.value),onKeyDown:O=>O.key==="Enter"&&L(),className:"flex-1 px-3 py-2 text-sm border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500"}),s.jsx("button",{onClick:L,disabled:x||!h.trim(),className:"px-4 py-2 text-sm bg-blue-600 hover:bg-blue-700 text-white rounded transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:x?"":""})]}),o==="vector"&&v&&s.jsxs("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:["Found ",f.length," results with similarity  ",R.toFixed(2)]})]}),Q.length>0&&s.jsxs("div",{className:"p-3 border-b border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-900",children:[s.jsx("div",{className:"flex flex-wrap gap-1.5",children:Q.map(O=>s.jsx("button",{onClick:()=>{N(H=>H.includes(O)?H.filter($=>$!==O):[...H,O])},className:`px-2 py-1 text-xs rounded transition-colors ${w.includes(O)?"bg-blue-600 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-600"}`,children:O},O))}),w.length>0&&s.jsx("button",{onClick:()=>N([]),className:"mt-2 text-xs text-blue-600 dark:text-blue-400 hover:underline",children:"Clear tag filters"})]}),s.jsx("div",{className:"flex-1 overflow-y-auto p-3 space-y-2",children:X.length===0?s.jsx("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:a.length===0?s.jsxs(s.Fragment,{children:[s.jsx("p",{className:"text-sm font-medium",children:"No snippets in knowledge base"}),s.jsx("p",{className:"text-xs mt-2",children:"Visit the Swag page to add snippets"})]}):o==="vector"&&!v?s.jsx("p",{className:"text-sm",children:"Enter a query and click Search to find semantically similar snippets"}):s.jsx("p",{className:"text-sm",children:"No snippets match your filters"})}):X.map(O=>{const H=e.has(O.id),$=B(O.id);return s.jsx("div",{onClick:()=>q(O.id),className:`border rounded p-3 cursor-pointer transition-all ${H?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":"border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 hover:border-blue-300 dark:hover:border-blue-700 hover:shadow-md"}`,children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("input",{type:"checkbox",checked:H,onChange:()=>{},className:"mt-1 w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-start justify-between gap-2",children:[s.jsx("h3",{className:"font-semibold text-gray-900 dark:text-gray-100 text-sm",children:O.title||"Untitled"}),$!==null&&s.jsxs("span",{className:"text-xs font-mono text-blue-600 dark:text-blue-400 whitespace-nowrap",children:[($*100).toFixed(1),"%"]})]}),s.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-1 line-clamp-2",children:O.content}),O.tags&&O.tags.length>0&&s.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:O.tags.map(Y=>s.jsx("span",{className:"px-1.5 py-0.5 text-xs bg-gray-200 dark:bg-gray-600 text-gray-700 dark:text-gray-300 rounded",children:Y},Y))}),s.jsxs("div",{className:"flex items-center gap-2 mt-2 text-xs text-gray-500 dark:text-gray-400",children:[s.jsx("span",{className:"capitalize",children:O.sourceType}),O.hasEmbedding&&s.jsx("span",{title:"Has embeddings",children:""})]})]})]})},O.id)})}),s.jsx("div",{className:"p-2 border-t border-gray-200 dark:border-gray-700 bg-gray-100 dark:bg-gray-900",children:s.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 text-center",children:" Tip: Click a snippet to toggle selection. Selected snippets will be included as context when you send your message."})})]})},iw=({text:e,variant:t="icon",size:r="md",onStart:n,onEnd:a,shouldSummarize:i=!1,className:o=""})=>{const{state:l,speak:u,stop:d}=Dy(),[h,g]=C.useState(!1),f=l.isPlaying||h;console.log("ReadButton render - isReading:",f,"state.isPlaying:",l.isPlaying,"localIsReading:",h),C.useEffect(()=>{g(l.isPlaying)},[l.isPlaying]),C.useEffect(()=>{h&&!l.isPlaying&&(console.log("ReadButton: Syncing local state with global state"),g(!1))},[h,l.isPlaying]);const b=C.useCallback(async()=>{if(f)console.log("ReadButton: Stop clicked"),g(!1),d(),a?.();else{console.log("ReadButton: Start clicked"),g(!0),n?.();try{await u(e,{shouldSummarize:i,onStart:()=>{console.log("TTS started"),g(!0)},onEnd:()=>{console.log("TTS ended"),g(!1),a?.()},onError:w=>{console.error("TTS error in callback:",w),g(!1)}})}catch(w){console.error("TTS error:",w),g(!1),a?.()}}},[f,e,i,u,d,n,a]);if(!l.isEnabled)return null;const x={sm:{icon:"w-4 h-4",button:"px-2 py-1 text-xs",fab:"w-10 h-10"},md:{icon:"w-5 h-5",button:"px-3 py-1.5 text-sm",fab:"w-12 h-12"},lg:{icon:"w-6 h-6",button:"px-4 py-2 text-base",fab:"w-16 h-16"}},E=x[r].icon,v=()=>s.jsx("svg",{className:E,fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02z"})}),T=()=>s.jsx("svg",{className:E,fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("rect",{x:"6",y:"6",width:"12",height:"12"})});return t==="icon"?s.jsx("button",{onClick:b,className:`p-2 rounded-md hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors ${o}`,title:f?"Stop reading (If stuck, wait 30s or refresh page)":"Read aloud",disabled:l.isPlaying&&!f,children:f?s.jsx(T,{}):s.jsx(v,{})}):t==="button"?s.jsx("button",{onClick:b,className:`${x[r].button} rounded-lg flex items-center gap-2 transition-colors ${f?"bg-red-600 text-white hover:bg-red-700":"bg-blue-600 text-white hover:bg-blue-700"} ${o}`,title:f?"Stop reading (If stuck, wait 30s or refresh page)":"Read aloud",disabled:l.isPlaying&&!f,children:f?s.jsxs(s.Fragment,{children:[s.jsx(T,{}),"Stop"]}):s.jsxs(s.Fragment,{children:[s.jsx(v,{}),"Read"]})}):t==="fab"?s.jsx("button",{onClick:b,className:`${x[r].fab} fixed bottom-20 right-6 rounded-full shadow-lg flex items-center justify-center z-40 transition-colors ${f?"bg-red-600 hover:bg-red-700":"bg-blue-600 hover:bg-blue-700"} text-white ${o}`,title:f?"Stop reading":"Read aloud",disabled:l.isPlaying&&!f,children:f?s.jsx(T,{}):s.jsx(v,{})}):null},yTe=()=>{const{state:e,stop:t}=Dy();return e.isPlaying?s.jsxs("button",{onClick:t,className:"fixed top-4 right-20 z-[60] px-4 py-2 bg-red-600 text-white rounded-lg shadow-lg hover:bg-red-700 transition-colors flex items-center gap-2 animate-pulse",children:[s.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("rect",{x:"6",y:"6",width:"12",height:"12"})}),"Stop Reading"]}):null},CP=({rawResponse:e,extractionMetadata:t})=>{const[r,n]=C.useState(null);let a=null,i=[];try{e&&(a=JSON.parse(e),a.results&&Array.isArray(a.results)&&(i=a.results))}catch(o){console.log("Failed to parse rawResponse:",o)}return console.log(" ToolTransparency received:",{hasRawResponse:!!e,rawResponseLength:e?.length,hasExtraction:!!t,parsedResults:i.length,rawResponsePreview:e?e.substring(0,100)+"...":"none"}),!e&&!t?(console.log(" ToolTransparency: No data, returning null"),null):(console.log(" ToolTransparency: Rendering with",i.length,"results"),s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"mt-3 pt-3 border-t-4 border-purple-400 dark:border-purple-600 bg-purple-50 dark:bg-purple-950 p-3 rounded",children:[s.jsxs("div",{className:"text-sm font-bold text-purple-700 dark:text-purple-300 mb-3 flex items-center gap-2",children:[" Search Results Transparency",s.jsxs("span",{className:"text-xs font-normal opacity-75",children:["(",i.length," results)"]})]}),s.jsxs("div",{className:"space-y-4",children:[i.map((o,l)=>{const u=o.rawHtml||o.rawContent||"",d=o.content||"";return s.jsxs("div",{className:"border border-purple-300 dark:border-purple-700 rounded p-3 bg-white dark:bg-gray-900",children:[s.jsxs("div",{className:"text-sm font-semibold text-purple-800 dark:text-purple-200 mb-2",children:["Result ",l+1,": ",o.title||o.url]}),u&&s.jsx("div",{className:"mb-3",children:s.jsxs("button",{onClick:()=>n({content:u,title:`Raw Content: ${o.title||o.url}`}),className:"px-3 py-2 bg-gray-700 hover:bg-gray-600 text-white text-xs rounded flex items-center gap-2",children:[" View Full Raw Scraped Content",s.jsxs("span",{className:"opacity-75",children:["(",u.length.toLocaleString()," chars)"]})]})}),d&&s.jsxs("div",{className:"mb-3",children:[s.jsxs("div",{className:"text-xs font-semibold text-green-700 dark:text-green-400 mb-1 flex items-center gap-2",children:[" Content Sent to LLM",s.jsxs("span",{className:"opacity-75",children:["(",d.length.toLocaleString()," chars)"]})]}),s.jsx("div",{className:"bg-green-50 dark:bg-green-950 border border-green-300 dark:border-green-700 rounded p-3 max-h-96 overflow-y-auto",children:s.jsx("div",{className:"prose prose-sm dark:prose-invert max-w-none",children:s.jsx(Pj,{children:d})})})]}),s.jsxs("div",{className:"mb-2",children:[s.jsx("div",{className:"text-xs font-semibold text-purple-700 dark:text-purple-400 mb-1",children:" Parsed Page Structure & Metadata"}),s.jsx("div",{className:"bg-purple-50 dark:bg-purple-950 border border-purple-300 dark:border-purple-700 rounded p-2 max-h-96 overflow-y-auto",children:s.jsx(Sp,{data:{url:o.url,title:o.title,snippet:o.snippet,images:o.page_content?.images||o.images||[],youtube:o.youtube||[],media:o.media||[],links:o.links||[],page_content:o.page_content,summary:o.page_content?.summary,structure:o.page_content?.structure,metadata:{contentLength:d.length,rawContentLength:u.length,hasImages:!!(o.page_content?.images?.length||o.images?.length),hasYouTube:!!o.youtube?.length,hasMedia:!!o.media?.length,hasLinks:!!o.links?.length}}})})]})]},l)}),t&&s.jsxs("div",{className:"border border-purple-300 dark:border-purple-700 rounded p-3 bg-white dark:bg-gray-900",children:[s.jsx("div",{className:"text-sm font-semibold text-purple-800 dark:text-purple-200 mb-2",children:" Overall Extraction Metadata"}),s.jsx("div",{className:"bg-purple-50 dark:bg-purple-950 border border-purple-300 dark:border-purple-700 rounded p-2 max-h-96 overflow-y-auto",children:s.jsx(Sp,{data:t})})]})]})]}),r&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-lg shadow-xl max-w-6xl w-full max-h-[90vh] flex flex-col",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-300 dark:border-gray-700",children:[s.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-gray-100",children:r.title}),s.jsx("button",{onClick:()=>n(null),className:"px-3 py-1 bg-gray-200 hover:bg-gray-300 dark:bg-gray-700 dark:hover:bg-gray-600 rounded text-sm",children:" Close"})]}),s.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:s.jsx("pre",{className:"whitespace-pre-wrap text-xs text-gray-800 dark:text-gray-200 font-mono",children:r.content})}),s.jsxs("div",{className:"p-4 border-t border-gray-300 dark:border-gray-700 flex gap-2",children:[s.jsx("button",{onClick:()=>{navigator.clipboard.writeText(r.content),alert("Copied to clipboard!")},className:"px-4 py-2 bg-purple-600 hover:bg-purple-700 text-white rounded text-sm",children:" Copy to Clipboard"}),s.jsxs("div",{className:"text-xs text-gray-600 dark:text-gray-400 flex items-center",children:[r.content.length.toLocaleString()," characters"]})]})]})})]}))},_P=({content:e,chartCode:t})=>{const[r,n]=ir.useState(!1),[a,i]=ir.useState(!1);try{const o=typeof e=="string"?JSON.parse(e):e,u=t||(g=>{if(!g)return null;const f=g.match(/```mermaid\s*([\s\S]*?)```/);if(f&&f[1]){const b=f[1].trim();return b.includes("[Your Mermaid diagram code here]")||b.includes("Your Mermaid diagram code here")?null:b}return null})(o.instructions||""),d=()=>{o.instructions&&navigator.clipboard.writeText(o.instructions).then(()=>{n(!0),setTimeout(()=>n(!1),2e3)})},h=()=>{u&&navigator.clipboard.writeText(u).then(()=>{i(!0),setTimeout(()=>i(!1),2e3)})};return s.jsx("div",{className:"bg-gradient-to-br from-purple-50 to-indigo-50 dark:from-purple-950/30 dark:to-indigo-950/30 rounded-lg border border-purple-200 dark:border-purple-700 overflow-hidden",children:s.jsx("table",{className:"w-full text-sm",children:s.jsxs("tbody",{children:[s.jsxs("tr",{className:"border-b border-purple-200 dark:border-purple-700",children:[s.jsx("td",{className:"font-semibold text-purple-700 dark:text-purple-300 p-3 w-32 bg-purple-100/50 dark:bg-purple-900/30",children:" Chart Type"}),s.jsx("td",{className:"p-3 text-gray-800 dark:text-gray-200",children:s.jsx("span",{className:"inline-flex items-center px-2.5 py-1 bg-purple-100 dark:bg-purple-900/50 text-purple-800 dark:text-purple-200 rounded-full text-xs font-medium border border-purple-300 dark:border-purple-600",children:o.chart_type||"N/A"})})]}),s.jsxs("tr",{className:"border-b border-purple-200 dark:border-purple-700",children:[s.jsx("td",{className:"font-semibold text-purple-700 dark:text-purple-300 p-3 bg-purple-100/50 dark:bg-purple-900/30",children:" Description"}),s.jsx("td",{className:"p-3 text-gray-800 dark:text-gray-200",children:o.description||"N/A"})]}),u&&s.jsxs("tr",{className:"border-b border-purple-200 dark:border-purple-700",children:[s.jsx("td",{className:"font-semibold text-purple-700 dark:text-purple-300 p-3 bg-purple-100/50 dark:bg-purple-900/30 align-top",children:" Chart Code"}),s.jsxs("td",{className:"p-3 text-gray-800 dark:text-gray-200 relative",children:[s.jsx("button",{onClick:h,className:"absolute top-2 right-2 px-3 py-1.5 bg-purple-600 hover:bg-purple-700 text-white text-xs rounded-md transition-colors duration-200 shadow-sm hover:shadow flex items-center gap-1.5 z-10",title:"Copy Mermaid code to clipboard",children:a?s.jsxs(s.Fragment,{children:[s.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Copied!"]}):s.jsxs(s.Fragment,{children:[s.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})}),"Copy Code"]})}),s.jsx("pre",{className:"whitespace-pre-wrap font-mono text-xs bg-gray-900 dark:bg-gray-950 text-green-400 dark:text-green-300 p-3 rounded border border-purple-200 dark:border-purple-700 max-h-96 overflow-y-auto pr-28",children:u})]})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"font-semibold text-purple-700 dark:text-purple-300 p-3 bg-purple-100/50 dark:bg-purple-900/30 align-top",children:" Full Instructions"}),s.jsxs("td",{className:"p-3 text-gray-800 dark:text-gray-200 relative",children:[s.jsx("button",{onClick:d,className:"absolute top-2 right-2 px-3 py-1.5 bg-purple-600 hover:bg-purple-700 text-white text-xs rounded-md transition-colors duration-200 shadow-sm hover:shadow flex items-center gap-1.5 z-10",title:"Copy full instructions to clipboard",children:r?s.jsxs(s.Fragment,{children:[s.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Copied!"]}):s.jsxs(s.Fragment,{children:[s.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})}),"Copy All"]})}),s.jsx("pre",{className:"whitespace-pre-wrap font-mono text-xs bg-white dark:bg-gray-900 p-3 rounded border border-purple-200 dark:border-purple-700 max-h-96 overflow-y-auto pr-28",children:o.instructions||"No instructions available"})]})]})]})})})}catch(o){return console.error("Error parsing generate_chart result:",o),s.jsx("pre",{className:"whitespace-pre-wrap text-xs text-gray-800 dark:text-gray-200",children:typeof e=="string"?e:JSON.stringify(e,null,2)})}},xTe=({videos:e,onOpenPlayer:t})=>{const{playTrack:r,addTracksToStart:n}=Cu(),a=i=>{n([{videoId:i.videoId,title:i.title,url:i.url,thumbnail:i.thumbnail,channel:i.channel,duration:i.duration}]),setTimeout(()=>{r(0),t&&t()},0)};return e.length===0?null:s.jsxs("div",{className:"youtube-video-results my-4 space-y-3",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-3",children:[" YouTube Videos (",e.length,")"]}),e.map((i,o)=>s.jsxs("div",{onClick:()=>a(i),className:"flex gap-3 p-3 bg-gray-50 dark:bg-gray-800 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-750 transition-colors cursor-pointer",children:[i.thumbnail&&s.jsxs("div",{className:"flex-shrink-0 relative",children:[s.jsx("img",{src:i.thumbnail,alt:i.title,className:"w-32 h-20 object-cover rounded"}),s.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:s.jsx("div",{className:"bg-black bg-opacity-60 rounded-full p-2",children:s.jsx("span",{className:"text-white text-2xl",children:""})})})]}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h4",{className:"font-medium text-gray-900 dark:text-gray-100 truncate mb-1",children:i.title}),i.channel&&s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:i.channel}),i.description&&s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 line-clamp-2",children:i.description}),i.duration&&s.jsxs("span",{className:"inline-block text-xs text-gray-500 dark:text-gray-500 mt-1",children:[" ",i.duration]})]}),s.jsx("div",{className:"flex-shrink-0 flex items-center",children:s.jsxs("button",{onClick:l=>{l.stopPropagation(),a(i)},className:"flex items-center gap-2 px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-colors",title:"Play video",children:[s.jsx("span",{className:"text-lg",children:""}),s.jsx("span",{className:"text-sm font-medium",children:"Play"})]})})]},i.videoId||o)),s.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 italic",children:" All videos have been added to your playlist"})]})},ETe=({results:e})=>{const[t,r]=C.useState(new Set),[n,a]=C.useState(new Set),i=l=>{r(u=>{const d=new Set(u);return d.has(l)?d.delete(l):d.add(l),d})},o=l=>{a(u=>{const d=new Set(u);return d.has(l)?d.delete(l):d.add(l),d})};return!e||e.length===0?null:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"text-sm font-semibold text-purple-800 dark:text-purple-200",children:[" Search Results (",e.length,")"]}),e.map((l,u)=>{const d=t.has(u),h=n.has(u),g={url:l.url,title:l.title,description:l.description,score:l.score,duckduckgoScore:l.duckduckgoScore,state:l.state,contentLength:l.contentLength,fetchTimeMs:l.fetchTimeMs,originalLength:l.originalLength,intelligentlyExtracted:l.intelligentlyExtracted,truncated:l.truncated,images_count:l.images?.length||0,youtube_count:l.youtube?.length||0,media_count:l.media?.length||0,links_count:l.links?.length||0,contentError:l.contentError};return s.jsxs("div",{className:"border border-purple-200 dark:border-purple-700 rounded-lg p-3 bg-purple-50/30 dark:bg-purple-900/10",children:[s.jsxs("div",{className:"flex items-start gap-2 mb-2",children:[s.jsxs("span",{className:"flex-shrink-0 text-purple-600 dark:text-purple-400 font-bold text-sm",children:["#",u+1]}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h4",{className:"font-semibold text-purple-900 dark:text-purple-100 text-sm mb-1",children:l.title||`Result ${u+1}`}),l.url&&s.jsx("a",{href:l.url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 dark:text-blue-400 hover:underline text-xs break-all block",children:l.url})]})]}),(l.description||l.snippet)&&s.jsx("p",{className:"text-gray-700 dark:text-gray-300 text-xs mb-2 italic",children:l.description||l.snippet}),l.contentError&&s.jsx("div",{className:"bg-red-50 dark:bg-red-900/30 border border-red-300 dark:border-red-700 rounded p-2 mb-2",children:s.jsxs("span",{className:"text-xs text-red-700 dark:text-red-300",children:[" ",l.contentError]})}),s.jsxs("div",{className:"flex flex-wrap gap-2 mb-2",children:[l.contentLength!==void 0&&s.jsxs("span",{className:"text-[10px] px-2 py-0.5 bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-200 rounded",children:[(l.contentLength/1024).toFixed(1)," KB"]}),l.fetchTimeMs!==void 0&&s.jsxs("span",{className:"text-[10px] px-2 py-0.5 bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-200 rounded",children:[l.fetchTimeMs,"ms"]}),l.images&&l.images.length>0&&s.jsxs("span",{className:"text-[10px] px-2 py-0.5 bg-purple-100 dark:bg-purple-900/30 text-purple-800 dark:text-purple-200 rounded",children:[" ",l.images.length]}),l.links&&l.links.length>0&&s.jsxs("span",{className:"text-[10px] px-2 py-0.5 bg-orange-100 dark:bg-orange-900/30 text-orange-800 dark:text-orange-200 rounded",children:[" ",l.links.length]}),l.truncated&&s.jsx("span",{className:"text-[10px] px-2 py-0.5 bg-yellow-100 dark:bg-yellow-900/30 text-yellow-800 dark:text-yellow-200 rounded",children:" Truncated"})]}),s.jsxs("div",{className:"flex gap-2",children:[l.content&&s.jsxs("button",{onClick:()=>i(u),className:"flex items-center gap-1 px-3 py-1.5 text-xs bg-purple-600 hover:bg-purple-700 text-white rounded transition-colors font-medium",children:[s.jsx("span",{children:d?"":""}),s.jsx("span",{children:"Content Sent to LLM"}),l.originalLength&&s.jsxs("span",{className:"opacity-75",children:["(",(l.originalLength/1024).toFixed(1)," KB)"]})]}),s.jsxs("button",{onClick:()=>o(u),className:"flex items-center gap-1 px-3 py-1.5 text-xs bg-blue-600 hover:bg-blue-700 text-white rounded transition-colors font-medium",children:[s.jsx("span",{children:h?"":""}),s.jsx("span",{children:"Metadata JSON"})]})]}),d&&l.content&&s.jsxs("div",{className:"mt-3 pt-3 border-t border-purple-200 dark:border-purple-700",children:[s.jsxs("div",{className:"text-xs font-semibold text-purple-800 dark:text-purple-200 mb-2",children:[" Content Sent to LLM:",l.intelligentlyExtracted&&s.jsx("span",{className:"ml-2 text-green-600 dark:text-green-400",children:" Intelligently Extracted"})]}),s.jsx("div",{className:"bg-white dark:bg-gray-900 rounded border border-purple-200 dark:border-purple-700 p-3 max-h-96 overflow-y-auto",children:s.jsx("pre",{className:"whitespace-pre-wrap text-xs text-gray-800 dark:text-gray-200 leading-relaxed font-mono",children:l.content})})]}),h&&s.jsxs("div",{className:"mt-3 pt-3 border-t border-purple-200 dark:border-purple-700",children:[s.jsx("div",{className:"text-xs font-semibold text-blue-800 dark:text-blue-200 mb-2",children:" Scrape Metadata:"}),s.jsx("div",{className:"bg-white dark:bg-gray-900 rounded border border-blue-200 dark:border-blue-700 p-3 max-h-96 overflow-y-auto",children:s.jsx(Em,{data:g})})]})]},u)})]})},vTe=({isOpen:e,onClose:t,onExampleClick:r,location:n,locationLoading:a,requestLocation:i,clearLocation:o})=>{if(!e)return null;const l=u=>{r(u),t()};return ir.useEffect(()=>{const u=d=>{d.key==="Escape"&&t()};if(e)return document.addEventListener("keydown",u),()=>document.removeEventListener("keydown",u)},[e,t]),s.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",onClick:t,children:s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-2xl w-full max-w-7xl max-h-[90vh] overflow-hidden flex flex-col",onClick:u=>u.stopPropagation(),children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:" Example Prompts"}),s.jsx("button",{onClick:t,className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 transition-colors","aria-label":"Close",children:s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),s.jsx("div",{className:"overflow-y-auto p-6",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-bold text-gray-500 dark:text-gray-400 mb-2 pb-2 border-b border-gray-200 dark:border-gray-700",children:" Web Search & Research"}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("button",{onClick:()=>l("What are the latest developments in artificial intelligence this week?"),className:"w-full text-left px-3 py-2 text-sm rounded hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-300 transition-colors",children:"Latest AI developments"}),s.jsx("button",{onClick:()=>l("Find current news about climate change policy updates"),className:"w-full text-left px-3 py-2 text-sm rounded hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-300 transition-colors",children:"Climate change policy news"}),s.jsx("button",{onClick:()=>l("What is the current stock price of Tesla and recent news about the company?"),className:"w-full text-left px-3 py-2 text-sm rounded hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-300 transition-colors",children:"Stock price lookup with news"}),s.jsx("button",{onClick:()=>l("Search for recent scientific breakthroughs in quantum computing"),className:"w-full text-left px-3 py-2 text-sm rounded hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-300 transition-colors",children:"Scientific research updates"})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-bold text-gray-500 dark:text-gray-400 mb-2 pb-2 border-b border-gray-200 dark:border-gray-700",children:" YouTube Search & Transcripts"}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("button",{onClick:()=>l("Find YouTube videos about TypeScript best practices"),className:"w-full text-left px-3 py-2 text-sm rounded hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-300 transition-colors",children:"Search YouTube videos"}),s.jsx("button",{onClick:()=>l("Get transcript with timestamps from https://www.youtube.com/watch?v=dQw4w9WgXcQ"),className:"w-full text-left px-3 py-2 text-sm rounded hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-300 transition-colors",children:"Get YouTube transcript (with timestamps)"}),s.jsx("button",{onClick:()=>l("Find the top 5 Python tutorial videos and summarize their content"),className:"w-full text-left px-3 py-2 text-sm rounded hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-300 transition-colors",children:"Search + batch summarize videos"}),s.jsx("p",{className:"px-3 py-2 text-xs text-gray-500 dark:text-gray-500 italic",children:" 3 YouTube tools available"})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-bold text-gray-500 dark:text-gray-400 mb-2 pb-2 border-b border-gray-200 dark:border-gray-700",children:" Audio/Video Transcription (Whisper AI)"}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("button",{onClick:()=>l("Transcribe this: http://localhost:3000/samples/long-form-ai-speech.mp3"),className:"w-full text-left px-3 py-2 text-sm rounded hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-300 transition-colors",children:" Local Dev: AI & ML discussion (~4min)"}),s.jsx("button",{onClick:()=>l("Transcribe this: https://llmproxy-media-samples.s3.amazonaws.com/audio/long-form-ai-speech.mp3"),className:"w-full text-left px-3 py-2 text-sm rounded hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-300 transition-colors",children:"Transcribe: AI & ML discussion (~4min)"}),s.jsx("button",{onClick:()=>l("Transcribe this YouTube video: https://www.youtube.com/watch?v=dQw4w9WgXcQ"),className:"w-full text-left px-3 py-2 text-sm rounded hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-300 transition-colors",children:"Transcribe YouTube video"}),s.jsx("button",{onClick:()=>l("Transcribe this audio file: https://llmproxy-media-samples.s3.amazonaws.com/audio/hello-test.wav and summarize it"),className:"w-full text-left px-3 py-2 text-sm rounded hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-300 transition-colors",children:"Transcribe + auto-summarize"}),s.jsxs("p",{className:"px-3 py-2 text-xs text-gray-500 dark:text-gray-500 italic",children:[" OpenAI Whisper with progress tracking",s.jsx("br",{})," Local dev example only works with localhost backend"]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-bold text-gray-500 dark:text-gray-400 mb-2 pb-2 border-b border-gray-200 dark:border-gray-700",children:" Math & Calculations (JavaScript Sandbox)"}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("button",{onClick:()=>l("Calculate compound interest on $10,000 at 7% annual rate for 15 years"),className:"w-full text-left px-3 py-2 text-sm rounded hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-300 transition-colors",children:"Compound interest calculator"}),s.jsx("button",{onClick:()=>l("Generate a multiplication table for numbers 1-12"),className:"w-full text-left px-3 py-2 text-sm rounded hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-300 transition-colors",children:"Multiplication table"}),s.jsx("button",{onClick:()=>l("Calculate the Fibonacci sequence up to the 20th number"),className:"w-full text-left px-3 py-2 text-sm rounded hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-300 transition-colors",children:"Fibonacci sequence"}),s.jsx("button",{onClick:()=>l("Convert 100 USD to EUR, GBP, and JPY at current exchange rates"),className:"w-full text-left px-3 py-2 text-sm rounded hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-300 transition-colors",children:"Currency conversion"}),s.jsx("button",{onClick:()=>l("Calculate my BMI if I weigh 70kg and am 175cm tall"),className:"w-full text-left px-3 py-2 text-sm rounded hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-300 transition-colors",children:"BMI calculator"}),s.jsx("p",{className:"px-3 py-2 text-xs text-gray-500 dark:text-gray-500 italic",children:" Secure sandbox execution"})]})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-bold text-gray-500 dark:text-gray-400 mb-2 pb-2 border-b border-gray-200 dark:border-gray-700",children:" Charts & Diagrams (Mermaid.js)"}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("button",{onClick:()=>l("Create a flowchart showing the software development lifecycle from planning to deployment"),className:"w-full text-left px-3 py-2 text-sm rounded hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-300 transition-colors",children:"Flowchart: Dev lifecycle"}),s.jsx("button",{onClick:()=>l("Show a sequence diagram for user authentication with OAuth 2.0"),className:"w-full text-left px-3 py-2 text-sm rounded hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-300 transition-colors",children:"Sequence: OAuth flow"}),s.jsx("button",{onClick:()=>l("Generate a Gantt chart for a 3-month web app project"),className:"w-full text-left px-3 py-2 text-sm rounded hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-300 transition-colors",children:"Gantt: Project timeline"}),s.jsx("button",{onClick:()=>l("Create a class diagram for an e-commerce system with User, Order, and Product"),className:"w-full text-left px-3 py-2 text-sm rounded hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-300 transition-colors",children:"Class diagram: E-commerce"}),s.jsx("button",{onClick:()=>l("Show a state diagram for an order processing system"),className:"w-full text-left px-3 py-2 text-sm rounded hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-300 transition-colors",children:"State diagram: Order processing"}),s.jsx("button",{onClick:()=>l("Create an ER diagram for a blog database with Users, Posts, Comments"),className:"w-full text-left px-3 py-2 text-sm rounded hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-300 transition-colors",children:"ER diagram: Blog schema"}),s.jsx("button",{onClick:()=>l("Show a pie chart of renewable energy distribution: Solar 30%, Wind 35%, Hydro 25%, Geo 10%"),className:"w-full text-left px-3 py-2 text-sm rounded hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-300 transition-colors",children:"Pie chart: Energy sources"}),s.jsx("button",{onClick:()=>l("Create a mindmap for planning a mobile app development project"),className:"w-full text-left px-3 py-2 text-sm rounded hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-300 transition-colors",children:"Mindmap: App planning"}),s.jsx("p",{className:"px-3 py-2 text-xs text-gray-500 dark:text-gray-500 italic",children:" 9 chart types with auto-fix"})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-bold text-gray-500 dark:text-gray-400 mb-2 pb-2 border-b border-gray-200 dark:border-gray-700",children:" Web Scraping & Content Extraction"}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("button",{onClick:()=>l("Scrape and summarize https://news.ycombinator.com"),className:"w-full text-left px-3 py-2 text-sm rounded hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-300 transition-colors",children:"Scrape: Hacker News"}),s.jsx("button",{onClick:()=>l("Extract key points from https://en.wikipedia.org/wiki/Artificial_intelligence"),className:"w-full text-left px-3 py-2 text-sm rounded hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-300 transition-colors",children:"Extract: Wikipedia article"}),s.jsx("button",{onClick:()=>l("Get the full documentation from https://react.dev/learn"),className:"w-full text-left px-3 py-2 text-sm rounded hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-300 transition-colors",children:"Scrape: React docs"}),s.jsx("button",{onClick:()=>l("Analyze this GitHub repo: https://github.com/microsoft/TypeScript"),className:"w-full text-left px-3 py-2 text-sm rounded hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-300 transition-colors",children:"Scrape: GitHub repository"}),s.jsx("p",{className:"px-3 py-2 text-xs text-gray-500 dark:text-gray-500 italic",children:" Universal scraper"})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-bold text-gray-500 dark:text-gray-400 mb-2 pb-2 border-b border-gray-200 dark:border-gray-700",children:" Browser Automation (Selenium)"}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("button",{onClick:()=>l("Scrape https://www.linkedin.com/login and tell me what you see - this requires login"),className:"w-full text-left px-3 py-2 text-sm rounded bg-amber-50 dark:bg-amber-900/20 hover:bg-amber-100 dark:hover:bg-amber-900/30 text-amber-800 dark:text-amber-300 transition-colors border border-amber-200 dark:border-amber-800",children:" Login Required: LinkedIn"}),s.jsx("button",{onClick:()=>l("Access https://twitter.com/home and get the latest tweets - requires authentication"),className:"w-full text-left px-3 py-2 text-sm rounded bg-amber-50 dark:bg-amber-900/20 hover:bg-amber-100 dark:hover:bg-amber-900/30 text-amber-800 dark:text-amber-300 transition-colors border border-amber-200 dark:border-amber-800",children:" Login Required: Twitter/X"}),s.jsx("button",{onClick:()=>l("Get content from https://www.instagram.com/instagram/ - login needed to view posts"),className:"w-full text-left px-3 py-2 text-sm rounded bg-amber-50 dark:bg-amber-900/20 hover:bg-amber-100 dark:hover:bg-amber-900/30 text-amber-800 dark:text-amber-300 transition-colors border border-amber-200 dark:border-amber-800",children:" Login Required: Instagram"}),s.jsx("button",{onClick:()=>l("Scrape https://www.google.com/recaptcha/api2/demo and complete the captcha challenge"),className:"w-full text-left px-3 py-2 text-sm rounded bg-red-50 dark:bg-red-900/20 hover:bg-red-100 dark:hover:bg-red-900/30 text-red-800 dark:text-red-300 transition-colors border border-red-200 dark:border-red-800",children:" CAPTCHA: Google reCAPTCHA v2"}),s.jsx("button",{onClick:()=>l("Access https://2captcha.com/demo/recaptcha-v2 and solve the captcha"),className:"w-full text-left px-3 py-2 text-sm rounded bg-red-50 dark:bg-red-900/20 hover:bg-red-100 dark:hover:bg-red-900/30 text-red-800 dark:text-red-300 transition-colors border border-red-200 dark:border-red-800",children:" CAPTCHA: reCAPTCHA Demo Site"}),s.jsx("p",{className:"px-3 py-2 text-xs text-amber-600 dark:text-amber-400 italic",children:" Opens browser for manual login/CAPTCHA solving"}),s.jsx("p",{className:"px-3 py-2 text-xs text-gray-500 dark:text-gray-500 italic",children:" Tier 3/4: Selenium with interactive mode (local only)"})]})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-2 pb-2 border-b border-gray-200 dark:border-gray-700",children:[s.jsx("h3",{className:"text-sm font-bold text-gray-500 dark:text-gray-400",children:" Location-Based Services"}),s.jsx("button",{onClick:async()=>{n?o():await i()},className:`px-2 py-1 text-xs rounded transition-colors ${n?"bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-300 hover:bg-green-200 dark:hover:bg-green-900/50":"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-600"}`,title:n?"Location enabled - Click to disable":"Location disabled - Click to enable",children:a?"":n?" Enabled":" Disabled"})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("button",{onClick:()=>l("Find the top 5 restaurants near my current location"),className:"w-full text-left px-3 py-2 text-sm rounded hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-300 transition-colors",children:"Find nearby restaurants"}),s.jsx("button",{onClick:()=>l("Search for coffee shops within 2 miles that are open now"),className:"w-full text-left px-3 py-2 text-sm rounded hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-300 transition-colors",children:"Find open coffee shops"}),s.jsx("button",{onClick:()=>l("What is the weather forecast for my location for the next 3 days?"),className:"w-full text-left px-3 py-2 text-sm rounded hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-300 transition-colors",children:"Local weather forecast"}),s.jsx("button",{onClick:()=>l("Find the nearest hospital or emergency room"),className:"w-full text-left px-3 py-2 text-sm rounded hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-300 transition-colors",children:"Find nearest hospital"}),s.jsx("button",{onClick:()=>l("What tourist attractions are in my area?"),className:"w-full text-left px-3 py-2 text-sm rounded hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-300 transition-colors",children:"Find local attractions"}),s.jsx("p",{className:"px-3 py-2 text-xs text-gray-500 dark:text-gray-500 italic",children:" Privacy-first location"})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-bold text-gray-500 dark:text-gray-400 mb-2 pb-2 border-b border-gray-200 dark:border-gray-700",children:" AI Image Generation"}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("button",{onClick:()=>l("Generate an image of a serene mountain landscape at sunset with golden light"),className:"w-full text-left px-3 py-2 text-sm rounded hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-300 transition-colors",children:"Landscape: Mountain sunset"}),s.jsx("button",{onClick:()=>l("Create a photorealistic portrait of a professional business woman smiling"),className:"w-full text-left px-3 py-2 text-sm rounded hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-300 transition-colors",children:"Portrait: Business professional"}),s.jsx("button",{onClick:()=>l("Generate a cartoon-style illustration of a friendly robot helping humans"),className:"w-full text-left px-3 py-2 text-sm rounded hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-300 transition-colors",children:"Cartoon: Friendly robot"}),s.jsx("button",{onClick:()=>l("Create a fast sketch of a coffee cup on a desk"),className:"w-full text-left px-3 py-2 text-sm rounded hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-300 transition-colors",children:"Quick sketch: Coffee cup"}),s.jsx("p",{className:"px-3 py-2 text-xs text-gray-500 dark:text-gray-500 italic",children:" Smart model selection"})]})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-bold text-gray-500 dark:text-gray-400 mb-2 pb-2 border-b border-gray-200 dark:border-gray-700",children:" Internal Knowledge Base (RAG)"}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("button",{onClick:()=>l("How do I configure OpenAI embeddings in this project?"),className:"w-full text-left px-3 py-2 text-sm rounded hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-300 transition-colors",children:"Search: OpenAI config"}),s.jsx("button",{onClick:()=>l("What is the RAG implementation in this codebase?"),className:"w-full text-left px-3 py-2 text-sm rounded hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-300 transition-colors",children:"Search: RAG system"}),s.jsx("button",{onClick:()=>l("How do I deploy Lambda functions in this project?"),className:"w-full text-left px-3 py-2 text-sm rounded hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-300 transition-colors",children:"Search: Lambda deployment"}),s.jsx("p",{className:"px-3 py-2 text-xs text-gray-500 dark:text-gray-500 italic",children:" Semantic search with RAG"})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-bold text-gray-500 dark:text-gray-400 mb-2 pb-2 border-b border-gray-200 dark:border-gray-700",children:" Data Analysis & Comparison"}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("button",{onClick:()=>l("Compare population growth rates of the top 5 most populous countries"),className:"w-full text-left px-3 py-2 text-sm rounded hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-300 transition-colors",children:"Compare: Population growth"}),s.jsx("button",{onClick:()=>l("What are the key differences between Python and JavaScript?"),className:"w-full text-left px-3 py-2 text-sm rounded hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-300 transition-colors",children:"Compare: Python vs JavaScript"}),s.jsx("button",{onClick:()=>l("Analyze pros and cons of renewable energy sources"),className:"w-full text-left px-3 py-2 text-sm rounded hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-300 transition-colors",children:"Analyze: Renewable energy"}),s.jsx("button",{onClick:()=>l("Compare the performance benchmarks of React, Vue, and Angular"),className:"w-full text-left px-3 py-2 text-sm rounded hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-300 transition-colors",children:"Compare: JS frameworks"})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-bold text-gray-500 dark:text-gray-400 mb-2 pb-2 border-b border-gray-200 dark:border-gray-700",children:" Multi-Step Workflows (Backend Todos)"}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("button",{onClick:()=>l("Create a complete React blog application with authentication, post creation, and comments. Break this down into steps and implement each one."),className:"w-full text-left px-3 py-2 text-sm rounded hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-300 transition-colors",children:"Build: React blog app"}),s.jsx("button",{onClick:()=>l("Help me set up a full CI/CD pipeline for my Node.js app. Plan out all the steps needed and execute them in order."),className:"w-full text-left px-3 py-2 text-sm rounded hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-300 transition-colors",children:"Setup: CI/CD pipeline"}),s.jsx("button",{onClick:()=>l("Migrate my Express server from JavaScript to TypeScript. Create a step-by-step plan and execute each phase."),className:"w-full text-left px-3 py-2 text-sm rounded hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-300 transition-colors",children:"Migrate: JS to TypeScript"}),s.jsx("button",{onClick:()=>l("Set up a complete AWS deployment for my application including VPC, RDS database, Lambda functions, and API Gateway. Plan and implement this step by step."),className:"w-full text-left px-3 py-2 text-sm rounded hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-300 transition-colors",children:"Deploy: AWS infrastructure"}),s.jsx("p",{className:"px-3 py-2 text-xs text-gray-500 dark:text-gray-500 italic",children:" Auto-progresses through steps (max 5 iterations)"})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-bold text-gray-500 dark:text-gray-400 mb-2 pb-2 border-b border-gray-200 dark:border-gray-700",children:" Knowledge Snippets (Google Sheets)"}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("button",{onClick:()=>l('Save this code example to my snippets with tags "javascript" and "async": async function fetchData() { const response = await fetch(url); return response.json(); }'),className:"w-full text-left px-3 py-2 text-sm rounded hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-300 transition-colors",children:"Save: Code snippet"}),s.jsx("button",{onClick:()=>l("Remember this information: TypeScript 5.0 introduced const type parameters for generic functions"),className:"w-full text-left px-3 py-2 text-sm rounded hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-300 transition-colors",children:"Save: Quick note"}),s.jsx("button",{onClick:()=>l('Search my snippets for "react hooks"'),className:"w-full text-left px-3 py-2 text-sm rounded hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-300 transition-colors",children:"Search: Saved snippets"}),s.jsx("button",{onClick:()=>l('Find all my snippets tagged with "python"'),className:"w-full text-left px-3 py-2 text-sm rounded hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-300 transition-colors",children:"Search: By tag"}),s.jsx("p",{className:"px-3 py-2 text-xs text-gray-500 dark:text-gray-500 italic",children:" Stored in your personal Google Sheet"})]})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center mb-2 pb-2 border-b border-amber-300 dark:border-amber-600",children:[s.jsx("h3",{className:"text-sm font-bold text-amber-600 dark:text-amber-400",children:" Recursive Agent (ask_llm)"}),s.jsx("span",{className:"ml-2 text-xs px-2 py-0.5 bg-amber-200 dark:bg-amber-900/50 text-amber-800 dark:text-amber-300 rounded font-semibold",children:" HIGH TOKENS"})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("button",{onClick:()=>l("Search for recent quantum computing research papers, scrape the top 3, analyze their methodologies, and create a comprehensive comparison table"),className:"w-full text-left px-3 py-2 text-sm rounded hover:bg-amber-50 dark:hover:bg-amber-900/20 text-gray-700 dark:text-gray-300 transition-colors border border-transparent hover:border-amber-300",children:"Multi-step research + analysis"}),s.jsx("button",{onClick:()=>l("Find Python async/await tutorials, analyze the best one, extract code examples, and generate a beginner-friendly explanation with working examples"),className:"w-full text-left px-3 py-2 text-sm rounded hover:bg-amber-50 dark:hover:bg-amber-900/20 text-gray-700 dark:text-gray-300 transition-colors border border-transparent hover:border-amber-300",children:"Tutorial extraction + synthesis"}),s.jsx("button",{onClick:()=>l("Search for the latest TypeScript features, create a detailed summary, generate code examples, and save the best practices to my snippets"),className:"w-full text-left px-3 py-2 text-sm rounded hover:bg-amber-50 dark:hover:bg-amber-900/20 text-gray-700 dark:text-gray-300 transition-colors border border-transparent hover:border-amber-300",children:"Research + documentation + save"}),s.jsxs("p",{className:"px-3 py-2 text-xs text-amber-600 dark:text-amber-500 italic bg-amber-50 dark:bg-amber-900/20 rounded border border-amber-200 dark:border-amber-800",children:[" Spawns sub-agent with full tool access",s.jsx("br",{})," Uses 5-10x more tokens",s.jsx("br",{})," Enable in Settings first"]})]})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center mb-2 pb-2 border-b border-red-400 dark:border-red-600",children:[s.jsx("h3",{className:"text-sm font-bold text-red-600 dark:text-red-400",children:" Advanced Reasoning (o1/DeepSeek-R1)"}),s.jsx("span",{className:"ml-2 text-xs px-2 py-0.5 bg-red-300 dark:bg-red-900/50 text-red-900 dark:text-red-300 rounded font-bold animate-pulse",children:" EXTREME"})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("button",{onClick:()=>l("Prove that the square root of 2 is irrational using a step-by-step logical proof with explicit reasoning"),className:"w-full text-left px-3 py-2 text-sm rounded hover:bg-red-50 dark:hover:bg-red-900/20 text-gray-700 dark:text-gray-300 transition-colors border border-transparent hover:border-red-300",children:"Mathematical proof (irrationality)"}),s.jsx("button",{onClick:()=>l("Analyze the time complexity of quicksort and prove why it is O(n log n) on average with detailed step-by-step reasoning"),className:"w-full text-left px-3 py-2 text-sm rounded hover:bg-red-50 dark:hover:bg-red-900/20 text-gray-700 dark:text-gray-300 transition-colors border border-transparent hover:border-red-300",children:"Algorithm complexity proof"}),s.jsx("button",{onClick:()=>l("Design a normalized database schema for an e-commerce platform with explicit reasoning about normalization tradeoffs, performance implications, and scalability considerations"),className:"w-full text-left px-3 py-2 text-sm rounded hover:bg-red-50 dark:hover:bg-red-900/20 text-gray-700 dark:text-gray-300 transition-colors border border-transparent hover:border-red-300",children:"Architecture design + reasoning"}),s.jsx("button",{onClick:()=>l("Debug this code and explain the logical steps to identify the bug: function fibonacci(n) { if (n <= 1) return n; return fibonacci(n-1) + fibonacci(n-3); }"),className:"w-full text-left px-3 py-2 text-sm rounded hover:bg-red-50 dark:hover:bg-red-900/20 text-gray-700 dark:text-gray-300 transition-colors border border-transparent hover:border-red-300",children:"Logical debugging analysis"}),s.jsxs("p",{className:"px-3 py-2 text-xs text-red-700 dark:text-red-500 italic bg-red-50 dark:bg-red-900/20 rounded border border-red-300 dark:border-red-800 font-semibold",children:[" Uses OpenAI o1 or DeepSeek-R1",s.jsx("br",{})," Maximum reasoning depth",s.jsx("br",{})," Uses 10-50x MORE tokens",s.jsx("br",{})," Enable in Settings first"]})]})]})]})]})})]})})},STe=({systemPrompt:e,setSystemPrompt:t})=>{const[r,n]=C.useState(!1),[a,i]=C.useState(!1),[o,l]=C.useState("");return e?s.jsx("div",{className:"p-2 border-b border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-800",children:s.jsx("div",{className:"flex items-start gap-2 max-w-screen-2xl mx-auto",children:a?s.jsxs(s.Fragment,{children:[s.jsx("textarea",{value:o,onChange:u=>l(u.target.value),className:"flex-1 text-sm text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-900 border border-gray-300 dark:border-gray-600 rounded p-2 min-h-[80px] resize-y focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter system prompt..."}),s.jsxs("div",{className:"flex gap-1 flex-shrink-0",children:[s.jsx("button",{onClick:()=>{t(o),i(!1)},className:"px-3 py-1.5 bg-blue-600 hover:bg-blue-700 text-white text-xs rounded transition-colors",title:"Save system prompt",children:"Save"}),s.jsx("button",{onClick:()=>{l(e),i(!1)},className:"px-3 py-1.5 bg-gray-400 hover:bg-gray-500 text-white text-xs rounded transition-colors",title:"Cancel editing",children:"Cancel"})]})]}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"flex-1 text-sm text-gray-700 dark:text-gray-300 cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-700 p-1 rounded transition-colors",onClick:()=>n(!r),title:r?"Click to collapse":"Click to expand",children:r?e:e.length>200?e.substring(0,200)+"...":e}),s.jsxs("div",{className:"flex gap-1 flex-shrink-0",children:[s.jsx("button",{onClick:()=>{l(e),i(!0),n(!0)},className:"px-3 py-1.5 bg-blue-600 hover:bg-blue-700 text-white text-xs rounded transition-colors",title:"Edit system prompt",children:"Edit"}),s.jsx("button",{onClick:()=>{confirm("Clear the system prompt?")&&(t(""),i(!1))},className:"px-3 py-1.5 bg-red-600 hover:bg-red-700 text-white text-xs rounded transition-colors",title:"Clear system prompt",children:"Clear"})]})]})})}):null},TTe=({systemPrompt:e,selectedSnippetIds:t,showSnippetsPanel:r,messageCount:n,onNewChat:a,onShowLoadDialog:i,onToggleSnippetsPanel:o,onShowExamplesModal:l,onShowShareDialog:u})=>{const{t:d}=xc(),h=ni();return s.jsx("div",{className:"flex flex-wrap items-center gap-2 md:px-4 py-2 border-b border-gray-200 dark:border-gray-700",children:s.jsxs("div",{className:"flex flex-wrap gap-2 flex-1",children:[s.jsxs("button",{onClick:a,className:"bg-green-600 hover:bg-green-700 text-white p-2 md:px-3 md:py-1.5 rounded font-medium text-sm transition-colors flex items-center gap-1.5",title:d("chat.newChat"),"aria-label":d("chat.newChat"),children:[s.jsx("span",{children:""}),s.jsx("span",{className:"hidden md:inline",children:d("chat.newChat")})]}),s.jsxs("button",{onClick:i,className:"btn-secondary text-sm p-2 md:px-3 md:py-1.5 flex items-center gap-1.5",title:d("chat.chatHistory"),"aria-label":d("chat.chatHistory"),children:[s.jsx("span",{children:""}),s.jsx("span",{className:"hidden md:inline",children:d("chat.history")})]}),s.jsxs("button",{onClick:()=>h("/planning"),className:"btn-secondary text-sm p-2 md:px-3 md:py-1.5 flex items-center gap-1.5",title:e?"Edit system prompt and planning":"Create a plan","aria-label":d(e?"chat.editPlan":"chat.makeAPlan"),children:[s.jsx("span",{children:e?"":""}),s.jsx("span",{className:"hidden md:inline",children:d(e?"chat.editPlan":"chat.makeAPlan")})]}),s.jsxs("button",{onClick:l,className:"btn-secondary text-sm p-2 md:px-3 md:py-1.5 flex items-center gap-1.5",title:d("chat.examples"),"aria-label":d("chat.examples"),children:[s.jsx("span",{children:""}),s.jsx("span",{className:"hidden md:inline",children:d("chat.examples")})]}),s.jsxs("button",{onClick:u,className:"btn-secondary text-sm p-2 md:px-3 md:py-1.5 flex items-center gap-1.5",title:"Share this conversation","aria-label":"Share conversation",disabled:n===0,children:[s.jsx("span",{children:""}),s.jsx("span",{className:"hidden md:inline",children:"Share"})]}),s.jsxs("button",{onClick:o,className:`text-sm p-2 md:px-3 md:py-1.5 rounded font-medium transition-colors flex items-center gap-1.5 ${r?"bg-blue-600 hover:bg-blue-700 text-white":"btn-secondary"}`,title:d("chat.attachContextTooltip"),"aria-label":d("chat.attachContext"),children:[s.jsx("span",{children:""}),s.jsx("span",{className:"hidden md:inline",children:d("chat.attachContext")}),t.size>0&&s.jsx("span",{className:"ml-1 px-1.5 py-0.5 text-xs bg-white text-blue-600 rounded-full font-bold",children:t.size})]})]})})},wTe=({attachedFiles:e,onRemoveAttachment:t})=>e.length===0?null:s.jsx("div",{className:"flex flex-wrap gap-2 p-2 bg-gray-50 dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700",children:e.map((r,n)=>s.jsxs("div",{className:"relative group bg-white dark:bg-gray-700 rounded-lg border border-gray-300 dark:border-gray-600 p-2 flex items-center gap-2",children:[r.preview?s.jsx("img",{src:r.preview,alt:r.name,className:"w-12 h-12 object-cover rounded"}):s.jsx("div",{className:"w-12 h-12 flex items-center justify-center bg-red-100 dark:bg-red-900/30 rounded",children:s.jsx("svg",{className:"w-6 h-6 text-red-600 dark:text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"})})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("div",{className:"text-xs font-medium text-gray-900 dark:text-gray-100 truncate max-w-[150px]",children:r.name}),s.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:[(r.size/1024).toFixed(1)," KB"]})]}),s.jsx("button",{onClick:()=>t(n),className:"opacity-0 group-hover:opacity-100 transition-opacity absolute -top-2 -right-2 bg-red-500 hover:bg-red-600 text-white rounded-full w-5 h-5 flex items-center justify-center text-xs",title:"Remove file",children:""})]},n))}),kTe=({isDragging:e})=>e?s.jsx("div",{className:"absolute inset-0 z-50 bg-blue-500/20 dark:bg-blue-400/20 backdrop-blur-sm flex items-center justify-center border-4 border-dashed border-blue-500 dark:border-blue-400",children:s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-8 shadow-2xl",children:s.jsxs("div",{className:"text-center",children:[s.jsx("svg",{className:"w-16 h-16 mx-auto mb-4 text-blue-500 dark:text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),s.jsx("h3",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100 mb-2",children:"Drop files here"}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Images (JPEG, PNG, GIF, WebP) and PDFs supported"}),s.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-500 mt-2",children:"Max: 5MB for images, 10MB for PDFs"})]})})}):null;var CTe=Object.defineProperty,Ey=Object.getOwnPropertySymbols,W$=Object.prototype.hasOwnProperty,Y$=Object.prototype.propertyIsEnumerable,AP=(e,t,r)=>t in e?CTe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,ow=(e,t)=>{for(var r in t||(t={}))W$.call(t,r)&&AP(e,r,t[r]);if(Ey)for(var r of Ey(t))Y$.call(t,r)&&AP(e,r,t[r]);return e},lw=(e,t)=>{var r={};for(var n in e)W$.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&Ey)for(var n of Ey(e))t.indexOf(n)<0&&Y$.call(e,n)&&(r[n]=e[n]);return r};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var wu;(e=>{const t=class qr{constructor(u,d,h,g){if(this.version=u,this.errorCorrectionLevel=d,this.modules=[],this.isFunction=[],u<qr.MIN_VERSION||u>qr.MAX_VERSION)throw new RangeError("Version value out of range");if(g<-1||g>7)throw new RangeError("Mask value out of range");this.size=u*4+17;let f=[];for(let x=0;x<this.size;x++)f.push(!1);for(let x=0;x<this.size;x++)this.modules.push(f.slice()),this.isFunction.push(f.slice());this.drawFunctionPatterns();const b=this.addEccAndInterleave(h);if(this.drawCodewords(b),g==-1){let x=1e9;for(let E=0;E<8;E++){this.applyMask(E),this.drawFormatBits(E);const v=this.getPenaltyScore();v<x&&(g=E,x=v),this.applyMask(E)}}a(0<=g&&g<=7),this.mask=g,this.applyMask(g),this.drawFormatBits(g),this.isFunction=[]}static encodeText(u,d){const h=e.QrSegment.makeSegments(u);return qr.encodeSegments(h,d)}static encodeBinary(u,d){const h=e.QrSegment.makeBytes(u);return qr.encodeSegments([h],d)}static encodeSegments(u,d,h=1,g=40,f=-1,b=!0){if(!(qr.MIN_VERSION<=h&&h<=g&&g<=qr.MAX_VERSION)||f<-1||f>7)throw new RangeError("Invalid value");let x,E;for(x=h;;x++){const N=qr.getNumDataCodewords(x,d)*8,R=o.getTotalBits(u,x);if(R<=N){E=R;break}if(x>=g)throw new RangeError("Data too long")}for(const N of[qr.Ecc.MEDIUM,qr.Ecc.QUARTILE,qr.Ecc.HIGH])b&&E<=qr.getNumDataCodewords(x,N)*8&&(d=N);let v=[];for(const N of u){r(N.mode.modeBits,4,v),r(N.numChars,N.mode.numCharCountBits(x),v);for(const R of N.getData())v.push(R)}a(v.length==E);const T=qr.getNumDataCodewords(x,d)*8;a(v.length<=T),r(0,Math.min(4,T-v.length),v),r(0,(8-v.length%8)%8,v),a(v.length%8==0);for(let N=236;v.length<T;N^=253)r(N,8,v);let w=[];for(;w.length*8<v.length;)w.push(0);return v.forEach((N,R)=>w[R>>>3]|=N<<7-(R&7)),new qr(x,d,w,f)}getModule(u,d){return 0<=u&&u<this.size&&0<=d&&d<this.size&&this.modules[d][u]}getModules(){return this.modules}drawFunctionPatterns(){for(let h=0;h<this.size;h++)this.setFunctionModule(6,h,h%2==0),this.setFunctionModule(h,6,h%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const u=this.getAlignmentPatternPositions(),d=u.length;for(let h=0;h<d;h++)for(let g=0;g<d;g++)h==0&&g==0||h==0&&g==d-1||h==d-1&&g==0||this.drawAlignmentPattern(u[h],u[g]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(u){const d=this.errorCorrectionLevel.formatBits<<3|u;let h=d;for(let f=0;f<10;f++)h=h<<1^(h>>>9)*1335;const g=(d<<10|h)^21522;a(g>>>15==0);for(let f=0;f<=5;f++)this.setFunctionModule(8,f,n(g,f));this.setFunctionModule(8,7,n(g,6)),this.setFunctionModule(8,8,n(g,7)),this.setFunctionModule(7,8,n(g,8));for(let f=9;f<15;f++)this.setFunctionModule(14-f,8,n(g,f));for(let f=0;f<8;f++)this.setFunctionModule(this.size-1-f,8,n(g,f));for(let f=8;f<15;f++)this.setFunctionModule(8,this.size-15+f,n(g,f));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let u=this.version;for(let h=0;h<12;h++)u=u<<1^(u>>>11)*7973;const d=this.version<<12|u;a(d>>>18==0);for(let h=0;h<18;h++){const g=n(d,h),f=this.size-11+h%3,b=Math.floor(h/3);this.setFunctionModule(f,b,g),this.setFunctionModule(b,f,g)}}drawFinderPattern(u,d){for(let h=-4;h<=4;h++)for(let g=-4;g<=4;g++){const f=Math.max(Math.abs(g),Math.abs(h)),b=u+g,x=d+h;0<=b&&b<this.size&&0<=x&&x<this.size&&this.setFunctionModule(b,x,f!=2&&f!=4)}}drawAlignmentPattern(u,d){for(let h=-2;h<=2;h++)for(let g=-2;g<=2;g++)this.setFunctionModule(u+g,d+h,Math.max(Math.abs(g),Math.abs(h))!=1)}setFunctionModule(u,d,h){this.modules[d][u]=h,this.isFunction[d][u]=!0}addEccAndInterleave(u){const d=this.version,h=this.errorCorrectionLevel;if(u.length!=qr.getNumDataCodewords(d,h))throw new RangeError("Invalid argument");const g=qr.NUM_ERROR_CORRECTION_BLOCKS[h.ordinal][d],f=qr.ECC_CODEWORDS_PER_BLOCK[h.ordinal][d],b=Math.floor(qr.getNumRawDataModules(d)/8),x=g-b%g,E=Math.floor(b/g);let v=[];const T=qr.reedSolomonComputeDivisor(f);for(let N=0,R=0;N<g;N++){let D=u.slice(R,R+E-f+(N<x?0:1));R+=D.length;const L=qr.reedSolomonComputeRemainder(D,T);N<x&&D.push(0),v.push(D.concat(L))}let w=[];for(let N=0;N<v[0].length;N++)v.forEach((R,D)=>{(N!=E-f||D>=x)&&w.push(R[N])});return a(w.length==b),w}drawCodewords(u){if(u.length!=Math.floor(qr.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let d=0;for(let h=this.size-1;h>=1;h-=2){h==6&&(h=5);for(let g=0;g<this.size;g++)for(let f=0;f<2;f++){const b=h-f,E=(h+1&2)==0?this.size-1-g:g;!this.isFunction[E][b]&&d<u.length*8&&(this.modules[E][b]=n(u[d>>>3],7-(d&7)),d++)}}a(d==u.length*8)}applyMask(u){if(u<0||u>7)throw new RangeError("Mask value out of range");for(let d=0;d<this.size;d++)for(let h=0;h<this.size;h++){let g;switch(u){case 0:g=(h+d)%2==0;break;case 1:g=d%2==0;break;case 2:g=h%3==0;break;case 3:g=(h+d)%3==0;break;case 4:g=(Math.floor(h/3)+Math.floor(d/2))%2==0;break;case 5:g=h*d%2+h*d%3==0;break;case 6:g=(h*d%2+h*d%3)%2==0;break;case 7:g=((h+d)%2+h*d%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[d][h]&&g&&(this.modules[d][h]=!this.modules[d][h])}}getPenaltyScore(){let u=0;for(let f=0;f<this.size;f++){let b=!1,x=0,E=[0,0,0,0,0,0,0];for(let v=0;v<this.size;v++)this.modules[f][v]==b?(x++,x==5?u+=qr.PENALTY_N1:x>5&&u++):(this.finderPenaltyAddHistory(x,E),b||(u+=this.finderPenaltyCountPatterns(E)*qr.PENALTY_N3),b=this.modules[f][v],x=1);u+=this.finderPenaltyTerminateAndCount(b,x,E)*qr.PENALTY_N3}for(let f=0;f<this.size;f++){let b=!1,x=0,E=[0,0,0,0,0,0,0];for(let v=0;v<this.size;v++)this.modules[v][f]==b?(x++,x==5?u+=qr.PENALTY_N1:x>5&&u++):(this.finderPenaltyAddHistory(x,E),b||(u+=this.finderPenaltyCountPatterns(E)*qr.PENALTY_N3),b=this.modules[v][f],x=1);u+=this.finderPenaltyTerminateAndCount(b,x,E)*qr.PENALTY_N3}for(let f=0;f<this.size-1;f++)for(let b=0;b<this.size-1;b++){const x=this.modules[f][b];x==this.modules[f][b+1]&&x==this.modules[f+1][b]&&x==this.modules[f+1][b+1]&&(u+=qr.PENALTY_N2)}let d=0;for(const f of this.modules)d=f.reduce((b,x)=>b+(x?1:0),d);const h=this.size*this.size,g=Math.ceil(Math.abs(d*20-h*10)/h)-1;return a(0<=g&&g<=9),u+=g*qr.PENALTY_N4,a(0<=u&&u<=2568888),u}getAlignmentPatternPositions(){if(this.version==1)return[];{const u=Math.floor(this.version/7)+2,d=this.version==32?26:Math.ceil((this.version*4+4)/(u*2-2))*2;let h=[6];for(let g=this.size-7;h.length<u;g-=d)h.splice(1,0,g);return h}}static getNumRawDataModules(u){if(u<qr.MIN_VERSION||u>qr.MAX_VERSION)throw new RangeError("Version number out of range");let d=(16*u+128)*u+64;if(u>=2){const h=Math.floor(u/7)+2;d-=(25*h-10)*h-55,u>=7&&(d-=36)}return a(208<=d&&d<=29648),d}static getNumDataCodewords(u,d){return Math.floor(qr.getNumRawDataModules(u)/8)-qr.ECC_CODEWORDS_PER_BLOCK[d.ordinal][u]*qr.NUM_ERROR_CORRECTION_BLOCKS[d.ordinal][u]}static reedSolomonComputeDivisor(u){if(u<1||u>255)throw new RangeError("Degree out of range");let d=[];for(let g=0;g<u-1;g++)d.push(0);d.push(1);let h=1;for(let g=0;g<u;g++){for(let f=0;f<d.length;f++)d[f]=qr.reedSolomonMultiply(d[f],h),f+1<d.length&&(d[f]^=d[f+1]);h=qr.reedSolomonMultiply(h,2)}return d}static reedSolomonComputeRemainder(u,d){let h=d.map(g=>0);for(const g of u){const f=g^h.shift();h.push(0),d.forEach((b,x)=>h[x]^=qr.reedSolomonMultiply(b,f))}return h}static reedSolomonMultiply(u,d){if(u>>>8||d>>>8)throw new RangeError("Byte out of range");let h=0;for(let g=7;g>=0;g--)h=h<<1^(h>>>7)*285,h^=(d>>>g&1)*u;return a(h>>>8==0),h}finderPenaltyCountPatterns(u){const d=u[1];a(d<=this.size*3);const h=d>0&&u[2]==d&&u[3]==d*3&&u[4]==d&&u[5]==d;return(h&&u[0]>=d*4&&u[6]>=d?1:0)+(h&&u[6]>=d*4&&u[0]>=d?1:0)}finderPenaltyTerminateAndCount(u,d,h){return u&&(this.finderPenaltyAddHistory(d,h),d=0),d+=this.size,this.finderPenaltyAddHistory(d,h),this.finderPenaltyCountPatterns(h)}finderPenaltyAddHistory(u,d){d[0]==0&&(u+=this.size),d.pop(),d.unshift(u)}};t.MIN_VERSION=1,t.MAX_VERSION=40,t.PENALTY_N1=3,t.PENALTY_N2=3,t.PENALTY_N3=40,t.PENALTY_N4=10,t.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],t.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],e.QrCode=t;function r(l,u,d){if(u<0||u>31||l>>>u)throw new RangeError("Value out of range");for(let h=u-1;h>=0;h--)d.push(l>>>h&1)}function n(l,u){return(l>>>u&1)!=0}function a(l){if(!l)throw new Error("Assertion error")}const i=class ca{constructor(u,d,h){if(this.mode=u,this.numChars=d,this.bitData=h,d<0)throw new RangeError("Invalid argument");this.bitData=h.slice()}static makeBytes(u){let d=[];for(const h of u)r(h,8,d);return new ca(ca.Mode.BYTE,u.length,d)}static makeNumeric(u){if(!ca.isNumeric(u))throw new RangeError("String contains non-numeric characters");let d=[];for(let h=0;h<u.length;){const g=Math.min(u.length-h,3);r(parseInt(u.substring(h,h+g),10),g*3+1,d),h+=g}return new ca(ca.Mode.NUMERIC,u.length,d)}static makeAlphanumeric(u){if(!ca.isAlphanumeric(u))throw new RangeError("String contains unencodable characters in alphanumeric mode");let d=[],h;for(h=0;h+2<=u.length;h+=2){let g=ca.ALPHANUMERIC_CHARSET.indexOf(u.charAt(h))*45;g+=ca.ALPHANUMERIC_CHARSET.indexOf(u.charAt(h+1)),r(g,11,d)}return h<u.length&&r(ca.ALPHANUMERIC_CHARSET.indexOf(u.charAt(h)),6,d),new ca(ca.Mode.ALPHANUMERIC,u.length,d)}static makeSegments(u){return u==""?[]:ca.isNumeric(u)?[ca.makeNumeric(u)]:ca.isAlphanumeric(u)?[ca.makeAlphanumeric(u)]:[ca.makeBytes(ca.toUtf8ByteArray(u))]}static makeEci(u){let d=[];if(u<0)throw new RangeError("ECI assignment value out of range");if(u<128)r(u,8,d);else if(u<16384)r(2,2,d),r(u,14,d);else if(u<1e6)r(6,3,d),r(u,21,d);else throw new RangeError("ECI assignment value out of range");return new ca(ca.Mode.ECI,0,d)}static isNumeric(u){return ca.NUMERIC_REGEX.test(u)}static isAlphanumeric(u){return ca.ALPHANUMERIC_REGEX.test(u)}getData(){return this.bitData.slice()}static getTotalBits(u,d){let h=0;for(const g of u){const f=g.mode.numCharCountBits(d);if(g.numChars>=1<<f)return 1/0;h+=4+f+g.bitData.length}return h}static toUtf8ByteArray(u){u=encodeURI(u);let d=[];for(let h=0;h<u.length;h++)u.charAt(h)!="%"?d.push(u.charCodeAt(h)):(d.push(parseInt(u.substring(h+1,h+3),16)),h+=2);return d}};i.NUMERIC_REGEX=/^[0-9]*$/,i.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,i.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let o=i;e.QrSegment=i})(wu||(wu={}));(e=>{(t=>{const r=class{constructor(a,i){this.ordinal=a,this.formatBits=i}};r.LOW=new r(0,1),r.MEDIUM=new r(1,0),r.QUARTILE=new r(2,3),r.HIGH=new r(3,2),t.Ecc=r})(e.QrCode||(e.QrCode={}))})(wu||(wu={}));(e=>{(t=>{const r=class{constructor(a,i){this.modeBits=a,this.numBitsCharCount=i}numCharCountBits(a){return this.numBitsCharCount[Math.floor((a+7)/17)]}};r.NUMERIC=new r(1,[10,12,14]),r.ALPHANUMERIC=new r(2,[9,11,13]),r.BYTE=new r(4,[8,16,16]),r.KANJI=new r(8,[8,10,12]),r.ECI=new r(7,[0,0,0]),t.Mode=r})(e.QrSegment||(e.QrSegment={}))})(wu||(wu={}));var Gd=wu;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var _Te={L:Gd.QrCode.Ecc.LOW,M:Gd.QrCode.Ecc.MEDIUM,Q:Gd.QrCode.Ecc.QUARTILE,H:Gd.QrCode.Ecc.HIGH},V$=128,K$="L",Q$="#FFFFFF",X$="#000000",Z$=!1,J$=1,ATe=4,NTe=0,ITe=.1;function eH(e,t=0){const r=[];return e.forEach(function(n,a){let i=null;n.forEach(function(o,l){if(!o&&i!==null){r.push(`M${i+t} ${a+t}h${l-i}v1H${i+t}z`),i=null;return}if(l===n.length-1){if(!o)return;i===null?r.push(`M${l+t},${a+t} h1v1H${l+t}z`):r.push(`M${i+t},${a+t} h${l+1-i}v1H${i+t}z`);return}o&&i===null&&(i=l)})}),r.join("")}function tH(e,t){return e.slice().map((r,n)=>n<t.y||n>=t.y+t.h?r:r.map((a,i)=>i<t.x||i>=t.x+t.w?a:!1))}function RTe(e,t,r,n){if(n==null)return null;const a=e.length+r*2,i=Math.floor(t*ITe),o=a/t,l=(n.width||i)*o,u=(n.height||i)*o,d=n.x==null?e.length/2-l/2:n.x*o,h=n.y==null?e.length/2-u/2:n.y*o,g=n.opacity==null?1:n.opacity;let f=null;if(n.excavate){let x=Math.floor(d),E=Math.floor(h),v=Math.ceil(l+d-x),T=Math.ceil(u+h-E);f={x,y:E,w:v,h:T}}const b=n.crossOrigin;return{x:d,y:h,h:u,w:l,excavation:f,opacity:g,crossOrigin:b}}function DTe(e,t){return t!=null?Math.max(Math.floor(t),0):e?ATe:NTe}function rH({value:e,level:t,minVersion:r,includeMargin:n,marginSize:a,imageSettings:i,size:o,boostLevel:l}){let u=ir.useMemo(()=>{const x=(Array.isArray(e)?e:[e]).reduce((E,v)=>(E.push(...Gd.QrSegment.makeSegments(v)),E),[]);return Gd.QrCode.encodeSegments(x,_Te[t],r,void 0,void 0,l)},[e,t,r,l]);const{cells:d,margin:h,numCells:g,calculatedImageSettings:f}=ir.useMemo(()=>{let b=u.getModules();const x=DTe(n,a),E=b.length+x*2,v=RTe(b,o,x,i);return{cells:b,margin:x,numCells:E,calculatedImageSettings:v}},[u,o,i,n,a]);return{qrcode:u,margin:h,cells:d,numCells:g,calculatedImageSettings:f}}var LTe=(function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0})(),OTe=ir.forwardRef(function(t,r){const n=t,{value:a,size:i=V$,level:o=K$,bgColor:l=Q$,fgColor:u=X$,includeMargin:d=Z$,minVersion:h=J$,boostLevel:g,marginSize:f,imageSettings:b}=n,E=lw(n,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:v}=E,T=lw(E,["style"]),w=b?.src,N=ir.useRef(null),R=ir.useRef(null),D=ir.useCallback(O=>{N.current=O,typeof r=="function"?r(O):r&&(r.current=O)},[r]),[L,j]=ir.useState(!1),{margin:B,cells:q,numCells:z,calculatedImageSettings:K}=rH({value:a,level:o,minVersion:h,boostLevel:g,includeMargin:d,marginSize:f,imageSettings:b,size:i});ir.useEffect(()=>{if(N.current!=null){const O=N.current,H=O.getContext("2d");if(!H)return;let $=q;const Y=R.current,V=K!=null&&Y!==null&&Y.complete&&Y.naturalHeight!==0&&Y.naturalWidth!==0;V&&K.excavation!=null&&($=tH(q,K.excavation));const ne=window.devicePixelRatio||1;O.height=O.width=i*ne;const P=i/z*ne;H.scale(P,P),H.fillStyle=l,H.fillRect(0,0,z,z),H.fillStyle=u,LTe?H.fill(new Path2D(eH($,B))):q.forEach(function(I,G){I.forEach(function(F,ie){F&&H.fillRect(ie+B,G+B,1,1)})}),K&&(H.globalAlpha=K.opacity),V&&H.drawImage(Y,K.x+B,K.y+B,K.w,K.h)}}),ir.useEffect(()=>{j(!1)},[w]);const X=ow({height:i,width:i},v);let Q=null;return w!=null&&(Q=ir.createElement("img",{src:w,key:w,style:{display:"none"},onLoad:()=>{j(!0)},ref:R,crossOrigin:K?.crossOrigin})),ir.createElement(ir.Fragment,null,ir.createElement("canvas",ow({style:X,height:i,width:i,ref:D,role:"img"},T)),Q)});OTe.displayName="QRCodeCanvas";var iC=ir.forwardRef(function(t,r){const n=t,{value:a,size:i=V$,level:o=K$,bgColor:l=Q$,fgColor:u=X$,includeMargin:d=Z$,minVersion:h=J$,boostLevel:g,title:f,marginSize:b,imageSettings:x}=n,E=lw(n,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:v,cells:T,numCells:w,calculatedImageSettings:N}=rH({value:a,level:o,minVersion:h,boostLevel:g,includeMargin:d,marginSize:b,imageSettings:x,size:i});let R=T,D=null;x!=null&&N!=null&&(N.excavation!=null&&(R=tH(T,N.excavation)),D=ir.createElement("image",{href:x.src,height:N.h,width:N.w,x:N.x+v,y:N.y+v,preserveAspectRatio:"none",opacity:N.opacity,crossOrigin:N.crossOrigin}));const L=eH(R,v);return ir.createElement("svg",ow({height:i,width:i,viewBox:`0 0 ${w} ${w}`,ref:r,role:"img"},E),!!f&&ir.createElement("title",null,f),ir.createElement("path",{fill:l,d:`M0,0 h${w}v${w}H0z`,shapeRendering:"crispEdges"}),ir.createElement("path",{fill:u,d:L,shapeRendering:"crispEdges"}),D)});iC.displayName="QRCodeSVG";var JS={exports:{}},NP;function MTe(){return NP||(NP=1,(function(e){var t=(function(){var r=String.fromCharCode,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",i={};function o(u,d){if(!i[u]){i[u]={};for(var h=0;h<u.length;h++)i[u][u.charAt(h)]=h}return i[u][d]}var l={compressToBase64:function(u){if(u==null)return"";var d=l._compress(u,6,function(h){return n.charAt(h)});switch(d.length%4){default:case 0:return d;case 1:return d+"===";case 2:return d+"==";case 3:return d+"="}},decompressFromBase64:function(u){return u==null?"":u==""?null:l._decompress(u.length,32,function(d){return o(n,u.charAt(d))})},compressToUTF16:function(u){return u==null?"":l._compress(u,15,function(d){return r(d+32)})+" "},decompressFromUTF16:function(u){return u==null?"":u==""?null:l._decompress(u.length,16384,function(d){return u.charCodeAt(d)-32})},compressToUint8Array:function(u){for(var d=l.compress(u),h=new Uint8Array(d.length*2),g=0,f=d.length;g<f;g++){var b=d.charCodeAt(g);h[g*2]=b>>>8,h[g*2+1]=b%256}return h},decompressFromUint8Array:function(u){if(u==null)return l.decompress(u);for(var d=new Array(u.length/2),h=0,g=d.length;h<g;h++)d[h]=u[h*2]*256+u[h*2+1];var f=[];return d.forEach(function(b){f.push(r(b))}),l.decompress(f.join(""))},compressToEncodedURIComponent:function(u){return u==null?"":l._compress(u,6,function(d){return a.charAt(d)})},decompressFromEncodedURIComponent:function(u){return u==null?"":u==""?null:(u=u.replace(/ /g,"+"),l._decompress(u.length,32,function(d){return o(a,u.charAt(d))}))},compress:function(u){return l._compress(u,16,function(d){return r(d)})},_compress:function(u,d,h){if(u==null)return"";var g,f,b={},x={},E="",v="",T="",w=2,N=3,R=2,D=[],L=0,j=0,B;for(B=0;B<u.length;B+=1)if(E=u.charAt(B),Object.prototype.hasOwnProperty.call(b,E)||(b[E]=N++,x[E]=!0),v=T+E,Object.prototype.hasOwnProperty.call(b,v))T=v;else{if(Object.prototype.hasOwnProperty.call(x,T)){if(T.charCodeAt(0)<256){for(g=0;g<R;g++)L=L<<1,j==d-1?(j=0,D.push(h(L)),L=0):j++;for(f=T.charCodeAt(0),g=0;g<8;g++)L=L<<1|f&1,j==d-1?(j=0,D.push(h(L)),L=0):j++,f=f>>1}else{for(f=1,g=0;g<R;g++)L=L<<1|f,j==d-1?(j=0,D.push(h(L)),L=0):j++,f=0;for(f=T.charCodeAt(0),g=0;g<16;g++)L=L<<1|f&1,j==d-1?(j=0,D.push(h(L)),L=0):j++,f=f>>1}w--,w==0&&(w=Math.pow(2,R),R++),delete x[T]}else for(f=b[T],g=0;g<R;g++)L=L<<1|f&1,j==d-1?(j=0,D.push(h(L)),L=0):j++,f=f>>1;w--,w==0&&(w=Math.pow(2,R),R++),b[v]=N++,T=String(E)}if(T!==""){if(Object.prototype.hasOwnProperty.call(x,T)){if(T.charCodeAt(0)<256){for(g=0;g<R;g++)L=L<<1,j==d-1?(j=0,D.push(h(L)),L=0):j++;for(f=T.charCodeAt(0),g=0;g<8;g++)L=L<<1|f&1,j==d-1?(j=0,D.push(h(L)),L=0):j++,f=f>>1}else{for(f=1,g=0;g<R;g++)L=L<<1|f,j==d-1?(j=0,D.push(h(L)),L=0):j++,f=0;for(f=T.charCodeAt(0),g=0;g<16;g++)L=L<<1|f&1,j==d-1?(j=0,D.push(h(L)),L=0):j++,f=f>>1}w--,w==0&&(w=Math.pow(2,R),R++),delete x[T]}else for(f=b[T],g=0;g<R;g++)L=L<<1|f&1,j==d-1?(j=0,D.push(h(L)),L=0):j++,f=f>>1;w--,w==0&&(w=Math.pow(2,R),R++)}for(f=2,g=0;g<R;g++)L=L<<1|f&1,j==d-1?(j=0,D.push(h(L)),L=0):j++,f=f>>1;for(;;)if(L=L<<1,j==d-1){D.push(h(L));break}else j++;return D.join("")},decompress:function(u){return u==null?"":u==""?null:l._decompress(u.length,32768,function(d){return u.charCodeAt(d)})},_decompress:function(u,d,h){var g=[],f=4,b=4,x=3,E="",v=[],T,w,N,R,D,L,j,B={val:h(0),position:d,index:1};for(T=0;T<3;T+=1)g[T]=T;for(N=0,D=Math.pow(2,2),L=1;L!=D;)R=B.val&B.position,B.position>>=1,B.position==0&&(B.position=d,B.val=h(B.index++)),N|=(R>0?1:0)*L,L<<=1;switch(N){case 0:for(N=0,D=Math.pow(2,8),L=1;L!=D;)R=B.val&B.position,B.position>>=1,B.position==0&&(B.position=d,B.val=h(B.index++)),N|=(R>0?1:0)*L,L<<=1;j=r(N);break;case 1:for(N=0,D=Math.pow(2,16),L=1;L!=D;)R=B.val&B.position,B.position>>=1,B.position==0&&(B.position=d,B.val=h(B.index++)),N|=(R>0?1:0)*L,L<<=1;j=r(N);break;case 2:return""}for(g[3]=j,w=j,v.push(j);;){if(B.index>u)return"";for(N=0,D=Math.pow(2,x),L=1;L!=D;)R=B.val&B.position,B.position>>=1,B.position==0&&(B.position=d,B.val=h(B.index++)),N|=(R>0?1:0)*L,L<<=1;switch(j=N){case 0:for(N=0,D=Math.pow(2,8),L=1;L!=D;)R=B.val&B.position,B.position>>=1,B.position==0&&(B.position=d,B.val=h(B.index++)),N|=(R>0?1:0)*L,L<<=1;g[b++]=r(N),j=b-1,f--;break;case 1:for(N=0,D=Math.pow(2,16),L=1;L!=D;)R=B.val&B.position,B.position>>=1,B.position==0&&(B.position=d,B.val=h(B.index++)),N|=(R>0?1:0)*L,L<<=1;g[b++]=r(N),j=b-1,f--;break;case 2:return v.join("")}if(f==0&&(f=Math.pow(2,x),x++),g[j])E=g[j];else if(j===b)E=w+w.charAt(0);else return null;v.push(E),g[b++]=w+E.charAt(0),f--,w=E,f==0&&(f=Math.pow(2,x),x++)}}};return l})();e!=null?e.exports=t:typeof angular<"u"&&angular!=null&&angular.module("LZString",[]).factory("LZString",function(){return t})})(JS)),JS.exports}var PTe=MTe();const yx=Al(PTe),cw=32e3,jTe=1;function yb(e){const t=JSON.stringify(e);return yx.compressToEncodedURIComponent(t)}function nH(e){try{const t=yx.decompressFromEncodedURIComponent(e);if(!t)return null;const r=JSON.parse(t);return!r.version||!r.messages||!Array.isArray(r.messages)?(console.error("Invalid share data structure"),null):r}catch(t){return console.error("Failed to decode share data:",t),null}}function FTe(e){const t=e.messages;if(t.length<=2)return yb(e);const r=t[0],n=t[t.length-1];let i={...e,messages:[r,n],metadata:{...e.metadata,truncated:!0,originalMessageCount:t.length,includedMessageCount:2,truncationNotice:"Conversation truncated to fit URL limits. Showing first and last messages."}},o=yb(i);for(let l=t.length-2;l>0;l--){const u=[r,...t.slice(l,t.length-1),n],d={...e,messages:u,metadata:{...e.metadata,truncated:!0,originalMessageCount:t.length,includedMessageCount:u.length,truncationNotice:`Conversation truncated to fit URL limits. Showing ${u.length} of ${t.length} messages.`}},h=yb(d);if(h.length>cw)break;o=h,i=d}return o}function BTe(e,t={}){const r={version:jTe,timestamp:Date.now(),shareType:t.shareType||"conversation",metadata:{title:t.title,truncated:!1,originalMessageCount:e.length,includedMessageCount:e.length},messages:e,plan:t.plan},n=yb(r);return n.length<=cw?n:(console.warn(`Share data exceeds ${cw} chars (${n.length}), applying smart truncation`),FTe(r))}function UTe(e){return`${window.location.origin+window.location.pathname}?share=${e}`}function $Te(){return new URLSearchParams(window.location.search).has("share")}function HTe(){const t=new URLSearchParams(window.location.search).get("share");return t?nH(t):null}function zTe(){const e=new URL(window.location.href);e.searchParams.delete("share"),window.history.replaceState({},"",e.toString())}const GTe=({messages:e,onClose:t,title:r,plan:n})=>{const[a,i]=C.useState(""),[o,l]=C.useState(!1),[u,d]=C.useState(!1),[h,g]=C.useState({original:0,included:0}),[f,b]=C.useState(!0);C.useEffect(()=>{try{const w=BTe(e,{title:r,plan:n}),N=UTe(w);i(N);const R=nH(w);R?.metadata.truncated&&(d(!0),g({original:R.metadata.originalMessageCount,included:R.metadata.includedMessageCount}))}catch(w){console.error("Failed to generate share URL:",w)}finally{b(!1)}},[e,r,n]);const x=async()=>{try{await navigator.clipboard.writeText(a),l(!0),setTimeout(()=>l(!1),2e3)}catch(w){console.error("Failed to copy to clipboard:",w)}},E=()=>{const w=r?`Check out this conversation: ${r}`:"Check out this conversation",N=`https://twitter.com/intent/tweet?text=${encodeURIComponent(w)}&url=${encodeURIComponent(a)}`;window.open(N,"_blank","width=550,height=420")},v=()=>{const w=r||"Shared Conversation",N=`https://reddit.com/submit?url=${encodeURIComponent(a)}&title=${encodeURIComponent(w)}`;window.open(N,"_blank")},T=()=>{const w=r?`Shared Conversation: ${r}`:"Shared Conversation",N=`Check out this conversation:

${a}`;window.location.href=`mailto:?subject=${encodeURIComponent(w)}&body=${encodeURIComponent(N)}`};return f?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 max-w-md w-full",children:s.jsxs("div",{className:"flex items-center justify-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),s.jsx("span",{className:"ml-3",children:"Generating share link..."})]})})}):s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:t,children:s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto",onClick:w=>w.stopPropagation(),children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Share Conversation"}),s.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),u&&s.jsx("div",{className:"m-6 p-4 bg-yellow-50 dark:bg-yellow-900 border-l-4 border-yellow-400 dark:border-yellow-600",children:s.jsxs("div",{className:"flex",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("svg",{className:"h-5 w-5 text-yellow-400",viewBox:"0 0 20 20",fill:"currentColor",children:s.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),s.jsxs("div",{className:"ml-3",children:[s.jsx("h3",{className:"text-sm font-medium text-yellow-800 dark:text-yellow-200",children:"Conversation Truncated"}),s.jsx("div",{className:"mt-2 text-sm text-yellow-700 dark:text-yellow-300",children:s.jsxs("p",{children:["Due to URL length limits, this share link includes ",h.included," of ",h.original," messages. The first and last messages are always preserved."]})})]})]})}),s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Shareable URL"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{type:"text",value:a,readOnly:!0,className:"flex-1 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white font-mono text-sm",onClick:w=>w.target.select()}),s.jsx("button",{onClick:x,className:`px-4 py-2 rounded-md font-medium transition-colors ${o?"bg-green-600 text-white":"bg-blue-600 text-white hover:bg-blue-700"}`,children:o?s.jsxs("span",{className:"flex items-center gap-2",children:[s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Copied!"]}):"Copy"})]}),s.jsxs("p",{className:"mt-2 text-xs text-gray-500 dark:text-gray-400",children:["URL length: ",a.length.toLocaleString()," characters"]})]}),s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"Scan with Mobile Device"}),s.jsx("div",{className:"p-4 bg-white rounded-lg border border-gray-200",children:s.jsx(iC,{value:a,size:200,level:"M"})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"Share On"}),s.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[s.jsxs("button",{onClick:E,className:"flex items-center justify-center gap-2 px-4 py-3 bg-[#1DA1F2] text-white rounded-md hover:bg-[#1a8cd8] transition-colors",children:[s.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M23 3a10.9 10.9 0 01-3.14 1.53 4.48 4.48 0 00-7.86 3v1A10.66 10.66 0 013 4s-4 9 5 13a11.64 11.64 0 01-7 2c9 5 20 0 20-11.5a4.5 4.5 0 00-.08-.83A7.72 7.72 0 0023 3z"})}),"Twitter"]}),s.jsxs("button",{onClick:v,className:"flex items-center justify-center gap-2 px-4 py-3 bg-[#FF4500] text-white rounded-md hover:bg-[#e03d00] transition-colors",children:[s.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M12 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0zm5.01 4.744c.688 0 1.25.561 1.25 1.249a1.25 1.25 0 0 1-2.498.056l-2.597-.547-.8 3.747c1.824.07 3.48.632 4.674 1.488.308-.309.73-.491 1.207-.491.968 0 1.754.786 1.754 1.754 0 .716-.435 1.333-1.01 1.614a3.111 3.111 0 0 1 .042.52c0 2.694-3.13 4.87-7.004 4.87-3.874 0-7.004-2.176-7.004-4.87 0-.183.015-.366.043-.534A1.748 1.748 0 0 1 4.028 12c0-.968.786-1.754 1.754-1.754.463 0 .898.196 1.207.49 1.207-.883 2.878-1.43 4.744-1.487l.885-4.182a.342.342 0 0 1 .14-.197.35.35 0 0 1 .238-.042l2.906.617a1.214 1.214 0 0 1 1.108-.701zM9.25 12C8.561 12 8 12.562 8 13.25c0 .687.561 1.248 1.25 1.248.687 0 1.248-.561 1.248-1.249 0-.688-.561-1.249-1.249-1.249zm5.5 0c-.687 0-1.248.561-1.248 1.25 0 .687.561 1.248 1.249 1.248.688 0 1.249-.561 1.249-1.249 0-.687-.562-1.249-1.25-1.249zm-5.466 3.99a.327.327 0 0 0-.231.094.33.33 0 0 0 0 .463c.842.842 2.484.913 2.961.913.477 0 2.105-.056 2.961-.913a.361.361 0 0 0 .029-.463.33.33 0 0 0-.464 0c-.547.533-1.684.73-2.512.73-.828 0-1.979-.196-2.512-.73a.326.326 0 0 0-.232-.095z"})}),"Reddit"]}),s.jsxs("button",{onClick:T,className:"flex items-center justify-center gap-2 px-4 py-3 bg-gray-600 text-white rounded-md hover:bg-gray-700 transition-colors",children:[s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),"Email"]})]})]}),s.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 space-y-1",children:[s.jsx("p",{children:" Anyone with this URL can view the conversation"}),s.jsx("p",{children:" Share data is compressed and encoded in the URL itself (no server storage)"}),s.jsx("p",{children:" Links never expire and work offline once loaded"})]})]}),s.jsx("div",{className:"flex justify-end gap-3 p-6 border-t border-gray-200 dark:border-gray-700",children:s.jsx("button",{onClick:t,className:"px-4 py-2 text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 rounded-md hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",children:"Close"})})]})})};function qTe(e){return typeof e=="string"?e:Array.isArray(e)?e.filter(t=>t.type==="text"&&t.text).map(t=>t.text).join(`
`):""}function IP(){return`chat_${Date.now()}_${Math.random().toString(36).substr(2,9)}`}async function e1(){try{return(await mu.getAllChats()).sort((t,r)=>r.timestamp-t.timestamp).map(t=>({id:t.id,timestamp:t.timestamp,firstUserPrompt:t.title||"New chat",messages:t.messages}))}catch(e){return console.error("Error loading chat history from IndexedDB:",e),[]}}async function WTe(e,t,r){try{const n=e.find(o=>o.role==="user"),a=n?qTe(n.content):"",i=a?a.substring(0,100):"New chat";return t||(t=IP()),await mu.saveChat(t,e,i,r),t}catch(n){return console.error("Error saving chat to history:",n),t||IP()}}async function RP(e){try{const t=await mu.getChatWithMetadata(e);return t?{messages:t.messages,systemPrompt:t.systemPrompt,planningQuery:t.planningQuery,generatedSystemPrompt:t.generatedSystemPrompt,generatedUserQuery:t.generatedUserQuery,selectedSnippetIds:t.selectedSnippetIds,todosState:t.todosState}:null}catch(t){return console.error("Error loading chat with metadata from IndexedDB:",t),null}}async function DP(e){try{await mu.deleteChat(e)}catch(t){console.error("Error deleting chat from IndexedDB:",t)}}async function YTe(){try{await mu.clearAllChats()}catch(e){console.error("Error clearing chat history from IndexedDB:",e)}}const VTe=({transferData:e,enabledTools:t,showMCPDialog:r,setShowMCPDialog:n,onLoadingChange:a})=>{const{t:i}=xc(),{accessToken:o,user:l,getToken:u}=Ps(),{getAccessToken:d}=B6(),{addSearchResult:h,clearSearchResults:g}=_Q(),{addTracksToStart:f}=Cu(),{addSnippet:b,snippets:x,syncSnippetFromGoogleSheets:E}=_u(),{showError:v,showWarning:T,showSuccess:w,clearAllToasts:N}=go(),{settings:R}=mo(),{addCost:D,usage:L}=_m(),{isConnected:j,sendMessages:B,sendScrollPosition:q}=Am(),{location:z,isLoading:K,requestLocation:X,clearLocation:Q}=z6(),[O,H]=C.useState([]),[$,Y]=C.useState(!1),[V,ne]=xi("chat_input",""),[P,I]=xi("chat_system_prompt",""),[G,F]=C.useState(!1),[ie,he]=C.useState(!1),[ye,ge]=C.useState(!1),[pe,Be]=C.useState(!1),[Ee,we]=C.useState(new Set),[Je,Ke]=C.useState(""),[ze,Vt]=C.useState(""),[kt,wt]=C.useState(""),[_t,jt]=xi("chat_mcp_servers",[]),[mt,zt]=C.useState({name:"",url:""}),[ar,kr]=C.useState(!1),dr=[{id:"joke-server",name:"Joke Server",url:"http://localhost:3100",description:"Get programming, dad, science, animal, and food jokes",category:"Sample",instructions:`1. Run: make mcp-install-jokes
2. Run: make mcp-sample-jokes
3. Server starts on port 3100`,tools:["get_random_joke","get_joke_by_id","search_jokes","get_categories"]},{id:"filesystem",name:"@modelcontextprotocol/server-filesystem",url:"https://github.com/modelcontextprotocol/servers/tree/main/src/filesystem",description:"Secure file operations with configurable access controls",category:"Official",instructions:"Install: npx -y @modelcontextprotocol/server-filesystem /path/to/allowed/files",tools:["read_file","write_file","list_directory","search_files"]},{id:"github",name:"@modelcontextprotocol/server-github",url:"https://github.com/modelcontextprotocol/servers/tree/main/src/github",description:"Repository management, file operations, commits, issues, PRs",category:"Official",instructions:`Install: npx -y @modelcontextprotocol/server-github
Requires: GITHUB_PERSONAL_ACCESS_TOKEN`,tools:["create_or_update_file","search_repositories","create_issue","create_pull_request"]},{id:"postgres",name:"@modelcontextprotocol/server-postgres",url:"https://github.com/modelcontextprotocol/servers/tree/main/src/postgres",description:"Read-only database access for PostgreSQL",category:"Official",instructions:"Install: npx -y @modelcontextprotocol/server-postgres postgresql://user:pass@localhost/db",tools:["query","list_tables","describe_table","append_insight"]},{id:"sqlite",name:"@modelcontextprotocol/server-sqlite",url:"https://github.com/modelcontextprotocol/servers/tree/main/src/sqlite",description:"Database interaction, schema inspection, query execution",category:"Official",instructions:"Install: npx -y @modelcontextprotocol/server-sqlite /path/to/database.db",tools:["query","list_tables","describe_table","append_insight"]},{id:"slack",name:"@modelcontextprotocol/server-slack",url:"https://github.com/modelcontextprotocol/servers/tree/main/src/slack",description:"Channel management and messaging for Slack",category:"Official",instructions:`Install: npx -y @modelcontextprotocol/server-slack
Requires: SLACK_BOT_TOKEN`,tools:["post_message","reply_to_thread","add_reaction","get_channel_history"]},{id:"brave-search",name:"@modelcontextprotocol/server-brave-search",url:"https://github.com/modelcontextprotocol/servers/tree/main/src/brave-search",description:"Web and local search using Brave Search API",category:"Official",instructions:`Install: npx -y @modelcontextprotocol/server-brave-search
Requires: BRAVE_API_KEY`,tools:["brave_web_search","brave_local_search"]},{id:"gdrive",name:"@modelcontextprotocol/server-gdrive",url:"https://github.com/modelcontextprotocol/servers/tree/main/src/gdrive",description:"File access and search for Google Drive",category:"Official",instructions:`Install: npx -y @modelcontextprotocol/server-gdrive
Requires: OAuth credentials`,tools:["search_files","read_file","list_files"]},{id:"git",name:"@modelcontextprotocol/server-git",url:"https://github.com/modelcontextprotocol/servers/tree/main/src/git",description:"Read, search, and analyze Git repositories",category:"Official",instructions:"Install: npx -y @modelcontextprotocol/server-git",tools:["git_status","git_diff","git_log","git_commit"]},{id:"memory",name:"@modelcontextprotocol/server-memory",url:"https://github.com/modelcontextprotocol/servers/tree/main/src/memory",description:"Knowledge graph-based persistent memory system",category:"Official",instructions:"Install: npx -y @modelcontextprotocol/server-memory",tools:["create_entities","create_relations","search_nodes","open_nodes"]},{id:"fetch",name:"@modelcontextprotocol/server-fetch",url:"https://github.com/modelcontextprotocol/servers/tree/main/src/fetch",description:"Efficient web content fetching and conversion",category:"Official",instructions:`Install: npx -y @modelcontextprotocol/server-fetch
Optional: USER_AGENT, IGNORE_ROBOTS_TXT`,tools:["fetch"]}];C.useEffect(()=>{a?.(G)},[G,a]);const[Jt,le]=C.useState([]),[se,Ce]=C.useState(""),[De,dt]=C.useState(new Set),[lt,qt]=C.useState(null),[Ft,Ct]=C.useState(!1),[je,it]=C.useState(!1),[mr,Ut]=C.useState(null),[Qr,Mt]=C.useState([]),[nn,Bn]=C.useState(new Map),[Xr,be]=C.useState(new Map),[Ue,et]=C.useState(new Map),[Ht,Ar]=C.useState(new Map),[Ur,It]=C.useState(new Map),[At,er]=C.useState(new Map),[fn,Nr]=C.useState(new Map),[Gn,xs]=C.useState(new Map),[lr,fa]=C.useState(null),[en,cn]=C.useState(null),[Ba,ba]=C.useState(null),[ns,as]=C.useState(null),[Es,Pt]=C.useState(null),[ve,nt]=C.useState(null),[Dt,Fr]=C.useState(!1),[yn,Sr]=C.useState(""),[ra,xn]=C.useState(!1),[wn,ct]=C.useState(null),[Rt,Er]=C.useState(0),[Rr,Mn]=C.useState([]),[Pn,ya]=C.useState(!1),Aa=C.useRef(null),an=C.useRef(null),En=C.useRef(null),Yi=C.useRef(!1),Vi=C.useRef(null),si=C.useRef(null),Ki=C.useRef(null),[vo,ua]=xi("chat_prompt_history",[]),[ii,vs]=C.useState(-1),[Si]=xi("chat_use_rag",!1),[,Kn]=C.useState(!1),[So,Qi]=C.useState(.3),[rr,de]=C.useState(null),[Se,$e]=C.useState(!1),[Nt,pr]=C.useState(null),[Ir,un]=C.useState(!1),[Xe,Lt]=C.useState(new Set);C.useEffect(()=>{const W=localStorage.getItem("rag_config");if(W)try{const oe=JSON.parse(W);oe.similarityThreshold!==void 0&&Qi(oe.similarityThreshold)}catch(oe){console.error("Failed to parse RAG config:",oe)}},[]),C.useEffect(()=>{const W=Array.from(At.values()).find(He=>He.phase==="generating"&&He.estimated_seconds);if(!W||W.remaining_seconds===0)return;const oe=setInterval(()=>{er(He=>{const Tt=new Map(He),tt="img_generating",ae=Tt.get(tt);if(ae&&ae.phase==="generating"){const ut=ae.remaining_seconds??ae.estimated_seconds??0;ut>0&&Tt.set(tt,{...ae,remaining_seconds:ut-1})}return Tt})},1e3);return()=>clearInterval(oe)},[At]);const Bt=ir.useMemo(()=>{const W={};return R.providers.forEach(oe=>{if(oe.enabled&&oe.apiKey)switch(oe.type){case"openai":W.openaiApiKey||(W.openaiApiKey=oe.apiKey);break;case"together":W.togetherApiKey||(W.togetherApiKey=oe.apiKey);break;case"gemini":W.geminiApiKey||(W.geminiApiKey=oe.apiKey);break;case"replicate":W.replicateApiKey||(W.replicateApiKey=oe.apiKey);break}}),W},[R.providers]),Kt=()=>{Aa.current?.scrollIntoView({behavior:"smooth"})},Br=(W,oe)=>{let He=W;const Tt=[],tt=[],ae=[],ut=/!\[([^\]]*)\]\(([^\)]+)\)/g;let Me;for(;(Me=ut.exec(W))!==null;)Tt.includes(Me[2])||Tt.push(Me[2]);const Ve=/\[([^\]]+)\]\(([^\)]+)\)/g;for(;(Me=Ve.exec(W))!==null;){const ot=Me[2];ot.match(/(?:youtube\.com\/watch\?v=|youtu\.be\/|youtube\.com\/embed\/)/)?ae.includes(ot)||ae.push(ot):tt.includes(ot)||tt.push(ot)}const ke=/<img[^>]+src=["']([^"']+)["'][^>]*>/g;for(;(Me=ke.exec(W))!==null;)Tt.includes(Me[1])||Tt.push(Me[1]);const gt=/<a[^>]+href=["']([^"']+)["'][^>]*>([^<]+)<\/a>/g;for(;(Me=gt.exec(W))!==null;){const ot=Me[1];ot.match(/(?:youtube\.com\/watch\?v=|youtu\.be\/|youtube\.com\/embed\/)/)?ae.includes(ot)||ae.push(ot):tt.includes(ot)||tt.push(ot)}return oe?(He+=`

---
`,oe.images&&oe.images.length>0&&(He+=`

## Extracted Images

`,oe.images.forEach(ot=>{He+=`![${ot.alt||"Image"}](${ot.src})
`,He+=`<img src="${ot.src}" alt="${ot.alt||"Image"}" style="max-width:100%;height:auto;" />
`,ot.source&&(He+=`*Source: [${ot.source}](${ot.source})*

`)})),oe.youtubeVideos&&oe.youtubeVideos.length>0&&(He+=`

## YouTube Videos

`,oe.youtubeVideos.forEach(ot=>{He+=`### ${ot.title||"YouTube Video"}

`,He+=`[Watch on YouTube](${ot.src})

`;const Fe=ot.src.replace("watch?v=","embed/").replace("youtu.be/","youtube.com/embed/");He+=`<iframe width="560" height="315" src="${Fe}" frameborder="0" allowfullscreen></iframe>

`,ot.source&&(He+=`*Source: [${ot.source}](${ot.source})*

`)})),oe.otherVideos&&oe.otherVideos.length>0&&(He+=`

## Videos

`,oe.otherVideos.forEach(ot=>{He+=`### ${ot.title||"Video"}

`,He+=`[Download Video](${ot.src})

`,He+=`<video controls style="max-width:100%;height:auto;">
`,He+=`  <source src="${ot.src}" type="video/mp4">
`,He+=`  Your browser does not support the video tag.
`,He+=`</video>

`,ot.source&&(He+=`*Source: [${ot.source}](${ot.source})*

`)})),oe.media&&oe.media.length>0&&(He+=`

## Media

`,oe.media.forEach(ot=>{He+=`### ${ot.type}

`,He+=`[Download Media](${ot.src})

`,ot.type.toLowerCase().includes("audio")?(He+=`<audio controls style="width:100%;">
`,He+=`  <source src="${ot.src}">
`,He+=`  Your browser does not support the audio tag.
`,He+=`</audio>

`):ot.type.toLowerCase().includes("video")&&(He+=`<video controls style="max-width:100%;height:auto;">
`,He+=`  <source src="${ot.src}">
`,He+=`  Your browser does not support the video tag.
`,He+=`</video>

`),ot.source&&(He+=`*Source: [${ot.source}](${ot.source})*

`)})),oe.sources&&oe.sources.length>0&&(He+=`

## Sources & References

`,oe.sources.forEach((ot,Fe)=>{He+=`${Fe+1}. **[${ot.title}](${ot.url})**
`,ot.snippet&&(He+=`   > ${ot.snippet}
`),He+=`   - URL: [${ot.url}](${ot.url})

`})),He):(Tt.length>0&&(He+=`

---

## Inline Images

`,Tt.forEach(ot=>{He+=`![Image](${ot})
`})),ae.length>0&&(He+=`

## Inline YouTube Videos

`,ae.forEach(ot=>{He+=`- [YouTube Video](${ot})
`,He+=`  <iframe width="560" height="315" src="${ot.replace("watch?v=","embed/")}" frameborder="0" allowfullscreen></iframe>

`})),tt.length>0&&(He+=`

## Inline Links

`,tt.forEach(ot=>{He+=`- [${ot}](${ot})
`})),He)},sa=async(W,oe)=>{try{const{imageUrlToBase64:He}=await wr(async()=>{const{imageUrlToBase64:ut}=await import("./imageUtils-DosmAaVd.js");return{imageUrlToBase64:ut}},[]),Tt=await He(W),tt=oe||"Image",ae=`<img src="${Tt}" alt="${tt}" style="max-width: 100%; height: auto;" />`;await b(ae,"assistant",tt),w(i("chat.imageAddedToSwag"))}catch(He){console.error("Failed to grab image:",He);const Tt=oe||"Image",tt=`<img src="${W}" alt="${Tt}" style="max-width: 100%; height: auto;" />`;await b(tt,"assistant",Tt),w(i("chat.imageAddedWithoutConversion"))}},Na=async(W,oe,He,Tt,tt)=>{try{let ae=Tt;if(tt&&tt.length>0){const ke=sf({toolResults:tt});(ke.images.length>0||ke.links.length>0||ke.youtubeLinks.length>0||ke.otherMedia.length>0)&&(ae={...Tt,images:[...Tt?.images||[],...ke.images.map(gt=>({src:gt,alt:"",source:""}))],youtubeVideos:[...Tt?.youtubeVideos||[],...ke.youtubeLinks.map(gt=>({src:gt.url,title:gt.title||"",source:gt.url}))],otherVideos:[...Tt?.otherVideos||[],...ke.otherMedia.filter(gt=>gt.type.includes("video")).map(gt=>({src:gt.url,title:"",source:gt.url}))],media:[...Tt?.media||[],...ke.otherMedia.filter(gt=>gt.type.includes("audio")).map(gt=>({src:gt.url,type:gt.type,source:gt.url}))],sources:[...Tt?.sources||[],...ke.links.map(gt=>({url:gt.url,title:gt.title||gt.url,snippet:""}))]})}const ut=Br(W,ae),{convertHtmlImagesToBase64:Me}=await wr(async()=>{const{convertHtmlImagesToBase64:ke}=await import("./imageUtils-DosmAaVd.js");return{convertHtmlImagesToBase64:ke}},[]),Ve=await Me(ut);await b(Ve,oe,He),w(i("chat.contentCapturedToSwag"))}catch(ae){console.error("Failed to capture content with base64 conversion:",ae);const ut=Br(W,Tt);await b(ut,oe,He),w(i("chat.contentCapturedWithoutConversion"))}},Mr=C.useRef(null),Ss=C.useRef(null),Xi=(W,oe,He)=>{console.log(" Voice transcription received:",{text:W,requestId:oe,textLength:W.length,hasLlmApiCall:!!He}),ne(W),Mr.current=oe,Ss.current=He||null,console.log(" Voice transcription complete, stored request ID:",oe),setTimeout(()=>{console.log(" Auto-submitting with transcribed text:",W.substring(0,50)),Ic(W)},150)};C.useEffect(()=>{Kt()},[O]),C.useEffect(()=>{ta().then(W=>{Sr(W),console.log(" API endpoint for voice input:",W)})},[]),C.useEffect(()=>{j&&O.length>0&&(console.log("Syncing messages to Chromecast:",O.length),B(O))},[O,j,B]),C.useEffect(()=>{if(!j||!an.current)return;const W=an.current;let oe;const He=()=>{clearTimeout(oe),oe=setTimeout(()=>{W&&q&&q(W.scrollTop)},100)};return W.addEventListener("scroll",He),()=>{W.removeEventListener("scroll",He),clearTimeout(oe)}},[j,q]),C.useEffect(()=>{const W=oe=>{Vi.current&&!Vi.current.contains(oe.target)&&Ct(!1)};if(Ft)return document.addEventListener("mousedown",W),()=>document.removeEventListener("mousedown",W)},[Ft]),C.useEffect(()=>{Yi.current&&V.trim()&&!G&&o&&(Yi.current=!1,Ic())},[V]);const Kp=W=>{En.current&&(En.current.abort(),En.current=null),H([]),I(""),ne(W),Ct(!1),le([]),Ce(""),qt(null),Bn(new Map),be(new Map),et(new Map),Ar(new Map),fa(null),Ut(null),localStorage.removeItem("last_active_chat_id"),N(),setTimeout(()=>{Ic(W)},0)},An=W=>typeof W=="string"?W:Array.isArray(W)?W.filter(oe=>oe.type==="text"&&oe.text).map(oe=>oe.text).join(`
`):"",To=async W=>{try{const oe=O[W],He=await u(),Tt=await ta();if(!(await fetch(`${Tt}/report-error`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${He}`},body:JSON.stringify({userEmail:l?.email,feedbackType:"positive",explanation:"",messageData:{messageContent:An(oe.content),llmApiCalls:oe.llmApiCalls||[],evaluations:oe.evaluations||[],conversationThread:O},timestamp:new Date().toISOString()})})).ok)throw new Error("Failed to submit feedback");w(" Thank you for the feedback!")}catch(oe){console.error("Error submitting positive feedback:",oe),v("Failed to submit feedback")}},Qp=W=>{Pt(W)},_c=W=>{const oe=An(W);if(!oe)return null;const He=oe.match(/```mermaid\s*([\s\S]*?)```/);return He&&He[1]?He[1].trim():null},sf=W=>{const oe={images:[],links:[],youtubeLinks:[],otherMedia:[]};return W.toolResults&&W.toolResults.forEach(He=>{try{const Tt=typeof He.content=="string"?JSON.parse(He.content):He.content;Tt.results&&Array.isArray(Tt.results)&&Tt.results.forEach(tt=>{tt.images&&Array.isArray(tt.images)&&tt.images.forEach(ae=>{typeof ae=="string"?oe.images.push(ae):ae&&ae.src?oe.images.push(ae.src):ae&&ae.url&&oe.images.push(ae.url)}),tt.url&&oe.links.push({url:tt.url,title:tt.title}),tt.links&&Array.isArray(tt.links)&&tt.links.forEach(ae=>{typeof ae=="string"?oe.links.push({url:ae}):ae&&ae.href?oe.links.push({url:ae.href,title:ae.text}):ae&&ae.url&&oe.links.push({url:ae.url,title:ae.text||ae.title})})}),Tt.videos&&Array.isArray(Tt.videos)&&Tt.videos.forEach(tt=>{tt.url&&oe.youtubeLinks.push({url:tt.url,title:tt.title})}),Tt.images&&Array.isArray(Tt.images)&&Tt.images.forEach(tt=>{typeof tt=="string"?oe.images.push(tt):tt&&tt.src?oe.images.push(tt.src):tt&&tt.url&&oe.images.push(tt.url)}),Tt.page_content?.images&&Array.isArray(Tt.page_content.images)&&Tt.page_content.images.forEach(tt=>{typeof tt=="string"?oe.images.push(tt):tt&&tt.src?oe.images.push(tt.src):tt&&tt.url&&oe.images.push(tt.url)}),Tt.results&&Array.isArray(Tt.results)&&Tt.results.forEach(tt=>{tt.page_content?.images&&Array.isArray(tt.page_content.images)&&tt.page_content.images.forEach(ae=>{typeof ae=="string"?oe.images.push(ae):ae&&ae.src?oe.images.push(ae.src):ae&&ae.url&&oe.images.push(ae.url)})})}catch{}}),oe.images=[...new Set(oe.images)].filter(Boolean),oe.links=Array.from(new Map(oe.links.filter(He=>He.url).map(He=>[He.url,He])).values()),oe.youtubeLinks=Array.from(new Map(oe.youtubeLinks.filter(He=>He.url).map(He=>[He.url,He])).values()),oe},Ac=W=>W<1e-4?"<$0.0001":W<.01?`$${W.toFixed(4)}`:`$${W.toFixed(3)}`,qu=W=>{if(!W||W.length===0)return 0;const oe={"gemini-2.0-flash":{input:0,output:0},"gemini-2.5-flash":{input:0,output:0},"gemini-2.5-pro":{input:0,output:0},"gemini-1.5-flash":{input:0,output:0},"gemini-1.5-pro":{input:0,output:0},"gpt-4o":{input:2.5,output:10},"gpt-4o-mini":{input:.15,output:.6},"gpt-4-turbo":{input:10,output:30},"gpt-4":{input:30,output:60},"gpt-3.5-turbo":{input:.5,output:1.5},"o1-preview":{input:15,output:60},"o1-mini":{input:3,output:12},"llama-3.1-8b-instant":{input:0,output:0},"llama-3.3-70b-versatile":{input:0,output:0},"llama-3.1-70b-versatile":{input:0,output:0},"mixtral-8x7b-32768":{input:0,output:0}};let He=0;for(const Tt of W){const tt=Tt.model,ae=Tt.response?.usage;if(!tt||!ae)continue;const ut=oe[tt]||{input:0,output:0},Me=ae.prompt_tokens||0,Ve=ae.completion_tokens||0,ke=Me/1e6*ut.input,gt=Ve/1e6*ut.output;He+=ke+gt}return He},Xo=W=>!W.llmApiCalls||W.llmApiCalls.length===0?0:qu(W.llmApiCalls),da=W=>W===0?"$0":W<1e-4?"<$0.0001":W<.01?`$${W.toFixed(4)}`:W<1?`$${W.toFixed(3)}`:`$${W.toFixed(2)}`,Zo=W=>{W.preventDefault(),W.stopPropagation(),W.dataTransfer.types.includes("Files")&&ya(!0)},Wu=W=>{W.preventDefault(),W.stopPropagation(),W.currentTarget===W.target&&ya(!1)},Nc=W=>{W.preventDefault(),W.stopPropagation()},Gx=W=>{W.preventDefault(),W.stopPropagation(),ya(!1);const oe=W.dataTransfer.files;lf(oe)},Xp=W=>{if(W){W.style.height="auto";const He=Math.min(W.scrollHeight,300);W.style.height=He+"px"}};C.useEffect(()=>{Xp(si.current)},[V]),C.useEffect(()=>{e&&(ne(e.prompt),e.persona&&I(e.persona))},[e]),C.useEffect(()=>{const W=sessionStorage.getItem("planning_transfer_data");if(console.log(" useEffect checking sessionStorage - planningData:",W?.substring(0,100)),W){console.log(" Found planning transfer data in sessionStorage");try{const oe=JSON.parse(W);if(console.log(" Planning transfer data received:",oe),H([]),Ut(null),localStorage.removeItem("last_active_chat_id"),g(),dt(new Set),Lt(new Set),oe.persona||oe.generatedSystemPrompt){const He=oe.persona||oe.generatedSystemPrompt;I(He),console.log(" Set system prompt from planning:",He.substring(0,50)+"...")}if(oe.prompt||oe.generatedUserQuery){const He=oe.prompt||oe.generatedUserQuery;ne(He),console.log(" Set user input from planning:",He.substring(0,50)+"...")}oe.planningQuery&&Ke(oe.planningQuery),oe.generatedSystemPrompt&&Vt(oe.generatedSystemPrompt),oe.generatedUserQuery&&wt(oe.generatedUserQuery),sessionStorage.removeItem("planning_transfer_data"),setTimeout(()=>{si.current?.focus(),w(i("chat.planningTransferred"))},100)}catch(oe){console.error("Failed to parse planning transfer data:",oe),v(i("chat.failedToTransfer")),sessionStorage.removeItem("planning_transfer_data")}}},[]),C.useEffect(()=>{if($Te()){const W=HTe();if(W){console.log(" Restoring shared conversation from URL"),H([]),Ut(null),localStorage.removeItem("last_active_chat_id"),g(),dt(new Set),Lt(new Set);const oe=W.messages.map(He=>({role:He.role,content:He.content,timestamp:He.timestamp}));H(oe),W.metadata.title&&I(W.metadata.title),W.metadata.truncated&&T(`This conversation was truncated to fit URL limits. Showing ${W.metadata.includedMessageCount} of ${W.metadata.originalMessageCount} messages.`),zTe(),w("Shared conversation loaded!"),console.log(` Restored ${oe.length} messages from share URL`)}}},[]),C.useEffect(()=>{$||(async()=>{try{const W=localStorage.getItem("last_active_chat_id");if(W){console.log(" Attempting to restore last chat:",W);const oe=await RP(W);if(oe&&oe.messages&&oe.messages.length>0){oe.systemPrompt&&I(oe.systemPrompt),oe.planningQuery&&Ke(oe.planningQuery),oe.generatedSystemPrompt&&Vt(oe.generatedSystemPrompt),oe.generatedUserQuery&&wt(oe.generatedUserQuery),oe.selectedSnippetIds&&Array.isArray(oe.selectedSnippetIds)&&(Lt(new Set(oe.selectedSnippetIds)),console.log(` Restored ${oe.selectedSnippetIds.length} attached snippets`));const Tt=oe.messages.map(tt=>(tt._attachments&&Array.isArray(tt._attachments)&&(tt._attachments=tt._attachments.map(ae=>({name:ae.name||"file",type:ae.type||"application/octet-stream",size:ae.size||0,preview:ae.preview}))),tt)).filter(tt=>tt&&tt.role);console.log(" Restored chat session with planning metadata:",W,"with",Tt.length,"messages"),H(Tt),Ut(W)}else console.log(" No previous chat to restore")}}catch(W){console.error(" Error loading last chat:",W),localStorage.removeItem("last_active_chat_id")}Y(!0)})()},[$]),C.useEffect(()=>{O.length>0&&$&&(async()=>{try{const W=await WTe(O,mr||void 0,{systemPrompt:P||void 0,planningQuery:Je||void 0,generatedSystemPrompt:ze||void 0,generatedUserQuery:kt||void 0,selectedSnippetIds:Array.from(Xe)});mr||Ut(W),localStorage.setItem("last_active_chat_id",W),console.log(" Chat auto-saved with planning metadata:",W)}catch(W){console.error(" Failed to auto-save chat:",W)}})()},[O,mr,$,P,Je,ze,kt]),C.useEffect(()=>{ie&&(async()=>{const W=await e1();Mt(W)})()},[ie]);const Zi=C.useRef(new Set),Ll=C.useRef(f);C.useEffect(()=>{Ll.current=f},[f]),C.useEffect(()=>{const W=O.filter(Tt=>Tt.role==="assistant"&&!Tt.isStreaming&&Tt.toolResults);if(W.length===0)return;const oe=[],He=new Set;if(W.forEach(Tt=>{Tt.toolResults?.forEach(tt=>{if(tt.name!=="search_youtube"||!tt.content)return;const ae=tt.tool_call_id||`${tt.name}-${JSON.stringify(tt.content).substring(0,100)}`;if(!Zi.current.has(ae))try{const ut=typeof tt.content=="string"?JSON.parse(tt.content):tt.content;ut.videos&&Array.isArray(ut.videos)&&(ut.videos.forEach(Me=>{Me.videoId&&!He.has(Me.videoId)&&(He.add(Me.videoId),oe.push(Me))}),Zi.current.add(ae))}catch(ut){console.error("[ChatTab] Failed to parse YouTube results:",ut)}})}),oe.length>0){const Tt=oe.map(ae=>({videoId:ae.videoId,url:ae.url,title:ae.title||"Untitled Video",description:ae.description||"",duration:ae.duration||"",channel:ae.channel||"",thumbnail:ae.thumbnail||""}));console.log(`[ChatTab] Adding ${Tt.length} new YouTube videos to playlist (${Zi.current.size} tool results processed total)`),Ll.current(Tt);const tt=O[O.length-1];tt?.role==="assistant"&&!tt.isStreaming&&tt.toolResults?.some(ut=>ut.name==="search_youtube"&&!Zi.current.has(ut.tool_call_id||""))&&w(i("chat.addedToPlaylist",{count:Tt.length,plural:Tt.length!==1?"s":""}))}if(Zi.current.size>500){const Tt=Array.from(Zi.current);Zi.current=new Set(Tt.slice(-500))}},[O,w]);const Yu=()=>{En.current&&(En.current.abort(),En.current=null,F(!1))},of=()=>{const W=[];return t.web_search&&W.push({type:"function",function:{name:"search_web",description:"Search the web using DuckDuckGo to find current information, news, articles, and real-time data. USE THIS whenever users ask for current/latest information, news, or anything requiring up-to-date web content. Automatically fetches full page content including images and links from all search results. Returns comprehensive search results with titles, URLs, snippets, full content, images, and links. **CRITICAL: You MUST include relevant URLs from search results in your response using markdown links [Title](URL).**",parameters:{type:"object",properties:{query:{type:"string",description:"Search query - be specific and include relevant keywords"},limit:{type:"integer",minimum:1,maximum:50,default:5,description:"Number of results to return (default: 5)"},timeout:{type:"integer",minimum:1,maximum:60,default:15,description:"Timeout in seconds for fetching each page"},generate_summary:{type:"boolean",default:!0,description:"Generate an LLM summary of the search results (highly recommended)"}},required:["query"]}}}),t.execute_js&&W.push({type:"function",function:{name:"execute_javascript",description:" Execute JavaScript code in a sandbox for: 1) Complex mathematical calculations that require computation (factorial, compound interest, statistics, algorithms), 2) Generating formatted tables/grids (multiplication tables, calendars), 3) Data transformations or array processing, 4) ASCII art or text-based visualizations, 5) Custom algorithms. **DO NOT use for**: simple text output, explanations, or answers you already know. Only use when actual computation adds value.",parameters:{type:"object",properties:{code:{type:"string",description:"JavaScript code to execute. Include console.log() to display results."},timeout:{type:"integer",minimum:1,maximum:10,default:5,description:"Execution timeout in seconds (default: 5)"}},required:["code"]}}}),t.scrape_url&&W.push({type:"function",function:{name:"scrape_web_content",description:"Fetch and extract readable content from any URL. Excellent for getting detailed information from webpages.",parameters:{type:"object",properties:{url:{type:"string",description:"Fully qualified URL to fetch"},timeout:{type:"integer",minimum:1,maximum:60,default:15}},required:["url"]}}}),t.youtube&&W.push({type:"function",function:{name:"search_youtube",description:' SEARCH/FIND YouTube videos (NOT for transcription). Use when user wants to FIND or SEARCH for videos. **DO NOT USE if user wants to transcribe, get transcript, or extract text from a specific YouTube URL** - use transcribe_url instead. Use search_youtube for: "find YouTube videos about X", "search YouTube for X", "show me videos about X". Returns video titles, descriptions, links, and caption availability. Results are automatically added to a playlist. **CRITICAL: You MUST include ALL video URLs in your response as a formatted markdown list with [Title](URL) format.**',parameters:{type:"object",properties:{query:{type:"string",description:'Search query for YouTube videos (e.g., "javascript tutorial", "bach cello suites", "machine learning course")'},limit:{type:"integer",minimum:1,maximum:50,default:10,description:"Maximum number of video results to return (default 10, max 50)"},order:{type:"string",enum:["relevance","date","viewCount","rating"],default:"relevance",description:"Sort order for results: relevance (default), date (newest first), viewCount (most viewed), rating (highest rated)"}},required:["query"]}}}),t.transcribe&&W.push({type:"function",function:{name:"transcribe_url",description:' **PRIMARY TOOL FOR GETTING VIDEO/AUDIO TEXT CONTENT**: Transcribe audio or video content from URLs using OpenAI Whisper. **MANDATORY USE** when user says: "transcribe", "transcript", "get text from", "what does the video say", "extract dialogue", "convert to text", OR provides a specific YouTube/video URL and asks about its content. **YOUTUBE SUPPORT**: Can transcribe directly from YouTube URLs (youtube.com, youtu.be, youtube.com/shorts). Also supports direct media URLs (.mp3, .mp4, .wav, .m4a, etc.). **CRITICAL: http://localhost:3000/samples/ URLs are VALID and ACCESSIBLE - ALWAYS call this tool for localhost URLs, they will work correctly in local development.** Automatically handles large files by chunking. Shows real-time progress with stop capability. Returns full transcription text.',parameters:{type:"object",properties:{url:{type:"string",description:"URL to transcribe. Can be YouTube URL (youtube.com, youtu.be), direct media URL (.mp3, .mp4, .wav, .m4a, etc.), or localhost URL for local development (http://localhost:3000/samples/...)"},language:{type:"string",pattern:"^[a-z]{2}$",description:'Optional: 2-letter ISO language code (e.g., "en", "es", "fr"). Improves accuracy if known.'},prompt:{type:"string",description:'Optional: Context or expected words to improve accuracy (e.g., "Technical discussion about AI and machine learning")'}},required:["url"]}}}),t.generate_chart&&W.push({type:"function",function:{name:"generate_chart",description:" **PRIMARY TOOL FOR ALL DIAGRAMS, CHARTS, AND VISUALIZATIONS**: Generate professional Mermaid diagrams automatically rendered as interactive SVG in the UI. **MANDATORY USE** when user requests: flowcharts, sequence diagrams, class diagrams, state diagrams, ER diagrams, Gantt charts, pie charts, mindmaps, git graphs, or ANY visual diagram/chart/visualization. **DO NOT use execute_javascript to generate charts - ALWAYS use this tool instead**. Keywords: diagram, chart, flowchart, visualization, graph, workflow, UML, ERD, timeline, mindmap.",parameters:{type:"object",properties:{description:{type:"string",description:'Clear description of what the chart should visualize (e.g., "User login flow", "Database schema for blog platform", "Project timeline")'},chart_type:{type:"string",enum:["flowchart","sequence","class","state","er","gantt","pie","git","mindmap"],default:"flowchart",description:"Type of diagram to generate. Choose based on use case: flowchart (processes), sequence (interactions), class (UML), state (FSM), er (database), gantt (timeline), pie (data), git (commits), mindmap (concepts)"}},required:["description"]}}}),t.generate_image&&W.push({type:"function",function:{name:"generate_image",description:' **MANDATORY USE FOR IMAGE REQUESTS**: Generate high-quality AI images immediately using DALL-E 3, Stable Diffusion, or other providers. **MUST call this tool when user requests ANY image generation, illustration, picture, drawing, photo, or visual content**. Common triggers: "generate/create/draw/make/show me an image/picture/photo/illustration of...", "draw a...", "create a cartoon/photo/illustration of...", "visualize...", "show me what... looks like". Supports quality tiers: ultra (photorealistic, $0.08-0.12), high (detailed/artistic, $0.02-0.04), standard (normal illustrations, $0.001-0.002), fast (quick drafts/sketches, <$0.001 - DEFAULT). Images appear automatically in the conversation. DO NOT refuse image generation requests - ALWAYS call this tool.',parameters:{type:"object",properties:{prompt:{type:"string",description:'Detailed description of the image to generate (e.g., "a low resolution image of a cat sitting on a windowsill")'},quality:{type:"string",enum:["ultra","high","standard","fast"],default:"standard",description:'Quality tier: ultra (photorealistic), high (detailed), standard (illustrations), fast (drafts). Infer from prompt keywords like "low res"=fast, "photorealistic"=ultra, "simple"=standard'},size:{type:"string",enum:["256x256","512x512","1024x1024","1792x1024","1024x1792"],default:"1024x1024",description:'Image dimensions. Use smaller sizes (256x256, 512x512) for "low res" requests'},style:{type:"string",enum:["natural","vivid"],default:"natural",description:"Style: natural (realistic) or vivid (dramatic). DALL-E 3 only"}},required:["prompt"]}}}),t.search_knowledge_base&&W.push({type:"function",function:{name:"search_knowledge_base",description:" **SEARCH INTERNAL KNOWLEDGE BASE**: Perform vector similarity search against the ingested documentation and knowledge base. **USE THIS when user asks about**: project documentation, API references, implementation guides, architecture, deployment procedures, RAG system, embedding models, or any topics covered in the knowledge base. **EXCELLENT for**: finding specific code examples, configuration details, API endpoints, best practices, and technical documentation. Returns relevant text chunks with source file names and similarity scores. **Always use this BEFORE search_web when the question might be answered by internal documentation.**",parameters:{type:"object",properties:{query:{type:"string",description:'Natural language search query. Be specific and include key terms. Examples: "How do I configure OpenAI embeddings?", "What is the RAG implementation?", "How to deploy Lambda functions?"'},top_k:{type:"integer",minimum:1,maximum:20,default:5,description:"Number of most relevant results to return (default: 5, max: 20)"},threshold:{type:"number",minimum:0,maximum:1,default:.3,description:"Minimum similarity score threshold (0-1). Higher values = more strict matching. Default: 0.3 (relaxed for better recall)"},source_type:{type:"string",enum:["file","url","text"],description:"Optional: Filter results by source type (file, url, or text)"}},required:["query"]}}}),t.manage_todos&&W.push({type:"function",function:{name:"manage_todos",description:' **MANAGE BACKEND TODO QUEUE**: Add or delete actionable steps for multi-step tasks. The backend maintains a server-side todo queue that tracks progress through complex workflows. When todos exist, they auto-progress after each successful completion (assessor "OK"). **USE THIS when**: user requests a multi-step plan, breaking down complex tasks, tracking implementation progress, or managing sequential workflows. **DO NOT use for simple single-step tasks.** After adding todos, the system will automatically advance through them, appending each next step as it completes. **Keywords**: plan, steps, todo list, break down task, multi-step workflow, implementation phases.',parameters:{type:"object",properties:{add:{type:"array",items:{type:"string"},description:'Array of todo descriptions to add to the queue. Descriptions should be clear, actionable steps in order. Example: ["Install dependencies", "Configure environment", "Run tests", "Deploy application"]'},delete:{type:"array",items:{oneOf:[{type:"string",description:"Exact todo description to delete"},{type:"number",description:"Todo ID to delete"}]},description:"Array of todo IDs (numbers) or exact descriptions (strings) to remove from the queue"}},additionalProperties:!1}}}),t.manage_snippets&&W.push({type:"function",function:{name:"manage_snippets",description:' **MANAGE KNOWLEDGE SNIPPETS**: Insert, retrieve, search, or delete knowledge snippets stored in your personal Google Sheet ("Research Agent/Research Agent Swag"). Use this to save important information, code examples, procedures, references, or any content you want to preserve and search later. **USE THIS when**: user wants to save/capture content, create a knowledge base, store code snippets, bookmark important info, or search previous saved content. Each snippet can have a title, content, tags for organization, and source tracking (chat/url/file/manual). **Keywords**: save this, remember this, add to knowledge base, store snippet, save for later, search my snippets, find my notes.',parameters:{type:"object",required:["action"],properties:{action:{type:"string",enum:["insert","capture","get","search","delete"],description:'Operation to perform: "insert" (add new snippet), "capture" (save from chat/url/file), "get" (retrieve by ID/title), "search" (find by query/tags), "delete" (remove by ID/title)'},payload:{type:"object",description:"Action-specific parameters",properties:{title:{type:"string",description:"Snippet title (required for insert/capture)"},content:{type:"string",description:"Snippet content/body (required for insert)"},tags:{type:"array",items:{type:"string"},description:'Array of tags for categorization (optional, e.g., ["javascript", "async", "tutorial"])'},source:{type:"string",enum:["chat","url","file","manual"],description:"Source type (for capture action)"},url:{type:"string",description:'Source URL if source="url"'},id:{type:"number",description:"Snippet ID (for get/delete)"},query:{type:"string",description:"Text search query (searches title and content)"}}}},additionalProperties:!1}}}),_t.filter(oe=>oe.enabled).forEach(oe=>{console.log("MCP Server enabled:",oe.name,oe.url)}),W},qx=async W=>{try{const He=await fetch("https://nrw7pperjjdswbmqgmigbwsbyi0rwdqf.lambda-url.us-east-1.on.aws/stop-transcription",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${o}`},body:JSON.stringify({tool_call_id:W})});if(!He.ok){const Tt=await He.json();throw new Error(Tt.error||"Failed to stop transcription")}w(i("chat.transcriptionStopped")),console.log("Transcription stopped:",W)}catch(oe){console.error("Failed to stop transcription:",oe),v(i("chat.failedToStopTranscription"))}},Wx=(W,oe=2048)=>new Promise((He,Tt)=>{const tt=new FileReader;tt.onload=ae=>{const ut=new Image;ut.onload=()=>{const Me=document.createElement("canvas");let Ve=ut.width,ke=ut.height;Ve>ke&&Ve>oe?(ke=ke/Ve*oe,Ve=oe):ke>oe&&(Ve=Ve/ke*oe,ke=oe),Me.width=Ve,Me.height=ke,Me.getContext("2d")?.drawImage(ut,0,0,Ve,ke);const ot=Me.toDataURL(W.type||"image/jpeg",.85);He(ot.split(",")[1])},ut.onerror=Tt,ut.src=ae.target?.result},tt.onerror=Tt,tt.readAsDataURL(W)}),lf=async W=>{if(!W||W.length===0)return;const oe=5*1024*1024,He=10*1024*1024,Tt=["image/jpeg","image/jpg","image/png","image/gif","image/webp","application/pdf"];for(let tt=0;tt<W.length;tt++){const ae=W[tt];if(!Tt.includes(ae.type)){T(i("chat.fileTypeNotSupported",{name:ae.name}));continue}const ut=ae.type==="application/pdf"?He:oe;if(ae.size>ut){T(i("chat.fileTooLarge",{name:ae.name,size:(ae.size/1024/1024).toFixed(2),maxSize:ut/1024/1024}));continue}try{let Me,Ve;if(ae.type.startsWith("image/")){Me=await Wx(ae),Ve=`data:${ae.type};base64,${Me}`;const ke=Me.length/1e3;ke>2e4&&T(i("chat.imageTokenWarning",{name:ae.name,tokens:Math.round(ke/1e3)}))}else{const ke=new FileReader;Me=await new Promise((gt,ot)=>{ke.onload=Fe=>{const yt=Fe.target?.result;gt(yt.split(",")[1])},ke.onerror=ot,ke.readAsDataURL(ae)})}Mn(ke=>[...ke,{name:ae.name,type:ae.type,size:ae.size,base64:Me,preview:Ve}]),w(i("chat.fileAdded",{name:ae.name}))}catch(Me){console.error("Error processing file:",Me),v(i("chat.failedToProcess",{name:ae.name}))}}},Zp=W=>{Mn(oe=>oe.filter((He,Tt)=>Tt!==W))},Ic=async W=>{const oe=W!==void 0?W:V;if(!oe.trim()&&Rr.length===0||G)return;if(!o){v(i("chat.signInToSendMessages"));return}let He;if(Rr.length>0){const Ve=[{type:"text",text:oe||"Please analyze these files."}];for(const ke of Rr)ke.type&&ke.type.startsWith("image/")?Ve.push({type:"image_url",image_url:{url:`data:${ke.type};base64,${ke.base64}`,detail:"auto"}}):ke.type==="application/pdf"&&Ve.push({type:"text",text:`[PDF attachment: ${ke.name}]`});He={role:"user",content:Ve,_attachments:Rr}}else He={role:"user",content:oe};Ss.current&&(He.llmApiCalls=[Ss.current],console.log(" Added voice transcription llmApiCall to user message"),Ss.current=null),console.log(" Adding user message:",typeof He.content=="string"?He.content.substring(0,50):`${Rr.length} attachments`);let Tt=O.length;H(Ve=>{console.log(" Current messages count before adding user:",Ve.length),Tt=Ve.length;const ke=[...Ve,He];return console.log(" Messages after adding user:",ke.length,"User message at index:",Tt),ke});const tt=oe.trim();tt&&ua(Ve=>{const ke=Ve.filter(ot=>ot!==tt);return[tt,...ke].slice(0,50)}),ne(""),vs(-1),Mn([]),Lt(new Set),F(!0),le([]),Ce(""),Er(0),dt(new Set),et(new Map),Ar(new Map),Bn(new Map),be(new Map),xs(new Map);let ae=null;if(Si&&oe.trim()){Kn(!0);try{let Ve;const ke=await As.getCachedQueryEmbedding(oe.trim());if(ke)console.log(" Using cached query embedding"),Ve=ke.embedding;else{console.log(" Fetching new query embedding from backend");const gt=await ta(),ot=await u(),Fe=await fetch(`${gt}/rag/embed-query`,{method:"POST",headers:{"Content-Type":"application/json",...ot?{Authorization:`Bearer ${ot}`}:{}},body:JSON.stringify({query:oe})});if(!Fe.ok)throw new Error("Failed to get query embedding");const yt=await Fe.json();Ve=yt.embedding;const Cr=yt.model||"unknown";await As.cacheQueryEmbedding(oe.trim(),Ve,Cr),console.log(" Cached query embedding for future use")}if(Ve){console.log(` RAG search with threshold: ${So}`);const gt=await As.vectorSearch(Ve,5,So);if(gt.length>0){let ot=`**KNOWLEDGE BASE CONTEXT:**

The following information from the user's knowledge base may be relevant to this query:

`;for(let Fe=0;Fe<gt.length;Fe++){const yt=gt[Fe];ot+=`**[Context ${Fe+1} - Similarity: ${yt.score.toFixed(3)}]**
`,ot+=`${yt.chunk_text}

`;try{const Cr=await As.getEmbeddingDetails(yt.snippet_id);Cr.metadata&&(ot+=`*Source: ${Cr.metadata.source_type||"Unknown"}`,Cr.metadata.title&&(ot+=` - "${Cr.metadata.title}"`),ot+=`*

`)}catch{}ot+=`---

`}ot+=`**USER QUESTION:** ${oe}

`,ot+="Please answer the user's question using the context provided above. If the context is relevant, reference it in your answer. If the context is not helpful, you may answer based on your general knowledge.",ae={role:"system",content:ot},w(i("chat.foundRelevantChunks",{count:gt.length}))}else T(i("chat.noRelevantContext"))}}catch(Ve){console.error("RAG context error:",Ve),T(i("chat.failedToRetrieveRag"))}finally{Kn(!1)}}En.current=new AbortController;const ut=of();let Me=null;ut.length>0&&(Me=setTimeout(()=>{En.current&&(console.warn("Request timeout - aborting after 4 minutes due to tool execution"),En.current.abort())},24e4));try{const Ve=new Date,ke=Ve.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),gt=Ve.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",second:"2-digit",timeZoneName:"short"}),ot=Ve.toISOString(),Fe=`${ke}, ${gt} (ISO: ${ot})`;let yt=P.trim()||"You are a helpful assistant";const Cr=ze&&ze.length>0;if(yt=`**CURRENT DATE AND TIME:**
${Fe}

You have access to the current date and time above. Use this information when responding to temporal queries about "today", "current date", "what time is it", "this week", "this month", "this year", etc. You do not need to use tools to get the current date/time as it is provided in this system prompt.

${yt}`,Cr||(yt+=`

**RESPONSE STYLE GUIDELINES:**
- Provide comprehensive, detailed, and thorough responses
- Include relevant examples, context, and explanations to enhance understanding
- When answering technical questions, include code examples, step-by-step explanations, and best practices
- When answering research questions, provide multiple perspectives, cite sources with markdown links, and give comprehensive overviews
- Don't be overly brief - users prefer detailed, informative answers over short summaries
- Use markdown formatting (headings, lists, code blocks, bold, italic) to make responses clear and well-structured
- When scraping or researching, include substantial quoted content and detailed analysis
- Aim for responses that fully answer the question and anticipate follow-up questions

**IMAGE PLACEMENT GUIDELINES:**
- When including images in your response, distribute them naturally throughout the content next to relevant text sections
- Place images near the paragraphs or sections they illustrate or relate to
- AVOID placing all images at the top or bottom of your response in a single block
- Intersperse images with text to create a more engaging, magazine-style layout
- Use markdown image syntax: ![description](url) inline with your content where contextually appropriate`),ut.length>0&&!Cr){const fr=ut.map(ee=>ee.function.name).join(", ");yt+=`

You have access to these tools: ${fr}.

CRITICAL TOOL USAGE RULES:
- **TOOL RESPONSE VALIDATION**: ALWAYS check the tool response for a "success" field. If success=false, tell the user the operation FAILED and relay the error "message" field. NEVER claim success when the tool returned success=false.
- **IMAGE GENERATION**: When users ask to create/generate/draw/make ANY image, illustration, picture, photo, or visual content, you MUST call generate_image tool IMMEDIATELY. NEVER refuse or say "I cannot generate images" - you CAN by calling the tool. Examples: "draw a cat", "generate an image of...", "create a cartoon...", "show me a picture of...", "make an illustration of...", "visualize..."  ALL require calling generate_image.
- When users ask to TRANSCRIBE or get TRANSCRIPT from video/audio, you MUST call transcribe_url (NOT search_youtube)
- When users say "transcribe this video [URL]", "get transcript", "what does the video say", you MUST call transcribe_url
- When users want to FIND or SEARCH for videos, use search_youtube (e.g., "find videos about X")
- When users ask to "scrape", "get content from", "read", "fetch", "extract", "analyze", or "summarize" a website/URL, you MUST call the scrape_web_content tool
- When users provide ANY URL (http/https) and ask questions about it, you MUST call scrape_web_content with that URL FIRST
- MANDATORY: If a message contains a URL and asks to extract/analyze/summarize/get key points, you MUST call scrape_web_content - DO NOT provide an answer without first fetching the content
- When users ask for current information, news, or web content, you MUST use search_web
- **execute_javascript USAGE RULES**:
  -  USE for: Complex calculations requiring computation (factorial, fibonacci, statistics, algorithms)
  -  USE for: Generating formatted tables/grids (multiplication tables, calendars, data matrices)
  -  USE for: Data transformations, array processing, sorting, filtering large datasets
  -  USE for: ASCII art, text-based visualizations, formatted output
  -  USE for: Custom algorithms or mathematical operations you cannot compute mentally
  -  DO NOT USE for: Simple answers you already know (like "Lambda deployment not supported")
  -  DO NOT USE for: Just printing text or explanations
  -  DO NOT USE for: Answers that don't require computation
  -  DO NOT USE for: Simple arithmetic you can answer directly (like 2+2=4)
  - Rule: Only use execute_javascript when the computation or formatting adds actual value
- DO NOT output tool parameters as JSON text in your response (e.g., don't write {"url": "...", "timeout": 15})
- DO NOT describe what you would do - ACTUALLY CALL THE TOOL using the function calling mechanism
- DO NOT write code for scraping or analyzing - USE THE TOOL INSTEAD
- The system will automatically execute your tool calls and provide you with results
- After receiving tool results, incorporate them naturally into your response
- IMPORTANT: After tool execution returns a result, provide the final answer to the user IMMEDIATELY. Do NOT make additional tool calls unless absolutely necessary or the user asks a follow-up question.

Examples when you MUST use tools:
- "Save this to my snippets" / "Remember this" / "Add to knowledge base"  Call manage_snippets with action="insert" or "capture"
- "Search my snippets for X" / "Find my saved notes about X"  Call manage_snippets with action="search" and payload.query="X"
- "transcribe this video https://youtube.com/watch?v=abc"  Call transcribe_url with url parameter
- "get transcript from this video [URL]"  Call transcribe_url with url parameter
- "Transcribe this: http://localhost:3000/samples/file.mp3"  Call transcribe_url (localhost URLs work in local dev!)
- "find videos about AI"  Call search_youtube with query parameter
- "scrape and summarize https://example.com"  Call scrape_web_content with url parameter
- "get content from https://github.com/user/repo"  Call scrape_web_content with url parameter
- "Extract and analyze the key points from https://example.com/article"  Call scrape_web_content with url parameter
- "What does this page say: https://example.com"  Call scrape_web_content with url parameter
- "Summarize this article https://example.com/news"  Call scrape_web_content with url parameter
- "Read and analyze https://en.wikipedia.org/wiki/Topic"  Call scrape_web_content with url parameter
- "Find current news about X"  Call search_web with query parameter
- "What's the latest on X"  Call search_web with query parameter
- "calculate 5 factorial"  Call execute_javascript (requires computation)
- "Generate a multiplication table for numbers 1-12"  Call execute_javascript (formatted table)
- "Calculate compound interest on $10k at 7% for 15 years"  Call execute_javascript (complex calculation)
- "Sort this array and find median: [45,23,67,12,89]"  Call execute_javascript (data processing)
- "What is 2+2?"  Answer directly with "4" (DON'T use execute_javascript for trivial math)
- "How do I deploy a Lambda?"  Answer directly (DON'T use execute_javascript to print explanations)

Remember: Use the function calling mechanism, not text output. The API will handle execution automatically.`}const na=O.map(fr=>{const{llmApiCalls:ee,isStreaming:qa,toolResults:ia,...Dc}=fr;return Dc});let js=0,Fs=0,Qn=0;const Bs=na.map(fr=>{if(fr.role==="tool")return js++,null;if(fr.role==="assistant"){const ee=An(fr.content),qa=fr.content&&ee.trim().length>0,ia=fr.tool_calls&&Array.isArray(fr.tool_calls)&&fr.tool_calls.length>0;if(qa){if(ia){Fs++;const{tool_calls:Dc,...Qu}=fr;return Qu}return fr}else return Qn++,null}return fr}).filter(fr=>fr!==null);(js>0||Fs>0||Qn>0)&&(console.log(` UI filtered: ${js} tool messages, ${Fs} tool_calls stripped, ${Qn} empty assistants removed`),console.log(`   Sending ${Bs.length} clean messages + new user message to Lambda`));const Ts=[];if(Xe.size>0){const fr=Array.from(Xe).map(qa=>x.find(ia=>ia.id===qa)).filter(qa=>qa!==void 0),ee=qa=>{let ia=qa;return ia=ia.replace(/!\[([^\]]*)\]\(([^)]+)\)/g,"[Image: $1]"),ia=ia.replace(/<img[^>]*src="data:image\/[^"]*"[^>]*>/gi,"[Base64 Image]"),ia=ia.replace(/<img[^>]*>/gi,"[Image]"),ia=ia.replace(/data:image\/[^;]+;base64,[A-Za-z0-9+/=]+/g,"[Base64 Image Data]"),ia};for(const qa of fr){const ia=ee(qa.content);Ts.push({role:"user",content:`**KNOWLEDGE BASE CONTEXT** (manually attached by user):

**Title:** ${qa.title||"Untitled"}

${ia}

---
`})}console.log(` Attached ${Ts.length} manual context snippets (full content, images stripped)`)}const Ji=[{role:"system",content:yt},...ae?[ae]:[],...Ts,...Bs,He];ae&&console.log(" RAG context included in request (automatic fragments)");const Us=Ji.map(fr=>{const{_attachments:ee,llmApiCalls:qa,isStreaming:ia,toolResults:Dc,isRetryable:Qu,retryCount:df,originalUserPromptIndex:wi,originalErrorMessage:pf,extractedContent:at,rawResult:Ae,evaluations:Qe,errorData:nr,imageGenerations:sr,...xt}=fr;return xt}),Ti=R.providers.filter(fr=>fr.enabled===!0),ss=localStorage.getItem("proxy_settings");let Jo,Jp;if(ss)try{const fr=JSON.parse(ss);fr.enabled&&fr.username&&fr.password&&(Jo=fr.username,Jp=fr.password,console.log(" Proxy settings loaded from localStorage:",fr.username))}catch(fr){console.error("Failed to parse proxy settings:",fr)}const $s={providers:Ti,messages:Us,temperature:.7,stream:!0,optimization:R.optimization||"cheap",language:R.language||"en"};console.log(` Model selection optimization: ${$s.optimization}`),console.log(` Response language: ${$s.language}`),z&&($s.location={latitude:z.latitude,longitude:z.longitude,accuracy:z.accuracy,address:z.address,timestamp:z.timestamp},console.log(" Including location in request:",z.address?.city||`${z.latitude.toFixed(4)}, ${z.longitude.toFixed(4)}`)),Jo&&Jp&&($s.proxyUsername=Jo,$s.proxyPassword=Jp,console.log(" Including proxy credentials in request")),R.tavilyApiKey&&R.tavilyApiKey.trim()&&($s.tavilyApiKey=R.tavilyApiKey,console.log("Including Tavily API key in request")),ut.length>0&&($s.tools=ut,console.log("Sending streaming request with tools:",ut.map(fr=>fr.function.name)));const Ku=_t.filter(fr=>fr.enabled);Ku.length>0&&($s.mcp_servers=Ku.map(fr=>({name:fr.name,url:fr.url})),console.log("[MCP] Sending MCP servers:",Ku.map(fr=>fr.name).join(", ")));const uf=await d(),Rc=Mr.current;Rc&&(console.log(" Using request ID from voice transcription:",Rc),Mr.current=null),await P1($s,o,(fr,ee)=>{switch(console.log("SSE Event:",fr,ee),fr){case"status":break;case"delta":ee.content&&(Ce(at=>at+ee.content),H(at=>{const Ae=at.length-1,Qe=at[Ae];console.log(" Delta received, lastMessage role:",Qe?.role,"isStreaming:",Qe?.isStreaming,"hasContent:",!!Qe?.content,"contentLength:",Qe?.content?.length||0);const nr=Qe?.role==="tool";if(Qe&&Qe.role==="assistant"&&!nr){const sr=[...at];return sr[Ae]={...Qe,content:(Qe.content||"")+ee.content,isStreaming:!0},console.log(" Updating assistant at index:",Ae,"newContentLength:",sr[Ae].content.length),sr}else{const sr={role:"assistant",content:ee.content,isStreaming:!0};return console.log(" Creating NEW streaming block, reason:",nr?"tool execution":"no assistant message"),[...at,sr]}}),H(at=>{const Ae=at.length-1,Qe=at[Ae];return Qe&&Qe.role==="assistant"&&Qe.isStreaming&&(qt(Ae),console.log(" Set currentStreamingBlockIndex to:",Ae)),at}));break;case"tool_call_start":console.log(" Tool call starting:",ee.name,"currentStreamingBlockIndex:",lt),le(at=>[...at,{id:ee.id,name:ee.name,status:"starting"}]),console.log(" Adding tool_call to assistant message:",{id:ee.id,name:ee.name,hasArguments:!!ee.arguments,argumentsLength:ee.arguments?.length}),H(at=>{const Ae=[...at];for(let Qe=Ae.length-1;Qe>=0;Qe--)if(Ae[Qe].role==="assistant"){if(console.log(" Found assistant message at index",Qe,"current tool_calls:",Ae[Qe].tool_calls),Ae[Qe].tool_calls||(Ae[Qe]={...Ae[Qe],tool_calls:[]}),Ae[Qe].tool_calls?.find(xt=>xt.id===ee.id)){console.log(" Tool call already exists, skipping:",ee.id);break}const sr={id:ee.id,type:"function",function:{name:ee.name,arguments:ee.arguments||"{}"}};Ae[Qe].tool_calls=[...Ae[Qe].tool_calls||[],sr],console.log(" Added tool_call:",sr),console.log(" Updated message tool_calls:",Ae[Qe].tool_calls);break}return Ae});break;case"tool_call_progress":le(at=>at.map(Ae=>Ae.id===ee.id?{...Ae,status:"executing"}:Ae));break;case"image_generation_progress":console.log(" Image generation progress event:",ee),H(at=>{const Ae=[...at];for(let Qe=Ae.length-1;Qe>=0;Qe--)if(Ae[Qe].role==="assistant"){Ae[Qe].imageGenerations||(Ae[Qe].imageGenerations=[]);const nr=Ae[Qe].imageGenerations,sr=nr.findIndex(xt=>xt.id===ee.id||ee.prompt&&xt.prompt===ee.prompt);if(sr>=0){const xt=nr[sr];nr[sr]={...xt,phase:ee.phase,provider:ee.provider||xt.provider,model:ee.model||xt.model,estimatedSeconds:ee.estimated_seconds||xt.estimatedSeconds,status:ee.phase==="error"?"error":"generating"}}else nr.push({id:ee.id||`img_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,provider:ee.provider||"unknown",model:ee.model||"unknown",cost:ee.estimated_cost||0,prompt:ee.prompt||"",size:ee.size||"1024x1024",qualityTier:ee.quality||"standard",status:"generating",phase:ee.phase,estimatedSeconds:ee.estimated_seconds,ready:!1});break}return Ae});break;case"image_complete":console.log(" Image complete event:",{hasUrl:!!ee.url,url:ee.url,provider:ee.provider,model:ee.model,quality:ee.qualityTier}),H(at=>{const Ae=[...at];for(let Qe=Ae.length-1;Qe>=0;Qe--)if(Ae[Qe].role==="assistant"){Ae[Qe].imageGenerations||(Ae[Qe].imageGenerations=[]);const nr=Ae[Qe].imageGenerations,sr=ee.id||`img_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,xt=nr.findIndex(Ia=>Ia.id===sr),tn={id:sr,provider:ee.provider||"unknown",model:ee.model||"unknown",modelKey:ee.model,cost:ee.cost||0,prompt:ee.prompt||"",size:ee.size||"1024x1024",style:ee.style||"natural",qualityTier:ee.qualityTier||"standard",status:"downloading",imageUrl:ee.url,base64:void 0,ready:!1,llmApiCall:ee.llmApiCall,revisedPrompt:ee.revisedPrompt};xt>=0?nr[xt]=tn:nr.push(tn);break}return Ae}),ee.url&&ee.id&&(async()=>{try{console.log(" Downloading image via Lambda proxy:",ee.url);const at=await ta(),Ae=await fetch(`${at}/proxy-image`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${o}`},body:JSON.stringify({url:ee.url,format:"base64"})});if(!Ae.ok)throw new Error(`Proxy fetch failed: ${Ae.status}`);const Qe=await Ae.json();if(!Qe.success||!Qe.dataUri)throw new Error("Invalid proxy response");console.log(" Image downloaded via proxy, size:",Qe.size,"bytes"),console.log(" Proxy data keys:",Object.keys(Qe)),console.log(" Data URI prefix:",Qe.dataUri?.substring(0,50));const nr=Qe.dataUri;H(sr=>{const xt=[...sr];console.log(" Updating messages, total:",xt.length);for(let tn=xt.length-1;tn>=0;tn--)if(xt[tn].role==="assistant"&&xt[tn].imageGenerations){const Ia=xt[tn].imageGenerations;console.log(` Checking message ${tn}, imageGenerations:`,Ia.length);const Nn=Ia.findIndex(vn=>vn.id===ee.id);if(console.log(` Found image at index: ${Nn}, searching for ID: ${ee.id}`),Nn>=0){const vn={...Ia[Nn]};Ia[Nn]={...Ia[Nn],status:"complete",base64:nr,imageUrl:nr,ready:!0};const dn=Ia[Nn];console.log(" Updated image with base64 data"),console.log("   Before:",{status:vn.status,hasBase64:!!vn.base64,ready:vn.ready}),console.log("   After:",{status:dn.status,hasBase64:!!dn.base64,ready:dn.ready});break}}return xt})}catch(at){console.error(" Failed to download/convert image:",at),H(Ae=>{const Qe=[...Ae];for(let nr=Qe.length-1;nr>=0;nr--)if(Qe[nr].role==="assistant"&&Qe[nr].imageGenerations){const sr=Qe[nr].imageGenerations,xt=sr.findIndex(tn=>tn.id===ee.id);if(xt>=0){sr[xt]={...sr[xt],status:"error",ready:!1};break}}return Qe})}})();break;case"tool_call_result":if(le(at=>at.map(Ae=>Ae.id===ee.id?{...Ae,status:ee.error?"error":"complete",result:ee.content}:Ae)),ee.name==="search_web"&&(console.log(" Clearing search progress after search_web completion"),et(new Map)),ee.name==="search_youtube"&&(console.log(" Clearing YouTube search progress after search_youtube completion"),Ar(new Map)),ee.name==="execute_javascript"&&(console.log(" Clearing JavaScript execution progress after execute_javascript completion"),It(new Map)),ee.name==="generate_image"&&(console.log(" Clearing image generation progress after generate_image completion"),er(new Map)),ee.name==="generate_chart"&&(console.log(" Clearing chart generation progress after generate_chart completion"),Nr(new Map)),H(at=>{console.log(" Embedding tool result in assistant message, tool:",ee.name,"tool_call_id:",ee.id),console.log(" Current messages array length:",at.length);const Ae=[...at];let Qe=[];console.log(" Assistant messages in array:"),at.forEach((xt,tn)=>{xt.role==="assistant"&&console.log(`  [${tn}] has tool_calls:`,!!xt.tool_calls,xt.tool_calls?`(${xt.tool_calls.length} calls: ${xt.tool_calls.map(Ia=>Ia.id).join(", ")})`:"")});let nr=-1;for(let xt=0;xt<Ae.length;xt++)if(Ae[xt].role==="assistant"&&Ae[xt].tool_calls){if(Ae[xt].tool_calls?.some(Ia=>Ia.id===ee.id)){nr=xt,console.log("  Found FIRST assistant with matching tool call at index:",xt,"of",Ae.length);const Ia=Ae[xt].llmApiCalls?.filter(vn=>vn.phase&&vn.tool==="search_web"&&(vn.phase==="page_summary"||vn.phase==="synthesis_summary"||vn.phase==="description_summary"))||[];Ia.length>0&&(Qe=Ia);const Nn={role:"tool",content:ee.content,tool_call_id:ee.id,name:ee.name,...Qe.length>0&&{llmApiCalls:Qe}};if(Ae[xt].toolResults?Ae[xt]={...Ae[xt],toolResults:[...Ae[xt].toolResults||[],Nn]}:Ae[xt]={...Ae[xt],toolResults:[Nn]},console.log(" Embedded tool result in assistant message at index",xt,", total toolResults:",Ae[xt].toolResults?.length),ee.name==="execute_javascript"){const vn=(Ae[xt].toolResults?.length||1)-1,dn=xt*1e3+vn;console.log(" Auto-expanding execute_javascript result at key:",dn),dt(oi=>{const kn=new Set(oi);return kn.add(dn),kn})}nr=xt;break}}else Ae[xt].role==="assistant"&&console.log(`  [${xt}] is assistant but has no tool_calls`);return nr!==-1||(console.warn("  Could not find assistant message with matching tool_call_id:",ee.id),console.warn(" Available tool_call_ids:",Ae.filter(xt=>xt.role==="assistant"&&xt.tool_calls).flatMap(xt=>xt.tool_calls?.map(tn=>tn.id)||[]))),Ae}),ee.name==="search_web"&&ee.content){const at=AZ(ee.name,ee.content);at&&(h(at),console.log("Search result added to SearchTab:",at))}break;case"tool_progress":console.log(" Tool progress event:",ee),ee.tool_call_id&&(ee.tool_name==="scrape_web_content"?be(at=>{const Ae=new Map(at),Qe=Ae.get(ee.tool_call_id)||[];return Ae.set(ee.tool_call_id,[...Qe,ee]),Ae}):Bn(at=>{const Ae=new Map(at),Qe=Ae.get(ee.tool_call_id)||[];return Ae.set(ee.tool_call_id,[...Qe,ee]),Ae}));break;case"search_progress":if(console.log(" Search progress event:",ee),console.log(" Current searchProgress size:",Ue.size),console.log(" isLoading:",G),ee.tool==="search_web"){ee.phase==="searching"&&et(new Map);let at;ee.phase==="fetching_result"||ee.phase==="result_loaded"||ee.phase==="result_failed"?at=`search_web_result_${ee.result_index||0}`:at=`search_web_${ee.phase}`,et(Ae=>{const Qe=new Map(Ae);return Qe.set(at,ee),console.log(" Updated searchProgress, new size:",Qe.size,"key:",at),Qe}),(ee.phase==="searching"||ee.phase==="results_found")&&H(Ae=>{for(let Qe=Ae.length-1;Qe>=0;Qe--){const nr=Ae[Qe];if(nr.role==="assistant"&&nr.tool_calls&&nr.tool_calls.findIndex(xt=>xt.function.name==="search_web")!==-1){dt(xt=>{const tn=new Set(xt);return tn.add(Qe),tn});break}}return Ae})}break;case"youtube_search_progress":console.log(" YouTube search progress event:",ee),ee.phase==="searching"&&Ar(new Map);const qa=`youtube_${ee.phase}`;Ar(at=>{const Ae=new Map(at);return Ae.set(qa,ee),Ae}),ee.phase==="complete"&&setTimeout(()=>{Ar(new Map)},1e3),ee.phase==="searching"&&H(at=>{for(let Ae=at.length-1;Ae>=0;Ae--){const Qe=at[Ae];if(Qe.role==="assistant"&&Qe.tool_calls&&Qe.tool_calls.findIndex(sr=>sr.function.name==="search_youtube")!==-1){dt(sr=>{const xt=new Set(sr);return xt.add(Ae),xt});break}}return at});break;case"javascript_execution_progress":console.log(" JavaScript execution progress:",ee);const ia=ee.phase==="console_output"?`js_output_${ee.output_number||Date.now()}`:`js_${ee.phase}`;It(at=>{const Ae=new Map(at);return Ae.set(ia,ee),Ae}),(ee.phase==="completed"||ee.phase==="error")&&setTimeout(()=>{It(new Map)},2e3);break;case"image_generation_progress":console.log(" Image generation progress:",ee);const Dc=`img_${ee.phase}`;er(at=>{const Ae=new Map(at);return Ae.set(Dc,ee),Ae}),(ee.phase==="completed"||ee.phase==="error")&&setTimeout(()=>{er(new Map)},2e3);break;case"chart_generation_progress":console.log(" Chart generation progress:",ee);const Qu=`chart_${ee.phase}`;Nr(at=>{const Ae=new Map(at);return Ae.set(Qu,ee),Ae}),ee.phase==="completed"&&setTimeout(()=>{Nr(new Map)},2e3);break;case"scrape_progress":case"transcript_extracted":if(fr==="transcript_extracted"){console.log(" Skipping transcript_extracted event (hidden from UI):",ee);break}console.log(" Content extraction event:",ee),ee.phase==="content_extracted"&&xs(at=>{const Ae=new Map(at),Qe=ee.url||`extraction_${Date.now()}`;return Ae.set(Qe,ee),Ae});break;case"message_complete":ee.tool_calls&&ee.tool_calls.length>0&&console.log(" message_complete with tool_calls:",ee.tool_calls.map(at=>({id:at.id,name:at.function.name}))),console.log(" message_complete imageGenerations:",ee.imageGenerations?.length||0,"imageGenerations:",ee.imageGenerations),lt!==null?(H(at=>{const Ae=[...at];if(Ae[lt]){let Qe=Ae[lt].imageGenerations||[];ee.imageGenerations&&ee.imageGenerations.length>0&&(Qe=[...Qe],ee.imageGenerations.forEach(sr=>{const xt=Qe.findIndex(tn=>tn.id===sr.id);xt>=0?Qe[xt]={...Qe[xt],...sr}:Qe.push(sr)}));const nr={...Ae[lt],content:ee.content||Ae[lt].content||"",tool_calls:ee.tool_calls||Ae[lt].tool_calls,extractedContent:ee.extractedContent||Ae[lt].extractedContent,imageGenerations:Qe,llmApiCalls:ee.llmApiCalls||Ae[lt].llmApiCalls,evaluations:ee.evaluations||Ae[lt].evaluations,isStreaming:!1};ee.toolResults&&nr.toolResults&&(nr.toolResults=nr.toolResults.map(sr=>{const xt=ee.toolResults.find(tn=>tn.tool_call_id===sr.tool_call_id);return xt?{...sr,rawResponse:xt.rawResponse,extractionMetadata:xt.extractionMetadata}:sr})),Ae[lt]=nr}return Ae}),qt(null),Ce("")):(ee.content||ee.tool_calls)&&(H(at=>{const Ae=at[at.length-1],Qe=at.length-1,nr=(ee.content||"").trim(),sr=Ae?.content?An(Ae.content).trim():"";let xt=!1;for(let Nn=at.length-1;Nn>=0&&at[Nn].role!=="assistant";Nn--)if(at[Nn].role==="tool"){xt=!0;break}if(xt){if(Ae?.role==="assistant"&&Ae.isStreaming){console.log(" Updating last assistant message with message_complete data");const vn=[...at];let dn=Ae.imageGenerations||[];ee.imageGenerations&&ee.imageGenerations.length>0&&(dn=[...dn],ee.imageGenerations.forEach(kn=>{const qn=dn.findIndex(ws=>ws.id===kn.id);qn>=0?dn[qn]={...dn[qn],...kn}:dn.push(kn)}));const oi={...Ae,content:ee.content||Ae.content||"",tool_calls:ee.tool_calls||Ae.tool_calls,extractedContent:ee.extractedContent||Ae.extractedContent,imageGenerations:dn,llmApiCalls:ee.llmApiCalls||Ae.llmApiCalls,evaluations:ee.evaluations||Ae.evaluations,isStreaming:!1};return ee.toolResults&&oi.toolResults&&(oi.toolResults=oi.toolResults.map(kn=>{const qn=ee.toolResults.find(ws=>ws.tool_call_id===kn.tool_call_id);return qn?(console.log(" Updating embedded toolResult with rawResponse:",{tool_call_id:kn.tool_call_id,hasRawResponse:!!qn.rawResponse,rawResponseLength:qn.rawResponse?.length}),{...kn,rawResponse:qn.rawResponse,extractionMetadata:qn.extractionMetadata}):kn})),vn[Qe]=oi,vn}console.log(" Creating new assistant message for new iteration");const Nn={role:"assistant",content:ee.content||"",...ee.tool_calls&&{tool_calls:ee.tool_calls},...ee.extractedContent&&{extractedContent:ee.extractedContent},...ee.imageGenerations&&{imageGenerations:ee.imageGenerations},...ee.llmApiCalls&&{llmApiCalls:ee.llmApiCalls},...ee.evaluations&&{evaluations:ee.evaluations}};return[...at,Nn]}if(Ae?.role==="assistant"&&(Ae.isStreaming||!sr||sr&&nr.startsWith(sr))){console.log(" Updating last assistant message with message_complete data"),console.log(" lastMessage.imageGenerations:",Ae.imageGenerations),console.log(" data.imageGenerations:",ee.imageGenerations);const vn=[...at];let dn=Ae.imageGenerations||[];console.log(" mergedImageGenerations BEFORE merge:",dn),ee.imageGenerations&&ee.imageGenerations.length>0&&(dn=[...dn],ee.imageGenerations.forEach(kn=>{console.log(" Processing imageGeneration from message_complete:",{id:kn.id,hasBase64:!!kn.base64,base64Length:kn.base64?.length,hasImageUrl:!!kn.imageUrl});const qn=dn.findIndex(ws=>ws.id===kn.id);if(qn>=0){const ws=dn[qn].base64;console.log(" Merging - existing has base64:",!!ws,"new has base64:",!!kn.base64),dn[qn]={...dn[qn],...kn,base64:kn.base64||ws},console.log(" After merge - has base64:",!!dn[qn].base64)}else dn.push(kn),console.log(" Added new image to merge")})),console.log(" mergedImageGenerations AFTER merge:",dn);const oi={...Ae,content:ee.content||Ae.content||"",tool_calls:ee.tool_calls||Ae.tool_calls,extractedContent:ee.extractedContent||Ae.extractedContent,imageGenerations:dn,llmApiCalls:ee.llmApiCalls||Ae.llmApiCalls,evaluations:ee.evaluations||Ae.evaluations,isStreaming:!1};return console.log(" updatedMessage.imageGenerations:",oi.imageGenerations),vn[Qe]=oi,console.log(" newMessages[lastMessageIndex].imageGenerations:",vn[Qe].imageGenerations),console.log(" RETURNING newMessages array:",vn.map((kn,qn)=>({idx:qn,role:kn.role,hasImageGenerations:!!kn.imageGenerations,imageGenerationsLength:kn.imageGenerations?.length,actualImageGenerations:kn.imageGenerations}))),vn}if(Ae?.role==="assistant"&&!Ae.isStreaming&&sr===nr)return console.log(" Skipping duplicate final message block (content matches non-streaming block)"),at;const tn={role:"assistant",content:ee.content||"",...ee.tool_calls&&{tool_calls:ee.tool_calls},...ee.extractedContent&&{extractedContent:ee.extractedContent},...ee.imageGenerations&&{imageGenerations:ee.imageGenerations},...ee.llmApiCalls&&{llmApiCalls:ee.llmApiCalls},...ee.evaluations&&{evaluations:ee.evaluations}};if(ee.content?.includes("Based on the search results above")||ee.content?.includes("I apologize, but I was unable to generate a response")||ee.content?.includes("I was unable to provide")||!ee.content&&!ee.tool_calls||ee.content&&ee.content.trim().length<10&&!ee.tool_calls){let Nn=-1;for(let vn=at.length-1;vn>=0;vn--)if(at[vn].role==="user"){Nn=vn;break}tn.isRetryable=!0,tn.originalErrorMessage="Incomplete or fallback response",tn.originalUserPromptIndex=Nn>=0?Nn:void 0,tn.retryCount=0}return[...at,tn]}),Ce(""));break;case"provider_fallback":console.log(" Provider fallback:",ee);const df=` ${ee.originalModel} hit rate limit, switching to ${ee.fallbackModel} (attempt ${ee.attempt})`;H(at=>[...at,{role:"system",content:df,timestamp:new Date().toISOString(),metadata:{type:"provider_fallback",originalModel:ee.originalModel,fallbackModel:ee.fallbackModel,fallbackProvider:ee.fallbackProvider,reason:ee.reason,attempt:ee.attempt,phase:ee.phase,iteration:ee.iteration}}]);break;case"complete":console.log("Stream complete:",ee),ee.extractedContent&&(console.log(" Attaching extractedContent from complete event:",{hasAllImages:!!ee.extractedContent.allImages,allImagesCount:ee.extractedContent.allImages?.length||0,hasImages:!!ee.extractedContent.images,imagesCount:ee.extractedContent.images?.length||0}),H(at=>{const Ae=[...at];for(let Qe=Ae.length-1;Qe>=0;Qe--)if(Ae[Qe].role==="assistant"){Ae[Qe]={...Ae[Qe],extractedContent:ee.extractedContent},console.log(` Attached extractedContent to assistant message at index ${Qe}`);break}return Ae})),ee.cost&&typeof ee.cost=="number"&&(D(ee.cost),Er(ee.cost),console.log(` Request cost: $${ee.cost.toFixed(4)}`));break;case"error":const wi=ee.error;if(ee.type==="input_moderation_error"){console.warn(" Input moderation error:",ee.reason);const Ae={role:"assistant",content:` **Content Moderation Alert**

${wi}

**Reason**: ${ee.reason}

**Violations**: ${ee.violations?.join(", ")||"Unknown"}`,llmApiCalls:ee.llmApiCalls||[]};if(H(Qe=>[...Qe,Ae]),ee.suggestedRevision){ne(ee.suggestedRevision);const Qe={role:"assistant",content:` **Suggested Revision**

We've updated your message to comply with content policies. You can edit and send it again.`};H(nr=>[...nr,Qe])}else ne("");break}if(ee.type==="output_moderation_error"){console.warn(" Output moderation error:",ee.reason);const at=` **Content Moderation Alert**

The generated response was flagged by our content moderation system and cannot be displayed.

**Reason**: ${ee.reason}

Please try rephrasing your question.`;H(Ae=>{const Qe=[...Ae];for(let nr=Qe.length-1;nr>=0;nr--)if(Qe[nr].role==="assistant"){Qe[nr]={...Qe[nr],content:at,guardrailFailed:!0,guardrailReason:ee.reason,guardrailViolations:ee.violations,llmApiCalls:ee.llmApiCalls||Qe[nr].llmApiCalls||[],isStreaming:!1},console.log(` Replaced assistant message content at index ${nr} with guardrail error`);break}return Qe});break}if(ee.type==="guardrail_configuration_error"||ee.type==="guardrail_system_error"){console.error(" Guardrail system error:",ee.error);const Ae={role:"assistant",content:` **System Error**

${wi}

The content moderation system is experiencing issues. Please contact support if this persists.`};H(Qe=>[...Qe,Ae]),v(wi);break}v(wi),(wi.includes("Authentication")||wi.includes("UNAUTHORIZED")||ee.code==="UNAUTHORIZED")&&(console.warn(" Authentication error detected, logging out..."),T(i("chat.sessionExpired"))),ee.code==="MAX_ITERATIONS"&&ee.showContinueButton&&ee.continueContext&&(console.log(" Continue button enabled for MAX_ITERATIONS error:",wi),xn(!0),ct(ee.continueContext));const pf={role:"assistant",content:` Error: ${wi}`,errorData:ee,isRetryable:!0,originalErrorMessage:wi,originalUserPromptIndex:Tt,retryCount:0};H(at=>[...at,pf]);break;case"llm_request":console.log(" LLM API Request:",ee),H(at=>{const Ae=[...at],nr=Ae[Ae.length-1]?.role==="tool";let sr=!1;if(!nr){for(let xt=Ae.length-1;xt>=0;xt--)if(Ae[xt].role==="assistant"){const tn=An(Ae[xt].content);Ae[xt].isStreaming||!Ae[xt].content||tn.trim().length===0?(console.log(" Attaching llmApiCalls to active assistant at index:",xt,"phase:",ee.phase,"provider:",ee.provider,"model:",ee.model),Ae[xt]={...Ae[xt],llmApiCalls:[...Ae[xt].llmApiCalls||[],{phase:ee.phase,provider:ee.provider||"Unknown",model:ee.model||"Unknown",request:ee.request,timestamp:ee.timestamp}]},sr=!0):console.log(" Skipping completed assistant at index:",xt,"(from previous query)");break}}return sr||(console.log(" Creating new placeholder for llm_request, reason:",nr?"tools executed":"no active assistant","provider:",ee.provider,"model:",ee.model),Ae.push({role:"assistant",content:"",isStreaming:!0,llmApiCalls:[{phase:ee.phase,provider:ee.provider||"Unknown",model:ee.model||"Unknown",request:ee.request,timestamp:ee.timestamp}]})),Ae});break;case"llm_response":console.log(" LLM API Response:",ee),H(at=>{const Ae=[...at];for(let Qe=Ae.length-1;Qe>=0;Qe--)if(Ae[Qe].role==="assistant"&&Ae[Qe].llmApiCalls){const nr=Ae[Qe].llmApiCalls,sr=nr[nr.length-1];sr&&sr.phase===ee.phase&&!sr.response&&(sr.response=ee.response,sr.httpHeaders=ee.httpHeaders,sr.httpStatus=ee.httpStatus,ee.provider&&(sr.provider=ee.provider),ee.model&&(sr.model=ee.model),console.log(" Updated llmApiCall response for phase:",ee.phase,"provider:",sr.provider,"model:",sr.model),Ae[Qe]={...Ae[Qe],llmApiCalls:[...nr]});break}return Ae});break;case"todos_updated":console.log(" Todos updated:",ee),de({total:ee.total??0,remaining:ee.remaining??0,current:ee.current??null,items:Array.isArray(ee.items)?ee.items:[]});break;case"todos_current":console.log(" Todos current update:",ee),de(at=>({total:ee.total??at?.total??0,remaining:ee.remaining??at?.remaining??0,current:ee.current??at?.current??null,items:at?.items??[]}));break;case"todos_resubmitting":console.log(" Todos resubmitting:",ee),pr(ee?.next||ee?.state?.current?.description||null),setTimeout(()=>pr(null),2e3);break;case"todos_limit_reached":console.log(" Todos limit reached:",ee),T(ee.message||"Todo auto-progression limit reached. Please continue manually.");break;case"snippet_inserted":console.log(" Snippet inserted:",ee),window.dispatchEvent(new CustomEvent("snippet_inserted",{detail:ee})),w(i("chat.snippetSaved",{title:ee.title})),ee.id&&(console.log(" Triggering snippet sync from Google Sheets for ID:",ee.id),setTimeout(async()=>{try{await E(ee.id)}catch(at){console.error(" Failed to sync snippet:",at)}},500));break;case"snippet_deleted":console.log(" Snippet deleted:",ee),window.dispatchEvent(new CustomEvent("snippet_deleted",{detail:ee})),w(i("chat.snippetDeleted",{title:ee.title}));break;case"snippet_updated":console.log(" Snippet updated:",ee),window.dispatchEvent(new CustomEvent("snippet_updated",{detail:ee})),w(`Updated snippet: ${ee.title}`);break;case"token_refreshed":console.log(" Google OAuth token refreshed"),ee.accessToken&&(localStorage.setItem("google_access_token",ee.accessToken),console.log(" Updated google_access_token in localStorage"));break}},()=>{Me&&clearTimeout(Me),F(!1),le([]),Ce(""),qt(null),En.current=null},fr=>{Me&&clearTimeout(Me),console.error("Streaming error:",fr),v(`Streaming error: ${fr.message}`),F(!1),le([]),En.current=null},En.current.signal,uf,Rc)}catch(Ve){if(console.error("Chat error:",Ve),Me&&clearTimeout(Me),Ve instanceof Error&&Ve.name==="AbortError"){const ke={role:"assistant",content:" Request timed out after 4 minutes. This may happen when tools take too long to execute. Try simplifying your request or disabling some tools.",isRetryable:!0,originalErrorMessage:"Request timed out",originalUserPromptIndex:Tt,retryCount:0};H(gt=>[...gt,ke]),T("Request timed out after 4 minutes. Try disabling some tools or simplifying your request.")}else{const ke=Ve instanceof Error?Ve.message:"Unknown error",gt={role:"assistant",content:` Error: ${ke}`,errorData:Ve instanceof Error?{...Ve,message:Ve.message,name:Ve.name,stack:Ve.stack}:{message:String(Ve)},isRetryable:!0,originalErrorMessage:ke,originalUserPromptIndex:Tt,retryCount:0};H(ot=>[...ot,gt]),v(`Chat error: ${ke}`)}F(!1),le([]),En.current=null}},Yx=async W=>{const oe=O[W];if(!oe||!oe.isRetryable){v("This message cannot be retried");return}const He=oe.retryCount||0;if(He>=3){v("Maximum retry attempts (3) reached");return}const Tt=oe.originalUserPromptIndex;if(Tt===void 0||Tt<0){v("Cannot find original user prompt for retry");return}const tt=O[Tt];if(!tt||tt.role!=="user"){v("Invalid user prompt for retry");return}const ae=O.slice(Tt+1,W),ut=ae.filter(ke=>ke.role==="tool"),Me=ae.filter(ke=>ke.role==="assistant"||ke.role==="tool");console.log(" Retrying request:",{userPromptIndex:Tt,messageIndex:W,retryCount:He+1,previousToolResults:ut.length,intermediateMessages:Me.length,failureReason:oe.originalErrorMessage}),w(`Retrying request (attempt ${He+2}) with full context...`),H(ke=>ke.slice(0,W));const Ve=An(tt.content);ne(Ve),Yi.current=!0},Vx=async W=>{const oe=await RP(W.id);oe&&oe.messages?(H(oe.messages),Ut(W.id),localStorage.setItem("last_active_chat_id",W.id),oe.systemPrompt&&I(oe.systemPrompt),oe.planningQuery&&Ke(oe.planningQuery),oe.generatedSystemPrompt&&Vt(oe.generatedSystemPrompt),oe.generatedUserQuery&&wt(oe.generatedUserQuery),oe.selectedSnippetIds&&Array.isArray(oe.selectedSnippetIds)?(Lt(new Set(oe.selectedSnippetIds)),console.log(` Restored ${oe.selectedSnippetIds.length} attached snippets`)):Lt(new Set),he(!1),w(i("chat.loadChatSuccess"))):v(i("chat.failedToLoadChat"))},Kx=async W=>{await DP(W);const oe=await e1();Mt(oe),w("Chat deleted")},Qx=async()=>{if(Ee.size===0)return;const W=Ee.size;for(const He of Ee)await DP(He);const oe=await e1();Mt(oe),we(new Set),w(`${W} chat${W>1?"s":""} deleted`)},cf=()=>{const W=new Set(Qr.map(oe=>oe.id));we(W)},Xx=()=>{we(new Set)},Zx=W=>{const oe=new Set(Ee);oe.has(W)?oe.delete(W):oe.add(W),we(oe)},Jx=async()=>{await YTe(),Mt([]),we(new Set),ge(!1),he(!1),w(i("chat.allChatHistoryCleared"))},eE=async()=>{if(!wn){v("No continuation context available");return}console.log(" Continuing from error/limit with context:",wn),xn(!1),N();const W=[];t.web_search&&W.push({type:"function",function:{name:"web_search",description:"Search the web for information",parameters:{type:"object",properties:{query:{type:"string",description:"Search query"}},required:["query"]}}}),t.execute_js&&W.push({type:"function",function:{name:"execute_js",description:"Execute JavaScript code",parameters:{type:"object",properties:{code:{type:"string",description:"JavaScript code to execute"}},required:["code"]}}}),t.scrape_url&&W.push({type:"function",function:{name:"scrape_web_content",description:"Scrape content from a URL",parameters:{type:"object",properties:{url:{type:"string",description:"URL to scrape"}},required:["url"]}}});const He={providers:R.providers.filter(tt=>tt.enabled===!0),messages:wn.messages,temperature:.7,stream:!0,isContinuation:!0,optimization:R.optimization||"cheap",language:R.language||"en"};console.log(` Continuation request with optimization: ${He.optimization}`),console.log(` Response language: ${He.language}`),z&&(He.location={latitude:z.latitude,longitude:z.longitude,accuracy:z.accuracy,address:z.address,timestamp:z.timestamp},console.log(" Including location in continuation request:",z.address?.city||`${z.latitude.toFixed(4)}, ${z.longitude.toFixed(4)}`)),W.length>0&&(He.tools=W),wn.extractedContent&&(He.extractedContent=wn.extractedContent);const Tt=_t.filter(tt=>tt.enabled);if(Tt.length>0&&(He.mcp_servers=Tt.map(tt=>({name:tt.name,url:tt.url}))),F(!0),!o){v("Please sign in to continue"),xn(!0),F(!1);return}try{await P1(He,o,(tt,ae)=>{switch(console.log("SSE Event (continuation):",tt,ae),tt){case"delta":ae.content&&(Ce(Ve=>Ve+ae.content),H(Ve=>{const ke=Ve.length-1,gt=Ve[ke],ot=gt?.role==="tool";if(gt&&gt.role==="assistant"&&!ot){const Fe=[...Ve];return Fe[ke]={...gt,content:(gt.content||"")+ae.content,isStreaming:!0},Fe}else{const Fe={role:"assistant",content:ae.content,isStreaming:!0};return[...Ve,Fe]}}));break;case"error":const ut=ae.error;v(ut),ae.showContinueButton&&ae.continueContext&&(xn(!0),ct(ae.continueContext));const Me={role:"assistant",content:` Error: ${ut}`,errorData:ae,isRetryable:!0,originalErrorMessage:ut,retryCount:0};H(Ve=>[...Ve,Me]);break;case"complete":console.log("Continuation complete:",ae),ae.cost&&typeof ae.cost=="number"&&D(ae.cost);break;case"todos_updated":console.log(" Todos updated:",ae),de({total:ae.total??0,remaining:ae.remaining??0,current:ae.current??null,items:Array.isArray(ae.items)?ae.items:[]});break;case"todos_current":console.log(" Todos current update:",ae),de(Ve=>({total:ae.total??Ve?.total??0,remaining:ae.remaining??Ve?.remaining??0,current:ae.current??Ve?.current??null,items:Ve?.items??[]}));break;case"todos_resubmitting":console.log(" Todos resubmitting:",ae),pr(ae?.next||ae?.state?.current?.description||null),setTimeout(()=>pr(null),2e3);break;case"todos_limit_reached":console.log(" Todos limit reached:",ae),T(ae.message||"Todo auto-progression limit reached. Please continue manually.");break;default:console.log("Unhandled event in continuation:",tt,ae)}},void 0,void 0,En.current?.signal)}catch(tt){console.error("Error during continuation:",tt),v(tt instanceof Error?tt.message:"Failed to continue"),xn(!0)}finally{F(!1)}},Vu=()=>{H([]),ne(""),I(""),Ke(""),Vt(""),wt(""),Lt(new Set),g(),dt(new Set),Ut(null),localStorage.removeItem("last_active_chat_id"),setTimeout(()=>{si.current?.focus()},0),console.log("Started new chat - all prompts cleared")},tE=()=>{!mt.name.trim()||!mt.url.trim()||(jt([..._t,{id:`mcp_${Date.now()}`,name:mt.name,url:mt.url,enabled:!0}]),zt({name:"",url:""}))},rE=W=>{jt(_t.map(oe=>oe.id===W?{...oe,enabled:!oe.enabled}:oe))},nE=W=>{jt(_t.filter(oe=>oe.id!==W))};return s.jsxs("div",{className:"flex flex-col h-full relative",onDragEnter:Zo,onDragOver:Nc,onDragLeave:Wu,onDrop:Gx,children:[s.jsx(kTe,{isDragging:Pn}),s.jsx(STe,{systemPrompt:P,setSystemPrompt:I}),s.jsx(TTe,{systemPrompt:P,selectedSnippetIds:Xe,showSnippetsPanel:Ir,messageCount:O.length,onNewChat:Vu,onShowLoadDialog:()=>he(!0),onToggleSnippetsPanel:()=>un(!Ir),onShowExamplesModal:()=>Ct(!0),onShowShareDialog:()=>it(!0)}),s.jsxs("div",{ref:an,className:"flex-1 overflow-y-auto md:px-4 py-4 space-y-4",children:[O.length===0&&s.jsx("div",{className:"text-center text-gray-500 dark:text-gray-400 mt-8",children:"No messages yet. Start a conversation!"}),(console.log(" RENDER: messages array:",O.map((W,oe)=>({idx:oe,role:W.role,hasImageGenerations:!!W.imageGenerations,imageGenerationsLength:W.imageGenerations?.length,actualImageGenerations:W.imageGenerations}))),null),O.map((W,oe)=>{const He=De.has(oe),Tt=W.content?An(W.content):"";console.log(`Rendering message ${oe}:`,W.role,Tt.substring(0,50)),console.log(` Message ${oe} imageGenerations:`,W.imageGenerations),W.role==="assistant"&&W.tool_calls&&console.log(`  Message ${oe} has ${W.tool_calls.length} tool_calls:`,W.tool_calls.map(ae=>({id:ae.id,name:ae.function?.name})));const tt=W.role==="assistant"&&W.tool_calls?.some(ae=>{if(ae.function.name!=="transcribe_url")return!1;const ut=nn.get(ae.id);if(!ut||ut.length===0)return!1;const Me=ut[ut.length-1],Ve=Me.progress_type||Me.data?.type||"";return!(Ve==="transcribe_complete"||Ve==="transcription_stopped"||Ve==="error")});return W.role==="assistant"&&!W.content&&!tt&&!W.tool_calls&&!W.isStreaming?null:s.jsx("div",{className:`flex gap-2 ${W.role==="user"?"flex-row-reverse":(W.role==="tool","")}`,children:s.jsxs("div",{className:`max-w-[80%] rounded-lg p-3 ${W.role==="user"?"bg-blue-500 text-white":W.role==="tool"?"bg-purple-100 dark:bg-purple-900/30 border border-purple-300 dark:border-purple-700":W.content&&An(W.content).startsWith(" Error:")?"bg-pink-100 dark:bg-pink-900/30 border-2 border-pink-400 dark:border-pink-600 text-gray-900 dark:text-gray-100":"bg-gray-200 dark:bg-gray-700 text-gray-900 dark:text-gray-100"}`,children:[W.role==="tool"&&(()=>{let ae=null;console.log(" Searching for tool_call_id:",W.tool_call_id,"in",O.length,"messages");for(let ke=oe-1;ke>=0;ke--)if(O[ke].tool_calls&&(console.log("  Found message at index",ke,"with",O[ke].tool_calls?.length,"tool_calls"),ae=O[ke].tool_calls?.find(gt=>gt.id===W.tool_call_id),ae)){console.log(" Found tool call for",W.name,":",ae);break}ae||console.log(" No tool call found for",W.tool_call_id);let ut=null;if(W.name==="search_web"&&typeof W.content=="string")try{const ke=JSON.parse(W.content);ke.results&&Array.isArray(ke.results)&&(ut=ke.results)}catch{}let Me=null;if(W.name==="scrape_web_content"&&typeof W.content=="string")try{const ke=JSON.parse(W.content);(ke.url||ke.content||ke.error)&&(Me=ke)}catch{}let Ve=null;if(W.name==="execute_javascript"&&typeof W.content=="string")try{const ke=JSON.parse(W.content);(ke.result!==void 0||ke.error)&&(Ve=ke)}catch{}return s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between gap-2 mb-2",children:[s.jsxs("div",{className:"text-xs font-semibold text-purple-700 dark:text-purple-300 flex items-center gap-2",children:[s.jsxs("span",{children:[" ",W.name||"Tool Result"]}),ae&&(W.name==="search_web"||W.name==="search_youtube")&&(()=>{try{const ke=JSON.parse(ae.function.arguments);if(ke.query)return s.jsxs("span",{className:"font-normal text-purple-600 dark:text-purple-400 italic",children:['- "',ke.query,'"']})}catch{}return null})()]}),s.jsx("button",{onClick:()=>{const ke=new Set(De);He?ke.delete(oe):ke.add(oe),dt(ke)},className:"text-purple-600 dark:text-purple-400 hover:text-purple-800 dark:hover:text-purple-200",title:He?"Collapse":"Expand",children:He?"":""})]}),He&&s.jsxs("div",{className:"text-xs space-y-2",children:[ae&&s.jsx("div",{className:"mb-3 bg-purple-50 dark:bg-purple-950/50 p-3 rounded border border-purple-200 dark:border-purple-800",children:ae.function.name==="search_web"?s.jsxs(s.Fragment,{children:[ae.function.arguments&&(()=>{try{const ke=JSON.parse(ae.function.arguments);if(ke.query)return s.jsxs("div",{children:[s.jsx("div",{className:"font-semibold text-purple-700 dark:text-purple-300 mb-1",children:" Search Query:"}),s.jsxs("div",{className:"text-purple-900 dark:text-purple-100 italic",children:['"',ke.query,'"']})]})}catch(ke){console.error("Error parsing search arguments:",ke)}return null})(),(()=>{try{if(!W.content)return null;const gt=(typeof W.content=="string"?JSON.parse(W.content):W.content)?.searchService;if(gt&&typeof gt=="string"){const ot=gt==="tavily";return s.jsxs("div",{className:"mt-2 pt-2 border-t border-purple-200 dark:border-purple-700",children:[s.jsx("div",{className:"font-semibold text-purple-700 dark:text-purple-300 mb-1",children:i("chat.searchProvider")}),s.jsx("div",{className:`inline-flex items-center gap-1.5 px-2 py-1 rounded text-xs font-medium ${ot?"bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-200 border border-blue-300 dark:border-blue-700":"bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-200 border border-green-300 dark:border-green-700"}`,children:ot?" Tavily API":" DuckDuckGo"})]})}}catch(ke){console.error("Error parsing search provider:",ke)}return null})()]}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"font-semibold text-purple-700 dark:text-purple-300 mb-2",children:i("chat.functionCall")}),s.jsx("div",{className:"font-mono text-xs mb-2",children:s.jsx("span",{className:"text-purple-900 dark:text-purple-100",children:ae.function.name})}),ae.function.arguments&&(()=>{try{const ke=JSON.parse(ae.function.arguments);return ke.code?s.jsxs("div",{children:[s.jsx("div",{className:"font-semibold text-purple-700 dark:text-purple-300 mb-1",children:i("chat.code")}),s.jsx("div",{className:"bg-gray-900 text-green-400 p-3 rounded font-mono text-xs overflow-x-auto max-h-64 overflow-y-auto",children:s.jsx("pre",{className:"whitespace-pre-wrap leading-relaxed",children:ke.code})})]}):s.jsxs("div",{children:[s.jsx("div",{className:"font-semibold text-purple-700 dark:text-purple-300 mb-1",children:i("chat.arguments")}),s.jsx("div",{className:"bg-gray-900 dark:bg-gray-950 p-3 rounded font-mono text-xs overflow-x-auto max-h-96 overflow-y-auto",children:s.jsx(Em,{data:ke,expandAll:!0})})]})}catch(ke){console.error("Error parsing tool arguments:",ke)}return null})()]})}),W.tool_call_id&&W.name!=="search_web"&&s.jsxs("div",{children:[s.jsx("span",{className:"font-semibold text-purple-700 dark:text-purple-300",children:i("chat.callId")}),s.jsx("div",{className:"font-mono text-xs bg-purple-50 dark:bg-purple-950 p-1 rounded mt-1 break-all",children:W.tool_call_id})]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-semibold text-purple-700 dark:text-purple-300",children:i("chat.result")}),s.jsxs("div",{className:"bg-purple-50 dark:bg-purple-950 p-2 rounded mt-1 max-h-96 overflow-y-auto",children:[ut?s.jsx(ETe,{results:ut}):Me?s.jsxs("div",{className:"space-y-2",children:[Me.url&&s.jsxs("div",{className:"flex items-start justify-between gap-2",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("span",{className:"font-semibold text-purple-800 dark:text-purple-200",children:i("chat.url")}),s.jsx("a",{href:Me.url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 dark:text-blue-400 hover:underline text-xs break-all block mt-1",children:Me.url})]}),Me.rawHtml&&s.jsx("button",{onClick:()=>cn({url:Me.url,html:Me.rawHtml}),className:"flex-shrink-0 px-3 py-1.5 text-xs bg-gray-600 hover:bg-gray-700 text-white rounded transition-colors font-medium",title:i("chat.viewRawHtml"),children:" Raw HTML"})]}),Me.error&&s.jsxs("div",{className:"bg-red-50 dark:bg-red-900/30 border border-red-300 dark:border-red-700 rounded p-2",children:[s.jsx("span",{className:"font-semibold text-red-800 dark:text-red-200",children:i("chat.error")}),s.jsx("p",{className:"text-red-700 dark:text-red-300 text-xs mt-1",children:Me.error})]}),Me.content&&s.jsxs("div",{children:[s.jsxs("span",{className:"font-semibold text-purple-800 dark:text-purple-200",children:[" Page Content (",Me.content.length.toLocaleString()," characters)",Me.format&&s.jsxs("span",{className:"ml-2 text-xs text-purple-600 dark:text-purple-400",children:["[",Me.format,"]"]})]}),s.jsx("div",{className:"mt-2 p-3 bg-white dark:bg-gray-900 rounded border border-purple-200 dark:border-purple-800 max-h-80 overflow-y-auto",children:Me.format==="markdown"?s.jsx("div",{className:"text-xs",children:s.jsx(ou,{content:Me.content})}):s.jsx("pre",{className:"whitespace-pre-wrap text-xs text-gray-700 dark:text-gray-300 leading-relaxed",children:Me.content})})]}),(Me.images||Me.allImages||Me.youtube||Me.media||Me.links)&&s.jsxs("div",{className:"mt-4 pt-4 border-t border-purple-200 dark:border-purple-700",children:[s.jsx("div",{className:"text-sm font-semibold text-purple-800 dark:text-purple-200 mb-3",children:" Extracted Content"}),s.jsxs("div",{className:"space-y-3",children:[Me.images&&Me.images.length>0&&s.jsxs("div",{children:[s.jsxs("div",{className:"text-xs font-semibold text-gray-700 dark:text-gray-300 mb-2",children:[" Prioritized Images (sent to LLM): ",Me.images.length]}),s.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-2",children:Me.images.map((ke,gt)=>s.jsxs("div",{className:"border border-gray-200 dark:border-gray-700 rounded p-2",children:[s.jsx("img",{src:ke.src,alt:ke.alt||`Image ${gt+1}`,className:"w-full h-24 object-cover rounded mb-1",loading:"lazy"}),ke.alt&&s.jsx("p",{className:"text-[10px] text-gray-600 dark:text-gray-400 truncate",children:ke.alt})]},gt))})]}),Me.allImages&&Me.allImages.length>0&&s.jsxs("div",{children:[s.jsxs("div",{className:"text-xs font-semibold text-gray-700 dark:text-gray-300 mb-2",children:[" All Images: ",Me.allImages.length]}),s.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-4 md:grid-cols-6 gap-2",children:Me.allImages.slice(0,24).map((ke,gt)=>s.jsx("div",{className:"border border-gray-200 dark:border-gray-700 rounded p-1",children:s.jsx("img",{src:ke.src,alt:ke.alt||`Image ${gt+1}`,className:"w-full h-16 object-cover rounded",loading:"lazy"})},gt))}),Me.allImages.length>24&&s.jsxs("p",{className:"text-[10px] text-gray-500 dark:text-gray-400 mt-1",children:["...and ",Me.allImages.length-24," more"]})]}),Me.youtube&&Me.youtube.length>0&&s.jsxs("div",{children:[s.jsxs("div",{className:"text-xs font-semibold text-gray-700 dark:text-gray-300 mb-2",children:[" YouTube Videos: ",Me.youtube.length]}),s.jsx("div",{className:"space-y-1",children:Me.youtube.map((ke,gt)=>s.jsx("a",{href:ke.url,target:"_blank",rel:"noopener noreferrer",className:"block text-xs text-blue-600 dark:text-blue-400 hover:underline truncate",children:ke.text||ke.url},gt))})]}),Me.media&&Me.media.length>0&&s.jsxs("div",{children:[s.jsxs("div",{className:"text-xs font-semibold text-gray-700 dark:text-gray-300 mb-2",children:[" Media (Audio/Video): ",Me.media.length]}),s.jsx("div",{className:"space-y-1",children:Me.media.map((ke,gt)=>s.jsx("a",{href:ke.url,target:"_blank",rel:"noopener noreferrer",className:"block text-xs text-blue-600 dark:text-blue-400 hover:underline truncate",children:ke.text||ke.url},gt))})]}),Me.links&&Me.links.length>0&&s.jsxs("div",{children:[s.jsxs("div",{className:"text-xs font-semibold text-gray-700 dark:text-gray-300 mb-2",children:[" Links: ",Me.links.length]}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-1",children:Me.links.slice(0,20).map((ke,gt)=>s.jsx("a",{href:ke.url,target:"_blank",rel:"noopener noreferrer",className:"block text-xs text-blue-600 dark:text-blue-400 hover:underline truncate",children:ke.text||ke.url},gt))}),Me.links.length>20&&s.jsxs("p",{className:"text-[10px] text-gray-500 dark:text-gray-400 mt-1",children:["...and ",Me.links.length-20," more links"]})]})]})]})]}):Ve?s.jsxs("div",{className:"space-y-3",children:[Ve.error&&s.jsxs("div",{className:"bg-red-50 dark:bg-red-900/30 border border-red-300 dark:border-red-700 rounded p-2",children:[s.jsx("span",{className:"font-semibold text-red-800 dark:text-red-200",children:" Error:"}),s.jsx("p",{className:"text-red-700 dark:text-red-300 text-xs mt-1 font-mono",children:Ve.error})]}),Ve.result!==void 0&&s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between gap-2 mb-2",children:[s.jsx("span",{className:"font-semibold text-purple-800 dark:text-purple-200",children:" Output:"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>{navigator.clipboard.writeText(String(Ve.result)),w(i("chat.outputCopied"))},className:"text-xs px-2 py-1 bg-purple-600 hover:bg-purple-700 text-white rounded transition-colors",title:i("chat.copyOutputToClipboard"),children:"Copy"}),s.jsx("button",{onClick:()=>{Na(String(Ve.result),"tool","JavaScript Output")},className:"text-xs px-2 py-1 bg-indigo-600 hover:bg-indigo-700 text-white rounded transition-colors",title:i("chat.captureOutputToSwag"),children:"Grab"})]})]}),ae?.executedAt&&s.jsxs("span",{className:"text-xs text-gray-600 dark:text-gray-400 block mb-2",children:["(",ae.runtime||"N/A",")"]}),s.jsx("div",{className:"bg-gray-50 dark:bg-gray-950 p-3 rounded border border-green-300 dark:border-green-700",children:s.jsx("pre",{className:"whitespace-pre-wrap text-sm text-gray-900 dark:text-gray-100 font-mono leading-relaxed",children:String(Ve.result)})})]})]}):W.name==="generate_chart"?(()=>{let ke=null;for(let gt=oe-1;gt>=0&&!(O[gt].role==="assistant"&&O[gt].content&&(ke=_c(O[gt].content),ke));gt--);return s.jsx(_P,{content:W.content,chartCode:ke||void 0})})():s.jsx("pre",{className:"whitespace-pre-wrap text-xs text-gray-800 dark:text-gray-200",children:An(W.content)}),s.jsx(CP,{rawResponse:W.rawResponse,extractionMetadata:W.extractionMetadata}),W.content&&s.jsxs("div",{className:"flex gap-2 mt-2 pt-2 border-t border-purple-200 dark:border-purple-700",children:[s.jsxs("button",{onClick:()=>Na(An(W.content),"tool",W.name),className:"text-xs text-blue-600 dark:text-blue-400 hover:text-blue-900 dark:hover:text-blue-100 flex items-center gap-1",title:"Capture to Swag",children:[s.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 11.5V14m0-2.5v-6a1.5 1.5 0 113 0m-3 6a1.5 1.5 0 00-3 0v2a7.5 7.5 0 0015 0v-5a1.5 1.5 0 00-3 0m-6-3V11m0-5.5v-1a1.5 1.5 0 013 0v1m0 0V11m0-5.5a1.5 1.5 0 013 0v3m0 0V11"})}),"Grab"]}),W.name==="search_web"&&s.jsx("button",{onClick:()=>W.llmApiCalls&&W.llmApiCalls.length>0?ba(oe):null,className:`text-xs px-1.5 py-0.5 rounded flex items-center gap-1 transition-colors ${W.llmApiCalls&&W.llmApiCalls.length>0?"bg-purple-50 dark:bg-purple-900/30 hover:bg-purple-100 dark:hover:bg-purple-900/50 cursor-pointer":"text-gray-500 dark:text-gray-500 cursor-default"}`,title:W.llmApiCalls&&W.llmApiCalls.length>0?`View LLM summarization info  ${da(Xo(W))}`:"No LLM summarization used",children:W.llmApiCalls&&W.llmApiCalls.length>0?s.jsxs(s.Fragment,{children:[s.jsxs("span",{className:"font-semibold text-green-600 dark:text-green-400",children:[" ",da(Xo(W))]}),s.jsx("span",{className:"ml-0.5",children:""})]}):s.jsxs(s.Fragment,{children:[s.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),s.jsx("span",{className:"text-[10px]",children:i("chat.noSummarization")})]})}),W.name!=="search_web"&&W.llmApiCalls&&W.llmApiCalls.length>0&&s.jsxs("button",{onClick:()=>ba(oe),className:"text-xs px-1.5 py-0.5 rounded bg-purple-50 dark:bg-purple-900/30 hover:bg-purple-100 dark:hover:bg-purple-900/50 flex items-center gap-1 transition-colors",title:`View LLM transparency info  ${da(Xo(W))}`,children:[s.jsxs("span",{className:"font-semibold text-green-600 dark:text-green-400",children:[" ",da(Xo(W))]}),s.jsx("span",{className:"ml-0.5",children:""})]})]})]})]})]})]})})(),W.role!=="tool"&&s.jsxs(s.Fragment,{children:[W.role==="assistant"?s.jsxs("div",{children:[oe===O.length-1&&Ue.size>0&&s.jsx("div",{className:"mb-3 space-y-2",children:Array.from(Ue.values()).map((ae,ut)=>s.jsx(iTe,{data:ae},ut))}),oe===O.length-1&&Ht.size>0&&s.jsx("div",{className:"mb-3 space-y-2",children:Array.from(Ht.values()).map((ae,ut)=>s.jsx(oTe,{data:ae},ut))}),oe===O.length-1&&Ur.size>0&&s.jsx("div",{className:"mb-3 space-y-2",children:Array.from(Ur.values()).map((ae,ut)=>s.jsx(lTe,{data:ae},ut))}),oe===O.length-1&&At.size>0&&s.jsx("div",{className:"mb-3 space-y-2",children:Array.from(At.values()).map((ae,ut)=>s.jsx(cTe,{data:ae},ut))}),oe===O.length-1&&fn.size>0&&s.jsx("div",{className:"mb-3 space-y-2",children:Array.from(fn.values()).map((ae,ut)=>s.jsx(uTe,{data:ae},ut))}),W.tool_calls&&W.tool_calls.map((ae,ut)=>{if(ae.function.name==="transcribe_url"&&nn.has(ae.id)){console.log(`    Rendering TranscriptionProgress for tool_call ${ut}: ${ae.id}`);const Me=nn.get(ae.id);if(!Me||Me.length===0)return console.log(`      No events for ${ae.id}, skipping`),null;const Ve=Me[Me.length-1],ke=Ve.progress_type||Ve.data?.type||"",gt=ke==="transcribe_complete"||ke==="transcription_stopped"||ke==="error";if(console.log(`      Last event type: ${ke}, isComplete: ${gt}`),gt)return console.log("      Transcription complete, skipping progress render"),null;console.log(`       Rendering progress component for ${ae.id}`);const ot=JSON.parse(ae.function.arguments||"{}");return s.jsx("div",{className:"mb-3",children:s.jsx(aTe,{toolCallId:ae.id,url:ot.url||"",events:Me||[],onStop:qx})},ae.id)}if(ae.function.name==="scrape_web_content"&&Xr.has(ae.id)){console.log(`    Rendering ScrapingProgress for tool_call ${ut}: ${ae.id}`);const Me=Xr.get(ae.id);if(!Me||Me.length===0)return console.log(`      No events for ${ae.id}, skipping`),null;const Ve=Me[Me.length-1],ke=Ve.progress_type||Ve.data?.type||"",gt=ke==="scrape_complete"||ke==="scrape_error";if(console.log(`      Last event type: ${ke}, isComplete: ${gt}`),gt)return console.log("      Scraping complete, skipping progress render"),null;console.log(`       Rendering scraping progress component for ${ae.id}`);const ot=JSON.parse(ae.function.arguments||"{}");return s.jsx("div",{className:"mb-3",children:s.jsx(sTe,{toolCallId:ae.id,url:ot.url||"",events:Me||[]})},ae.id)}return null}),W.tool_calls&&W.tool_calls.length>0&&!W.toolResults&&s.jsx("div",{className:"mb-3 space-y-2",children:W.tool_calls.map((ae,ut)=>{let Me={},Ve=null;try{Me=JSON.parse(ae.function.arguments||"{}")}catch(ke){Ve=`Invalid JSON: ${ae.function.arguments}`,console.error(`Failed to parse tool call arguments for ${ae.id}:`,ke)}return s.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-300 dark:border-blue-700 rounded-lg p-3",children:[s.jsxs("div",{className:"text-xs font-semibold text-blue-700 dark:text-blue-300 flex items-center gap-2 mb-2",children:[s.jsxs("span",{children:[" ",ae.function.name]}),Ve&&s.jsx("span",{className:"text-red-600 dark:text-red-400 font-normal",children:" Malformed arguments"})]}),s.jsx("div",{className:"text-xs text-gray-700 dark:text-gray-300 space-y-1",children:Ve?s.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-300 dark:border-red-700 rounded p-2 font-mono text-[10px]",children:Ve}):Object.entries(Me).map(([ke,gt])=>s.jsxs("div",{children:[s.jsxs("span",{className:"font-semibold",children:[ke,":"]})," ",s.jsx("span",{className:"font-mono",children:typeof gt=="string"?gt:JSON.stringify(gt)})]},ke))})]},ut)})}),W.tool_calls&&!W.toolResults&&!W.isStreaming&&s.jsxs("div",{className:"mb-3 flex items-center gap-2 p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[s.jsxs("div",{className:"flex gap-1",children:[s.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-pulse",style:{animationDelay:"0ms"}}),s.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-pulse",style:{animationDelay:"150ms"}}),s.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-pulse",style:{animationDelay:"300ms"}})]}),s.jsxs("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:[" Executing ",W.tool_calls.length," tool",W.tool_calls.length>1?"s":"","..."]})]}),s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx("div",{className:"flex-1",children:W.content&&(()=>{let ae;if(W.toolResults){const ut=W.toolResults.find(Me=>Me.name==="generate_chart");if(ut)try{const Me=typeof ut.content=="string"?JSON.parse(ut.content):ut.content;ae=Me.description||Me.chart_type}catch{}}return s.jsx(ou,{content:An(W.content),chartDescription:ae})})()}),W.content&&!W.isStreaming&&s.jsx(iw,{text:An(W.content),variant:"icon",shouldSummarize:An(W.content).length>500})]}),W.isStreaming&&s.jsx("span",{className:"inline-block w-2 h-4 bg-gray-500 animate-pulse ml-1"}),(()=>{const ae=O[oe+1];if(ae&&ae.role==="tool"){const ut=[];if(W.tool_calls&&W.tool_calls.forEach(Me=>{if(Me.function?.name==="search_youtube"){const Ve=O.find((ke,gt)=>gt>oe&&ke.role==="tool"&&ke.tool_call_id===Me.id);if(Ve&&Ve.content)try{const ke=typeof Ve.content=="string"?JSON.parse(Ve.content):Ve.content;ke.videos&&Array.isArray(ke.videos)&&ut.push(...ke.videos)}catch(ke){console.error("Failed to parse YouTube results:",ke)}}}),ut.length>0)return s.jsx(xTe,{videos:ut})}return null})(),(()=>{if(!W.extractedContent)return null;const ae=W.extractedContent;return ae.prioritizedImages&&ae.prioritizedImages.length>0||ae.allLinks&&ae.allLinks.length>0||ae.allImages&&ae.allImages.length>0||ae.youtubeVideos&&ae.youtubeVideos.length>0||ae.otherVideos&&ae.otherVideos.length>0||ae.media&&ae.media.length>0?s.jsxs("div",{className:"mt-4 space-y-4",children:[ae.prioritizedImages&&ae.prioritizedImages.length>0&&s.jsx(fTe,{images:ae.prioritizedImages.map(Me=>Me.src),maxDisplay:3,onImageClick:Me=>window.open(Me,"_blank"),onGrabImage:sa}),ae.allLinks&&ae.allLinks.length>0&&s.jsxs("details",{className:"border border-gray-300 dark:border-gray-700 rounded-lg",children:[s.jsxs("summary",{className:"cursor-pointer font-semibold p-3 bg-gray-50 dark:bg-gray-800 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-750",children:[" All Links (",ae.allLinks.length,")"]}),s.jsx("div",{className:"p-4 space-y-2",children:ae.allLinks.map((Me,Ve)=>s.jsx("div",{className:"border-b border-gray-200 dark:border-gray-700 pb-2 last:border-b-0",children:s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsxs("span",{className:"text-gray-500 dark:text-gray-400 text-xs mt-0.5",children:[Ve+1,"."]}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("a",{href:Me.url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 dark:text-blue-400 hover:underline font-medium break-words",children:Me.title}),Me.snippet&&s.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-1 italic",children:Me.snippet})]})]})},Ve))})]}),ae.allImages&&ae.allImages.length>0&&s.jsxs("details",{className:"border border-gray-300 dark:border-gray-700 rounded-lg",children:[s.jsxs("summary",{className:"cursor-pointer font-semibold p-3 bg-gray-50 dark:bg-gray-800 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-750",children:[" All Images (",ae.allImages.length,")"]}),s.jsx("div",{className:"p-4 grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:ae.allImages.map((Me,Ve)=>s.jsxs("div",{className:"relative group",children:[s.jsx("img",{src:Me.src,alt:Me.alt||`Image ${Ve+1}`,className:"w-full h-32 object-cover rounded border border-gray-300 dark:border-gray-700 cursor-pointer hover:opacity-80",onClick:()=>window.open(Me.src,"_blank"),loading:"lazy"}),s.jsx("button",{onClick:()=>sa(Me.src,Me.alt||`Image ${Ve+1}`),className:"absolute top-2 right-2 p-1.5 bg-white dark:bg-gray-800 rounded shadow-lg opacity-0 group-hover:opacity-100 transition-opacity",title:i("chat.grabImage"),children:s.jsx("svg",{className:"w-4 h-4 text-gray-700 dark:text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})})]},Ve))})]}),ae.youtubeVideos&&ae.youtubeVideos.length>0&&s.jsxs("details",{className:"border border-gray-300 dark:border-gray-700 rounded-lg",children:[s.jsxs("summary",{className:"cursor-pointer font-semibold p-3 bg-gray-50 dark:bg-gray-800 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-750",children:[" YouTube Videos (",ae.youtubeVideos.length,")"]}),s.jsx("div",{className:"p-4 space-y-2",children:ae.youtubeVideos.map((Me,Ve)=>s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsxs("span",{className:"text-gray-500 dark:text-gray-400 text-xs mt-0.5",children:[Ve+1,"."]}),s.jsx("a",{href:Me.src,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 dark:text-blue-400 hover:underline",children:Me.title})]},Ve))})]}),ae.otherVideos&&ae.otherVideos.length>0&&s.jsxs("details",{className:"border border-gray-300 dark:border-gray-700 rounded-lg",children:[s.jsxs("summary",{className:"cursor-pointer font-semibold p-3 bg-gray-50 dark:bg-gray-800 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-750",children:[" Other Videos (",ae.otherVideos.length,")"]}),s.jsx("div",{className:"p-4 space-y-2",children:ae.otherVideos.map((Me,Ve)=>s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsxs("span",{className:"text-gray-500 dark:text-gray-400 text-xs mt-0.5",children:[Ve+1,"."]}),s.jsx("a",{href:Me.src,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 dark:text-blue-400 hover:underline",children:Me.title})]},Ve))})]}),ae.media&&ae.media.length>0&&s.jsxs("details",{className:"border border-gray-300 dark:border-gray-700 rounded-lg",children:[s.jsxs("summary",{className:"cursor-pointer font-semibold p-3 bg-gray-50 dark:bg-gray-800 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-750",children:[" Audio & Other Media (",ae.media.length,")"]}),s.jsx("div",{className:"p-4 space-y-2",children:ae.media.map((Me,Ve)=>s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsxs("span",{className:"text-gray-500 dark:text-gray-400 text-xs mt-0.5",children:[Ve+1,"."]}),s.jsx("a",{href:Me.src,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 dark:text-blue-400 hover:underline",children:Me.type||"Media"})]},Ve))})]})]}):null})(),W.toolResults&&W.toolResults.length>0&&s.jsx("div",{className:"mt-4 space-y-3",children:W.toolResults.filter(ae=>{if(ae.name==="generate_image")try{if(JSON.parse(ae.content).error)return!1}catch{}return!0}).map((ae,ut)=>{const Me=De.has(oe*1e3+ut);let Ve=null;if(ae.name==="search_web"&&typeof ae.content=="string")try{const Fe=JSON.parse(ae.content);Fe.results&&Array.isArray(Fe.results)&&(Ve=Fe.results)}catch{}let ke=null;if(ae.name==="scrape_web_content"&&typeof ae.content=="string")try{const Fe=JSON.parse(ae.content);(Fe.content||Fe.url)&&(ke=Fe)}catch{}let gt=null,ot="";if(ae.name==="execute_javascript"&&typeof ae.content=="string")try{const Fe=JSON.parse(ae.content);if(Fe.result!==void 0||Fe.error){gt=Fe;const yt=W.tool_calls?.find(Cr=>Cr.id===ae.tool_call_id);if(yt)try{ot=JSON.parse(yt.function.arguments).code||""}catch{}}}catch{}return s.jsxs("div",{className:"bg-purple-100 dark:bg-purple-900/30 border border-purple-300 dark:border-purple-700 rounded-lg p-3",children:[s.jsxs("div",{className:"flex items-center justify-between gap-2 mb-2",children:[s.jsxs("div",{className:"text-xs font-semibold text-purple-700 dark:text-purple-300 flex items-center gap-2",children:[s.jsxs("span",{children:[" ",ae.name||"Tool Result"]}),W.tool_calls&&(ae.name==="search_web"||ae.name==="search_youtube")&&(()=>{const Fe=W.tool_calls.find(yt=>yt.id===ae.tool_call_id);if(Fe)try{const yt=JSON.parse(Fe.function.arguments);if(yt.query)return s.jsxs("span",{className:"font-normal text-purple-600 dark:text-purple-400 italic",children:['- "',yt.query,'"']})}catch{}return null})(),ae.name==="scrape_web_content"&&(()=>{try{const Fe=typeof ae.content=="string"?JSON.parse(ae.content):ae.content;if(Fe.url||Fe.scrapeService||Fe.proxyUsed!==void 0)return s.jsxs("span",{className:"font-normal text-purple-600 dark:text-purple-400 flex items-center gap-1",children:[Fe.url&&s.jsxs("a",{href:Fe.url,target:"_blank",rel:"noopener noreferrer",className:"hover:underline",children:["- ",new URL(Fe.url).hostname]}),Fe.scrapeService&&s.jsx("span",{className:"text-[10px] bg-purple-200 dark:bg-purple-800 px-1.5 py-0.5 rounded",children:Fe.scrapeService}),Fe.proxyUsed&&s.jsx("span",{className:"text-[10px] bg-green-200 dark:bg-green-800 text-green-700 dark:text-green-300 px-1.5 py-0.5 rounded",title:i("chat.usingProxy"),children:" proxy"})]})}catch{}return null})()]}),s.jsx("button",{onClick:()=>{const Fe=new Set(De),yt=oe*1e3+ut;Me?Fe.delete(yt):Fe.add(yt),dt(Fe)},className:"text-purple-600 dark:text-purple-400 hover:text-purple-800 dark:hover:text-purple-200",title:Me?"Collapse":"Expand",children:Me?"":""})]}),Me&&s.jsxs("div",{className:"text-xs space-y-2",children:[Gn.size>0&&Array.from(Gn.values()).filter(()=>ae.name==="search_web"||ae.name==="scrape_web_content"||ae.name==="transcribe_url").map((Fe,yt)=>s.jsx(dTe,{data:Fe},yt)),Ve&&Ve.length>0?s.jsx("div",{className:"space-y-3",children:Ve.map((Fe,yt)=>{const Cr=oe*1e6+ut*1e3+yt,na=De.has(Cr),js=Fe.content||Fe.page_content,Fs=typeof Fe.content=="string"?Fe.content:typeof Fe.page_content=="string"?Fe.page_content:JSON.stringify(Fe.page_content||Fe.content,null,2);return s.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded border border-purple-200 dark:border-purple-800 overflow-hidden",children:[s.jsxs("div",{className:"p-3",children:[s.jsxs("div",{className:"flex items-start justify-between gap-2",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("a",{href:Fe.url,target:"_blank",rel:"noopener noreferrer",className:"font-semibold text-purple-700 dark:text-purple-300 hover:underline block mb-1",children:Fe.title}),(Fe.snippet||Fe.description)&&s.jsx("p",{className:"text-gray-700 dark:text-gray-300 text-xs mb-2",children:Fe.snippet||Fe.description}),s.jsx("a",{href:Fe.url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 dark:text-blue-400 hover:underline text-[10px] break-all block",children:Fe.url})]}),js&&s.jsx("button",{onClick:()=>{const Qn=new Set(De);na?Qn.delete(Cr):Qn.add(Cr),dt(Qn)},className:"flex-shrink-0 text-purple-600 dark:text-purple-400 hover:text-purple-800 dark:hover:text-purple-200 text-xs",title:na?"Hide details":"Show details",children:na?"":""})]}),s.jsxs("div",{className:"flex flex-wrap gap-1.5 mt-2",children:[Fe.state&&s.jsx("span",{className:`text-[10px] px-1.5 py-0.5 rounded ${Fe.state==="success"?"bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-300":"bg-yellow-100 dark:bg-yellow-900/30 text-yellow-700 dark:text-yellow-300"}`,children:Fe.state}),Fe.fetchTimeMs!==void 0&&s.jsxs("span",{className:"text-[10px] bg-gray-100 dark:bg-gray-800 text-gray-600 dark:text-gray-400 px-1.5 py-0.5 rounded",children:[" ",Fe.fetchTimeMs,"ms"]}),Fe.contentFormat&&s.jsx("span",{className:"text-[10px] bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 px-1.5 py-0.5 rounded",children:Fe.contentFormat}),Fe.intelligentlyExtracted&&s.jsx("span",{className:"text-[10px] bg-indigo-100 dark:bg-indigo-900/30 text-indigo-700 dark:text-indigo-300 px-1.5 py-0.5 rounded",title:i("chat.contentExtracted"),children:" smart"}),Fe.truncated&&s.jsx("span",{className:"text-[10px] bg-orange-100 dark:bg-orange-900/30 text-orange-700 dark:text-orange-300 px-1.5 py-0.5 rounded",title:i("chat.truncatedToFit"),children:" truncated"})]})]}),na&&js&&s.jsxs("div",{className:"border-t border-purple-200 dark:border-purple-800 bg-purple-50/50 dark:bg-purple-900/10",children:[s.jsxs("div",{className:"px-3 py-2 border-b border-purple-200 dark:border-purple-800",children:[s.jsx("div",{className:"text-xs font-semibold text-purple-700 dark:text-purple-300 mb-2",children:" Scraping & Compression Details:"}),s.jsxs("div",{className:"grid grid-cols-2 gap-x-4 gap-y-1.5 text-[10px]",children:[s.jsxs("div",{className:"col-span-2",children:[s.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:i("chat.scrapeMethod")})," ",s.jsx("span",{className:"font-semibold text-purple-600 dark:text-purple-400",children:Fe.tier!==void 0?s.jsxs(s.Fragment,{children:[i("chat.tier")," ",Fe.tier," - ",Fe.scrapeMethod||Fe.scrapeService]}):"Direct HTTP Fetch"}),Fe.tier!==void 0&&s.jsxs("span",{className:"text-gray-500 dark:text-gray-400 text-[9px] block mt-0.5",children:[Fe.tier===0&&"(Simple HTTP GET - fast, no browser)",Fe.tier===1&&"(Puppeteer - browser automation with stealth)",Fe.tier===2&&"(Playwright - advanced browser automation)",Fe.tier===3&&"(Selenium - complex interactions)",Fe.tier===4&&"(Interactive - manual CAPTCHA/login)"]})]}),Fe.responseTime!==void 0&&s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:i("chat.scrapeTime")})," ",s.jsxs("span",{className:"font-mono text-gray-700 dark:text-gray-300",children:[Fe.responseTime,"ms"]})]}),Fe.fetchTimeMs!==void 0&&s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:i("chat.totalTime")})," ",s.jsxs("span",{className:"font-mono text-gray-700 dark:text-gray-300",children:[Fe.fetchTimeMs,"ms"]})]}),Fe.contentFormat&&s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:i("chat.format")})," ",s.jsx("span",{className:"font-mono text-gray-700 dark:text-gray-300",children:Fe.contentFormat})]}),(Fe.originalLength||Fe.originalContentLength)&&s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:i("chat.originalSize")})," ",s.jsxs("span",{className:"font-mono text-gray-700 dark:text-gray-300",children:[((Fe.originalLength||Fe.originalContentLength)/1024).toFixed(1),"KB"]})]}),Fs&&s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:i("chat.compressedSize")})," ",s.jsxs("span",{className:"font-mono text-gray-700 dark:text-gray-300",children:[(Fs.length/1024).toFixed(1),"KB"]})]}),Fe.compressionRatio&&s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:i("chat.compression")})," ",s.jsxs("span",{className:"font-mono text-green-600 dark:text-green-400",children:[Fe.compressionRatio.toFixed(2),"x"]})]}),s.jsxs("div",{className:"col-span-2",children:[s.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:i("chat.compressionStrategy")})," ",s.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:Fe.intelligentlyExtracted?s.jsxs("span",{children:["Smart extraction",Fe.contentFormat==="markdown"?"  Markdown":"  Plain text",Fe.truncated&&"  Truncated to model limits"]}):s.jsx("span",{children:i("chat.basicExtraction")})})]}),s.jsx("div",{className:"col-span-2 mt-1 text-gray-500 dark:text-gray-400 italic",children:"Note: No LLM calls used for compression (rule-based extraction only)"})]})]}),s.jsxs("div",{className:"p-3 space-y-3",children:[Fe.rawHtml&&s.jsxs("div",{children:[s.jsxs("div",{className:"text-xs font-semibold text-purple-700 dark:text-purple-300 mb-1 flex items-center justify-between",children:[s.jsx("span",{children:" Stage 1: Raw HTML from Scraper"}),s.jsxs("span",{className:"text-[10px] font-normal text-gray-500 dark:text-gray-400",children:[Fe.rawHtml.length.toLocaleString()," chars"]})]}),s.jsx("button",{onClick:()=>{const Qn=document.createElement("div");Qn.className="fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50";const Bs=document.createElement("div");Bs.className="bg-white dark:bg-gray-800 w-11/12 h-5/6 rounded-lg shadow-xl flex flex-col";const Ts=document.createElement("div");Ts.className="flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700";const Ji=document.createElement("h3");Ji.className="text-lg font-semibold text-gray-900 dark:text-gray-100",Ji.textContent=i("chat.rawHtml",{count:Fe.rawHtml.length.toLocaleString()});const Us=document.createElement("button");Us.className="text-gray-500 hover:text-gray-700 dark:hover:text-gray-300",Us.innerHTML='<svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" /></svg>',Us.onclick=()=>Qn.remove();const Ti=document.createElement("div");Ti.className="flex-1 overflow-auto p-4";const ss=document.createElement("pre");ss.className="text-xs text-gray-900 dark:text-gray-100 font-mono whitespace-pre-wrap",ss.textContent=Fe.rawHtml,Ti.appendChild(ss),Ts.appendChild(Ji),Ts.appendChild(Us),Bs.appendChild(Ts),Bs.appendChild(Ti),Qn.appendChild(Bs),document.body.appendChild(Qn)},className:"px-3 py-1 text-xs bg-purple-100 dark:bg-purple-900 text-purple-700 dark:text-purple-300 rounded hover:bg-purple-200 dark:hover:bg-purple-800",children:"Show Full HTML"})]}),Fe.rawText&&s.jsxs("div",{children:[s.jsxs("div",{className:"text-xs font-semibold text-purple-700 dark:text-purple-300 mb-1 flex items-center justify-between",children:[s.jsx("span",{children:" Stage 2: Raw Text (innerText)"}),s.jsxs("span",{className:"text-[10px] font-normal text-gray-500 dark:text-gray-400",children:[Fe.rawText.length.toLocaleString()," chars"]})]}),s.jsx("button",{onClick:()=>{const Qn=document.createElement("div");Qn.className="fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50";const Bs=document.createElement("div");Bs.className="bg-white dark:bg-gray-800 w-11/12 h-5/6 rounded-lg shadow-xl flex flex-col";const Ts=document.createElement("div");Ts.className="flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700";const Ji=document.createElement("h3");Ji.className="text-lg font-semibold text-gray-900 dark:text-gray-100",Ji.textContent=i("chat.rawText",{count:Fe.rawText.length.toLocaleString()});const Us=document.createElement("button");Us.className="text-gray-500 hover:text-gray-700 dark:hover:text-gray-300",Us.innerHTML='<svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" /></svg>',Us.onclick=()=>Qn.remove();const Ti=document.createElement("div");Ti.className="flex-1 overflow-auto p-4";const ss=document.createElement("pre");ss.className="text-xs text-gray-900 dark:text-gray-100 font-mono whitespace-pre-wrap",ss.textContent=Fe.rawText,Ti.appendChild(ss),Ts.appendChild(Ji),Ts.appendChild(Us),Bs.appendChild(Ts),Bs.appendChild(Ti),Qn.appendChild(Bs),document.body.appendChild(Qn)},className:"px-3 py-1 text-xs bg-purple-100 dark:bg-purple-900 text-purple-700 dark:text-purple-300 rounded hover:bg-purple-200 dark:hover:bg-purple-800",children:"Show Full Text"})]}),Fe.afterSmartExtraction&&s.jsxs("div",{children:[s.jsxs("div",{className:"text-xs font-semibold text-purple-700 dark:text-purple-300 mb-2 flex items-center justify-between",children:[s.jsx("span",{children:" Stage 3: After Smart Extraction (Headers/Nav/Footers Removed)"}),s.jsxs("span",{className:"text-[10px] font-normal text-gray-500 dark:text-gray-400",children:[Fe.afterSmartExtraction.length.toLocaleString()," chars"]})]}),s.jsx("div",{className:"bg-white dark:bg-gray-900 p-3 rounded border border-purple-200 dark:border-purple-700 max-h-48 overflow-y-auto",children:s.jsx("pre",{className:"whitespace-pre-wrap text-[11px] text-gray-900 dark:text-gray-100 font-mono leading-relaxed",children:Fe.afterSmartExtraction})})]}),Fe.afterSummarization&&Fe.beforeSummarization&&Fe.afterSummarization!==Fe.beforeSummarization&&s.jsxs("div",{children:[s.jsxs("div",{className:"text-xs font-semibold text-purple-700 dark:text-purple-300 mb-2 flex items-center justify-between",children:[s.jsx("span",{children:" Stage 4: After AI Summarization"}),s.jsxs("span",{className:"text-[10px] font-normal text-gray-500 dark:text-gray-400",children:[Fe.afterSummarization.length.toLocaleString()," chars"]})]}),s.jsx("div",{className:"bg-white dark:bg-gray-900 p-3 rounded border border-amber-200 dark:border-amber-700 max-h-48 overflow-y-auto",children:s.jsx("pre",{className:"whitespace-pre-wrap text-[11px] text-gray-900 dark:text-gray-100 font-mono leading-relaxed",children:Fe.afterSummarization})})]}),Fe.sentToLLM&&s.jsxs("div",{children:[s.jsxs("div",{className:"text-xs font-semibold text-green-700 dark:text-green-300 mb-2 flex items-center justify-between",children:[s.jsx("span",{children:" Stage 5: SENT TO LLM (Tool Result)"}),s.jsxs("span",{className:"text-[10px] font-normal text-gray-500 dark:text-gray-400",children:[Fe.sentToLLM.length.toLocaleString()," chars"]})]}),s.jsx("div",{className:"bg-green-50 dark:bg-green-900/20 p-3 rounded border-2 border-green-500 dark:border-green-600 max-h-64 overflow-y-auto",children:s.jsx("pre",{className:"whitespace-pre-wrap text-[11px] text-gray-900 dark:text-gray-100 font-mono leading-relaxed",children:Fe.sentToLLM})})]}),s.jsx("div",{className:"pt-2 border-t border-purple-200 dark:border-purple-800",children:s.jsxs("div",{className:"text-[10px] text-gray-600 dark:text-gray-400 space-y-1",children:[s.jsx("div",{className:"font-semibold text-gray-700 dark:text-gray-300 mb-1",children:i("chat.contentProcessingPipeline")}),Fe.rawHtml&&s.jsxs("div",{children:[" Raw HTML: ",Fe.rawHtml.length.toLocaleString()," chars"]}),Fe.rawText&&s.jsxs("div",{children:[" Raw Text: ",Fe.rawText.length.toLocaleString()," chars"]}),Fe.afterSmartExtraction&&s.jsxs("div",{children:[" Smart Extraction: ",Fe.afterSmartExtraction.length.toLocaleString()," chars"]}),Fe.afterSummarization&&Fe.beforeSummarization&&Fe.afterSummarization!==Fe.beforeSummarization&&s.jsxs("div",{children:[" After Summarization: ",Fe.afterSummarization.length.toLocaleString()," chars"]}),Fe.sentToLLM&&s.jsxs("div",{className:"font-semibold text-green-600 dark:text-green-400",children:[" Sent to LLM: ",Fe.sentToLLM.length.toLocaleString()," chars"]})]})})]})]})]},yt)})}):ke?s.jsxs("div",{className:"space-y-3",children:[ke.error&&s.jsxs("div",{className:"bg-red-50 dark:bg-red-900/30 border border-red-300 dark:border-red-700 rounded p-3",children:[s.jsx("span",{className:"font-semibold text-red-800 dark:text-red-200",children:" Scraping Error:"}),s.jsx("p",{className:"text-red-700 dark:text-red-300 text-xs mt-1 font-mono whitespace-pre-wrap",children:ke.error})]}),ke.warning&&s.jsxs("div",{className:"bg-yellow-50 dark:bg-yellow-900/30 border border-yellow-300 dark:border-yellow-700 rounded p-2",children:[s.jsx("span",{className:"font-semibold text-yellow-800 dark:text-yellow-200",children:" Warning:"}),s.jsx("p",{className:"text-yellow-700 dark:text-yellow-300 text-xs mt-1",children:ke.warning})]}),(ke.format||ke.compressionRatio||ke.originalLength||ke.extractedLength)&&s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("div",{className:"font-semibold text-purple-700 dark:text-purple-300",children:" Metadata:"}),(()=>{const yt=Array.from(Gn.values()).find(Cr=>Cr.url===ke.url)?.rawHtml;return yt?s.jsx("button",{onClick:()=>nt({html:yt,url:ke.url}),className:"text-xs px-2 py-1 bg-purple-200 dark:bg-purple-800 text-purple-700 dark:text-purple-300 rounded hover:bg-purple-300 dark:hover:bg-purple-700",children:"View Raw HTML"}):null})()]}),s.jsx("table",{className:"w-full text-xs border-collapse",children:s.jsxs("tbody",{children:[ke.format&&s.jsxs("tr",{className:"border-b border-purple-200 dark:border-purple-800",children:[s.jsx("td",{className:"py-1 pr-3 text-gray-600 dark:text-gray-400",children:i("chat.format")}),s.jsx("td",{className:"py-1 font-medium text-gray-900 dark:text-gray-100",children:ke.format==="markdown"?" Markdown":" Plain Text"})]}),typeof ke.originalLength=="number"&&typeof ke.extractedLength=="number"&&s.jsxs("tr",{className:"border-b border-purple-200 dark:border-purple-800",children:[s.jsx("td",{className:"py-1 pr-3 text-gray-600 dark:text-gray-400",children:i("chat.size")}),s.jsxs("td",{className:"py-1 font-medium text-gray-900 dark:text-gray-100",children:[(ke.originalLength/1024).toFixed(1),"KB  ",(ke.extractedLength/1024).toFixed(1),"KB"]})]}),ke.compressionRatio&&typeof ke.compressionRatio=="number"&&s.jsxs("tr",{className:"border-b border-purple-200 dark:border-purple-800",children:[s.jsx("td",{className:"py-1 pr-3 text-gray-600 dark:text-gray-400",children:i("chat.compression")}),s.jsxs("td",{className:"py-1 font-medium text-gray-900 dark:text-gray-100",children:[ke.compressionRatio.toFixed(1),"x"]})]})]})})]}),ke.content&&s.jsxs("div",{children:[s.jsx("div",{className:"font-semibold text-purple-700 dark:text-purple-300 mb-2",children:" Content:"}),s.jsx("div",{className:"bg-white dark:bg-gray-900 p-3 rounded border border-purple-200 dark:border-purple-800 max-h-96 overflow-y-auto",children:ke.format==="markdown"?s.jsx(ou,{content:ke.content}):s.jsx("pre",{className:"whitespace-pre-wrap text-sm text-gray-900 dark:text-gray-100 leading-relaxed",children:ke.content})})]})]}):gt?s.jsxs("div",{className:"space-y-3",children:[ot&&s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between gap-2 mb-2",children:[s.jsx("span",{className:"font-semibold text-purple-700 dark:text-purple-300",children:" Code:"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>{navigator.clipboard.writeText(ot),w(i("chat.codeCopied"))},className:"text-xs px-2 py-1 bg-purple-600 hover:bg-purple-700 text-white rounded transition-colors",title:i("chat.copyCodeToClipboard"),children:"Copy"}),s.jsx("button",{onClick:()=>{Na(ot,"tool","JavaScript Code")},className:"text-xs px-2 py-1 bg-indigo-600 hover:bg-indigo-700 text-white rounded transition-colors",title:i("chat.captureCodeToSwag"),children:"Grab"})]})]}),s.jsx("div",{className:"bg-gray-900 text-green-400 p-3 rounded font-mono text-xs overflow-x-auto max-h-64 overflow-y-auto",children:s.jsx("pre",{className:"whitespace-pre-wrap leading-relaxed",children:ot})})]}),gt.error&&s.jsxs("div",{className:"bg-red-50 dark:bg-red-900/30 border border-red-300 dark:border-red-700 rounded p-2",children:[s.jsx("span",{className:"font-semibold text-red-800 dark:text-red-200",children:" Error:"}),s.jsx("p",{className:"text-red-700 dark:text-red-300 text-xs mt-1 font-mono",children:gt.error})]}),gt.result!==void 0&&s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between gap-2 mb-2",children:[s.jsx("span",{className:"font-semibold text-purple-700 dark:text-purple-300",children:" Output:"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>{navigator.clipboard.writeText(String(gt.result)),w(i("chat.outputCopied"))},className:"text-xs px-2 py-1 bg-purple-600 hover:bg-purple-700 text-white rounded transition-colors",title:"Copy output to clipboard",children:"Copy"}),s.jsx("button",{onClick:()=>{Na(String(gt.result),"tool","JavaScript Output")},className:"text-xs px-2 py-1 bg-indigo-600 hover:bg-indigo-700 text-white rounded transition-colors",title:"Capture output to Swag",children:"Grab"})]})]}),s.jsx("div",{className:"bg-gray-50 dark:bg-gray-950 p-3 rounded border border-green-300 dark:border-green-700",children:s.jsx("pre",{className:"whitespace-pre-wrap text-sm text-gray-900 dark:text-gray-100 font-mono leading-relaxed",children:String(gt.result)})})]})]}):ae.name==="generate_chart"?s.jsx(_P,{content:ae.content,chartCode:_c(W.content)||void 0}):ae.name==="generate_image"?(()=>{const Fe=ae.tool_call_id||ae.id,yt=W.imageGenerations?.find(Cr=>Cr.id===Fe);if(yt)return s.jsxs("div",{className:"space-y-3 mt-3",children:[s.jsx("div",{className:"overflow-x-auto",children:s.jsx("table",{className:"w-full text-sm border-collapse border border-purple-200 dark:border-purple-800 rounded",children:s.jsxs("tbody",{children:[yt.prompt&&s.jsxs("tr",{className:"border-b border-purple-200 dark:border-purple-800",children:[s.jsx("td",{className:"py-2 px-3 font-semibold bg-purple-50 dark:bg-purple-900/20 w-1/3",children:i("chat.titlePrompt")}),s.jsx("td",{className:"py-2 px-3",children:yt.prompt})]}),yt.revisedPrompt&&yt.revisedPrompt!==yt.prompt&&s.jsxs("tr",{className:"border-b border-purple-200 dark:border-purple-800",children:[s.jsx("td",{className:"py-2 px-3 font-semibold bg-purple-50 dark:bg-purple-900/20",children:i("chat.finalPrompt")}),s.jsx("td",{className:"py-2 px-3",children:yt.revisedPrompt})]}),yt.size&&s.jsxs("tr",{className:"border-b border-purple-200 dark:border-purple-800",children:[s.jsx("td",{className:"py-2 px-3 font-semibold bg-purple-50 dark:bg-purple-900/20",children:"Size"}),s.jsx("td",{className:"py-2 px-3",children:yt.size})]}),yt.model&&s.jsxs("tr",{className:"border-b border-purple-200 dark:border-purple-800",children:[s.jsx("td",{className:"py-2 px-3 font-semibold bg-purple-50 dark:bg-purple-900/20",children:"Model"}),s.jsxs("td",{className:"py-2 px-3",children:[yt.provider,"/",yt.model]})]}),yt.qualityTier&&s.jsxs("tr",{className:"border-b border-purple-200 dark:border-purple-800",children:[s.jsx("td",{className:"py-2 px-3 font-semibold bg-purple-50 dark:bg-purple-900/20",children:"Quality"}),s.jsx("td",{className:"py-2 px-3 capitalize",children:yt.qualityTier})]}),yt.cost!==void 0&&s.jsxs("tr",{className:"border-b border-purple-200 dark:border-purple-800",children:[s.jsx("td",{className:"py-2 px-3 font-semibold bg-purple-50 dark:bg-purple-900/20",children:"Cost"}),s.jsxs("td",{className:"py-2 px-3",children:["$",yt.cost.toFixed(4)]})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"py-2 px-3 font-semibold bg-purple-50 dark:bg-purple-900/20",children:"Status"}),s.jsx("td",{className:"py-2 px-3",children:yt.status==="complete"?s.jsx("span",{className:"text-green-600 dark:text-green-400 font-semibold",children:" Success"}):yt.status==="error"?s.jsx("span",{className:"text-red-600 dark:text-red-400 font-semibold",children:" Failed"}):s.jsx("span",{className:"text-yellow-600 dark:text-yellow-400",children:yt.status})})]})]})})}),yt.llmApiCall?.request&&s.jsxs("div",{className:"border border-gray-200 dark:border-gray-700 rounded overflow-hidden",children:[s.jsxs("button",{onClick:()=>{const Cr=`img-req-${yt.id}`,na=document.getElementById(Cr);na&&na.classList.toggle("hidden")},className:"w-full px-3 py-2 flex items-center justify-between bg-gray-50 dark:bg-gray-800 hover:bg-gray-100 dark:hover:bg-gray-750 transition-colors",children:[s.jsx("span",{className:"font-mono text-sm text-gray-700 dark:text-gray-300",children:" Request Data"}),s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),s.jsx("pre",{id:`img-req-${yt.id}`,className:"hidden p-3 text-xs overflow-auto max-h-96 bg-white dark:bg-gray-900 font-mono text-gray-800 dark:text-gray-200",children:JSON.stringify(yt.llmApiCall.request,null,2)})]}),yt.llmApiCall?.response&&s.jsxs("div",{className:"border border-gray-200 dark:border-gray-700 rounded overflow-hidden",children:[s.jsxs("button",{onClick:()=>{const Cr=`img-res-${yt.id}`,na=document.getElementById(Cr);na&&na.classList.toggle("hidden")},className:"w-full px-3 py-2 flex items-center justify-between bg-gray-50 dark:bg-gray-800 hover:bg-gray-100 dark:hover:bg-gray-750 transition-colors",children:[s.jsx("span",{className:"font-mono text-sm text-gray-700 dark:text-gray-300",children:" Response Data"}),s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),s.jsx("pre",{id:`img-res-${yt.id}`,className:"hidden p-3 text-xs overflow-auto max-h-96 bg-white dark:bg-gray-900 font-mono text-gray-800 dark:text-gray-200",children:JSON.stringify(yt.llmApiCall.response,null,2)})]})]});try{return typeof ae.content=="string"?JSON.parse(ae.content):ae.content,s.jsx(ZS,{content:ae.content})}catch{return s.jsx(ZS,{content:ae.content})}})():s.jsx(ZS,{content:ae.content})]}),ae.name==="generate_image"&&(()=>{const Fe=ae.tool_call_id||ae.id,yt=W.imageGenerations?.find(Cr=>Cr.id===Fe);if(yt&&(yt.status==="generating"||yt.status==="downloading")){const Cr=yt.phase||"generating",na=yt.estimatedSeconds||15;let js=" Generating image...",Fs="This may take 10-30 seconds for high-quality images";return Cr==="selecting_provider"?(js=" Selecting image provider...",Fs="Finding best available model"):Cr==="generating"?(js=` Generating image... (~${na}s)`,Fs=`Using ${yt.provider||"selected"} ${yt.model||"model"}`):yt.status==="downloading"&&(js=" Downloading image...",Fs="Converting to base64 for offline storage"),s.jsx("div",{className:"mt-3 relative",children:s.jsxs("div",{className:"w-full rounded border border-purple-300 dark:border-purple-700 bg-purple-50 dark:bg-purple-900/20 flex flex-col items-center justify-center p-8",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600 dark:border-purple-400 mb-4"}),s.jsx("div",{className:"text-sm text-purple-600 dark:text-purple-400 font-semibold mb-2",children:js}),s.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 text-center max-w-md",children:Fs}),yt.prompt&&s.jsxs("div",{className:"text-xs text-gray-400 dark:text-gray-500 text-center max-w-md mt-3 italic",children:['"',yt.prompt.substring(0,100),yt.prompt.length>100?"...":"",'"']})]})})}if(yt&&(yt.imageUrl||yt.base64)){let Cr;yt.base64?Cr=yt.base64.startsWith("data:image/")?yt.base64:`data:image/png;base64,${yt.base64}`:yt.imageUrl?.startsWith("data:image/")?Cr=yt.imageUrl:Cr=yt.imageUrl||"";const na=`<img src="${Cr}" alt="${yt.prompt||"Generated image"}" />`;return s.jsxs("div",{className:"mt-3 relative group",children:[s.jsx("img",{src:Cr,alt:yt.prompt||"Generated image",className:"w-full rounded border border-purple-300 dark:border-purple-700",style:{maxHeight:"512px",objectFit:"contain"}}),s.jsxs("div",{className:"absolute top-2 right-2 flex gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[s.jsx("button",{onClick:()=>{navigator.clipboard.writeText(Cr||""),w(i("chat.copiedToClipboard"))},className:"p-1.5 bg-white/90 dark:bg-gray-800/90 border border-gray-300 dark:border-gray-600 rounded hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",title:"Copy image data URL",children:s.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})})}),s.jsx("button",{onClick:async()=>{await b(na,"assistant",yt.prompt||"Generated image"),w("Image grabbed to swag")},className:"p-1.5 bg-white/90 dark:bg-gray-800/90 border border-gray-300 dark:border-gray-600 rounded hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",title:"Grab to swag",children:s.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 11.5V14m0-2.5v-6a1.5 1.5 0 113 0m-3 6a1.5 1.5 0 00-3 0v2a7.5 7.5 0 0015 0v-5a1.5 1.5 0 00-3 0m-6-3V11m0-5.5v-1a1.5 1.5 0 013 0v1m0 0V11m0-5.5a1.5 1.5 0 013 0v3m0 0V11"})})})]})]})}return null})(),s.jsx(CP,{rawResponse:ae.rawResponse,extractionMetadata:ae.extractionMetadata})]},ut)})}),W.isStreaming&&W.toolResults&&W.toolResults.length>0&&s.jsx("div",{className:"mt-4 p-4 bg-blue-50 dark:bg-blue-900/20 border-2 border-blue-300 dark:border-blue-700 rounded-lg",children:s.jsxs("div",{className:"flex items-center gap-3 text-blue-700 dark:text-blue-300",children:[s.jsxs("svg",{className:"animate-spin h-6 w-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[s.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),s.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"font-semibold text-base",children:"Generating LLM Response..."}),s.jsx("div",{className:"text-sm opacity-80",children:"The AI is analyzing the tool results and composing a response"})]})]})})]}):s.jsxs("div",{className:"whitespace-pre-wrap",children:[An(W.content),W._attachments&&W._attachments.length>0&&s.jsx("div",{className:"flex flex-wrap gap-2 mt-3",children:W._attachments.filter(ae=>ae&&ae.name).map((ae,ut)=>s.jsx("div",{className:"bg-white/20 dark:bg-gray-700/30 rounded-lg overflow-hidden border border-white/30 dark:border-gray-600",children:ae.preview?s.jsx("img",{src:ae.preview,alt:ae.name,className:"w-32 h-32 object-cover cursor-pointer hover:opacity-80 transition-opacity",title:`${ae.name} (${(ae.size/1024).toFixed(1)} KB)`,onClick:()=>window.open(ae.preview,"_blank")}):s.jsxs("div",{className:"w-32 h-32 flex flex-col items-center justify-center p-2 bg-red-50 dark:bg-red-900/20",children:[s.jsxs("svg",{className:"w-8 h-8 text-red-600 dark:text-red-400 mb-2",fill:"currentColor",viewBox:"0 0 24 24",children:[s.jsx("path",{d:"M14 2H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V8l-6-6zM6 20V4h7v5h5v11H6z"}),s.jsx("text",{x:"8",y:"16",fontSize:"8",fill:"currentColor",fontWeight:"bold",children:"PDF"})]}),s.jsx("span",{className:"text-xs text-center text-gray-700 dark:text-gray-300 font-medium truncate max-w-full px-1",children:ae.name})]})},ut))}),(console.log(" Checking imageGenerations:",{hasImageGenerations:!!W.imageGenerations,length:W.imageGenerations?.length,imageGenerations:W.imageGenerations}),null),W.imageGenerations&&W.imageGenerations.length>0&&s.jsx("div",{className:"mt-3",children:(console.log(" About to render imageGenerations:",W.imageGenerations),W.imageGenerations.map(ae=>(console.log(" Mapping imageGen:",ae),s.jsx(gTe,{data:ae,accessToken:o,providerApiKeys:Bt,onCopy:ut=>{navigator.clipboard.writeText(ut).then(()=>{w(i("chat.copiedToClipboard"))}).catch(()=>{v("Failed to copy")})},onGrab:ut=>{navigator.clipboard.writeText(ut).then(()=>{w(i("chat.copiedToClipboard"))}).catch(()=>{v("Failed to copy")})},onLlmInfo:()=>{ba(oe)},onStatusChange:(ut,Me,Ve,ke)=>{H(gt=>gt.map((ot,Fe)=>{if(ot.imageGenerations){const yt=ot.imageGenerations.map(na=>na.id===ut?{...na,status:Me,imageUrl:Ve,llmApiCall:ke}:na),Cr={...ot,imageGenerations:yt};return ke&&Fe===oe&&(Cr.llmApiCalls=[...ot.llmApiCalls||[],ke]),Cr}return ot}))}},ae.id))))})]}),W.role==="assistant"&&!G&&Rt>0&&oe===O.length-1&&s.jsx("div",{className:"mt-2 flex items-center justify-end",children:s.jsxs("div",{className:"inline-flex items-center gap-1 bg-green-50 dark:bg-green-900/20 border border-green-300 dark:border-green-700 text-green-700 dark:text-green-300 px-2 py-1 rounded text-xs",children:[s.jsx("svg",{className:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-11a1 1 0 10-2 0v2H7a1 1 0 100 2h2v2a1 1 0 102 0v-2h2a1 1 0 100-2h-2V7z",clipRule:"evenodd"})}),"Request cost: ",Ac(Rt),L&&s.jsxs("span",{className:"ml-1 opacity-75",children:["(Total: ",Ac(L.totalCost),")"]})]})}),W.role==="assistant"&&(W.content||W.llmApiCalls)&&s.jsxs("div",{className:"flex gap-2 mt-2 pt-2 border-t border-gray-200 dark:border-gray-600",children:[s.jsxs("button",{onClick:()=>{const ae=An(W.content);navigator.clipboard.writeText(ae).then(()=>{w(i("chat.copiedToClipboard"))}).catch(()=>{v("Failed to copy")})},className:"text-xs text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-100 flex items-center gap-1",title:"Copy to clipboard",children:[s.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})}),"Copy"]}),s.jsxs("button",{onClick:()=>{const ae=An(W.content),ut="Shared from LLM Proxy",Me=encodeURIComponent(ae);window.open(`https://mail.google.com/mail/?view=cm&fs=1&su=${encodeURIComponent(ut)}&body=${Me}`,"_blank")},className:"text-xs text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-100 flex items-center gap-1",title:"Share via Gmail",children:[s.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),"Gmail"]}),s.jsxs("button",{onClick:()=>Na(An(W.content),"assistant",void 0,W.extractedContent,W.toolResults),className:"text-xs text-blue-600 dark:text-blue-400 hover:text-blue-900 dark:hover:text-blue-100 flex items-center gap-1",title:"Capture to Swag",children:[s.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 11.5V14m0-2.5v-6a1.5 1.5 0 113 0m-3 6a1.5 1.5 0 00-3 0v2a7.5 7.5 0 0015 0v-5a1.5 1.5 0 00-3 0m-6-3V11m0-5.5v-1a1.5 1.5 0 013 0v1m0 0V11m0-5.5a1.5 1.5 0 013 0v3m0 0V11"})}),"Grab"]}),W.llmApiCalls&&W.llmApiCalls.length>0&&(()=>{let ae=0,ut=0;W.llmApiCalls.forEach(Ve=>{ae+=Ve.response?.usage?.prompt_tokens||0,ut+=Ve.response?.usage?.completion_tokens||0});const Me=ae+ut;return s.jsxs("button",{onClick:()=>ba(oe),className:"text-xs px-2 py-1 rounded bg-blue-50 dark:bg-blue-900/30 hover:bg-blue-100 dark:hover:bg-blue-900/50 flex items-center gap-1.5 transition-colors",title:`View LLM transparency info  ${Me.toLocaleString()} tokens (${ae.toLocaleString()} in, ${ut.toLocaleString()} out)  ${W.llmApiCalls.length} call${W.llmApiCalls.length!==1?"s":""}  ${da(Xo(W))}`,children:[s.jsxs("span",{className:"font-semibold text-green-600 dark:text-green-400",children:[" ",da(Xo(W))]}),s.jsxs("span",{className:"text-gray-600 dark:text-gray-400 hidden sm:inline",children:[" ",Me.toLocaleString()," token",Me!==1?"s":""," (",ae.toLocaleString()," in, ",ut.toLocaleString()," out)"]}),s.jsxs("span",{className:"text-gray-600 dark:text-gray-400 hidden lg:inline",children:[" ",W.llmApiCalls.length," call",W.llmApiCalls.length!==1?"s":""]}),s.jsx("span",{className:"ml-0.5",children:""})]})})(),!W.isStreaming&&s.jsxs(s.Fragment,{children:[s.jsx("button",{onClick:()=>To(oe),className:"text-xs px-2 py-1 rounded bg-green-50 dark:bg-green-900/30 hover:bg-green-100 dark:hover:bg-green-900/50 flex items-center gap-1 transition-colors",title:"Good response",children:""}),s.jsx("button",{onClick:()=>Qp(oe),className:"text-xs px-2 py-1 rounded bg-red-50 dark:bg-red-900/30 hover:bg-red-100 dark:hover:bg-red-900/50 flex items-center gap-1 transition-colors",title:"Bad response - report issue",children:""})]}),W.errorData&&An(W.content).startsWith(" Error:")&&!W.guardrailFailed&&s.jsxs("button",{onClick:()=>as(oe),className:"text-xs text-red-600 dark:text-red-400 hover:text-red-900 dark:hover:text-red-100 flex items-center gap-1",title:"View full error details",children:[s.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),"Error Info"]}),W.isRetryable&&(!W.retryCount||W.retryCount<3)&&s.jsxs("button",{onClick:()=>Yx(oe),disabled:G,className:"text-xs text-orange-600 dark:text-orange-400 hover:text-orange-900 dark:hover:text-orange-100 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-1",title:"Retry this request with full context",children:[s.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Try Again",(W.retryCount??0)>0&&s.jsxs("span",{className:"text-[10px] opacity-75",children:["(",(W.retryCount??0)+1,")"]})]})]}),W.role==="user"&&s.jsxs("div",{className:"flex gap-2 mt-2 pt-2 border-t border-gray-200 dark:border-gray-600",children:[s.jsxs("button",{onClick:()=>{ne(An(W.content)),H(O.slice(0,oe)),le([]),Ce("")},disabled:G,className:"text-xs text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-100 flex items-center gap-1 disabled:opacity-50 disabled:cursor-not-allowed",title:"Reset chat to this message",children:[s.jsxs("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",strokeWidth:"2",children:[s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 9l3-3m0 0l3 3m-3-3v12"}),s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 15l-3 3m0 0l-3-3",opacity:"0.3"})]}),"Reset"]}),s.jsxs("button",{onClick:()=>{Yi.current=!0,H(O.slice(0,oe)),le([]),Ce(""),ne(An(W.content))},disabled:G,className:"text-xs text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-100 flex items-center gap-1 disabled:opacity-50 disabled:cursor-not-allowed",title:"Retry this message (clears subsequent messages and resubmits)",children:[s.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",strokeWidth:"2",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9"})}),"Retry"]}),s.jsxs("button",{onClick:()=>Na(An(W.content),"user"),className:"text-xs text-blue-600 dark:text-blue-400 hover:text-blue-900 dark:hover:text-blue-100 flex items-center gap-1",title:"Capture to Swag",children:[s.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 11.5V14m0-2.5v-6a1.5 1.5 0 113 0m-3 6a1.5 1.5 0 00-3 0v2a7.5 7.5 0 0015 0v-5a1.5 1.5 0 00-3 0m-6-3V11m0-5.5v-1a1.5 1.5 0 013 0v1m0 0V11m0-5.5a1.5 1.5 0 013 0v3m0 0V11"})}),"Grab"]})]})]})]})},oe)}),G&&lt!==null&&s.jsx("div",{className:"flex justify-start",children:s.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 ml-2",children:[s.jsx("span",{className:"inline-block w-2 h-2 bg-blue-500 rounded-full animate-pulse mr-1"}),"streaming..."]})}),G&&!se&&Jt.length===0&&s.jsx("div",{className:"flex justify-start",children:s.jsx("div",{className:"bg-gray-200 dark:bg-gray-700 rounded-lg p-3",children:s.jsxs("div",{className:"flex gap-2",children:[s.jsx("div",{className:"w-2 h-2 bg-gray-500 rounded-full animate-bounce"}),s.jsx("div",{className:"w-2 h-2 bg-gray-500 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),s.jsx("div",{className:"w-2 h-2 bg-gray-500 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})})}),s.jsx("div",{ref:Aa})]}),s.jsx("div",{className:"md:px-4 py-4 border-t border-gray-200 dark:border-gray-700 space-y-3",children:s.jsxs(s.Fragment,{children:[s.jsx(wTe,{attachedFiles:Rr,onRemoveAttachment:Zp}),rr&&rr.total>0&&s.jsxs("div",{className:"mb-3 p-3 border border-yellow-200 dark:border-yellow-800 rounded bg-yellow-50 dark:bg-yellow-900/20",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2 text-yellow-900 dark:text-yellow-200 font-semibold text-sm",children:[s.jsx("span",{children:" Todos"}),s.jsxs("span",{className:"text-xs font-normal text-yellow-700 dark:text-yellow-300",children:[rr.total," total  ",rr.remaining," remaining"]}),Nt&&s.jsxs("span",{className:"ml-2 text-xs italic text-yellow-800 dark:text-yellow-300 animate-pulse",children:[" Continuing: ",Nt]})]}),s.jsx("button",{className:"text-xs text-yellow-800 dark:text-yellow-300 hover:underline focus:outline-none",onClick:()=>$e(W=>!W),children:Se?" Collapse":" Expand"})]}),s.jsxs("div",{className:"mt-1 text-sm text-gray-900 dark:text-gray-100",children:[s.jsx("span",{className:"font-medium",children:"Current:"})," ",rr.current?.description||""]}),Se&&s.jsx("ul",{className:"mt-2 max-h-48 overflow-y-auto text-sm divide-y divide-yellow-200 dark:divide-yellow-800 bg-white dark:bg-gray-800 rounded p-2",children:rr.items.map((W,oe)=>s.jsxs("li",{className:"py-1.5 flex items-start gap-2 text-gray-900 dark:text-gray-100",children:[s.jsx("span",{className:"mt-0.5 text-xs flex-shrink-0",children:W.status==="done"?"":W.status==="current"?"":""}),s.jsx("span",{className:`flex-1 ${W.status==="done"?"line-through opacity-60":""}`,children:W.description})]},String(W.id)||oe))})]}),ra&&wn&&s.jsxs("div",{className:"flex flex-col items-center gap-3 py-3 px-4",children:[s.jsx("div",{className:"bg-orange-50 dark:bg-orange-900/20 border-2 border-orange-400 dark:border-orange-600 rounded-lg p-4 max-w-2xl w-full",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("svg",{className:"w-6 h-6 text-orange-600 dark:text-orange-400 flex-shrink-0 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-semibold text-orange-900 dark:text-orange-100 mb-1",children:" Maximum Iteration Limit Reached"}),s.jsxs("p",{className:"text-sm text-orange-800 dark:text-orange-200 mb-2",children:["The conversation has reached the maximum number of tool execution iterations (",wn?.maxIterations||"?"," iterations). This limit prevents infinite loops and excessive API usage."]}),s.jsx("p",{className:"text-sm text-orange-800 dark:text-orange-200 font-medium",children:"Would you like to continue processing from where it stopped?"})]})]})}),s.jsxs("button",{onClick:()=>{confirm(` Continue processing?

This will resume tool execution and may incur additional API costs. The iteration limit helps prevent runaway processes.

Click OK to continue or Cancel to stop here.`)&&eE()},disabled:G,className:"bg-orange-600 hover:bg-orange-700 disabled:opacity-50 disabled:cursor-not-allowed text-white p-2 md:px-6 md:py-3 rounded-lg font-semibold text-base transition-all transform hover:scale-105 shadow-lg flex items-center gap-2",title:"Continue from where the iteration limit was reached","aria-label":i("chat.continueProcessing"),children:[s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 5l7 7-7 7M5 5l7 7-7 7"})}),s.jsx("span",{className:"hidden md:inline",children:i("chat.continueProcessing")})]})]}),s.jsxs("div",{className:"flex flex-col gap-2",children:[Xe.size>0&&s.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/30 border border-blue-200 dark:border-blue-800 rounded-lg p-2",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[s.jsx("span",{className:"text-sm font-medium text-blue-800 dark:text-blue-200",children:i("chat.snippetsAttached",{count:Xe.size,plural:Xe.size===1?"":"s"})}),s.jsxs("div",{className:"flex flex-wrap gap-1 flex-1 min-w-0",children:[Array.from(Xe).slice(0,3).map(W=>{const oe=x.find(He=>He.id===W);return oe?s.jsx("span",{className:"text-xs bg-blue-100 dark:bg-blue-800 text-blue-700 dark:text-blue-200 px-2 py-0.5 rounded truncate max-w-[200px]",title:oe.title||"Untitled",children:oe.title||"Untitled"},W):null}),Xe.size>3&&s.jsxs("span",{className:"text-xs text-blue-600 dark:text-blue-300",children:["+",Xe.size-3," more"]})]})]}),s.jsx("button",{onClick:()=>Lt(new Set),className:"ml-2 p-1 text-blue-600 dark:text-blue-300 hover:bg-blue-100 dark:hover:bg-blue-800 rounded transition-colors",title:i("chat.clearAttachedSnippets"),children:s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),s.jsx("textarea",{ref:si,value:V,onChange:W=>{ne(W.target.value),vs(-1)},onKeyDown:W=>{if(W.key==="Enter"&&!W.shiftKey)W.preventDefault(),Ic();else if(W.key==="ArrowUp"&&!W.shiftKey){if(W.preventDefault(),vo.length>0){const oe=Math.min(ii+1,vo.length-1);vs(oe),ne(vo[oe])}}else if(W.key==="ArrowDown"&&!W.shiftKey)if(W.preventDefault(),ii>0){const oe=ii-1;vs(oe),ne(vo[oe])}else ii===0&&(vs(-1),ne(""))},placeholder:i("chat.inputPlaceholder"),className:"input-field flex-1 resize-none overflow-y-auto",style:{minHeight:"2.5rem",maxHeight:"300px"},"aria-label":i("chat.chatMessageInput"),"aria-describedby":"chat-input-help"}),s.jsx("span",{id:"chat-input-help",className:"sr-only",children:"Type your message and press Enter to send. Use Shift+Enter for new line. Use up and down arrows to navigate message history."}),s.jsxs("div",{className:"flex gap-2 justify-between items-center",children:[s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{ref:Ki,type:"file",accept:"image/jpeg,image/jpg,image/png,image/gif,image/webp,application/pdf",multiple:!0,onChange:W=>lf(W.target.files),className:"hidden"}),s.jsx("button",{onClick:()=>Ki.current?.click(),disabled:G,className:"btn-secondary px-3 h-10 flex-shrink-0 disabled:opacity-50 disabled:cursor-not-allowed",title:"Attach images or PDFs",children:s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.172 7l-6.586 6.586a2 2 0 102.828 2.828l6.414-6.586a4 4 0 00-5.656-5.656l-6.415 6.585a6 6 0 108.486 8.486L20.5 13"})})}),s.jsx("button",{onClick:()=>Fr(!0),disabled:G||!o,className:"btn-secondary px-3 h-10 flex-shrink-0 disabled:opacity-50 disabled:cursor-not-allowed",title:o?"Voice input (speech-to-text)":"Please sign in to use voice input",children:s.jsxs("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:[s.jsx("path",{d:"M12 14c1.66 0 3-1.34 3-3V5c0-1.66-1.34-3-3-3S9 3.34 9 5v6c0 1.66 1.34 3 3 3z"}),s.jsx("path",{d:"M17 11c0 2.76-2.24 5-5 5s-5-2.24-5-5H5c0 3.53 2.61 6.43 6 6.92V21h2v-3.08c3.39-.49 6-3.39 6-6.92h-2z"})]})})]}),s.jsx("button",{onClick:()=>{G?Yu():V.trim()?Ic():si.current?.focus()},disabled:!G&&!o,className:"btn-primary p-2 md:px-4 md:py-2 h-10 flex-shrink-0 flex items-center gap-1.5",title:o?V.trim()?i("chat.sendMessage"):i("chat.typeMessageFirst"):i("chat.signInToSend"),"aria-label":i(G?"chat.stopGenerating":"chat.sendMessage"),children:G?s.jsxs(s.Fragment,{children:[s.jsx("span",{children:""}),s.jsx("span",{className:"hidden md:inline",children:i("chat.stop")})]}):V.trim()?s.jsxs(s.Fragment,{children:[s.jsx("span",{children:""}),s.jsx("span",{className:"hidden md:inline",children:i("chat.send")})]}):s.jsxs(s.Fragment,{children:[s.jsx("span",{children:""}),s.jsx("span",{className:"hidden md:inline",children:i("chat.typeMessage")})]})})]})]})]})}),ie&&s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:s.jsxs("div",{className:"card max-w-2xl w-full p-6",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-gray-100",children:i("chat.chatHistoryTitle")}),Qr.length>0&&s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("button",{onClick:cf,className:"btn-secondary text-xs px-3 py-1",children:[" ",i("chat.selectAll")]}),s.jsxs("button",{onClick:Xx,className:"btn-secondary text-xs px-3 py-1",children:[" ",i("chat.selectNone")]})]})]}),s.jsxs("div",{className:"space-y-3 max-h-[70vh] overflow-y-auto",children:[Qr.map(W=>{const oe=new Date(W.timestamp).toLocaleString(),He=Ee.has(W.id);return s.jsx("div",{className:`border ${He?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":"border-gray-300 dark:border-gray-600"} rounded-lg p-3`,children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("input",{type:"checkbox",checked:He,onChange:()=>Zx(W.id),className:"mt-1 w-4 h-4 text-blue-600 rounded focus:ring-2 focus:ring-blue-500"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("div",{className:"text-sm text-gray-900 dark:text-gray-100 font-medium mb-1 truncate",children:W.firstUserPrompt}),s.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:oe})]}),s.jsxs("div",{className:"flex gap-2 flex-shrink-0",children:[s.jsx("button",{onClick:()=>Vx(W),className:"btn-primary text-xs px-3 py-1",children:i("chat.load")}),s.jsx("button",{onClick:()=>Kx(W.id),className:"btn-secondary text-red-500 text-xs px-3 py-1",children:i("chat.delete")})]})]})},W.id)}),Qr.length===0&&s.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-center py-8",children:i("chat.noChatHistory")})]}),s.jsxs("div",{className:"flex gap-2 mt-4",children:[Ee.size>0&&s.jsxs("button",{onClick:Qx,className:"btn-secondary text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20",children:[" ",i("chat.deleteSelected")," (",Ee.size,")"]}),Qr.length>0&&s.jsxs("button",{onClick:()=>ge(!0),className:"btn-secondary text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20",children:[" ",i("chat.clearHistory")]}),s.jsx("button",{onClick:()=>he(!1),className:"btn-primary flex-1",children:i("chat.close")})]})]})}),ye&&s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:s.jsxs("div",{className:"card max-w-md w-full p-6",children:[s.jsxs("h3",{className:"text-xl font-bold mb-4 text-gray-900 dark:text-gray-100",children:[i("chat.clearHistory"),"?"]}),s.jsx("p",{className:"text-gray-700 dark:text-gray-300 mb-6",children:i("chat.confirmClearHistory")}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>ge(!1),className:"btn-secondary flex-1",children:i("chat.cancel")}),s.jsx("button",{onClick:Jx,className:"btn-primary flex-1 bg-red-600 hover:bg-red-700",children:i("chat.clearHistory")})]})]})}),r&&s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 p-4",children:s.jsxs("div",{className:"card max-w-2xl w-full max-h-[90vh] overflow-y-auto p-6",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:i("chat.mcpServerConfiguration")}),s.jsx("button",{onClick:()=>n(!1),className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:""})]}),s.jsxs("div",{className:"mb-6 p-4 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[s.jsxs("div",{className:"flex justify-between items-center mb-3",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:i("chat.addMCPServer")}),s.jsx("button",{onClick:()=>kr(!ar),className:"text-sm text-blue-600 dark:text-blue-400 hover:underline",children:ar?" Hide Examples":" Show Examples"})]}),ar&&s.jsxs("div",{className:"mb-4 p-3 bg-white dark:bg-gray-900 rounded border border-gray-300 dark:border-gray-600",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Quick Start Examples:"}),s.jsxs("select",{onChange:W=>{const oe=dr.find(He=>He.id===W.target.value);oe&&zt({name:oe.name,url:oe.url})},className:"input-field w-full mb-2",defaultValue:"",children:[s.jsx("option",{value:"",disabled:!0,children:"Select an example server..."}),s.jsx("optgroup",{label:" Sample Servers",children:dr.filter(W=>W.category==="Sample").map(W=>s.jsxs("option",{value:W.id,children:[W.name," - ",W.description]},W.id))}),s.jsx("optgroup",{label:" Official @modelcontextprotocol Servers",children:dr.filter(W=>W.category==="Official").map(W=>s.jsxs("option",{value:W.id,children:[W.name.replace("@modelcontextprotocol/server-","")," - ",W.description]},W.id))})]}),mt.name&&dr.find(W=>W.name===mt.name)&&s.jsxs("div",{className:"mt-2 p-2 bg-blue-50 dark:bg-blue-900/20 rounded text-sm",children:[s.jsx("p",{className:"font-semibold text-gray-900 dark:text-gray-100 mb-1",children:dr.find(W=>W.name===mt.name)?.name}),s.jsx("p",{className:"text-gray-700 dark:text-gray-300 mb-2",children:dr.find(W=>W.name===mt.name)?.description}),s.jsxs("div",{className:"mb-2",children:[s.jsx("span",{className:"font-medium text-gray-900 dark:text-gray-100",children:"Tools:"})," ",s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:dr.find(W=>W.name===mt.name)?.tools.join(", ")})]}),s.jsx("div",{className:"bg-gray-800 dark:bg-gray-950 text-gray-100 p-2 rounded font-mono text-xs whitespace-pre-wrap",children:dr.find(W=>W.name===mt.name)?.instructions})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("input",{type:"text",value:mt.name,onChange:W=>zt({...mt,name:W.target.value}),placeholder:i("chat.mcpServerNamePlaceholder"),className:"input-field w-full"}),s.jsx("input",{type:"text",value:mt.url,onChange:W=>zt({...mt,url:W.target.value}),placeholder:i("chat.mcpServerUrlPlaceholder"),className:"input-field w-full"}),s.jsxs("button",{onClick:tE,disabled:!mt.name.trim()||!mt.url.trim(),className:"btn-primary w-full",children:[" ",i("chat.addServer")]})]})]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-semibold mb-3 text-gray-900 dark:text-gray-100",children:[i("chat.mcpServers")," (",_t.length,")"]}),s.jsxs("div",{className:"space-y-2",children:[_t.map(W=>s.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[s.jsx("input",{type:"checkbox",checked:W.enabled,onChange:()=>rE(W.id),className:"w-5 h-5 text-blue-600 rounded focus:ring-2 focus:ring-blue-500"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"font-medium text-gray-900 dark:text-gray-100",children:W.name}),s.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:W.url})]}),s.jsx("button",{onClick:()=>nE(W.id),className:"text-red-500 hover:text-red-700 px-3 py-1",title:i("chat.remove"),children:""})]},W.id)),_t.length===0&&s.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-center py-4",children:i("chat.noMcpServers")})]})]}),s.jsx("div",{className:"mt-6 flex gap-2",children:s.jsx("button",{onClick:()=>n(!1),className:"btn-primary flex-1",children:i("common.done")})})]})}),s.jsx(Z6,{isOpen:pe,onClose:()=>Be(!1),onTransferToChat:W=>{Vu();try{const oe=JSON.parse(W);ne(oe.prompt),oe.persona&&I(oe.persona),oe.planningQuery&&Ke(oe.planningQuery),oe.generatedSystemPrompt&&Vt(oe.generatedSystemPrompt),oe.generatedUserQuery&&wt(oe.generatedUserQuery),console.log(" Transferred planning context to chat")}catch{ne(W)}Be(!1)}}),lr&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center p-4 z-50",children:s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-2xl w-full h-full max-w-6xl max-h-[95vh] overflow-hidden flex flex-col",children:[s.jsxs("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700 flex justify-between items-start",children:[s.jsxs("div",{className:"flex-1 pr-4",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:lr.result.title}),s.jsx("a",{href:lr.result.url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 dark:text-blue-400 hover:underline text-sm break-all",children:lr.result.url}),s.jsxs("div",{className:"mt-2 flex gap-3 text-xs text-gray-500 dark:text-gray-400",children:[s.jsxs("span",{children:[" ",(lr.result.content?.length/1024).toFixed(1)," KB"]}),lr.result.contentFormat&&s.jsxs("span",{children:[" ",lr.result.contentFormat]}),lr.result.images?.length>0&&s.jsxs("span",{children:[" ",lr.result.images.length," images"]}),lr.result.links?.length>0&&s.jsxs("span",{children:[" ",lr.result.links.length," links"]})]})]}),s.jsx("button",{onClick:()=>fa(null),className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 text-3xl leading-none","aria-label":i("chat.close"),children:""})]}),s.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-3",children:"Page Content"}),s.jsx("div",{className:"bg-gray-50 dark:bg-gray-900 rounded-lg p-4 border border-gray-200 dark:border-gray-700",children:lr.result.contentFormat==="markdown"?s.jsx(ou,{content:lr.result.content}):s.jsx("pre",{className:"whitespace-pre-wrap text-sm text-gray-700 dark:text-gray-300",children:lr.result.content})})]}),lr.result.images&&lr.result.images.length>0&&s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-3",children:["Images (",lr.result.images.length,")"]}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:lr.result.images.map((W,oe)=>s.jsxs("div",{className:"border border-gray-200 dark:border-gray-700 rounded overflow-hidden",children:[s.jsx("img",{src:W.src,alt:W.alt||`Image ${oe+1}`,className:"w-full h-32 object-cover",loading:"lazy"}),W.alt&&s.jsx("div",{className:"p-2 text-xs text-gray-600 dark:text-gray-400 bg-gray-50 dark:bg-gray-800",children:W.alt})]},oe))})]}),lr.result.links&&lr.result.links.length>0&&s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-3",children:["Links (",lr.result.links.length,")"]}),s.jsx("div",{className:"bg-gray-50 dark:bg-gray-900 rounded-lg p-4 border border-gray-200 dark:border-gray-700",children:s.jsxs("ul",{className:"space-y-2",children:[lr.result.links.slice(0,50).map((W,oe)=>s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-gray-500 dark:text-gray-400 text-xs mt-1",children:""}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("a",{href:W.href,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 dark:text-blue-400 hover:underline text-sm break-all",children:W.text||W.href}),W.context&&s.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-1 line-clamp-2",children:W.context})]})]},oe)),lr.result.links.length>50&&s.jsxs("li",{className:"text-xs text-gray-500 dark:text-gray-400 italic",children:["... and ",lr.result.links.length-50," more links"]})]})})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-3",children:" Full Scraped Data (JSON)"}),s.jsx("div",{className:"bg-gray-50 dark:bg-gray-900 rounded-lg p-4 border border-gray-200 dark:border-gray-700",children:s.jsx(Em,{data:{url:lr.result.url,title:lr.result.title,description:lr.result.description,snippet:lr.result.snippet,fullScrapedContent:lr.result.content,contentFormat:lr.result.contentFormat,summarizedContent:lr.result.summary||lr.result.description,links:lr.result.links||[],images:lr.result.images||[],youtubeLinks:lr.result.youtube||lr.result.videos||[],otherMedia:lr.result.media||lr.result.audio||[],metadata:{contentLength:lr.result.content?.length||0,linkCount:lr.result.links?.length||0,imageCount:lr.result.images?.length||0,youtubeCount:(lr.result.youtube||lr.result.videos||[]).length,mediaCount:(lr.result.media||lr.result.audio||[]).length}},expanded:!1})})]})]})}),s.jsx("div",{className:"p-4 border-t border-gray-200 dark:border-gray-700 flex justify-end",children:s.jsx("button",{onClick:()=>fa(null),className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Close"})})]})}),en&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center p-4 z-50",children:s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-2xl w-full h-full max-w-6xl max-h-[95vh] overflow-hidden flex flex-col",children:[s.jsxs("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700 flex justify-between items-start",children:[s.jsxs("div",{className:"flex-1 pr-4",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:"Raw HTML Content"}),s.jsx("a",{href:en.url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 dark:text-blue-400 hover:underline text-sm break-all",children:en.url}),s.jsxs("div",{className:"mt-2 flex gap-3 text-xs text-gray-500 dark:text-gray-400",children:[s.jsxs("span",{children:[" ",(en.html.length/1024).toFixed(1)," KB uncompressed"]}),s.jsx("span",{children:" Raw HTML"})]})]}),s.jsx("button",{onClick:()=>cn(null),className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 text-3xl leading-none","aria-label":i("chat.close"),children:""})]}),s.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:s.jsx("div",{className:"bg-gray-50 dark:bg-gray-900 rounded-lg p-4 border border-gray-200 dark:border-gray-700",children:s.jsx("pre",{className:"whitespace-pre-wrap text-xs text-gray-700 dark:text-gray-300 font-mono",children:en.html})})}),s.jsxs("div",{className:"p-4 border-t border-gray-200 dark:border-gray-700 flex justify-end gap-3",children:[s.jsx("button",{onClick:()=>{navigator.clipboard.writeText(en.html)},className:"px-6 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:" Copy to Clipboard"}),s.jsx("button",{onClick:()=>cn(null),className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Close"})]})]})}),Ba!==null&&O[Ba]?.llmApiCalls&&s.jsx(G$,{apiCalls:O[Ba].llmApiCalls,onClose:()=>ba(null)}),ns!==null&&O[ns]?.errorData&&s.jsx(pTe,{errorData:O[ns].errorData,llmApiCalls:O[ns].llmApiCalls,onClose:()=>as(null)}),Es!==null&&s.jsx(hTe,{isOpen:!0,onClose:()=>Pt(null),messageData:{messageId:`message-${Es}`,messageContent:An(O[Es].content),llmApiCalls:O[Es].llmApiCalls||[],evaluations:O[Es].evaluations||[],conversationThread:O}}),s.jsx(X6,{isOpen:Dt,onClose:()=>Fr(!1),onTranscriptionComplete:Xi,accessToken:o,apiEndpoint:yn}),s.jsx(vTe,{isOpen:Ft,onClose:()=>Ct(!1),onExampleClick:Kp,location:z,locationLoading:K,requestLocation:X,clearLocation:Q}),je&&s.jsx(GTe,{messages:O.map(W=>({role:W.role,content:typeof W.content=="string"?W.content:JSON.stringify(W.content),timestamp:Date.now()})),onClose:()=>it(!1),title:P||void 0}),Ir&&s.jsx("div",{className:"fixed bottom-0 left-0 right-0 h-2/3 z-40 bg-white dark:bg-gray-800 shadow-2xl border-t border-gray-300 dark:border-gray-600 overflow-hidden",children:s.jsxs("div",{className:"h-full flex flex-col",children:[s.jsxs("div",{className:"flex items-center justify-between px-4 py-2 bg-gray-100 dark:bg-gray-700 border-b border-gray-200 dark:border-gray-600",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:i("chat.attachContextTitle")}),s.jsx("button",{onClick:()=>un(!1),className:"p-2 text-gray-600 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-600 rounded transition-colors",title:"Close Snippet Selector",children:s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),s.jsx("div",{className:"flex-1 overflow-hidden",children:s.jsx(bTe,{selectedSnippetIds:Xe,onSelectionChange:Lt,userEmail:l?.email})})]})}),ve&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] flex flex-col",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 truncate",children:"Raw HTML"}),ve.url&&s.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 truncate mt-1",children:ve.url})]}),s.jsx("button",{onClick:()=>nt(null),className:"ml-4 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),s.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:s.jsxs("div",{className:"relative",children:[s.jsx("button",{onClick:()=>{navigator.clipboard.writeText(ve.html)},className:"absolute top-2 right-2 px-3 py-1 bg-purple-600 hover:bg-purple-700 text-white text-xs rounded",children:"Copy"}),s.jsx("pre",{className:"bg-gray-50 dark:bg-gray-900 p-4 rounded border border-gray-200 dark:border-gray-700 overflow-x-auto",children:s.jsx("code",{className:"text-xs text-gray-800 dark:text-gray-200 font-mono whitespace-pre",children:ve.html})})]})}),s.jsx("div",{className:"p-4 border-t border-gray-200 dark:border-gray-700 flex justify-end",children:s.jsx("button",{onClick:()=>nt(null),className:"px-4 py-2 bg-gray-200 dark:bg-gray-700 text-gray-900 dark:text-gray-100 rounded hover:bg-gray-300 dark:hover:bg-gray-600",children:"Close"})})]})})]})},KTe=()=>{const e=ni(),t=()=>{e("/")},r=n=>{console.log(" PlanningPage - Transferring to chat with query:",n.substring(0,100)),sessionStorage.setItem("planning_transfer_data",n),e("/")};return s.jsx("div",{className:"flex flex-col h-full",children:s.jsx(Z6,{isOpen:!0,onClose:t,onTransferToChat:r})})};function Wr(){return Wr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Wr.apply(null,arguments)}function vm(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function qd(e){return"children"in e?aH(e):"value"in e?e.value:""}function QTe(e){return e.type==="text"?e.value:"children"in e?aH(e):""}function aH(e){let t=-1;const r=[];for(;++t<e.children.length;)r[t]=QTe(e.children[t]);return r.join("")}const XTe={}.hasOwnProperty;function ZTe(e,t,r){const n=Rp(t),a=t&&typeof t=="object"&&"cascade"in t?t.cascade:void 0,i=a??!0;return o(e);function o(l,u,d){const h=[];if(!n(l,u,d))return;if(JTe(l)){let b=-1;for(;++b<l.children.length;){const x=o(l.children[b],b,l);x&&h.push(x)}if(i&&l.children.length>0&&h.length===0)return}const g={};let f;for(f in l)XTe.call(l,f)&&(g[f]=f==="children"?h:l[f]);return g}}function JTe(e){return"children"in e&&e.children!==void 0}var z0={exports:{}},LP;function ewe(){return LP||(LP=1,(function(e,t){function r(n){let a=[],i;for(let o of n.split(",").map(l=>l.trim()))if(/^-?\d+$/.test(o))a.push(parseInt(o,10));else if(i=o.match(/^(-?\d+)(-|\.\.\.?|\u2025|\u2026|\u22EF)(-?\d+)$/)){let[l,u,d,h]=i;if(u&&h){u=parseInt(u),h=parseInt(h);const g=u<h?1:-1;(d==="-"||d===".."||d==="")&&(h+=g);for(let f=u;f!==h;f+=g)a.push(f)}}return a}t.default=r,e.exports=r})(z0,z0.exports)),z0.exports}var twe=ewe();const rwe=Al(twe);Kr.displayName="clike";Kr.aliases=[];function Kr(e){e.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/}}yo.displayName="c";yo.aliases=[];function yo(e){e.register(Kr),e.languages.c=e.languages.extend("clike",{comment:{pattern:/\/\/(?:[^\r\n\\]|\\(?:\r\n?|\n|(?![\r\n])))*|\/\*[\s\S]*?(?:\*\/|$)/,greedy:!0},string:{pattern:/"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"/,greedy:!0},"class-name":{pattern:/(\b(?:enum|struct)\s+(?:__attribute__\s*\(\([\s\S]*?\)\)\s*)?)\w+|\b[a-z]\w*_t\b/,lookbehind:!0},keyword:/\b(?:_Alignas|_Alignof|_Atomic|_Bool|_Complex|_Generic|_Imaginary|_Noreturn|_Static_assert|_Thread_local|__attribute__|asm|auto|break|case|char|const|continue|default|do|double|else|enum|extern|float|for|goto|if|inline|int|long|register|return|short|signed|sizeof|static|struct|switch|typedef|typeof|union|unsigned|void|volatile|while)\b/,function:/\b[a-z_]\w*(?=\s*\()/i,number:/(?:\b0x(?:[\da-f]+(?:\.[\da-f]*)?|\.[\da-f]+)(?:p[+-]?\d+)?|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?)[ful]{0,4}/i,operator:/>>=?|<<=?|->|([-+&|:])\1|[?:~]|[-+*/%&|^!=<>]=?/}),e.languages.insertBefore("c","string",{char:{pattern:/'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n]){0,32}'/,greedy:!0}}),e.languages.insertBefore("c","string",{macro:{pattern:/(^[\t ]*)#\s*[a-z](?:[^\r\n\\/]|\/(?!\*)|\/\*(?:[^*]|\*(?!\/))*\*\/|\\(?:\r\n|[\s\S]))*/im,lookbehind:!0,greedy:!0,alias:"property",inside:{string:[{pattern:/^(#\s*include\s*)<[^>]+>/,lookbehind:!0},e.languages.c.string],char:e.languages.c.char,comment:e.languages.c.comment,"macro-name":[{pattern:/(^#\s*define\s+)\w+\b(?!\()/i,lookbehind:!0},{pattern:/(^#\s*define\s+)\w+\b(?=\()/i,lookbehind:!0,alias:"function"}],directive:{pattern:/^(#\s*)[a-z]+/,lookbehind:!0,alias:"keyword"},"directive-hash":/^#/,punctuation:/##|\\(?=[\r\n])/,expression:{pattern:/\S[\s\S]*/,inside:e.languages.c}}}}),e.languages.insertBefore("c","function",{constant:/\b(?:EOF|NULL|SEEK_CUR|SEEK_END|SEEK_SET|__DATE__|__FILE__|__LINE__|__TIMESTAMP__|__TIME__|__func__|stderr|stdin|stdout)\b/}),delete e.languages.c.boolean}ju.displayName="cpp";ju.aliases=[];function ju(e){e.register(yo),(function(t){var r=/\b(?:alignas|alignof|asm|auto|bool|break|case|catch|char|char16_t|char32_t|char8_t|class|co_await|co_return|co_yield|compl|concept|const|const_cast|consteval|constexpr|constinit|continue|decltype|default|delete|do|double|dynamic_cast|else|enum|explicit|export|extern|final|float|for|friend|goto|if|import|inline|int|int16_t|int32_t|int64_t|int8_t|long|module|mutable|namespace|new|noexcept|nullptr|operator|override|private|protected|public|register|reinterpret_cast|requires|return|short|signed|sizeof|static|static_assert|static_cast|struct|switch|template|this|thread_local|throw|try|typedef|typeid|typename|uint16_t|uint32_t|uint64_t|uint8_t|union|unsigned|using|virtual|void|volatile|wchar_t|while)\b/,n=/\b(?!<keyword>)\w+(?:\s*\.\s*\w+)*\b/.source.replace(/<keyword>/g,function(){return r.source});t.languages.cpp=t.languages.extend("c",{"class-name":[{pattern:RegExp(/(\b(?:class|concept|enum|struct|typename)\s+)(?!<keyword>)\w+/.source.replace(/<keyword>/g,function(){return r.source})),lookbehind:!0},/\b[A-Z]\w*(?=\s*::\s*\w+\s*\()/,/\b[A-Z_]\w*(?=\s*::\s*~\w+\s*\()/i,/\b\w+(?=\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>\s*::\s*\w+\s*\()/],keyword:r,number:{pattern:/(?:\b0b[01']+|\b0x(?:[\da-f']+(?:\.[\da-f']*)?|\.[\da-f']+)(?:p[+-]?[\d']+)?|(?:\b[\d']+(?:\.[\d']*)?|\B\.[\d']+)(?:e[+-]?[\d']+)?)[ful]{0,4}/i,greedy:!0},operator:/>>=?|<<=?|->|--|\+\+|&&|\|\||[?:~]|<=>|[-+*/%&|^!=<>]=?|\b(?:and|and_eq|bitand|bitor|not|not_eq|or|or_eq|xor|xor_eq)\b/,boolean:/\b(?:false|true)\b/}),t.languages.insertBefore("cpp","string",{module:{pattern:RegExp(/(\b(?:import|module)\s+)/.source+"(?:"+/"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|<[^<>\r\n]*>/.source+"|"+/<mod-name>(?:\s*:\s*<mod-name>)?|:\s*<mod-name>/.source.replace(/<mod-name>/g,function(){return n})+")"),lookbehind:!0,greedy:!0,inside:{string:/^[<"][\s\S]+/,operator:/:/,punctuation:/\./}},"raw-string":{pattern:/R"([^()\\ ]{0,16})\([\s\S]*?\)\1"/,alias:"string",greedy:!0}}),t.languages.insertBefore("cpp","keyword",{"generic-function":{pattern:/\b(?!operator\b)[a-z_]\w*\s*<(?:[^<>]|<[^<>]*>)*>(?=\s*\()/i,inside:{function:/^\w+/,generic:{pattern:/<[\s\S]+/,alias:"class-name",inside:t.languages.cpp}}}}),t.languages.insertBefore("cpp","operator",{"double-colon":{pattern:/::/,alias:"punctuation"}}),t.languages.insertBefore("cpp","class-name",{"base-clause":{pattern:/(\b(?:class|struct)\s+\w+\s*:\s*)[^;{}"'\s]+(?:\s+[^;{}"'\s]+)*(?=\s*[;{])/,lookbehind:!0,greedy:!0,inside:t.languages.extend("cpp",{})}}),t.languages.insertBefore("inside","double-colon",{"class-name":/\b[a-z_]\w*\b(?!\s*::)/i},t.languages.cpp["base-clause"])})(e)}xx.displayName="arduino";xx.aliases=["ino"];function xx(e){e.register(ju),e.languages.arduino=e.languages.extend("cpp",{keyword:/\b(?:String|array|bool|boolean|break|byte|case|catch|continue|default|do|double|else|finally|for|function|goto|if|in|instanceof|int|integer|long|loop|new|null|return|setup|string|switch|throw|try|void|while|word)\b/,constant:/\b(?:ANALOG_MESSAGE|DEFAULT|DIGITAL_MESSAGE|EXTERNAL|FIRMATA_STRING|HIGH|INPUT|INPUT_PULLUP|INTERNAL|INTERNAL1V1|INTERNAL2V56|LED_BUILTIN|LOW|OUTPUT|REPORT_ANALOG|REPORT_DIGITAL|SET_PIN_MODE|SYSEX_START|SYSTEM_RESET)\b/,builtin:/\b(?:Audio|BSSID|Bridge|Client|Console|EEPROM|Esplora|EsploraTFT|Ethernet|EthernetClient|EthernetServer|EthernetUDP|File|FileIO|FileSystem|Firmata|GPRS|GSM|GSMBand|GSMClient|GSMModem|GSMPIN|GSMScanner|GSMServer|GSMVoiceCall|GSM_SMS|HttpClient|IPAddress|IRread|Keyboard|KeyboardController|LiquidCrystal|LiquidCrystal_I2C|Mailbox|Mouse|MouseController|PImage|Process|RSSI|RobotControl|RobotMotor|SD|SPI|SSID|Scheduler|Serial|Server|Servo|SoftwareSerial|Stepper|Stream|TFT|Task|USBHost|WiFi|WiFiClient|WiFiServer|WiFiUDP|Wire|YunClient|YunServer|abs|addParameter|analogRead|analogReadResolution|analogReference|analogWrite|analogWriteResolution|answerCall|attach|attachGPRS|attachInterrupt|attached|autoscroll|available|background|beep|begin|beginPacket|beginSD|beginSMS|beginSpeaker|beginTFT|beginTransmission|beginWrite|bit|bitClear|bitRead|bitSet|bitWrite|blink|blinkVersion|buffer|changePIN|checkPIN|checkPUK|checkReg|circle|cityNameRead|cityNameWrite|clear|clearScreen|click|close|compassRead|config|connect|connected|constrain|cos|countryNameRead|countryNameWrite|createChar|cursor|debugPrint|delay|delayMicroseconds|detach|detachInterrupt|digitalRead|digitalWrite|disconnect|display|displayLogos|drawBMP|drawCompass|encryptionType|end|endPacket|endSMS|endTransmission|endWrite|exists|exitValue|fill|find|findUntil|flush|gatewayIP|get|getAsynchronously|getBand|getButton|getCurrentCarrier|getIMEI|getKey|getModifiers|getOemKey|getPINUsed|getResult|getSignalStrength|getSocket|getVoiceCallStatus|getXChange|getYChange|hangCall|height|highByte|home|image|interrupts|isActionDone|isDirectory|isListening|isPIN|isPressed|isValid|keyPressed|keyReleased|keyboardRead|knobRead|leftToRight|line|lineFollowConfig|listen|listenOnLocalhost|loadImage|localIP|lowByte|macAddress|maintain|map|max|messageAvailable|micros|millis|min|mkdir|motorsStop|motorsWrite|mouseDragged|mouseMoved|mousePressed|mouseReleased|move|noAutoscroll|noBlink|noBuffer|noCursor|noDisplay|noFill|noInterrupts|noListenOnLocalhost|noStroke|noTone|onReceive|onRequest|open|openNextFile|overflow|parseCommand|parseFloat|parseInt|parsePacket|pauseMode|peek|pinMode|playFile|playMelody|point|pointTo|position|pow|prepare|press|print|printFirmwareVersion|printVersion|println|process|processInput|pulseIn|put|random|randomSeed|read|readAccelerometer|readBlue|readButton|readBytes|readBytesUntil|readGreen|readJoystickButton|readJoystickSwitch|readJoystickX|readJoystickY|readLightSensor|readMessage|readMicrophone|readNetworks|readRed|readSlider|readString|readStringUntil|readTemperature|ready|rect|release|releaseAll|remoteIP|remoteNumber|remotePort|remove|requestFrom|retrieveCallingNumber|rewindDirectory|rightToLeft|rmdir|robotNameRead|robotNameWrite|run|runAsynchronously|runShellCommand|runShellCommandAsynchronously|running|scanNetworks|scrollDisplayLeft|scrollDisplayRight|seek|sendAnalog|sendDigitalPortPair|sendDigitalPorts|sendString|sendSysex|serialEvent|setBand|setBitOrder|setClockDivider|setCursor|setDNS|setDataMode|setFirmwareVersion|setMode|setPINUsed|setSpeed|setTextSize|setTimeout|shiftIn|shiftOut|shutdown|sin|size|sqrt|startLoop|step|stop|stroke|subnetMask|switchPIN|tan|tempoWrite|text|tone|transfer|tuneWrite|turn|updateIR|userNameRead|userNameWrite|voiceCall|waitContinue|width|write|writeBlue|writeGreen|writeJSON|writeMessage|writeMicroseconds|writeRGB|writeRed|yield)\b/}),e.languages.ino=e.languages.arduino}Vm.displayName="bash";Vm.aliases=["sh","shell"];function Vm(e){(function(t){var r="\\b(?:BASH|BASHOPTS|BASH_ALIASES|BASH_ARGC|BASH_ARGV|BASH_CMDS|BASH_COMPLETION_COMPAT_DIR|BASH_LINENO|BASH_REMATCH|BASH_SOURCE|BASH_VERSINFO|BASH_VERSION|COLORTERM|COLUMNS|COMP_WORDBREAKS|DBUS_SESSION_BUS_ADDRESS|DEFAULTS_PATH|DESKTOP_SESSION|DIRSTACK|DISPLAY|EUID|GDMSESSION|GDM_LANG|GNOME_KEYRING_CONTROL|GNOME_KEYRING_PID|GPG_AGENT_INFO|GROUPS|HISTCONTROL|HISTFILE|HISTFILESIZE|HISTSIZE|HOME|HOSTNAME|HOSTTYPE|IFS|INSTANCE|JOB|LANG|LANGUAGE|LC_ADDRESS|LC_ALL|LC_IDENTIFICATION|LC_MEASUREMENT|LC_MONETARY|LC_NAME|LC_NUMERIC|LC_PAPER|LC_TELEPHONE|LC_TIME|LESSCLOSE|LESSOPEN|LINES|LOGNAME|LS_COLORS|MACHTYPE|MAILCHECK|MANDATORY_PATH|NO_AT_BRIDGE|OLDPWD|OPTERR|OPTIND|ORBIT_SOCKETDIR|OSTYPE|PAPERSIZE|PATH|PIPESTATUS|PPID|PS1|PS2|PS3|PS4|PWD|RANDOM|REPLY|SECONDS|SELINUX_INIT|SESSION|SESSIONTYPE|SESSION_MANAGER|SHELL|SHELLOPTS|SHLVL|SSH_AUTH_SOCK|TERM|UID|UPSTART_EVENTS|UPSTART_INSTANCE|UPSTART_JOB|UPSTART_SESSION|USER|WINDOWID|XAUTHORITY|XDG_CONFIG_DIRS|XDG_CURRENT_DESKTOP|XDG_DATA_DIRS|XDG_GREETER_DATA_DIR|XDG_MENU_PREFIX|XDG_RUNTIME_DIR|XDG_SEAT|XDG_SEAT_PATH|XDG_SESSION_DESKTOP|XDG_SESSION_ID|XDG_SESSION_PATH|XDG_SESSION_TYPE|XDG_VTNR|XMODIFIERS)\\b",n={pattern:/(^(["']?)\w+\2)[ \t]+\S.*/,lookbehind:!0,alias:"punctuation",inside:null},a={bash:n,environment:{pattern:RegExp("\\$"+r),alias:"constant"},variable:[{pattern:/\$?\(\([\s\S]+?\)\)/,greedy:!0,inside:{variable:[{pattern:/(^\$\(\([\s\S]+)\)\)/,lookbehind:!0},/^\$\(\(/],number:/\b0x[\dA-Fa-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:[Ee]-?\d+)?/,operator:/--|\+\+|\*\*=?|<<=?|>>=?|&&|\|\||[=!+\-*/%<>^&|]=?|[?~:]/,punctuation:/\(\(?|\)\)?|,|;/}},{pattern:/\$\((?:\([^)]+\)|[^()])+\)|`[^`]+`/,greedy:!0,inside:{variable:/^\$\(|^`|\)$|`$/}},{pattern:/\$\{[^}]+\}/,greedy:!0,inside:{operator:/:[-=?+]?|[!\/]|##?|%%?|\^\^?|,,?/,punctuation:/[\[\]]/,environment:{pattern:RegExp("(\\{)"+r),lookbehind:!0,alias:"constant"}}},/\$(?:\w+|[#?*!@$])/],entity:/\\(?:[abceEfnrtv\\"]|O?[0-7]{1,3}|U[0-9a-fA-F]{8}|u[0-9a-fA-F]{4}|x[0-9a-fA-F]{1,2})/};t.languages.bash={shebang:{pattern:/^#!\s*\/.*/,alias:"important"},comment:{pattern:/(^|[^"{\\$])#.*/,lookbehind:!0},"function-name":[{pattern:/(\bfunction\s+)[\w-]+(?=(?:\s*\(?:\s*\))?\s*\{)/,lookbehind:!0,alias:"function"},{pattern:/\b[\w-]+(?=\s*\(\s*\)\s*\{)/,alias:"function"}],"for-or-select":{pattern:/(\b(?:for|select)\s+)\w+(?=\s+in\s)/,alias:"variable",lookbehind:!0},"assign-left":{pattern:/(^|[\s;|&]|[<>]\()\w+(?:\.\w+)*(?=\+?=)/,inside:{environment:{pattern:RegExp("(^|[\\s;|&]|[<>]\\()"+r),lookbehind:!0,alias:"constant"}},alias:"variable",lookbehind:!0},parameter:{pattern:/(^|\s)-{1,2}(?:\w+:[+-]?)?\w+(?:\.\w+)*(?=[=\s]|$)/,alias:"variable",lookbehind:!0},string:[{pattern:/((?:^|[^<])<<-?\s*)(\w+)\s[\s\S]*?(?:\r?\n|\r)\2/,lookbehind:!0,greedy:!0,inside:a},{pattern:/((?:^|[^<])<<-?\s*)(["'])(\w+)\2\s[\s\S]*?(?:\r?\n|\r)\3/,lookbehind:!0,greedy:!0,inside:{bash:n}},{pattern:/(^|[^\\](?:\\\\)*)"(?:\\[\s\S]|\$\([^)]+\)|\$(?!\()|`[^`]+`|[^"\\`$])*"/,lookbehind:!0,greedy:!0,inside:a},{pattern:/(^|[^$\\])'[^']*'/,lookbehind:!0,greedy:!0},{pattern:/\$'(?:[^'\\]|\\[\s\S])*'/,greedy:!0,inside:{entity:a.entity}}],environment:{pattern:RegExp("\\$?"+r),alias:"constant"},variable:a.variable,function:{pattern:/(^|[\s;|&]|[<>]\()(?:add|apropos|apt|apt-cache|apt-get|aptitude|aspell|automysqlbackup|awk|basename|bash|bc|bconsole|bg|bzip2|cal|cargo|cat|cfdisk|chgrp|chkconfig|chmod|chown|chroot|cksum|clear|cmp|column|comm|composer|cp|cron|crontab|csplit|curl|cut|date|dc|dd|ddrescue|debootstrap|df|diff|diff3|dig|dir|dircolors|dirname|dirs|dmesg|docker|docker-compose|du|egrep|eject|env|ethtool|expand|expect|expr|fdformat|fdisk|fg|fgrep|file|find|fmt|fold|format|free|fsck|ftp|fuser|gawk|git|gparted|grep|groupadd|groupdel|groupmod|groups|grub-mkconfig|gzip|halt|head|hg|history|host|hostname|htop|iconv|id|ifconfig|ifdown|ifup|import|install|ip|java|jobs|join|kill|killall|less|link|ln|locate|logname|logrotate|look|lpc|lpr|lprint|lprintd|lprintq|lprm|ls|lsof|lynx|make|man|mc|mdadm|mkconfig|mkdir|mke2fs|mkfifo|mkfs|mkisofs|mknod|mkswap|mmv|more|most|mount|mtools|mtr|mutt|mv|nano|nc|netstat|nice|nl|node|nohup|notify-send|npm|nslookup|op|open|parted|passwd|paste|pathchk|ping|pkill|pnpm|podman|podman-compose|popd|pr|printcap|printenv|ps|pushd|pv|quota|quotacheck|quotactl|ram|rar|rcp|reboot|remsync|rename|renice|rev|rm|rmdir|rpm|rsync|scp|screen|sdiff|sed|sendmail|seq|service|sftp|sh|shellcheck|shuf|shutdown|sleep|slocate|sort|split|ssh|stat|strace|su|sudo|sum|suspend|swapon|sync|sysctl|tac|tail|tar|tee|time|timeout|top|touch|tr|traceroute|tsort|tty|umount|uname|unexpand|uniq|units|unrar|unshar|unzip|update-grub|uptime|useradd|userdel|usermod|users|uudecode|uuencode|v|vcpkg|vdir|vi|vim|virsh|vmstat|wait|watch|wc|wget|whereis|which|who|whoami|write|xargs|xdg-open|yarn|yes|zenity|zip|zsh|zypper)(?=$|[)\s;|&])/,lookbehind:!0},keyword:{pattern:/(^|[\s;|&]|[<>]\()(?:case|do|done|elif|else|esac|fi|for|function|if|in|select|then|until|while)(?=$|[)\s;|&])/,lookbehind:!0},builtin:{pattern:/(^|[\s;|&]|[<>]\()(?:\.|:|alias|bind|break|builtin|caller|cd|command|continue|declare|echo|enable|eval|exec|exit|export|getopts|hash|help|let|local|logout|mapfile|printf|pwd|read|readarray|readonly|return|set|shift|shopt|source|test|times|trap|type|typeset|ulimit|umask|unalias|unset)(?=$|[)\s;|&])/,lookbehind:!0,alias:"class-name"},boolean:{pattern:/(^|[\s;|&]|[<>]\()(?:false|true)(?=$|[)\s;|&])/,lookbehind:!0},"file-descriptor":{pattern:/\B&\d\b/,alias:"important"},operator:{pattern:/\d?<>|>\||\+=|=[=~]?|!=?|<<[<-]?|[&\d]?>>|\d[<>]&?|[<>][&=]?|&[>&]?|\|[&|]?/,inside:{"file-descriptor":{pattern:/^\d/,alias:"important"}}},punctuation:/\$?\(\(?|\)\)?|\.\.|[{}[\];\\]/,number:{pattern:/(^|\s)(?:[1-9]\d*|0)(?:[.,]\d+)?\b/,lookbehind:!0}},n.inside=t.languages.bash;for(var i=["comment","function-name","for-or-select","assign-left","parameter","string","environment","function","keyword","builtin","boolean","file-descriptor","operator","punctuation","number"],o=a.variable[1].inside,l=0;l<i.length;l++)o[i[l]]=t.languages.bash[i[l]];t.languages.sh=t.languages.bash,t.languages.shell=t.languages.bash})(e)}Fu.displayName="csharp";Fu.aliases=["cs","dotnet"];function Fu(e){e.register(Kr),(function(t){function r(P,I){return P.replace(/<<(\d+)>>/g,function(G,F){return"(?:"+I[+F]+")"})}function n(P,I,G){return RegExp(r(P,I),"")}function a(P,I){for(var G=0;G<I;G++)P=P.replace(/<<self>>/g,function(){return"(?:"+P+")"});return P.replace(/<<self>>/g,"[^\\s\\S]")}var i={type:"bool byte char decimal double dynamic float int long object sbyte short string uint ulong ushort var void",typeDeclaration:"class enum interface record struct",contextual:"add alias and ascending async await by descending from(?=\\s*(?:\\w|$)) get global group into init(?=\\s*;) join let nameof not notnull on or orderby partial remove select set unmanaged value when where with(?=\\s*{)",other:"abstract as base break case catch checked const continue default delegate do else event explicit extern finally fixed for foreach goto if implicit in internal is lock namespace new null operator out override params private protected public readonly ref return sealed sizeof stackalloc static switch this throw try typeof unchecked unsafe using virtual volatile while yield"};function o(P){return"\\b(?:"+P.trim().replace(/ /g,"|")+")\\b"}var l=o(i.typeDeclaration),u=RegExp(o(i.type+" "+i.typeDeclaration+" "+i.contextual+" "+i.other)),d=o(i.typeDeclaration+" "+i.contextual+" "+i.other),h=o(i.type+" "+i.typeDeclaration+" "+i.other),g=a(/<(?:[^<>;=+\-*/%&|^]|<<self>>)*>/.source,2),f=a(/\((?:[^()]|<<self>>)*\)/.source,2),b=/@?\b[A-Za-z_]\w*\b/.source,x=r(/<<0>>(?:\s*<<1>>)?/.source,[b,g]),E=r(/(?!<<0>>)<<1>>(?:\s*\.\s*<<1>>)*/.source,[d,x]),v=/\[\s*(?:,\s*)*\]/.source,T=r(/<<0>>(?:\s*(?:\?\s*)?<<1>>)*(?:\s*\?)?/.source,[E,v]),w=r(/[^,()<>[\];=+\-*/%&|^]|<<0>>|<<1>>|<<2>>/.source,[g,f,v]),N=r(/\(<<0>>+(?:,<<0>>+)+\)/.source,[w]),R=r(/(?:<<0>>|<<1>>)(?:\s*(?:\?\s*)?<<2>>)*(?:\s*\?)?/.source,[N,E,v]),D={keyword:u,punctuation:/[<>()?,.:[\]]/},L=/'(?:[^\r\n'\\]|\\.|\\[Uux][\da-fA-F]{1,8})'/.source,j=/"(?:\\.|[^\\"\r\n])*"/.source,B=/@"(?:""|\\[\s\S]|[^\\"])*"(?!")/.source;t.languages.csharp=t.languages.extend("clike",{string:[{pattern:n(/(^|[^$\\])<<0>>/.source,[B]),lookbehind:!0,greedy:!0},{pattern:n(/(^|[^@$\\])<<0>>/.source,[j]),lookbehind:!0,greedy:!0}],"class-name":[{pattern:n(/(\busing\s+static\s+)<<0>>(?=\s*;)/.source,[E]),lookbehind:!0,inside:D},{pattern:n(/(\busing\s+<<0>>\s*=\s*)<<1>>(?=\s*;)/.source,[b,R]),lookbehind:!0,inside:D},{pattern:n(/(\busing\s+)<<0>>(?=\s*=)/.source,[b]),lookbehind:!0},{pattern:n(/(\b<<0>>\s+)<<1>>/.source,[l,x]),lookbehind:!0,inside:D},{pattern:n(/(\bcatch\s*\(\s*)<<0>>/.source,[E]),lookbehind:!0,inside:D},{pattern:n(/(\bwhere\s+)<<0>>/.source,[b]),lookbehind:!0},{pattern:n(/(\b(?:is(?:\s+not)?|as)\s+)<<0>>/.source,[T]),lookbehind:!0,inside:D},{pattern:n(/\b<<0>>(?=\s+(?!<<1>>|with\s*\{)<<2>>(?:\s*[=,;:{)\]]|\s+(?:in|when)\b))/.source,[R,h,b]),inside:D}],keyword:u,number:/(?:\b0(?:x[\da-f_]*[\da-f]|b[01_]*[01])|(?:\B\.\d+(?:_+\d+)*|\b\d+(?:_+\d+)*(?:\.\d+(?:_+\d+)*)?)(?:e[-+]?\d+(?:_+\d+)*)?)(?:[dflmu]|lu|ul)?\b/i,operator:/>>=?|<<=?|[-=]>|([-+&|])\1|~|\?\?=?|[-+*/%&|^!=<>]=?/,punctuation:/\?\.?|::|[{}[\];(),.:]/}),t.languages.insertBefore("csharp","number",{range:{pattern:/\.\./,alias:"operator"}}),t.languages.insertBefore("csharp","punctuation",{"named-parameter":{pattern:n(/([(,]\s*)<<0>>(?=\s*:)/.source,[b]),lookbehind:!0,alias:"punctuation"}}),t.languages.insertBefore("csharp","class-name",{namespace:{pattern:n(/(\b(?:namespace|using)\s+)<<0>>(?:\s*\.\s*<<0>>)*(?=\s*[;{])/.source,[b]),lookbehind:!0,inside:{punctuation:/\./}},"type-expression":{pattern:n(/(\b(?:default|sizeof|typeof)\s*\(\s*(?!\s))(?:[^()\s]|\s(?!\s)|<<0>>)*(?=\s*\))/.source,[f]),lookbehind:!0,alias:"class-name",inside:D},"return-type":{pattern:n(/<<0>>(?=\s+(?:<<1>>\s*(?:=>|[({]|\.\s*this\s*\[)|this\s*\[))/.source,[R,E]),inside:D,alias:"class-name"},"constructor-invocation":{pattern:n(/(\bnew\s+)<<0>>(?=\s*[[({])/.source,[R]),lookbehind:!0,inside:D,alias:"class-name"},"generic-method":{pattern:n(/<<0>>\s*<<1>>(?=\s*\()/.source,[b,g]),inside:{function:n(/^<<0>>/.source,[b]),generic:{pattern:RegExp(g),alias:"class-name",inside:D}}},"type-list":{pattern:n(/\b((?:<<0>>\s+<<1>>|record\s+<<1>>\s*<<5>>|where\s+<<2>>)\s*:\s*)(?:<<3>>|<<4>>|<<1>>\s*<<5>>|<<6>>)(?:\s*,\s*(?:<<3>>|<<4>>|<<6>>))*(?=\s*(?:where|[{;]|=>|$))/.source,[l,x,b,R,u.source,f,/\bnew\s*\(\s*\)/.source]),lookbehind:!0,inside:{"record-arguments":{pattern:n(/(^(?!new\s*\()<<0>>\s*)<<1>>/.source,[x,f]),lookbehind:!0,greedy:!0,inside:t.languages.csharp},keyword:u,"class-name":{pattern:RegExp(R),greedy:!0,inside:D},punctuation:/[,()]/}},preprocessor:{pattern:/(^[\t ]*)#.*/m,lookbehind:!0,alias:"property",inside:{directive:{pattern:/(#)\b(?:define|elif|else|endif|endregion|error|if|line|nullable|pragma|region|undef|warning)\b/,lookbehind:!0,alias:"keyword"}}}});var q=j+"|"+L,z=r(/\/(?![*/])|\/\/[^\r\n]*[\r\n]|\/\*(?:[^*]|\*(?!\/))*\*\/|<<0>>/.source,[q]),K=a(r(/[^"'/()]|<<0>>|\(<<self>>*\)/.source,[z]),2),X=/\b(?:assembly|event|field|method|module|param|property|return|type)\b/.source,Q=r(/<<0>>(?:\s*\(<<1>>*\))?/.source,[E,K]);t.languages.insertBefore("csharp","class-name",{attribute:{pattern:n(/((?:^|[^\s\w>)?])\s*\[\s*)(?:<<0>>\s*:\s*)?<<1>>(?:\s*,\s*<<1>>)*(?=\s*\])/.source,[X,Q]),lookbehind:!0,greedy:!0,inside:{target:{pattern:n(/^<<0>>(?=\s*:)/.source,[X]),alias:"keyword"},"attribute-arguments":{pattern:n(/\(<<0>>*\)/.source,[K]),inside:t.languages.csharp},"class-name":{pattern:RegExp(E),inside:{punctuation:/\./}},punctuation:/[:,]/}}});var O=/:[^}\r\n]+/.source,H=a(r(/[^"'/()]|<<0>>|\(<<self>>*\)/.source,[z]),2),$=r(/\{(?!\{)(?:(?![}:])<<0>>)*<<1>>?\}/.source,[H,O]),Y=a(r(/[^"'/()]|\/(?!\*)|\/\*(?:[^*]|\*(?!\/))*\*\/|<<0>>|\(<<self>>*\)/.source,[q]),2),V=r(/\{(?!\{)(?:(?![}:])<<0>>)*<<1>>?\}/.source,[Y,O]);function ne(P,I){return{interpolation:{pattern:n(/((?:^|[^{])(?:\{\{)*)<<0>>/.source,[P]),lookbehind:!0,inside:{"format-string":{pattern:n(/(^\{(?:(?![}:])<<0>>)*)<<1>>(?=\}$)/.source,[I,O]),lookbehind:!0,inside:{punctuation:/^:/}},punctuation:/^\{|\}$/,expression:{pattern:/[\s\S]+/,alias:"language-csharp",inside:t.languages.csharp}}},string:/[\s\S]+/}}t.languages.insertBefore("csharp","string",{"interpolation-string":[{pattern:n(/(^|[^\\])(?:\$@|@\$)"(?:""|\\[\s\S]|\{\{|<<0>>|[^\\{"])*"/.source,[$]),lookbehind:!0,greedy:!0,inside:ne($,H)},{pattern:n(/(^|[^@\\])\$"(?:\\.|\{\{|<<0>>|[^\\"{])*"/.source,[V]),lookbehind:!0,greedy:!0,inside:ne(V,Y)}],char:{pattern:RegExp(L),greedy:!0}}),t.languages.dotnet=t.languages.cs=t.languages.csharp})(e)}Ga.displayName="markup";Ga.aliases=["atom","html","mathml","rss","ssml","svg","xml"];function Ga(e){e.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},e.languages.markup.tag.inside["attr-value"].inside.entity=e.languages.markup.entity,e.languages.markup.doctype.inside["internal-subset"].inside=e.languages.markup,e.hooks.add("wrap",function(t){t.type==="entity"&&(t.attributes.title=t.content.value.replace(/&amp;/,"&"))}),Object.defineProperty(e.languages.markup.tag,"addInlined",{value:function(r,n){var a={};a["language-"+n]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:e.languages[n]},a.cdata=/^<!\[CDATA\[|\]\]>$/i;var i={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:a}};i["language-"+n]={pattern:/[\s\S]+/,inside:e.languages[n]};var o={};o[r]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,function(){return r}),"i"),lookbehind:!0,greedy:!0,inside:i},e.languages.insertBefore("markup","cdata",o)}}),Object.defineProperty(e.languages.markup.tag,"addAttribute",{value:function(t,r){e.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+t+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[r,"language-"+r],inside:e.languages[r]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}}),e.languages.html=e.languages.markup,e.languages.mathml=e.languages.markup,e.languages.svg=e.languages.markup,e.languages.xml=e.languages.extend("markup",{}),e.languages.ssml=e.languages.xml,e.languages.atom=e.languages.xml,e.languages.rss=e.languages.xml}Cc.displayName="css";Cc.aliases=[];function Cc(e){(function(t){var r=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;t.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:RegExp("@[\\w-](?:"+/[^;{\s"']|\s+(?!\s)/.source+"|"+r.source+")*?"+/(?:;|(?=\s*\{))/.source),inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+r.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+r.source+"$"),alias:"url"}}},selector:{pattern:RegExp(`(^|[{}\\s])[^{}\\s](?:[^{};"'\\s]|\\s+(?![\\s{])|`+r.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:r,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},t.languages.css.atrule.inside.rest=t.languages.css;var n=t.languages.markup;n&&(n.tag.addInlined("style","css"),n.tag.addAttribute("style","css"))})(e)}Ex.displayName="diff";Ex.aliases=[];function Ex(e){(function(t){t.languages.diff={coord:[/^(?:\*{3}|-{3}|\+{3}).*$/m,/^@@.*@@$/m,/^\d.*$/m]};var r={"deleted-sign":"-","deleted-arrow":"<","inserted-sign":"+","inserted-arrow":">",unchanged:" ",diff:"!"};Object.keys(r).forEach(function(n){var a=r[n],i=[];/^\w+$/.test(n)||i.push(/\w+/.exec(n)[0]),n==="diff"&&i.push("bold"),t.languages.diff[n]={pattern:RegExp("^(?:["+a+`].*(?:\r
?|
|(?![\\s\\S])))+`,"m"),alias:i,inside:{line:{pattern:/(.)(?=[\s\S]).*(?:\r\n?|\n)?/,lookbehind:!0},prefix:{pattern:/[\s\S]/,alias:/\w+/.exec(n)[0]}}}}),Object.defineProperty(t.languages.diff,"PREFIXES",{value:r})})(e)}vx.displayName="go";vx.aliases=[];function vx(e){e.register(Kr),e.languages.go=e.languages.extend("clike",{string:{pattern:/(^|[^\\])"(?:\\.|[^"\\\r\n])*"|`[^`]*`/,lookbehind:!0,greedy:!0},keyword:/\b(?:break|case|chan|const|continue|default|defer|else|fallthrough|for|func|go(?:to)?|if|import|interface|map|package|range|return|select|struct|switch|type|var)\b/,boolean:/\b(?:_|false|iota|nil|true)\b/,number:[/\b0(?:b[01_]+|o[0-7_]+)i?\b/i,/\b0x(?:[a-f\d_]+(?:\.[a-f\d_]*)?|\.[a-f\d_]+)(?:p[+-]?\d+(?:_\d+)*)?i?(?!\w)/i,/(?:\b\d[\d_]*(?:\.[\d_]*)?|\B\.\d[\d_]*)(?:e[+-]?[\d_]+)?i?(?!\w)/i],operator:/[*\/%^!=]=?|\+[=+]?|-[=-]?|\|[=|]?|&(?:=|&|\^=?)?|>(?:>=?|=)?|<(?:<=?|=|-)?|:=|\.\.\./,builtin:/\b(?:append|bool|byte|cap|close|complex|complex(?:64|128)|copy|delete|error|float(?:32|64)|u?int(?:8|16|32|64)?|imag|len|make|new|panic|print(?:ln)?|real|recover|rune|string|uintptr)\b/}),e.languages.insertBefore("go","string",{char:{pattern:/'(?:\\.|[^'\\\r\n]){0,10}'/,greedy:!0}}),delete e.languages.go["class-name"]}Sx.displayName="ini";Sx.aliases=[];function Sx(e){e.languages.ini={comment:{pattern:/(^[ \f\t\v]*)[#;][^\n\r]*/m,lookbehind:!0},section:{pattern:/(^[ \f\t\v]*)\[[^\n\r\]]*\]?/m,lookbehind:!0,inside:{"section-name":{pattern:/(^\[[ \f\t\v]*)[^ \f\t\v\]]+(?:[ \f\t\v]+[^ \f\t\v\]]+)*/,lookbehind:!0,alias:"selector"},punctuation:/\[|\]/}},key:{pattern:/(^[ \f\t\v]*)[^ \f\n\r\t\v=]+(?:[ \f\t\v]+[^ \f\n\r\t\v=]+)*(?=[ \f\t\v]*=)/m,lookbehind:!0,alias:"attr-name"},value:{pattern:/(=[ \f\t\v]*)[^ \f\n\r\t\v]+(?:[ \f\t\v]+[^ \f\n\r\t\v]+)*/,lookbehind:!0,alias:"attr-value",inside:{"inner-value":{pattern:/^("|').+(?=\1$)/,lookbehind:!0}}},punctuation:/=/}}Bu.displayName="java";Bu.aliases=[];function Bu(e){e.register(Kr),(function(t){var r=/\b(?:abstract|assert|boolean|break|byte|case|catch|char|class|const|continue|default|do|double|else|enum|exports|extends|final|finally|float|for|goto|if|implements|import|instanceof|int|interface|long|module|native|new|non-sealed|null|open|opens|package|permits|private|protected|provides|public|record(?!\s*[(){}[\]<>=%~.:,;?+\-*/&|^])|requires|return|sealed|short|static|strictfp|super|switch|synchronized|this|throw|throws|to|transient|transitive|try|uses|var|void|volatile|while|with|yield)\b/,n=/(?:[a-z]\w*\s*\.\s*)*(?:[A-Z]\w*\s*\.\s*)*/.source,a={pattern:RegExp(/(^|[^\w.])/.source+n+/[A-Z](?:[\d_A-Z]*[a-z]\w*)?\b/.source),lookbehind:!0,inside:{namespace:{pattern:/^[a-z]\w*(?:\s*\.\s*[a-z]\w*)*(?:\s*\.)?/,inside:{punctuation:/\./}},punctuation:/\./}};t.languages.java=t.languages.extend("clike",{string:{pattern:/(^|[^\\])"(?:\\.|[^"\\\r\n])*"/,lookbehind:!0,greedy:!0},"class-name":[a,{pattern:RegExp(/(^|[^\w.])/.source+n+/[A-Z]\w*(?=\s+\w+\s*[;,=()]|\s*(?:\[[\s,]*\]\s*)?::\s*new\b)/.source),lookbehind:!0,inside:a.inside},{pattern:RegExp(/(\b(?:class|enum|extends|implements|instanceof|interface|new|record|throws)\s+)/.source+n+/[A-Z]\w*\b/.source),lookbehind:!0,inside:a.inside}],keyword:r,function:[t.languages.clike.function,{pattern:/(::\s*)[a-z_]\w*/,lookbehind:!0}],number:/\b0b[01][01_]*L?\b|\b0x(?:\.[\da-f_p+-]+|[\da-f_]+(?:\.[\da-f_p+-]+)?)\b|(?:\b\d[\d_]*(?:\.[\d_]*)?|\B\.\d[\d_]*)(?:e[+-]?\d[\d_]*)?[dfl]?/i,operator:{pattern:/(^|[^.])(?:<<=?|>>>?=?|->|--|\+\+|&&|\|\||::|[?:~]|[-+*/%&|^!=<>]=?)/m,lookbehind:!0},constant:/\b[A-Z][A-Z_\d]+\b/}),t.languages.insertBefore("java","string",{"triple-quoted-string":{pattern:/"""[ \t]*[\r\n](?:(?:"|"")?(?:\\.|[^"\\]))*"""/,greedy:!0,alias:"string"},char:{pattern:/'(?:\\.|[^'\\\r\n]){1,6}'/,greedy:!0}}),t.languages.insertBefore("java","class-name",{annotation:{pattern:/(^|[^.])@\w+(?:\s*\.\s*\w+)*/,lookbehind:!0,alias:"punctuation"},generics:{pattern:/<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&))*>)*>)*>)*>/,inside:{"class-name":a,keyword:r,punctuation:/[<>(),.:]/,operator:/[?&|]/}},import:[{pattern:RegExp(/(\bimport\s+)/.source+n+/(?:[A-Z]\w*|\*)(?=\s*;)/.source),lookbehind:!0,inside:{namespace:a.inside.namespace,punctuation:/\./,operator:/\*/,"class-name":/\w+/}},{pattern:RegExp(/(\bimport\s+static\s+)/.source+n+/(?:\w+|\*)(?=\s*;)/.source),lookbehind:!0,alias:"static",inside:{namespace:a.inside.namespace,static:/\b\w+$/,punctuation:/\./,operator:/\*/,"class-name":/\w+/}}],namespace:{pattern:RegExp(/(\b(?:exports|import(?:\s+static)?|module|open|opens|package|provides|requires|to|transitive|uses|with)\s+)(?!<keyword>)[a-z]\w*(?:\.[a-z]\w*)*\.?/.source.replace(/<keyword>/g,function(){return r.source})),lookbehind:!0,inside:{punctuation:/\./}}})})(e)}Tx.displayName="regex";Tx.aliases=[];function Tx(e){(function(t){var r={pattern:/\\[\\(){}[\]^$+*?|.]/,alias:"escape"},n=/\\(?:x[\da-fA-F]{2}|u[\da-fA-F]{4}|u\{[\da-fA-F]+\}|0[0-7]{0,2}|[123][0-7]{2}|c[a-zA-Z]|.)/,a={pattern:/\.|\\[wsd]|\\p\{[^{}]+\}/i,alias:"class-name"},i={pattern:/\\[wsd]|\\p\{[^{}]+\}/i,alias:"class-name"},o="(?:[^\\\\-]|"+n.source+")",l=RegExp(o+"-"+o),u={pattern:/(<|')[^<>']+(?=[>']$)/,lookbehind:!0,alias:"variable"};t.languages.regex={"char-class":{pattern:/((?:^|[^\\])(?:\\\\)*)\[(?:[^\\\]]|\\[\s\S])*\]/,lookbehind:!0,inside:{"char-class-negation":{pattern:/(^\[)\^/,lookbehind:!0,alias:"operator"},"char-class-punctuation":{pattern:/^\[|\]$/,alias:"punctuation"},range:{pattern:l,inside:{escape:n,"range-punctuation":{pattern:/-/,alias:"operator"}}},"special-escape":r,"char-set":i,escape:n}},"special-escape":r,"char-set":a,backreference:[{pattern:/\\(?![123][0-7]{2})[1-9]/,alias:"keyword"},{pattern:/\\k<[^<>']+>/,alias:"keyword",inside:{"group-name":u}}],anchor:{pattern:/[$^]|\\[ABbGZz]/,alias:"function"},escape:n,group:[{pattern:/\((?:\?(?:<[^<>']+>|'[^<>']+'|[>:]|<?[=!]|[idmnsuxU]+(?:-[idmnsuxU]+)?:?))?/,alias:"punctuation",inside:{"group-name":u}},{pattern:/\)/,alias:"punctuation"}],quantifier:{pattern:/(?:[+*?]|\{\d+(?:,\d*)?\})[?+]?/,alias:"number"},alternation:{pattern:/\|/,alias:"keyword"}}})(e)}ts.displayName="javascript";ts.aliases=["js"];function ts(e){e.register(Kr),e.languages.javascript=e.languages.extend("clike",{"class-name":[e.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+(/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source)+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),e.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/,e.languages.insertBefore("javascript","keyword",{regex:{pattern:RegExp(/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)/.source+/\//.source+"(?:"+/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}/.source+"|"+/(?:\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.)*\])*\])*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source+")"+/(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/.source),lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:e.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:e.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:e.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:e.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:e.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),e.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:e.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}}),e.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}}),e.languages.markup&&(e.languages.markup.tag.addInlined("script","javascript"),e.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript")),e.languages.js=e.languages.javascript}Hp.displayName="json";Hp.aliases=["webmanifest"];function Hp(e){e.languages.json={property:{pattern:/(^|[^\\])"(?:\\.|[^\\"\r\n])*"(?=\s*:)/,lookbehind:!0,greedy:!0},string:{pattern:/(^|[^\\])"(?:\\.|[^\\"\r\n])*"(?!\s*:)/,lookbehind:!0,greedy:!0},comment:{pattern:/\/\/.*|\/\*[\s\S]*?(?:\*\/|$)/,greedy:!0},number:/-?\b\d+(?:\.\d+)?(?:e[+-]?\d+)?\b/i,punctuation:/[{}[\],]/,operator:/:/,boolean:/\b(?:false|true)\b/,null:{pattern:/\bnull\b/,alias:"keyword"}},e.languages.webmanifest=e.languages.json}wx.displayName="kotlin";wx.aliases=["kt","kts"];function wx(e){e.register(Kr),(function(t){t.languages.kotlin=t.languages.extend("clike",{keyword:{pattern:/(^|[^.])\b(?:abstract|actual|annotation|as|break|by|catch|class|companion|const|constructor|continue|crossinline|data|do|dynamic|else|enum|expect|external|final|finally|for|fun|get|if|import|in|infix|init|inline|inner|interface|internal|is|lateinit|noinline|null|object|open|operator|out|override|package|private|protected|public|reified|return|sealed|set|super|suspend|tailrec|this|throw|to|try|typealias|val|var|vararg|when|where|while)\b/,lookbehind:!0},function:[{pattern:/(?:`[^\r\n`]+`|\b\w+)(?=\s*\()/,greedy:!0},{pattern:/(\.)(?:`[^\r\n`]+`|\w+)(?=\s*\{)/,lookbehind:!0,greedy:!0}],number:/\b(?:0[xX][\da-fA-F]+(?:_[\da-fA-F]+)*|0[bB][01]+(?:_[01]+)*|\d+(?:_\d+)*(?:\.\d+(?:_\d+)*)?(?:[eE][+-]?\d+(?:_\d+)*)?[fFL]?)\b/,operator:/\+[+=]?|-[-=>]?|==?=?|!(?:!|==?)?|[\/*%<>]=?|[?:]:?|\.\.|&&|\|\||\b(?:and|inv|or|shl|shr|ushr|xor)\b/}),delete t.languages.kotlin["class-name"];var r={"interpolation-punctuation":{pattern:/^\$\{?|\}$/,alias:"punctuation"},expression:{pattern:/[\s\S]+/,inside:t.languages.kotlin}};t.languages.insertBefore("kotlin","string",{"string-literal":[{pattern:/"""(?:[^$]|\$(?:(?!\{)|\{[^{}]*\}))*?"""/,alias:"multiline",inside:{interpolation:{pattern:/\$(?:[a-z_]\w*|\{[^{}]*\})/i,inside:r},string:/[\s\S]+/}},{pattern:/"(?:[^"\\\r\n$]|\\.|\$(?:(?!\{)|\{[^{}]*\}))*"/,alias:"singleline",inside:{interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$(?:[a-z_]\w*|\{[^{}]*\})/i,lookbehind:!0,inside:r},string:/[\s\S]+/}}],char:{pattern:/'(?:[^'\\\r\n]|\\(?:.|u[a-fA-F0-9]{0,4}))'/,greedy:!0}}),delete t.languages.kotlin.string,t.languages.insertBefore("kotlin","keyword",{annotation:{pattern:/\B@(?:\w+:)?(?:[A-Z]\w*|\[[^\]]+\])/,alias:"builtin"}}),t.languages.insertBefore("kotlin","function",{label:{pattern:/\b\w+@|@\w+\b/,alias:"symbol"}}),t.languages.kt=t.languages.kotlin,t.languages.kts=t.languages.kotlin})(e)}kx.displayName="less";kx.aliases=[];function kx(e){e.register(Cc),e.languages.less=e.languages.extend("css",{comment:[/\/\*[\s\S]*?\*\//,{pattern:/(^|[^\\])\/\/.*/,lookbehind:!0}],atrule:{pattern:/@[\w-](?:\((?:[^(){}]|\([^(){}]*\))*\)|[^(){};\s]|\s+(?!\s))*?(?=\s*\{)/,inside:{punctuation:/[:()]/}},selector:{pattern:/(?:@\{[\w-]+\}|[^{};\s@])(?:@\{[\w-]+\}|\((?:[^(){}]|\([^(){}]*\))*\)|[^(){};@\s]|\s+(?!\s))*?(?=\s*\{)/,inside:{variable:/@+[\w-]+/}},property:/(?:@\{[\w-]+\}|[\w-])+(?:\+_?)?(?=\s*:)/,operator:/[+\-*\/]/}),e.languages.insertBefore("less","property",{variable:[{pattern:/@[\w-]+\s*:/,inside:{punctuation:/:/}},/@@?[\w-]+/],"mixin-usage":{pattern:/([{;]\s*)[.#](?!\d)[\w-].*?(?=[(;])/,lookbehind:!0,alias:"function"}})}Km.displayName="lua";Km.aliases=[];function Km(e){e.languages.lua={comment:/^#!.+|--(?:\[(=*)\[[\s\S]*?\]\1\]|.*)/m,string:{pattern:/(["'])(?:(?!\1)[^\\\r\n]|\\z(?:\r\n|\s)|\\(?:\r\n|[^z]))*\1|\[(=*)\[[\s\S]*?\]\2\]/,greedy:!0},number:/\b0x[a-f\d]+(?:\.[a-f\d]*)?(?:p[+-]?\d+)?\b|\b\d+(?:\.\B|(?:\.\d*)?(?:e[+-]?\d+)?\b)|\B\.\d+(?:e[+-]?\d+)?\b/i,keyword:/\b(?:and|break|do|else|elseif|end|false|for|function|goto|if|in|local|nil|not|or|repeat|return|then|true|until|while)\b/,function:/(?!\d)\w+(?=\s*(?:[({]))/,operator:[/[-+*%^&|#]|\/\/?|<[<=]?|>[>=]?|[=~]=?/,{pattern:/(^|[^.])\.\.(?!\.)/,lookbehind:!0}],punctuation:/[\[\](){},;]|\.+|:+/}}Cx.displayName="makefile";Cx.aliases=[];function Cx(e){e.languages.makefile={comment:{pattern:/(^|[^\\])#(?:\\(?:\r\n|[\s\S])|[^\\\r\n])*/,lookbehind:!0},string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"builtin-target":{pattern:/\.[A-Z][^:#=\s]+(?=\s*:(?!=))/,alias:"builtin"},target:{pattern:/^(?:[^:=\s]|[ \t]+(?![\s:]))+(?=\s*:(?!=))/m,alias:"symbol",inside:{variable:/\$+(?:(?!\$)[^(){}:#=\s]+|(?=[({]))/}},variable:/\$+(?:(?!\$)[^(){}:#=\s]+|\([@*%<^+?][DF]\)|(?=[({]))/,keyword:/-include\b|\b(?:define|else|endef|endif|export|ifn?def|ifn?eq|include|override|private|sinclude|undefine|unexport|vpath)\b/,function:{pattern:/(\()(?:abspath|addsuffix|and|basename|call|dir|error|eval|file|filter(?:-out)?|findstring|firstword|flavor|foreach|guile|if|info|join|lastword|load|notdir|or|origin|patsubst|realpath|shell|sort|strip|subst|suffix|value|warning|wildcard|word(?:list|s)?)(?=[ \t])/,lookbehind:!0},operator:/(?:::|[?:+!])?=|[|@]/,punctuation:/[:;(){}]/}}Qm.displayName="yaml";Qm.aliases=["yml"];function Qm(e){(function(t){var r=/[*&][^\s[\]{},]+/,n=/!(?:<[\w\-%#;/?:@&=+$,.!~*'()[\]]+>|(?:[a-zA-Z\d-]*!)?[\w\-%#;/?:@&=+$.~*'()]+)?/,a="(?:"+n.source+"(?:[ 	]+"+r.source+")?|"+r.source+"(?:[ 	]+"+n.source+")?)",i=/(?:[^\s\x00-\x08\x0e-\x1f!"#%&'*,\-:>?@[\]`{|}\x7f-\x84\x86-\x9f\ud800-\udfff\ufffe\uffff]|[?:-]<PLAIN>)(?:[ \t]*(?:(?![#:])<PLAIN>|:<PLAIN>))*/.source.replace(/<PLAIN>/g,function(){return/[^\s\x00-\x08\x0e-\x1f,[\]{}\x7f-\x84\x86-\x9f\ud800-\udfff\ufffe\uffff]/.source}),o=/"(?:[^"\\\r\n]|\\.)*"|'(?:[^'\\\r\n]|\\.)*'/.source;function l(u,d){d=(d||"").replace(/m/g,"")+"m";var h=/([:\-,[{]\s*(?:\s<<prop>>[ \t]+)?)(?:<<value>>)(?=[ \t]*(?:$|,|\]|\}|(?:[\r\n]\s*)?#))/.source.replace(/<<prop>>/g,function(){return a}).replace(/<<value>>/g,function(){return u});return RegExp(h,d)}t.languages.yaml={scalar:{pattern:RegExp(/([\-:]\s*(?:\s<<prop>>[ \t]+)?[|>])[ \t]*(?:((?:\r?\n|\r)[ \t]+)\S[^\r\n]*(?:\2[^\r\n]+)*)/.source.replace(/<<prop>>/g,function(){return a})),lookbehind:!0,alias:"string"},comment:/#.*/,key:{pattern:RegExp(/((?:^|[:\-,[{\r\n?])[ \t]*(?:<<prop>>[ \t]+)?)<<key>>(?=\s*:\s)/.source.replace(/<<prop>>/g,function(){return a}).replace(/<<key>>/g,function(){return"(?:"+i+"|"+o+")"})),lookbehind:!0,greedy:!0,alias:"atrule"},directive:{pattern:/(^[ \t]*)%.+/m,lookbehind:!0,alias:"important"},datetime:{pattern:l(/\d{4}-\d\d?-\d\d?(?:[tT]|[ \t]+)\d\d?:\d{2}:\d{2}(?:\.\d*)?(?:[ \t]*(?:Z|[-+]\d\d?(?::\d{2})?))?|\d{4}-\d{2}-\d{2}|\d\d?:\d{2}(?::\d{2}(?:\.\d*)?)?/.source),lookbehind:!0,alias:"number"},boolean:{pattern:l(/false|true/.source,"i"),lookbehind:!0,alias:"important"},null:{pattern:l(/null|~/.source,"i"),lookbehind:!0,alias:"important"},string:{pattern:l(o),lookbehind:!0,greedy:!0},number:{pattern:l(/[+-]?(?:0x[\da-f]+|0o[0-7]+|(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?|\.inf|\.nan)/.source,"i"),lookbehind:!0},tag:n,important:r,punctuation:/---|[:[\]{}\-,|>?]|\.\.\./},t.languages.yml=t.languages.yaml})(e)}_x.displayName="markdown";_x.aliases=["md"];function _x(e){e.register(Ga),(function(t){var r=/(?:\\.|[^\\\n\r]|(?:\n|\r\n?)(?![\r\n]))/.source;function n(l){return l=l.replace(/<inner>/g,function(){return r}),RegExp(/((?:^|[^\\])(?:\\{2})*)/.source+"(?:"+l+")")}var a=/(?:\\.|``(?:[^`\r\n]|`(?!`))+``|`[^`\r\n]+`|[^\\|\r\n`])+/.source,i=/\|?__(?:\|__)+\|?(?:(?:\n|\r\n?)|(?![\s\S]))/.source.replace(/__/g,function(){return a}),o=/\|?[ \t]*:?-{3,}:?[ \t]*(?:\|[ \t]*:?-{3,}:?[ \t]*)+\|?(?:\n|\r\n?)/.source;t.languages.markdown=t.languages.extend("markup",{}),t.languages.insertBefore("markdown","prolog",{"front-matter-block":{pattern:/(^(?:\s*[\r\n])?)---(?!.)[\s\S]*?[\r\n]---(?!.)/,lookbehind:!0,greedy:!0,inside:{punctuation:/^---|---$/,"front-matter":{pattern:/\S+(?:\s+\S+)*/,alias:["yaml","language-yaml"],inside:t.languages.yaml}}},blockquote:{pattern:/^>(?:[\t ]*>)*/m,alias:"punctuation"},table:{pattern:RegExp("^"+i+o+"(?:"+i+")*","m"),inside:{"table-data-rows":{pattern:RegExp("^("+i+o+")(?:"+i+")*$"),lookbehind:!0,inside:{"table-data":{pattern:RegExp(a),inside:t.languages.markdown},punctuation:/\|/}},"table-line":{pattern:RegExp("^("+i+")"+o+"$"),lookbehind:!0,inside:{punctuation:/\||:?-{3,}:?/}},"table-header-row":{pattern:RegExp("^"+i+"$"),inside:{"table-header":{pattern:RegExp(a),alias:"important",inside:t.languages.markdown},punctuation:/\|/}}}},code:[{pattern:/((?:^|\n)[ \t]*\n|(?:^|\r\n?)[ \t]*\r\n?)(?: {4}|\t).+(?:(?:\n|\r\n?)(?: {4}|\t).+)*/,lookbehind:!0,alias:"keyword"},{pattern:/^```[\s\S]*?^```$/m,greedy:!0,inside:{"code-block":{pattern:/^(```.*(?:\n|\r\n?))[\s\S]+?(?=(?:\n|\r\n?)^```$)/m,lookbehind:!0},"code-language":{pattern:/^(```).+/,lookbehind:!0},punctuation:/```/}}],title:[{pattern:/\S.*(?:\n|\r\n?)(?:==+|--+)(?=[ \t]*$)/m,alias:"important",inside:{punctuation:/==+$|--+$/}},{pattern:/(^\s*)#.+/m,lookbehind:!0,alias:"important",inside:{punctuation:/^#+|#+$/}}],hr:{pattern:/(^\s*)([*-])(?:[\t ]*\2){2,}(?=\s*$)/m,lookbehind:!0,alias:"punctuation"},list:{pattern:/(^\s*)(?:[*+-]|\d+\.)(?=[\t ].)/m,lookbehind:!0,alias:"punctuation"},"url-reference":{pattern:/!?\[[^\]]+\]:[\t ]+(?:\S+|<(?:\\.|[^>\\])+>)(?:[\t ]+(?:"(?:\\.|[^"\\])*"|'(?:\\.|[^'\\])*'|\((?:\\.|[^)\\])*\)))?/,inside:{variable:{pattern:/^(!?\[)[^\]]+/,lookbehind:!0},string:/(?:"(?:\\.|[^"\\])*"|'(?:\\.|[^'\\])*'|\((?:\\.|[^)\\])*\))$/,punctuation:/^[\[\]!:]|[<>]/},alias:"url"},bold:{pattern:n(/\b__(?:(?!_)<inner>|_(?:(?!_)<inner>)+_)+__\b|\*\*(?:(?!\*)<inner>|\*(?:(?!\*)<inner>)+\*)+\*\*/.source),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^..)[\s\S]+(?=..$)/,lookbehind:!0,inside:{}},punctuation:/\*\*|__/}},italic:{pattern:n(/\b_(?:(?!_)<inner>|__(?:(?!_)<inner>)+__)+_\b|\*(?:(?!\*)<inner>|\*\*(?:(?!\*)<inner>)+\*\*)+\*/.source),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^.)[\s\S]+(?=.$)/,lookbehind:!0,inside:{}},punctuation:/[*_]/}},strike:{pattern:n(/(~~?)(?:(?!~)<inner>)+\2/.source),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^~~?)[\s\S]+(?=\1$)/,lookbehind:!0,inside:{}},punctuation:/~~?/}},"code-snippet":{pattern:/(^|[^\\`])(?:``[^`\r\n]+(?:`[^`\r\n]+)*``(?!`)|`[^`\r\n]+`(?!`))/,lookbehind:!0,greedy:!0,alias:["code","keyword"]},url:{pattern:n(/!?\[(?:(?!\])<inner>)+\](?:\([^\s)]+(?:[\t ]+"(?:\\.|[^"\\])*")?\)|[ \t]?\[(?:(?!\])<inner>)+\])/.source),lookbehind:!0,greedy:!0,inside:{operator:/^!/,content:{pattern:/(^\[)[^\]]+(?=\])/,lookbehind:!0,inside:{}},variable:{pattern:/(^\][ \t]?\[)[^\]]+(?=\]$)/,lookbehind:!0},url:{pattern:/(^\]\()[^\s)]+/,lookbehind:!0},string:{pattern:/(^[ \t]+)"(?:\\.|[^"\\])*"(?=\)$)/,lookbehind:!0}}}}),["url","bold","italic","strike"].forEach(function(l){["url","bold","italic","strike","code-snippet"].forEach(function(u){l!==u&&(t.languages.markdown[l].inside.content.inside[u]=t.languages.markdown[u])})}),t.hooks.add("after-tokenize",function(l){if(l.language!=="markdown"&&l.language!=="md")return;function u(d){if(!(!d||typeof d=="string"))for(var h=0,g=d.length;h<g;h++){var f=d[h];if(f.type!=="code"){u(f.content);continue}var b=f.content[1],x=f.content[3];if(b&&x&&b.type==="code-language"&&x.type==="code-block"&&typeof b.content=="string"){var E=b.content.replace(/\b#/g,"sharp").replace(/\b\+\+/g,"pp");E=(/[a-z][\w-]*/i.exec(E)||[""])[0].toLowerCase();var v="language-"+E;x.alias?typeof x.alias=="string"?x.alias=[x.alias,v]:x.alias.push(v):x.alias=[v]}}}u(l.tokens)}),t.hooks.add("wrap",function(l){if(l.type==="code-block"){for(var u="",d=0,h=l.classes.length;d<h;d++){var g=l.classes[d],f=/language-(.+)/.exec(g);if(f){u=f[1];break}}var b=t.languages[u];if(b)l.content=t.highlight(l.content.value,b,u);else if(u&&u!=="none"&&t.plugins.autoloader){var x="md-"+new Date().valueOf()+"-"+Math.floor(Math.random()*1e16);l.attributes.id=x,t.plugins.autoloader.loadLanguages(u,function(){var E=document.getElementById(x);E&&(E.innerHTML=t.highlight(E.textContent,t.languages[u],u))})}}}),RegExp(t.languages.markup.tag.pattern.source,"gi"),t.languages.md=t.languages.markdown})(e)}Ax.displayName="objectivec";Ax.aliases=["objc"];function Ax(e){e.register(yo),e.languages.objectivec=e.languages.extend("c",{string:{pattern:/@?"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"/,greedy:!0},keyword:/\b(?:asm|auto|break|case|char|const|continue|default|do|double|else|enum|extern|float|for|goto|if|in|inline|int|long|register|return|self|short|signed|sizeof|static|struct|super|switch|typedef|typeof|union|unsigned|void|volatile|while)\b|(?:@interface|@end|@implementation|@protocol|@class|@public|@protected|@private|@property|@try|@catch|@finally|@throw|@synthesize|@dynamic|@selector)\b/,operator:/-[->]?|\+\+?|!=?|<<?=?|>>?=?|==?|&&?|\|\|?|[~^%?*\/@]/}),delete e.languages.objectivec["class-name"],e.languages.objc=e.languages.objectivec}Nx.displayName="perl";Nx.aliases=[];function Nx(e){(function(t){var r=/(?:\((?:[^()\\]|\\[\s\S])*\)|\{(?:[^{}\\]|\\[\s\S])*\}|\[(?:[^[\]\\]|\\[\s\S])*\]|<(?:[^<>\\]|\\[\s\S])*>)/.source;t.languages.perl={comment:[{pattern:/(^\s*)=\w[\s\S]*?=cut.*/m,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\$])#.*/,lookbehind:!0,greedy:!0}],string:[{pattern:RegExp(/\b(?:q|qq|qw|qx)(?![a-zA-Z0-9])\s*/.source+"(?:"+[/([^a-zA-Z0-9\s{(\[<])(?:(?!\1)[^\\]|\\[\s\S])*\1/.source,/([a-zA-Z0-9])(?:(?!\2)[^\\]|\\[\s\S])*\2/.source,r].join("|")+")"),greedy:!0},{pattern:/("|`)(?:(?!\1)[^\\]|\\[\s\S])*\1/,greedy:!0},{pattern:/'(?:[^'\\\r\n]|\\.)*'/,greedy:!0}],regex:[{pattern:RegExp(/\b(?:m|qr)(?![a-zA-Z0-9])\s*/.source+"(?:"+[/([^a-zA-Z0-9\s{(\[<])(?:(?!\1)[^\\]|\\[\s\S])*\1/.source,/([a-zA-Z0-9])(?:(?!\2)[^\\]|\\[\s\S])*\2/.source,r].join("|")+")"+/[msixpodualngc]*/.source),greedy:!0},{pattern:RegExp(/(^|[^-])\b(?:s|tr|y)(?![a-zA-Z0-9])\s*/.source+"(?:"+[/([^a-zA-Z0-9\s{(\[<])(?:(?!\2)[^\\]|\\[\s\S])*\2(?:(?!\2)[^\\]|\\[\s\S])*\2/.source,/([a-zA-Z0-9])(?:(?!\3)[^\\]|\\[\s\S])*\3(?:(?!\3)[^\\]|\\[\s\S])*\3/.source,r+/\s*/.source+r].join("|")+")"+/[msixpodualngcer]*/.source),lookbehind:!0,greedy:!0},{pattern:/\/(?:[^\/\\\r\n]|\\.)*\/[msixpodualngc]*(?=\s*(?:$|[\r\n,.;})&|\-+*~<>!?^]|(?:and|cmp|eq|ge|gt|le|lt|ne|not|or|x|xor)\b))/,greedy:!0}],variable:[/[&*$@%]\{\^[A-Z]+\}/,/[&*$@%]\^[A-Z_]/,/[&*$@%]#?(?=\{)/,/[&*$@%]#?(?:(?:::)*'?(?!\d)[\w$]+(?![\w$]))+(?:::)*/,/[&*$@%]\d+/,/(?!%=)[$@%][!"#$%&'()*+,\-.\/:;<=>?@[\\\]^_`{|}~]/],filehandle:{pattern:/<(?![<=])\S*?>|\b_\b/,alias:"symbol"},"v-string":{pattern:/v\d+(?:\.\d+)*|\d+(?:\.\d+){2,}/,alias:"string"},function:{pattern:/(\bsub[ \t]+)\w+/,lookbehind:!0},keyword:/\b(?:any|break|continue|default|delete|die|do|else|elsif|eval|for|foreach|given|goto|if|last|local|my|next|our|package|print|redo|require|return|say|state|sub|switch|undef|unless|until|use|when|while)\b/,number:/\b(?:0x[\dA-Fa-f](?:_?[\dA-Fa-f])*|0b[01](?:_?[01])*|(?:(?:\d(?:_?\d)*)?\.)?\d(?:_?\d)*(?:[Ee][+-]?\d+)?)\b/,operator:/-[rwxoRWXOezsfdlpSbctugkTBMAC]\b|\+[+=]?|-[-=>]?|\*\*?=?|\/\/?=?|=[=~>]?|~[~=]?|\|\|?=?|&&?=?|<(?:=>?|<=?)?|>>?=?|![~=]?|[%^]=?|\.(?:=|\.\.?)?|[\\?]|\bx(?:=|\b)|\b(?:and|cmp|eq|ge|gt|le|lt|ne|not|or|xor)\b/,punctuation:/[{}[\];(),:]/}})(e)}rs.displayName="markup-templating";rs.aliases=[];function rs(e){e.register(Ga),(function(t){function r(n,a){return"___"+n.toUpperCase()+a+"___"}Object.defineProperties(t.languages["markup-templating"]={},{buildPlaceholders:{value:function(n,a,i,o){if(n.language===a){var l=n.tokenStack=[];n.code=n.code.replace(i,function(u){if(typeof o=="function"&&!o(u))return u;for(var d=l.length,h;n.code.indexOf(h=r(a,d))!==-1;)++d;return l[d]=u,h}),n.grammar=t.languages.markup}}},tokenizePlaceholders:{value:function(n,a){if(n.language!==a||!n.tokenStack)return;n.grammar=t.languages[a];var i=0,o=Object.keys(n.tokenStack);function l(u){for(var d=0;d<u.length&&!(i>=o.length);d++){var h=u[d];if(typeof h=="string"||h.content&&typeof h.content=="string"){var g=o[i],f=n.tokenStack[g],b=typeof h=="string"?h:h.content,x=r(a,g),E=b.indexOf(x);if(E>-1){++i;var v=b.substring(0,E),T=new t.Token(a,t.tokenize(f,n.grammar),"language-"+a,f),w=b.substring(E+x.length),N=[];v&&N.push.apply(N,l([v])),N.push(T),w&&N.push.apply(N,l([w])),typeof h=="string"?u.splice.apply(u,[d,1].concat(N)):h.content=N}}else h.content&&l(h.content)}return u}l(n.tokens)}}})})(e)}Uu.displayName="php";Uu.aliases=[];function Uu(e){e.register(rs),(function(t){var r=/\/\*[\s\S]*?\*\/|\/\/.*|#(?!\[).*/,n=[{pattern:/\b(?:false|true)\b/i,alias:"boolean"},{pattern:/(::\s*)\b[a-z_]\w*\b(?!\s*\()/i,greedy:!0,lookbehind:!0},{pattern:/(\b(?:case|const)\s+)\b[a-z_]\w*(?=\s*[;=])/i,greedy:!0,lookbehind:!0},/\b(?:null)\b/i,/\b[A-Z_][A-Z0-9_]*\b(?!\s*\()/],a=/\b0b[01]+(?:_[01]+)*\b|\b0o[0-7]+(?:_[0-7]+)*\b|\b0x[\da-f]+(?:_[\da-f]+)*\b|(?:\b\d+(?:_\d+)*\.?(?:\d+(?:_\d+)*)?|\B\.\d+)(?:e[+-]?\d+)?/i,i=/<?=>|\?\?=?|\.{3}|\??->|[!=]=?=?|::|\*\*=?|--|\+\+|&&|\|\||<<|>>|[?~]|[/^|%*&<>.+-]=?/,o=/[{}\[\](),:;]/;t.languages.php={delimiter:{pattern:/\?>$|^<\?(?:php(?=\s)|=)?/i,alias:"important"},comment:r,variable:/\$+(?:\w+\b|(?=\{))/,package:{pattern:/(namespace\s+|use\s+(?:function\s+)?)(?:\\?\b[a-z_]\w*)+\b(?!\\)/i,lookbehind:!0,inside:{punctuation:/\\/}},"class-name-definition":{pattern:/(\b(?:class|enum|interface|trait)\s+)\b[a-z_]\w*(?!\\)\b/i,lookbehind:!0,alias:"class-name"},"function-definition":{pattern:/(\bfunction\s+)[a-z_]\w*(?=\s*\()/i,lookbehind:!0,alias:"function"},keyword:[{pattern:/(\(\s*)\b(?:array|bool|boolean|float|int|integer|object|string)\b(?=\s*\))/i,alias:"type-casting",greedy:!0,lookbehind:!0},{pattern:/([(,?]\s*)\b(?:array(?!\s*\()|bool|callable|(?:false|null)(?=\s*\|)|float|int|iterable|mixed|object|self|static|string)\b(?=\s*\$)/i,alias:"type-hint",greedy:!0,lookbehind:!0},{pattern:/(\)\s*:\s*(?:\?\s*)?)\b(?:array(?!\s*\()|bool|callable|(?:false|null)(?=\s*\|)|float|int|iterable|mixed|never|object|self|static|string|void)\b/i,alias:"return-type",greedy:!0,lookbehind:!0},{pattern:/\b(?:array(?!\s*\()|bool|float|int|iterable|mixed|object|string|void)\b/i,alias:"type-declaration",greedy:!0},{pattern:/(\|\s*)(?:false|null)\b|\b(?:false|null)(?=\s*\|)/i,alias:"type-declaration",greedy:!0,lookbehind:!0},{pattern:/\b(?:parent|self|static)(?=\s*::)/i,alias:"static-context",greedy:!0},{pattern:/(\byield\s+)from\b/i,lookbehind:!0},/\bclass\b/i,{pattern:/((?:^|[^\s>:]|(?:^|[^-])>|(?:^|[^:]):)\s*)\b(?:abstract|and|array|as|break|callable|case|catch|clone|const|continue|declare|default|die|do|echo|else|elseif|empty|enddeclare|endfor|endforeach|endif|endswitch|endwhile|enum|eval|exit|extends|final|finally|fn|for|foreach|function|global|goto|if|implements|include|include_once|instanceof|insteadof|interface|isset|list|match|namespace|never|new|or|parent|print|private|protected|public|readonly|require|require_once|return|self|static|switch|throw|trait|try|unset|use|var|while|xor|yield|__halt_compiler)\b/i,lookbehind:!0}],"argument-name":{pattern:/([(,]\s*)\b[a-z_]\w*(?=\s*:(?!:))/i,lookbehind:!0},"class-name":[{pattern:/(\b(?:extends|implements|instanceof|new(?!\s+self|\s+static))\s+|\bcatch\s*\()\b[a-z_]\w*(?!\\)\b/i,greedy:!0,lookbehind:!0},{pattern:/(\|\s*)\b[a-z_]\w*(?!\\)\b/i,greedy:!0,lookbehind:!0},{pattern:/\b[a-z_]\w*(?!\\)\b(?=\s*\|)/i,greedy:!0},{pattern:/(\|\s*)(?:\\?\b[a-z_]\w*)+\b/i,alias:"class-name-fully-qualified",greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}},{pattern:/(?:\\?\b[a-z_]\w*)+\b(?=\s*\|)/i,alias:"class-name-fully-qualified",greedy:!0,inside:{punctuation:/\\/}},{pattern:/(\b(?:extends|implements|instanceof|new(?!\s+self\b|\s+static\b))\s+|\bcatch\s*\()(?:\\?\b[a-z_]\w*)+\b(?!\\)/i,alias:"class-name-fully-qualified",greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}},{pattern:/\b[a-z_]\w*(?=\s*\$)/i,alias:"type-declaration",greedy:!0},{pattern:/(?:\\?\b[a-z_]\w*)+(?=\s*\$)/i,alias:["class-name-fully-qualified","type-declaration"],greedy:!0,inside:{punctuation:/\\/}},{pattern:/\b[a-z_]\w*(?=\s*::)/i,alias:"static-context",greedy:!0},{pattern:/(?:\\?\b[a-z_]\w*)+(?=\s*::)/i,alias:["class-name-fully-qualified","static-context"],greedy:!0,inside:{punctuation:/\\/}},{pattern:/([(,?]\s*)[a-z_]\w*(?=\s*\$)/i,alias:"type-hint",greedy:!0,lookbehind:!0},{pattern:/([(,?]\s*)(?:\\?\b[a-z_]\w*)+(?=\s*\$)/i,alias:["class-name-fully-qualified","type-hint"],greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}},{pattern:/(\)\s*:\s*(?:\?\s*)?)\b[a-z_]\w*(?!\\)\b/i,alias:"return-type",greedy:!0,lookbehind:!0},{pattern:/(\)\s*:\s*(?:\?\s*)?)(?:\\?\b[a-z_]\w*)+\b(?!\\)/i,alias:["class-name-fully-qualified","return-type"],greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}}],constant:n,function:{pattern:/(^|[^\\\w])\\?[a-z_](?:[\w\\]*\w)?(?=\s*\()/i,lookbehind:!0,inside:{punctuation:/\\/}},property:{pattern:/(->\s*)\w+/,lookbehind:!0},number:a,operator:i,punctuation:o};var l={pattern:/\{\$(?:\{(?:\{[^{}]+\}|[^{}]+)\}|[^{}])+\}|(^|[^\\{])\$+(?:\w+(?:\[[^\r\n\[\]]+\]|->\w+)?)/,lookbehind:!0,inside:t.languages.php},u=[{pattern:/<<<'([^']+)'[\r\n](?:.*[\r\n])*?\1;/,alias:"nowdoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<<'[^']+'|[a-z_]\w*;$/i,alias:"symbol",inside:{punctuation:/^<<<'?|[';]$/}}}},{pattern:/<<<(?:"([^"]+)"[\r\n](?:.*[\r\n])*?\1;|([a-z_]\w*)[\r\n](?:.*[\r\n])*?\2;)/i,alias:"heredoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<<(?:"[^"]+"|[a-z_]\w*)|[a-z_]\w*;$/i,alias:"symbol",inside:{punctuation:/^<<<"?|[";]$/}},interpolation:l}},{pattern:/`(?:\\[\s\S]|[^\\`])*`/,alias:"backtick-quoted-string",greedy:!0},{pattern:/'(?:\\[\s\S]|[^\\'])*'/,alias:"single-quoted-string",greedy:!0},{pattern:/"(?:\\[\s\S]|[^\\"])*"/,alias:"double-quoted-string",greedy:!0,inside:{interpolation:l}}];t.languages.insertBefore("php","variable",{string:u,attribute:{pattern:/#\[(?:[^"'\/#]|\/(?![*/])|\/\/.*$|#(?!\[).*$|\/\*(?:[^*]|\*(?!\/))*\*\/|"(?:\\[\s\S]|[^\\"])*"|'(?:\\[\s\S]|[^\\'])*')+\](?=\s*[a-z$#])/im,greedy:!0,inside:{"attribute-content":{pattern:/^(#\[)[\s\S]+(?=\]$)/,lookbehind:!0,inside:{comment:r,string:u,"attribute-class-name":[{pattern:/([^:]|^)\b[a-z_]\w*(?!\\)\b/i,alias:"class-name",greedy:!0,lookbehind:!0},{pattern:/([^:]|^)(?:\\?\b[a-z_]\w*)+/i,alias:["class-name","class-name-fully-qualified"],greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}}],constant:n,number:a,operator:i,punctuation:o}},delimiter:{pattern:/^#\[|\]$/,alias:"punctuation"}}}}),t.hooks.add("before-tokenize",function(d){if(/<\?/.test(d.code)){var h=/<\?(?:[^"'/#]|\/(?![*/])|("|')(?:\\[\s\S]|(?!\1)[^\\])*\1|(?:\/\/|#(?!\[))(?:[^?\n\r]|\?(?!>))*(?=$|\?>|[\r\n])|#\[|\/\*(?:[^*]|\*(?!\/))*(?:\*\/|$))*?(?:\?>|$)/g;t.languages["markup-templating"].buildPlaceholders(d,"php",h)}}),t.hooks.add("after-tokenize",function(d){t.languages["markup-templating"].tokenizePlaceholders(d,"php")})})(e)}Xm.displayName="python";Xm.aliases=["py"];function Xm(e){e.languages.python={comment:{pattern:/(^|[^\\])#.*/,lookbehind:!0,greedy:!0},"string-interpolation":{pattern:/(?:f|fr|rf)(?:("""|''')[\s\S]*?\1|("|')(?:\\.|(?!\2)[^\\\r\n])*\2)/i,greedy:!0,inside:{interpolation:{pattern:/((?:^|[^{])(?:\{\{)*)\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}])+\})+\})+\}/,lookbehind:!0,inside:{"format-spec":{pattern:/(:)[^:(){}]+(?=\}$)/,lookbehind:!0},"conversion-option":{pattern:/![sra](?=[:}]$)/,alias:"punctuation"},rest:null}},string:/[\s\S]+/}},"triple-quoted-string":{pattern:/(?:[rub]|br|rb)?("""|''')[\s\S]*?\1/i,greedy:!0,alias:"string"},string:{pattern:/(?:[rub]|br|rb)?("|')(?:\\.|(?!\1)[^\\\r\n])*\1/i,greedy:!0},function:{pattern:/((?:^|\s)def[ \t]+)[a-zA-Z_]\w*(?=\s*\()/g,lookbehind:!0},"class-name":{pattern:/(\bclass\s+)\w+/i,lookbehind:!0},decorator:{pattern:/(^[\t ]*)@\w+(?:\.\w+)*/m,lookbehind:!0,alias:["annotation","punctuation"],inside:{punctuation:/\./}},keyword:/\b(?:_(?=\s*:)|and|as|assert|async|await|break|case|class|continue|def|del|elif|else|except|exec|finally|for|from|global|if|import|in|is|lambda|match|nonlocal|not|or|pass|print|raise|return|try|while|with|yield)\b/,builtin:/\b(?:__import__|abs|all|any|apply|ascii|basestring|bin|bool|buffer|bytearray|bytes|callable|chr|classmethod|cmp|coerce|compile|complex|delattr|dict|dir|divmod|enumerate|eval|execfile|file|filter|float|format|frozenset|getattr|globals|hasattr|hash|help|hex|id|input|int|intern|isinstance|issubclass|iter|len|list|locals|long|map|max|memoryview|min|next|object|oct|open|ord|pow|property|range|raw_input|reduce|reload|repr|reversed|round|set|setattr|slice|sorted|staticmethod|str|sum|super|tuple|type|unichr|unicode|vars|xrange|zip)\b/,boolean:/\b(?:False|None|True)\b/,number:/\b0(?:b(?:_?[01])+|o(?:_?[0-7])+|x(?:_?[a-f0-9])+)\b|(?:\b\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\B\.\d+(?:_\d+)*)(?:e[+-]?\d+(?:_\d+)*)?j?(?!\w)/i,operator:/[-+%=]=?|!=|:=|\*\*?=?|\/\/?=?|<[<=>]?|>[=>]?|[&|^~]/,punctuation:/[{}[\];(),.:]/},e.languages.python["string-interpolation"].inside.interpolation.inside.rest=e.languages.python,e.languages.py=e.languages.python}Ix.displayName="r";Ix.aliases=[];function Ix(e){e.languages.r={comment:/#.*/,string:{pattern:/(['"])(?:\\.|(?!\1)[^\\\r\n])*\1/,greedy:!0},"percent-operator":{pattern:/%[^%\s]*%/,alias:"operator"},boolean:/\b(?:FALSE|TRUE)\b/,ellipsis:/\.\.(?:\.|\d+)/,number:[/\b(?:Inf|NaN)\b/,/(?:\b0x[\dA-Fa-f]+(?:\.\d*)?|\b\d+(?:\.\d*)?|\B\.\d+)(?:[EePp][+-]?\d+)?[iL]?/],keyword:/\b(?:NA|NA_character_|NA_complex_|NA_integer_|NA_real_|NULL|break|else|for|function|if|in|next|repeat|while)\b/,operator:/->?>?|<(?:=|<?-)?|[>=!]=?|::?|&&?|\|\|?|[+*\/^$@~]/,punctuation:/[(){}\[\],;]/}}$u.displayName="ruby";$u.aliases=["rb"];function $u(e){e.register(Kr),(function(t){t.languages.ruby=t.languages.extend("clike",{comment:{pattern:/#.*|^=begin\s[\s\S]*?^=end/m,greedy:!0},"class-name":{pattern:/(\b(?:class|module)\s+|\bcatch\s+\()[\w.\\]+|\b[A-Z_]\w*(?=\s*\.\s*new\b)/,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:BEGIN|END|alias|and|begin|break|case|class|def|define_method|defined|do|each|else|elsif|end|ensure|extend|for|if|in|include|module|new|next|nil|not|or|prepend|private|protected|public|raise|redo|require|rescue|retry|return|self|super|then|throw|undef|unless|until|when|while|yield)\b/,operator:/\.{2,3}|&\.|===|<?=>|[!=]?~|(?:&&|\|\||<<|>>|\*\*|[+\-*/%<>!^&|=])=?|[?:]/,punctuation:/[(){}[\].,;]/}),t.languages.insertBefore("ruby","operator",{"double-colon":{pattern:/::/,alias:"punctuation"}});var r={pattern:/((?:^|[^\\])(?:\\{2})*)#\{(?:[^{}]|\{[^{}]*\})*\}/,lookbehind:!0,inside:{content:{pattern:/^(#\{)[\s\S]+(?=\}$)/,lookbehind:!0,inside:t.languages.ruby},delimiter:{pattern:/^#\{|\}$/,alias:"punctuation"}}};delete t.languages.ruby.function;var n="(?:"+[/([^a-zA-Z0-9\s{(\[<=])(?:(?!\1)[^\\]|\\[\s\S])*\1/.source,/\((?:[^()\\]|\\[\s\S]|\((?:[^()\\]|\\[\s\S])*\))*\)/.source,/\{(?:[^{}\\]|\\[\s\S]|\{(?:[^{}\\]|\\[\s\S])*\})*\}/.source,/\[(?:[^\[\]\\]|\\[\s\S]|\[(?:[^\[\]\\]|\\[\s\S])*\])*\]/.source,/<(?:[^<>\\]|\\[\s\S]|<(?:[^<>\\]|\\[\s\S])*>)*>/.source].join("|")+")",a=/(?:"(?:\\.|[^"\\\r\n])*"|(?:\b[a-zA-Z_]\w*|[^\s\0-\x7F]+)[?!]?|\$.)/.source;t.languages.insertBefore("ruby","keyword",{"regex-literal":[{pattern:RegExp(/%r/.source+n+/[egimnosux]{0,6}/.source),greedy:!0,inside:{interpolation:r,regex:/[\s\S]+/}},{pattern:/(^|[^/])\/(?!\/)(?:\[[^\r\n\]]+\]|\\.|[^[/\\\r\n])+\/[egimnosux]{0,6}(?=\s*(?:$|[\r\n,.;})#]))/,lookbehind:!0,greedy:!0,inside:{interpolation:r,regex:/[\s\S]+/}}],variable:/[@$]+[a-zA-Z_]\w*(?:[?!]|\b)/,symbol:[{pattern:RegExp(/(^|[^:]):/.source+a),lookbehind:!0,greedy:!0},{pattern:RegExp(/([\r\n{(,][ \t]*)/.source+a+/(?=:(?!:))/.source),lookbehind:!0,greedy:!0}],"method-definition":{pattern:/(\bdef\s+)\w+(?:\s*\.\s*\w+)?/,lookbehind:!0,inside:{function:/\b\w+$/,keyword:/^self\b/,"class-name":/^\w+/,punctuation:/\./}}}),t.languages.insertBefore("ruby","string",{"string-literal":[{pattern:RegExp(/%[qQiIwWs]?/.source+n),greedy:!0,inside:{interpolation:r,string:/[\s\S]+/}},{pattern:/("|')(?:#\{[^}]+\}|#(?!\{)|\\(?:\r\n|[\s\S])|(?!\1)[^\\#\r\n])*\1/,greedy:!0,inside:{interpolation:r,string:/[\s\S]+/}},{pattern:/<<[-~]?([a-z_]\w*)[\r\n](?:.*[\r\n])*?[\t ]*\1/i,alias:"heredoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<[-~]?[a-z_]\w*|\b[a-z_]\w*$/i,inside:{symbol:/\b\w+/,punctuation:/^<<[-~]?/}},interpolation:r,string:/[\s\S]+/}},{pattern:/<<[-~]?'([a-z_]\w*)'[\r\n](?:.*[\r\n])*?[\t ]*\1/i,alias:"heredoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<[-~]?'[a-z_]\w*'|\b[a-z_]\w*$/i,inside:{symbol:/\b\w+/,punctuation:/^<<[-~]?'|'$/}},string:/[\s\S]+/}}],"command-literal":[{pattern:RegExp(/%x/.source+n),greedy:!0,inside:{interpolation:r,command:{pattern:/[\s\S]+/,alias:"string"}}},{pattern:/`(?:#\{[^}]+\}|#(?!\{)|\\(?:\r\n|[\s\S])|[^\\`#\r\n])*`/,greedy:!0,inside:{interpolation:r,command:{pattern:/[\s\S]+/,alias:"string"}}}]}),delete t.languages.ruby.string,t.languages.insertBefore("ruby","number",{builtin:/\b(?:Array|Bignum|Binding|Class|Continuation|Dir|Exception|FalseClass|File|Fixnum|Float|Hash|IO|Integer|MatchData|Method|Module|NilClass|Numeric|Object|Proc|Range|Regexp|Stat|String|Struct|Symbol|TMS|Thread|ThreadGroup|Time|TrueClass)\b/,constant:/\b[A-Z][A-Z0-9_]*(?:[?!]|\b)/}),t.languages.rb=t.languages.ruby})(e)}Rx.displayName="rust";Rx.aliases=[];function Rx(e){(function(t){for(var r=/\/\*(?:[^*/]|\*(?!\/)|\/(?!\*)|<self>)*\*\//.source,n=0;n<2;n++)r=r.replace(/<self>/g,function(){return r});r=r.replace(/<self>/g,function(){return/[^\s\S]/.source}),t.languages.rust={comment:[{pattern:RegExp(/(^|[^\\])/.source+r),lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/b?"(?:\\[\s\S]|[^\\"])*"|b?r(#*)"(?:[^"]|"(?!\1))*"\1/,greedy:!0},char:{pattern:/b?'(?:\\(?:x[0-7][\da-fA-F]|u\{(?:[\da-fA-F]_*){1,6}\}|.)|[^\\\r\n\t'])'/,greedy:!0},attribute:{pattern:/#!?\[(?:[^\[\]"]|"(?:\\[\s\S]|[^\\"])*")*\]/,greedy:!0,alias:"attr-name",inside:{string:null}},"closure-params":{pattern:/([=(,:]\s*|\bmove\s*)\|[^|]*\||\|[^|]*\|(?=\s*(?:\{|->))/,lookbehind:!0,greedy:!0,inside:{"closure-punctuation":{pattern:/^\||\|$/,alias:"punctuation"},rest:null}},"lifetime-annotation":{pattern:/'\w+/,alias:"symbol"},"fragment-specifier":{pattern:/(\$\w+:)[a-z]+/,lookbehind:!0,alias:"punctuation"},variable:/\$\w+/,"function-definition":{pattern:/(\bfn\s+)\w+/,lookbehind:!0,alias:"function"},"type-definition":{pattern:/(\b(?:enum|struct|trait|type|union)\s+)\w+/,lookbehind:!0,alias:"class-name"},"module-declaration":[{pattern:/(\b(?:crate|mod)\s+)[a-z][a-z_\d]*/,lookbehind:!0,alias:"namespace"},{pattern:/(\b(?:crate|self|super)\s*)::\s*[a-z][a-z_\d]*\b(?:\s*::(?:\s*[a-z][a-z_\d]*\s*::)*)?/,lookbehind:!0,alias:"namespace",inside:{punctuation:/::/}}],keyword:[/\b(?:Self|abstract|as|async|await|become|box|break|const|continue|crate|do|dyn|else|enum|extern|final|fn|for|if|impl|in|let|loop|macro|match|mod|move|mut|override|priv|pub|ref|return|self|static|struct|super|trait|try|type|typeof|union|unsafe|unsized|use|virtual|where|while|yield)\b/,/\b(?:bool|char|f(?:32|64)|[ui](?:8|16|32|64|128|size)|str)\b/],function:/\b[a-z_]\w*(?=\s*(?:::\s*<|\())/,macro:{pattern:/\b\w+!/,alias:"property"},constant:/\b[A-Z_][A-Z_\d]+\b/,"class-name":/\b[A-Z]\w*\b/,namespace:{pattern:/(?:\b[a-z][a-z_\d]*\s*::\s*)*\b[a-z][a-z_\d]*\s*::(?!\s*<)/,inside:{punctuation:/::/}},number:/\b(?:0x[\dA-Fa-f](?:_?[\dA-Fa-f])*|0o[0-7](?:_?[0-7])*|0b[01](?:_?[01])*|(?:(?:\d(?:_?\d)*)?\.)?\d(?:_?\d)*(?:[Ee][+-]?\d+)?)(?:_?(?:f32|f64|[iu](?:8|16|32|64|size)?))?\b/,boolean:/\b(?:false|true)\b/,punctuation:/->|\.\.=|\.{1,3}|::|[{}[\];(),:]/,operator:/[-+*\/%!^]=?|=[=>]?|&[&=]?|\|[|=]?|<<?=?|>>?=?|[@?]/},t.languages.rust["closure-params"].inside.rest=t.languages.rust,t.languages.rust.attribute.inside.string=t.languages.rust.string})(e)}Dx.displayName="sass";Dx.aliases=[];function Dx(e){e.register(Cc),(function(t){t.languages.sass=t.languages.extend("css",{comment:{pattern:/^([ \t]*)\/[\/*].*(?:(?:\r?\n|\r)\1[ \t].+)*/m,lookbehind:!0,greedy:!0}}),t.languages.insertBefore("sass","atrule",{"atrule-line":{pattern:/^(?:[ \t]*)[@+=].+/m,greedy:!0,inside:{atrule:/(?:@[\w-]+|[+=])/}}}),delete t.languages.sass.atrule;var r=/\$[-\w]+|#\{\$[-\w]+\}/,n=[/[+*\/%]|[=!]=|<=?|>=?|\b(?:and|not|or)\b/,{pattern:/(\s)-(?=\s)/,lookbehind:!0}];t.languages.insertBefore("sass","property",{"variable-line":{pattern:/^[ \t]*\$.+/m,greedy:!0,inside:{punctuation:/:/,variable:r,operator:n}},"property-line":{pattern:/^[ \t]*(?:[^:\s]+ *:.*|:[^:\s].*)/m,greedy:!0,inside:{property:[/[^:\s]+(?=\s*:)/,{pattern:/(:)[^:\s]+/,lookbehind:!0}],punctuation:/:/,variable:r,operator:n,important:t.languages.sass.important}}}),delete t.languages.sass.property,delete t.languages.sass.important,t.languages.insertBefore("sass","punctuation",{selector:{pattern:/^([ \t]*)\S(?:,[^,\r\n]+|[^,\r\n]*)(?:,[^,\r\n]+)*(?:,(?:\r?\n|\r)\1[ \t]+\S(?:,[^,\r\n]+|[^,\r\n]*)(?:,[^,\r\n]+)*)*/m,lookbehind:!0,greedy:!0}})})(e)}Lx.displayName="scss";Lx.aliases=[];function Lx(e){e.register(Cc),e.languages.scss=e.languages.extend("css",{comment:{pattern:/(^|[^\\])(?:\/\*[\s\S]*?\*\/|\/\/.*)/,lookbehind:!0},atrule:{pattern:/@[\w-](?:\([^()]+\)|[^()\s]|\s+(?!\s))*?(?=\s+[{;])/,inside:{rule:/@[\w-]+/}},url:/(?:[-a-z]+-)?url(?=\()/i,selector:{pattern:/(?=\S)[^@;{}()]?(?:[^@;{}()\s]|\s+(?!\s)|#\{\$[-\w]+\})+(?=\s*\{(?:\}|\s|[^}][^:{}]*[:{][^}]))/,inside:{parent:{pattern:/&/,alias:"important"},placeholder:/%[-\w]+/,variable:/\$[-\w]+|#\{\$[-\w]+\}/}},property:{pattern:/(?:[-\w]|\$[-\w]|#\{\$[-\w]+\})+(?=\s*:)/,inside:{variable:/\$[-\w]+|#\{\$[-\w]+\}/}}}),e.languages.insertBefore("scss","atrule",{keyword:[/@(?:content|debug|each|else(?: if)?|extend|for|forward|function|if|import|include|mixin|return|use|warn|while)\b/i,{pattern:/( )(?:from|through)(?= )/,lookbehind:!0}]}),e.languages.insertBefore("scss","important",{variable:/\$[-\w]+|#\{\$[-\w]+\}/}),e.languages.insertBefore("scss","function",{"module-modifier":{pattern:/\b(?:as|hide|show|with)\b/i,alias:"keyword"},placeholder:{pattern:/%[-\w]+/,alias:"selector"},statement:{pattern:/\B!(?:default|optional)\b/i,alias:"keyword"},boolean:/\b(?:false|true)\b/,null:{pattern:/\bnull\b/,alias:"keyword"},operator:{pattern:/(\s)(?:[-+*\/%]|[=!]=|<=?|>=?|and|not|or)(?=\s)/,lookbehind:!0}}),e.languages.scss.atrule.inside.rest=e.languages.scss}zp.displayName="sql";zp.aliases=[];function zp(e){e.languages.sql={comment:{pattern:/(^|[^\\])(?:\/\*[\s\S]*?\*\/|(?:--|\/\/|#).*)/,lookbehind:!0},variable:[{pattern:/@(["'`])(?:\\[\s\S]|(?!\1)[^\\])+\1/,greedy:!0},/@[\w.$]+/],string:{pattern:/(^|[^@\\])("|')(?:\\[\s\S]|(?!\2)[^\\]|\2\2)*\2/,greedy:!0,lookbehind:!0},identifier:{pattern:/(^|[^@\\])`(?:\\[\s\S]|[^`\\]|``)*`/,greedy:!0,lookbehind:!0,inside:{punctuation:/^`|`$/}},function:/\b(?:AVG|COUNT|FIRST|FORMAT|LAST|LCASE|LEN|MAX|MID|MIN|MOD|NOW|ROUND|SUM|UCASE)(?=\s*\()/i,keyword:/\b(?:ACTION|ADD|AFTER|ALGORITHM|ALL|ALTER|ANALYZE|ANY|APPLY|AS|ASC|AUTHORIZATION|AUTO_INCREMENT|BACKUP|BDB|BEGIN|BERKELEYDB|BIGINT|BINARY|BIT|BLOB|BOOL|BOOLEAN|BREAK|BROWSE|BTREE|BULK|BY|CALL|CASCADED?|CASE|CHAIN|CHAR(?:ACTER|SET)?|CHECK(?:POINT)?|CLOSE|CLUSTERED|COALESCE|COLLATE|COLUMNS?|COMMENT|COMMIT(?:TED)?|COMPUTE|CONNECT|CONSISTENT|CONSTRAINT|CONTAINS(?:TABLE)?|CONTINUE|CONVERT|CREATE|CROSS|CURRENT(?:_DATE|_TIME|_TIMESTAMP|_USER)?|CURSOR|CYCLE|DATA(?:BASES?)?|DATE(?:TIME)?|DAY|DBCC|DEALLOCATE|DEC|DECIMAL|DECLARE|DEFAULT|DEFINER|DELAYED|DELETE|DELIMITERS?|DENY|DESC|DESCRIBE|DETERMINISTIC|DISABLE|DISCARD|DISK|DISTINCT|DISTINCTROW|DISTRIBUTED|DO|DOUBLE|DROP|DUMMY|DUMP(?:FILE)?|DUPLICATE|ELSE(?:IF)?|ENABLE|ENCLOSED|END|ENGINE|ENUM|ERRLVL|ERRORS|ESCAPED?|EXCEPT|EXEC(?:UTE)?|EXISTS|EXIT|EXPLAIN|EXTENDED|FETCH|FIELDS|FILE|FILLFACTOR|FIRST|FIXED|FLOAT|FOLLOWING|FOR(?: EACH ROW)?|FORCE|FOREIGN|FREETEXT(?:TABLE)?|FROM|FULL|FUNCTION|GEOMETRY(?:COLLECTION)?|GLOBAL|GOTO|GRANT|GROUP|HANDLER|HASH|HAVING|HOLDLOCK|HOUR|IDENTITY(?:COL|_INSERT)?|IF|IGNORE|IMPORT|INDEX|INFILE|INNER|INNODB|INOUT|INSERT|INT|INTEGER|INTERSECT|INTERVAL|INTO|INVOKER|ISOLATION|ITERATE|JOIN|KEYS?|KILL|LANGUAGE|LAST|LEAVE|LEFT|LEVEL|LIMIT|LINENO|LINES|LINESTRING|LOAD|LOCAL|LOCK|LONG(?:BLOB|TEXT)|LOOP|MATCH(?:ED)?|MEDIUM(?:BLOB|INT|TEXT)|MERGE|MIDDLEINT|MINUTE|MODE|MODIFIES|MODIFY|MONTH|MULTI(?:LINESTRING|POINT|POLYGON)|NATIONAL|NATURAL|NCHAR|NEXT|NO|NONCLUSTERED|NULLIF|NUMERIC|OFF?|OFFSETS?|ON|OPEN(?:DATASOURCE|QUERY|ROWSET)?|OPTIMIZE|OPTION(?:ALLY)?|ORDER|OUT(?:ER|FILE)?|OVER|PARTIAL|PARTITION|PERCENT|PIVOT|PLAN|POINT|POLYGON|PRECEDING|PRECISION|PREPARE|PREV|PRIMARY|PRINT|PRIVILEGES|PROC(?:EDURE)?|PUBLIC|PURGE|QUICK|RAISERROR|READS?|REAL|RECONFIGURE|REFERENCES|RELEASE|RENAME|REPEAT(?:ABLE)?|REPLACE|REPLICATION|REQUIRE|RESIGNAL|RESTORE|RESTRICT|RETURN(?:ING|S)?|REVOKE|RIGHT|ROLLBACK|ROUTINE|ROW(?:COUNT|GUIDCOL|S)?|RTREE|RULE|SAVE(?:POINT)?|SCHEMA|SECOND|SELECT|SERIAL(?:IZABLE)?|SESSION(?:_USER)?|SET(?:USER)?|SHARE|SHOW|SHUTDOWN|SIMPLE|SMALLINT|SNAPSHOT|SOME|SONAME|SQL|START(?:ING)?|STATISTICS|STATUS|STRIPED|SYSTEM_USER|TABLES?|TABLESPACE|TEMP(?:ORARY|TABLE)?|TERMINATED|TEXT(?:SIZE)?|THEN|TIME(?:STAMP)?|TINY(?:BLOB|INT|TEXT)|TOP?|TRAN(?:SACTIONS?)?|TRIGGER|TRUNCATE|TSEQUAL|TYPES?|UNBOUNDED|UNCOMMITTED|UNDEFINED|UNION|UNIQUE|UNLOCK|UNPIVOT|UNSIGNED|UPDATE(?:TEXT)?|USAGE|USE|USER|USING|VALUES?|VAR(?:BINARY|CHAR|CHARACTER|YING)|VIEW|WAITFOR|WARNINGS|WHEN|WHERE|WHILE|WITH(?: ROLLUP|IN)?|WORK|WRITE(?:TEXT)?|YEAR)\b/i,boolean:/\b(?:FALSE|NULL|TRUE)\b/i,number:/\b0x[\da-f]+\b|\b\d+(?:\.\d*)?|\B\.\d+\b/i,operator:/[-+*\/=%^~]|&&?|\|\|?|!=?|<(?:=>?|<|>)?|>[>=]?|\b(?:AND|BETWEEN|DIV|ILIKE|IN|IS|LIKE|NOT|OR|REGEXP|RLIKE|SOUNDS LIKE|XOR)\b/i,punctuation:/[;[\]()`,.]/}}Ox.displayName="swift";Ox.aliases=[];function Ox(e){e.languages.swift={comment:{pattern:/(^|[^\\:])(?:\/\/.*|\/\*(?:[^/*]|\/(?!\*)|\*(?!\/)|\/\*(?:[^*]|\*(?!\/))*\*\/)*\*\/)/,lookbehind:!0,greedy:!0},"string-literal":[{pattern:RegExp(/(^|[^"#])/.source+"(?:"+/"(?:\\(?:\((?:[^()]|\([^()]*\))*\)|\r\n|[^(])|[^\\\r\n"])*"/.source+"|"+/"""(?:\\(?:\((?:[^()]|\([^()]*\))*\)|[^(])|[^\\"]|"(?!""))*"""/.source+")"+/(?!["#])/.source),lookbehind:!0,greedy:!0,inside:{interpolation:{pattern:/(\\\()(?:[^()]|\([^()]*\))*(?=\))/,lookbehind:!0,inside:null},"interpolation-punctuation":{pattern:/^\)|\\\($/,alias:"punctuation"},punctuation:/\\(?=[\r\n])/,string:/[\s\S]+/}},{pattern:RegExp(/(^|[^"#])(#+)/.source+"(?:"+/"(?:\\(?:#+\((?:[^()]|\([^()]*\))*\)|\r\n|[^#])|[^\\\r\n])*?"/.source+"|"+/"""(?:\\(?:#+\((?:[^()]|\([^()]*\))*\)|[^#])|[^\\])*?"""/.source+")\\2"),lookbehind:!0,greedy:!0,inside:{interpolation:{pattern:/(\\#+\()(?:[^()]|\([^()]*\))*(?=\))/,lookbehind:!0,inside:null},"interpolation-punctuation":{pattern:/^\)|\\#+\($/,alias:"punctuation"},string:/[\s\S]+/}}],directive:{pattern:RegExp(/#/.source+"(?:"+(/(?:elseif|if)\b/.source+"(?:[ 	]*"+/(?:![ \t]*)?(?:\b\w+\b(?:[ \t]*\((?:[^()]|\([^()]*\))*\))?|\((?:[^()]|\([^()]*\))*\))(?:[ \t]*(?:&&|\|\|))?/.source+")+")+"|"+/(?:else|endif)\b/.source+")"),alias:"property",inside:{"directive-name":/^#\w+/,boolean:/\b(?:false|true)\b/,number:/\b\d+(?:\.\d+)*\b/,operator:/!|&&|\|\||[<>]=?/,punctuation:/[(),]/}},literal:{pattern:/#(?:colorLiteral|column|dsohandle|file(?:ID|Literal|Path)?|function|imageLiteral|line)\b/,alias:"constant"},"other-directive":{pattern:/#\w+\b/,alias:"property"},attribute:{pattern:/@\w+/,alias:"atrule"},"function-definition":{pattern:/(\bfunc\s+)\w+/,lookbehind:!0,alias:"function"},label:{pattern:/\b(break|continue)\s+\w+|\b[a-zA-Z_]\w*(?=\s*:\s*(?:for|repeat|while)\b)/,lookbehind:!0,alias:"important"},keyword:/\b(?:Any|Protocol|Self|Type|actor|as|assignment|associatedtype|associativity|async|await|break|case|catch|class|continue|convenience|default|defer|deinit|didSet|do|dynamic|else|enum|extension|fallthrough|fileprivate|final|for|func|get|guard|higherThan|if|import|in|indirect|infix|init|inout|internal|is|isolated|lazy|left|let|lowerThan|mutating|none|nonisolated|nonmutating|open|operator|optional|override|postfix|precedencegroup|prefix|private|protocol|public|repeat|required|rethrows|return|right|safe|self|set|some|static|struct|subscript|super|switch|throw|throws|try|typealias|unowned|unsafe|var|weak|where|while|willSet)\b/,boolean:/\b(?:false|true)\b/,nil:{pattern:/\bnil\b/,alias:"constant"},"short-argument":/\$\d+\b/,omit:{pattern:/\b_\b/,alias:"keyword"},number:/\b(?:[\d_]+(?:\.[\de_]+)?|0x[a-f0-9_]+(?:\.[a-f0-9p_]+)?|0b[01_]+|0o[0-7_]+)\b/i,"class-name":/\b[A-Z](?:[A-Z_\d]*[a-z]\w*)?\b/,function:/\b[a-z_]\w*(?=\s*\()/i,constant:/\b(?:[A-Z_]{2,}|k[A-Z][A-Za-z_]+)\b/,operator:/[-+*/%=!<>&|^~?]+|\.[.\-+*/%=!<>&|^~?]+/,punctuation:/[{}[\]();,.:\\]/},e.languages.swift["string-literal"].forEach(function(t){t.inside.interpolation.inside=e.languages.swift})}Gp.displayName="typescript";Gp.aliases=["ts"];function Gp(e){e.register(ts),(function(t){t.languages.typescript=t.languages.extend("javascript",{"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|type)\s+)(?!keyof\b)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?:\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>)?/,lookbehind:!0,greedy:!0,inside:null},builtin:/\b(?:Array|Function|Promise|any|boolean|console|never|number|string|symbol|unknown)\b/}),t.languages.typescript.keyword.push(/\b(?:abstract|declare|is|keyof|readonly|require)\b/,/\b(?:asserts|infer|interface|module|namespace|type)\b(?=\s*(?:[{_$a-zA-Z\xA0-\uFFFF]|$))/,/\btype\b(?=\s*(?:[\{*]|$))/),delete t.languages.typescript.parameter,delete t.languages.typescript["literal-property"];var r=t.languages.extend("typescript",{});delete r["class-name"],t.languages.typescript["class-name"].inside=r,t.languages.insertBefore("typescript","function",{decorator:{pattern:/@[$\w\xA0-\uFFFF]+/,inside:{at:{pattern:/^@/,alias:"operator"},function:/^[\s\S]+/}},"generic-function":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>(?=\s*\()/,greedy:!0,inside:{function:/^#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*/,generic:{pattern:/<[\s\S]+/,alias:"class-name",inside:r}}}}),t.languages.ts=t.languages.typescript})(e)}Zm.displayName="basic";Zm.aliases=[];function Zm(e){e.languages.basic={comment:{pattern:/(?:!|REM\b).+/i,inside:{keyword:/^REM/i}},string:{pattern:/"(?:""|[!#$%&'()*,\/:;<=>?^\w +\-.])*"/,greedy:!0},number:/(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:E[+-]?\d+)?/i,keyword:/\b(?:AS|BEEP|BLOAD|BSAVE|CALL(?: ABSOLUTE)?|CASE|CHAIN|CHDIR|CLEAR|CLOSE|CLS|COM|COMMON|CONST|DATA|DECLARE|DEF(?: FN| SEG|DBL|INT|LNG|SNG|STR)|DIM|DO|DOUBLE|ELSE|ELSEIF|END|ENVIRON|ERASE|ERROR|EXIT|FIELD|FILES|FOR|FUNCTION|GET|GOSUB|GOTO|IF|INPUT|INTEGER|IOCTL|KEY|KILL|LINE INPUT|LOCATE|LOCK|LONG|LOOP|LSET|MKDIR|NAME|NEXT|OFF|ON(?: COM| ERROR| KEY| TIMER)?|OPEN|OPTION BASE|OUT|POKE|PUT|READ|REDIM|REM|RESTORE|RESUME|RETURN|RMDIR|RSET|RUN|SELECT CASE|SHARED|SHELL|SINGLE|SLEEP|STATIC|STEP|STOP|STRING|SUB|SWAP|SYSTEM|THEN|TIMER|TO|TROFF|TRON|TYPE|UNLOCK|UNTIL|USING|VIEW PRINT|WAIT|WEND|WHILE|WRITE)(?:\$|\b)/i,function:/\b(?:ABS|ACCESS|ACOS|ANGLE|AREA|ARITHMETIC|ARRAY|ASIN|ASK|AT|ATN|BASE|BEGIN|BREAK|CAUSE|CEIL|CHR|CLIP|COLLATE|COLOR|CON|COS|COSH|COT|CSC|DATE|DATUM|DEBUG|DECIMAL|DEF|DEG|DEGREES|DELETE|DET|DEVICE|DISPLAY|DOT|ELAPSED|EPS|ERASABLE|EXLINE|EXP|EXTERNAL|EXTYPE|FILETYPE|FIXED|FP|GO|GRAPH|HANDLER|IDN|IMAGE|IN|INT|INTERNAL|IP|IS|KEYED|LBOUND|LCASE|LEFT|LEN|LENGTH|LET|LINE|LINES|LOG|LOG10|LOG2|LTRIM|MARGIN|MAT|MAX|MAXNUM|MID|MIN|MISSING|MOD|NATIVE|NUL|NUMERIC|OF|OPTION|ORD|ORGANIZATION|OUTIN|OUTPUT|PI|POINT|POINTER|POINTS|POS|PRINT|PROGRAM|PROMPT|RAD|RADIANS|RANDOMIZE|RECORD|RECSIZE|RECTYPE|RELATIVE|REMAINDER|REPEAT|REST|RETRY|REWRITE|RIGHT|RND|ROUND|RTRIM|SAME|SEC|SELECT|SEQUENTIAL|SET|SETTER|SGN|SIN|SINH|SIZE|SKIP|SQR|STANDARD|STATUS|STR|STREAM|STYLE|TAB|TAN|TANH|TEMPLATE|TEXT|THERE|TIME|TIMEOUT|TRACE|TRANSFORM|TRUNCATE|UBOUND|UCASE|USE|VAL|VARIABLE|VIEWPORT|WHEN|WINDOW|WITH|ZER|ZONEWIDTH)(?:\$|\b)/i,operator:/<[=>]?|>=?|[+\-*\/^=&]|\b(?:AND|EQV|IMP|NOT|OR|XOR)\b/i,punctuation:/[,;:()]/}}Jm.displayName="vbnet";Jm.aliases=[];function Jm(e){e.register(Zm),e.languages.vbnet=e.languages.extend("basic",{comment:[{pattern:/(?:!|REM\b).+/i,inside:{keyword:/^REM/i}},{pattern:/(^|[^\\:])'.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(^|[^"])"(?:""|[^"])*"(?!")/,lookbehind:!0,greedy:!0},keyword:/(?:\b(?:ADDHANDLER|ADDRESSOF|ALIAS|AND|ANDALSO|AS|BEEP|BLOAD|BOOLEAN|BSAVE|BYREF|BYTE|BYVAL|CALL(?: ABSOLUTE)?|CASE|CATCH|CBOOL|CBYTE|CCHAR|CDATE|CDBL|CDEC|CHAIN|CHAR|CHDIR|CINT|CLASS|CLEAR|CLNG|CLOSE|CLS|COBJ|COM|COMMON|CONST|CONTINUE|CSBYTE|CSHORT|CSNG|CSTR|CTYPE|CUINT|CULNG|CUSHORT|DATA|DATE|DECIMAL|DECLARE|DEF(?: FN| SEG|DBL|INT|LNG|SNG|STR)|DEFAULT|DELEGATE|DIM|DIRECTCAST|DO|DOUBLE|ELSE|ELSEIF|END|ENUM|ENVIRON|ERASE|ERROR|EVENT|EXIT|FALSE|FIELD|FILES|FINALLY|FOR(?: EACH)?|FRIEND|FUNCTION|GET|GETTYPE|GETXMLNAMESPACE|GLOBAL|GOSUB|GOTO|HANDLES|IF|IMPLEMENTS|IMPORTS|IN|INHERITS|INPUT|INTEGER|INTERFACE|IOCTL|IS|ISNOT|KEY|KILL|LET|LIB|LIKE|LINE INPUT|LOCATE|LOCK|LONG|LOOP|LSET|ME|MKDIR|MOD|MODULE|MUSTINHERIT|MUSTOVERRIDE|MYBASE|MYCLASS|NAME|NAMESPACE|NARROWING|NEW|NEXT|NOT|NOTHING|NOTINHERITABLE|NOTOVERRIDABLE|OBJECT|OF|OFF|ON(?: COM| ERROR| KEY| TIMER)?|OPEN|OPERATOR|OPTION(?: BASE)?|OPTIONAL|OR|ORELSE|OUT|OVERLOADS|OVERRIDABLE|OVERRIDES|PARAMARRAY|PARTIAL|POKE|PRIVATE|PROPERTY|PROTECTED|PUBLIC|PUT|RAISEEVENT|READ|READONLY|REDIM|REM|REMOVEHANDLER|RESTORE|RESUME|RETURN|RMDIR|RSET|RUN|SBYTE|SELECT(?: CASE)?|SET|SHADOWS|SHARED|SHELL|SHORT|SINGLE|SLEEP|STATIC|STEP|STOP|STRING|STRUCTURE|SUB|SWAP|SYNCLOCK|SYSTEM|THEN|THROW|TIMER|TO|TROFF|TRON|TRUE|TRY|TRYCAST|TYPE|TYPEOF|UINTEGER|ULONG|UNLOCK|UNTIL|USHORT|USING|VIEW PRINT|WAIT|WEND|WHEN|WHILE|WIDENING|WITH|WITHEVENTS|WRITE|WRITEONLY|XOR)|\B(?:#CONST|#ELSE|#ELSEIF|#END|#IF))(?:\$|\b)/i,punctuation:/[,;:(){}]/})}class ef{constructor(t,r,n){this.property=t,this.normal=r,n&&(this.space=n)}}ef.prototype.property={};ef.prototype.normal={};ef.prototype.space=null;function sH(e,t){const r={},n={};let a=-1;for(;++a<e.length;)Object.assign(r,e[a].property),Object.assign(n,e[a].normal);return new ef(r,n,t)}function Sm(e){return e.toLowerCase()}class Wi{constructor(t,r){this.property=t,this.attribute=r}}Wi.prototype.space=null;Wi.prototype.boolean=!1;Wi.prototype.booleanish=!1;Wi.prototype.overloadedBoolean=!1;Wi.prototype.number=!1;Wi.prototype.commaSeparated=!1;Wi.prototype.spaceSeparated=!1;Wi.prototype.commaOrSpaceSeparated=!1;Wi.prototype.mustUseProperty=!1;Wi.prototype.defined=!1;let nwe=0;const Or=Hu(),Ca=Hu(),iH=Hu(),St=Hu(),Hn=Hu(),Jd=Hu(),bi=Hu();function Hu(){return 2**++nwe}const uw=Object.freeze(Object.defineProperty({__proto__:null,boolean:Or,booleanish:Ca,commaOrSpaceSeparated:bi,commaSeparated:Jd,number:St,overloadedBoolean:iH,spaceSeparated:Hn},Symbol.toStringTag,{value:"Module"})),t1=Object.keys(uw);class oC extends Wi{constructor(t,r,n,a){let i=-1;if(super(t,r),OP(this,"space",a),typeof n=="number")for(;++i<t1.length;){const o=t1[i];OP(this,t1[i],(n&uw[o])===uw[o])}}}oC.prototype.defined=!0;function OP(e,t,r){r&&(e[t]=r)}const awe={}.hasOwnProperty;function qp(e){const t={},r={};let n;for(n in e.properties)if(awe.call(e.properties,n)){const a=e.properties[n],i=new oC(n,e.transform(e.attributes||{},n),a,e.space);e.mustUseProperty&&e.mustUseProperty.includes(n)&&(i.mustUseProperty=!0),t[n]=i,r[Sm(n)]=n,r[Sm(i.attribute)]=n}return new ef(t,r,e.space)}const oH=qp({space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()},properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}}),lH=qp({space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()},properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function cH(e,t){return t in e?e[t]:t}function uH(e,t){return cH(e,t.toLowerCase())}const dH=qp({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:uH,properties:{xmlns:null,xmlnsXLink:null}}),pH=qp({transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()},properties:{ariaActiveDescendant:null,ariaAtomic:Ca,ariaAutoComplete:null,ariaBusy:Ca,ariaChecked:Ca,ariaColCount:St,ariaColIndex:St,ariaColSpan:St,ariaControls:Hn,ariaCurrent:null,ariaDescribedBy:Hn,ariaDetails:null,ariaDisabled:Ca,ariaDropEffect:Hn,ariaErrorMessage:null,ariaExpanded:Ca,ariaFlowTo:Hn,ariaGrabbed:Ca,ariaHasPopup:null,ariaHidden:Ca,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Hn,ariaLevel:St,ariaLive:null,ariaModal:Ca,ariaMultiLine:Ca,ariaMultiSelectable:Ca,ariaOrientation:null,ariaOwns:Hn,ariaPlaceholder:null,ariaPosInSet:St,ariaPressed:Ca,ariaReadOnly:Ca,ariaRelevant:null,ariaRequired:Ca,ariaRoleDescription:Hn,ariaRowCount:St,ariaRowIndex:St,ariaRowSpan:St,ariaSelected:Ca,ariaSetSize:St,ariaSort:null,ariaValueMax:St,ariaValueMin:St,ariaValueNow:St,ariaValueText:null,role:null}}),swe=qp({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:uH,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Jd,acceptCharset:Hn,accessKey:Hn,action:null,allow:null,allowFullScreen:Or,allowPaymentRequest:Or,allowUserMedia:Or,alt:null,as:null,async:Or,autoCapitalize:null,autoComplete:Hn,autoFocus:Or,autoPlay:Or,blocking:Hn,capture:null,charSet:null,checked:Or,cite:null,className:Hn,cols:St,colSpan:null,content:null,contentEditable:Ca,controls:Or,controlsList:Hn,coords:St|Jd,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Or,defer:Or,dir:null,dirName:null,disabled:Or,download:iH,draggable:Ca,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Or,formTarget:null,headers:Hn,height:St,hidden:Or,high:St,href:null,hrefLang:null,htmlFor:Hn,httpEquiv:Hn,id:null,imageSizes:null,imageSrcSet:null,inert:Or,inputMode:null,integrity:null,is:null,isMap:Or,itemId:null,itemProp:Hn,itemRef:Hn,itemScope:Or,itemType:Hn,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Or,low:St,manifest:null,max:null,maxLength:St,media:null,method:null,min:null,minLength:St,multiple:Or,muted:Or,name:null,nonce:null,noModule:Or,noValidate:Or,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Or,optimum:St,pattern:null,ping:Hn,placeholder:null,playsInline:Or,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Or,referrerPolicy:null,rel:Hn,required:Or,reversed:Or,rows:St,rowSpan:St,sandbox:Hn,scope:null,scoped:Or,seamless:Or,selected:Or,shadowRootClonable:Or,shadowRootDelegatesFocus:Or,shadowRootMode:null,shape:null,size:St,sizes:null,slot:null,span:St,spellCheck:Ca,src:null,srcDoc:null,srcLang:null,srcSet:null,start:St,step:null,style:null,tabIndex:St,target:null,title:null,translate:null,type:null,typeMustMatch:Or,useMap:null,value:Ca,width:St,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Hn,axis:null,background:null,bgColor:null,border:St,borderColor:null,bottomMargin:St,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Or,declare:Or,event:null,face:null,frame:null,frameBorder:null,hSpace:St,leftMargin:St,link:null,longDesc:null,lowSrc:null,marginHeight:St,marginWidth:St,noResize:Or,noHref:Or,noShade:Or,noWrap:Or,object:null,profile:null,prompt:null,rev:null,rightMargin:St,rules:null,scheme:null,scrolling:Ca,standby:null,summary:null,text:null,topMargin:St,valueType:null,version:null,vAlign:null,vLink:null,vSpace:St,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Or,disableRemotePlayback:Or,prefix:null,property:null,results:St,security:null,unselectable:null}}),iwe=qp({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:cH,properties:{about:bi,accentHeight:St,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:St,amplitude:St,arabicForm:null,ascent:St,attributeName:null,attributeType:null,azimuth:St,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:St,by:null,calcMode:null,capHeight:St,className:Hn,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:St,diffuseConstant:St,direction:null,display:null,dur:null,divisor:St,dominantBaseline:null,download:Or,dx:null,dy:null,edgeMode:null,editable:null,elevation:St,enableBackground:null,end:null,event:null,exponent:St,externalResourcesRequired:null,fill:null,fillOpacity:St,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Jd,g2:Jd,glyphName:Jd,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:St,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:St,horizOriginX:St,horizOriginY:St,id:null,ideographic:St,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:St,k:St,k1:St,k2:St,k3:St,k4:St,kernelMatrix:bi,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:St,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:St,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:St,overlineThickness:St,paintOrder:null,panose1:null,path:null,pathLength:St,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Hn,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:St,pointsAtY:St,pointsAtZ:St,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:bi,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:bi,rev:bi,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:bi,requiredFeatures:bi,requiredFonts:bi,requiredFormats:bi,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:St,specularExponent:St,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:St,strikethroughThickness:St,string:null,stroke:null,strokeDashArray:bi,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:St,strokeOpacity:St,strokeWidth:null,style:null,surfaceScale:St,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:bi,tabIndex:St,tableValues:null,target:null,targetX:St,targetY:St,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:bi,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:St,underlineThickness:St,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:St,values:null,vAlphabetic:St,vMathematical:St,vectorEffect:null,vHanging:St,vIdeographic:St,version:null,vertAdvY:St,vertOriginX:St,vertOriginY:St,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:St,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}}),owe=/^data[-\w.:]+$/i,MP=/-[a-z]/g,lwe=/[A-Z]/g;function cwe(e,t){const r=Sm(t);let n=t,a=Wi;if(r in e.normal)return e.property[e.normal[r]];if(r.length>4&&r.slice(0,4)==="data"&&owe.test(t)){if(t.charAt(4)==="-"){const i=t.slice(5).replace(MP,dwe);n="data"+i.charAt(0).toUpperCase()+i.slice(1)}else{const i=t.slice(4);if(!MP.test(i)){let o=i.replace(lwe,uwe);o.charAt(0)!=="-"&&(o="-"+o),t="data"+o}}a=oC}return new a(n,t)}function uwe(e){return"-"+e.toLowerCase()}function dwe(e){return e.charAt(1).toUpperCase()}const pwe=sH([lH,oH,dH,pH,swe],"html");sH([lH,oH,dH,pH,iwe],"svg");const PP=/[#.]/g;function hwe(e,t){const r=e||"",n={};let a=0,i,o;for(;a<r.length;){PP.lastIndex=a;const l=PP.exec(r),u=r.slice(a,l?l.index:r.length);u&&(i?i==="#"?n.id=u:Array.isArray(n.className)?n.className.push(u):n.className=[u]:o=u,a+=u.length),l&&(i=l[0],a++)}return{type:"element",tagName:o||t||"div",properties:n,children:[]}}const gwe=new Set(["menu","submit","reset","button"]),hH={}.hasOwnProperty;function mwe(e,t,r){return(function(a,i,...o){let l=-1,u;if(a==null)u={type:"root",children:[]},o.unshift(i);else if(u=hwe(a,t),u.tagName=u.tagName.toLowerCase(),fwe(i,u.tagName)){let d;for(d in i)hH.call(i,d)&&bwe(e,u.properties,d,i[d])}else o.unshift(i);for(;++l<o.length;)dw(u.children,o[l]);return u.type==="element"&&u.tagName==="template"&&(u.content={type:"root",children:u.children},u.children=[]),u})}function fwe(e,t){return e==null||typeof e!="object"||Array.isArray(e)?!1:t==="input"||!e.type||typeof e.type!="string"?!0:"children"in e&&Array.isArray(e.children)?!1:t==="button"?gwe.has(e.type.toLowerCase()):!("value"in e)}function bwe(e,t,r,n){const a=cwe(e,r);let i=-1,o;if(n!=null){if(typeof n=="number"){if(Number.isNaN(n))return;o=n}else typeof n=="boolean"?o=n:typeof n=="string"?a.spaceSeparated?o=tm(n):a.commaSeparated?o=Jg(n):a.commaOrSpaceSeparated?o=tm(Jg(n).join(" ")):o=jP(a,a.property,n):Array.isArray(n)?o=n.concat():o=a.property==="style"?ywe(n):String(n);if(Array.isArray(o)){const l=[];for(;++i<o.length;)l[i]=jP(a,a.property,o[i]);o=l}a.property==="className"&&Array.isArray(t.className)&&(o=t.className.concat(o)),t[a.property]=o}}function dw(e,t){let r=-1;if(t!=null)if(typeof t=="string"||typeof t=="number")e.push({type:"text",value:String(t)});else if(Array.isArray(t))for(;++r<t.length;)dw(e,t[r]);else if(typeof t=="object"&&"type"in t)t.type==="root"?dw(e,t.children):e.push(t);else throw new Error("Expected node, nodes, or string, got `"+t+"`")}function jP(e,t,r){if(typeof r=="string"){if(e.number&&r&&!Number.isNaN(Number(r)))return Number(r);if((e.boolean||e.overloadedBoolean)&&(r===""||Sm(r)===Sm(t)))return!0}return r}function ywe(e){const t=[];let r;for(r in e)hH.call(e,r)&&t.push([r,e[r]].join(": "));return t.join("; ")}const xwe=mwe(pwe,"div"),gH=["AElig","AMP","Aacute","Acirc","Agrave","Aring","Atilde","Auml","COPY","Ccedil","ETH","Eacute","Ecirc","Egrave","Euml","GT","Iacute","Icirc","Igrave","Iuml","LT","Ntilde","Oacute","Ocirc","Ograve","Oslash","Otilde","Ouml","QUOT","REG","THORN","Uacute","Ucirc","Ugrave","Uuml","Yacute","aacute","acirc","acute","aelig","agrave","amp","aring","atilde","auml","brvbar","ccedil","cedil","cent","copy","curren","deg","divide","eacute","ecirc","egrave","eth","euml","frac12","frac14","frac34","gt","iacute","icirc","iexcl","igrave","iquest","iuml","laquo","lt","macr","micro","middot","nbsp","not","ntilde","oacute","ocirc","ograve","ordf","ordm","oslash","otilde","ouml","para","plusmn","pound","quot","raquo","reg","sect","shy","sup1","sup2","sup3","szlig","thorn","times","uacute","ucirc","ugrave","uml","uuml","yacute","yen","yuml"],FP={0:"",128:"",130:"",131:"",132:"",133:"",134:"",135:"",136:"",137:"",138:"",139:"",140:"",142:"",145:"",146:"",147:"",148:"",149:"",150:"",151:"",152:"",153:"",154:"",155:"",156:"",158:"",159:""};function mH(e){const t=typeof e=="string"?e.charCodeAt(0):e;return t>=48&&t<=57}function Ewe(e){const t=typeof e=="string"?e.charCodeAt(0):e;return t>=97&&t<=102||t>=65&&t<=70||t>=48&&t<=57}function vwe(e){const t=typeof e=="string"?e.charCodeAt(0):e;return t>=97&&t<=122||t>=65&&t<=90}function BP(e){return vwe(e)||mH(e)}const Swe=["","Named character references must be terminated by a semicolon","Numeric character references must be terminated by a semicolon","Named character references cannot be empty","Numeric character references cannot be empty","Named character references must be known","Numeric character references cannot be disallowed","Numeric character references cannot be outside the permissible Unicode range"];function Twe(e,t){const r={},n=typeof r.additional=="string"?r.additional.charCodeAt(0):r.additional,a=[];let i=0,o=-1,l="",u,d;r.position&&("start"in r.position||"indent"in r.position?(d=r.position.indent,u=r.position.start):u=r.position);let h=(u?u.line:0)||1,g=(u?u.column:0)||1,f=x(),b;for(i--;++i<=e.length;)if(b===10&&(g=(d?d[o]:0)||1),b=e.charCodeAt(i),b===38){const T=e.charCodeAt(i+1);if(T===9||T===10||T===12||T===32||T===38||T===60||Number.isNaN(T)||n&&T===n){l+=String.fromCharCode(b),g++;continue}const w=i+1;let N=w,R=w,D;if(T===35){R=++N;const Q=e.charCodeAt(R);Q===88||Q===120?(D="hexadecimal",R=++N):D="decimal"}else D="named";let L="",j="",B="";const q=D==="named"?BP:D==="decimal"?mH:Ewe;for(R--;++R<=e.length;){const Q=e.charCodeAt(R);if(!q(Q))break;B+=String.fromCharCode(Q),D==="named"&&gH.includes(B)&&(L=B,j=nm(B))}let z=e.charCodeAt(R)===59;if(z){R++;const Q=D==="named"?nm(B):!1;Q&&(L=B,j=Q)}let K=1+R-w,X="";if(!(!z&&r.nonTerminated===!1))if(!B)D!=="named"&&E(4,K);else if(D==="named"){if(z&&!j)E(5,1);else if(L!==B&&(R=N+L.length,K=1+R-N,z=!1),!z){const Q=L?1:3;if(r.attribute){const O=e.charCodeAt(R);O===61?(E(Q,K),j=""):BP(O)?j="":E(Q,K)}else E(Q,K)}X=j}else{z||E(2,K);let Q=Number.parseInt(B,D==="hexadecimal"?16:10);if(wwe(Q))E(7,K),X="";else if(Q in FP)E(6,K),X=FP[Q];else{let O="";kwe(Q)&&E(6,K),Q>65535&&(Q-=65536,O+=String.fromCharCode(Q>>>10|55296),Q=56320|Q&1023),X=O+String.fromCharCode(Q)}}if(X){v(),f=x(),i=R-1,g+=R-w+1,a.push(X);const Q=x();Q.offset++,r.reference&&r.reference.call(r.referenceContext||void 0,X,{start:f,end:Q},e.slice(w-1,R)),f=Q}else B=e.slice(w-1,R),l+=B,g+=B.length,i=R-1}else b===10&&(h++,o++,g=0),Number.isNaN(b)?v():(l+=String.fromCharCode(b),g++);return a.join("");function x(){return{line:h,column:g,offset:i+((u?u.offset:0)||0)}}function E(T,w){let N;r.warning&&(N=x(),N.column+=w,N.offset+=w,r.warning.call(r.warningContext||void 0,Swe[T],N,T))}function v(){l&&(a.push(l),r.text&&r.text.call(r.textContext||void 0,l,{start:f,end:x()}),l="")}}function wwe(e){return e>=55296&&e<=57343||e>1114111}function kwe(e){return e>=1&&e<=8||e===11||e>=13&&e<=31||e>=127&&e<=159||e>=64976&&e<=65007||(e&65535)===65535||(e&65535)===65534}var Cwe=0,G0={},Ha={util:{type:function(e){return Object.prototype.toString.call(e).slice(8,-1)},objId:function(e){return e.__id||Object.defineProperty(e,"__id",{value:++Cwe}),e.__id},clone:function e(t,r){r=r||{};var n,a;switch(Ha.util.type(t)){case"Object":if(a=Ha.util.objId(t),r[a])return r[a];n={},r[a]=n;for(var i in t)t.hasOwnProperty(i)&&(n[i]=e(t[i],r));return n;case"Array":return a=Ha.util.objId(t),r[a]?r[a]:(n=[],r[a]=n,t.forEach(function(o,l){n[l]=e(o,r)}),n);default:return t}}},languages:{plain:G0,plaintext:G0,text:G0,txt:G0,extend:function(e,t){var r=Ha.util.clone(Ha.languages[e]);for(var n in t)r[n]=t[n];return r},insertBefore:function(e,t,r,n){n=n||Ha.languages;var a=n[e],i={};for(var o in a)if(a.hasOwnProperty(o)){if(o==t)for(var l in r)r.hasOwnProperty(l)&&(i[l]=r[l]);r.hasOwnProperty(o)||(i[o]=a[o])}var u=n[e];return n[e]=i,Ha.languages.DFS(Ha.languages,function(d,h){h===u&&d!=e&&(this[d]=i)}),i},DFS:function e(t,r,n,a){a=a||{};var i=Ha.util.objId;for(var o in t)if(t.hasOwnProperty(o)){r.call(t,o,t[o],n||o);var l=t[o],u=Ha.util.type(l);u==="Object"&&!a[i(l)]?(a[i(l)]=!0,e(l,r,null,a)):u==="Array"&&!a[i(l)]&&(a[i(l)]=!0,e(l,r,o,a))}}},plugins:{},highlight:function(e,t,r){var n={code:e,grammar:t,language:r};if(Ha.hooks.run("before-tokenize",n),!n.grammar)throw new Error('The language "'+n.language+'" has no grammar.');return n.tokens=Ha.tokenize(n.code,n.grammar),Ha.hooks.run("after-tokenize",n),Hg.stringify(Ha.util.encode(n.tokens),n.language)},tokenize:function(e,t){var r=t.rest;if(r){for(var n in r)t[n]=r[n];delete t.rest}var a=new _we;return xb(a,a.head,e),fH(e,a,t,a.head,0),Nwe(a)},hooks:{all:{},add:function(e,t){var r=Ha.hooks.all;r[e]=r[e]||[],r[e].push(t)},run:function(e,t){var r=Ha.hooks.all[e];if(!(!r||!r.length))for(var n=0,a;a=r[n++];)a(t)}},Token:Hg};function Hg(e,t,r,n){this.type=e,this.content=t,this.alias=r,this.length=(n||"").length|0}function UP(e,t,r,n){e.lastIndex=t;var a=e.exec(r);if(a&&n&&a[1]){var i=a[1].length;a.index+=i,a[0]=a[0].slice(i)}return a}function fH(e,t,r,n,a,i){for(var o in r)if(!(!r.hasOwnProperty(o)||!r[o])){var l=r[o];l=Array.isArray(l)?l:[l];for(var u=0;u<l.length;++u){if(i&&i.cause==o+","+u)return;var d=l[u],h=d.inside,g=!!d.lookbehind,f=!!d.greedy,b=d.alias;if(f&&!d.pattern.global){var x=d.pattern.toString().match(/[imsuy]*$/)[0];d.pattern=RegExp(d.pattern.source,x+"g")}for(var E=d.pattern||d,v=n.next,T=a;v!==t.tail&&!(i&&T>=i.reach);T+=v.value.length,v=v.next){var w=v.value;if(t.length>e.length)return;if(!(w instanceof Hg)){var N=1,R;if(f){if(R=UP(E,T,e,g),!R||R.index>=e.length)break;var B=R.index,D=R.index+R[0].length,L=T;for(L+=v.value.length;B>=L;)v=v.next,L+=v.value.length;if(L-=v.value.length,T=L,v.value instanceof Hg)continue;for(var j=v;j!==t.tail&&(L<D||typeof j.value=="string");j=j.next)N++,L+=j.value.length;N--,w=e.slice(T,L),R.index-=T}else if(R=UP(E,0,w,g),!R)continue;var B=R.index,q=R[0],z=w.slice(0,B),K=w.slice(B+q.length),X=T+w.length;i&&X>i.reach&&(i.reach=X);var Q=v.prev;z&&(Q=xb(t,Q,z),T+=z.length),Awe(t,Q,N);var O=new Hg(o,h?Ha.tokenize(q,h):q,b,q);if(v=xb(t,Q,O),K&&xb(t,v,K),N>1){var H={cause:o+","+u,reach:X};fH(e,t,r,v.prev,T,H),i&&H.reach>i.reach&&(i.reach=H.reach)}}}}}}function _we(){var e={value:null,prev:null,next:null},t={value:null,prev:e,next:null};e.next=t,this.head=e,this.tail=t,this.length=0}function xb(e,t,r){var n=t.next,a={value:r,prev:t,next:n};return t.next=a,n.prev=a,e.length++,a}function Awe(e,t,r){for(var n=t.next,a=0;a<r&&n!==e.tail;a++)n=n.next;t.next=n,n.prev=t,e.length-=a}function Nwe(e){for(var t=[],r=e.head.next;r!==e.tail;)t.push(r.value),r=r.next;return t}const bH=Ha,Wp={}.hasOwnProperty;function yH(){}yH.prototype=bH;const Z=new yH;Z.highlight=Iwe;Z.register=Rwe;Z.alias=Dwe;Z.registered=Lwe;Z.listLanguages=Owe;Z.util.encode=Mwe;Z.Token.stringify=pw;function Iwe(e,t){if(typeof e!="string")throw new TypeError("Expected `string` for `value`, got `"+e+"`");let r,n;if(t&&typeof t=="object")r=t;else{if(n=t,typeof n!="string")throw new TypeError("Expected `string` for `name`, got `"+n+"`");if(Wp.call(Z.languages,n))r=Z.languages[n];else throw new Error("Unknown language: `"+n+"` is not registered")}return{type:"root",children:bH.highlight.call(Z,e,r,n)}}function Rwe(e){if(typeof e!="function"||!e.displayName)throw new Error("Expected `function` for `syntax`, got `"+e+"`");Wp.call(Z.languages,e.displayName)||e(Z)}function Dwe(e,t){const r=Z.languages;let n={};typeof e=="string"?t&&(n[e]=t):n=e;let a;for(a in n)if(Wp.call(n,a)){const i=n[a],o=typeof i=="string"?[i]:i;let l=-1;for(;++l<o.length;)r[o[l]]=r[a]}}function Lwe(e){if(typeof e!="string")throw new TypeError("Expected `string` for `aliasOrLanguage`, got `"+e+"`");return Wp.call(Z.languages,e)}function Owe(){const e=Z.languages,t=[];let r;for(r in e)Wp.call(e,r)&&typeof e[r]=="object"&&t.push(r);return t}function pw(e,t){if(typeof e=="string")return{type:"text",value:e};if(Array.isArray(e)){const n=[];let a=-1;for(;++a<e.length;)e[a]!==null&&e[a]!==void 0&&e[a]!==""&&n.push(pw(e[a],t));return n}const r={attributes:{},classes:["token",e.type],content:pw(e.content,t),language:t,tag:"span",type:e.type};return e.alias&&r.classes.push(...typeof e.alias=="string"?[e.alias]:e.alias),Z.hooks.run("wrap",r),xwe(r.tag+"."+r.classes.join("."),Pwe(r.attributes),r.content)}function Mwe(e){return e}function Pwe(e){let t;for(t in e)Wp.call(e,t)&&(e[t]=Twe(e[t]));return e}Z.register(Kr);Z.register(yo);Z.register(ju);Z.register(xx);Z.register(Vm);Z.register(Fu);Z.register(Ga);Z.register(Cc);Z.register(Ex);Z.register(vx);Z.register(Sx);Z.register(Bu);Z.register(Tx);Z.register(ts);Z.register(Hp);Z.register(wx);Z.register(kx);Z.register(Km);Z.register(Cx);Z.register(Qm);Z.register(_x);Z.register(Ax);Z.register(Nx);Z.register(rs);Z.register(Uu);Z.register(Xm);Z.register(Ix);Z.register($u);Z.register(Rx);Z.register(Dx);Z.register(Lx);Z.register(zp);Z.register(Ox);Z.register(Gp);Z.register(Zm);Z.register(Jm);lC.displayName="abap";lC.aliases=[];function lC(e){e.languages.abap={comment:/^\*.*/m,string:/(`|')(?:\\.|(?!\1)[^\\\r\n])*\1/,"string-template":{pattern:/([|}])(?:\\.|[^\\|{\r\n])*(?=[|{])/,lookbehind:!0,alias:"string"},"eol-comment":{pattern:/(^|\s)".*/m,lookbehind:!0,alias:"comment"},keyword:{pattern:/(\s|\.|^)(?:\*-INPUT|\?TO|ABAP-SOURCE|ABBREVIATED|ABS|ABSTRACT|ACCEPT|ACCEPTING|ACCESSPOLICY|ACCORDING|ACOS|ACTIVATION|ACTUAL|ADD|ADD-CORRESPONDING|ADJACENT|AFTER|ALIAS|ALIASES|ALIGN|ALL|ALLOCATE|ALPHA|ANALYSIS|ANALYZER|AND|ANY|APPEND|APPENDAGE|APPENDING|APPLICATION|ARCHIVE|AREA|ARITHMETIC|AS|ASCENDING|ASIN|ASPECT|ASSERT|ASSIGN|ASSIGNED|ASSIGNING|ASSOCIATION|ASYNCHRONOUS|AT|ATAN|ATTRIBUTES|AUTHORITY|AUTHORITY-CHECK|AVG|BACK|BACKGROUND|BACKUP|BACKWARD|BADI|BASE|BEFORE|BEGIN|BETWEEN|BIG|BINARY|BINDING|BIT|BIT-AND|BIT-NOT|BIT-OR|BIT-XOR|BLACK|BLANK|BLANKS|BLOB|BLOCK|BLOCKS|BLUE|BOUND|BOUNDARIES|BOUNDS|BOXED|BREAK-POINT|BT|BUFFER|BY|BYPASSING|BYTE|BYTE-CA|BYTE-CN|BYTE-CO|BYTE-CS|BYTE-NA|BYTE-NS|BYTE-ORDER|C|CA|CALL|CALLING|CASE|CAST|CASTING|CATCH|CEIL|CENTER|CENTERED|CHAIN|CHAIN-INPUT|CHAIN-REQUEST|CHANGE|CHANGING|CHANNELS|CHAR-TO-HEX|CHARACTER|CHARLEN|CHECK|CHECKBOX|CIRCULAR|CI_|CLASS|CLASS-CODING|CLASS-DATA|CLASS-EVENTS|CLASS-METHODS|CLASS-POOL|CLEANUP|CLEAR|CLIENT|CLOB|CLOCK|CLOSE|CN|CNT|CO|COALESCE|CODE|CODING|COLLECT|COLOR|COLUMN|COLUMNS|COL_BACKGROUND|COL_GROUP|COL_HEADING|COL_KEY|COL_NEGATIVE|COL_NORMAL|COL_POSITIVE|COL_TOTAL|COMMENT|COMMENTS|COMMIT|COMMON|COMMUNICATION|COMPARING|COMPONENT|COMPONENTS|COMPRESSION|COMPUTE|CONCAT|CONCATENATE|COND|CONDENSE|CONDITION|CONNECT|CONNECTION|CONSTANTS|CONTEXT|CONTEXTS|CONTINUE|CONTROL|CONTROLS|CONV|CONVERSION|CONVERT|COPIES|COPY|CORRESPONDING|COS|COSH|COUNT|COUNTRY|COVER|CP|CPI|CREATE|CREATING|CRITICAL|CS|CURRENCY|CURRENCY_CONVERSION|CURRENT|CURSOR|CURSOR-SELECTION|CUSTOMER|CUSTOMER-FUNCTION|DANGEROUS|DATA|DATABASE|DATAINFO|DATASET|DATE|DAYLIGHT|DBMAXLEN|DD\/MM\/YY|DD\/MM\/YYYY|DDMMYY|DEALLOCATE|DECIMALS|DECIMAL_SHIFT|DECLARATIONS|DEEP|DEFAULT|DEFERRED|DEFINE|DEFINING|DEFINITION|DELETE|DELETING|DEMAND|DEPARTMENT|DESCENDING|DESCRIBE|DESTINATION|DETAIL|DIALOG|DIRECTORY|DISCONNECT|DISPLAY|DISPLAY-MODE|DISTANCE|DISTINCT|DIV|DIVIDE|DIVIDE-CORRESPONDING|DIVISION|DO|DUMMY|DUPLICATE|DUPLICATES|DURATION|DURING|DYNAMIC|DYNPRO|E|EACH|EDIT|EDITOR-CALL|ELSE|ELSEIF|EMPTY|ENABLED|ENABLING|ENCODING|END|END-ENHANCEMENT-SECTION|END-LINES|END-OF-DEFINITION|END-OF-FILE|END-OF-PAGE|END-OF-SELECTION|ENDAT|ENDCASE|ENDCATCH|ENDCHAIN|ENDCLASS|ENDDO|ENDENHANCEMENT|ENDEXEC|ENDFOR|ENDFORM|ENDFUNCTION|ENDIAN|ENDIF|ENDING|ENDINTERFACE|ENDLOOP|ENDMETHOD|ENDMODULE|ENDON|ENDPROVIDE|ENDSELECT|ENDTRY|ENDWHILE|ENGINEERING|ENHANCEMENT|ENHANCEMENT-POINT|ENHANCEMENT-SECTION|ENHANCEMENTS|ENTRIES|ENTRY|ENVIRONMENT|EQ|EQUAL|EQUIV|ERRORMESSAGE|ERRORS|ESCAPE|ESCAPING|EVENT|EVENTS|EXACT|EXCEPT|EXCEPTION|EXCEPTION-TABLE|EXCEPTIONS|EXCLUDE|EXCLUDING|EXEC|EXECUTE|EXISTS|EXIT|EXIT-COMMAND|EXP|EXPAND|EXPANDING|EXPIRATION|EXPLICIT|EXPONENT|EXPORT|EXPORTING|EXTEND|EXTENDED|EXTENSION|EXTRACT|FAIL|FETCH|FIELD|FIELD-GROUPS|FIELD-SYMBOL|FIELD-SYMBOLS|FIELDS|FILE|FILTER|FILTER-TABLE|FILTERS|FINAL|FIND|FIRST|FIRST-LINE|FIXED-POINT|FKEQ|FKGE|FLOOR|FLUSH|FONT|FOR|FORM|FORMAT|FORWARD|FOUND|FRAC|FRAME|FRAMES|FREE|FRIENDS|FROM|FUNCTION|FUNCTION-POOL|FUNCTIONALITY|FURTHER|GAPS|GE|GENERATE|GET|GIVING|GKEQ|GKGE|GLOBAL|GRANT|GREATER|GREEN|GROUP|GROUPS|GT|HANDLE|HANDLER|HARMLESS|HASHED|HAVING|HDB|HEAD-LINES|HEADER|HEADERS|HEADING|HELP-ID|HELP-REQUEST|HIDE|HIGH|HINT|HOLD|HOTSPOT|I|ICON|ID|IDENTIFICATION|IDENTIFIER|IDS|IF|IGNORE|IGNORING|IMMEDIATELY|IMPLEMENTATION|IMPLEMENTATIONS|IMPLEMENTED|IMPLICIT|IMPORT|IMPORTING|IN|INACTIVE|INCL|INCLUDE|INCLUDES|INCLUDING|INCREMENT|INDEX|INDEX-LINE|INFOTYPES|INHERITING|INIT|INITIAL|INITIALIZATION|INNER|INOUT|INPUT|INSERT|INSTANCES|INTENSIFIED|INTERFACE|INTERFACE-POOL|INTERFACES|INTERNAL|INTERVALS|INTO|INVERSE|INVERTED-DATE|IS|ISO|ITERATOR|ITNO|JOB|JOIN|KEEP|KEEPING|KERNEL|KEY|KEYS|KEYWORDS|KIND|LANGUAGE|LAST|LATE|LAYOUT|LE|LEADING|LEAVE|LEFT|LEFT-JUSTIFIED|LEFTPLUS|LEFTSPACE|LEGACY|LENGTH|LESS|LET|LEVEL|LEVELS|LIKE|LINE|LINE-COUNT|LINE-SELECTION|LINE-SIZE|LINEFEED|LINES|LIST|LIST-PROCESSING|LISTBOX|LITTLE|LLANG|LOAD|LOAD-OF-PROGRAM|LOB|LOCAL|LOCALE|LOCATOR|LOG|LOG-POINT|LOG10|LOGFILE|LOGICAL|LONG|LOOP|LOW|LOWER|LPAD|LPI|LT|M|MAIL|MAIN|MAJOR-ID|MAPPING|MARGIN|MARK|MASK|MATCH|MATCHCODE|MAX|MAXIMUM|MEDIUM|MEMBERS|MEMORY|MESH|MESSAGE|MESSAGE-ID|MESSAGES|MESSAGING|METHOD|METHODS|MIN|MINIMUM|MINOR-ID|MM\/DD\/YY|MM\/DD\/YYYY|MMDDYY|MOD|MODE|MODIF|MODIFIER|MODIFY|MODULE|MOVE|MOVE-CORRESPONDING|MULTIPLY|MULTIPLY-CORRESPONDING|NA|NAME|NAMETAB|NATIVE|NB|NE|NESTED|NESTING|NEW|NEW-LINE|NEW-PAGE|NEW-SECTION|NEXT|NO|NO-DISPLAY|NO-EXTENSION|NO-GAP|NO-GAPS|NO-GROUPING|NO-HEADING|NO-SCROLLING|NO-SIGN|NO-TITLE|NO-TOPOFPAGE|NO-ZERO|NODE|NODES|NON-UNICODE|NON-UNIQUE|NOT|NP|NS|NULL|NUMBER|NUMOFCHAR|O|OBJECT|OBJECTS|OBLIGATORY|OCCURRENCE|OCCURRENCES|OCCURS|OF|OFF|OFFSET|OLE|ON|ONLY|OPEN|OPTION|OPTIONAL|OPTIONS|OR|ORDER|OTHER|OTHERS|OUT|OUTER|OUTPUT|OUTPUT-LENGTH|OVERFLOW|OVERLAY|PACK|PACKAGE|PAD|PADDING|PAGE|PAGES|PARAMETER|PARAMETER-TABLE|PARAMETERS|PART|PARTIALLY|PATTERN|PERCENTAGE|PERFORM|PERFORMING|PERSON|PF|PF-STATUS|PINK|PLACES|POOL|POSITION|POS_HIGH|POS_LOW|PRAGMAS|PRECOMPILED|PREFERRED|PRESERVING|PRIMARY|PRINT|PRINT-CONTROL|PRIORITY|PRIVATE|PROCEDURE|PROCESS|PROGRAM|PROPERTY|PROTECTED|PROVIDE|PUBLIC|PUSHBUTTON|PUT|QUEUE-ONLY|QUICKINFO|RADIOBUTTON|RAISE|RAISING|RANGE|RANGES|RAW|READ|READ-ONLY|READER|RECEIVE|RECEIVED|RECEIVER|RECEIVING|RED|REDEFINITION|REDUCE|REDUCED|REF|REFERENCE|REFRESH|REGEX|REJECT|REMOTE|RENAMING|REPLACE|REPLACEMENT|REPLACING|REPORT|REQUEST|REQUESTED|RESERVE|RESET|RESOLUTION|RESPECTING|RESPONSIBLE|RESULT|RESULTS|RESUMABLE|RESUME|RETRY|RETURN|RETURNCODE|RETURNING|RIGHT|RIGHT-JUSTIFIED|RIGHTPLUS|RIGHTSPACE|RISK|RMC_COMMUNICATION_FAILURE|RMC_INVALID_STATUS|RMC_SYSTEM_FAILURE|ROLE|ROLLBACK|ROUND|ROWS|RTTI|RUN|SAP|SAP-SPOOL|SAVING|SCALE_PRESERVING|SCALE_PRESERVING_SCIENTIFIC|SCAN|SCIENTIFIC|SCIENTIFIC_WITH_LEADING_ZERO|SCREEN|SCROLL|SCROLL-BOUNDARY|SCROLLING|SEARCH|SECONDARY|SECONDS|SECTION|SELECT|SELECT-OPTIONS|SELECTION|SELECTION-SCREEN|SELECTION-SET|SELECTION-SETS|SELECTION-TABLE|SELECTIONS|SELECTOR|SEND|SEPARATE|SEPARATED|SET|SHARED|SHIFT|SHORT|SHORTDUMP-ID|SIGN|SIGN_AS_POSTFIX|SIMPLE|SIN|SINGLE|SINH|SIZE|SKIP|SKIPPING|SMART|SOME|SORT|SORTABLE|SORTED|SOURCE|SPACE|SPECIFIED|SPLIT|SPOOL|SPOTS|SQL|SQLSCRIPT|SQRT|STABLE|STAMP|STANDARD|START-OF-SELECTION|STARTING|STATE|STATEMENT|STATEMENTS|STATIC|STATICS|STATUSINFO|STEP-LOOP|STOP|STRLEN|STRUCTURE|STRUCTURES|STYLE|SUBKEY|SUBMATCHES|SUBMIT|SUBROUTINE|SUBSCREEN|SUBSTRING|SUBTRACT|SUBTRACT-CORRESPONDING|SUFFIX|SUM|SUMMARY|SUMMING|SUPPLIED|SUPPLY|SUPPRESS|SWITCH|SWITCHSTATES|SYMBOL|SYNCPOINTS|SYNTAX|SYNTAX-CHECK|SYNTAX-TRACE|SYSTEM-CALL|SYSTEM-EXCEPTIONS|SYSTEM-EXIT|TAB|TABBED|TABLE|TABLES|TABLEVIEW|TABSTRIP|TAN|TANH|TARGET|TASK|TASKS|TEST|TESTING|TEXT|TEXTPOOL|THEN|THROW|TIME|TIMES|TIMESTAMP|TIMEZONE|TITLE|TITLE-LINES|TITLEBAR|TO|TOKENIZATION|TOKENS|TOP-LINES|TOP-OF-PAGE|TRACE-FILE|TRACE-TABLE|TRAILING|TRANSACTION|TRANSFER|TRANSFORMATION|TRANSLATE|TRANSPORTING|TRMAC|TRUNC|TRUNCATE|TRUNCATION|TRY|TYPE|TYPE-POOL|TYPE-POOLS|TYPES|ULINE|UNASSIGN|UNDER|UNICODE|UNION|UNIQUE|UNIT|UNIT_CONVERSION|UNIX|UNPACK|UNTIL|UNWIND|UP|UPDATE|UPPER|USER|USER-COMMAND|USING|UTF-8|VALID|VALUE|VALUE-REQUEST|VALUES|VARY|VARYING|VERIFICATION-MESSAGE|VERSION|VIA|VIEW|VISIBLE|WAIT|WARNING|WHEN|WHENEVER|WHERE|WHILE|WIDTH|WINDOW|WINDOWS|WITH|WITH-HEADING|WITH-TITLE|WITHOUT|WORD|WORK|WRITE|WRITER|X|XML|XOR|XSD|XSTRLEN|YELLOW|YES|YYMMDD|Z|ZERO|ZONE)(?![\w-])/i,lookbehind:!0},number:/\b\d+\b/,operator:{pattern:/(\s)(?:\*\*?|<[=>]?|>=?|\?=|[-+\/=])(?=\s)/,lookbehind:!0},"string-operator":{pattern:/(\s)&&?(?=\s)/,lookbehind:!0,alias:"keyword"},"token-operator":[{pattern:/(\w)(?:->?|=>|[~|{}])(?=\w)/,lookbehind:!0,alias:"punctuation"},{pattern:/[|{}]/,alias:"punctuation"}],punctuation:/[,.:()]/}}cC.displayName="abnf";cC.aliases=[];function cC(e){(function(t){var r="(?:ALPHA|BIT|CHAR|CR|CRLF|CTL|DIGIT|DQUOTE|HEXDIG|HTAB|LF|LWSP|OCTET|SP|VCHAR|WSP)";t.languages.abnf={comment:/;.*/,string:{pattern:/(?:%[is])?"[^"\n\r]*"/,greedy:!0,inside:{punctuation:/^%[is]/}},range:{pattern:/%(?:b[01]+-[01]+|d\d+-\d+|x[A-F\d]+-[A-F\d]+)/i,alias:"number"},terminal:{pattern:/%(?:b[01]+(?:\.[01]+)*|d\d+(?:\.\d+)*|x[A-F\d]+(?:\.[A-F\d]+)*)/i,alias:"number"},repetition:{pattern:/(^|[^\w-])(?:\d*\*\d*|\d+)/,lookbehind:!0,alias:"operator"},definition:{pattern:/(^[ \t]*)(?:[a-z][\w-]*|<[^<>\r\n]*>)(?=\s*=)/m,lookbehind:!0,alias:"keyword",inside:{punctuation:/<|>/}},"core-rule":{pattern:RegExp("(?:(^|[^<\\w-])"+r+"|<"+r+">)(?![\\w-])","i"),lookbehind:!0,alias:["rule","constant"],inside:{punctuation:/<|>/}},rule:{pattern:/(^|[^<\w-])[a-z][\w-]*|<[^<>\r\n]*>/i,lookbehind:!0,inside:{punctuation:/<|>/}},operator:/=\/?|\//,punctuation:/[()\[\]]/}})(e)}uC.displayName="actionscript";uC.aliases=[];function uC(e){e.register(ts),e.languages.actionscript=e.languages.extend("javascript",{keyword:/\b(?:as|break|case|catch|class|const|default|delete|do|dynamic|each|else|extends|final|finally|for|function|get|if|implements|import|in|include|instanceof|interface|internal|is|namespace|native|new|null|override|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|use|var|void|while|with)\b/,operator:/\+\+|--|(?:[+\-*\/%^]|&&?|\|\|?|<<?|>>?>?|[!=]=?)=?|[~?@]/}),e.languages.actionscript["class-name"].alias="function",delete e.languages.actionscript.parameter,delete e.languages.actionscript["literal-property"],e.languages.markup&&e.languages.insertBefore("actionscript","string",{xml:{pattern:/(^|[^.])<\/?\w+(?:\s+[^\s>\/=]+=("|')(?:\\[\s\S]|(?!\2)[^\\])*\2)*\s*\/?>/,lookbehind:!0,inside:e.languages.markup}})}dC.displayName="ada";dC.aliases=[];function dC(e){e.languages.ada={comment:/--.*/,string:/"(?:""|[^"\r\f\n])*"/,number:[{pattern:/\b\d(?:_?\d)*#[\dA-F](?:_?[\dA-F])*(?:\.[\dA-F](?:_?[\dA-F])*)?#(?:E[+-]?\d(?:_?\d)*)?/i},{pattern:/\b\d(?:_?\d)*(?:\.\d(?:_?\d)*)?(?:E[+-]?\d(?:_?\d)*)?\b/i}],attribute:{pattern:/\b'\w+/,alias:"attr-name"},keyword:/\b(?:abort|abs|abstract|accept|access|aliased|all|and|array|at|begin|body|case|constant|declare|delay|delta|digits|do|else|elsif|end|entry|exception|exit|for|function|generic|goto|if|in|interface|is|limited|loop|mod|new|not|null|of|or|others|out|overriding|package|pragma|private|procedure|protected|raise|range|record|rem|renames|requeue|return|reverse|select|separate|some|subtype|synchronized|tagged|task|terminate|then|type|until|use|when|while|with|xor)\b/i,boolean:/\b(?:false|true)\b/i,operator:/<[=>]?|>=?|=>?|:=|\/=?|\*\*?|[&+-]/,punctuation:/\.\.?|[,;():]/,char:/'.'/,variable:/\b[a-z](?:\w)*\b/i}}pC.displayName="agda";pC.aliases=[];function pC(e){(function(t){t.languages.agda={comment:/\{-[\s\S]*?(?:-\}|$)|--.*/,string:{pattern:/"(?:\\(?:\r\n|[\s\S])|[^\\\r\n"])*"/,greedy:!0},punctuation:/[(){}.;@]/,"class-name":{pattern:/((?:data|record) +)\S+/,lookbehind:!0},function:{pattern:/(^[ \t]*)(?!\s)[^:\r\n]+(?=:)/m,lookbehind:!0},operator:{pattern:/(^\s*|\s)(?:[=|:\\?_]|->)(?=\s)/,lookbehind:!0},keyword:/\b(?:Set|abstract|constructor|data|eta-equality|field|forall|hiding|import|in|inductive|infix|infixl|infixr|instance|let|macro|module|mutual|no-eta-equality|open|overlap|pattern|postulate|primitive|private|public|quote|quoteContext|quoteGoal|quoteTerm|record|renaming|rewrite|syntax|tactic|unquote|unquoteDecl|unquoteDef|using|variable|where|with)\b/}})(e)}hC.displayName="al";hC.aliases=[];function hC(e){e.languages.al={comment:/\/\/.*|\/\*[\s\S]*?\*\//,string:{pattern:/'(?:''|[^'\r\n])*'(?!')|"(?:""|[^"\r\n])*"(?!")/,greedy:!0},function:{pattern:/(\b(?:event|procedure|trigger)\s+|(?:^|[^.])\.\s*)[a-z_]\w*(?=\s*\()/i,lookbehind:!0},keyword:[/\b(?:array|asserterror|begin|break|case|do|downto|else|end|event|exit|for|foreach|function|if|implements|in|indataset|interface|internal|local|of|procedure|program|protected|repeat|runonclient|securityfiltering|suppressdispose|temporary|then|to|trigger|until|var|while|with|withevents)\b/i,/\b(?:action|actions|addafter|addbefore|addfirst|addlast|area|assembly|chartpart|codeunit|column|controladdin|cuegroup|customizes|dataitem|dataset|dotnet|elements|enum|enumextension|extends|field|fieldattribute|fieldelement|fieldgroup|fieldgroups|fields|filter|fixed|grid|group|key|keys|label|labels|layout|modify|moveafter|movebefore|movefirst|movelast|page|pagecustomization|pageextension|part|profile|query|repeater|report|requestpage|schema|separator|systempart|table|tableelement|tableextension|textattribute|textelement|type|usercontrol|value|xmlport)\b/i],number:/\b(?:0x[\da-f]+|(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?)(?:F|LL?|U(?:LL?)?)?\b/i,boolean:/\b(?:false|true)\b/i,variable:/\b(?:Curr(?:FieldNo|Page|Report)|x?Rec|RequestOptionsPage)\b/,"class-name":/\b(?:automation|biginteger|bigtext|blob|boolean|byte|char|clienttype|code|completiontriggererrorlevel|connectiontype|database|dataclassification|datascope|date|dateformula|datetime|decimal|defaultlayout|dialog|dictionary|dotnetassembly|dotnettypedeclaration|duration|errorinfo|errortype|executioncontext|executionmode|fieldclass|fieldref|fieldtype|file|filterpagebuilder|guid|httpclient|httpcontent|httpheaders|httprequestmessage|httpresponsemessage|instream|integer|joker|jsonarray|jsonobject|jsontoken|jsonvalue|keyref|list|moduledependencyinfo|moduleinfo|none|notification|notificationscope|objecttype|option|outstream|pageresult|record|recordid|recordref|reportformat|securityfilter|sessionsettings|tableconnectiontype|tablefilter|testaction|testfield|testfilterfield|testpage|testpermissions|testrequestpage|text|textbuilder|textconst|textencoding|time|transactionmodel|transactiontype|variant|verbosity|version|view|views|webserviceactioncontext|webserviceactionresultcode|xmlattribute|xmlattributecollection|xmlcdata|xmlcomment|xmldeclaration|xmldocument|xmldocumenttype|xmlelement|xmlnamespacemanager|xmlnametable|xmlnode|xmlnodelist|xmlprocessinginstruction|xmlreadoptions|xmltext|xmlwriteoptions)\b/i,operator:/\.\.|:[=:]|[-+*/]=?|<>|[<>]=?|=|\b(?:and|div|mod|not|or|xor)\b/i,punctuation:/[()\[\]{}:.;,]/}}gC.displayName="antlr4";gC.aliases=["g4"];function gC(e){e.languages.antlr4={comment:/\/\/.*|\/\*[\s\S]*?(?:\*\/|$)/,string:{pattern:/'(?:\\.|[^\\'\r\n])*'/,greedy:!0},"character-class":{pattern:/\[(?:\\.|[^\\\]\r\n])*\]/,greedy:!0,alias:"regex",inside:{range:{pattern:/([^[]|(?:^|[^\\])(?:\\\\)*\\\[)-(?!\])/,lookbehind:!0,alias:"punctuation"},escape:/\\(?:u(?:[a-fA-F\d]{4}|\{[a-fA-F\d]+\})|[pP]\{[=\w-]+\}|[^\r\nupP])/,punctuation:/[\[\]]/}},action:{pattern:/\{(?:[^{}]|\{(?:[^{}]|\{(?:[^{}]|\{[^{}]*\})*\})*\})*\}/,greedy:!0,inside:{content:{pattern:/(\{)[\s\S]+(?=\})/,lookbehind:!0},punctuation:/[{}]/}},command:{pattern:/(->\s*(?!\s))(?:\s*(?:,\s*)?\b[a-z]\w*(?:\s*\([^()\r\n]*\))?)+(?=\s*;)/i,lookbehind:!0,inside:{function:/\b\w+(?=\s*(?:[,(]|$))/,punctuation:/[,()]/}},annotation:{pattern:/@\w+(?:::\w+)*/,alias:"keyword"},label:{pattern:/#[ \t]*\w+/,alias:"punctuation"},keyword:/\b(?:catch|channels|finally|fragment|grammar|import|lexer|locals|mode|options|parser|returns|throws|tokens)\b/,definition:[{pattern:/\b[a-z]\w*(?=\s*:)/,alias:["rule","class-name"]},{pattern:/\b[A-Z]\w*(?=\s*:)/,alias:["token","constant"]}],constant:/\b[A-Z][A-Z_]*\b/,operator:/\.\.|->|[|~]|[*+?]\??/,punctuation:/[;:()=]/},e.languages.g4=e.languages.antlr4}mC.displayName="apacheconf";mC.aliases=[];function mC(e){e.languages.apacheconf={comment:/#.*/,"directive-inline":{pattern:/(^[\t ]*)\b(?:AcceptFilter|AcceptPathInfo|AccessFileName|Action|Add(?:Alt|AltByEncoding|AltByType|Charset|DefaultCharset|Description|Encoding|Handler|Icon|IconByEncoding|IconByType|InputFilter|Language|ModuleInfo|OutputFilter|OutputFilterByType|Type)|Alias|AliasMatch|Allow(?:CONNECT|EncodedSlashes|Methods|Override|OverrideList)?|Anonymous(?:_LogEmail|_MustGiveEmail|_NoUserID|_VerifyEmail)?|AsyncRequestWorkerFactor|Auth(?:BasicAuthoritative|BasicFake|BasicProvider|BasicUseDigestAlgorithm|DBDUserPWQuery|DBDUserRealmQuery|DBMGroupFile|DBMType|DBMUserFile|Digest(?:Algorithm|Domain|NonceLifetime|Provider|Qop|ShmemSize)|Form(?:Authoritative|Body|DisableNoStore|FakeBasicAuth|Location|LoginRequiredLocation|LoginSuccessLocation|LogoutLocation|Method|Mimetype|Password|Provider|SitePassphrase|Size|Username)|GroupFile|LDAP(?:AuthorizePrefix|BindAuthoritative|BindDN|BindPassword|CharsetConfig|CompareAsUser|CompareDNOnServer|DereferenceAliases|GroupAttribute|GroupAttributeIsDN|InitialBindAsUser|InitialBindPattern|MaxSubGroupDepth|RemoteUserAttribute|RemoteUserIsDN|SearchAsUser|SubGroupAttribute|SubGroupClass|Url)|Merging|Name|nCache(?:Context|Enable|ProvideFor|SOCache|Timeout)|nzFcgiCheckAuthnProvider|nzFcgiDefineProvider|Type|UserFile|zDBDLoginToReferer|zDBDQuery|zDBDRedirectQuery|zDBMType|zSendForbiddenOnFailure)|BalancerGrowth|BalancerInherit|BalancerMember|BalancerPersist|BrowserMatch|BrowserMatchNoCase|BufferedLogs|BufferSize|Cache(?:DefaultExpire|DetailHeader|DirLength|DirLevels|Disable|Enable|File|Header|IgnoreCacheControl|IgnoreHeaders|IgnoreNoLastMod|IgnoreQueryString|IgnoreURLSessionIdentifiers|KeyBaseURL|LastModifiedFactor|Lock|LockMaxAge|LockPath|MaxExpire|MaxFileSize|MinExpire|MinFileSize|NegotiatedDocs|QuickHandler|ReadSize|ReadTime|Root|Socache(?:MaxSize|MaxTime|MinTime|ReadSize|ReadTime)?|StaleOnError|StoreExpired|StoreNoStore|StorePrivate)|CGIDScriptTimeout|CGIMapExtension|CharsetDefault|CharsetOptions|CharsetSourceEnc|CheckCaseOnly|CheckSpelling|ChrootDir|ContentDigest|CookieDomain|CookieExpires|CookieName|CookieStyle|CookieTracking|CoreDumpDirectory|CustomLog|Dav|DavDepthInfinity|DavGenericLockDB|DavLockDB|DavMinTimeout|DBDExptime|DBDInitSQL|DBDKeep|DBDMax|DBDMin|DBDParams|DBDPersist|DBDPrepareSQL|DBDriver|DefaultIcon|DefaultLanguage|DefaultRuntimeDir|DefaultType|Define|Deflate(?:BufferSize|CompressionLevel|FilterNote|InflateLimitRequestBody|InflateRatio(?:Burst|Limit)|MemLevel|WindowSize)|Deny|DirectoryCheckHandler|DirectoryIndex|DirectoryIndexRedirect|DirectorySlash|DocumentRoot|DTracePrivileges|DumpIOInput|DumpIOOutput|EnableExceptionHook|EnableMMAP|EnableSendfile|Error|ErrorDocument|ErrorLog|ErrorLogFormat|Example|ExpiresActive|ExpiresByType|ExpiresDefault|ExtendedStatus|ExtFilterDefine|ExtFilterOptions|FallbackResource|FileETag|FilterChain|FilterDeclare|FilterProtocol|FilterProvider|FilterTrace|ForceLanguagePriority|ForceType|ForensicLog|GprofDir|GracefulShutdownTimeout|Group|Header|HeaderName|Heartbeat(?:Address|Listen|MaxServers|Storage)|HostnameLookups|IdentityCheck|IdentityCheckTimeout|ImapBase|ImapDefault|ImapMenu|Include|IncludeOptional|Index(?:HeadInsert|Ignore|IgnoreReset|Options|OrderDefault|StyleSheet)|InputSed|ISAPI(?:AppendLogToErrors|AppendLogToQuery|CacheFile|FakeAsync|LogNotSupported|ReadAheadBuffer)|KeepAlive|KeepAliveTimeout|KeptBodySize|LanguagePriority|LDAP(?:CacheEntries|CacheTTL|ConnectionPoolTTL|ConnectionTimeout|LibraryDebug|OpCacheEntries|OpCacheTTL|ReferralHopLimit|Referrals|Retries|RetryDelay|SharedCacheFile|SharedCacheSize|Timeout|TrustedClientCert|TrustedGlobalCert|TrustedMode|VerifyServerCert)|Limit(?:InternalRecursion|Request(?:Body|Fields|FieldSize|Line)|XMLRequestBody)|Listen|ListenBackLog|LoadFile|LoadModule|LogFormat|LogLevel|LogMessage|LuaAuthzProvider|LuaCodeCache|Lua(?:Hook(?:AccessChecker|AuthChecker|CheckUserID|Fixups|InsertFilter|Log|MapToStorage|TranslateName|TypeChecker)|Inherit|InputFilter|MapHandler|OutputFilter|PackageCPath|PackagePath|QuickHandler|Root|Scope)|Max(?:ConnectionsPerChild|KeepAliveRequests|MemFree|RangeOverlaps|RangeReversals|Ranges|RequestWorkers|SpareServers|SpareThreads|Threads)|MergeTrailers|MetaDir|MetaFiles|MetaSuffix|MimeMagicFile|MinSpareServers|MinSpareThreads|MMapFile|ModemStandard|ModMimeUsePathInfo|MultiviewsMatch|Mutex|NameVirtualHost|NoProxy|NWSSLTrustedCerts|NWSSLUpgradeable|Options|Order|OutputSed|PassEnv|PidFile|PrivilegesMode|Protocol|ProtocolEcho|Proxy(?:AddHeaders|BadHeader|Block|Domain|ErrorOverride|ExpressDBMFile|ExpressDBMType|ExpressEnable|FtpDirCharset|FtpEscapeWildcards|FtpListOnWildcard|HTML(?:BufSize|CharsetOut|DocType|Enable|Events|Extended|Fixups|Interp|Links|Meta|StripComments|URLMap)|IOBufferSize|MaxForwards|Pass(?:Inherit|InterpolateEnv|Match|Reverse|ReverseCookieDomain|ReverseCookiePath)?|PreserveHost|ReceiveBufferSize|Remote|RemoteMatch|Requests|SCGIInternalRedirect|SCGISendfile|Set|SourceAddress|Status|Timeout|Via)|ReadmeName|ReceiveBufferSize|Redirect|RedirectMatch|RedirectPermanent|RedirectTemp|ReflectorHeader|RemoteIP(?:Header|InternalProxy|InternalProxyList|ProxiesHeader|TrustedProxy|TrustedProxyList)|RemoveCharset|RemoveEncoding|RemoveHandler|RemoveInputFilter|RemoveLanguage|RemoveOutputFilter|RemoveType|RequestHeader|RequestReadTimeout|Require|Rewrite(?:Base|Cond|Engine|Map|Options|Rule)|RLimitCPU|RLimitMEM|RLimitNPROC|Satisfy|ScoreBoardFile|Script(?:Alias|AliasMatch|InterpreterSource|Log|LogBuffer|LogLength|Sock)?|SecureListen|SeeRequestTail|SendBufferSize|Server(?:Admin|Alias|Limit|Name|Path|Root|Signature|Tokens)|Session(?:Cookie(?:Name|Name2|Remove)|Crypto(?:Cipher|Driver|Passphrase|PassphraseFile)|DBD(?:CookieName|CookieName2|CookieRemove|DeleteLabel|InsertLabel|PerUser|SelectLabel|UpdateLabel)|Env|Exclude|Header|Include|MaxAge)?|SetEnv|SetEnvIf|SetEnvIfExpr|SetEnvIfNoCase|SetHandler|SetInputFilter|SetOutputFilter|SSIEndTag|SSIErrorMsg|SSIETag|SSILastModified|SSILegacyExprParser|SSIStartTag|SSITimeFormat|SSIUndefinedEcho|SSL(?:CACertificateFile|CACertificatePath|CADNRequestFile|CADNRequestPath|CARevocationCheck|CARevocationFile|CARevocationPath|CertificateChainFile|CertificateFile|CertificateKeyFile|CipherSuite|Compression|CryptoDevice|Engine|FIPS|HonorCipherOrder|InsecureRenegotiation|OCSP(?:DefaultResponder|Enable|OverrideResponder|ResponderTimeout|ResponseMaxAge|ResponseTimeSkew|UseRequestNonce)|OpenSSLConfCmd|Options|PassPhraseDialog|Protocol|Proxy(?:CACertificateFile|CACertificatePath|CARevocation(?:Check|File|Path)|CheckPeer(?:CN|Expire|Name)|CipherSuite|Engine|MachineCertificate(?:ChainFile|File|Path)|Protocol|Verify|VerifyDepth)|RandomSeed|RenegBufferSize|Require|RequireSSL|Session(?:Cache|CacheTimeout|TicketKeyFile|Tickets)|SRPUnknownUserSeed|SRPVerifierFile|Stapling(?:Cache|ErrorCacheTimeout|FakeTryLater|ForceURL|ResponderTimeout|ResponseMaxAge|ResponseTimeSkew|ReturnResponderErrors|StandardCacheTimeout)|StrictSNIVHostCheck|UserName|UseStapling|VerifyClient|VerifyDepth)|StartServers|StartThreads|Substitute|Suexec|SuexecUserGroup|ThreadLimit|ThreadsPerChild|ThreadStackSize|TimeOut|TraceEnable|TransferLog|TypesConfig|UnDefine|UndefMacro|UnsetEnv|Use|UseCanonicalName|UseCanonicalPhysicalPort|User|UserDir|VHostCGIMode|VHostCGIPrivs|VHostGroup|VHostPrivs|VHostSecure|VHostUser|Virtual(?:DocumentRoot|ScriptAlias)(?:IP)?|WatchdogInterval|XBitHack|xml2EncAlias|xml2EncDefault|xml2StartParse)\b/im,lookbehind:!0,alias:"property"},"directive-block":{pattern:/<\/?\b(?:Auth[nz]ProviderAlias|Directory|DirectoryMatch|Else|ElseIf|Files|FilesMatch|If|IfDefine|IfModule|IfVersion|Limit|LimitExcept|Location|LocationMatch|Macro|Proxy|Require(?:All|Any|None)|VirtualHost)\b.*>/i,inside:{"directive-block":{pattern:/^<\/?\w+/,inside:{punctuation:/^<\/?/},alias:"tag"},"directive-block-parameter":{pattern:/.*[^>]/,inside:{punctuation:/:/,string:{pattern:/("|').*\1/,inside:{variable:/[$%]\{?(?:\w\.?[-+:]?)+\}?/}}},alias:"attr-value"},punctuation:/>/},alias:"tag"},"directive-flags":{pattern:/\[(?:[\w=],?)+\]/,alias:"keyword"},string:{pattern:/("|').*\1/,inside:{variable:/[$%]\{?(?:\w\.?[-+:]?)+\}?/}},variable:/[$%]\{?(?:\w\.?[-+:]?)+\}?/,regex:/\^?.*\$|\^.*\$?/}}fC.displayName="apex";fC.aliases=[];function fC(e){e.register(Kr),e.register(zp),(function(t){var r=/\b(?:(?:after|before)(?=\s+[a-z])|abstract|activate|and|any|array|as|asc|autonomous|begin|bigdecimal|blob|boolean|break|bulk|by|byte|case|cast|catch|char|class|collect|commit|const|continue|currency|date|datetime|decimal|default|delete|desc|do|double|else|end|enum|exception|exit|export|extends|final|finally|float|for|from|get(?=\s*[{};])|global|goto|group|having|hint|if|implements|import|in|inner|insert|instanceof|int|integer|interface|into|join|like|limit|list|long|loop|map|merge|new|not|null|nulls|number|object|of|on|or|outer|override|package|parallel|pragma|private|protected|public|retrieve|return|rollback|select|set|short|sObject|sort|static|string|super|switch|synchronized|system|testmethod|then|this|throw|time|transaction|transient|trigger|try|undelete|update|upsert|using|virtual|void|webservice|when|where|while|(?:inherited|with|without)\s+sharing)\b/i,n=/\b(?:(?=[a-z_]\w*\s*[<\[])|(?!<keyword>))[A-Z_]\w*(?:\s*\.\s*[A-Z_]\w*)*\b(?:\s*(?:\[\s*\]|<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>))*/.source.replace(/<keyword>/g,function(){return r.source});function a(o){return RegExp(o.replace(/<CLASS-NAME>/g,function(){return n}),"i")}var i={keyword:r,punctuation:/[()\[\]{};,:.<>]/};t.languages.apex={comment:t.languages.clike.comment,string:t.languages.clike.string,sql:{pattern:/((?:[=,({:]|\breturn)\s*)\[[^\[\]]*\]/i,lookbehind:!0,greedy:!0,alias:"language-sql",inside:t.languages.sql},annotation:{pattern:/@\w+\b/,alias:"punctuation"},"class-name":[{pattern:a(/(\b(?:class|enum|extends|implements|instanceof|interface|new|trigger\s+\w+\s+on)\s+)<CLASS-NAME>/.source),lookbehind:!0,inside:i},{pattern:a(/(\(\s*)<CLASS-NAME>(?=\s*\)\s*[\w(])/.source),lookbehind:!0,inside:i},{pattern:a(/<CLASS-NAME>(?=\s*\w+\s*[;=,(){:])/.source),inside:i}],trigger:{pattern:/(\btrigger\s+)\w+\b/i,lookbehind:!0,alias:"class-name"},keyword:r,function:/\b[a-z_]\w*(?=\s*\()/i,boolean:/\b(?:false|true)\b/i,number:/(?:\B\.\d+|\b\d+(?:\.\d+|L)?)\b/i,operator:/[!=](?:==?)?|\?\.?|&&|\|\||--|\+\+|[-+*/^&|]=?|:|<<?=?|>{1,3}=?/,punctuation:/[()\[\]{};,.]/}})(e)}bC.displayName="apl";bC.aliases=[];function bC(e){e.languages.apl={comment:/(?:|#[! ]).*$/m,string:{pattern:/'(?:[^'\r\n]|'')*'/,greedy:!0},number:/?(?:\d*\.?\b\d+(?:e[+]?\d+)?||)(?:j?(?:(?:\d+(?:\.\d+)?|\.\d+)(?:e[+]?\d+)?||))?/i,statement:/:[A-Z][a-z][A-Za-z]*\b/,"system-function":{pattern:/[A-Z]+/i,alias:"function"},constant:/[#]/,function:/[-+|?*!<=>~,]/,"monadic-operator":{pattern:/[\\\/&]/,alias:"operator"},"dyadic-operator":{pattern:/[.@]/,alias:"operator"},assignment:{pattern://,alias:"keyword"},punctuation:/[\[;\]()]/,dfn:{pattern:/[{}:]/,alias:"builtin"}}}yC.displayName="applescript";yC.aliases=[];function yC(e){e.languages.applescript={comment:[/\(\*(?:\(\*(?:[^*]|\*(?!\)))*\*\)|(?!\(\*)[\s\S])*?\*\)/,/--.+/,/#.+/],string:/"(?:\\.|[^"\\\r\n])*"/,number:/(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e-?\d+)?\b/i,operator:[/[&=*+\-\/^]|[<>]=?/,/\b(?:(?:begin|end|start)s? with|(?:contains?|(?:does not|doesn't) contain)|(?:is|isn't|is not) (?:contained by|in)|(?:(?:is|isn't|is not) )?(?:greater|less) than(?: or equal)?(?: to)?|(?:comes|(?:does not|doesn't) come) (?:after|before)|(?:is|isn't|is not) equal(?: to)?|(?:(?:does not|doesn't) equal|equal to|equals|is not|isn't)|(?:a )?(?:ref(?: to)?|reference to)|(?:and|as|div|mod|not|or))\b/],keyword:/\b(?:about|above|after|against|apart from|around|aside from|at|back|before|beginning|behind|below|beneath|beside|between|but|by|considering|continue|copy|does|eighth|else|end|equal|error|every|exit|false|fifth|first|for|fourth|from|front|get|given|global|if|ignoring|in|instead of|into|is|it|its|last|local|me|middle|my|ninth|of|on|onto|out of|over|prop|property|put|repeat|return|returning|second|set|seventh|since|sixth|some|tell|tenth|that|the|then|third|through|thru|timeout|times|to|transaction|true|try|until|where|while|whose|with|without)\b/,"class-name":/\b(?:POSIX file|RGB color|alias|application|boolean|centimeters|centimetres|class|constant|cubic centimeters|cubic centimetres|cubic feet|cubic inches|cubic meters|cubic metres|cubic yards|date|degrees Celsius|degrees Fahrenheit|degrees Kelvin|feet|file|gallons|grams|inches|integer|kilograms|kilometers|kilometres|list|liters|litres|meters|metres|miles|number|ounces|pounds|quarts|real|record|reference|script|square feet|square kilometers|square kilometres|square meters|square metres|square miles|square yards|text|yards)\b/,punctuation:/[{}():,]/}}xC.displayName="aql";xC.aliases=[];function xC(e){e.languages.aql={comment:/\/\/.*|\/\*[\s\S]*?\*\//,property:{pattern:/([{,]\s*)(?:(?!\d)\w+|(["'`])(?:(?!\2)[^\\\r\n]|\\.)*\2)(?=\s*:)/,lookbehind:!0,greedy:!0},string:{pattern:/(["'])(?:(?!\1)[^\\\r\n]|\\.)*\1/,greedy:!0},identifier:{pattern:/([`])(?:(?!\1)[^\\\r\n]|\\.)*\1/,greedy:!0},variable:/@@?\w+/,keyword:[{pattern:/(\bWITH\s+)COUNT(?=\s+INTO\b)/i,lookbehind:!0},/\b(?:AGGREGATE|ALL|AND|ANY|ASC|COLLECT|DESC|DISTINCT|FILTER|FOR|GRAPH|IN|INBOUND|INSERT|INTO|K_PATHS|K_SHORTEST_PATHS|LET|LIKE|LIMIT|NONE|NOT|NULL|OR|OUTBOUND|REMOVE|REPLACE|RETURN|SHORTEST_PATH|SORT|UPDATE|UPSERT|WINDOW|WITH)\b/i,{pattern:/(^|[^\w.[])(?:KEEP|PRUNE|SEARCH|TO)\b/i,lookbehind:!0},{pattern:/(^|[^\w.[])(?:CURRENT|NEW|OLD)\b/,lookbehind:!0},{pattern:/\bOPTIONS(?=\s*\{)/i}],function:/\b(?!\d)\w+(?=\s*\()/,boolean:/\b(?:false|true)\b/i,range:{pattern:/\.\./,alias:"operator"},number:[/\b0b[01]+/i,/\b0x[0-9a-f]+/i,/(?:\B\.\d+|\b(?:0|[1-9]\d*)(?:\.\d+)?)(?:e[+-]?\d+)?/i],operator:/\*{2,}|[=!]~|[!=<>]=?|&&|\|\||[-+*/%]/,punctuation:/::|[?.:,;()[\]{}]/}}EC.displayName="arff";EC.aliases=[];function EC(e){e.languages.arff={comment:/%.*/,string:{pattern:/(["'])(?:\\.|(?!\1)[^\\\r\n])*\1/,greedy:!0},keyword:/@(?:attribute|data|end|relation)\b/i,number:/\b\d+(?:\.\d+)?\b/,punctuation:/[{},]/}}vC.displayName="armasm";vC.aliases=["arm-asm"];function vC(e){e.languages.armasm={comment:{pattern:/;.*/,greedy:!0},string:{pattern:/"(?:[^"\r\n]|"")*"/,greedy:!0,inside:{variable:{pattern:/((?:^|[^$])(?:\${2})*)\$\w+/,lookbehind:!0}}},char:{pattern:/'(?:[^'\r\n]{0,4}|'')'/,greedy:!0},"version-symbol":{pattern:/\|[\w@]+\|/,greedy:!0,alias:"property"},boolean:/\b(?:FALSE|TRUE)\b/,directive:{pattern:/\b(?:ALIAS|ALIGN|AREA|ARM|ASSERT|ATTR|CN|CODE|CODE16|CODE32|COMMON|CP|DATA|DCB|DCD|DCDO|DCDU|DCFD|DCFDU|DCI|DCQ|DCQU|DCW|DCWU|DN|ELIF|ELSE|END|ENDFUNC|ENDIF|ENDP|ENTRY|EQU|EXPORT|EXPORTAS|EXTERN|FIELD|FILL|FN|FUNCTION|GBLA|GBLL|GBLS|GET|GLOBAL|IF|IMPORT|INCBIN|INCLUDE|INFO|KEEP|LCLA|LCLL|LCLS|LTORG|MACRO|MAP|MEND|MEXIT|NOFP|OPT|PRESERVE8|PROC|QN|READONLY|RELOC|REQUIRE|REQUIRE8|RLIST|ROUT|SETA|SETL|SETS|SN|SPACE|SUBT|THUMB|THUMBX|TTL|WEND|WHILE)\b/,alias:"property"},instruction:{pattern:/((?:^|(?:^|[^\\])(?:\r\n?|\n))[ \t]*(?:(?:[A-Z][A-Z0-9_]*[a-z]\w*|[a-z]\w*|\d+)[ \t]+)?)\b[A-Z.]+\b/,lookbehind:!0,alias:"keyword"},variable:/\$\w+/,number:/(?:\b[2-9]_\d+|(?:\b\d+(?:\.\d+)?|\B\.\d+)(?:e-?\d+)?|\b0(?:[fd]_|x)[0-9a-f]+|&[0-9a-f]+)\b/i,register:{pattern:/\b(?:r\d|lr)\b/,alias:"symbol"},operator:/<>|<<|>>|&&|\|\||[=!<>/]=?|[+\-*%#?&|^]|:[A-Z]+:/,punctuation:/[()[\],]/},e.languages["arm-asm"]=e.languages.armasm}SC.displayName="arturo";SC.aliases=["art"];function SC(e){(function(t){var r=function(n,a){return{pattern:RegExp(/\{!/.source+"(?:"+(a||n)+")"+/$[\s\S]*\}/.source,"m"),greedy:!0,inside:{embedded:{pattern:/(^\{!\w+\b)[\s\S]+(?=\}$)/,lookbehind:!0,alias:"language-"+n,inside:t.languages[n]},string:/[\s\S]+/}}};t.languages.arturo={comment:{pattern:/;.*/,greedy:!0},character:{pattern:/`.`/,alias:"char",greedy:!0},number:{pattern:/\b\d+(?:\.\d+(?:\.\d+(?:-[\w+-]+)?)?)?\b/},string:{pattern:/"(?:[^"\\\r\n]|\\.)*"/,greedy:!0},regex:{pattern:/\{\/.*?\/\}/,greedy:!0},"html-string":r("html"),"css-string":r("css"),"js-string":r("js"),"md-string":r("md"),"sql-string":r("sql"),"sh-string":r("shell","sh"),multistring:{pattern:/.*|\{:[\s\S]*?:\}|\{[\s\S]*?\}|^-{6}$[\s\S]*/m,alias:"string",greedy:!0},label:{pattern:/\w+\b\??:/,alias:"property"},literal:{pattern:/'(?:\w+\b\??:?)/,alias:"constant"},type:{pattern:/:(?:\w+\b\??:?)/,alias:"class-name"},color:/#\w+/,predicate:{pattern:/\b(?:all|and|any|ascii|attr|attribute|attributeLabel|binary|block|char|contains|database|date|dictionary|empty|equal|even|every|exists|false|floating|function|greater|greaterOrEqual|if|in|inline|integer|is|key|label|leap|less|lessOrEqual|literal|logical|lower|nand|negative|nor|not|notEqual|null|numeric|odd|or|path|pathLabel|positive|prefix|prime|regex|same|set|some|sorted|standalone|string|subset|suffix|superset|symbol|symbolLiteral|true|try|type|unless|upper|when|whitespace|word|xnor|xor|zero)\?/,alias:"keyword"},"builtin-function":{pattern:/\b(?:abs|acos|acosh|acsec|acsech|actan|actanh|add|after|alert|alias|and|angle|append|arg|args|arity|array|as|asec|asech|asin|asinh|atan|atan2|atanh|attr|attrs|average|before|benchmark|blend|break|call|capitalize|case|ceil|chop|clear|clip|close|color|combine|conj|continue|copy|cos|cosh|crc|csec|csech|ctan|ctanh|cursor|darken|dec|decode|define|delete|desaturate|deviation|dialog|dictionary|difference|digest|digits|div|do|download|drop|dup|e|else|empty|encode|ensure|env|escape|execute|exit|exp|extend|extract|factors|fdiv|filter|first|flatten|floor|fold|from|function|gamma|gcd|get|goto|hash|hypot|if|inc|indent|index|infinity|info|input|insert|inspect|intersection|invert|jaro|join|keys|kurtosis|last|let|levenshtein|lighten|list|ln|log|loop|lower|mail|map|match|max|median|min|mod|module|mul|nand|neg|new|nor|normalize|not|now|null|open|or|outdent|pad|palette|panic|path|pause|permissions|permutate|pi|pop|popup|pow|powerset|powmod|prefix|print|prints|process|product|query|random|range|read|relative|remove|rename|render|repeat|replace|request|return|reverse|round|sample|saturate|script|sec|sech|select|serve|set|shl|shr|shuffle|sin|sinh|size|skewness|slice|sort|spin|split|sqrt|squeeze|stack|strip|sub|suffix|sum|switch|symbols|symlink|sys|take|tan|tanh|terminal|terminate|to|truncate|try|type|unclip|union|unique|unless|until|unzip|upper|values|var|variance|volume|webview|while|with|wordwrap|write|xnor|xor|zip)\b/,alias:"keyword"},sugar:{pattern:/->|=>|\||::/,alias:"operator"},punctuation:/[()[\],]/,symbol:{pattern:/<:|-:||@|#|\+|\||\*|\$|---|-|%|\/|\.\.|\^|~|=|<|>|\\/},boolean:{pattern:/\b(?:false|maybe|true)\b/}},t.languages.art=t.languages.arturo})(e)}TC.displayName="asciidoc";TC.aliases=["adoc"];function TC(e){(function(t){var r={pattern:/(^[ \t]*)\[(?!\[)(?:(["'$`])(?:(?!\2)[^\\]|\\.)*\2|\[(?:[^\[\]\\]|\\.)*\]|[^\[\]\\"'$`]|\\.)*\]/m,lookbehind:!0,inside:{quoted:{pattern:/([$`])(?:(?!\1)[^\\]|\\.)*\1/,inside:{punctuation:/^[$`]|[$`]$/}},interpreted:{pattern:/'(?:[^'\\]|\\.)*'/,inside:{punctuation:/^'|'$/}},string:/"(?:[^"\\]|\\.)*"/,variable:/\w+(?==)/,punctuation:/^\[|\]$|,/,operator:/=/,"attr-value":/(?!^\s+$).+/}},n=t.languages.asciidoc={"comment-block":{pattern:/^(\/{4,})$[\s\S]*?^\1/m,alias:"comment"},table:{pattern:/^\|={3,}(?:(?:\r?\n|\r(?!\n)).*)*?(?:\r?\n|\r)\|={3,}$/m,inside:{specifiers:{pattern:/(?:(?:(?:\d+(?:\.\d+)?|\.\d+)[+*](?:[<^>](?:\.[<^>])?|\.[<^>])?|[<^>](?:\.[<^>])?|\.[<^>])[a-z]*|[a-z]+)(?=\|)/,alias:"attr-value"},punctuation:{pattern:/(^|[^\\])[|!]=*/,lookbehind:!0}}},"passthrough-block":{pattern:/^(\+{4,})$[\s\S]*?^\1$/m,inside:{punctuation:/^\++|\++$/}},"literal-block":{pattern:/^(-{4,}|\.{4,})$[\s\S]*?^\1$/m,inside:{punctuation:/^(?:-+|\.+)|(?:-+|\.+)$/}},"other-block":{pattern:/^(--|\*{4,}|_{4,}|={4,})$[\s\S]*?^\1$/m,inside:{punctuation:/^(?:-+|\*+|_+|=+)|(?:-+|\*+|_+|=+)$/}},"list-punctuation":{pattern:/(^[ \t]*)(?:-|\*{1,5}|\.{1,5}|(?:[a-z]|\d+)\.|[xvi]+\))(?= )/im,lookbehind:!0,alias:"punctuation"},"list-label":{pattern:/(^[ \t]*)[a-z\d].+(?::{2,4}|;;)(?=\s)/im,lookbehind:!0,alias:"symbol"},"indented-block":{pattern:/((\r?\n|\r)\2)([ \t]+)\S.*(?:(?:\r?\n|\r)\3.+)*(?=\2{2}|$)/,lookbehind:!0},comment:/^\/\/.*/m,title:{pattern:/^.+(?:\r?\n|\r)(?:={3,}|-{3,}|~{3,}|\^{3,}|\+{3,})$|^={1,5} .+|^\.(?![\s.]).*/m,alias:"important",inside:{punctuation:/^(?:\.|=+)|(?:=+|-+|~+|\^+|\++)$/}},"attribute-entry":{pattern:/^:[^:\r\n]+:(?: .*?(?: \+(?:\r?\n|\r).*?)*)?$/m,alias:"tag"},attributes:r,hr:{pattern:/^'{3,}$/m,alias:"punctuation"},"page-break":{pattern:/^<{3,}$/m,alias:"punctuation"},admonition:{pattern:/^(?:CAUTION|IMPORTANT|NOTE|TIP|WARNING):/m,alias:"keyword"},callout:[{pattern:/(^[ \t]*)<?\d*>/m,lookbehind:!0,alias:"symbol"},{pattern:/<\d+>/,alias:"symbol"}],macro:{pattern:/\b[a-z\d][a-z\d-]*::?(?:[^\s\[\]]*\[(?:[^\]\\"']|(["'])(?:(?!\1)[^\\]|\\.)*\1|\\.)*\])/,inside:{function:/^[a-z\d-]+(?=:)/,punctuation:/^::?/,attributes:{pattern:/(?:\[(?:[^\]\\"']|(["'])(?:(?!\1)[^\\]|\\.)*\1|\\.)*\])/,inside:r.inside}}},inline:{pattern:/(^|[^\\])(?:(?:\B\[(?:[^\]\\"']|(["'])(?:(?!\2)[^\\]|\\.)*\2|\\.)*\])?(?:\b_(?!\s)(?: _|[^_\\\r\n]|\\.)+(?:(?:\r?\n|\r)(?: _|[^_\\\r\n]|\\.)+)*_\b|\B``(?!\s).+?(?:(?:\r?\n|\r).+?)*''\B|\B`(?!\s)(?:[^`'\s]|\s+\S)+['`]\B|\B(['*+#])(?!\s)(?: \3|(?!\3)[^\\\r\n]|\\.)+(?:(?:\r?\n|\r)(?: \3|(?!\3)[^\\\r\n]|\\.)+)*\3\B)|(?:\[(?:[^\]\\"']|(["'])(?:(?!\4)[^\\]|\\.)*\4|\\.)*\])?(?:(__|\*\*|\+\+\+?|##|\$\$|[~^]).+?(?:(?:\r?\n|\r).+?)*\5|\{[^}\r\n]+\}|\[\[\[?.+?(?:(?:\r?\n|\r).+?)*\]?\]\]|<<.+?(?:(?:\r?\n|\r).+?)*>>|\(\(\(?.+?(?:(?:\r?\n|\r).+?)*\)?\)\)))/m,lookbehind:!0,inside:{attributes:r,url:{pattern:/^(?:\[\[\[?.+?\]?\]\]|<<.+?>>)$/,inside:{punctuation:/^(?:\[\[\[?|<<)|(?:\]\]\]?|>>)$/}},"attribute-ref":{pattern:/^\{.+\}$/,inside:{variable:{pattern:/(^\{)[a-z\d,+_-]+/,lookbehind:!0},operator:/^[=?!#%@$]|!(?=[:}])/,punctuation:/^\{|\}$|::?/}},italic:{pattern:/^(['_])[\s\S]+\1$/,inside:{punctuation:/^(?:''?|__?)|(?:''?|__?)$/}},bold:{pattern:/^\*[\s\S]+\*$/,inside:{punctuation:/^\*\*?|\*\*?$/}},punctuation:/^(?:``?|\+{1,3}|##?|\$\$|[~^]|\(\(\(?)|(?:''?|\+{1,3}|##?|\$\$|[~^`]|\)?\)\))$/}},replacement:{pattern:/\((?:C|R|TM)\)/,alias:"builtin"},entity:/&#?[\da-z]{1,8};/i,"line-continuation":{pattern:/(^| )\+$/m,lookbehind:!0,alias:"punctuation"}};function a(i){i=i.split(" ");for(var o={},l=0,u=i.length;l<u;l++)o[i[l]]=n[i[l]];return o}r.inside.interpreted.inside.rest=a("macro inline replacement entity"),n["passthrough-block"].inside.rest=a("macro"),n["literal-block"].inside.rest=a("callout"),n.table.inside.rest=a("comment-block passthrough-block literal-block other-block list-punctuation indented-block comment title attribute-entry attributes hr page-break admonition list-label callout macro inline replacement entity line-continuation"),n["other-block"].inside.rest=a("table list-punctuation indented-block comment attribute-entry attributes hr page-break admonition list-label macro inline replacement entity line-continuation"),n.title.inside.rest=a("macro inline replacement entity"),t.hooks.add("wrap",function(i){i.type==="entity"&&(i.attributes.title=i.content.value.replace(/&amp;/,"&"))}),t.languages.adoc=t.languages.asciidoc})(e)}wC.displayName="aspnet";wC.aliases=[];function wC(e){e.register(Fu),e.register(Ga),e.languages.aspnet=e.languages.extend("markup",{"page-directive":{pattern:/<%\s*@.*%>/,alias:"tag",inside:{"page-directive":{pattern:/<%\s*@\s*(?:Assembly|Control|Implements|Import|Master(?:Type)?|OutputCache|Page|PreviousPageType|Reference|Register)?|%>/i,alias:"tag"},rest:e.languages.markup.tag.inside}},directive:{pattern:/<%.*%>/,alias:"tag",inside:{directive:{pattern:/<%\s*?[$=%#:]{0,2}|%>/,alias:"tag"},rest:e.languages.csharp}}}),e.languages.aspnet.tag.pattern=/<(?!%)\/?[^\s>\/]+(?:\s+[^\s>\/=]+(?:=(?:("|')(?:\\[\s\S]|(?!\1)[^\\])*\1|[^\s'">=]+))?)*\s*\/?>/,e.languages.insertBefore("inside","punctuation",{directive:e.languages.aspnet.directive},e.languages.aspnet.tag.inside["attr-value"]),e.languages.insertBefore("aspnet","comment",{"asp-comment":{pattern:/<%--[\s\S]*?--%>/,alias:["asp","comment"]}}),e.languages.insertBefore("aspnet",e.languages.javascript?"script":"tag",{"asp-script":{pattern:/(<script(?=.*runat=['"]?server\b)[^>]*>)[\s\S]*?(?=<\/script>)/i,lookbehind:!0,alias:["asp","script"],inside:e.languages.csharp||{}}})}kC.displayName="asm6502";kC.aliases=[];function kC(e){e.languages.asm6502={comment:/;.*/,directive:{pattern:/\.\w+(?= )/,alias:"property"},string:/(["'`])(?:\\.|(?!\1)[^\\\r\n])*\1/,"op-code":{pattern:/\b(?:ADC|AND|ASL|BCC|BCS|BEQ|BIT|BMI|BNE|BPL|BRK|BVC|BVS|CLC|CLD|CLI|CLV|CMP|CPX|CPY|DEC|DEX|DEY|EOR|INC|INX|INY|JMP|JSR|LDA|LDX|LDY|LSR|NOP|ORA|PHA|PHP|PLA|PLP|ROL|ROR|RTI|RTS|SBC|SEC|SED|SEI|STA|STX|STY|TAX|TAY|TSX|TXA|TXS|TYA|adc|and|asl|bcc|bcs|beq|bit|bmi|bne|bpl|brk|bvc|bvs|clc|cld|cli|clv|cmp|cpx|cpy|dec|dex|dey|eor|inc|inx|iny|jmp|jsr|lda|ldx|ldy|lsr|nop|ora|pha|php|pla|plp|rol|ror|rti|rts|sbc|sec|sed|sei|sta|stx|sty|tax|tay|tsx|txa|txs|tya)\b/,alias:"keyword"},"hex-number":{pattern:/#?\$[\da-f]{1,4}\b/i,alias:"number"},"binary-number":{pattern:/#?%[01]+\b/,alias:"number"},"decimal-number":{pattern:/#?\b\d+\b/,alias:"number"},register:{pattern:/\b[xya]\b/i,alias:"variable"},punctuation:/[(),:]/}}CC.displayName="asmatmel";CC.aliases=[];function CC(e){e.languages.asmatmel={comment:{pattern:/;.*/,greedy:!0},string:{pattern:/(["'`])(?:\\.|(?!\1)[^\\\r\n])*\1/,greedy:!0},constant:/\b(?:PORT[A-Z]|DDR[A-Z]|(?:DD|P)[A-Z](?:\d|[0-2]\d|3[01]))\b/,directive:{pattern:/\.\w+(?= )/,alias:"property"},"r-register":{pattern:/\br(?:\d|[12]\d|3[01])\b/,alias:"variable"},"op-code":{pattern:/\b(?:ADC|ADD|ADIW|AND|ANDI|ASR|BCLR|BLD|BRBC|BRBS|BRCC|BRCS|BREAK|BREQ|BRGE|BRHC|BRHS|BRID|BRIE|BRLO|BRLT|BRMI|BRNE|BRPL|BRSH|BRTC|BRTS|BRVC|BRVS|BSET|BST|CALL|CBI|CBR|CLC|CLH|CLI|CLN|CLR|CLS|CLT|CLV|CLZ|COM|CP|CPC|CPI|CPSE|DEC|DES|EICALL|EIJMP|ELPM|EOR|FMUL|FMULS|FMULSU|ICALL|IJMP|IN|INC|JMP|LAC|LAS|LAT|LD|LD[A-Za-z0-9]|LPM|LSL|LSR|MOV|MOVW|MUL|MULS|MULSU|NEG|NOP|OR|ORI|OUT|POP|PUSH|RCALL|RET|RETI|RJMP|ROL|ROR|SBC|SBCI|SBI|SBIC|SBIS|SBIW|SBR|SBRC|SBRS|SEC|SEH|SEI|SEN|SER|SES|SET|SEV|SEZ|SLEEP|SPM|ST|ST[A-Z0-9]|SUB|SUBI|SWAP|TST|WDR|XCH|adc|add|adiw|and|andi|asr|bclr|bld|brbc|brbs|brcc|brcs|break|breq|brge|brhc|brhs|brid|brie|brlo|brlt|brmi|brne|brpl|brsh|brtc|brts|brvc|brvs|bset|bst|call|cbi|cbr|clc|clh|cli|cln|clr|cls|clt|clv|clz|com|cp|cpc|cpi|cpse|dec|des|eicall|eijmp|elpm|eor|fmul|fmuls|fmulsu|icall|ijmp|in|inc|jmp|lac|las|lat|ld|ld[a-z0-9]|lpm|lsl|lsr|mov|movw|mul|muls|mulsu|neg|nop|or|ori|out|pop|push|rcall|ret|reti|rjmp|rol|ror|sbc|sbci|sbi|sbic|sbis|sbiw|sbr|sbrc|sbrs|sec|seh|sei|sen|ser|ses|set|sev|sez|sleep|spm|st|st[a-zA-Z0-9]|sub|subi|swap|tst|wdr|xch)\b/,alias:"keyword"},"hex-number":{pattern:/#?\$[\da-f]{2,4}\b/i,alias:"number"},"binary-number":{pattern:/#?%[01]+\b/,alias:"number"},"decimal-number":{pattern:/#?\b\d+\b/,alias:"number"},register:{pattern:/\b[acznvshtixy]\b/i,alias:"variable"},operator:/>>=?|<<=?|&[&=]?|\|[\|=]?|[-+*/%^!=<>?]=?/,punctuation:/[(),:]/}}_C.displayName="autohotkey";_C.aliases=[];function _C(e){e.languages.autohotkey={comment:[{pattern:/(^|\s);.*/,lookbehind:!0},{pattern:/(^[\t ]*)\/\*(?:[\r\n](?![ \t]*\*\/)|[^\r\n])*(?:[\r\n][ \t]*\*\/)?/m,lookbehind:!0,greedy:!0}],tag:{pattern:/^([ \t]*)[^\s,`":]+(?=:[ \t]*$)/m,lookbehind:!0},string:/"(?:[^"\n\r]|"")*"/,variable:/%\w+%/,number:/\b0x[\dA-Fa-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:[Ee]-?\d+)?/,operator:/\?|\/\/?=?|:=|\|[=|]?|&[=&]?|\+[=+]?|-[=-]?|\*[=*]?|<(?:<=?|>|=)?|>>?=?|[.^!=~]=?|\b(?:AND|NOT|OR)\b/,boolean:/\b(?:false|true)\b/,command:{pattern:/\b(?:AutoTrim|BlockInput|Break|Click|ClipWait|Continue|Control|ControlClick|ControlFocus|ControlGet|ControlGetFocus|ControlGetPos|ControlGetText|ControlMove|ControlSend|ControlSendRaw|ControlSetText|CoordMode|Critical|DetectHiddenText|DetectHiddenWindows|Drive|DriveGet|DriveSpaceFree|EnvAdd|EnvDiv|EnvGet|EnvMult|EnvSet|EnvSub|EnvUpdate|Exit|ExitApp|FileAppend|FileCopy|FileCopyDir|FileCreateDir|FileCreateShortcut|FileDelete|FileEncoding|FileGetAttrib|FileGetShortcut|FileGetSize|FileGetTime|FileGetVersion|FileInstall|FileMove|FileMoveDir|FileRead|FileReadLine|FileRecycle|FileRecycleEmpty|FileRemoveDir|FileSelectFile|FileSelectFolder|FileSetAttrib|FileSetTime|FormatTime|GetKeyState|Gosub|Goto|GroupActivate|GroupAdd|GroupClose|GroupDeactivate|Gui|GuiControl|GuiControlGet|Hotkey|ImageSearch|IniDelete|IniRead|IniWrite|Input|InputBox|KeyWait|ListHotkeys|ListLines|ListVars|Loop|Menu|MouseClick|MouseClickDrag|MouseGetPos|MouseMove|MsgBox|OnExit|OutputDebug|Pause|PixelGetColor|PixelSearch|PostMessage|Process|Progress|Random|RegDelete|RegRead|RegWrite|Reload|Repeat|Return|Run|RunAs|RunWait|Send|SendEvent|SendInput|SendMessage|SendMode|SendPlay|SendRaw|SetBatchLines|SetCapslockState|SetControlDelay|SetDefaultMouseSpeed|SetEnv|SetFormat|SetKeyDelay|SetMouseDelay|SetNumlockState|SetRegView|SetScrollLockState|SetStoreCapslockMode|SetTimer|SetTitleMatchMode|SetWinDelay|SetWorkingDir|Shutdown|Sleep|Sort|SoundBeep|SoundGet|SoundGetWaveVolume|SoundPlay|SoundSet|SoundSetWaveVolume|SplashImage|SplashTextOff|SplashTextOn|SplitPath|StatusBarGetText|StatusBarWait|StringCaseSense|StringGetPos|StringLeft|StringLen|StringLower|StringMid|StringReplace|StringRight|StringSplit|StringTrimLeft|StringTrimRight|StringUpper|Suspend|SysGet|Thread|ToolTip|Transform|TrayTip|URLDownloadToFile|WinActivate|WinActivateBottom|WinClose|WinGet|WinGetActiveStats|WinGetActiveTitle|WinGetClass|WinGetPos|WinGetText|WinGetTitle|WinHide|WinKill|WinMaximize|WinMenuSelectItem|WinMinimize|WinMinimizeAll|WinMinimizeAllUndo|WinMove|WinRestore|WinSet|WinSetTitle|WinShow|WinWait|WinWaitActive|WinWaitClose|WinWaitNotActive)\b/i,alias:"selector"},constant:/\b(?:a_ahkpath|a_ahkversion|a_appdata|a_appdatacommon|a_autotrim|a_batchlines|a_caretx|a_carety|a_computername|a_controldelay|a_cursor|a_dd|a_ddd|a_dddd|a_defaultmousespeed|a_desktop|a_desktopcommon|a_detecthiddentext|a_detecthiddenwindows|a_endchar|a_eventinfo|a_exitreason|a_fileencoding|a_formatfloat|a_formatinteger|a_gui|a_guicontrol|a_guicontrolevent|a_guievent|a_guiheight|a_guiwidth|a_guix|a_guiy|a_hour|a_iconfile|a_iconhidden|a_iconnumber|a_icontip|a_index|a_ipaddress1|a_ipaddress2|a_ipaddress3|a_ipaddress4|a_is64bitos|a_isadmin|a_iscompiled|a_iscritical|a_ispaused|a_issuspended|a_isunicode|a_keydelay|a_language|a_lasterror|a_linefile|a_linenumber|a_loopfield|a_loopfileattrib|a_loopfiledir|a_loopfileext|a_loopfilefullpath|a_loopfilelongpath|a_loopfilename|a_loopfileshortname|a_loopfileshortpath|a_loopfilesize|a_loopfilesizekb|a_loopfilesizemb|a_loopfiletimeaccessed|a_loopfiletimecreated|a_loopfiletimemodified|a_loopreadline|a_loopregkey|a_loopregname|a_loopregsubkey|a_loopregtimemodified|a_loopregtype|a_mday|a_min|a_mm|a_mmm|a_mmmm|a_mon|a_mousedelay|a_msec|a_mydocuments|a_now|a_nowutc|a_numbatchlines|a_ostype|a_osversion|a_priorhotkey|a_priorkey|a_programfiles|a_programs|a_programscommon|a_ptrsize|a_regview|a_screendpi|a_screenheight|a_screenwidth|a_scriptdir|a_scriptfullpath|a_scripthwnd|a_scriptname|a_sec|a_space|a_startmenu|a_startmenucommon|a_startup|a_startupcommon|a_stringcasesense|a_tab|a_temp|a_thisfunc|a_thishotkey|a_thislabel|a_thismenu|a_thismenuitem|a_thismenuitempos|a_tickcount|a_timeidle|a_timeidlephysical|a_timesincepriorhotkey|a_timesincethishotkey|a_titlematchmode|a_titlematchmodespeed|a_username|a_wday|a_windelay|a_windir|a_workingdir|a_yday|a_year|a_yweek|a_yyyy|clipboard|clipboardall|comspec|errorlevel|programfiles)\b/i,builtin:/\b(?:abs|acos|asc|asin|atan|ceil|chr|class|comobjactive|comobjarray|comobjconnect|comobjcreate|comobjerror|comobjflags|comobjget|comobjquery|comobjtype|comobjvalue|cos|dllcall|exp|fileexist|Fileopen|floor|format|il_add|il_create|il_destroy|instr|isfunc|islabel|IsObject|ln|log|ltrim|lv_add|lv_delete|lv_deletecol|lv_getcount|lv_getnext|lv_gettext|lv_insert|lv_insertcol|lv_modify|lv_modifycol|lv_setimagelist|mod|numget|numput|onmessage|regexmatch|regexreplace|registercallback|round|rtrim|sb_seticon|sb_setparts|sb_settext|sin|sqrt|strlen|strreplace|strsplit|substr|tan|tv_add|tv_delete|tv_get|tv_getchild|tv_getcount|tv_getnext|tv_getparent|tv_getprev|tv_getselection|tv_gettext|tv_modify|varsetcapacity|winactive|winexist|__Call|__Get|__New|__Set)\b/i,symbol:/\b(?:alt|altdown|altup|appskey|backspace|browser_back|browser_favorites|browser_forward|browser_home|browser_refresh|browser_search|browser_stop|bs|capslock|ctrl|ctrlbreak|ctrldown|ctrlup|del|delete|down|end|enter|esc|escape|f1|f10|f11|f12|f13|f14|f15|f16|f17|f18|f19|f2|f20|f21|f22|f23|f24|f3|f4|f5|f6|f7|f8|f9|home|ins|insert|joy1|joy10|joy11|joy12|joy13|joy14|joy15|joy16|joy17|joy18|joy19|joy2|joy20|joy21|joy22|joy23|joy24|joy25|joy26|joy27|joy28|joy29|joy3|joy30|joy31|joy32|joy4|joy5|joy6|joy7|joy8|joy9|joyaxes|joybuttons|joyinfo|joyname|joypov|joyr|joyu|joyv|joyx|joyy|joyz|lalt|launch_app1|launch_app2|launch_mail|launch_media|lbutton|lcontrol|lctrl|left|lshift|lwin|lwindown|lwinup|mbutton|media_next|media_play_pause|media_prev|media_stop|numlock|numpad0|numpad1|numpad2|numpad3|numpad4|numpad5|numpad6|numpad7|numpad8|numpad9|numpadadd|numpadclear|numpaddel|numpaddiv|numpaddot|numpaddown|numpadend|numpadenter|numpadhome|numpadins|numpadleft|numpadmult|numpadpgdn|numpadpgup|numpadright|numpadsub|numpadup|pgdn|pgup|printscreen|ralt|rbutton|rcontrol|rctrl|right|rshift|rwin|rwindown|rwinup|scrolllock|shift|shiftdown|shiftup|space|tab|up|volume_down|volume_mute|volume_up|wheeldown|wheelleft|wheelright|wheelup|xbutton1|xbutton2)\b/i,directive:{pattern:/#[a-z]+\b/i,alias:"important"},keyword:/\b(?:Abort|AboveNormal|Add|ahk_class|ahk_exe|ahk_group|ahk_id|ahk_pid|All|Alnum|Alpha|AltSubmit|AltTab|AltTabAndMenu|AltTabMenu|AltTabMenuDismiss|AlwaysOnTop|AutoSize|Background|BackgroundTrans|BelowNormal|between|BitAnd|BitNot|BitOr|BitShiftLeft|BitShiftRight|BitXOr|Bold|Border|Button|ByRef|Catch|Checkbox|Checked|CheckedGray|Choose|ChooseString|Close|Color|ComboBox|Contains|ControlList|Count|Date|DateTime|Days|DDL|Default|DeleteAll|Delimiter|Deref|Destroy|Digit|Disable|Disabled|DropDownList|Edit|Eject|Else|Enable|Enabled|Error|Exist|Expand|ExStyle|FileSystem|Finally|First|Flash|Float|FloatFast|Focus|Font|for|global|Grid|Group|GroupBox|GuiClose|GuiContextMenu|GuiDropFiles|GuiEscape|GuiSize|Hdr|Hidden|Hide|High|HKCC|HKCR|HKCU|HKEY_CLASSES_ROOT|HKEY_CURRENT_CONFIG|HKEY_CURRENT_USER|HKEY_LOCAL_MACHINE|HKEY_USERS|HKLM|HKU|Hours|HScroll|Icon|IconSmall|ID|IDLast|If|IfEqual|IfExist|IfGreater|IfGreaterOrEqual|IfInString|IfLess|IfLessOrEqual|IfMsgBox|IfNotEqual|IfNotExist|IfNotInString|IfWinActive|IfWinExist|IfWinNotActive|IfWinNotExist|Ignore|ImageList|in|Integer|IntegerFast|Interrupt|is|italic|Join|Label|LastFound|LastFoundExist|Limit|Lines|List|ListBox|ListView|local|Lock|Logoff|Low|Lower|Lowercase|MainWindow|Margin|Maximize|MaximizeBox|MaxSize|Minimize|MinimizeBox|MinMax|MinSize|Minutes|MonthCal|Mouse|Move|Multi|NA|No|NoActivate|NoDefault|NoHide|NoIcon|NoMainWindow|norm|Normal|NoSort|NoSortHdr|NoStandard|Not|NoTab|NoTimers|Number|Off|Ok|On|OwnDialogs|Owner|Parse|Password|Picture|Pixel|Pos|Pow|Priority|ProcessName|Radio|Range|Read|ReadOnly|Realtime|Redraw|Region|REG_BINARY|REG_DWORD|REG_EXPAND_SZ|REG_MULTI_SZ|REG_SZ|Relative|Rename|Report|Resize|Restore|Retry|RGB|Screen|Seconds|Section|Serial|SetLabel|ShiftAltTab|Show|Single|Slider|SortDesc|Standard|static|Status|StatusBar|StatusCD|strike|Style|Submit|SysMenu|Tab2|TabStop|Text|Theme|Throw|Tile|ToggleCheck|ToggleEnable|ToolWindow|Top|Topmost|TransColor|Transparent|Tray|TreeView|Try|TryAgain|Type|UnCheck|underline|Unicode|Unlock|Until|UpDown|Upper|Uppercase|UseErrorLevel|Vis|VisFirst|Visible|VScroll|Wait|WaitClose|WantCtrlA|WantF2|WantReturn|While|Wrap|Xdigit|xm|xp|xs|Yes|ym|yp|ys)\b/i,function:/[^(); \t,\n+*\-=?>:\\\/<&%\[\]]+(?=\()/,punctuation:/[{}[\]():,]/}}AC.displayName="autoit";AC.aliases=[];function AC(e){e.languages.autoit={comment:[/;.*/,{pattern:/(^[\t ]*)#(?:comments-start|cs)[\s\S]*?^[ \t]*#(?:ce|comments-end)/m,lookbehind:!0}],url:{pattern:/(^[\t ]*#include\s+)(?:<[^\r\n>]+>|"[^\r\n"]+")/m,lookbehind:!0},string:{pattern:/(["'])(?:\1\1|(?!\1)[^\r\n])*\1/,greedy:!0,inside:{variable:/([%$@])\w+\1/}},directive:{pattern:/(^[\t ]*)#[\w-]+/m,lookbehind:!0,alias:"keyword"},function:/\b\w+(?=\()/,variable:/[$@]\w+/,keyword:/\b(?:Case|Const|Continue(?:Case|Loop)|Default|Dim|Do|Else(?:If)?|End(?:Func|If|Select|Switch|With)|Enum|Exit(?:Loop)?|For|Func|Global|If|In|Local|Next|Null|ReDim|Select|Static|Step|Switch|Then|To|Until|Volatile|WEnd|While|With)\b/i,number:/\b(?:0x[\da-f]+|\d+(?:\.\d+)?(?:e[+-]?\d+)?)\b/i,boolean:/\b(?:False|True)\b/i,operator:/<[=>]?|[-+*\/=&>]=?|[?^]|\b(?:And|Not|Or)\b/i,punctuation:/[\[\]().,:]/}}NC.displayName="avisynth";NC.aliases=["avs"];function NC(e){(function(t){function r(d,h){return d.replace(/<<(\d+)>>/g,function(g,f){return h[+f]})}function n(d,h,g){return RegExp(r(d,h),g)}var a=/bool|clip|float|int|string|val/.source,i=[/is(?:bool|clip|float|int|string)|defined|(?:(?:internal)?function|var)?exists?/.source,/apply|assert|default|eval|import|nop|select|undefined/.source,/opt_(?:allowfloataudio|avipadscanlines|dwchannelmask|enable_(?:b64a|planartopackedrgb|v210|y3_10_10|y3_10_16)|usewaveextensible|vdubplanarhack)|set(?:cachemode|maxcpu|memorymax|planarlegacyalignment|workingdir)/.source,/hex(?:value)?|value/.source,/abs|ceil|continued(?:denominator|numerator)?|exp|floor|fmod|frac|log(?:10)?|max|min|muldiv|pi|pow|rand|round|sign|spline|sqrt/.source,/a?sinh?|a?cosh?|a?tan[2h]?/.source,/(?:bit(?:and|not|x?or|[lr]?shift[aslu]?|sh[lr]|sa[lr]|[lr]rotatel?|ro[rl]|te?st|set(?:count)?|cl(?:ea)?r|ch(?:an)?ge?))/.source,/average(?:[bgr]|chroma[uv]|luma)|(?:[rgb]|chroma[uv]|luma|rgb|[yuv](?=difference(?:fromprevious|tonext)))difference(?:fromprevious|tonext)?|[yuvrgb]plane(?:median|min|max|minmaxdifference)/.source,/getprocessinfo|logmsg|script(?:dir(?:utf8)?|file(?:utf8)?|name(?:utf8)?)|setlogparams/.source,/chr|(?:fill|find|left|mid|replace|rev|right)str|format|[lu]case|ord|str(?:cmpi?|fromutf8|len|toutf8)|time|trim(?:all|left|right)/.source,/isversionorgreater|version(?:number|string)/.source,/buildpixeltype|colorspacenametopixeltype/.source,/addautoloaddir|on(?:cpu|cuda)|prefetch|setfiltermtmode/.source].join("|"),o=[/has(?:audio|video)/.source,/height|width/.source,/frame(?:count|rate)|framerate(?:denominator|numerator)/.source,/getparity|is(?:field|frame)based/.source,/bitspercomponent|componentsize|hasalpha|is(?:planar(?:rgba?)?|interleaved|rgb(?:24|32|48|64)?|y(?:8|u(?:va?|y2))?|yv(?:12|16|24|411)|420|422|444|packedrgb)|numcomponents|pixeltype/.source,/audio(?:bits|channels|duration|length(?:[fs]|hi|lo)?|rate)|isaudio(?:float|int)/.source].join("|"),l=[/avi(?:file)?source|directshowsource|image(?:reader|source|sourceanim)|opendmlsource|segmented(?:avisource|directshowsource)|wavsource/.source,/coloryuv|convertbacktoyuy2|convertto(?:RGB(?:24|32|48|64)|(?:planar)?RGBA?|Y8?|YV(?:12|16|24|411)|YUVA?(?:411|420|422|444)|YUY2)|fixluminance|gr[ae]yscale|invert|levels|limiter|mergea?rgb|merge(?:chroma|luma)|rgbadjust|show(?:alpha|blue|green|red)|swapuv|tweak|[uv]toy8?|ytouv/.source,/(?:colorkey|reset)mask|layer|mask(?:hs)?|merge|overlay|subtract/.source,/addborders|(?:bicubic|bilinear|blackman|gauss|lanczos4|lanczos|point|sinc|spline(?:16|36|64))resize|crop(?:bottom)?|flip(?:horizontal|vertical)|(?:horizontal|vertical)?reduceby2|letterbox|skewrows|turn(?:180|left|right)/.source,/blur|fixbrokenchromaupsampling|generalconvolution|(?:spatial|temporal)soften|sharpen/.source,/trim|(?:un)?alignedsplice|(?:assume|assumescaled|change|convert)FPS|(?:delete|duplicate)frame|dissolve|fade(?:in|io|out)[02]?|freezeframe|interleave|loop|reverse|select(?:even|odd|(?:range)?every)/.source,/assume[bt]ff|assume(?:field|frame)based|bob|complementparity|doubleweave|peculiarblend|pulldown|separate(?:columns|fields|rows)|swapfields|weave(?:columns|rows)?/.source,/amplify(?:db)?|assumesamplerate|audiodub(?:ex)?|audiotrim|convertaudioto(?:(?:8|16|24|32)bit|float)|converttomono|delayaudio|ensurevbrmp3sync|get(?:left|right)?channel|kill(?:audio|video)|mergechannels|mixaudio|monotostereo|normalize|resampleaudio|ssrc|supereq|timestretch/.source,/animate|applyrange|conditional(?:filter|reader|select)|frameevaluate|scriptclip|tcp(?:server|source)|writefile(?:end|if|start)?/.source,/imagewriter/.source,/blackness|blankclip|colorbars(?:hd)?|compare|dumpfiltergraph|echo|histogram|info|messageclip|preroll|setgraphanalysis|show(?:framenumber|smpte|time)|showfiveversions|stack(?:horizontal|vertical)|subtitle|tone|version/.source].join("|"),u=[i,o,l].join("|");t.languages.avisynth={comment:[{pattern:/(^|[^\\])\[\*(?:[^\[*]|\[(?!\*)|\*(?!\])|\[\*(?:[^\[*]|\[(?!\*)|\*(?!\]))*\*\])*\*\]/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\$])#.*/,lookbehind:!0,greedy:!0}],argument:{pattern:n(/\b(?:<<0>>)\s+("?)\w+\1/.source,[a],"i"),inside:{keyword:/^\w+/}},"argument-label":{pattern:/([,(][\s\\]*)\w+\s*=(?!=)/,lookbehind:!0,inside:{"argument-name":{pattern:/^\w+/,alias:"punctuation"},punctuation:/=$/}},string:[{pattern:/"""[\s\S]*?"""/,greedy:!0},{pattern:/"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"/,greedy:!0,inside:{constant:{pattern:/\b(?:DEFAULT_MT_MODE|(?:MAINSCRIPT|PROGRAM|SCRIPT)DIR|(?:MACHINE|USER)_(?:CLASSIC|PLUS)_PLUGINS)\b/}}}],variable:/\b(?:last)\b/i,boolean:/\b(?:false|no|true|yes)\b/i,keyword:/\b(?:catch|else|for|function|global|if|return|try|while|__END__)\b/i,constant:/\bMT_(?:MULTI_INSTANCE|NICE_FILTER|SERIALIZED|SPECIAL_MT)\b/,"builtin-function":{pattern:n(/\b(?:<<0>>)\b/.source,[u],"i"),alias:"function"},"type-cast":{pattern:n(/\b(?:<<0>>)(?=\s*\()/.source,[a],"i"),alias:"keyword"},function:{pattern:/\b[a-z_]\w*(?=\s*\()|(\.)[a-z_]\w*\b/i,lookbehind:!0},"line-continuation":{pattern:/(^[ \t]*)\\|\\(?=[ \t]*$)/m,lookbehind:!0,alias:"punctuation"},number:/\B\$(?:[\da-f]{6}|[\da-f]{8})\b|(?:(?:\b|\B-)\d+(?:\.\d*)?\b|\B\.\d+\b)/i,operator:/\+\+?|[!=<>]=?|&&|\|\||[?:*/%-]/,punctuation:/[{}\[\]();,.]/},t.languages.avs=t.languages.avisynth})(e)}IC.displayName="avro-idl";IC.aliases=["avdl"];function IC(e){e.languages["avro-idl"]={comment:{pattern:/\/\/.*|\/\*[\s\S]*?\*\//,greedy:!0},string:{pattern:/(^|[^\\])"(?:[^\r\n"\\]|\\.)*"/,lookbehind:!0,greedy:!0},annotation:{pattern:/@(?:[$\w.-]|`[^\r\n`]+`)+/,greedy:!0,alias:"function"},"function-identifier":{pattern:/`[^\r\n`]+`(?=\s*\()/,greedy:!0,alias:"function"},identifier:{pattern:/`[^\r\n`]+`/,greedy:!0},"class-name":{pattern:/(\b(?:enum|error|protocol|record|throws)\b\s+)[$\w]+/,lookbehind:!0,greedy:!0},keyword:/\b(?:array|boolean|bytes|date|decimal|double|enum|error|false|fixed|float|idl|import|int|local_timestamp_ms|long|map|null|oneway|protocol|record|schema|string|throws|time_ms|timestamp_ms|true|union|uuid|void)\b/,function:/\b[a-z_]\w*(?=\s*\()/i,number:[{pattern:/(^|[^\w.])-?(?:(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?|0x(?:[a-f0-9]+(?:\.[a-f0-9]*)?|\.[a-f0-9]+)(?:p[+-]?\d+)?)[dfl]?(?![\w.])/i,lookbehind:!0},/-?\b(?:Infinity|NaN)\b/],operator:/=/,punctuation:/[()\[\]{}<>.:,;-]/},e.languages.avdl=e.languages["avro-idl"]}RC.displayName="awk";RC.aliases=["gawk"];function RC(e){e.languages.awk={hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},comment:{pattern:/#.*/,greedy:!0},string:{pattern:/(^|[^\\])"(?:[^\\"\r\n]|\\.)*"/,lookbehind:!0,greedy:!0},regex:{pattern:/((?:^|[^\w\s)])\s*)\/(?:[^\/\\\r\n]|\\.)*\//,lookbehind:!0,greedy:!0},variable:/\$\w+/,keyword:/\b(?:BEGIN|BEGINFILE|END|ENDFILE|break|case|continue|default|delete|do|else|exit|for|function|getline|if|in|next|nextfile|printf?|return|switch|while)\b|@(?:include|load)\b/,function:/\b[a-z_]\w*(?=\s*\()/i,number:/\b(?:\d+(?:\.\d+)?(?:e[+-]?\d+)?|0x[a-fA-F0-9]+)\b/,operator:/--|\+\+|!?~|>&|>>|<<|(?:\*\*|[<>!=+\-*/%^])=?|&&|\|[|&]|[?:]/,punctuation:/[()[\]{},;]/},e.languages.gawk=e.languages.awk}DC.displayName="batch";DC.aliases=[];function DC(e){(function(t){var r=/%%?[~:\w]+%?|!\S+!/,n={pattern:/\/[a-z?]+(?=[ :]|$):?|-[a-z]\b|--[a-z-]+\b/im,alias:"attr-name",inside:{punctuation:/:/}},a=/"(?:[\\"]"|[^"])*"(?!")/,i=/(?:\b|-)\d+\b/;t.languages.batch={comment:[/^::.*/m,{pattern:/((?:^|[&(])[ \t]*)rem\b(?:[^^&)\r\n]|\^(?:\r\n|[\s\S]))*/im,lookbehind:!0}],label:{pattern:/^:.*/m,alias:"property"},command:[{pattern:/((?:^|[&(])[ \t]*)for(?: \/[a-z?](?:[ :](?:"[^"]*"|[^\s"/]\S*))?)* \S+ in \([^)]+\) do/im,lookbehind:!0,inside:{keyword:/\b(?:do|in)\b|^for\b/i,string:a,parameter:n,variable:r,number:i,punctuation:/[()',]/}},{pattern:/((?:^|[&(])[ \t]*)if(?: \/[a-z?](?:[ :](?:"[^"]*"|[^\s"/]\S*))?)* (?:not )?(?:cmdextversion \d+|defined \w+|errorlevel \d+|exist \S+|(?:"[^"]*"|(?!")(?:(?!==)\S)+)?(?:==| (?:equ|geq|gtr|leq|lss|neq) )(?:"[^"]*"|[^\s"]\S*))/im,lookbehind:!0,inside:{keyword:/\b(?:cmdextversion|defined|errorlevel|exist|not)\b|^if\b/i,string:a,parameter:n,variable:r,number:i,operator:/\^|==|\b(?:equ|geq|gtr|leq|lss|neq)\b/i}},{pattern:/((?:^|[&()])[ \t]*)else\b/im,lookbehind:!0,inside:{keyword:/^else\b/i}},{pattern:/((?:^|[&(])[ \t]*)set(?: \/[a-z](?:[ :](?:"[^"]*"|[^\s"/]\S*))?)* (?:[^^&)\r\n]|\^(?:\r\n|[\s\S]))*/im,lookbehind:!0,inside:{keyword:/^set\b/i,string:a,parameter:n,variable:[r,/\w+(?=(?:[*\/%+\-&^|]|<<|>>)?=)/],number:i,operator:/[*\/%+\-&^|]=?|<<=?|>>=?|[!~_=]/,punctuation:/[()',]/}},{pattern:/((?:^|[&(])[ \t]*@?)\w+\b(?:"(?:[\\"]"|[^"])*"(?!")|[^"^&)\r\n]|\^(?:\r\n|[\s\S]))*/m,lookbehind:!0,inside:{keyword:/^\w+\b/,string:a,parameter:n,label:{pattern:/(^\s*):\S+/m,lookbehind:!0,alias:"property"},variable:r,number:i,operator:/\^/}}],operator:/[&@]/,punctuation:/[()']/}})(e)}LC.displayName="bbcode";LC.aliases=["shortcode"];function LC(e){e.languages.bbcode={tag:{pattern:/\[\/?[^\s=\]]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'"\]=]+))?(?:\s+[^\s=\]]+\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'"\]=]+))*\s*\]/,inside:{tag:{pattern:/^\[\/?[^\s=\]]+/,inside:{punctuation:/^\[\/?/}},"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'"\]=]+)/,inside:{punctuation:[/^=/,{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\]/,"attr-name":/[^\s=\]]+/}}},e.languages.shortcode=e.languages.bbcode}OC.displayName="bbj";OC.aliases=[];function OC(e){(function(t){t.languages.bbj={comment:{pattern:/(^|[^\\:])rem\s+.*/i,lookbehind:!0,greedy:!0},string:{pattern:/(['"])(?:(?!\1|\\).|\\.)*\1/,greedy:!0},number:/(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:E[+-]?\d+)?/i,keyword:/\b(?:abstract|all|argc|begin|bye|callback|case|chn|class|classend|ctl|day|declare|delete|dim|dom|dread|dsz|else|end|endif|err|exitto|extends|fi|field|for|from|gosub|goto|if|implements|interface|interfaceend|iol|iolist|let|list|load|method|methodend|methodret|on|opts|pfx|print|private|process_events|protected|psz|public|read|read_resource|release|remove_callback|repeat|restore|return|rev|seterr|setesc|sqlchn|sqlunt|ssn|start|static|swend|switch|sys|then|tim|unt|until|use|void|wend|where|while)\b/i,function:/\b\w+(?=\()/,boolean:/\b(?:BBjAPI\.TRUE|BBjAPI\.FALSE)\b/i,operator:/<[=>]?|>=?|[+\-*\/^=&]|\b(?:and|not|or|xor)\b/i,punctuation:/[.,;:()]/}})(e)}MC.displayName="bicep";MC.aliases=[];function MC(e){e.languages.bicep={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],property:[{pattern:/([\r\n][ \t]*)[a-z_]\w*(?=[ \t]*:)/i,lookbehind:!0},{pattern:/([\r\n][ \t]*)'(?:\\.|\$(?!\{)|[^'\\\r\n$])*'(?=[ \t]*:)/,lookbehind:!0,greedy:!0}],string:[{pattern:/'''[^'][\s\S]*?'''/,greedy:!0},{pattern:/(^|[^\\'])'(?:\\.|\$(?!\{)|[^'\\\r\n$])*'/,lookbehind:!0,greedy:!0}],"interpolated-string":{pattern:/(^|[^\\'])'(?:\\.|\$(?:(?!\{)|\{[^{}\r\n]*\})|[^'\\\r\n$])*'/,lookbehind:!0,greedy:!0,inside:{interpolation:{pattern:/\$\{[^{}\r\n]*\}/,inside:{expression:{pattern:/(^\$\{)[\s\S]+(?=\}$)/,lookbehind:!0},punctuation:/^\$\{|\}$/}},string:/[\s\S]+/}},datatype:{pattern:/(\b(?:output|param)\b[ \t]+\w+[ \t]+)\w+\b/,lookbehind:!0,alias:"class-name"},boolean:/\b(?:false|true)\b/,keyword:/\b(?:existing|for|if|in|module|null|output|param|resource|targetScope|var)\b/,decorator:/@\w+\b/,function:/\b[a-z_]\w*(?=[ \t]*\()/i,number:/(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:E[+-]?\d+)?/i,operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/,punctuation:/[{}[\];(),.:]/},e.languages.bicep["interpolated-string"].inside.interpolation.inside.expression.inside=e.languages.bicep}PC.displayName="birb";PC.aliases=[];function PC(e){e.register(Kr),e.languages.birb=e.languages.extend("clike",{string:{pattern:/r?("|')(?:\\.|(?!\1)[^\\])*\1/,greedy:!0},"class-name":[/\b[A-Z](?:[\d_]*[a-zA-Z]\w*)?\b/,/\b(?:[A-Z]\w*|(?!(?:var|void)\b)[a-z]\w*)(?=\s+\w+\s*[;,=()])/],keyword:/\b(?:assert|break|case|class|const|default|else|enum|final|follows|for|grab|if|nest|new|next|noSeeb|return|static|switch|throw|var|void|while)\b/,operator:/\+\+|--|&&|\|\||<<=?|>>=?|~(?:\/=?)?|[+\-*\/%&^|=!<>]=?|\?|:/,variable:/\b[a-z_]\w*\b/}),e.languages.insertBefore("birb","function",{metadata:{pattern:/<\w+>/,greedy:!0,alias:"symbol"}})}jC.displayName="bison";jC.aliases=[];function jC(e){e.register(yo),e.languages.bison=e.languages.extend("c",{}),e.languages.insertBefore("bison","comment",{bison:{pattern:/^(?:[^%]|%(?!%))*%%[\s\S]*?%%/,inside:{c:{pattern:/%\{[\s\S]*?%\}|\{(?:\{[^}]*\}|[^{}])*\}/,inside:{delimiter:{pattern:/^%?\{|%?\}$/,alias:"punctuation"},"bison-variable":{pattern:/[$@](?:<[^\s>]+>)?[\w$]+/,alias:"variable",inside:{punctuation:/<|>/}},rest:e.languages.c}},comment:e.languages.c.comment,string:e.languages.c.string,property:/\S+(?=:)/,keyword:/%\w+/,number:{pattern:/(^|[^@])\b(?:0x[\da-f]+|\d+)/i,lookbehind:!0},punctuation:/%[%?]|[|:;\[\]<>]/}}})}FC.displayName="bnf";FC.aliases=["rbnf"];function FC(e){e.languages.bnf={string:{pattern:/"[^\r\n"]*"|'[^\r\n']*'/},definition:{pattern:/<[^<>\r\n\t]+>(?=\s*::=)/,alias:["rule","keyword"],inside:{punctuation:/^<|>$/}},rule:{pattern:/<[^<>\r\n\t]+>/,inside:{punctuation:/^<|>$/}},operator:/::=|[|()[\]{}*+?]|\.{3}/},e.languages.rbnf=e.languages.bnf}BC.displayName="bqn";BC.aliases=[];function BC(e){e.languages.bqn={shebang:{pattern:/^#![ \t]*\/.*/,alias:"important",greedy:!0},comment:{pattern:/#.*/,greedy:!0},"string-literal":{pattern:/"(?:[^"]|"")*"/,greedy:!0,alias:"string"},"character-literal":{pattern:/'(?:[\s\S]|[\uD800-\uDBFF][\uDC00-\uDFFF])'/,greedy:!0,alias:"char"},function:/[\w.]+[\w.]*/,"dot-notation-on-brackets":{pattern:/\{(?=.*\}\.)|\}\./,alias:"namespace"},"special-name":{pattern:/(?:|||||||||||__|_)/,alias:"keyword"},"dot-notation-on-name":{pattern:/[A-Za-z_][\w]*\./,alias:"namespace"},"word-number-scientific":{pattern:/\d+(?:\.\d+)?[eE]?\d+/,alias:"number"},"word-name":{pattern:/[A-Za-z_][\w]*/,alias:"symbol"},"word-number":{pattern:/[]?(?:\d*\.?\b\d+(?:e[+]?\d+|E[+]?\d+)?|||)(?:j?(?:(?:\d+(?:\.\d+)?|\.\d+)(?:e[+]?\d+|E[+]?\d+)?|||))?/,alias:"number"},"null-literal":{pattern:/@/,alias:"char"},"primitive-functions":{pattern:/[-+|<>=/!]/,alias:"operator"},"primitive-1-operators":{pattern:/[`]/,alias:"operator"},"primitive-2-operators":{pattern:/[]/,alias:"operator"},punctuation:/[(){}[\],.;:?]/}}UC.displayName="brainfuck";UC.aliases=[];function UC(e){e.languages.brainfuck={pointer:{pattern:/<|>/,alias:"keyword"},increment:{pattern:/\+/,alias:"inserted"},decrement:{pattern:/-/,alias:"deleted"},branching:{pattern:/\[|\]/,alias:"important"},operator:/[.,]/,comment:/\S+/}}$C.displayName="brightscript";$C.aliases=[];function $C(e){e.languages.brightscript={comment:/(?:\brem|').*/i,"directive-statement":{pattern:/(^[\t ]*)#(?:const|else(?:[\t ]+if)?|end[\t ]+if|error|if).*/im,lookbehind:!0,alias:"property",inside:{"error-message":{pattern:/(^#error).+/,lookbehind:!0},directive:{pattern:/^#(?:const|else(?:[\t ]+if)?|end[\t ]+if|error|if)/,alias:"keyword"},expression:{pattern:/[\s\S]+/,inside:null}}},property:{pattern:/([\r\n{,][\t ]*)(?:(?!\d)\w+|"(?:[^"\r\n]|"")*"(?!"))(?=[ \t]*:)/,lookbehind:!0,greedy:!0},string:{pattern:/"(?:[^"\r\n]|"")*"(?!")/,greedy:!0},"class-name":{pattern:/(\bAs[\t ]+)\w+/i,lookbehind:!0},keyword:/\b(?:As|Dim|Each|Else|Elseif|End|Exit|For|Function|Goto|If|In|Print|Return|Step|Stop|Sub|Then|To|While)\b/i,boolean:/\b(?:false|true)\b/i,function:/\b(?!\d)\w+(?=[\t ]*\()/,number:/(?:\b\d+(?:\.\d+)?(?:[ed][+-]\d+)?|&h[a-f\d]+)\b[%&!#]?/i,operator:/--|\+\+|>>=?|<<=?|<>|[-+*/\\<>]=?|[:^=?]|\b(?:and|mod|not|or)\b/i,punctuation:/[.,;()[\]{}]/,constant:/\b(?:LINE_NUM)\b/i},e.languages.brightscript["directive-statement"].inside.expression.inside=e.languages.brightscript}HC.displayName="bro";HC.aliases=[];function HC(e){e.languages.bro={comment:{pattern:/(^|[^\\$])#.*/,lookbehind:!0,inside:{italic:/\b(?:FIXME|TODO|XXX)\b/}},string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},boolean:/\b[TF]\b/,function:{pattern:/(\b(?:event|function|hook)[ \t]+)\w+(?:::\w+)?/,lookbehind:!0},builtin:/(?:@(?:load(?:-(?:plugin|sigs))?|unload|prefixes|ifn?def|else|(?:end)?if|DIR|FILENAME))|(?:&?(?:add_func|create_expire|default|delete_func|encrypt|error_handler|expire_func|group|log|mergeable|optional|persistent|priority|raw_output|read_expire|redef|rotate_interval|rotate_size|synchronized|type_column|write_expire))/,constant:{pattern:/(\bconst[ \t]+)\w+/i,lookbehind:!0},keyword:/\b(?:add|addr|alarm|any|bool|break|const|continue|count|delete|double|else|enum|event|export|file|for|function|global|hook|if|in|int|interval|local|module|next|of|opaque|pattern|port|print|record|return|schedule|set|string|subnet|table|time|timeout|using|vector|when)\b/,operator:/--?|\+\+?|!=?=?|<=?|>=?|==?=?|&&|\|\|?|\?|\*|\/|~|\^|%/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,punctuation:/[{}[\];(),.:]/}}zC.displayName="bsl";zC.aliases=["oscript"];function zC(e){e.languages.bsl={comment:/\/\/.*/,string:[{pattern:/"(?:[^"]|"")*"(?!")/,greedy:!0},{pattern:/'(?:[^'\r\n\\]|\\.)*'/}],keyword:[{pattern:/(^|[^\w\u0400-\u0484\u0487-\u052f\u1d2b\u1d78\u2de0-\u2dff\ua640-\ua69f\ufe2e\ufe2f])(?:|||||||||||||||||||||||||||||)(?![\w\u0400-\u0484\u0487-\u052f\u1d2b\u1d78\u2de0-\u2dff\ua640-\ua69f\ufe2e\ufe2f])/i,lookbehind:!0},{pattern:/\b(?:break|do|each|else|elseif|enddo|endfunction|endif|endprocedure|endtry|except|execute|export|false|for|function|if|in|new|null|procedure|raise|return|then|to|true|try|undefined|val|var|while)\b/i}],number:{pattern:/(^(?=\d)|[^\w\u0400-\u0484\u0487-\u052f\u1d2b\u1d78\u2de0-\u2dff\ua640-\ua69f\ufe2e\ufe2f])(?:\d+(?:\.\d*)?|\.\d+)(?:E[+-]?\d+)?/i,lookbehind:!0},operator:[/[<>+\-*/]=?|[%=]/,{pattern:/(^|[^\w\u0400-\u0484\u0487-\u052f\u1d2b\u1d78\u2de0-\u2dff\ua640-\ua69f\ufe2e\ufe2f])(?:||)(?![\w\u0400-\u0484\u0487-\u052f\u1d2b\u1d78\u2de0-\u2dff\ua640-\ua69f\ufe2e\ufe2f])/i,lookbehind:!0},{pattern:/\b(?:and|not|or)\b/i}],punctuation:/\(\.|\.\)|[()\[\]:;,.]/,directive:[{pattern:/^([ \t]*)&.*/m,lookbehind:!0,greedy:!0,alias:"important"},{pattern:/^([ \t]*)#.*/gm,lookbehind:!0,greedy:!0,alias:"important"}]},e.languages.oscript=e.languages.bsl}GC.displayName="cfscript";GC.aliases=["cfc"];function GC(e){e.register(Kr),e.languages.cfscript=e.languages.extend("clike",{comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,inside:{annotation:{pattern:/(?:^|[^.])@[\w\.]+/,alias:"punctuation"}}},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],keyword:/\b(?:abstract|break|catch|component|continue|default|do|else|extends|final|finally|for|function|if|in|include|package|private|property|public|remote|required|rethrow|return|static|switch|throw|try|var|while|xml)\b(?!\s*=)/,operator:[/\+\+|--|&&|\|\||::|=>|[!=]==|[-+*/%&|^!=<>]=?|\?(?:\.|:)?|:/,/\b(?:and|contains|eq|equal|eqv|gt|gte|imp|is|lt|lte|mod|not|or|xor)\b/],scope:{pattern:/\b(?:application|arguments|cgi|client|cookie|local|session|super|this|variables)\b/,alias:"global"},type:{pattern:/\b(?:any|array|binary|boolean|date|guid|numeric|query|string|struct|uuid|void|xml)\b/,alias:"builtin"}}),e.languages.insertBefore("cfscript","keyword",{"function-variable":{pattern:/[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"}}),delete e.languages.cfscript["class-name"],e.languages.cfc=e.languages.cfscript}qC.displayName="chaiscript";qC.aliases=[];function qC(e){e.register(Kr),e.register(ju),e.languages.chaiscript=e.languages.extend("clike",{string:{pattern:/(^|[^\\])'(?:[^'\\]|\\[\s\S])*'/,lookbehind:!0,greedy:!0},"class-name":[{pattern:/(\bclass\s+)\w+/,lookbehind:!0},{pattern:/(\b(?:attr|def)\s+)\w+(?=\s*::)/,lookbehind:!0}],keyword:/\b(?:attr|auto|break|case|catch|class|continue|def|default|else|finally|for|fun|global|if|return|switch|this|try|var|while)\b/,number:[e.languages.cpp.number,/\b(?:Infinity|NaN)\b/],operator:/>>=?|<<=?|\|\||&&|:[:=]?|--|\+\+|[=!<>+\-*/%|&^]=?|[?~]|`[^`\r\n]{1,4}`/}),e.languages.insertBefore("chaiscript","operator",{"parameter-type":{pattern:/([,(]\s*)\w+(?=\s+\w)/,lookbehind:!0,alias:"class-name"}}),e.languages.insertBefore("chaiscript","string",{"string-interpolation":{pattern:/(^|[^\\])"(?:[^"$\\]|\\[\s\S]|\$(?!\{)|\$\{(?:[^{}]|\{(?:[^{}]|\{[^{}]*\})*\})*\})*"/,lookbehind:!0,greedy:!0,inside:{interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^{}]*\})*\})*\}/,lookbehind:!0,inside:{"interpolation-expression":{pattern:/(^\$\{)[\s\S]+(?=\}$)/,lookbehind:!0,inside:e.languages.chaiscript},"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"}}},string:/[\s\S]+/}}})}WC.displayName="cil";WC.aliases=[];function WC(e){e.languages.cil={comment:/\/\/.*/,string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},directive:{pattern:/(^|\W)\.[a-z]+(?=\s)/,lookbehind:!0,alias:"class-name"},variable:/\[[\w\.]+\]/,keyword:/\b(?:abstract|ansi|assembly|auto|autochar|beforefieldinit|bool|bstr|byvalstr|catch|char|cil|class|currency|date|decimal|default|enum|error|explicit|extends|extern|famandassem|family|famorassem|final(?:ly)?|float32|float64|hidebysig|u?int(?:8|16|32|64)?|iant|idispatch|implements|import|initonly|instance|interface|iunknown|literal|lpstr|lpstruct|lptstr|lpwstr|managed|method|native(?:Type)?|nested|newslot|object(?:ref)?|pinvokeimpl|private|privatescope|public|reqsecobj|rtspecialname|runtime|sealed|sequential|serializable|specialname|static|string|struct|syschar|tbstr|unicode|unmanagedexp|unsigned|value(?:type)?|variant|virtual|void)\b/,function:/\b(?:(?:constrained|no|readonly|tail|unaligned|volatile)\.)?(?:conv\.(?:[iu][1248]?|ovf\.[iu][1248]?(?:\.un)?|r\.un|r4|r8)|ldc\.(?:i4(?:\.\d+|\.[mM]1|\.s)?|i8|r4|r8)|ldelem(?:\.[iu][1248]?|\.r[48]|\.ref|a)?|ldind\.(?:[iu][1248]?|r[48]|ref)|stelem\.?(?:i[1248]?|r[48]|ref)?|stind\.(?:i[1248]?|r[48]|ref)?|end(?:fault|filter|finally)|ldarg(?:\.[0-3s]|a(?:\.s)?)?|ldloc(?:\.\d+|\.s)?|sub(?:\.ovf(?:\.un)?)?|mul(?:\.ovf(?:\.un)?)?|add(?:\.ovf(?:\.un)?)?|stloc(?:\.[0-3s])?|refany(?:type|val)|blt(?:\.un)?(?:\.s)?|ble(?:\.un)?(?:\.s)?|bgt(?:\.un)?(?:\.s)?|bge(?:\.un)?(?:\.s)?|unbox(?:\.any)?|init(?:blk|obj)|call(?:i|virt)?|brfalse(?:\.s)?|bne\.un(?:\.s)?|ldloca(?:\.s)?|brzero(?:\.s)?|brtrue(?:\.s)?|brnull(?:\.s)?|brinst(?:\.s)?|starg(?:\.s)?|leave(?:\.s)?|shr(?:\.un)?|rem(?:\.un)?|div(?:\.un)?|clt(?:\.un)?|alignment|castclass|ldvirtftn|beq(?:\.s)?|ckfinite|ldsflda|ldtoken|localloc|mkrefany|rethrow|cgt\.un|arglist|switch|stsfld|sizeof|newobj|newarr|ldsfld|ldnull|ldflda|isinst|throw|stobj|stfld|ldstr|ldobj|ldlen|ldftn|ldfld|cpobj|cpblk|break|br\.s|xor|shl|ret|pop|not|nop|neg|jmp|dup|cgt|ceq|box|and|or|br)\b/,boolean:/\b(?:false|true)\b/,number:/\b-?(?:0x[0-9a-f]+|\d+)(?:\.[0-9a-f]+)?\b/i,punctuation:/[{}[\];(),:=]|IL_[0-9A-Za-z]+/}}YC.displayName="cilkc";YC.aliases=["cilk-c"];function YC(e){e.register(yo),e.languages.cilkc=e.languages.insertBefore("c","function",{"parallel-keyword":{pattern:/\bcilk_(?:for|reducer|s(?:cope|pawn|ync))\b/,alias:"keyword"}}),e.languages["cilk-c"]=e.languages.cilkc}VC.displayName="cilkcpp";VC.aliases=["cilk","cilk-cpp"];function VC(e){e.register(ju),e.languages.cilkcpp=e.languages.insertBefore("cpp","function",{"parallel-keyword":{pattern:/\bcilk_(?:for|reducer|s(?:cope|pawn|ync))\b/,alias:"keyword"}}),e.languages["cilk-cpp"]=e.languages.cilkcpp,e.languages.cilk=e.languages.cilkcpp}KC.displayName="clojure";KC.aliases=[];function KC(e){e.languages.clojure={comment:{pattern:/;.*/,greedy:!0},string:{pattern:/"(?:[^"\\]|\\.)*"/,greedy:!0},char:/\\\w+/,symbol:{pattern:/(^|[\s()\[\]{},])::?[\w*+!?'<>=/.-]+/,lookbehind:!0},keyword:{pattern:/(\()(?:-|->|->>|\.|\.\.|\*|\/|\+|<|<=|=|==|>|>=|accessor|agent|agent-errors|aget|alength|all-ns|alter|and|append-child|apply|array-map|aset|aset-boolean|aset-byte|aset-char|aset-double|aset-float|aset-int|aset-long|aset-short|assert|assoc|await|await-for|bean|binding|bit-and|bit-not|bit-or|bit-shift-left|bit-shift-right|bit-xor|boolean|branch\?|butlast|byte|cast|char|children|class|clear-agent-errors|comment|commute|comp|comparator|complement|concat|cond|conj|cons|constantly|construct-proxy|contains\?|count|create-ns|create-struct|cycle|dec|declare|def|def-|definline|definterface|defmacro|defmethod|defmulti|defn|defn-|defonce|defproject|defprotocol|defrecord|defstruct|deftype|deref|difference|disj|dissoc|distinct|do|doall|doc|dorun|doseq|dosync|dotimes|doto|double|down|drop|drop-while|edit|end\?|ensure|eval|every\?|false\?|ffirst|file-seq|filter|find|find-doc|find-ns|find-var|first|float|flush|fn|fnseq|for|frest|gensym|get|get-proxy-class|hash-map|hash-set|identical\?|identity|if|if-let|if-not|import|in-ns|inc|index|insert-child|insert-left|insert-right|inspect-table|inspect-tree|instance\?|int|interleave|intersection|into|into-array|iterate|join|key|keys|keyword|keyword\?|last|lazy-cat|lazy-cons|left|lefts|let|line-seq|list|list\*|load|load-file|locking|long|loop|macroexpand|macroexpand-1|make-array|make-node|map|map-invert|map\?|mapcat|max|max-key|memfn|merge|merge-with|meta|min|min-key|monitor-enter|name|namespace|neg\?|new|newline|next|nil\?|node|not|not-any\?|not-every\?|not=|ns|ns-imports|ns-interns|ns-map|ns-name|ns-publics|ns-refers|ns-resolve|ns-unmap|nth|nthrest|or|parse|partial|path|peek|pop|pos\?|pr|pr-str|print|print-str|println|println-str|prn|prn-str|project|proxy|proxy-mappings|quot|quote|rand|rand-int|range|re-find|re-groups|re-matcher|re-matches|re-pattern|re-seq|read|read-line|recur|reduce|ref|ref-set|refer|rem|remove|remove-method|remove-ns|rename|rename-keys|repeat|replace|replicate|resolve|rest|resultset-seq|reverse|rfirst|right|rights|root|rrest|rseq|second|select|select-keys|send|send-off|seq|seq-zip|seq\?|set|set!|short|slurp|some|sort|sort-by|sorted-map|sorted-map-by|sorted-set|special-symbol\?|split-at|split-with|str|string\?|struct|struct-map|subs|subvec|symbol|symbol\?|sync|take|take-nth|take-while|test|throw|time|to-array|to-array-2d|tree-seq|true\?|try|union|up|update-proxy|val|vals|var|var-get|var-set|var\?|vector|vector-zip|vector\?|when|when-first|when-let|when-not|with-local-vars|with-meta|with-open|with-out-str|xml-seq|xml-zip|zero\?|zipmap|zipper)(?=[\s)]|$)/,lookbehind:!0},boolean:/\b(?:false|nil|true)\b/,number:{pattern:/(^|[^\w$@])(?:\d+(?:[/.]\d+)?(?:e[+-]?\d+)?|0x[a-f0-9]+|[1-9]\d?r[a-z0-9]+)[lmn]?(?![\w$@])/i,lookbehind:!0},function:{pattern:/((?:^|[^'])\()[\w*+!?'<>=/.-]+(?=[\s)]|$)/,lookbehind:!0},operator:/[#@^`~]/,punctuation:/[{}\[\](),]/}}QC.displayName="cmake";QC.aliases=[];function QC(e){e.languages.cmake={comment:/#.*/,string:{pattern:/"(?:[^\\"]|\\.)*"/,greedy:!0,inside:{interpolation:{pattern:/\$\{(?:[^{}$]|\$\{[^{}$]*\})*\}/,inside:{punctuation:/\$\{|\}/,variable:/\w+/}}}},variable:/\b(?:CMAKE_\w+|\w+_(?:(?:BINARY|SOURCE)_DIR|DESCRIPTION|HOMEPAGE_URL|ROOT|VERSION(?:_MAJOR|_MINOR|_PATCH|_TWEAK)?)|(?:ANDROID|APPLE|BORLAND|BUILD_SHARED_LIBS|CACHE|CPACK_(?:ABSOLUTE_DESTINATION_FILES|COMPONENT_INCLUDE_TOPLEVEL_DIRECTORY|ERROR_ON_ABSOLUTE_INSTALL_DESTINATION|INCLUDE_TOPLEVEL_DIRECTORY|INSTALL_DEFAULT_DIRECTORY_PERMISSIONS|INSTALL_SCRIPT|PACKAGING_INSTALL_PREFIX|SET_DESTDIR|WARN_ON_ABSOLUTE_INSTALL_DESTINATION)|CTEST_(?:BINARY_DIRECTORY|BUILD_COMMAND|BUILD_NAME|BZR_COMMAND|BZR_UPDATE_OPTIONS|CHANGE_ID|CHECKOUT_COMMAND|CONFIGURATION_TYPE|CONFIGURE_COMMAND|COVERAGE_COMMAND|COVERAGE_EXTRA_FLAGS|CURL_OPTIONS|CUSTOM_(?:COVERAGE_EXCLUDE|ERROR_EXCEPTION|ERROR_MATCH|ERROR_POST_CONTEXT|ERROR_PRE_CONTEXT|MAXIMUM_FAILED_TEST_OUTPUT_SIZE|MAXIMUM_NUMBER_OF_(?:ERRORS|WARNINGS)|MAXIMUM_PASSED_TEST_OUTPUT_SIZE|MEMCHECK_IGNORE|POST_MEMCHECK|POST_TEST|PRE_MEMCHECK|PRE_TEST|TESTS_IGNORE|WARNING_EXCEPTION|WARNING_MATCH)|CVS_CHECKOUT|CVS_COMMAND|CVS_UPDATE_OPTIONS|DROP_LOCATION|DROP_METHOD|DROP_SITE|DROP_SITE_CDASH|DROP_SITE_PASSWORD|DROP_SITE_USER|EXTRA_COVERAGE_GLOB|GIT_COMMAND|GIT_INIT_SUBMODULES|GIT_UPDATE_CUSTOM|GIT_UPDATE_OPTIONS|HG_COMMAND|HG_UPDATE_OPTIONS|LABELS_FOR_SUBPROJECTS|MEMORYCHECK_(?:COMMAND|COMMAND_OPTIONS|SANITIZER_OPTIONS|SUPPRESSIONS_FILE|TYPE)|NIGHTLY_START_TIME|P4_CLIENT|P4_COMMAND|P4_OPTIONS|P4_UPDATE_OPTIONS|RUN_CURRENT_SCRIPT|SCP_COMMAND|SITE|SOURCE_DIRECTORY|SUBMIT_URL|SVN_COMMAND|SVN_OPTIONS|SVN_UPDATE_OPTIONS|TEST_LOAD|TEST_TIMEOUT|TRIGGER_SITE|UPDATE_COMMAND|UPDATE_OPTIONS|UPDATE_VERSION_ONLY|USE_LAUNCHERS)|CYGWIN|ENV|EXECUTABLE_OUTPUT_PATH|GHS-MULTI|IOS|LIBRARY_OUTPUT_PATH|MINGW|MSVC(?:10|11|12|14|60|70|71|80|90|_IDE|_TOOLSET_VERSION|_VERSION)?|MSYS|PROJECT_NAME|UNIX|WIN32|WINCE|WINDOWS_PHONE|WINDOWS_STORE|XCODE))\b/,property:/\b(?:cxx_\w+|(?:ARCHIVE_OUTPUT_(?:DIRECTORY|NAME)|COMPILE_DEFINITIONS|COMPILE_PDB_NAME|COMPILE_PDB_OUTPUT_DIRECTORY|EXCLUDE_FROM_DEFAULT_BUILD|IMPORTED_(?:IMPLIB|LIBNAME|LINK_DEPENDENT_LIBRARIES|LINK_INTERFACE_LANGUAGES|LINK_INTERFACE_LIBRARIES|LINK_INTERFACE_MULTIPLICITY|LOCATION|NO_SONAME|OBJECTS|SONAME)|INTERPROCEDURAL_OPTIMIZATION|LIBRARY_OUTPUT_DIRECTORY|LIBRARY_OUTPUT_NAME|LINK_FLAGS|LINK_INTERFACE_LIBRARIES|LINK_INTERFACE_MULTIPLICITY|LOCATION|MAP_IMPORTED_CONFIG|OSX_ARCHITECTURES|OUTPUT_NAME|PDB_NAME|PDB_OUTPUT_DIRECTORY|RUNTIME_OUTPUT_DIRECTORY|RUNTIME_OUTPUT_NAME|STATIC_LIBRARY_FLAGS|VS_CSHARP|VS_DOTNET_REFERENCEPROP|VS_DOTNET_REFERENCE|VS_GLOBAL_SECTION_POST|VS_GLOBAL_SECTION_PRE|VS_GLOBAL|XCODE_ATTRIBUTE)_\w+|\w+_(?:CLANG_TIDY|COMPILER_LAUNCHER|CPPCHECK|CPPLINT|INCLUDE_WHAT_YOU_USE|OUTPUT_NAME|POSTFIX|VISIBILITY_PRESET)|ABSTRACT|ADDITIONAL_MAKE_CLEAN_FILES|ADVANCED|ALIASED_TARGET|ALLOW_DUPLICATE_CUSTOM_TARGETS|ANDROID_(?:ANT_ADDITIONAL_OPTIONS|API|API_MIN|ARCH|ASSETS_DIRECTORIES|GUI|JAR_DEPENDENCIES|NATIVE_LIB_DEPENDENCIES|NATIVE_LIB_DIRECTORIES|PROCESS_MAX|PROGUARD|PROGUARD_CONFIG_PATH|SECURE_PROPS_PATH|SKIP_ANT_STEP|STL_TYPE)|ARCHIVE_OUTPUT_DIRECTORY|ATTACHED_FILES|ATTACHED_FILES_ON_FAIL|AUTOGEN_(?:BUILD_DIR|ORIGIN_DEPENDS|PARALLEL|SOURCE_GROUP|TARGETS_FOLDER|TARGET_DEPENDS)|AUTOMOC|AUTOMOC_(?:COMPILER_PREDEFINES|DEPEND_FILTERS|EXECUTABLE|MACRO_NAMES|MOC_OPTIONS|SOURCE_GROUP|TARGETS_FOLDER)|AUTORCC|AUTORCC_EXECUTABLE|AUTORCC_OPTIONS|AUTORCC_SOURCE_GROUP|AUTOUIC|AUTOUIC_EXECUTABLE|AUTOUIC_OPTIONS|AUTOUIC_SEARCH_PATHS|BINARY_DIR|BUILDSYSTEM_TARGETS|BUILD_RPATH|BUILD_RPATH_USE_ORIGIN|BUILD_WITH_INSTALL_NAME_DIR|BUILD_WITH_INSTALL_RPATH|BUNDLE|BUNDLE_EXTENSION|CACHE_VARIABLES|CLEAN_NO_CUSTOM|COMMON_LANGUAGE_RUNTIME|COMPATIBLE_INTERFACE_(?:BOOL|NUMBER_MAX|NUMBER_MIN|STRING)|COMPILE_(?:DEFINITIONS|FEATURES|FLAGS|OPTIONS|PDB_NAME|PDB_OUTPUT_DIRECTORY)|COST|CPACK_DESKTOP_SHORTCUTS|CPACK_NEVER_OVERWRITE|CPACK_PERMANENT|CPACK_STARTUP_SHORTCUTS|CPACK_START_MENU_SHORTCUTS|CPACK_WIX_ACL|CROSSCOMPILING_EMULATOR|CUDA_EXTENSIONS|CUDA_PTX_COMPILATION|CUDA_RESOLVE_DEVICE_SYMBOLS|CUDA_SEPARABLE_COMPILATION|CUDA_STANDARD|CUDA_STANDARD_REQUIRED|CXX_EXTENSIONS|CXX_STANDARD|CXX_STANDARD_REQUIRED|C_EXTENSIONS|C_STANDARD|C_STANDARD_REQUIRED|DEBUG_CONFIGURATIONS|DEFINE_SYMBOL|DEFINITIONS|DEPENDS|DEPLOYMENT_ADDITIONAL_FILES|DEPLOYMENT_REMOTE_DIRECTORY|DISABLED|DISABLED_FEATURES|ECLIPSE_EXTRA_CPROJECT_CONTENTS|ECLIPSE_EXTRA_NATURES|ENABLED_FEATURES|ENABLED_LANGUAGES|ENABLE_EXPORTS|ENVIRONMENT|EXCLUDE_FROM_ALL|EXCLUDE_FROM_DEFAULT_BUILD|EXPORT_NAME|EXPORT_PROPERTIES|EXTERNAL_OBJECT|EchoString|FAIL_REGULAR_EXPRESSION|FIND_LIBRARY_USE_LIB32_PATHS|FIND_LIBRARY_USE_LIB64_PATHS|FIND_LIBRARY_USE_LIBX32_PATHS|FIND_LIBRARY_USE_OPENBSD_VERSIONING|FIXTURES_CLEANUP|FIXTURES_REQUIRED|FIXTURES_SETUP|FOLDER|FRAMEWORK|Fortran_FORMAT|Fortran_MODULE_DIRECTORY|GENERATED|GENERATOR_FILE_NAME|GENERATOR_IS_MULTI_CONFIG|GHS_INTEGRITY_APP|GHS_NO_SOURCE_GROUP_FILE|GLOBAL_DEPENDS_DEBUG_MODE|GLOBAL_DEPENDS_NO_CYCLES|GNUtoMS|HAS_CXX|HEADER_FILE_ONLY|HELPSTRING|IMPLICIT_DEPENDS_INCLUDE_TRANSFORM|IMPORTED|IMPORTED_(?:COMMON_LANGUAGE_RUNTIME|CONFIGURATIONS|GLOBAL|IMPLIB|LIBNAME|LINK_DEPENDENT_LIBRARIES|LINK_INTERFACE_(?:LANGUAGES|LIBRARIES|MULTIPLICITY)|LOCATION|NO_SONAME|OBJECTS|SONAME)|IMPORT_PREFIX|IMPORT_SUFFIX|INCLUDE_DIRECTORIES|INCLUDE_REGULAR_EXPRESSION|INSTALL_NAME_DIR|INSTALL_RPATH|INSTALL_RPATH_USE_LINK_PATH|INTERFACE_(?:AUTOUIC_OPTIONS|COMPILE_DEFINITIONS|COMPILE_FEATURES|COMPILE_OPTIONS|INCLUDE_DIRECTORIES|LINK_DEPENDS|LINK_DIRECTORIES|LINK_LIBRARIES|LINK_OPTIONS|POSITION_INDEPENDENT_CODE|SOURCES|SYSTEM_INCLUDE_DIRECTORIES)|INTERPROCEDURAL_OPTIMIZATION|IN_TRY_COMPILE|IOS_INSTALL_COMBINED|JOB_POOLS|JOB_POOL_COMPILE|JOB_POOL_LINK|KEEP_EXTENSION|LABELS|LANGUAGE|LIBRARY_OUTPUT_DIRECTORY|LINKER_LANGUAGE|LINK_(?:DEPENDS|DEPENDS_NO_SHARED|DIRECTORIES|FLAGS|INTERFACE_LIBRARIES|INTERFACE_MULTIPLICITY|LIBRARIES|OPTIONS|SEARCH_END_STATIC|SEARCH_START_STATIC|WHAT_YOU_USE)|LISTFILE_STACK|LOCATION|MACOSX_BUNDLE|MACOSX_BUNDLE_INFO_PLIST|MACOSX_FRAMEWORK_INFO_PLIST|MACOSX_PACKAGE_LOCATION|MACOSX_RPATH|MACROS|MANUALLY_ADDED_DEPENDENCIES|MEASUREMENT|MODIFIED|NAME|NO_SONAME|NO_SYSTEM_FROM_IMPORTED|OBJECT_DEPENDS|OBJECT_OUTPUTS|OSX_ARCHITECTURES|OUTPUT_NAME|PACKAGES_FOUND|PACKAGES_NOT_FOUND|PARENT_DIRECTORY|PASS_REGULAR_EXPRESSION|PDB_NAME|PDB_OUTPUT_DIRECTORY|POSITION_INDEPENDENT_CODE|POST_INSTALL_SCRIPT|PREDEFINED_TARGETS_FOLDER|PREFIX|PRE_INSTALL_SCRIPT|PRIVATE_HEADER|PROCESSORS|PROCESSOR_AFFINITY|PROJECT_LABEL|PUBLIC_HEADER|REPORT_UNDEFINED_PROPERTIES|REQUIRED_FILES|RESOURCE|RESOURCE_LOCK|RULE_LAUNCH_COMPILE|RULE_LAUNCH_CUSTOM|RULE_LAUNCH_LINK|RULE_MESSAGES|RUNTIME_OUTPUT_DIRECTORY|RUN_SERIAL|SKIP_AUTOGEN|SKIP_AUTOMOC|SKIP_AUTORCC|SKIP_AUTOUIC|SKIP_BUILD_RPATH|SKIP_RETURN_CODE|SOURCES|SOURCE_DIR|SOVERSION|STATIC_LIBRARY_FLAGS|STATIC_LIBRARY_OPTIONS|STRINGS|SUBDIRECTORIES|SUFFIX|SYMBOLIC|TARGET_ARCHIVES_MAY_BE_SHARED_LIBS|TARGET_MESSAGES|TARGET_SUPPORTS_SHARED_LIBS|TESTS|TEST_INCLUDE_FILE|TEST_INCLUDE_FILES|TIMEOUT|TIMEOUT_AFTER_MATCH|TYPE|USE_FOLDERS|VALUE|VARIABLES|VERSION|VISIBILITY_INLINES_HIDDEN|VS_(?:CONFIGURATION_TYPE|COPY_TO_OUT_DIR|DEBUGGER_(?:COMMAND|COMMAND_ARGUMENTS|ENVIRONMENT|WORKING_DIRECTORY)|DEPLOYMENT_CONTENT|DEPLOYMENT_LOCATION|DOTNET_REFERENCES|DOTNET_REFERENCES_COPY_LOCAL|INCLUDE_IN_VSIX|IOT_STARTUP_TASK|KEYWORD|RESOURCE_GENERATOR|SCC_AUXPATH|SCC_LOCALPATH|SCC_PROJECTNAME|SCC_PROVIDER|SDK_REFERENCES|SHADER_(?:DISABLE_OPTIMIZATIONS|ENABLE_DEBUG|ENTRYPOINT|FLAGS|MODEL|OBJECT_FILE_NAME|OUTPUT_HEADER_FILE|TYPE|VARIABLE_NAME)|STARTUP_PROJECT|TOOL_OVERRIDE|USER_PROPS|WINRT_COMPONENT|WINRT_EXTENSIONS|WINRT_REFERENCES|XAML_TYPE)|WILL_FAIL|WIN32_EXECUTABLE|WINDOWS_EXPORT_ALL_SYMBOLS|WORKING_DIRECTORY|WRAP_EXCLUDE|XCODE_(?:EMIT_EFFECTIVE_PLATFORM_NAME|EXPLICIT_FILE_TYPE|FILE_ATTRIBUTES|LAST_KNOWN_FILE_TYPE|PRODUCT_TYPE|SCHEME_(?:ADDRESS_SANITIZER|ADDRESS_SANITIZER_USE_AFTER_RETURN|ARGUMENTS|DISABLE_MAIN_THREAD_CHECKER|DYNAMIC_LIBRARY_LOADS|DYNAMIC_LINKER_API_USAGE|ENVIRONMENT|EXECUTABLE|GUARD_MALLOC|MAIN_THREAD_CHECKER_STOP|MALLOC_GUARD_EDGES|MALLOC_SCRIBBLE|MALLOC_STACK|THREAD_SANITIZER(?:_STOP)?|UNDEFINED_BEHAVIOUR_SANITIZER(?:_STOP)?|ZOMBIE_OBJECTS))|XCTEST)\b/,keyword:/\b(?:add_compile_definitions|add_compile_options|add_custom_command|add_custom_target|add_definitions|add_dependencies|add_executable|add_library|add_link_options|add_subdirectory|add_test|aux_source_directory|break|build_command|build_name|cmake_host_system_information|cmake_minimum_required|cmake_parse_arguments|cmake_policy|configure_file|continue|create_test_sourcelist|ctest_build|ctest_configure|ctest_coverage|ctest_empty_binary_directory|ctest_memcheck|ctest_read_custom_files|ctest_run_script|ctest_sleep|ctest_start|ctest_submit|ctest_test|ctest_update|ctest_upload|define_property|else|elseif|enable_language|enable_testing|endforeach|endfunction|endif|endmacro|endwhile|exec_program|execute_process|export|export_library_dependencies|file|find_file|find_library|find_package|find_path|find_program|fltk_wrap_ui|foreach|function|get_cmake_property|get_directory_property|get_filename_component|get_property|get_source_file_property|get_target_property|get_test_property|if|include|include_directories|include_external_msproject|include_guard|include_regular_expression|install|install_files|install_programs|install_targets|link_directories|link_libraries|list|load_cache|load_command|macro|make_directory|mark_as_advanced|math|message|option|output_required_files|project|qt_wrap_cpp|qt_wrap_ui|remove|remove_definitions|return|separate_arguments|set|set_directory_properties|set_property|set_source_files_properties|set_target_properties|set_tests_properties|site_name|source_group|string|subdir_depends|subdirs|target_compile_definitions|target_compile_features|target_compile_options|target_include_directories|target_link_directories|target_link_libraries|target_link_options|target_sources|try_compile|try_run|unset|use_mangled_mesa|utility_source|variable_requires|variable_watch|while|write_file)(?=\s*\()\b/,boolean:/\b(?:FALSE|OFF|ON|TRUE)\b/,namespace:/\b(?:INTERFACE|PRIVATE|PROPERTIES|PUBLIC|SHARED|STATIC|TARGET_OBJECTS)\b/,operator:/\b(?:AND|DEFINED|EQUAL|GREATER|LESS|MATCHES|NOT|OR|STREQUAL|STRGREATER|STRLESS|VERSION_EQUAL|VERSION_GREATER|VERSION_LESS)\b/,inserted:{pattern:/\b\w+::\w+\b/,alias:"class-name"},number:/\b\d+(?:\.\d+)*\b/,function:/\b[a-z_]\w*(?=\s*\()\b/i,punctuation:/[()>}]|\$[<{]/}}XC.displayName="cobol";XC.aliases=[];function XC(e){e.languages.cobol={comment:{pattern:/\*>.*|(^[ \t]*)\*.*/m,lookbehind:!0,greedy:!0},string:{pattern:/[xzgn]?(?:"(?:[^\r\n"]|"")*"(?!")|'(?:[^\r\n']|'')*'(?!'))/i,greedy:!0},level:{pattern:/(^[ \t]*)\d+\b/m,lookbehind:!0,greedy:!0,alias:"number"},"class-name":{pattern:/(\bpic(?:ture)?\s+)(?:(?:[-\w$/,:*+<>]|\.(?!\s|$))(?:\(\d+\))?)+/i,lookbehind:!0,inside:{number:{pattern:/(\()\d+/,lookbehind:!0},punctuation:/[()]/}},keyword:{pattern:/(^|[^\w-])(?:ABORT|ACCEPT|ACCESS|ADD|ADDRESS|ADVANCING|AFTER|ALIGNED|ALL|ALPHABET|ALPHABETIC|ALPHABETIC-LOWER|ALPHABETIC-UPPER|ALPHANUMERIC|ALPHANUMERIC-EDITED|ALSO|ALTER|ALTERNATE|ANY|ARE|AREA|AREAS|AS|ASCENDING|ASCII|ASSIGN|ASSOCIATED-DATA|ASSOCIATED-DATA-LENGTH|AT|ATTRIBUTE|AUTHOR|AUTO|AUTO-SKIP|BACKGROUND-COLOR|BACKGROUND-COLOUR|BASIS|BEEP|BEFORE|BEGINNING|BELL|BINARY|BIT|BLANK|BLINK|BLOCK|BOTTOM|BOUNDS|BY|BYFUNCTION|BYTITLE|CALL|CANCEL|CAPABLE|CCSVERSION|CD|CF|CH|CHAINING|CHANGED|CHANNEL|CHARACTER|CHARACTERS|CLASS|CLASS-ID|CLOCK-UNITS|CLOSE|CLOSE-DISPOSITION|COBOL|CODE|CODE-SET|COL|COLLATING|COLUMN|COM-REG|COMMA|COMMITMENT|COMMON|COMMUNICATION|COMP|COMP-1|COMP-2|COMP-3|COMP-4|COMP-5|COMPUTATIONAL|COMPUTATIONAL-1|COMPUTATIONAL-2|COMPUTATIONAL-3|COMPUTATIONAL-4|COMPUTATIONAL-5|COMPUTE|CONFIGURATION|CONTAINS|CONTENT|CONTINUE|CONTROL|CONTROL-POINT|CONTROLS|CONVENTION|CONVERTING|COPY|CORR|CORRESPONDING|COUNT|CRUNCH|CURRENCY|CURSOR|DATA|DATA-BASE|DATE|DATE-COMPILED|DATE-WRITTEN|DAY|DAY-OF-WEEK|DBCS|DE|DEBUG-CONTENTS|DEBUG-ITEM|DEBUG-LINE|DEBUG-NAME|DEBUG-SUB-1|DEBUG-SUB-2|DEBUG-SUB-3|DEBUGGING|DECIMAL-POINT|DECLARATIVES|DEFAULT|DEFAULT-DISPLAY|DEFINITION|DELETE|DELIMITED|DELIMITER|DEPENDING|DESCENDING|DESTINATION|DETAIL|DFHRESP|DFHVALUE|DISABLE|DISK|DISPLAY|DISPLAY-1|DIVIDE|DIVISION|DONTCARE|DOUBLE|DOWN|DUPLICATES|DYNAMIC|EBCDIC|EGCS|EGI|ELSE|EMI|EMPTY-CHECK|ENABLE|END|END-ACCEPT|END-ADD|END-CALL|END-COMPUTE|END-DELETE|END-DIVIDE|END-EVALUATE|END-IF|END-MULTIPLY|END-OF-PAGE|END-PERFORM|END-READ|END-RECEIVE|END-RETURN|END-REWRITE|END-SEARCH|END-START|END-STRING|END-SUBTRACT|END-UNSTRING|END-WRITE|ENDING|ENTER|ENTRY|ENTRY-PROCEDURE|ENVIRONMENT|EOL|EOP|EOS|ERASE|ERROR|ESCAPE|ESI|EVALUATE|EVENT|EVERY|EXCEPTION|EXCLUSIVE|EXHIBIT|EXIT|EXPORT|EXTEND|EXTENDED|EXTERNAL|FD|FILE|FILE-CONTROL|FILLER|FINAL|FIRST|FOOTING|FOR|FOREGROUND-COLOR|FOREGROUND-COLOUR|FROM|FULL|FUNCTION|FUNCTION-POINTER|FUNCTIONNAME|GENERATE|GIVING|GLOBAL|GO|GOBACK|GRID|GROUP|HEADING|HIGH-VALUE|HIGH-VALUES|HIGHLIGHT|I-O|I-O-CONTROL|ID|IDENTIFICATION|IF|IMPLICIT|IMPORT|IN|INDEX|INDEXED|INDICATE|INITIAL|INITIALIZE|INITIATE|INPUT|INPUT-OUTPUT|INSPECT|INSTALLATION|INTEGER|INTO|INVALID|INVOKE|IS|JUST|JUSTIFIED|KANJI|KEPT|KEY|KEYBOARD|LABEL|LANGUAGE|LAST|LB|LD|LEADING|LEFT|LEFTLINE|LENGTH|LENGTH-CHECK|LIBACCESS|LIBPARAMETER|LIBRARY|LIMIT|LIMITS|LINAGE|LINAGE-COUNTER|LINE|LINE-COUNTER|LINES|LINKAGE|LIST|LOCAL|LOCAL-STORAGE|LOCK|LONG-DATE|LONG-TIME|LOW-VALUE|LOW-VALUES|LOWER|LOWLIGHT|MEMORY|MERGE|MESSAGE|MMDDYYYY|MODE|MODULES|MORE-LABELS|MOVE|MULTIPLE|MULTIPLY|NAMED|NATIONAL|NATIONAL-EDITED|NATIVE|NEGATIVE|NETWORK|NEXT|NO|NO-ECHO|NULL|NULLS|NUMBER|NUMERIC|NUMERIC-DATE|NUMERIC-EDITED|NUMERIC-TIME|OBJECT-COMPUTER|OCCURS|ODT|OF|OFF|OMITTED|ON|OPEN|OPTIONAL|ORDER|ORDERLY|ORGANIZATION|OTHER|OUTPUT|OVERFLOW|OVERLINE|OWN|PACKED-DECIMAL|PADDING|PAGE|PAGE-COUNTER|PASSWORD|PERFORM|PF|PH|PIC|PICTURE|PLUS|POINTER|PORT|POSITION|POSITIVE|PRINTER|PRINTING|PRIVATE|PROCEDURE|PROCEDURE-POINTER|PROCEDURES|PROCEED|PROCESS|PROGRAM|PROGRAM-ID|PROGRAM-LIBRARY|PROMPT|PURGE|QUEUE|QUOTE|QUOTES|RANDOM|RD|READ|READER|REAL|RECEIVE|RECEIVED|RECORD|RECORDING|RECORDS|RECURSIVE|REDEFINES|REEL|REF|REFERENCE|REFERENCES|RELATIVE|RELEASE|REMAINDER|REMARKS|REMOTE|REMOVAL|REMOVE|RENAMES|REPLACE|REPLACING|REPORT|REPORTING|REPORTS|REQUIRED|RERUN|RESERVE|RESET|RETURN|RETURN-CODE|RETURNING|REVERSE-VIDEO|REVERSED|REWIND|REWRITE|RF|RH|RIGHT|ROUNDED|RUN|SAME|SAVE|SCREEN|SD|SEARCH|SECTION|SECURE|SECURITY|SEGMENT|SEGMENT-LIMIT|SELECT|SEND|SENTENCE|SEPARATE|SEQUENCE|SEQUENTIAL|SET|SHARED|SHAREDBYALL|SHAREDBYRUNUNIT|SHARING|SHIFT-IN|SHIFT-OUT|SHORT-DATE|SIGN|SIZE|SORT|SORT-CONTROL|SORT-CORE-SIZE|SORT-FILE-SIZE|SORT-MERGE|SORT-MESSAGE|SORT-MODE-SIZE|SORT-RETURN|SOURCE|SOURCE-COMPUTER|SPACE|SPACES|SPECIAL-NAMES|STANDARD|STANDARD-1|STANDARD-2|START|STATUS|STOP|STRING|SUB-QUEUE-1|SUB-QUEUE-2|SUB-QUEUE-3|SUBTRACT|SUM|SUPPRESS|SYMBOL|SYMBOLIC|SYNC|SYNCHRONIZED|TABLE|TALLY|TALLYING|TAPE|TASK|TERMINAL|TERMINATE|TEST|TEXT|THEN|THREAD|THREAD-LOCAL|THROUGH|THRU|TIME|TIMER|TIMES|TITLE|TO|TODAYS-DATE|TODAYS-NAME|TOP|TRAILING|TRUNCATED|TYPE|TYPEDEF|UNDERLINE|UNIT|UNSTRING|UNTIL|UP|UPON|USAGE|USE|USING|VALUE|VALUES|VARYING|VIRTUAL|WAIT|WHEN|WHEN-COMPILED|WITH|WORDS|WORKING-STORAGE|WRITE|YEAR|YYYYDDD|YYYYMMDD|ZERO-FILL|ZEROES|ZEROS)(?![\w-])/i,lookbehind:!0},boolean:{pattern:/(^|[^\w-])(?:false|true)(?![\w-])/i,lookbehind:!0},number:{pattern:/(^|[^\w-])(?:[+-]?(?:(?:\d+(?:[.,]\d+)?|[.,]\d+)(?:e[+-]?\d+)?|zero))(?![\w-])/i,lookbehind:!0},operator:[/<>|[<>]=?|[=+*/&]/,{pattern:/(^|[^\w-])(?:-|and|equal|greater|less|not|or|than)(?![\w-])/i,lookbehind:!0}],punctuation:/[.:,()]/}}ZC.displayName="coffeescript";ZC.aliases=["coffee"];function ZC(e){e.register(ts),(function(t){var r=/#(?!\{).+/,n={pattern:/#\{[^}]+\}/,alias:"variable"};t.languages.coffeescript=t.languages.extend("javascript",{comment:r,string:[{pattern:/'(?:\\[\s\S]|[^\\'])*'/,greedy:!0},{pattern:/"(?:\\[\s\S]|[^\\"])*"/,greedy:!0,inside:{interpolation:n}}],keyword:/\b(?:and|break|by|catch|class|continue|debugger|delete|do|each|else|extend|extends|false|finally|for|if|in|instanceof|is|isnt|let|loop|namespace|new|no|not|null|of|off|on|or|own|return|super|switch|then|this|throw|true|try|typeof|undefined|unless|until|when|while|window|with|yes|yield)\b/,"class-member":{pattern:/@(?!\d)\w+/,alias:"variable"}}),t.languages.insertBefore("coffeescript","comment",{"multiline-comment":{pattern:/###[\s\S]+?###/,alias:"comment"},"block-regex":{pattern:/\/{3}[\s\S]*?\/{3}/,alias:"regex",inside:{comment:r,interpolation:n}}}),t.languages.insertBefore("coffeescript","string",{"inline-javascript":{pattern:/`(?:\\[\s\S]|[^\\`])*`/,inside:{delimiter:{pattern:/^`|`$/,alias:"punctuation"},script:{pattern:/[\s\S]+/,alias:"language-javascript",inside:t.languages.javascript}}},"multiline-string":[{pattern:/'''[\s\S]*?'''/,greedy:!0,alias:"string"},{pattern:/"""[\s\S]*?"""/,greedy:!0,alias:"string",inside:{interpolation:n}}]}),t.languages.insertBefore("coffeescript","keyword",{property:/(?!\d)\w+(?=\s*:(?!:))/}),delete t.languages.coffeescript["template-string"],t.languages.coffee=t.languages.coffeescript})(e)}JC.displayName="concurnas";JC.aliases=["conc"];function JC(e){e.languages.concurnas={comment:{pattern:/(^|[^\\])(?:\/\*[\s\S]*?(?:\*\/|$)|\/\/.*)/,lookbehind:!0,greedy:!0},langext:{pattern:/\b\w+\s*\|\|[\s\S]+?\|\|/,greedy:!0,inside:{"class-name":/^\w+/,string:{pattern:/(^\s*\|\|)[\s\S]+(?=\|\|$)/,lookbehind:!0},punctuation:/\|\|/}},function:{pattern:/((?:^|\s)def[ \t]+)[a-zA-Z_]\w*(?=\s*\()/,lookbehind:!0},keyword:/\b(?:abstract|actor|also|annotation|assert|async|await|bool|boolean|break|byte|case|catch|changed|char|class|closed|constant|continue|def|default|del|double|elif|else|enum|every|extends|false|finally|float|for|from|global|gpudef|gpukernel|if|import|in|init|inject|int|lambda|local|long|loop|match|new|nodefault|null|of|onchange|open|out|override|package|parfor|parforsync|post|pre|private|protected|provide|provider|public|return|shared|short|single|size_t|sizeof|super|sync|this|throw|trait|trans|transient|true|try|typedef|unchecked|using|val|var|void|while|with)\b/,boolean:/\b(?:false|true)\b/,number:/\b0b[01][01_]*L?\b|\b0x(?:[\da-f_]*\.)?[\da-f_p+-]+\b|(?:\b\d[\d_]*(?:\.[\d_]*)?|\B\.\d[\d_]*)(?:e[+-]?\d[\d_]*)?[dfls]?/i,punctuation:/[{}[\];(),.:]/,operator:/<==|>==|=>|->|<-|<>|&==|&<>|\?:?|\.\?|\+\+|--|[-+*/=<>]=?|[!^~]|\b(?:and|as|band|bor|bxor|comp|is|isnot|mod|or)\b=?/,annotation:{pattern:/@(?:\w+:)?(?:\w+|\[[^\]]+\])?/,alias:"builtin"}},e.languages.insertBefore("concurnas","langext",{"regex-literal":{pattern:/\br("|')(?:\\.|(?!\1)[^\\\r\n])*\1/,greedy:!0,inside:{interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:e.languages.concurnas},regex:/[\s\S]+/}},"string-literal":{pattern:/(?:\B|\bs)("|')(?:\\.|(?!\1)[^\\\r\n])*\1/,greedy:!0,inside:{interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:e.languages.concurnas},string:/[\s\S]+/}}}),e.languages.conc=e.languages.concurnas}e2.displayName="csp";e2.aliases=[];function e2(e){(function(t){function r(n){return RegExp(/([ \t])/.source+"(?:"+n+")"+/(?=[\s;]|$)/.source,"i")}t.languages.csp={directive:{pattern:/(^|[\s;])(?:base-uri|block-all-mixed-content|(?:child|connect|default|font|frame|img|manifest|media|object|prefetch|script|style|worker)-src|disown-opener|form-action|frame-(?:ancestors|options)|input-protection(?:-(?:clip|selectors))?|navigate-to|plugin-types|policy-uri|referrer|reflected-xss|report-(?:to|uri)|require-sri-for|sandbox|(?:script|style)-src-(?:attr|elem)|upgrade-insecure-requests)(?=[\s;]|$)/i,lookbehind:!0,alias:"property"},scheme:{pattern:r(/[a-z][a-z0-9.+-]*:/.source),lookbehind:!0},none:{pattern:r(/'none'/.source),lookbehind:!0,alias:"keyword"},nonce:{pattern:r(/'nonce-[-+/\w=]+'/.source),lookbehind:!0,alias:"number"},hash:{pattern:r(/'sha(?:256|384|512)-[-+/\w=]+'/.source),lookbehind:!0,alias:"number"},host:{pattern:r(/[a-z][a-z0-9.+-]*:\/\/[^\s;,']*/.source+"|"+/\*[^\s;,']*/.source+"|"+/[a-z0-9-]+(?:\.[a-z0-9-]+)+(?::[\d*]+)?(?:\/[^\s;,']*)?/.source),lookbehind:!0,alias:"url",inside:{important:/\*/}},keyword:[{pattern:r(/'unsafe-[a-z-]+'/.source),lookbehind:!0,alias:"unsafe"},{pattern:r(/'[a-z-]+'/.source),lookbehind:!0,alias:"safe"}],punctuation:/;/}})(e)}t2.displayName="cooklang";t2.aliases=[];function t2(e){(function(t){var r=/(?:(?!\s)[\d$+<=a-zA-Z\x80-\uFFFF])+/.source,n=/[^{}@#]+/.source,a=/\{[^}#@]*\}/.source,i=n+a,o=/(?:h|hours|hrs|m|min|minutes)/.source,l={pattern:/\{[^{}]*\}/,inside:{amount:{pattern:/([\{|])[^{}|*%]+/,lookbehind:!0,alias:"number"},unit:{pattern:/(%)[^}]+/,lookbehind:!0,alias:"symbol"},"servings-scaler":{pattern:/\*/,alias:"operator"},"servings-alternative-separator":{pattern:/\|/,alias:"operator"},"unit-separator":{pattern:/(?:%|(\*)%)/,lookbehind:!0,alias:"operator"},punctuation:/[{}]/}};t.languages.cooklang={comment:{pattern:/\[-[\s\S]*?-\]|--.*/,greedy:!0},meta:{pattern:/>>.*:.*/,inside:{property:{pattern:/(>>\s*)[^\s:](?:[^:]*[^\s:])?/,lookbehind:!0}}},"cookware-group":{pattern:new RegExp("#(?:"+i+"|"+r+")"),inside:{cookware:{pattern:new RegExp("(^#)(?:"+n+")"),lookbehind:!0,alias:"variable"},"cookware-keyword":{pattern:/^#/,alias:"keyword"},"quantity-group":{pattern:new RegExp(/\{[^{}@#]*\}/),inside:{quantity:{pattern:new RegExp(/(^\{)/.source+n),lookbehind:!0,alias:"number"},punctuation:/[{}]/}}}},"ingredient-group":{pattern:new RegExp("@(?:"+i+"|"+r+")"),inside:{ingredient:{pattern:new RegExp("(^@)(?:"+n+")"),lookbehind:!0,alias:"variable"},"ingredient-keyword":{pattern:/^@/,alias:"keyword"},"amount-group":l}},"timer-group":{pattern:/~(?!\s)[^@#~{}]*\{[^{}]*\}/,inside:{timer:{pattern:/(^~)[^{]+/,lookbehind:!0,alias:"variable"},"duration-group":{pattern:/\{[^{}]*\}/,inside:{punctuation:/[{}]/,unit:{pattern:new RegExp(/(%\s*)/.source+o+/\b/.source),lookbehind:!0,alias:"symbol"},operator:/%/,duration:{pattern:/\d+/,alias:"number"}}},"timer-keyword":{pattern:/^~/,alias:"keyword"}}}}})(e)}r2.displayName="coq";r2.aliases=[];function r2(e){(function(t){for(var r=/\(\*(?:[^(*]|\((?!\*)|\*(?!\))|<self>)*\*\)/.source,n=0;n<2;n++)r=r.replace(/<self>/g,function(){return r});r=r.replace(/<self>/g,"[]"),t.languages.coq={comment:RegExp(r),string:{pattern:/"(?:[^"]|"")*"(?!")/,greedy:!0},attribute:[{pattern:RegExp(/#\[(?:[^\[\]("]|"(?:[^"]|"")*"(?!")|\((?!\*)|<comment>)*\]/.source.replace(/<comment>/g,function(){return r})),greedy:!0,alias:"attr-name",inside:{comment:RegExp(r),string:{pattern:/"(?:[^"]|"")*"(?!")/,greedy:!0},operator:/=/,punctuation:/^#\[|\]$|[,()]/}},{pattern:/\b(?:Cumulative|Global|Local|Monomorphic|NonCumulative|Polymorphic|Private|Program)\b/,alias:"attr-name"}],keyword:/\b(?:Abort|About|Add|Admit|Admitted|All|Arguments|As|Assumptions|Axiom|Axioms|Back|BackTo|Backtrace|BinOp|BinOpSpec|BinRel|Bind|Blacklist|Canonical|Case|Cd|Check|Class|Classes|Close|CoFixpoint|CoInductive|Coercion|Coercions|Collection|Combined|Compute|Conjecture|Conjectures|Constant|Constants|Constraint|Constructors|Context|Corollary|Create|CstOp|Custom|Cut|Debug|Declare|Defined|Definition|Delimit|Dependencies|Dependent|Derive|Diffs|Drop|Elimination|End|Entry|Equality|Eval|Example|Existential|Existentials|Existing|Export|Extern|Extraction|Fact|Fail|Field|File|Firstorder|Fixpoint|Flags|Focus|From|Funclass|Function|Functional|GC|Generalizable|Goal|Grab|Grammar|Graph|Guarded|Haskell|Heap|Hide|Hint|HintDb|Hints|Hypotheses|Hypothesis|IF|Identity|Immediate|Implicit|Implicits|Import|Include|Induction|Inductive|Infix|Info|Initial|InjTyp|Inline|Inspect|Instance|Instances|Intro|Intros|Inversion|Inversion_clear|JSON|Language|Left|Lemma|Let|Lia|Libraries|Library|Load|LoadPath|Locate|Ltac|Ltac2|ML|Match|Method|Minimality|Module|Modules|Morphism|Next|NoInline|Notation|Number|OCaml|Obligation|Obligations|Opaque|Open|Optimize|Parameter|Parameters|Parametric|Path|Paths|Prenex|Preterm|Primitive|Print|Profile|Projections|Proof|Prop|PropBinOp|PropOp|PropUOp|Property|Proposition|Pwd|Qed|Quit|Rec|Record|Recursive|Redirect|Reduction|Register|Relation|Remark|Remove|Require|Reserved|Reset|Resolve|Restart|Rewrite|Right|Ring|Rings|SProp|Saturate|Save|Scheme|Scope|Scopes|Search|SearchHead|SearchPattern|SearchRewrite|Section|Separate|Set|Setoid|Show|Signatures|Solve|Solver|Sort|Sortclass|Sorted|Spec|Step|Strategies|Strategy|String|Structure|SubClass|Subgraph|SuchThat|Tactic|Term|TestCompile|Theorem|Time|Timeout|To|Transparent|Type|Typeclasses|Types|Typing|UnOp|UnOpSpec|Undelimit|Undo|Unfocus|Unfocused|Unfold|Universe|Universes|Unshelve|Variable|Variables|Variant|Verbose|View|Visibility|Zify|_|apply|as|at|by|cofix|else|end|exists|exists2|fix|for|forall|fun|if|in|let|match|measure|move|removed|return|struct|then|using|wf|where|with)\b/,number:/\b(?:0x[a-f0-9][a-f0-9_]*(?:\.[a-f0-9_]+)?(?:p[+-]?\d[\d_]*)?|\d[\d_]*(?:\.[\d_]+)?(?:e[+-]?\d[\d_]*)?)\b/i,punct:{pattern:/@\{|\{\||\[=|:>/,alias:"punctuation"},operator:/\/\\|\\\/|\.{2,3}|:{1,2}=|\*\*|[-=]>|<(?:->?|[+:=>]|<:)|>(?:=|->)|\|[-|]?|[-!%&*+/<=>?@^~']/,punctuation:/\.\(|`\(|@\{|`\{|\{\||\[=|:>|[:.,;(){}\[\]]/}})(e)}n2.displayName="crystal";n2.aliases=[];function n2(e){e.register($u),(function(t){t.languages.crystal=t.languages.extend("ruby",{keyword:[/\b(?:__DIR__|__END_LINE__|__FILE__|__LINE__|abstract|alias|annotation|as|asm|begin|break|case|class|def|do|else|elsif|end|ensure|enum|extend|for|fun|if|ifdef|include|instance_sizeof|lib|macro|module|next|of|out|pointerof|private|protected|ptr|require|rescue|return|select|self|sizeof|struct|super|then|type|typeof|undef|uninitialized|union|unless|until|when|while|with|yield)\b/,{pattern:/(\.\s*)(?:is_a|responds_to)\?/,lookbehind:!0}],number:/\b(?:0b[01_]*[01]|0o[0-7_]*[0-7]|0x[\da-fA-F_]*[\da-fA-F]|(?:\d(?:[\d_]*\d)?)(?:\.[\d_]*\d)?(?:[eE][+-]?[\d_]*\d)?)(?:_(?:[uif](?:8|16|32|64))?)?\b/,operator:[/->/,t.languages.ruby.operator],punctuation:/[(){}[\].,;\\]/}),t.languages.insertBefore("crystal","string-literal",{attribute:{pattern:/@\[.*?\]/,inside:{delimiter:{pattern:/^@\[|\]$/,alias:"punctuation"},attribute:{pattern:/^(\s*)\w+/,lookbehind:!0,alias:"class-name"},args:{pattern:/\S(?:[\s\S]*\S)?/,inside:t.languages.crystal}}},expansion:{pattern:/\{(?:\{.*?\}|%.*?%)\}/,inside:{content:{pattern:/^(\{.)[\s\S]+(?=.\}$)/,lookbehind:!0,inside:t.languages.crystal},delimiter:{pattern:/^\{[\{%]|[\}%]\}$/,alias:"operator"}}},char:{pattern:/'(?:[^\\\r\n]{1,2}|\\(?:.|u(?:[A-Fa-f0-9]{1,4}|\{[A-Fa-f0-9]{1,6}\})))'/,greedy:!0}})})(e)}a2.displayName="css-extras";a2.aliases=[];function a2(e){e.register(Cc),(function(t){var r=/("|')(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,n;t.languages.css.selector={pattern:t.languages.css.selector.pattern,lookbehind:!0,inside:n={"pseudo-element":/:(?:after|before|first-letter|first-line|selection)|::[-\w]+/,"pseudo-class":/:[-\w]+/,class:/\.[-\w]+/,id:/#[-\w]+/,attribute:{pattern:RegExp(`\\[(?:[^[\\]"']|`+r.source+")*\\]"),greedy:!0,inside:{punctuation:/^\[|\]$/,"case-sensitivity":{pattern:/(\s)[si]$/i,lookbehind:!0,alias:"keyword"},namespace:{pattern:/^(\s*)(?:(?!\s)[-*\w\xA0-\uFFFF])*\|(?!=)/,lookbehind:!0,inside:{punctuation:/\|$/}},"attr-name":{pattern:/^(\s*)(?:(?!\s)[-\w\xA0-\uFFFF])+/,lookbehind:!0},"attr-value":[r,{pattern:/(=\s*)(?:(?!\s)[-\w\xA0-\uFFFF])+(?=\s*$)/,lookbehind:!0}],operator:/[|~*^$]?=/}},"n-th":[{pattern:/(\(\s*)[+-]?\d*[\dn](?:\s*[+-]\s*\d+)?(?=\s*\))/,lookbehind:!0,inside:{number:/[\dn]+/,operator:/[+-]/}},{pattern:/(\(\s*)(?:even|odd)(?=\s*\))/i,lookbehind:!0}],combinator:/>|\+|~|\|\|/,punctuation:/[(),]/}},t.languages.css.atrule.inside["selector-function-argument"].inside=n,t.languages.insertBefore("css","property",{variable:{pattern:/(^|[^-\w\xA0-\uFFFF])--(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*/i,lookbehind:!0}});var a={pattern:/(\b\d+)(?:%|[a-z]+(?![\w-]))/,lookbehind:!0},i={pattern:/(^|[^\w.-])-?(?:\d+(?:\.\d+)?|\.\d+)/,lookbehind:!0};t.languages.insertBefore("css","function",{operator:{pattern:/(\s)[+\-*\/](?=\s)/,lookbehind:!0},hexcode:{pattern:/\B#[\da-f]{3,8}\b/i,alias:"color"},color:[{pattern:/(^|[^\w-])(?:AliceBlue|AntiqueWhite|Aqua|Aquamarine|Azure|Beige|Bisque|Black|BlanchedAlmond|Blue|BlueViolet|Brown|BurlyWood|CadetBlue|Chartreuse|Chocolate|Coral|CornflowerBlue|Cornsilk|Crimson|Cyan|DarkBlue|DarkCyan|DarkGoldenRod|DarkGr[ae]y|DarkGreen|DarkKhaki|DarkMagenta|DarkOliveGreen|DarkOrange|DarkOrchid|DarkRed|DarkSalmon|DarkSeaGreen|DarkSlateBlue|DarkSlateGr[ae]y|DarkTurquoise|DarkViolet|DeepPink|DeepSkyBlue|DimGr[ae]y|DodgerBlue|FireBrick|FloralWhite|ForestGreen|Fuchsia|Gainsboro|GhostWhite|Gold|GoldenRod|Gr[ae]y|Green|GreenYellow|HoneyDew|HotPink|IndianRed|Indigo|Ivory|Khaki|Lavender|LavenderBlush|LawnGreen|LemonChiffon|LightBlue|LightCoral|LightCyan|LightGoldenRodYellow|LightGr[ae]y|LightGreen|LightPink|LightSalmon|LightSeaGreen|LightSkyBlue|LightSlateGr[ae]y|LightSteelBlue|LightYellow|Lime|LimeGreen|Linen|Magenta|Maroon|MediumAquaMarine|MediumBlue|MediumOrchid|MediumPurple|MediumSeaGreen|MediumSlateBlue|MediumSpringGreen|MediumTurquoise|MediumVioletRed|MidnightBlue|MintCream|MistyRose|Moccasin|NavajoWhite|Navy|OldLace|Olive|OliveDrab|Orange|OrangeRed|Orchid|PaleGoldenRod|PaleGreen|PaleTurquoise|PaleVioletRed|PapayaWhip|PeachPuff|Peru|Pink|Plum|PowderBlue|Purple|RebeccaPurple|Red|RosyBrown|RoyalBlue|SaddleBrown|Salmon|SandyBrown|SeaGreen|SeaShell|Sienna|Silver|SkyBlue|SlateBlue|SlateGr[ae]y|Snow|SpringGreen|SteelBlue|Tan|Teal|Thistle|Tomato|Transparent|Turquoise|Violet|Wheat|White|WhiteSmoke|Yellow|YellowGreen)(?![\w-])/i,lookbehind:!0},{pattern:/\b(?:hsl|rgb)\(\s*\d{1,3}\s*,\s*\d{1,3}%?\s*,\s*\d{1,3}%?\s*\)\B|\b(?:hsl|rgb)a\(\s*\d{1,3}\s*,\s*\d{1,3}%?\s*,\s*\d{1,3}%?\s*,\s*(?:0|0?\.\d+|1)\s*\)\B/i,inside:{unit:a,number:i,function:/[\w-]+(?=\()/,punctuation:/[(),]/}}],entity:/\\[\da-f]{1,8}/i,unit:a,number:i})})(e)}s2.displayName="csv";s2.aliases=[];function s2(e){e.languages.csv={value:/[^\r\n,"]+|"(?:[^"]|"")*"(?!")/,punctuation:/,/}}i2.displayName="cue";i2.aliases=[];function i2(e){(function(t){var r=/\\(?:(?!\2)|\2(?:[^()\r\n]|\([^()]*\)))/.source,n=/"""(?:[^\\"]|"(?!""\2)|<esc>)*"""/.source+"|"+/'''(?:[^\\']|'(?!''\2)|<esc>)*'''/.source+"|"+/"(?:[^\\\r\n"]|"(?!\2)|<esc>)*"/.source+"|"+/'(?:[^\\\r\n']|'(?!\2)|<esc>)*'/.source,a="(?:"+n.replace(/<esc>/g,r)+")";t.languages.cue={comment:{pattern:/\/\/.*/,greedy:!0},"string-literal":{pattern:RegExp(/(^|[^#"'\\])(#*)/.source+a+/(?!["'])\2/.source),lookbehind:!0,greedy:!0,inside:{escape:{pattern:/(?=[\s\S]*["'](#*)$)\\\1(?:U[a-fA-F0-9]{1,8}|u[a-fA-F0-9]{1,4}|x[a-fA-F0-9]{1,2}|\d{2,3}|[^(])/,greedy:!0,alias:"string"},interpolation:{pattern:/(?=[\s\S]*["'](#*)$)\\\1\([^()]*\)/,greedy:!0,inside:{punctuation:/^\\#*\(|\)$/,expression:{pattern:/[\s\S]+/,inside:null}}},string:/[\s\S]+/}},keyword:{pattern:/(^|[^\w$])(?:for|if|import|in|let|null|package)(?![\w$])/,lookbehind:!0},boolean:{pattern:/(^|[^\w$])(?:false|true)(?![\w$])/,lookbehind:!0},builtin:{pattern:/(^|[^\w$])(?:bool|bytes|float|float(?:32|64)|u?int(?:8|16|32|64|128)?|number|rune|string)(?![\w$])/,lookbehind:!0},attribute:{pattern:/@[\w$]+(?=\s*\()/,alias:"function"},function:{pattern:/(^|[^\w$])[a-z_$][\w$]*(?=\s*\()/i,lookbehind:!0},number:{pattern:/(^|[^\w$.])(?:0b[01]+(?:_[01]+)*|0o[0-7]+(?:_[0-7]+)*|0[xX][0-9A-Fa-f]+(?:_[0-9A-Fa-f]+)*|(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[eE][+-]?\d+(?:_\d+)*)?(?:[KMGTP]i?)?)(?![\w$])/,lookbehind:!0},operator:/\.{3}|_\|_|&&?|\|\|?|[=!]~|[<>=!]=?|[+\-*/?]/,punctuation:/[()[\]{},.:]/},t.languages.cue["string-literal"].inside.interpolation.inside.expression.inside=t.languages.cue})(e)}o2.displayName="cypher";o2.aliases=[];function o2(e){e.languages.cypher={comment:/\/\/.*/,string:{pattern:/"(?:[^"\\\r\n]|\\.)*"|'(?:[^'\\\r\n]|\\.)*'/,greedy:!0},"class-name":{pattern:/(:\s*)(?:\w+|`(?:[^`\\\r\n])*`)(?=\s*[{):])/,lookbehind:!0,greedy:!0},relationship:{pattern:/(-\[\s*(?:\w+\s*|`(?:[^`\\\r\n])*`\s*)?:\s*|\|\s*:\s*)(?:\w+|`(?:[^`\\\r\n])*`)/,lookbehind:!0,greedy:!0,alias:"property"},identifier:{pattern:/`(?:[^`\\\r\n])*`/,greedy:!0},variable:/\$\w+/,keyword:/\b(?:ADD|ALL|AND|AS|ASC|ASCENDING|ASSERT|BY|CALL|CASE|COMMIT|CONSTRAINT|CONTAINS|CREATE|CSV|DELETE|DESC|DESCENDING|DETACH|DISTINCT|DO|DROP|ELSE|END|ENDS|EXISTS|FOR|FOREACH|IN|INDEX|IS|JOIN|KEY|LIMIT|LOAD|MANDATORY|MATCH|MERGE|NODE|NOT|OF|ON|OPTIONAL|OR|ORDER(?=\s+BY)|PERIODIC|REMOVE|REQUIRE|RETURN|SCALAR|SCAN|SET|SKIP|START|STARTS|THEN|UNION|UNIQUE|UNWIND|USING|WHEN|WHERE|WITH|XOR|YIELD)\b/i,function:/\b\w+\b(?=\s*\()/,boolean:/\b(?:false|null|true)\b/i,number:/\b(?:0x[\da-fA-F]+|\d+(?:\.\d+)?(?:[eE][+-]?\d+)?)\b/,operator:/:|<--?|--?>?|<>|=~?|[<>]=?|[+*/%^|]|\.\.\.?/,punctuation:/[()[\]{},;.]/}}l2.displayName="d";l2.aliases=[];function l2(e){e.register(Kr),e.languages.d=e.languages.extend("clike",{comment:[{pattern:/^\s*#!.+/,greedy:!0},{pattern:RegExp(/(^|[^\\])/.source+"(?:"+[/\/\+(?:\/\+(?:[^+]|\+(?!\/))*\+\/|(?!\/\+)[\s\S])*?\+\//.source,/\/\/.*/.source,/\/\*[\s\S]*?\*\//.source].join("|")+")"),lookbehind:!0,greedy:!0}],string:[{pattern:RegExp([/\b[rx]"(?:\\[\s\S]|[^\\"])*"[cwd]?/.source,/\bq"(?:\[[\s\S]*?\]|\([\s\S]*?\)|<[\s\S]*?>|\{[\s\S]*?\})"/.source,/\bq"((?!\d)\w+)$[\s\S]*?^\1"/.source,/\bq"(.)[\s\S]*?\2"/.source,/(["`])(?:\\[\s\S]|(?!\3)[^\\])*\3[cwd]?/.source].join("|"),"m"),greedy:!0},{pattern:/\bq\{(?:\{[^{}]*\}|[^{}])*\}/,greedy:!0,alias:"token-string"}],keyword:/\$|\b(?:__(?:(?:DATE|EOF|FILE|FUNCTION|LINE|MODULE|PRETTY_FUNCTION|TIMESTAMP|TIME|VENDOR|VERSION)__|gshared|parameters|traits|vector)|abstract|alias|align|asm|assert|auto|body|bool|break|byte|case|cast|catch|cdouble|cent|cfloat|char|class|const|continue|creal|dchar|debug|default|delegate|delete|deprecated|do|double|dstring|else|enum|export|extern|false|final|finally|float|for|foreach|foreach_reverse|function|goto|idouble|if|ifloat|immutable|import|inout|int|interface|invariant|ireal|lazy|long|macro|mixin|module|new|nothrow|null|out|override|package|pragma|private|protected|ptrdiff_t|public|pure|real|ref|return|scope|shared|short|size_t|static|string|struct|super|switch|synchronized|template|this|throw|true|try|typedef|typeid|typeof|ubyte|ucent|uint|ulong|union|unittest|ushort|version|void|volatile|wchar|while|with|wstring)\b/,number:[/\b0x\.?[a-f\d_]+(?:(?!\.\.)\.[a-f\d_]*)?(?:p[+-]?[a-f\d_]+)?[ulfi]{0,4}/i,{pattern:/((?:\.\.)?)(?:\b0b\.?|\b|\.)\d[\d_]*(?:(?!\.\.)\.[\d_]*)?(?:e[+-]?\d[\d_]*)?[ulfi]{0,4}/i,lookbehind:!0}],operator:/\|[|=]?|&[&=]?|\+[+=]?|-[-=]?|\.?\.\.|=[>=]?|!(?:i[ns]\b|<>?=?|>=?|=)?|\bi[ns]\b|(?:<[<>]?|>>?>?|\^\^|[*\/%^~])=?/}),e.languages.insertBefore("d","string",{char:/'(?:\\(?:\W|\w+)|[^\\])'/}),e.languages.insertBefore("d","keyword",{property:/\B@\w*/}),e.languages.insertBefore("d","function",{register:{pattern:/\b(?:[ABCD][LHX]|E?(?:BP|DI|SI|SP)|[BS]PL|[ECSDGF]S|CR[0234]|[DS]IL|DR[012367]|E[ABCD]X|X?MM[0-7]|R(?:1[0-5]|[89])[BWD]?|R[ABCD]X|R[BS]P|R[DS]I|TR[3-7]|XMM(?:1[0-5]|[89])|YMM(?:1[0-5]|\d))\b|\bST(?:\([0-7]\)|\b)/,alias:"variable"}})}c2.displayName="dart";c2.aliases=[];function c2(e){e.register(Kr),(function(t){var r=[/\b(?:async|sync|yield)\*/,/\b(?:abstract|assert|async|await|break|case|catch|class|const|continue|covariant|default|deferred|do|dynamic|else|enum|export|extends|extension|external|factory|final|finally|for|get|hide|if|implements|import|in|interface|library|mixin|new|null|on|operator|part|rethrow|return|set|show|static|super|switch|sync|this|throw|try|typedef|var|void|while|with|yield)\b/],n=/(^|[^\w.])(?:[a-z]\w*\s*\.\s*)*(?:[A-Z]\w*\s*\.\s*)*/.source,a={pattern:RegExp(n+/[A-Z](?:[\d_A-Z]*[a-z]\w*)?\b/.source),lookbehind:!0,inside:{namespace:{pattern:/^[a-z]\w*(?:\s*\.\s*[a-z]\w*)*(?:\s*\.)?/,inside:{punctuation:/\./}}}};t.languages.dart=t.languages.extend("clike",{"class-name":[a,{pattern:RegExp(n+/[A-Z]\w*(?=\s+\w+\s*[;,=()])/.source),lookbehind:!0,inside:a.inside}],keyword:r,operator:/\bis!|\b(?:as|is)\b|\+\+|--|&&|\|\||<<=?|>>=?|~(?:\/=?)?|[+\-*\/%&^|=!<>]=?|\?/}),t.languages.insertBefore("dart","string",{"string-literal":{pattern:/r?(?:("""|''')[\s\S]*?\1|(["'])(?:\\.|(?!\2)[^\\\r\n])*\2(?!\2))/,greedy:!0,inside:{interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$(?:\w+|\{(?:[^{}]|\{[^{}]*\})*\})/,lookbehind:!0,inside:{punctuation:/^\$\{?|\}$/,expression:{pattern:/[\s\S]+/,inside:t.languages.dart}}},string:/[\s\S]+/}},string:void 0}),t.languages.insertBefore("dart","class-name",{metadata:{pattern:/@\w+/,alias:"function"}}),t.languages.insertBefore("dart","class-name",{generics:{pattern:/<(?:[\w\s,.&?]|<(?:[\w\s,.&?]|<(?:[\w\s,.&?]|<[\w\s,.&?]*>)*>)*>)*>/,inside:{"class-name":a,keyword:r,punctuation:/[<>(),.:]/,operator:/[?&|]/}}})})(e)}u2.displayName="dataweave";u2.aliases=[];function u2(e){(function(t){t.languages.dataweave={url:/\b[A-Za-z]+:\/\/[\w/:.?=&-]+|\burn:[\w:.?=&-]+/,property:{pattern:/(?:\b\w+#)?(?:"(?:\\.|[^\\"\r\n])*"|\b\w+)(?=\s*[:@])/,greedy:!0},string:{pattern:/(["'`])(?:\\[\s\S]|(?!\1)[^\\])*\1/,greedy:!0},"mime-type":/\b(?:application|audio|image|multipart|text|video)\/[\w+-]+/,date:{pattern:/\|[\w:+-]+\|/,greedy:!0},comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],regex:{pattern:/\/(?:[^\\\/\r\n]|\\[^\r\n])+\//,greedy:!0},keyword:/\b(?:and|as|at|case|do|else|fun|if|input|is|match|not|ns|null|or|output|type|unless|update|using|var)\b/,function:/\b[A-Z_]\w*(?=\s*\()/i,number:/-?\b\d+(?:\.\d+)?(?:e[+-]?\d+)?\b/i,punctuation:/[{}[\];(),.:@]/,operator:/<<|>>|->|[<>~=]=?|!=|--?-?|\+\+?|!|\?/,boolean:/\b(?:false|true)\b/}})(e)}d2.displayName="dax";d2.aliases=[];function d2(e){e.languages.dax={comment:{pattern:/(^|[^\\])(?:\/\*[\s\S]*?\*\/|(?:--|\/\/).*)/,lookbehind:!0},"data-field":{pattern:/'(?:[^']|'')*'(?!')(?:\[[ \w\xA0-\uFFFF]+\])?|\w+\[[ \w\xA0-\uFFFF]+\]/,alias:"symbol"},measure:{pattern:/\[[ \w\xA0-\uFFFF]+\]/,alias:"constant"},string:{pattern:/"(?:[^"]|"")*"(?!")/,greedy:!0},function:/\b(?:ABS|ACOS|ACOSH|ACOT|ACOTH|ADDCOLUMNS|ADDMISSINGITEMS|ALL|ALLCROSSFILTERED|ALLEXCEPT|ALLNOBLANKROW|ALLSELECTED|AND|APPROXIMATEDISTINCTCOUNT|ASIN|ASINH|ATAN|ATANH|AVERAGE|AVERAGEA|AVERAGEX|BETA\.DIST|BETA\.INV|BLANK|CALCULATE|CALCULATETABLE|CALENDAR|CALENDARAUTO|CEILING|CHISQ\.DIST|CHISQ\.DIST\.RT|CHISQ\.INV|CHISQ\.INV\.RT|CLOSINGBALANCEMONTH|CLOSINGBALANCEQUARTER|CLOSINGBALANCEYEAR|COALESCE|COMBIN|COMBINA|COMBINEVALUES|CONCATENATE|CONCATENATEX|CONFIDENCE\.NORM|CONFIDENCE\.T|CONTAINS|CONTAINSROW|CONTAINSSTRING|CONTAINSSTRINGEXACT|CONVERT|COS|COSH|COT|COTH|COUNT|COUNTA|COUNTAX|COUNTBLANK|COUNTROWS|COUNTX|CROSSFILTER|CROSSJOIN|CURRENCY|CURRENTGROUP|CUSTOMDATA|DATATABLE|DATE|DATEADD|DATEDIFF|DATESBETWEEN|DATESINPERIOD|DATESMTD|DATESQTD|DATESYTD|DATEVALUE|DAY|DEGREES|DETAILROWS|DISTINCT|DISTINCTCOUNT|DISTINCTCOUNTNOBLANK|DIVIDE|EARLIER|EARLIEST|EDATE|ENDOFMONTH|ENDOFQUARTER|ENDOFYEAR|EOMONTH|ERROR|EVEN|EXACT|EXCEPT|EXP|EXPON\.DIST|FACT|FALSE|FILTER|FILTERS|FIND|FIRSTDATE|FIRSTNONBLANK|FIRSTNONBLANKVALUE|FIXED|FLOOR|FORMAT|GCD|GENERATE|GENERATEALL|GENERATESERIES|GEOMEAN|GEOMEANX|GROUPBY|HASONEFILTER|HASONEVALUE|HOUR|IF|IF\.EAGER|IFERROR|IGNORE|INT|INTERSECT|ISBLANK|ISCROSSFILTERED|ISEMPTY|ISERROR|ISEVEN|ISFILTERED|ISINSCOPE|ISLOGICAL|ISNONTEXT|ISNUMBER|ISO\.CEILING|ISODD|ISONORAFTER|ISSELECTEDMEASURE|ISSUBTOTAL|ISTEXT|KEEPFILTERS|KEYWORDMATCH|LASTDATE|LASTNONBLANK|LASTNONBLANKVALUE|LCM|LEFT|LEN|LN|LOG|LOG10|LOOKUPVALUE|LOWER|MAX|MAXA|MAXX|MEDIAN|MEDIANX|MID|MIN|MINA|MINUTE|MINX|MOD|MONTH|MROUND|NATURALINNERJOIN|NATURALLEFTOUTERJOIN|NEXTDAY|NEXTMONTH|NEXTQUARTER|NEXTYEAR|NONVISUAL|NORM\.DIST|NORM\.INV|NORM\.S\.DIST|NORM\.S\.INV|NOT|NOW|ODD|OPENINGBALANCEMONTH|OPENINGBALANCEQUARTER|OPENINGBALANCEYEAR|OR|PARALLELPERIOD|PATH|PATHCONTAINS|PATHITEM|PATHITEMREVERSE|PATHLENGTH|PERCENTILE\.EXC|PERCENTILE\.INC|PERCENTILEX\.EXC|PERCENTILEX\.INC|PERMUT|PI|POISSON\.DIST|POWER|PREVIOUSDAY|PREVIOUSMONTH|PREVIOUSQUARTER|PREVIOUSYEAR|PRODUCT|PRODUCTX|QUARTER|QUOTIENT|RADIANS|RAND|RANDBETWEEN|RANK\.EQ|RANKX|RELATED|RELATEDTABLE|REMOVEFILTERS|REPLACE|REPT|RIGHT|ROLLUP|ROLLUPADDISSUBTOTAL|ROLLUPGROUP|ROLLUPISSUBTOTAL|ROUND|ROUNDDOWN|ROUNDUP|ROW|SAMEPERIODLASTYEAR|SAMPLE|SEARCH|SECOND|SELECTCOLUMNS|SELECTEDMEASURE|SELECTEDMEASUREFORMATSTRING|SELECTEDMEASURENAME|SELECTEDVALUE|SIGN|SIN|SINH|SQRT|SQRTPI|STARTOFMONTH|STARTOFQUARTER|STARTOFYEAR|STDEV\.P|STDEV\.S|STDEVX\.P|STDEVX\.S|SUBSTITUTE|SUBSTITUTEWITHINDEX|SUM|SUMMARIZE|SUMMARIZECOLUMNS|SUMX|SWITCH|T\.DIST|T\.DIST\.2T|T\.DIST\.RT|T\.INV|T\.INV\.2T|TAN|TANH|TIME|TIMEVALUE|TODAY|TOPN|TOPNPERLEVEL|TOPNSKIP|TOTALMTD|TOTALQTD|TOTALYTD|TREATAS|TRIM|TRUE|TRUNC|UNICHAR|UNICODE|UNION|UPPER|USERELATIONSHIP|USERNAME|USEROBJECTID|USERPRINCIPALNAME|UTCNOW|UTCTODAY|VALUE|VALUES|VAR\.P|VAR\.S|VARX\.P|VARX\.S|WEEKDAY|WEEKNUM|XIRR|XNPV|YEAR|YEARFRAC)(?=\s*\()/i,keyword:/\b(?:DEFINE|EVALUATE|MEASURE|ORDER\s+BY|RETURN|VAR|START\s+AT|ASC|DESC)\b/i,boolean:{pattern:/\b(?:FALSE|NULL|TRUE)\b/i,alias:"constant"},number:/\b\d+(?:\.\d*)?|\B\.\d+\b/,operator:/:=|[-+*\/=^]|&&?|\|\||<(?:=>?|<|>)?|>[>=]?|\b(?:IN|NOT)\b/i,punctuation:/[;\[\](){}`,.]/}}p2.displayName="dhall";p2.aliases=[];function p2(e){e.languages.dhall={comment:/--.*|\{-(?:[^-{]|-(?!\})|\{(?!-)|\{-(?:[^-{]|-(?!\})|\{(?!-))*-\})*-\}/,string:{pattern:/"(?:[^"\\]|\\.)*"|''(?:[^']|'(?!')|'''|''\$\{)*''(?!'|\$)/,greedy:!0,inside:{interpolation:{pattern:/\$\{[^{}]*\}/,inside:{expression:{pattern:/(^\$\{)[\s\S]+(?=\}$)/,lookbehind:!0,alias:"language-dhall",inside:null},punctuation:/\$\{|\}/}}}},label:{pattern:/`[^`]*`/,greedy:!0},url:{pattern:/\bhttps?:\/\/[\w.:%!$&'*+;=@~-]+(?:\/[\w.:%!$&'*+;=@~-]*)*(?:\?[/?\w.:%!$&'*+;=@~-]*)?/,greedy:!0},env:{pattern:/\benv:(?:(?!\d)\w+|"(?:[^"\\=]|\\.)*")/,greedy:!0,inside:{function:/^env/,operator:/^:/,variable:/[\s\S]+/}},hash:{pattern:/\bsha256:[\da-fA-F]{64}\b/,inside:{function:/sha256/,operator:/:/,number:/[\da-fA-F]{64}/}},keyword:/\b(?:as|assert|else|forall|if|in|let|merge|missing|then|toMap|using|with)\b|\u2200/,builtin:/\b(?:None|Some)\b/,boolean:/\b(?:False|True)\b/,number:/\bNaN\b|-?\bInfinity\b|[+-]?\b(?:0x[\da-fA-F]+|\d+(?:\.\d+)?(?:e[+-]?\d+)?)\b/,operator:/\/\\|\/\/\\\\|&&|\|\||===|[!=]=|\/\/|->|\+\+|::|[+*#@=:?<>|\\\u2227\u2a53\u2261\u2afd\u03bb\u2192]/,punctuation:/\.\.|[{}\[\](),./]/,"class-name":/\b[A-Z]\w*\b/},e.languages.dhall.string.inside.interpolation.inside.expression.inside=e.languages.dhall}h2.displayName="django";h2.aliases=["jinja2"];function h2(e){e.register(rs),(function(t){t.languages.django={comment:/^\{#[\s\S]*?#\}$/,tag:{pattern:/(^\{%[+-]?\s*)\w+/,lookbehind:!0,alias:"keyword"},delimiter:{pattern:/^\{[{%][+-]?|[+-]?[}%]\}$/,alias:"punctuation"},string:{pattern:/("|')(?:\\.|(?!\1)[^\\\r\n])*\1/,greedy:!0},filter:{pattern:/(\|)\w+/,lookbehind:!0,alias:"function"},test:{pattern:/(\bis\s+(?:not\s+)?)(?!not\b)\w+/,lookbehind:!0,alias:"function"},function:/\b[a-z_]\w+(?=\s*\()/i,keyword:/\b(?:and|as|by|else|for|if|import|in|is|loop|not|or|recursive|with|without)\b/,operator:/[-+%=]=?|!=|\*\*?=?|\/\/?=?|<[<=>]?|>[=>]?|[&|^~]/,number:/\b\d+(?:\.\d+)?\b/,boolean:/[Ff]alse|[Nn]one|[Tt]rue/,variable:/\b\w+\b/,punctuation:/[{}[\](),.:;]/};var r=/\{\{[\s\S]*?\}\}|\{%[\s\S]*?%\}|\{#[\s\S]*?#\}/g,n=t.languages["markup-templating"];t.hooks.add("before-tokenize",function(a){n.buildPlaceholders(a,"django",r)}),t.hooks.add("after-tokenize",function(a){n.tokenizePlaceholders(a,"django")}),t.languages.jinja2=t.languages.django,t.hooks.add("before-tokenize",function(a){n.buildPlaceholders(a,"jinja2",r)}),t.hooks.add("after-tokenize",function(a){n.tokenizePlaceholders(a,"jinja2")})})(e)}g2.displayName="dns-zone-file";g2.aliases=["dns-zone"];function g2(e){e.languages["dns-zone-file"]={comment:/;.*/,string:{pattern:/"(?:\\.|[^"\\\r\n])*"/,greedy:!0},variable:[{pattern:/(^\$ORIGIN[ \t]+)\S+/m,lookbehind:!0},{pattern:/(^|\s)@(?=\s|$)/,lookbehind:!0}],keyword:/^\$(?:INCLUDE|ORIGIN|TTL)(?=\s|$)/m,class:{pattern:/(^|\s)(?:CH|CS|HS|IN)(?=\s|$)/,lookbehind:!0,alias:"keyword"},type:{pattern:/(^|\s)(?:A|A6|AAAA|AFSDB|APL|ATMA|CAA|CDNSKEY|CDS|CERT|CNAME|DHCID|DLV|DNAME|DNSKEY|DS|EID|GID|GPOS|HINFO|HIP|IPSECKEY|ISDN|KEY|KX|LOC|MAILA|MAILB|MB|MD|MF|MG|MINFO|MR|MX|NAPTR|NB|NBSTAT|NIMLOC|NINFO|NS|NSAP|NSAP-PTR|NSEC|NSEC3|NSEC3PARAM|NULL|NXT|OPENPGPKEY|PTR|PX|RKEY|RP|RRSIG|RT|SIG|SINK|SMIMEA|SOA|SPF|SRV|SSHFP|TA|TKEY|TLSA|TSIG|TXT|UID|UINFO|UNSPEC|URI|WKS|X25)(?=\s|$)/,lookbehind:!0,alias:"keyword"},punctuation:/[()]/},e.languages["dns-zone"]=e.languages["dns-zone-file"]}m2.displayName="docker";m2.aliases=["dockerfile"];function m2(e){(function(t){var r=/\\[\r\n](?:\s|\\[\r\n]|#.*(?!.))*(?![\s#]|\\[\r\n])/.source,n=/(?:[ \t]+(?![ \t])(?:<SP_BS>)?|<SP_BS>)/.source.replace(/<SP_BS>/g,function(){return r}),a=/"(?:[^"\\\r\n]|\\(?:\r\n|[\s\S]))*"|'(?:[^'\\\r\n]|\\(?:\r\n|[\s\S]))*'/.source,i=/--[\w-]+=(?:<STR>|(?!["'])(?:[^\s\\]|\\.)+)/.source.replace(/<STR>/g,function(){return a}),o={pattern:RegExp(a),greedy:!0},l={pattern:/(^[ \t]*)#.*/m,lookbehind:!0,greedy:!0};function u(d,h){return d=d.replace(/<OPT>/g,function(){return i}).replace(/<SP>/g,function(){return n}),RegExp(d,h)}t.languages.docker={instruction:{pattern:/(^[ \t]*)(?:ADD|ARG|CMD|COPY|ENTRYPOINT|ENV|EXPOSE|FROM|HEALTHCHECK|LABEL|MAINTAINER|ONBUILD|RUN|SHELL|STOPSIGNAL|USER|VOLUME|WORKDIR)(?=\s)(?:\\.|[^\r\n\\])*(?:\\$(?:\s|#.*$)*(?![\s#])(?:\\.|[^\r\n\\])*)*/im,lookbehind:!0,greedy:!0,inside:{options:{pattern:u(/(^(?:ONBUILD<SP>)?\w+<SP>)<OPT>(?:<SP><OPT>)*/.source,"i"),lookbehind:!0,greedy:!0,inside:{property:{pattern:/(^|\s)--[\w-]+/,lookbehind:!0},string:[o,{pattern:/(=)(?!["'])(?:[^\s\\]|\\.)+/,lookbehind:!0}],operator:/\\$/m,punctuation:/=/}},keyword:[{pattern:u(/(^(?:ONBUILD<SP>)?HEALTHCHECK<SP>(?:<OPT><SP>)*)(?:CMD|NONE)\b/.source,"i"),lookbehind:!0,greedy:!0},{pattern:u(/(^(?:ONBUILD<SP>)?FROM<SP>(?:<OPT><SP>)*(?!--)[^ \t\\]+<SP>)AS/.source,"i"),lookbehind:!0,greedy:!0},{pattern:u(/(^ONBUILD<SP>)\w+/.source,"i"),lookbehind:!0,greedy:!0},{pattern:/^\w+/,greedy:!0}],comment:l,string:o,variable:/\$(?:\w+|\{[^{}"'\\]*\})/,operator:/\\$/m}},comment:l},t.languages.dockerfile=t.languages.docker})(e)}f2.displayName="dot";f2.aliases=["gv"];function f2(e){(function(t){var r="(?:"+[/[a-zA-Z_\x80-\uFFFF][\w\x80-\uFFFF]*/.source,/-?(?:\.\d+|\d+(?:\.\d*)?)/.source,/"[^"\\]*(?:\\[\s\S][^"\\]*)*"/.source,/<(?:[^<>]|(?!<!--)<(?:[^<>"']|"[^"]*"|'[^']*')+>|<!--(?:[^-]|-(?!->))*-->)*>/.source].join("|")+")",n={markup:{pattern:/(^<)[\s\S]+(?=>$)/,lookbehind:!0,alias:["language-markup","language-html","language-xml"],inside:t.languages.markup}};function a(i,o){return RegExp(i.replace(/<ID>/g,function(){return r}),o)}t.languages.dot={comment:{pattern:/\/\/.*|\/\*[\s\S]*?\*\/|^#.*/m,greedy:!0},"graph-name":{pattern:a(/(\b(?:digraph|graph|subgraph)[ \t\r\n]+)<ID>/.source,"i"),lookbehind:!0,greedy:!0,alias:"class-name",inside:n},"attr-value":{pattern:a(/(=[ \t\r\n]*)<ID>/.source),lookbehind:!0,greedy:!0,inside:n},"attr-name":{pattern:a(/([\[;, \t\r\n])<ID>(?=[ \t\r\n]*=)/.source),lookbehind:!0,greedy:!0,inside:n},keyword:/\b(?:digraph|edge|graph|node|strict|subgraph)\b/i,"compass-point":{pattern:/(:[ \t\r\n]*)(?:[ewc_]|[ns][ew]?)(?![\w\x80-\uFFFF])/,lookbehind:!0,alias:"builtin"},node:{pattern:a(/(^|[^-.\w\x80-\uFFFF\\])<ID>/.source),lookbehind:!0,greedy:!0,inside:n},operator:/[=:]|-[->]/,punctuation:/[\[\]{};,]/},t.languages.gv=t.languages.dot})(e)}b2.displayName="ebnf";b2.aliases=[];function b2(e){e.languages.ebnf={comment:/\(\*[\s\S]*?\*\)/,string:{pattern:/"[^"\r\n]*"|'[^'\r\n]*'/,greedy:!0},special:{pattern:/\?[^?\r\n]*\?/,greedy:!0,alias:"class-name"},definition:{pattern:/^([\t ]*)[a-z]\w*(?:[ \t]+[a-z]\w*)*(?=\s*=)/im,lookbehind:!0,alias:["rule","keyword"]},rule:/\b[a-z]\w*(?:[ \t]+[a-z]\w*)*\b/i,punctuation:/\([:/]|[:/]\)|[.,;()[\]{}]/,operator:/[-=|*/!]/}}y2.displayName="editorconfig";y2.aliases=[];function y2(e){e.languages.editorconfig={comment:/[;#].*/,section:{pattern:/(^[ \t]*)\[.+\]/m,lookbehind:!0,alias:"selector",inside:{regex:/\\\\[\[\]{},!?.*]/,operator:/[!?]|\.\.|\*{1,2}/,punctuation:/[\[\]{},]/}},key:{pattern:/(^[ \t]*)[^\s=]+(?=[ \t]*=)/m,lookbehind:!0,alias:"attr-name"},value:{pattern:/=.*/,alias:"attr-value",inside:{punctuation:/^=/}}}}x2.displayName="eiffel";x2.aliases=[];function x2(e){e.languages.eiffel={comment:/--.*/,string:[{pattern:/"([^[]*)\[[\s\S]*?\]\1"/,greedy:!0},{pattern:/"([^{]*)\{[\s\S]*?\}\1"/,greedy:!0},{pattern:/"(?:%(?:(?!\n)\s)*\n\s*%|%\S|[^%"\r\n])*"/,greedy:!0}],char:/'(?:%.|[^%'\r\n])+'/,keyword:/\b(?:across|agent|alias|all|and|as|assign|attached|attribute|check|class|convert|create|Current|debug|deferred|detachable|do|else|elseif|end|ensure|expanded|export|external|feature|from|frozen|if|implies|inherit|inspect|invariant|like|local|loop|not|note|obsolete|old|once|or|Precursor|redefine|rename|require|rescue|Result|retry|select|separate|some|then|undefine|until|variant|Void|when|xor)\b/i,boolean:/\b(?:False|True)\b/i,"class-name":/\b[A-Z][\dA-Z_]*\b/,number:[/\b0[xcb][\da-f](?:_*[\da-f])*\b/i,/(?:\b\d(?:_*\d)*)?\.(?:(?:\d(?:_*\d)*)?e[+-]?)?\d(?:_*\d)*\b|\b\d(?:_*\d)*\b\.?/i],punctuation:/:=|<<|>>|\(\||\|\)|->|\.(?=\w)|[{}[\];(),:?]/,operator:/\\\\|\|\.\.\||\.\.|\/[~\/=]?|[><]=?|[-+*^=~]/}}E2.displayName="ejs";E2.aliases=["eta"];function E2(e){e.register(ts),e.register(rs),(function(t){t.languages.ejs={delimiter:{pattern:/^<%[-_=]?|[-_]?%>$/,alias:"punctuation"},comment:/^#[\s\S]*/,"language-javascript":{pattern:/[\s\S]+/,inside:t.languages.javascript}},t.hooks.add("before-tokenize",function(r){var n=/<%(?!%)[\s\S]+?%>/g;t.languages["markup-templating"].buildPlaceholders(r,"ejs",n)}),t.hooks.add("after-tokenize",function(r){t.languages["markup-templating"].tokenizePlaceholders(r,"ejs")}),t.languages.eta=t.languages.ejs})(e)}v2.displayName="elixir";v2.aliases=[];function v2(e){e.languages.elixir={doc:{pattern:/@(?:doc|moduledoc)\s+(?:("""|''')[\s\S]*?\1|("|')(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2)/,inside:{attribute:/^@\w+/,string:/['"][\s\S]+/}},comment:{pattern:/#.*/,greedy:!0},regex:{pattern:/~[rR](?:("""|''')(?:\\[\s\S]|(?!\1)[^\\])+\1|([\/|"'])(?:\\.|(?!\2)[^\\\r\n])+\2|\((?:\\.|[^\\)\r\n])+\)|\[(?:\\.|[^\\\]\r\n])+\]|\{(?:\\.|[^\\}\r\n])+\}|<(?:\\.|[^\\>\r\n])+>)[uismxfr]*/,greedy:!0},string:[{pattern:/~[cCsSwW](?:("""|''')(?:\\[\s\S]|(?!\1)[^\\])+\1|([\/|"'])(?:\\.|(?!\2)[^\\\r\n])+\2|\((?:\\.|[^\\)\r\n])+\)|\[(?:\\.|[^\\\]\r\n])+\]|\{(?:\\.|#\{[^}]+\}|#(?!\{)|[^#\\}\r\n])+\}|<(?:\\.|[^\\>\r\n])+>)[csa]?/,greedy:!0,inside:{}},{pattern:/("""|''')[\s\S]*?\1/,greedy:!0,inside:{}},{pattern:/("|')(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0,inside:{}}],atom:{pattern:/(^|[^:]):\w+/,lookbehind:!0,alias:"symbol"},module:{pattern:/\b[A-Z]\w*\b/,alias:"class-name"},"attr-name":/\b\w+\??:(?!:)/,argument:{pattern:/(^|[^&])&\d+/,lookbehind:!0,alias:"variable"},attribute:{pattern:/@\w+/,alias:"variable"},function:/\b[_a-zA-Z]\w*[?!]?(?:(?=\s*(?:\.\s*)?\()|(?=\/\d))/,number:/\b(?:0[box][a-f\d_]+|\d[\d_]*)(?:\.[\d_]+)?(?:e[+-]?[\d_]+)?\b/i,keyword:/\b(?:after|alias|and|case|catch|cond|def(?:callback|delegate|exception|impl|macro|module|n|np|p|protocol|struct)?|do|else|end|fn|for|if|import|not|or|quote|raise|require|rescue|try|unless|unquote|use|when)\b/,boolean:/\b(?:false|nil|true)\b/,operator:[/\bin\b|&&?|\|[|>]?|\\\\|::|\.\.\.?|\+\+?|-[->]?|<[-=>]|>=|!==?|\B!|=(?:==?|[>~])?|[*\/^]/,{pattern:/([^<])<(?!<)/,lookbehind:!0},{pattern:/([^>])>(?!>)/,lookbehind:!0}],punctuation:/<<|>>|[.,%\[\]{}()]/},e.languages.elixir.string.forEach(function(t){t.inside={interpolation:{pattern:/#\{[^}]+\}/,inside:{delimiter:{pattern:/^#\{|\}$/,alias:"punctuation"},rest:e.languages.elixir}}}})}S2.displayName="elm";S2.aliases=[];function S2(e){e.languages.elm={comment:/--.*|\{-[\s\S]*?-\}/,char:{pattern:/'(?:[^\\'\r\n]|\\(?:[abfnrtv\\']|\d+|x[0-9a-fA-F]+|u\{[0-9a-fA-F]+\}))'/,greedy:!0},string:[{pattern:/"""[\s\S]*?"""/,greedy:!0},{pattern:/"(?:[^\\"\r\n]|\\.)*"/,greedy:!0}],"import-statement":{pattern:/(^[\t ]*)import\s+[A-Z]\w*(?:\.[A-Z]\w*)*(?:\s+as\s+(?:[A-Z]\w*)(?:\.[A-Z]\w*)*)?(?:\s+exposing\s+)?/m,lookbehind:!0,inside:{keyword:/\b(?:as|exposing|import)\b/}},keyword:/\b(?:alias|as|case|else|exposing|if|in|infixl|infixr|let|module|of|then|type)\b/,builtin:/\b(?:abs|acos|always|asin|atan|atan2|ceiling|clamp|compare|cos|curry|degrees|e|flip|floor|fromPolar|identity|isInfinite|isNaN|logBase|max|min|negate|never|not|pi|radians|rem|round|sin|sqrt|tan|toFloat|toPolar|toString|truncate|turns|uncurry|xor)\b/,number:/\b(?:\d+(?:\.\d+)?(?:e[+-]?\d+)?|0x[0-9a-f]+)\b/i,operator:/\s\.\s|[+\-/*=.$<>:&|^?%#@~!]{2,}|[+\-/*=$<>:&|^?%#@~!]/,hvariable:/\b(?:[A-Z]\w*\.)*[a-z]\w*\b/,constant:/\b(?:[A-Z]\w*\.)*[A-Z]\w*\b/,punctuation:/[{}[\]|(),.:]/}}T2.displayName="etlua";T2.aliases=[];function T2(e){e.register(Km),e.register(rs),(function(t){t.languages.etlua={delimiter:{pattern:/^<%[-=]?|-?%>$/,alias:"punctuation"},"language-lua":{pattern:/[\s\S]+/,inside:t.languages.lua}},t.hooks.add("before-tokenize",function(r){var n=/<%[\s\S]+?%>/g;t.languages["markup-templating"].buildPlaceholders(r,"etlua",n)}),t.hooks.add("after-tokenize",function(r){t.languages["markup-templating"].tokenizePlaceholders(r,"etlua")})})(e)}w2.displayName="erb";w2.aliases=[];function w2(e){e.register(rs),e.register($u),(function(t){t.languages.erb={delimiter:{pattern:/^(\s*)<%=?|%>(?=\s*$)/,lookbehind:!0,alias:"punctuation"},ruby:{pattern:/\s*\S[\s\S]*/,alias:"language-ruby",inside:t.languages.ruby}},t.hooks.add("before-tokenize",function(r){var n=/<%=?(?:[^\r\n]|[\r\n](?!=begin)|[\r\n]=begin\s(?:[^\r\n]|[\r\n](?!=end))*[\r\n]=end)+?%>/g;t.languages["markup-templating"].buildPlaceholders(r,"erb",n)}),t.hooks.add("after-tokenize",function(r){t.languages["markup-templating"].tokenizePlaceholders(r,"erb")})})(e)}k2.displayName="erlang";k2.aliases=[];function k2(e){e.languages.erlang={comment:/%.+/,string:{pattern:/"(?:\\.|[^\\"\r\n])*"/,greedy:!0},"quoted-function":{pattern:/'(?:\\.|[^\\'\r\n])+'(?=\()/,alias:"function"},"quoted-atom":{pattern:/'(?:\\.|[^\\'\r\n])+'/,alias:"atom"},boolean:/\b(?:false|true)\b/,keyword:/\b(?:after|begin|case|catch|end|fun|if|of|receive|try|when)\b/,number:[/\$\\?./,/\b\d+#[a-z0-9]+/i,/(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i],function:/\b[a-z][\w@]*(?=\()/,variable:{pattern:/(^|[^@])(?:\b|\?)[A-Z_][\w@]*/,lookbehind:!0},operator:[/[=\/<>:]=|=[:\/]=|\+\+?|--?|[=*\/!]|\b(?:and|andalso|band|bnot|bor|bsl|bsr|bxor|div|not|or|orelse|rem|xor)\b/,{pattern:/(^|[^<])<(?!<)/,lookbehind:!0},{pattern:/(^|[^>])>(?!>)/,lookbehind:!0}],atom:/\b[a-z][\w@]*/,punctuation:/[()[\]{}:;,.#|]|<<|>>/}}C2.displayName="excel-formula";C2.aliases=["xls","xlsx"];function C2(e){e.languages["excel-formula"]={comment:{pattern:/(\bN\(\s*)"(?:[^"]|"")*"(?=\s*\))/i,lookbehind:!0,greedy:!0},string:{pattern:/"(?:[^"]|"")*"(?!")/,greedy:!0},reference:{pattern:/(?:'[^']*'|(?:[^\s()[\]{}<>*?"';,$&]*\[[^^\s()[\]{}<>*?"']+\])?\w+)!/,greedy:!0,alias:"string",inside:{operator:/!$/,punctuation:/'/,sheet:{pattern:/[^[\]]+$/,alias:"function"},file:{pattern:/\[[^[\]]+\]$/,inside:{punctuation:/[[\]]/}},path:/[\s\S]+/}},"function-name":{pattern:/\b[A-Z]\w*(?=\()/i,alias:"builtin"},range:{pattern:/\$?\b(?:[A-Z]+\$?\d+:\$?[A-Z]+\$?\d+|[A-Z]+:\$?[A-Z]+|\d+:\$?\d+)\b/i,alias:"selector",inside:{operator:/:/,cell:/\$?[A-Z]+\$?\d+/i,column:/\$?[A-Z]+/i,row:/\$?\d+/}},cell:{pattern:/\b[A-Z]+\d+\b|\$[A-Za-z]+\$?\d+\b|\b[A-Za-z]+\$\d+\b/,alias:"selector"},number:/(?:\b\d+(?:\.\d+)?|\B\.\d+)(?:e[+-]?\d+)?\b/i,boolean:/\b(?:FALSE|TRUE)\b/i,operator:/[-+*/^%=&,]|<[=>]?|>=?/,punctuation:/[[\]();{}|]/},e.languages.xlsx=e.languages.xls=e.languages["excel-formula"]}_2.displayName="fsharp";_2.aliases=[];function _2(e){e.register(Kr),e.languages.fsharp=e.languages.extend("clike",{comment:[{pattern:/(^|[^\\])\(\*(?!\))[\s\S]*?\*\)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(?:"""[\s\S]*?"""|@"(?:""|[^"])*"|"(?:\\[\s\S]|[^\\"])*")B?/,greedy:!0},"class-name":{pattern:/(\b(?:exception|inherit|interface|new|of|type)\s+|\w\s*:\s*|\s:\??>\s*)[.\w]+\b(?:\s*(?:->|\*)\s*[.\w]+\b)*(?!\s*[:.])/,lookbehind:!0,inside:{operator:/->|\*/,punctuation:/\./}},keyword:/\b(?:let|return|use|yield)(?:!\B|\b)|\b(?:abstract|and|as|asr|assert|atomic|base|begin|break|checked|class|component|const|constraint|constructor|continue|default|delegate|do|done|downcast|downto|eager|elif|else|end|event|exception|extern|external|false|finally|fixed|for|fun|function|functor|global|if|in|include|inherit|inline|interface|internal|land|lazy|lor|lsl|lsr|lxor|match|member|method|mixin|mod|module|mutable|namespace|new|not|null|object|of|open|or|override|parallel|private|process|protected|public|pure|rec|sealed|select|sig|static|struct|tailcall|then|to|trait|true|try|type|upcast|val|virtual|void|volatile|when|while|with)\b/,number:[/\b0x[\da-fA-F]+(?:LF|lf|un)?\b/,/\b0b[01]+(?:uy|y)?\b/,/(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:[fm]|e[+-]?\d+)?\b/i,/\b\d+(?:[IlLsy]|UL|u[lsy]?)?\b/],operator:/([<>~&^])\1\1|([*.:<>&])\2|<-|->|[!=:]=|<?\|{1,3}>?|\??(?:<=|>=|<>|[-+*/%=<>])\??|[!?^&]|~[+~-]|:>|:\?>?/}),e.languages.insertBefore("fsharp","keyword",{preprocessor:{pattern:/(^[\t ]*)#.*/m,lookbehind:!0,alias:"property",inside:{directive:{pattern:/(^#)\b(?:else|endif|if|light|line|nowarn)\b/,lookbehind:!0,alias:"keyword"}}}}),e.languages.insertBefore("fsharp","punctuation",{"computation-expression":{pattern:/\b[_a-z]\w*(?=\s*\{)/i,alias:"keyword"}}),e.languages.insertBefore("fsharp","string",{annotation:{pattern:/\[<.+?>\]/,greedy:!0,inside:{punctuation:/^\[<|>\]$/,"class-name":{pattern:/^\w+$|(^|;\s*)[A-Z]\w*(?=\()/,lookbehind:!0},"annotation-content":{pattern:/[\s\S]+/,inside:e.languages.fsharp}}},char:{pattern:/'(?:[^\\']|\\(?:.|\d{3}|x[a-fA-F\d]{2}|u[a-fA-F\d]{4}|U[a-fA-F\d]{8}))'B?/,greedy:!0}})}A2.displayName="factor";A2.aliases=[];function A2(e){(function(t){var r={function:/\b(?:BUGS?|FIX(?:MES?)?|NOTES?|TODOS?|XX+|HACKS?|WARN(?:ING)?|\?{2,}|!{2,})\b/},n={number:/\\[^\s']|%\w/},a={comment:[{pattern:/(^|\s)(?:! .*|!$)/,lookbehind:!0,inside:r},{pattern:/(^|\s)\/\*\s[\s\S]*?\*\/(?=\s|$)/,lookbehind:!0,greedy:!0,inside:r},{pattern:/(^|\s)!\[(={0,6})\[\s[\s\S]*?\]\2\](?=\s|$)/,lookbehind:!0,greedy:!0,inside:r}],number:[{pattern:/(^|\s)[+-]?\d+(?=\s|$)/,lookbehind:!0},{pattern:/(^|\s)[+-]?0(?:b[01]+|o[0-7]+|d\d+|x[\dA-F]+)(?=\s|$)/i,lookbehind:!0},{pattern:/(^|\s)[+-]?\d+\/\d+\.?(?=\s|$)/,lookbehind:!0},{pattern:/(^|\s)\+?\d+\+\d+\/\d+(?=\s|$)/,lookbehind:!0},{pattern:/(^|\s)-\d+-\d+\/\d+(?=\s|$)/,lookbehind:!0},{pattern:/(^|\s)[+-]?(?:\d*\.\d+|\d+\.\d*|\d+)(?:e[+-]?\d+)?(?=\s|$)/i,lookbehind:!0},{pattern:/(^|\s)NAN:\s+[\da-fA-F]+(?=\s|$)/,lookbehind:!0},{pattern:/(^|\s)[+-]?0(?:b1\.[01]*|o1\.[0-7]*|d1\.\d*|x1\.[\dA-F]*)p\d+(?=\s|$)/i,lookbehind:!0}],regexp:{pattern:/(^|\s)R\/\s(?:\\\S|[^\\/])*\/(?:[idmsr]*|[idmsr]+-[idmsr]+)(?=\s|$)/,lookbehind:!0,alias:"number",inside:{variable:/\\\S/,keyword:/[+?*\[\]^$(){}.|]/,operator:{pattern:/(\/)[idmsr]+(?:-[idmsr]+)?/,lookbehind:!0}}},boolean:{pattern:/(^|\s)[tf](?=\s|$)/,lookbehind:!0},"custom-string":{pattern:/(^|\s)[A-Z0-9\-]+"\s(?:\\\S|[^"\\])*"/,lookbehind:!0,greedy:!0,alias:"string",inside:{number:/\\\S|%\w|\//}},"multiline-string":[{pattern:/(^|\s)STRING:\s+\S+(?:\n|\r\n).*(?:\n|\r\n)\s*;(?=\s|$)/,lookbehind:!0,greedy:!0,alias:"string",inside:{number:n.number,"semicolon-or-setlocal":{pattern:/([\r\n][ \t]*);(?=\s|$)/,lookbehind:!0,alias:"function"}}},{pattern:/(^|\s)HEREDOC:\s+\S+(?:\n|\r\n).*(?:\n|\r\n)\s*\S+(?=\s|$)/,lookbehind:!0,greedy:!0,alias:"string",inside:n},{pattern:/(^|\s)\[(={0,6})\[\s[\s\S]*?\]\2\](?=\s|$)/,lookbehind:!0,greedy:!0,alias:"string",inside:n}],"special-using":{pattern:/(^|\s)USING:(?:\s\S+)*(?=\s+;(?:\s|$))/,lookbehind:!0,alias:"function",inside:{string:{pattern:/(\s)[^:\s]+/,lookbehind:!0}}},"stack-effect-delimiter":[{pattern:/(^|\s)(?:call|eval|execute)?\((?=\s)/,lookbehind:!0,alias:"operator"},{pattern:/(\s)--(?=\s)/,lookbehind:!0,alias:"operator"},{pattern:/(\s)\)(?=\s|$)/,lookbehind:!0,alias:"operator"}],combinators:{pattern:null,lookbehind:!0,alias:"keyword"},"kernel-builtin":{pattern:null,lookbehind:!0,alias:"variable"},"sequences-builtin":{pattern:null,lookbehind:!0,alias:"variable"},"math-builtin":{pattern:null,lookbehind:!0,alias:"variable"},"constructor-word":{pattern:/(^|\s)<(?!=+>|-+>)\S+>(?=\s|$)/,lookbehind:!0,alias:"keyword"},"other-builtin-syntax":{pattern:null,lookbehind:!0,alias:"operator"},"conventionally-named-word":{pattern:/(^|\s)(?!")(?:(?:change|new|set|with)-\S+|\$\S+|>[^>\s]+|[^:>\s]+>|[^>\s]+>[^>\s]+|\+[^+\s]+\+|[^?\s]+\?|\?[^?\s]+|[^>\s]+>>|>>[^>\s]+|[^<\s]+<<|\([^()\s]+\)|[^!\s]+!|[^*\s]\S*\*|[^.\s]\S*\.)(?=\s|$)/,lookbehind:!0,alias:"keyword"},"colon-syntax":{pattern:/(^|\s)(?:[A-Z0-9\-]+#?)?:{1,2}\s+(?:;\S+|(?!;)\S+)(?=\s|$)/,lookbehind:!0,greedy:!0,alias:"function"},"semicolon-or-setlocal":{pattern:/(\s)(?:;|:>)(?=\s|$)/,lookbehind:!0,alias:"function"},"curly-brace-literal-delimiter":[{pattern:/(^|\s)[a-z]*\{(?=\s)/i,lookbehind:!0,alias:"operator"},{pattern:/(\s)\}(?=\s|$)/,lookbehind:!0,alias:"operator"}],"quotation-delimiter":[{pattern:/(^|\s)\[(?=\s)/,lookbehind:!0,alias:"operator"},{pattern:/(\s)\](?=\s|$)/,lookbehind:!0,alias:"operator"}],"normal-word":{pattern:/(^|\s)[^"\s]\S*(?=\s|$)/,lookbehind:!0},string:{pattern:/"(?:\\\S|[^"\\])*"/,greedy:!0,inside:n}},i=function(d){return(d+"").replace(/([.?*+\^$\[\]\\(){}|\-])/g,"\\$1")},o=function(d){return new RegExp("(^|\\s)(?:"+d.map(i).join("|")+")(?=\\s|$)")},l={"kernel-builtin":["or","2nipd","4drop","tuck","wrapper","nip","wrapper?","callstack>array","die","dupd","callstack","callstack?","3dup","hashcode","pick","4nip","build",">boolean","nipd","clone","5nip","eq?","?","=","swapd","2over","clear","2dup","get-retainstack","not","tuple?","dup","3nipd","call","-rotd","object","drop","assert=","assert?","-rot","execute","boa","get-callstack","curried?","3drop","pickd","overd","over","roll","3nip","swap","and","2nip","rotd","throw","(clone)","hashcode*","spin","reach","4dup","equal?","get-datastack","assert","2drop","<wrapper>","boolean?","identity-hashcode","identity-tuple?","null","composed?","new","5drop","rot","-roll","xor","identity-tuple","boolean"],"other-builtin-syntax":["=======","recursive","flushable",">>","<<<<<<","M\\","B","PRIVATE>","\\","======","final","inline","delimiter","deprecated","<PRIVATE",">>>>>>","<<<<<<<","parse-complex","malformed-complex","read-only",">>>>>>>","call-next-method","<<","foldable","$","$[","${"],"sequences-builtin":["member-eq?","mismatch","append","assert-sequence=","longer","repetition","clone-like","3sequence","assert-sequence?","last-index-from","reversed","index-from","cut*","pad-tail","join-as","remove-eq!","concat-as","but-last","snip","nths","nth","sequence","longest","slice?","<slice>","remove-nth","tail-slice","empty?","tail*","member?","virtual-sequence?","set-length","drop-prefix","iota","unclip","bounds-error?","unclip-last-slice","non-negative-integer-expected","non-negative-integer-expected?","midpoint@","longer?","?set-nth","?first","rest-slice","prepend-as","prepend","fourth","sift","subseq-start","new-sequence","?last","like","first4","1sequence","reverse","slice","virtual@","repetition?","set-last","index","4sequence","max-length","set-second","immutable-sequence","first2","first3","supremum","unclip-slice","suffix!","insert-nth","tail","3append","short","suffix","concat","flip","immutable?","reverse!","2sequence","sum","delete-all","indices","snip-slice","<iota>","check-slice","sequence?","head","append-as","halves","sequence=","collapse-slice","?second","slice-error?","product","bounds-check?","bounds-check","immutable","virtual-exemplar","harvest","remove","pad-head","last","set-fourth","cartesian-product","remove-eq","shorten","shorter","reversed?","shorter?","shortest","head-slice","pop*","tail-slice*","but-last-slice","iota?","append!","cut-slice","new-resizable","head-slice*","sequence-hashcode","pop","set-nth","?nth","second","join","immutable-sequence?","<reversed>","3append-as","virtual-sequence","subseq?","remove-nth!","length","last-index","lengthen","assert-sequence","copy","move","third","first","tail?","set-first","prefix","bounds-error","<repetition>","exchange","surround","cut","min-length","set-third","push-all","head?","subseq-start-from","delete-slice","rest","sum-lengths","head*","infimum","remove!","glue","slice-error","subseq","push","replace-slice","subseq-as","unclip-last"],"math-builtin":["number=","next-power-of-2","?1+","fp-special?","imaginary-part","float>bits","number?","fp-infinity?","bignum?","fp-snan?","denominator","gcd","*","+","fp-bitwise=","-","u>=","/",">=","bitand","power-of-2?","log2-expects-positive","neg?","<","log2",">","integer?","number","bits>double","2/","zero?","bits>float","float?","shift","ratio?","rect>","even?","ratio","fp-sign","bitnot",">fixnum","complex?","/i","integer>fixnum","/f","sgn",">bignum","next-float","u<","u>","mod","recip","rational",">float","2^","integer","fixnum?","neg","fixnum","sq","bignum",">rect","bit?","fp-qnan?","simple-gcd","complex","<fp-nan>","real",">fraction","double>bits","bitor","rem","fp-nan-payload","real-part","log2-expects-positive?","prev-float","align","unordered?","float","fp-nan?","abs","bitxor","integer>fixnum-strict","u<=","odd?","<=","/mod",">integer","real?","rational?","numerator"]};Object.keys(l).forEach(function(d){a[d].pattern=o(l[d])});var u=["2bi","while","2tri","bi*","4dip","both?","same?","tri@","curry","prepose","3bi","?if","tri*","2keep","3keep","curried","2keepd","when","2bi*","2tri*","4keep","bi@","keepdd","do","unless*","tri-curry","if*","loop","bi-curry*","when*","2bi@","2tri@","with","2with","either?","bi","until","3dip","3curry","tri-curry*","tri-curry@","bi-curry","keepd","compose","2dip","if","3tri","unless","tuple","keep","2curry","tri","most","while*","dip","composed","bi-curry@","find-last-from","trim-head-slice","map-as","each-from","none?","trim-tail","partition","if-empty","accumulate*","reject!","find-from","accumulate-as","collector-for-as","reject","map","map-sum","accumulate!","2each-from","follow","supremum-by","map!","unless-empty","collector","padding","reduce-index","replicate-as","infimum-by","trim-tail-slice","count","find-index","filter","accumulate*!","reject-as","map-integers","map-find","reduce","selector","interleave","2map","filter-as","binary-reduce","map-index-as","find","produce","filter!","replicate","cartesian-map","cartesian-each","find-index-from","map-find-last","3map-as","3map","find-last","selector-as","2map-as","2map-reduce","accumulate","each","each-index","accumulate*-as","when-empty","all?","collector-as","push-either","new-like","collector-for","2selector","push-if","2all?","map-reduce","3each","any?","trim-slice","2reduce","change-nth","produce-as","2each","trim","trim-head","cartesian-find","map-index","if-zero","each-integer","unless-zero","(find-integer)","when-zero","find-last-integer","(all-integers?)","times","(each-integer)","find-integer","all-integers?","unless-negative","if-positive","when-positive","when-negative","unless-positive","if-negative","case","2cleave","cond>quot","case>quot","3cleave","wrong-values","to-fixed-point","alist>quot","cond","cleave","call-effect","recursive-hashcode","spread","deep-spread>quot","2||","0||","n||","0&&","2&&","3||","1||","1&&","n&&","3&&","smart-unless*","keep-inputs","reduce-outputs","smart-when*","cleave>array","smart-with","smart-apply","smart-if","inputs/outputs","output>sequence-n","map-outputs","map-reduce-outputs","dropping","output>array","smart-map-reduce","smart-2map-reduce","output>array-n","nullary","input<sequence","append-outputs","drop-inputs","inputs","smart-2reduce","drop-outputs","smart-reduce","preserving","smart-when","outputs","append-outputs-as","smart-unless","smart-if*","sum-outputs","input<sequence-unsafe","output>sequence"];a.combinators.pattern=o(u),t.languages.factor=a})(e)}N2.displayName="false";N2.aliases=[];function N2(e){(function(t){t.languages.false={comment:{pattern:/\{[^}]*\}/},string:{pattern:/"[^"]*"/,greedy:!0},"character-code":{pattern:/'(?:[^\r]|\r\n?)/,alias:"number"},"assembler-code":{pattern:/\d+`/,alias:"important"},number:/\d+/,operator:/[-!#$%&'*+,./:;=>?@\\^_`|~]/,punctuation:/\[|\]/,variable:/[a-z]/,"non-standard":{pattern:/[()<BDO]/,alias:"bold"}}})(e)}I2.displayName="firestore-security-rules";I2.aliases=[];function I2(e){e.register(Kr),e.languages["firestore-security-rules"]=e.languages.extend("clike",{comment:/\/\/.*/,keyword:/\b(?:allow|function|if|match|null|return|rules_version|service)\b/,operator:/&&|\|\||[<>!=]=?|[-+*/%]|\b(?:in|is)\b/}),delete e.languages["firestore-security-rules"]["class-name"],e.languages.insertBefore("firestore-security-rules","keyword",{path:{pattern:/(^|[\s(),])(?:\/(?:[\w\xA0-\uFFFF]+|\{[\w\xA0-\uFFFF]+(?:=\*\*)?\}|\$\([\w\xA0-\uFFFF.]+\)))+/,lookbehind:!0,greedy:!0,inside:{variable:{pattern:/\{[\w\xA0-\uFFFF]+(?:=\*\*)?\}|\$\([\w\xA0-\uFFFF.]+\)/,inside:{operator:/=/,keyword:/\*\*/,punctuation:/[.$(){}]/}},punctuation:/\//}},method:{pattern:/(\ballow\s+)[a-z]+(?:\s*,\s*[a-z]+)*(?=\s*[:;])/,lookbehind:!0,alias:"builtin",inside:{punctuation:/,/}}})}R2.displayName="flow";R2.aliases=[];function R2(e){e.register(ts),(function(t){t.languages.flow=t.languages.extend("javascript",{}),t.languages.insertBefore("flow","keyword",{type:[{pattern:/\b(?:[Bb]oolean|Function|[Nn]umber|[Ss]tring|[Ss]ymbol|any|mixed|null|void)\b/,alias:"class-name"}]}),t.languages.flow["function-variable"].pattern=/(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=\s*(?:function\b|(?:\([^()]*\)(?:\s*:\s*\w+)?|(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/i,delete t.languages.flow.parameter,t.languages.insertBefore("flow","operator",{"flow-punctuation":{pattern:/\{\||\|\}/,alias:"punctuation"}}),Array.isArray(t.languages.flow.keyword)||(t.languages.flow.keyword=[t.languages.flow.keyword]),t.languages.flow.keyword.unshift({pattern:/(^|[^$]\b)(?:Class|declare|opaque|type)\b(?!\$)/,lookbehind:!0},{pattern:/(^|[^$]\B)\$(?:Diff|Enum|Exact|Keys|ObjMap|PropertyType|Record|Shape|Subtype|Supertype|await)\b(?!\$)/,lookbehind:!0})})(e)}D2.displayName="fortran";D2.aliases=[];function D2(e){e.languages.fortran={"quoted-number":{pattern:/[BOZ](['"])[A-F0-9]+\1/i,alias:"number"},string:{pattern:/(?:\b\w+_)?(['"])(?:\1\1|&(?:\r\n?|\n)(?:[ \t]*!.*(?:\r\n?|\n)|(?![ \t]*!))|(?!\1).)*(?:\1|&)/,inside:{comment:{pattern:/(&(?:\r\n?|\n)\s*)!.*/,lookbehind:!0}}},comment:{pattern:/!.*/,greedy:!0},boolean:/\.(?:FALSE|TRUE)\.(?:_\w+)?/i,number:/(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:[ED][+-]?\d+)?(?:_\w+)?/i,keyword:[/\b(?:CHARACTER|COMPLEX|DOUBLE ?PRECISION|INTEGER|LOGICAL|REAL)\b/i,/\b(?:END ?)?(?:BLOCK ?DATA|DO|FILE|FORALL|FUNCTION|IF|INTERFACE|MODULE(?! PROCEDURE)|PROGRAM|SELECT|SUBROUTINE|TYPE|WHERE)\b/i,/\b(?:ALLOCATABLE|ALLOCATE|BACKSPACE|CALL|CASE|CLOSE|COMMON|CONTAINS|CONTINUE|CYCLE|DATA|DEALLOCATE|DIMENSION|DO|END|EQUIVALENCE|EXIT|EXTERNAL|FORMAT|GO ?TO|IMPLICIT(?: NONE)?|INQUIRE|INTENT|INTRINSIC|MODULE PROCEDURE|NAMELIST|NULLIFY|OPEN|OPTIONAL|PARAMETER|POINTER|PRINT|PRIVATE|PUBLIC|READ|RETURN|REWIND|SAVE|SELECT|STOP|TARGET|WHILE|WRITE)\b/i,/\b(?:ASSIGNMENT|DEFAULT|ELEMENTAL|ELSE|ELSEIF|ELSEWHERE|ENTRY|IN|INCLUDE|INOUT|KIND|NULL|ONLY|OPERATOR|OUT|PURE|RECURSIVE|RESULT|SEQUENCE|STAT|THEN|USE)\b/i],operator:[/\*\*|\/\/|=>|[=\/]=|[<>]=?|::|[+\-*=%]|\.[A-Z]+\./i,{pattern:/(^|(?!\().)\/(?!\))/,lookbehind:!0}],punctuation:/\(\/|\/\)|[(),;:&]/}}L2.displayName="ftl";L2.aliases=[];function L2(e){e.register(rs),(function(t){for(var r=/[^<()"']|\((?:<expr>)*\)|<(?!#--)|<#--(?:[^-]|-(?!->))*-->|"(?:[^\\"]|\\.)*"|'(?:[^\\']|\\.)*'/.source,n=0;n<2;n++)r=r.replace(/<expr>/g,function(){return r});r=r.replace(/<expr>/g,/[^\s\S]/.source);var a={comment:/<#--[\s\S]*?-->/,string:[{pattern:/\br("|')(?:(?!\1)[^\\]|\\.)*\1/,greedy:!0},{pattern:RegExp(/("|')(?:(?!\1|\$\{)[^\\]|\\.|\$\{(?:(?!\})(?:<expr>))*\})*\1/.source.replace(/<expr>/g,function(){return r})),greedy:!0,inside:{interpolation:{pattern:RegExp(/((?:^|[^\\])(?:\\\\)*)\$\{(?:(?!\})(?:<expr>))*\}/.source.replace(/<expr>/g,function(){return r})),lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:null}}}}],keyword:/\b(?:as)\b/,boolean:/\b(?:false|true)\b/,"builtin-function":{pattern:/((?:^|[^?])\?\s*)\w+/,lookbehind:!0,alias:"function"},function:/\b\w+(?=\s*\()/,number:/\b\d+(?:\.\d+)?\b/,operator:/\.\.[<*!]?|->|--|\+\+|&&|\|\||\?{1,2}|[-+*/%!=<>]=?|\b(?:gt|gte|lt|lte)\b/,punctuation:/[,;.:()[\]{}]/};a.string[1].inside.interpolation.inside.rest=a,t.languages.ftl={"ftl-comment":{pattern:/^<#--[\s\S]*/,alias:"comment"},"ftl-directive":{pattern:/^<[\s\S]+>$/,inside:{directive:{pattern:/(^<\/?)[#@][a-z]\w*/i,lookbehind:!0,alias:"keyword"},punctuation:/^<\/?|\/?>$/,content:{pattern:/\s*\S[\s\S]*/,alias:"ftl",inside:a}}},"ftl-interpolation":{pattern:/^\$\{[\s\S]*\}$/,inside:{punctuation:/^\$\{|\}$/,content:{pattern:/\s*\S[\s\S]*/,alias:"ftl",inside:a}}}},t.hooks.add("before-tokenize",function(i){var o=RegExp(/<#--[\s\S]*?-->|<\/?[#@][a-zA-Z](?:<expr>)*?>|\$\{(?:<expr>)*?\}/.source.replace(/<expr>/g,function(){return r}),"gi");t.languages["markup-templating"].buildPlaceholders(i,"ftl",o)}),t.hooks.add("after-tokenize",function(i){t.languages["markup-templating"].tokenizePlaceholders(i,"ftl")})})(e)}O2.displayName="gml";O2.aliases=["gamemakerlanguage"];function O2(e){e.register(Kr),e.languages.gamemakerlanguage=e.languages.gml=e.languages.extend("clike",{keyword:/\b(?:break|case|continue|default|do|else|enum|exit|for|globalvar|if|repeat|return|switch|until|var|while)\b/,number:/(?:\b0x[\da-f]+|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?)[ulf]{0,4}/i,operator:/--|\+\+|[-+%/=]=?|!=|\*\*?=?|<[<=>]?|>[=>]?|&&?|\^\^?|\|\|?|~|\b(?:and|at|not|or|with|xor)\b/,constant:/\b(?:GM_build_date|GM_version|action_(?:continue|restart|reverse|stop)|all|gamespeed_(?:fps|microseconds)|global|local|noone|other|pi|pointer_(?:invalid|null)|self|timezone_(?:local|utc)|undefined|ev_(?:create|destroy|step|alarm|keyboard|mouse|collision|other|draw|draw_(?:begin|end|post|pre)|keypress|keyrelease|trigger|(?:left|middle|no|right)_button|(?:left|middle|right)_press|(?:left|middle|right)_release|mouse_(?:enter|leave|wheel_down|wheel_up)|global_(?:left|middle|right)_button|global_(?:left|middle|right)_press|global_(?:left|middle|right)_release|joystick(?:1|2)_(?:button1|button2|button3|button4|button5|button6|button7|button8|down|left|right|up)|outside|boundary|game_start|game_end|room_start|room_end|no_more_lives|animation_end|end_of_path|no_more_health|user\d|gui|gui_begin|gui_end|step_(?:begin|end|normal))|vk_(?:alt|anykey|backspace|control|delete|down|end|enter|escape|home|insert|left|nokey|pagedown|pageup|pause|printscreen|return|right|shift|space|tab|up|f\d|numpad\d|add|decimal|divide|lalt|lcontrol|lshift|multiply|ralt|rcontrol|rshift|subtract)|achievement_(?:filter_(?:all_players|favorites_only|friends_only)|friends_info|info|leaderboard_info|our_info|pic_loaded|show_(?:achievement|bank|friend_picker|leaderboard|profile|purchase_prompt|ui)|type_challenge|type_score_challenge)|asset_(?:font|object|path|room|script|shader|sound|sprite|tiles|timeline|unknown)|audio_(?:3d|falloff_(?:exponent_distance|exponent_distance_clamped|inverse_distance|inverse_distance_clamped|linear_distance|linear_distance_clamped|none)|mono|new_system|old_system|stereo)|bm_(?:add|complex|dest_alpha|dest_color|dest_colour|inv_dest_alpha|inv_dest_color|inv_dest_colour|inv_src_alpha|inv_src_color|inv_src_colour|max|normal|one|src_alpha|src_alpha_sat|src_color|src_colour|subtract|zero)|browser_(?:chrome|firefox|ie|ie_mobile|not_a_browser|opera|safari|safari_mobile|tizen|unknown|windows_store)|buffer_(?:bool|f16|f32|f64|fast|fixed|generalerror|grow|invalidtype|network|outofbounds|outofspace|s16|s32|s8|seek_end|seek_relative|seek_start|string|text|u16|u32|u64|u8|vbuffer|wrap)|c_(?:aqua|black|blue|dkgray|fuchsia|gray|green|lime|ltgray|maroon|navy|olive|orange|purple|red|silver|teal|white|yellow)|cmpfunc_(?:always|equal|greater|greaterequal|less|lessequal|never|notequal)|cr_(?:appstart|arrow|beam|cross|default|drag|handpoint|hourglass|none|size_all|size_nesw|size_ns|size_nwse|size_we|uparrow)|cull_(?:clockwise|counterclockwise|noculling)|device_(?:emulator|tablet)|device_ios_(?:ipad|ipad_retina|iphone|iphone5|iphone6|iphone6plus|iphone_retina|unknown)|display_(?:landscape|landscape_flipped|portrait|portrait_flipped)|dll_(?:cdecl|cdel|stdcall)|ds_type_(?:grid|list|map|priority|queue|stack)|ef_(?:cloud|ellipse|explosion|firework|flare|rain|ring|smoke|smokeup|snow|spark|star)|fa_(?:archive|bottom|center|directory|hidden|left|middle|readonly|right|sysfile|top|volumeid)|fb_login_(?:default|fallback_to_webview|forcing_safari|forcing_webview|no_fallback_to_webview|use_system_account)|iap_(?:available|canceled|ev_consume|ev_product|ev_purchase|ev_restore|ev_storeload|failed|purchased|refunded|status_available|status_loading|status_processing|status_restoring|status_unavailable|status_uninitialised|storeload_failed|storeload_ok|unavailable)|leaderboard_type_(?:number|time_mins_secs)|lighttype_(?:dir|point)|matrix_(?:projection|view|world)|mb_(?:any|left|middle|none|right)|network_(?:config_(?:connect_timeout|disable_reliable_udp|enable_reliable_udp|use_non_blocking_socket)|socket_(?:bluetooth|tcp|udp)|type_(?:connect|data|disconnect|non_blocking_connect))|of_challenge_(?:lose|tie|win)|os_(?:android|ios|linux|macosx|ps3|ps4|psvita|unknown|uwp|win32|win8native|windows|winphone|xboxone)|phy_debug_render_(?:aabb|collision_pairs|coms|core_shapes|joints|obb|shapes)|phy_joint_(?:anchor_1_x|anchor_1_y|anchor_2_x|anchor_2_y|angle|angle_limits|damping_ratio|frequency|length_1|length_2|lower_angle_limit|max_force|max_length|max_motor_force|max_motor_torque|max_torque|motor_force|motor_speed|motor_torque|reaction_force_x|reaction_force_y|reaction_torque|speed|translation|upper_angle_limit)|phy_particle_data_flag_(?:category|color|colour|position|typeflags|velocity)|phy_particle_flag_(?:colormixing|colourmixing|elastic|powder|spring|tensile|viscous|wall|water|zombie)|phy_particle_group_flag_(?:rigid|solid)|pr_(?:linelist|linestrip|pointlist|trianglefan|trianglelist|trianglestrip)|ps_(?:distr|shape)_(?:diamond|ellipse|gaussian|invgaussian|line|linear|rectangle)|pt_shape_(?:circle|cloud|disk|explosion|flare|line|pixel|ring|smoke|snow|spark|sphere|square|star)|ty_(?:real|string)|gp_(?:face\d|axislh|axislv|axisrh|axisrv|padd|padl|padr|padu|select|shoulderl|shoulderlb|shoulderr|shoulderrb|start|stickl|stickr)|lb_disp_(?:none|numeric|time_ms|time_sec)|lb_sort_(?:ascending|descending|none)|ov_(?:achievements|community|friends|gamegroup|players|settings)|ugc_(?:filetype_(?:community|microtrans)|list_(?:Favorited|Followed|Published|Subscribed|UsedOrPlayed|VotedDown|VotedOn|VotedUp|WillVoteLater)|match_(?:AllGuides|Artwork|Collections|ControllerBindings|IntegratedGuides|Items|Items_Mtx|Items_ReadyToUse|Screenshots|UsableInGame|Videos|WebGuides)|query_(?:AcceptedForGameRankedByAcceptanceDate|CreatedByFriendsRankedByPublicationDate|FavoritedByFriendsRankedByPublicationDate|NotYetRated)|query_RankedBy(?:NumTimesReported|PublicationDate|TextSearch|TotalVotesAsc|Trend|Vote|VotesUp)|result_success|sortorder_CreationOrder(?:Asc|Desc)|sortorder_(?:ForModeration|LastUpdatedDesc|SubscriptionDateDesc|TitleAsc|VoteScoreDesc)|visibility_(?:friends_only|private|public))|vertex_usage_(?:binormal|blendindices|blendweight|color|colour|depth|fog|normal|position|psize|sample|tangent|texcoord|textcoord)|vertex_type_(?:float\d|color|colour|ubyte4)|input_type|layerelementtype_(?:background|instance|oldtilemap|particlesystem|sprite|tile|tilemap|undefined)|se_(?:chorus|compressor|echo|equalizer|flanger|gargle|none|reverb)|text_type|tile_(?:flip|index_mask|mirror|rotate)|(?:obj|rm|scr|spr)\w+)\b/,variable:/\b(?:alarm|application_surface|async_load|background_(?:alpha|blend|color|colour|foreground|height|hspeed|htiled|index|showcolor|showcolour|visible|vspeed|vtiled|width|x|xscale|y|yscale)|bbox_(?:bottom|left|right|top)|browser_(?:height|width)|caption_(?:health|lives|score)|current_(?:day|hour|minute|month|second|time|weekday|year)|cursor_sprite|debug_mode|delta_time|direction|display_aa|error_(?:last|occurred)|event_(?:action|number|object|type)|fps|fps_real|friction|game_(?:display|project|save)_(?:id|name)|gamemaker_(?:pro|registered|version)|gravity|gravity_direction|(?:h|v)speed|health|iap_data|id|image_(?:alpha|angle|blend|depth|index|number|speed|xscale|yscale)|instance_(?:count|id)|keyboard_(?:key|lastchar|lastkey|string)|layer|lives|mask_index|mouse_(?:button|lastbutton|x|y)|object_index|os_(?:browser|device|type|version)|path_(?:endaction|index|orientation|position|positionprevious|scale|speed)|persistent|phy_(?:rotation|(?:col_normal|collision|com|linear_velocity|position|speed)_(?:x|y)|angular_(?:damping|velocity)|position_(?:x|y)previous|speed|linear_damping|bullet|fixed_rotation|active|mass|inertia|dynamic|kinematic|sleeping|collision_points)|pointer_(?:invalid|null)|room|room_(?:caption|first|height|last|persistent|speed|width)|score|secure_mode|show_(?:health|lives|score)|solid|speed|sprite_(?:height|index|width|xoffset|yoffset)|temp_directory|timeline_(?:index|loop|position|running|speed)|transition_(?:color|kind|steps)|undefined|view_(?:angle|current|enabled|(?:h|v)(?:border|speed)|(?:h|w|x|y)port|(?:h|w|x|y)view|object|surface_id|visible)|visible|webgl_enabled|working_directory|(?:x|y)(?:previous|start)|x|y|argument(?:_relitive|_count|\d)|argument|global|local|other|self)\b/})}M2.displayName="gap";M2.aliases=[];function M2(e){e.languages.gap={shell:{pattern:/^gap>[\s\S]*?(?=^gap>|$(?![\s\S]))/m,greedy:!0,inside:{gap:{pattern:/^(gap>).+(?:(?:\r(?:\n|(?!\n))|\n)>.*)*/,lookbehind:!0,inside:null},punctuation:/^gap>/}},comment:{pattern:/#.*/,greedy:!0},string:{pattern:/(^|[^\\'"])(?:'(?:[^\r\n\\']|\\.){1,10}'|"(?:[^\r\n\\"]|\\.)*"(?!")|"""[\s\S]*?""")/,lookbehind:!0,greedy:!0,inside:{continuation:{pattern:/([\r\n])>/,lookbehind:!0,alias:"punctuation"}}},keyword:/\b(?:Assert|Info|IsBound|QUIT|TryNextMethod|Unbind|and|atomic|break|continue|do|elif|else|end|fi|for|function|if|in|local|mod|not|od|or|quit|readonly|readwrite|rec|repeat|return|then|until|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b[a-z_]\w*(?=\s*\()/i,number:{pattern:/(^|[^\w.]|\.\.)(?:\d+(?:\.\d*)?|\.\d+)(?:[eE][+-]?\d+)?(?:_[a-z]?)?(?=$|[^\w.]|\.\.)/,lookbehind:!0},continuation:{pattern:/([\r\n])>/,lookbehind:!0,alias:"punctuation"},operator:/->|[-+*/^~=!]|<>|[<>]=?|:=|\.\./,punctuation:/[()[\]{},;.:]/},e.languages.gap.shell.inside.gap.inside=e.languages.gap}P2.displayName="gcode";P2.aliases=[];function P2(e){e.languages.gcode={comment:/;.*|\B\(.*?\)\B/,string:{pattern:/"(?:""|[^"])*"/,greedy:!0},keyword:/\b[GM]\d+(?:\.\d+)?\b/,property:/\b[A-Z]/,checksum:{pattern:/(\*)\d+/,lookbehind:!0,alias:"number"},punctuation:/[:*]/}}j2.displayName="gdscript";j2.aliases=[];function j2(e){e.languages.gdscript={comment:/#.*/,string:{pattern:/@?(?:("|')(?:(?!\1)[^\n\\]|\\[\s\S])*\1(?!"|')|"""(?:[^\\]|\\[\s\S])*?""")/,greedy:!0},"class-name":{pattern:/(^(?:class|class_name|extends)[ \t]+|^export\([ \t]*|\bas[ \t]+|(?:\b(?:const|var)[ \t]|[,(])[ \t]*\w+[ \t]*:[ \t]*|->[ \t]*)[a-zA-Z_]\w*/m,lookbehind:!0},keyword:/\b(?:and|as|assert|break|breakpoint|class|class_name|const|continue|elif|else|enum|export|extends|for|func|if|in|is|master|mastersync|match|not|null|onready|or|pass|preload|puppet|puppetsync|remote|remotesync|return|self|setget|signal|static|tool|var|while|yield)\b/,function:/\b[a-z_]\w*(?=[ \t]*\()/i,variable:/\$\w+/,number:[/\b0b[01_]+\b|\b0x[\da-fA-F_]+\b|(?:\b\d[\d_]*(?:\.[\d_]*)?|\B\.[\d_]+)(?:e[+-]?[\d_]+)?\b/,/\b(?:INF|NAN|PI|TAU)\b/],constant:/\b[A-Z][A-Z_\d]*\b/,boolean:/\b(?:false|true)\b/,operator:/->|:=|&&|\|\||<<|>>|[-+*/%&|!<>=]=?|[~^]/,punctuation:/[.:,;()[\]{}]/}}F2.displayName="gedcom";F2.aliases=[];function F2(e){e.languages.gedcom={"line-value":{pattern:/(^[\t ]*\d+ +(?:@\w[\w!"$%&'()*+,\-./:;<=>?[\\\]^`{|}~\x80-\xfe #]*@ +)?\w+ ).+/m,lookbehind:!0,inside:{pointer:{pattern:/^@\w[\w!"$%&'()*+,\-./:;<=>?[\\\]^`{|}~\x80-\xfe #]*@$/,alias:"variable"}}},record:{pattern:/(^[\t ]*\d+ +(?:@\w[\w!"$%&'()*+,\-./:;<=>?[\\\]^`{|}~\x80-\xfe #]*@ +)?)\w+/m,lookbehind:!0,alias:"tag"},level:{pattern:/(^[\t ]*)\d+/m,lookbehind:!0,alias:"number"},pointer:{pattern:/@\w[\w!"$%&'()*+,\-./:;<=>?[\\\]^`{|}~\x80-\xfe #]*@/,alias:"variable"}}}B2.displayName="gettext";B2.aliases=["po"];function B2(e){e.languages.gettext={comment:[{pattern:/# .*/,greedy:!0,alias:"translator-comment"},{pattern:/#\..*/,greedy:!0,alias:"extracted-comment"},{pattern:/#:.*/,greedy:!0,alias:"reference-comment"},{pattern:/#,.*/,greedy:!0,alias:"flag-comment"},{pattern:/#\|.*/,greedy:!0,alias:"previously-untranslated-comment"},{pattern:/#.*/,greedy:!0}],string:{pattern:/(^|[^\\])"(?:[^"\\]|\\.)*"/,lookbehind:!0,greedy:!0},keyword:/^msg(?:ctxt|id|id_plural|str)\b/m,number:/\b\d+\b/,punctuation:/[\[\]]/},e.languages.po=e.languages.gettext}U2.displayName="gherkin";U2.aliases=[];function U2(e){(function(t){var r=/(?:\r?\n|\r)[ \t]*\|.+\|(?:(?!\|).)*/.source;t.languages.gherkin={pystring:{pattern:/("""|''')[\s\S]+?\1/,alias:"string"},comment:{pattern:/(^[ \t]*)#.*/m,lookbehind:!0},tag:{pattern:/(^[ \t]*)@\S*/m,lookbehind:!0},feature:{pattern:/((?:^|\r?\n|\r)[ \t]*)(?:Ability|Ahoy matey!|Arwedd|Aspekt|Besigheid Behoefte|Business Need|Caracteristica|Caracterstica|Egenskab|Egenskap|Eiginleiki|Feature|Fa|Fitur|Fonctionnalit|Fonksyonalite|Funcionalidade|Funcionalitat|Functionalitate|Funcionalitate|Funcionalitate|Functionaliteit|Fungsi|Funkcia|Funkcija|Funkcionalitte|Funkcionalnost|Funkcja|Funksie|Funktionalitt|Funktionalitit|Funzionalit|Hwaet|Hwt|Jellemz|Karakteristik|Lastnost|Mak|Mogucnost|laH|Mogunost|Moznosti|Monosti|OH HAI|Omadus|Ominaisuus|Osobina|zellik|Potrzeba biznesowa|perbogh|poQbogh malja'|Poadavek|Poiadavka|Pretty much|Qap|Qu'meH 'ut|Savyb|Tnh nng|Trajto|Vermo|Vlastnos|Waciwo|Znailnost||||||||||||||||  || || ||||||||||):(?:[^:\r\n]+(?:\r?\n|\r|$))*/,lookbehind:!0,inside:{important:{pattern:/(:)[^\r\n]+/,lookbehind:!0},keyword:/[^:\r\n]+:/}},scenario:{pattern:/(^[ \t]*)(?:Abstract Scenario|Abstrakt Scenario|Achtergrond|Aer|r|Agtergrond|All y'all|Antecedentes|Antecedents|Atburars|Atburarsir|Awww, look mate|B4|Background|Baggrund|Bakgrund|Bakgrunn|Bakgrunnur|Beispiele|Beispiller|Bi cnh|Cefndir|Cenario|Cenrio|Cenario de Fundo|Cenrio de Fundo|Cenarios|Cenrios|Contesto|Context|Contexte|Contexto|Conto|Contoh|Contone|Dmi|Dasar|Dead men tell no tales|Delineacao do Cenario|Delineao do Cenrio|Dis is what went down|D liu|Dyagram Senaryo|Dyagram senaryo|Egzanp|Ejemplos|Eksempler|Ekzemploj|Enghreifftiau|Esbozo do escenario|Escenari|Escenario|Esempi|Esquema de l'escenari|Esquema del escenario|Esquema do Cenario|Esquema do Cenrio|EXAMPLZ|Examples|Exempel|Exemple|Exemples|Exemplos|First off|Fono|Forgatknyv|Forgatknyv vzlat|Fundo|Gemi|Grundlage|Hannergrond|ghantoH|Httr|Heave to|Istorik|Juhtumid|Keadaan|Khung kch bn|Khung tnh hung|Kch bn|Koncept|Konsep skenario|Kontks|Kontekst|Kontekstas|Konteksts|Kontext|Konturo de la scenaro|Latar Belakang|lut chovnatlh|lut|lutmey|Lsing Atburarsar|Lsing Dma|MISHUN SRSLY|MISHUN|Menggariskan Senario|mo'|Nrt Scenra|Nrt Scne|Nrt Scenru|Oris scenarija|rnekler|Osnova|Osnova Scenra|Osnova scne|Osnutek|Ozadje|Paraugs|Pavyzdiai|Pldk|Piemri|Plan du scnario|Plan du Scnario|Plan Senaryo|Plan senaryo|Plang vum Szenario|Pozad|Pozadie|Pozadina|Prklady|Pklady|Primer|Primeri|Primjeri|Przykady|Raamstsenaarium|Reckon it's like|Rerefons|Scenr|Scn|Scenarie|Scenarij|Scenarijai|Scenarijaus ablonas|Scenariji|Scenrijs|Scenrijs pc parauga|Scenarijus|Scenario|Scnario|Scenario Amlinellol|Scenario Outline|Scenario Template|Scenariomal|Scenariomall|Scenarios|Scenariu|Scenariusz|Scenaro|Schema dello scenario|Se e|Se the|Se e|Senario|Senaryo Deskripsyon|Senaryo deskripsyon|Senaryo|Senaryo tasla|Shiver me timbers|Situcija|Situai|Situasie Uiteensetting|Situasie|Skenario konsep|Skenario|Skica|Structura scenariu|Structur scenariu|Struktura scenarija|Stsenaarium|Swa hwaer swa|Swa|Swa hwr swa|Szablon scenariusza|Szenario|Szenariogrundriss|Tapaukset|Tapaus|Tapausaihio|Taust|Tausta|Template Keadaan|Template Senario|Template Situai|The thing of it is|Tnh hung|Variantai|Voorbeelde|Voorbeelden|Wharrimean is|Yo-ho-ho|You'll wanna|Zaoenia|| ||||||||||||||||||  || | | || | |||||||| ||| || |||| ||   || ||| |||| |  |||||||||||||||||| ||||||||||||||||||):[^:\r\n]*/m,lookbehind:!0,inside:{important:{pattern:/(:)[^\r\n]*/,lookbehind:!0},keyword:/[^:\r\n]+:/}},"table-body":{pattern:RegExp("("+r+")(?:"+r+")+"),lookbehind:!0,inside:{outline:{pattern:/<[^>]+>/,alias:"variable"},td:{pattern:/\s*[^\s|][^|]*/,alias:"string"},punctuation:/\|/}},"table-head":{pattern:RegExp(r),inside:{th:{pattern:/\s*[^\s|][^|]*/,alias:"variable"},punctuation:/\|/}},atrule:{pattern:/(^[ \t]+)(?:'a|'ach|'ej|7|a|A tak|A taktie|A tie|A zrove|Aber|Ac|Adott|Akkor|Ak|Aleshores|Ale|Ali|Allora|Alors|Als|Ama|Amennyiben|Amikor|Ampak|an|AN|Ananging|And y'all|And|Angenommen|Anrhegedig a|An|Apabila|Ats|Atesa|Atunci|Avast!|Aye|A|awer|Bagi|Banjur|Bet|Bit|Blimey!|Buh|But at the end of the day I reckon|But y'all|But|BUT|Cal|Cnd|Cand|Cando|Ce|Cuando|e|a e|a|Dadas|Dada|Dados|Dado|DaH ghu' bejlu'|dann|Dann|Dano|Dan|Dar|Dat fiind|Data|Date fiind|Date|Dati fiind|Dati|Dai fiind|Dai fiind|DEN|Dato|De|Den youse gotta|Dengan|Diberi|Diyelim ki|Donada|Donat|Donitao|Do|Dun|Duota|urh|Eeldades|Ef|Eer ki|Entao|Ento|Entn|E|En|Entonces|Epi|s|Etant donne|Etant donn|Et|tant donnes|tant donne|tant donn|Etant donnes|Etant donns|tant donns|Fakat|Gangway!|Gdy|Gegeben seien|Gegeben sei|Gegeven|Gegewe|ghu' noblu'|Gitt|Given y'all|Given|Givet|Givun|Ha|Cho|I CAN HAZ|In|Ir|It's just unbelievable|I|Ja|Jeli|Jeeli|Kad|Kada|Kadar|Kai|Kaj|Kdy|Ke|Kemudian|Ketika|Khi|Kiedy|Ko|Kuid|Kui|Kun|Lan|latlh|Le sa a|Let go and haul|Le|L sa a|L|Logo|Lorsqu'<|Lorsque|m|Maar|Mais|Majc|Ma|Majd|Maka|Manawa|Mas|Men|Menawa|Mutta|Nalika|Nalikaning|Nanging|Nr|Nr|Nato|Nhng|Niin|Njuk|O zaman|Och|Og|Oletetaan|Ond|Onda|Oraz|Pak|Pero|Per|Podano|Pokia|Pokud|Potem|Potom|Privzeto|Pryd|Quan|Quand|Quando|qaSDI'|S|Sed|Se|Siis|Sipoze ke|Sipoze Ke|Sipoze|Si|i|i|Soit|Stel|Tada|Tad|Takrat|Tak|Tapi|Ter|Tetapi|Tha the|Tha|Then y'all|Then|Th|Thurh|Toda|Too right|Un|Und|ugeholl|V|vaj|Vendar|Ve|wann|Wanneer|WEN|Wenn|When y'all|When|Wtedy|Wun|Y'know|Yeah nah|Yna|Youse know like when|Youse know when youse got|Y|Za predpokladu|Za pedpokladu|Zadan|Zadani|Zadano|Zadate|Zadato|Zakadajc|Zaradi|Zatati|a e|a||egar|urh|||||| |||||||||||||||||||||  ||||||||||||, |||||||||||||||||||||| |||||||| |||||||||||||||||||| ||||| ||||||||||||||<|<|<|<|<|<|<|<|<|<|<|<|<|<|<|<|<|<|<|<|<|<|<|<|<|<|<|<|<)(?=[ \t])/m,lookbehind:!0},string:{pattern:/"(?:\\.|[^"\\\r\n])*"|'(?:\\.|[^'\\\r\n])*'/,inside:{outline:{pattern:/<[^>]+>/,alias:"variable"}}},outline:{pattern:/<[^>]+>/,alias:"variable"}}})(e)}$2.displayName="git";$2.aliases=[];function $2(e){e.languages.git={comment:/^#.*/m,deleted:/^[-].*/m,inserted:/^\+.*/m,string:/("|')(?:\\.|(?!\1)[^\\\r\n])*\1/,command:{pattern:/^.*\$ git .*$/m,inside:{parameter:/\s--?\w+/}},coord:/^@@.*@@$/m,"commit-sha1":/^commit \w{40}$/m}}H2.displayName="glsl";H2.aliases=[];function H2(e){e.register(yo),e.languages.glsl=e.languages.extend("c",{keyword:/\b(?:active|asm|atomic_uint|attribute|[ibdu]?vec[234]|bool|break|buffer|case|cast|centroid|class|coherent|common|const|continue|d?mat[234](?:x[234])?|default|discard|do|double|else|enum|extern|external|false|filter|fixed|flat|float|for|fvec[234]|goto|half|highp|hvec[234]|[iu]?sampler2DMS(?:Array)?|[iu]?sampler2DRect|[iu]?samplerBuffer|[iu]?samplerCube|[iu]?samplerCubeArray|[iu]?sampler[123]D|[iu]?sampler[12]DArray|[iu]?image2DMS(?:Array)?|[iu]?image2DRect|[iu]?imageBuffer|[iu]?imageCube|[iu]?imageCubeArray|[iu]?image[123]D|[iu]?image[12]DArray|if|in|inline|inout|input|int|interface|invariant|layout|long|lowp|mediump|namespace|noinline|noperspective|out|output|partition|patch|precise|precision|public|readonly|resource|restrict|return|sample|sampler[12]DArrayShadow|sampler[12]DShadow|sampler2DRectShadow|sampler3DRect|samplerCubeArrayShadow|samplerCubeShadow|shared|short|sizeof|smooth|static|struct|subroutine|superp|switch|template|this|true|typedef|uint|uniform|union|unsigned|using|varying|void|volatile|while|writeonly)\b/})}z2.displayName="gn";z2.aliases=["gni"];function z2(e){e.languages.gn={comment:{pattern:/#.*/,greedy:!0},"string-literal":{pattern:/(^|[^\\"])"(?:[^\r\n"\\]|\\.)*"/,lookbehind:!0,greedy:!0,inside:{interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$(?:\{[\s\S]*?\}|[a-zA-Z_]\w*|0x[a-fA-F0-9]{2})/,lookbehind:!0,inside:{number:/^\$0x[\s\S]{2}$/,variable:/^\$\w+$/,"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},expression:{pattern:/[\s\S]+/,inside:null}}},string:/[\s\S]+/}},keyword:/\b(?:else|if)\b/,boolean:/\b(?:false|true)\b/,"builtin-function":{pattern:/\b(?:assert|defined|foreach|import|pool|print|template|tool|toolchain)(?=\s*\()/i,alias:"keyword"},function:/\b[a-z_]\w*(?=\s*\()/i,constant:/\b(?:current_cpu|current_os|current_toolchain|default_toolchain|host_cpu|host_os|root_build_dir|root_gen_dir|root_out_dir|target_cpu|target_gen_dir|target_os|target_out_dir)\b/,number:/-?\b\d+\b/,operator:/[-+!=<>]=?|&&|\|\|/,punctuation:/[(){}[\],.]/},e.languages.gn["string-literal"].inside.interpolation.inside.expression.inside=e.languages.gn,e.languages.gni=e.languages.gn}G2.displayName="linker-script";G2.aliases=["ld"];function G2(e){e.languages["linker-script"]={comment:{pattern:/(^|\s)\/\*[\s\S]*?(?:$|\*\/)/,lookbehind:!0,greedy:!0},identifier:{pattern:/"[^"\r\n]*"/,greedy:!0},"location-counter":{pattern:/\B\.\B/,alias:"important"},section:{pattern:/(^|[^\w*])\.\w+\b/,lookbehind:!0,alias:"keyword"},function:/\b[A-Z][A-Z_]*(?=\s*\()/,number:/\b(?:0[xX][a-fA-F0-9]+|\d+)[KM]?\b/,operator:/>>=?|<<=?|->|\+\+|--|&&|\|\||::|[?:~]|[-+*/%&|^!=<>]=?/,punctuation:/[(){},;]/},e.languages.ld=e.languages["linker-script"]}q2.displayName="go-module";q2.aliases=["go-mod"];function q2(e){e.languages["go-mod"]=e.languages["go-module"]={comment:{pattern:/\/\/.*/,greedy:!0},version:{pattern:/(^|[\s()[\],])v\d+\.\d+\.\d+(?:[+-][-+.\w]*)?(?![^\s()[\],])/,lookbehind:!0,alias:"number"},"go-version":{pattern:/((?:^|\s)go\s+)\d+(?:\.\d+){1,2}/,lookbehind:!0,alias:"number"},keyword:{pattern:/^([ \t]*)(?:exclude|go|module|replace|require|retract)\b/m,lookbehind:!0},operator:/=>/,punctuation:/[()[\],]/}}W2.displayName="gradle";W2.aliases=[];function W2(e){e.register(Kr),(function(t){var r={pattern:/((?:^|[^\\$])(?:\\{2})*)\$(?:\w+|\{[^{}]*\})/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{?|\}$/,alias:"punctuation"},expression:{pattern:/[\s\S]+/,inside:null}}};t.languages.gradle=t.languages.extend("clike",{string:{pattern:/'''(?:[^\\]|\\[\s\S])*?'''|'(?:\\.|[^\\'\r\n])*'/,greedy:!0},keyword:/\b(?:apply|def|dependencies|else|if|implementation|import|plugin|plugins|project|repositories|repository|sourceSets|tasks|val)\b/,number:/\b(?:0b[01_]+|0x[\da-f_]+(?:\.[\da-f_p\-]+)?|[\d_]+(?:\.[\d_]+)?(?:e[+-]?\d+)?)[glidf]?\b/i,operator:{pattern:/(^|[^.])(?:~|==?~?|\?[.:]?|\*(?:[.=]|\*=?)?|\.[@&]|\.\.<|\.\.(?!\.)|-[-=>]?|\+[+=]?|!=?|<(?:<=?|=>?)?|>(?:>>?=?|=)?|&[&=]?|\|[|=]?|\/=?|\^=?|%=?)/,lookbehind:!0},punctuation:/\.+|[{}[\];(),:$]/}),t.languages.insertBefore("gradle","string",{shebang:{pattern:/#!.+/,alias:"comment",greedy:!0},"interpolation-string":{pattern:/"""(?:[^\\]|\\[\s\S])*?"""|(["/])(?:\\.|(?!\1)[^\\\r\n])*\1|\$\/(?:[^/$]|\$(?:[/$]|(?![/$]))|\/(?!\$))*\/\$/,greedy:!0,inside:{interpolation:r,string:/[\s\S]+/}}}),t.languages.insertBefore("gradle","punctuation",{"spock-block":/\b(?:and|cleanup|expect|given|setup|then|when|where):/}),t.languages.insertBefore("gradle","function",{annotation:{pattern:/(^|[^.])@\w+/,lookbehind:!0,alias:"punctuation"}}),r.inside.expression.inside=t.languages.gradle})(e)}Y2.displayName="graphql";Y2.aliases=[];function Y2(e){e.languages.graphql={comment:/#.*/,description:{pattern:/(?:"""(?:[^"]|(?!""")")*"""|"(?:\\.|[^\\"\r\n])*")(?=\s*[a-z_])/i,greedy:!0,alias:"string",inside:{"language-markdown":{pattern:/(^"(?:"")?)(?!\1)[\s\S]+(?=\1$)/,lookbehind:!0,inside:e.languages.markdown}}},string:{pattern:/"""(?:[^"]|(?!""")")*"""|"(?:\\.|[^\\"\r\n])*"/,greedy:!0},number:/(?:\B-|\b)\d+(?:\.\d+)?(?:e[+-]?\d+)?\b/i,boolean:/\b(?:false|true)\b/,variable:/\$[a-z_]\w*/i,directive:{pattern:/@[a-z_]\w*/i,alias:"function"},"attr-name":{pattern:/\b[a-z_]\w*(?=\s*(?:\((?:[^()"]|"(?:\\.|[^\\"\r\n])*")*\))?:)/i,greedy:!0},"atom-input":{pattern:/\b[A-Z]\w*Input\b/,alias:"class-name"},scalar:/\b(?:Boolean|Float|ID|Int|String)\b/,constant:/\b[A-Z][A-Z_\d]*\b/,"class-name":{pattern:/(\b(?:enum|implements|interface|on|scalar|type|union)\s+|&\s*|:\s*|\[)[A-Z_]\w*/,lookbehind:!0},fragment:{pattern:/(\bfragment\s+|\.{3}\s*(?!on\b))[a-zA-Z_]\w*/,lookbehind:!0,alias:"function"},"definition-mutation":{pattern:/(\bmutation\s+)[a-zA-Z_]\w*/,lookbehind:!0,alias:"function"},"definition-query":{pattern:/(\bquery\s+)[a-zA-Z_]\w*/,lookbehind:!0,alias:"function"},keyword:/\b(?:directive|enum|extend|fragment|implements|input|interface|mutation|on|query|repeatable|scalar|schema|subscription|type|union)\b/,operator:/[!=|&]|\.{3}/,"property-query":/\w+(?=\s*\()/,object:/\w+(?=\s*\{)/,punctuation:/[!(){}\[\]:=,]/,property:/\w+/},e.hooks.add("after-tokenize",function(r){if(r.language!=="graphql")return;var n=r.tokens.filter(function(v){return typeof v!="string"&&v.type!=="comment"&&v.type!=="scalar"}),a=0;function i(v){return n[a+v]}function o(v,T){T=T||0;for(var w=0;w<v.length;w++){var N=i(w+T);if(!N||N.type!==v[w])return!1}return!0}function l(v,T){for(var w=1,N=a;N<n.length;N++){var R=n[N],D=R.content;if(R.type==="punctuation"&&typeof D=="string"){if(v.test(D))w++;else if(T.test(D)&&(w--,w===0))return N}}return-1}function u(v,T){var w=v.alias;w?Array.isArray(w)||(v.alias=w=[w]):v.alias=w=[],w.push(T)}for(;a<n.length;){var d=n[a++];if(d.type==="keyword"&&d.content==="mutation"){var h=[];if(o(["definition-mutation","punctuation"])&&i(1).content==="("){a+=2;var g=l(/^\($/,/^\)$/);if(g===-1)continue;for(;a<g;a++){var f=i(0);f.type==="variable"&&(u(f,"variable-input"),h.push(f.content))}a=g+1}if(o(["punctuation","property-query"])&&i(0).content==="{"&&(a++,u(i(0),"property-mutation"),h.length>0)){var b=l(/^\{$/,/^\}$/);if(b===-1)continue;for(var x=a;x<b;x++){var E=n[x];E.type==="variable"&&h.indexOf(E.content)>=0&&u(E,"variable-input")}}}}})}V2.displayName="groovy";V2.aliases=[];function V2(e){e.register(Kr),(function(t){var r={pattern:/((?:^|[^\\$])(?:\\{2})*)\$(?:\w+|\{[^{}]*\})/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{?|\}$/,alias:"punctuation"},expression:{pattern:/[\s\S]+/,inside:null}}};t.languages.groovy=t.languages.extend("clike",{string:{pattern:/'''(?:[^\\]|\\[\s\S])*?'''|'(?:\\.|[^\\'\r\n])*'/,greedy:!0},keyword:/\b(?:abstract|as|assert|boolean|break|byte|case|catch|char|class|const|continue|def|default|do|double|else|enum|extends|final|finally|float|for|goto|if|implements|import|in|instanceof|int|interface|long|native|new|package|private|protected|public|return|short|static|strictfp|super|switch|synchronized|this|throw|throws|trait|transient|try|void|volatile|while)\b/,number:/\b(?:0b[01_]+|0x[\da-f_]+(?:\.[\da-f_p\-]+)?|[\d_]+(?:\.[\d_]+)?(?:e[+-]?\d+)?)[glidf]?\b/i,operator:{pattern:/(^|[^.])(?:~|==?~?|\?[.:]?|\*(?:[.=]|\*=?)?|\.[@&]|\.\.<|\.\.(?!\.)|-[-=>]?|\+[+=]?|!=?|<(?:<=?|=>?)?|>(?:>>?=?|=)?|&[&=]?|\|[|=]?|\/=?|\^=?|%=?)/,lookbehind:!0},punctuation:/\.+|[{}[\];(),:$]/}),t.languages.insertBefore("groovy","string",{shebang:{pattern:/#!.+/,alias:"comment",greedy:!0},"interpolation-string":{pattern:/"""(?:[^\\]|\\[\s\S])*?"""|(["/])(?:\\.|(?!\1)[^\\\r\n])*\1|\$\/(?:[^/$]|\$(?:[/$]|(?![/$]))|\/(?!\$))*\/\$/,greedy:!0,inside:{interpolation:r,string:/[\s\S]+/}}}),t.languages.insertBefore("groovy","punctuation",{"spock-block":/\b(?:and|cleanup|expect|given|setup|then|when|where):/}),t.languages.insertBefore("groovy","function",{annotation:{pattern:/(^|[^.])@\w+/,lookbehind:!0,alias:"punctuation"}}),r.inside.expression.inside=t.languages.groovy})(e)}K2.displayName="textile";K2.aliases=[];function K2(e){e.register(Ga),(function(t){var r=/\([^|()\n]+\)|\[[^\]\n]+\]|\{[^}\n]+\}/.source,n=/\)|\((?![^|()\n]+\))/.source;function a(g,f){return RegExp(g.replace(/<MOD>/g,function(){return"(?:"+r+")"}).replace(/<PAR>/g,function(){return"(?:"+n+")"}),f||"")}var i={css:{pattern:/\{[^{}]+\}/,inside:{rest:t.languages.css}},"class-id":{pattern:/(\()[^()]+(?=\))/,lookbehind:!0,alias:"attr-value"},lang:{pattern:/(\[)[^\[\]]+(?=\])/,lookbehind:!0,alias:"attr-value"},punctuation:/[\\\/]\d+|\S/},o=t.languages.textile=t.languages.extend("markup",{phrase:{pattern:/(^|\r|\n)\S[\s\S]*?(?=$|\r?\n\r?\n|\r\r)/,lookbehind:!0,inside:{"block-tag":{pattern:a(/^[a-z]\w*(?:<MOD>|<PAR>|[<>=])*\./.source),inside:{modifier:{pattern:a(/(^[a-z]\w*)(?:<MOD>|<PAR>|[<>=])+(?=\.)/.source),lookbehind:!0,inside:i},tag:/^[a-z]\w*/,punctuation:/\.$/}},list:{pattern:a(/^[*#]+<MOD>*\s+\S.*/.source,"m"),inside:{modifier:{pattern:a(/(^[*#]+)<MOD>+/.source),lookbehind:!0,inside:i},punctuation:/^[*#]+/}},table:{pattern:a(/^(?:(?:<MOD>|<PAR>|[<>=^~])+\.\s*)?(?:\|(?:(?:<MOD>|<PAR>|[<>=^~_]|[\\/]\d+)+\.|(?!(?:<MOD>|<PAR>|[<>=^~_]|[\\/]\d+)+\.))[^|]*)+\|/.source,"m"),inside:{modifier:{pattern:a(/(^|\|(?:\r?\n|\r)?)(?:<MOD>|<PAR>|[<>=^~_]|[\\/]\d+)+(?=\.)/.source),lookbehind:!0,inside:i},punctuation:/\||^\./}},inline:{pattern:a(/(^|[^a-zA-Z\d])(\*\*|__|\?\?|[*_%@+\-^~])<MOD>*.+?\2(?![a-zA-Z\d])/.source),lookbehind:!0,inside:{bold:{pattern:a(/(^(\*\*?)<MOD>*).+?(?=\2)/.source),lookbehind:!0},italic:{pattern:a(/(^(__?)<MOD>*).+?(?=\2)/.source),lookbehind:!0},cite:{pattern:a(/(^\?\?<MOD>*).+?(?=\?\?)/.source),lookbehind:!0,alias:"string"},code:{pattern:a(/(^@<MOD>*).+?(?=@)/.source),lookbehind:!0,alias:"keyword"},inserted:{pattern:a(/(^\+<MOD>*).+?(?=\+)/.source),lookbehind:!0},deleted:{pattern:a(/(^-<MOD>*).+?(?=-)/.source),lookbehind:!0},span:{pattern:a(/(^%<MOD>*).+?(?=%)/.source),lookbehind:!0},modifier:{pattern:a(/(^\*\*|__|\?\?|[*_%@+\-^~])<MOD>+/.source),lookbehind:!0,inside:i},punctuation:/[*_%?@+\-^~]+/}},"link-ref":{pattern:/^\[[^\]]+\]\S+$/m,inside:{string:{pattern:/(^\[)[^\]]+(?=\])/,lookbehind:!0},url:{pattern:/(^\])\S+$/,lookbehind:!0},punctuation:/[\[\]]/}},link:{pattern:a(/"<MOD>*[^"]+":.+?(?=[^\w/]?(?:\s|$))/.source),inside:{text:{pattern:a(/(^"<MOD>*)[^"]+(?=")/.source),lookbehind:!0},modifier:{pattern:a(/(^")<MOD>+/.source),lookbehind:!0,inside:i},url:{pattern:/(:).+/,lookbehind:!0},punctuation:/[":]/}},image:{pattern:a(/!(?:<MOD>|<PAR>|[<>=])*(?![<>=])[^!\s()]+(?:\([^)]+\))?!(?::.+?(?=[^\w/]?(?:\s|$)))?/.source),inside:{source:{pattern:a(/(^!(?:<MOD>|<PAR>|[<>=])*)(?![<>=])[^!\s()]+(?:\([^)]+\))?(?=!)/.source),lookbehind:!0,alias:"url"},modifier:{pattern:a(/(^!)(?:<MOD>|<PAR>|[<>=])+/.source),lookbehind:!0,inside:i},url:{pattern:/(:).+/,lookbehind:!0},punctuation:/[!:]/}},footnote:{pattern:/\b\[\d+\]/,alias:"comment",inside:{punctuation:/\[|\]/}},acronym:{pattern:/\b[A-Z\d]+\([^)]+\)/,inside:{comment:{pattern:/(\()[^()]+(?=\))/,lookbehind:!0},punctuation:/[()]/}},mark:{pattern:/\b\((?:C|R|TM)\)/,alias:"comment",inside:{punctuation:/[()]/}}}}}),l=o.phrase.inside,u={inline:l.inline,link:l.link,image:l.image,footnote:l.footnote,acronym:l.acronym,mark:l.mark};o.tag.pattern=/<\/?(?!\d)[a-z0-9]+(?:\s+[^\s>\/=]+(?:=(?:("|')(?:\\[\s\S]|(?!\1)[^\\])*\1|[^\s'">=]+))?)*\s*\/?>/i;var d=l.inline.inside;d.bold.inside=u,d.italic.inside=u,d.inserted.inside=u,d.deleted.inside=u,d.span.inside=u;var h=l.table.inside;h.inline=u.inline,h.link=u.link,h.image=u.image,h.footnote=u.footnote,h.acronym=u.acronym,h.mark=u.mark})(e)}Q2.displayName="haml";Q2.aliases=[];function Q2(e){e.register($u),(function(t){t.languages.haml={"multiline-comment":{pattern:/((?:^|\r?\n|\r)([\t ]*))(?:\/|-#).*(?:(?:\r?\n|\r)\2[\t ].+)*/,lookbehind:!0,alias:"comment"},"multiline-code":[{pattern:/((?:^|\r?\n|\r)([\t ]*)(?:[~-]|[&!]?=)).*,[\t ]*(?:(?:\r?\n|\r)\2[\t ].*,[\t ]*)*(?:(?:\r?\n|\r)\2[\t ].+)/,lookbehind:!0,inside:t.languages.ruby},{pattern:/((?:^|\r?\n|\r)([\t ]*)(?:[~-]|[&!]?=)).*\|[\t ]*(?:(?:\r?\n|\r)\2[\t ].*\|[\t ]*)*/,lookbehind:!0,inside:t.languages.ruby}],filter:{pattern:/((?:^|\r?\n|\r)([\t ]*)):[\w-]+(?:(?:\r?\n|\r)(?:\2[\t ].+|\s*?(?=\r?\n|\r)))+/,lookbehind:!0,inside:{"filter-name":{pattern:/^:[\w-]+/,alias:"symbol"}}},markup:{pattern:/((?:^|\r?\n|\r)[\t ]*)<.+/,lookbehind:!0,inside:t.languages.markup},doctype:{pattern:/((?:^|\r?\n|\r)[\t ]*)!!!(?: .+)?/,lookbehind:!0},tag:{pattern:/((?:^|\r?\n|\r)[\t ]*)[%.#][\w\-#.]*[\w\-](?:\([^)]+\)|\{(?:\{[^}]+\}|[^{}])+\}|\[[^\]]+\])*[\/<>]*/,lookbehind:!0,inside:{attributes:[{pattern:/(^|[^#])\{(?:\{[^}]+\}|[^{}])+\}/,lookbehind:!0,inside:t.languages.ruby},{pattern:/\([^)]+\)/,inside:{"attr-value":{pattern:/(=\s*)(?:"(?:\\.|[^\\"\r\n])*"|[^)\s]+)/,lookbehind:!0},"attr-name":/[\w:-]+(?=\s*!?=|\s*[,)])/,punctuation:/[=(),]/}},{pattern:/\[[^\]]+\]/,inside:t.languages.ruby}],punctuation:/[<>]/}},code:{pattern:/((?:^|\r?\n|\r)[\t ]*(?:[~-]|[&!]?=)).+/,lookbehind:!0,inside:t.languages.ruby},interpolation:{pattern:/#\{[^}]+\}/,inside:{delimiter:{pattern:/^#\{|\}$/,alias:"punctuation"},ruby:{pattern:/[\s\S]+/,inside:t.languages.ruby}}},punctuation:{pattern:/((?:^|\r?\n|\r)[\t ]*)[~=\-&!]+/,lookbehind:!0}};for(var r="((?:^|\\r?\\n|\\r)([\\t ]*)):{{filter_name}}(?:(?:\\r?\\n|\\r)(?:\\2[\\t ].+|\\s*?(?=\\r?\\n|\\r)))+",n=["css",{filter:"coffee",language:"coffeescript"},"erb","javascript","less","markdown","ruby","scss","textile"],a={},i=0,o=n.length;i<o;i++){var l=n[i];l=typeof l=="string"?{filter:l,language:l}:l,t.languages[l.language]&&(a["filter-"+l.filter]={pattern:RegExp(r.replace("{{filter_name}}",function(){return l.filter})),lookbehind:!0,inside:{"filter-name":{pattern:/^:[\w-]+/,alias:"symbol"},text:{pattern:/[\s\S]+/,alias:[l.language,"language-"+l.language],inside:t.languages[l.language]}}})}t.languages.insertBefore("haml","filter",a)})(e)}X2.displayName="handlebars";X2.aliases=["hbs","mustache"];function X2(e){e.register(rs),(function(t){t.languages.handlebars={comment:/\{\{![\s\S]*?\}\}/,delimiter:{pattern:/^\{\{\{?|\}\}\}?$/,alias:"punctuation"},string:/(["'])(?:\\.|(?!\1)[^\\\r\n])*\1/,number:/\b0x[\dA-Fa-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:[Ee][+-]?\d+)?/,boolean:/\b(?:false|true)\b/,block:{pattern:/^(\s*(?:~\s*)?)[#\/]\S+?(?=\s*(?:~\s*)?$|\s)/,lookbehind:!0,alias:"keyword"},brackets:{pattern:/\[[^\]]+\]/,inside:{punctuation:/\[|\]/,variable:/[\s\S]+/}},punctuation:/[!"#%&':()*+,.\/;<=>@\[\\\]^`{|}~]/,variable:/[^!"#%&'()*+,\/;<=>@\[\\\]^`{|}~\s]+/},t.hooks.add("before-tokenize",function(r){var n=/\{\{\{[\s\S]+?\}\}\}|\{\{[\s\S]+?\}\}/g;t.languages["markup-templating"].buildPlaceholders(r,"handlebars",n)}),t.hooks.add("after-tokenize",function(r){t.languages["markup-templating"].tokenizePlaceholders(r,"handlebars")}),t.languages.hbs=t.languages.handlebars,t.languages.mustache=t.languages.handlebars})(e)}tf.displayName="haskell";tf.aliases=["hs"];function tf(e){e.languages.haskell={comment:{pattern:/(^|[^-!#$%*+=?&@|~.:<>^\\\/])(?:--(?:(?=.)[^-!#$%*+=?&@|~.:<>^\\\/].*|$)|\{-[\s\S]*?-\})/m,lookbehind:!0},char:{pattern:/'(?:[^\\']|\\(?:[abfnrtv\\"'&]|\^[A-Z@[\]^_]|ACK|BEL|BS|CAN|CR|DC1|DC2|DC3|DC4|DEL|DLE|EM|ENQ|EOT|ESC|ETB|ETX|FF|FS|GS|HT|LF|NAK|NUL|RS|SI|SO|SOH|SP|STX|SUB|SYN|US|VT|\d+|o[0-7]+|x[0-9a-fA-F]+))'/,alias:"string"},string:{pattern:/"(?:[^\\"]|\\(?:\S|\s+\\))*"/,greedy:!0},keyword:/\b(?:case|class|data|deriving|do|else|if|in|infixl|infixr|instance|let|module|newtype|of|primitive|then|type|where)\b/,"import-statement":{pattern:/(^[\t ]*)import\s+(?:qualified\s+)?(?:[A-Z][\w']*)(?:\.[A-Z][\w']*)*(?:\s+as\s+(?:[A-Z][\w']*)(?:\.[A-Z][\w']*)*)?(?:\s+hiding\b)?/m,lookbehind:!0,inside:{keyword:/\b(?:as|hiding|import|qualified)\b/,punctuation:/\./}},builtin:/\b(?:abs|acos|acosh|all|and|any|appendFile|approxRational|asTypeOf|asin|asinh|atan|atan2|atanh|basicIORun|break|catch|ceiling|chr|compare|concat|concatMap|const|cos|cosh|curry|cycle|decodeFloat|denominator|digitToInt|div|divMod|drop|dropWhile|either|elem|encodeFloat|enumFrom|enumFromThen|enumFromThenTo|enumFromTo|error|even|exp|exponent|fail|filter|flip|floatDigits|floatRadix|floatRange|floor|fmap|foldl|foldl1|foldr|foldr1|fromDouble|fromEnum|fromInt|fromInteger|fromIntegral|fromRational|fst|gcd|getChar|getContents|getLine|group|head|id|inRange|index|init|intToDigit|interact|ioError|isAlpha|isAlphaNum|isAscii|isControl|isDenormalized|isDigit|isHexDigit|isIEEE|isInfinite|isLower|isNaN|isNegativeZero|isOctDigit|isPrint|isSpace|isUpper|iterate|last|lcm|length|lex|lexDigits|lexLitChar|lines|log|logBase|lookup|map|mapM|mapM_|max|maxBound|maximum|maybe|min|minBound|minimum|mod|negate|not|notElem|null|numerator|odd|or|ord|otherwise|pack|pi|pred|primExitWith|print|product|properFraction|putChar|putStr|putStrLn|quot|quotRem|range|rangeSize|read|readDec|readFile|readFloat|readHex|readIO|readInt|readList|readLitChar|readLn|readOct|readParen|readSigned|reads|readsPrec|realToFrac|recip|rem|repeat|replicate|return|reverse|round|scaleFloat|scanl|scanl1|scanr|scanr1|seq|sequence|sequence_|show|showChar|showInt|showList|showLitChar|showParen|showSigned|showString|shows|showsPrec|significand|signum|sin|sinh|snd|sort|span|splitAt|sqrt|subtract|succ|sum|tail|take|takeWhile|tan|tanh|threadToIOResult|toEnum|toInt|toInteger|toLower|toRational|toUpper|truncate|uncurry|undefined|unlines|until|unwords|unzip|unzip3|userError|words|writeFile|zip|zip3|zipWith|zipWith3)\b/,number:/\b(?:\d+(?:\.\d+)?(?:e[+-]?\d+)?|0o[0-7]+|0x[0-9a-f]+)\b/i,operator:[{pattern:/`(?:[A-Z][\w']*\.)*[_a-z][\w']*`/,greedy:!0},{pattern:/(\s)\.(?=\s)/,lookbehind:!0},/[-!#$%*+=?&@|~:<>^\\\/][-!#$%*+=?&@|~.:<>^\\\/]*|\.[-!#$%*+=?&@|~.:<>^\\\/]+/],hvariable:{pattern:/\b(?:[A-Z][\w']*\.)*[_a-z][\w']*/,inside:{punctuation:/\./}},constant:{pattern:/\b(?:[A-Z][\w']*\.)*[A-Z][\w']*/,inside:{punctuation:/\./}},punctuation:/[{}[\];(),.:]/},e.languages.hs=e.languages.haskell}Z2.displayName="haxe";Z2.aliases=[];function Z2(e){e.register(Kr),e.languages.haxe=e.languages.extend("clike",{string:{pattern:/"(?:[^"\\]|\\[\s\S])*"/,greedy:!0},"class-name":[{pattern:/(\b(?:abstract|class|enum|extends|implements|interface|new|typedef)\s+)[A-Z_]\w*/,lookbehind:!0},/\b[A-Z]\w*/],keyword:/\bthis\b|\b(?:abstract|as|break|case|cast|catch|class|continue|default|do|dynamic|else|enum|extends|extern|final|for|from|function|if|implements|import|in|inline|interface|macro|new|null|operator|overload|override|package|private|public|return|static|super|switch|throw|to|try|typedef|untyped|using|var|while)(?!\.)\b/,function:{pattern:/\b[a-z_]\w*(?=\s*(?:<[^<>]*>\s*)?\()/i,greedy:!0},operator:/\.{3}|\+\+|--|&&|\|\||->|=>|(?:<<?|>{1,3}|[-+*/%!=&|^])=?|[?:~]/}),e.languages.insertBefore("haxe","string",{"string-interpolation":{pattern:/'(?:[^'\\]|\\[\s\S])*'/,greedy:!0,inside:{interpolation:{pattern:/(^|[^\\])\$(?:\w+|\{[^{}]+\})/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{?|\}$/,alias:"punctuation"},expression:{pattern:/[\s\S]+/,inside:e.languages.haxe}}},string:/[\s\S]+/}}}),e.languages.insertBefore("haxe","class-name",{regex:{pattern:/~\/(?:[^\/\\\r\n]|\\.)+\/[a-z]*/,greedy:!0,inside:{"regex-flags":/\b[a-z]+$/,"regex-source":{pattern:/^(~\/)[\s\S]+(?=\/$)/,lookbehind:!0,alias:"language-regex",inside:e.languages.regex},"regex-delimiter":/^~\/|\/$/}}}),e.languages.insertBefore("haxe","keyword",{preprocessor:{pattern:/#(?:else|elseif|end|if)\b.*/,alias:"property"},metadata:{pattern:/@:?[\w.]+/,alias:"symbol"},reification:{pattern:/\$(?:\w+|(?=\{))/,alias:"important"}})}J2.displayName="hcl";J2.aliases=[];function J2(e){e.languages.hcl={comment:/(?:\/\/|#).*|\/\*[\s\S]*?(?:\*\/|$)/,heredoc:{pattern:/<<-?(\w+\b)[\s\S]*?^[ \t]*\1/m,greedy:!0,alias:"string"},keyword:[{pattern:/(?:data|resource)\s+(?:"(?:\\[\s\S]|[^\\"])*")(?=\s+"[\w-]+"\s+\{)/i,inside:{type:{pattern:/(resource|data|\s+)(?:"(?:\\[\s\S]|[^\\"])*")/i,lookbehind:!0,alias:"variable"}}},{pattern:/(?:backend|module|output|provider|provisioner|variable)\s+(?:[\w-]+|"(?:\\[\s\S]|[^\\"])*")\s+(?=\{)/i,inside:{type:{pattern:/(backend|module|output|provider|provisioner|variable)\s+(?:[\w-]+|"(?:\\[\s\S]|[^\\"])*")\s+/i,lookbehind:!0,alias:"variable"}}},/[\w-]+(?=\s+\{)/],property:[/[-\w\.]+(?=\s*=(?!=))/,/"(?:\\[\s\S]|[^\\"])+"(?=\s*[:=])/],string:{pattern:/"(?:[^\\$"]|\\[\s\S]|\$(?:(?=")|\$+(?!\$)|[^"${])|\$\{(?:[^{}"]|"(?:[^\\"]|\\[\s\S])*")*\})*"/,greedy:!0,inside:{interpolation:{pattern:/(^|[^$])\$\{(?:[^{}"]|"(?:[^\\"]|\\[\s\S])*")*\}/,lookbehind:!0,inside:{type:{pattern:/(\b(?:count|data|local|module|path|self|terraform|var)\b\.)[\w\*]+/i,lookbehind:!0,alias:"variable"},keyword:/\b(?:count|data|local|module|path|self|terraform|var)\b/i,function:/\w+(?=\()/,string:{pattern:/"(?:\\[\s\S]|[^\\"])*"/,greedy:!0},number:/\b0x[\da-f]+\b|\b\d+(?:\.\d*)?(?:e[+-]?\d+)?/i,punctuation:/[!\$#%&'()*+,.\/;<=>@\[\\\]^`{|}~?:]/}}}},number:/\b0x[\da-f]+\b|\b\d+(?:\.\d*)?(?:e[+-]?\d+)?/i,boolean:/\b(?:false|true)\b/i,punctuation:/[=\[\]{}]/}}e_.displayName="hlsl";e_.aliases=[];function e_(e){e.register(yo),e.languages.hlsl=e.languages.extend("c",{"class-name":[e.languages.c["class-name"],/\b(?:AppendStructuredBuffer|BlendState|Buffer|ByteAddressBuffer|CompileShader|ComputeShader|ConsumeStructuredBuffer|DepthStencilState|DepthStencilView|DomainShader|GeometryShader|Hullshader|InputPatch|LineStream|OutputPatch|PixelShader|PointStream|RWBuffer|RWByteAddressBuffer|RWStructuredBuffer|RWTexture(?:1D|1DArray|2D|2DArray|3D)|RasterizerState|RenderTargetView|SamplerComparisonState|SamplerState|StructuredBuffer|Texture(?:1D|1DArray|2D|2DArray|2DMS|2DMSArray|3D|Cube|CubeArray)|TriangleStream|VertexShader)\b/],keyword:[/\b(?:asm|asm_fragment|auto|break|case|catch|cbuffer|centroid|char|class|column_major|compile|compile_fragment|const|const_cast|continue|default|delete|discard|do|dynamic_cast|else|enum|explicit|export|extern|for|friend|fxgroup|goto|groupshared|if|in|inline|inout|interface|line|lineadj|linear|long|matrix|mutable|namespace|new|nointerpolation|noperspective|operator|out|packoffset|pass|pixelfragment|point|precise|private|protected|public|register|reinterpret_cast|return|row_major|sample|sampler|shared|short|signed|sizeof|snorm|stateblock|stateblock_state|static|static_cast|string|struct|switch|tbuffer|technique|technique10|technique11|template|texture|this|throw|triangle|triangleadj|try|typedef|typename|uniform|union|unorm|unsigned|using|vector|vertexfragment|virtual|void|volatile|while)\b/,/\b(?:bool|double|dword|float|half|int|min(?:10float|12int|16(?:float|int|uint))|uint)(?:[1-4](?:x[1-4])?)?\b/],number:/(?:(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:[eE][+-]?\d+)?|\b0x[\da-fA-F]+)[fFhHlLuU]?\b/,boolean:/\b(?:false|true)\b/})}t_.displayName="hoon";t_.aliases=[];function t_(e){e.languages.hoon={comment:{pattern:/::.*/,greedy:!0},string:{pattern:/"(?:[^"\\]|\\.)*"|'(?:[^'\\]|\\.)*'/,greedy:!0},constant:/%(?:\.[ny]|[\w-]+)/,"class-name":/@(?:[a-z0-9-]*[a-z0-9])?|\*/i,function:/(?:\+[-+] {2})?(?:[a-z](?:[a-z0-9-]*[a-z0-9])?)/,keyword:/\.[\^\+\*=\?]|![><:\.=\?!]|=[>|:,\.\-\^<+;/~\*\?]|\?[>|:\.\-\^<\+&~=@!]|\|[\$_%:\.\-\^~\*=@\?]|\+[|\$\+\*]|:[_\-\^\+~\*]|%[_:\.\-\^\+~\*=]|\^[|:\.\-\+&~\*=\?]|\$[|_%:<>\-\^&~@=\?]|;[:<\+;\/~\*=]|~[>|\$_%<\+\/&=\?!]|--|==/}}r_.displayName="hpkp";r_.aliases=[];function r_(e){e.languages.hpkp={directive:{pattern:/\b(?:includeSubDomains|max-age|pin-sha256|preload|report-to|report-uri|strict)(?=[\s;=]|$)/i,alias:"property"},operator:/=/,punctuation:/;/}}n_.displayName="hsts";n_.aliases=[];function n_(e){e.languages.hsts={directive:{pattern:/\b(?:includeSubDomains|max-age|preload)(?=[\s;=]|$)/i,alias:"property"},operator:/=/,punctuation:/;/}}a_.displayName="uri";a_.aliases=["url"];function a_(e){e.languages.uri={scheme:{pattern:/^[a-z][a-z0-9+.-]*:/im,greedy:!0,inside:{"scheme-delimiter":/:$/}},fragment:{pattern:/#[\w\-.~!$&'()*+,;=%:@/?]*/,inside:{"fragment-delimiter":/^#/}},query:{pattern:/\?[\w\-.~!$&'()*+,;=%:@/?]*/,inside:{"query-delimiter":{pattern:/^\?/,greedy:!0},"pair-delimiter":/[&;]/,pair:{pattern:/^[^=][\s\S]*/,inside:{key:/^[^=]+/,value:{pattern:/(^=)[\s\S]+/,lookbehind:!0}}}}},authority:{pattern:RegExp(/^\/\//.source+/(?:[\w\-.~!$&'()*+,;=%:]*@)?/.source+("(?:"+/\[(?:[0-9a-fA-F:.]{2,48}|v[0-9a-fA-F]+\.[\w\-.~!$&'()*+,;=]+)\]/.source+"|"+/[\w\-.~!$&'()*+,;=%]*/.source+")")+/(?::\d*)?/.source,"m"),inside:{"authority-delimiter":/^\/\//,"user-info-segment":{pattern:/^[\w\-.~!$&'()*+,;=%:]*@/,inside:{"user-info-delimiter":/@$/,"user-info":/^[\w\-.~!$&'()*+,;=%:]+/}},"port-segment":{pattern:/:\d*$/,inside:{"port-delimiter":/^:/,port:/^\d+/}},host:{pattern:/[\s\S]+/,inside:{"ip-literal":{pattern:/^\[[\s\S]+\]$/,inside:{"ip-literal-delimiter":/^\[|\]$/,"ipv-future":/^v[\s\S]+/,"ipv6-address":/^[\s\S]+/}},"ipv4-address":/^(?:(?:[03-9]\d?|[12]\d{0,2})\.){3}(?:[03-9]\d?|[12]\d{0,2})$/}}}},path:{pattern:/^[\w\-.~!$&'()*+,;=%:@/]+/m,inside:{"path-separator":/\//}}},e.languages.url=e.languages.uri}s_.displayName="http";s_.aliases=[];function s_(e){(function(t){function r(h){return RegExp("(^(?:"+h+"):[ 	]*(?![ 	]))[^]+","i")}t.languages.http={"request-line":{pattern:/^(?:CONNECT|DELETE|GET|HEAD|OPTIONS|PATCH|POST|PRI|PUT|SEARCH|TRACE)\s(?:https?:\/\/|\/)\S*\sHTTP\/[\d.]+/m,inside:{method:{pattern:/^[A-Z]+\b/,alias:"property"},"request-target":{pattern:/^(\s)(?:https?:\/\/|\/)\S*(?=\s)/,lookbehind:!0,alias:"url",inside:t.languages.uri},"http-version":{pattern:/^(\s)HTTP\/[\d.]+/,lookbehind:!0,alias:"property"}}},"response-status":{pattern:/^HTTP\/[\d.]+ \d+ .+/m,inside:{"http-version":{pattern:/^HTTP\/[\d.]+/,alias:"property"},"status-code":{pattern:/^(\s)\d+(?=\s)/,lookbehind:!0,alias:"number"},"reason-phrase":{pattern:/^(\s).+/,lookbehind:!0,alias:"string"}}},header:{pattern:/^[\w-]+:.+(?:(?:\r\n?|\n)[ \t].+)*/m,inside:{"header-value":[{pattern:r(/Content-Security-Policy/.source),lookbehind:!0,alias:["csp","languages-csp"],inside:t.languages.csp},{pattern:r(/Public-Key-Pins(?:-Report-Only)?/.source),lookbehind:!0,alias:["hpkp","languages-hpkp"],inside:t.languages.hpkp},{pattern:r(/Strict-Transport-Security/.source),lookbehind:!0,alias:["hsts","languages-hsts"],inside:t.languages.hsts},{pattern:r(/[^:]+/.source),lookbehind:!0}],"header-name":{pattern:/^[^:]+/,alias:"keyword"},punctuation:/^:/}}};var n=t.languages,a={"application/javascript":n.javascript,"application/json":n.json||n.javascript,"application/xml":n.xml,"text/xml":n.xml,"text/html":n.html,"text/css":n.css,"text/plain":n.plain},i={"application/json":!0,"application/xml":!0};function o(h){var g=h.replace(/^[a-z]+\//,""),f="\\w+/(?:[\\w.-]+\\+)+"+g+"(?![+\\w.-])";return"(?:"+h+"|"+f+")"}var l;for(var u in a)if(a[u]){l=l||{};var d=i[u]?o(u):u;l[u.replace(/\//g,"-")]={pattern:RegExp("("+/content-type:\s*/.source+d+/(?:(?:\r\n?|\n)[\w-].*)*(?:\r(?:\n|(?!\n))|\n)/.source+")"+/[^ \t\w-][\s\S]*/.source,"i"),lookbehind:!0,inside:a[u]}}l&&t.languages.insertBefore("http","header",l)})(e)}i_.displayName="ichigojam";i_.aliases=[];function i_(e){e.languages.ichigojam={comment:/(?:\B'|REM)(?:[^\n\r]*)/i,string:{pattern:/"(?:""|[!#$%&'()*,\/:;<=>?^\w +\-.])*"/,greedy:!0},number:/\B#[0-9A-F]+|\B`[01]+|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:E[+-]?\d+)?/i,keyword:/\b(?:BEEP|BPS|CASE|CLEAR|CLK|CLO|CLP|CLS|CLT|CLV|CONT|COPY|ELSE|END|FILE|FILES|FOR|GOSUB|GOTO|GSB|IF|INPUT|KBD|LED|LET|LIST|LOAD|LOCATE|LRUN|NEW|NEXT|OUT|PLAY|POKE|PRINT|PWM|REM|RENUM|RESET|RETURN|RIGHT|RTN|RUN|SAVE|SCROLL|SLEEP|SRND|STEP|STOP|SUB|TEMPO|THEN|TO|UART|VIDEO|WAIT)(?:\$|\b)/i,function:/\b(?:ABS|ANA|ASC|BIN|BTN|DEC|END|FREE|HELP|HEX|I2CR|I2CW|IN|INKEY|LEN|LINE|PEEK|RND|SCR|SOUND|STR|TICK|USR|VER|VPEEK|ZER)(?:\$|\b)/i,label:/(?:\B@\S+)/,operator:/<[=>]?|>=?|\|\||&&|[+\-*\/=|&^~!]|\b(?:AND|NOT|OR)\b/i,punctuation:/[\[,;:()\]]/}}o_.displayName="icon";o_.aliases=[];function o_(e){e.languages.icon={comment:/#.*/,string:{pattern:/(["'])(?:(?!\1)[^\\\r\n_]|\\.|_(?!\1)(?:\r\n|[\s\S]))*\1/,greedy:!0},number:/\b(?:\d+r[a-z\d]+|\d+(?:\.\d+)?(?:e[+-]?\d+)?)\b|\.\d+\b/i,"builtin-keyword":{pattern:/&(?:allocated|ascii|clock|collections|cset|current|date|dateline|digits|dump|e|error(?:number|text|value)?|errout|fail|features|file|host|input|lcase|letters|level|line|main|null|output|phi|pi|pos|progname|random|regions|source|storage|subject|time|trace|ucase|version)\b/,alias:"variable"},directive:{pattern:/\$\w+/,alias:"builtin"},keyword:/\b(?:break|by|case|create|default|do|else|end|every|fail|global|if|initial|invocable|link|local|next|not|of|procedure|record|repeat|return|static|suspend|then|to|until|while)\b/,function:/\b(?!\d)\w+(?=\s*[({]|\s*!\s*\[)/,operator:/[+-]:(?!=)|(?:[\/?@^%&]|\+\+?|--?|==?=?|~==?=?|\*\*?|\|\|\|?|<(?:->?|<?=?)|>>?=?)(?::=)?|:(?:=:?)?|[!.\\|~]/,punctuation:/[\[\](){},;]/}}l_.displayName="icu-message-format";l_.aliases=[];function l_(e){(function(t){function r(u,d){return d<=0?/[]/.source:u.replace(/<SELF>/g,function(){return r(u,d-1)})}var n=/'[{}:=,](?:[^']|'')*'(?!')/,a={pattern:/''/,greedy:!0,alias:"operator"},i={pattern:n,greedy:!0,inside:{escape:a}},o=r(/\{(?:[^{}']|'(?![{},'])|''|<STR>|<SELF>)*\}/.source.replace(/<STR>/g,function(){return n.source}),8),l={pattern:RegExp(o),inside:{message:{pattern:/^(\{)[\s\S]+(?=\}$)/,lookbehind:!0,inside:null},"message-delimiter":{pattern:/./,alias:"punctuation"}}};t.languages["icu-message-format"]={argument:{pattern:RegExp(o),greedy:!0,inside:{content:{pattern:/^(\{)[\s\S]+(?=\}$)/,lookbehind:!0,inside:{"argument-name":{pattern:/^(\s*)[^{}:=,\s]+/,lookbehind:!0},"choice-style":{pattern:/^(\s*,\s*choice\s*,\s*)\S(?:[\s\S]*\S)?/,lookbehind:!0,inside:{punctuation:/\|/,range:{pattern:/^(\s*)[+-]?(?:\d+(?:\.\d*)?|\u221e)\s*[<#\u2264]/,lookbehind:!0,inside:{operator:/[<#\u2264]/,number:/\S+/}},rest:null}},"plural-style":{pattern:/^(\s*,\s*(?:plural|selectordinal)\s*,\s*)\S(?:[\s\S]*\S)?/,lookbehind:!0,inside:{offset:/^offset:\s*\d+/,"nested-message":l,selector:{pattern:/=\d+|[^{}:=,\s]+/,inside:{keyword:/^(?:few|many|one|other|two|zero)$/}}}},"select-style":{pattern:/^(\s*,\s*select\s*,\s*)\S(?:[\s\S]*\S)?/,lookbehind:!0,inside:{"nested-message":l,selector:{pattern:/[^{}:=,\s]+/,inside:{keyword:/^other$/}}}},keyword:/\b(?:choice|plural|select|selectordinal)\b/,"arg-type":{pattern:/\b(?:date|duration|number|ordinal|spellout|time)\b/,alias:"keyword"},"arg-skeleton":{pattern:/(,\s*)::[^{}:=,\s]+/,lookbehind:!0},"arg-style":{pattern:/(,\s*)(?:currency|full|integer|long|medium|percent|short)(?=\s*$)/,lookbehind:!0},"arg-style-text":{pattern:RegExp(/(^\s*,\s*(?=\S))/.source+r(/(?:[^{}']|'[^']*'|\{(?:<SELF>)?\})+/.source,8)+"$"),lookbehind:!0,alias:"string"},punctuation:/,/}},"argument-delimiter":{pattern:/./,alias:"operator"}}},escape:a,string:i},l.inside.message.inside=t.languages["icu-message-format"],t.languages["icu-message-format"].argument.inside.content.inside["choice-style"].inside.rest=t.languages["icu-message-format"]})(e)}c_.displayName="idris";c_.aliases=["idr"];function c_(e){e.register(tf),e.languages.idris=e.languages.extend("haskell",{comment:{pattern:/(?:(?:--|\|\|\|).*$|\{-[\s\S]*?-\})/m},keyword:/\b(?:Type|case|class|codata|constructor|corecord|data|do|dsl|else|export|if|implementation|implicit|import|impossible|in|infix|infixl|infixr|instance|interface|let|module|mutual|namespace|of|parameters|partial|postulate|private|proof|public|quoteGoal|record|rewrite|syntax|then|total|using|where|with)\b/,builtin:void 0}),e.languages.insertBefore("idris","keyword",{"import-statement":{pattern:/(^\s*import\s+)(?:[A-Z][\w']*)(?:\.[A-Z][\w']*)*/m,lookbehind:!0,inside:{punctuation:/\./}}}),e.languages.idr=e.languages.idris}u_.displayName="ignore";u_.aliases=["gitignore","hgignore","npmignore"];function u_(e){(function(t){t.languages.ignore={comment:/^#.*/m,entry:{pattern:/\S(?:.*(?:(?:\\ )|\S))?/,alias:"string",inside:{operator:/^!|\*\*?|\?/,regex:{pattern:/(^|[^\\])\[[^\[\]]*\]/,lookbehind:!0},punctuation:/\//}}},t.languages.gitignore=t.languages.ignore,t.languages.hgignore=t.languages.ignore,t.languages.npmignore=t.languages.ignore})(e)}d_.displayName="inform7";d_.aliases=[];function d_(e){e.languages.inform7={string:{pattern:/"[^"]*"/,inside:{substitution:{pattern:/\[[^\[\]]+\]/,inside:{delimiter:{pattern:/\[|\]/,alias:"punctuation"}}}}},comment:{pattern:/\[[^\[\]]+\]/,greedy:!0},title:{pattern:/^[ \t]*(?:book|chapter|part(?! of)|section|table|volume)\b.+/im,alias:"important"},number:{pattern:/(^|[^-])(?:\b\d+(?:\.\d+)?(?:\^\d+)?(?:(?!\d)\w+)?|\b(?:eight|eleven|five|four|nine|one|seven|six|ten|three|twelve|two))\b(?!-)/i,lookbehind:!0},verb:{pattern:/(^|[^-])\b(?:answering|applying to|are|asking|attacking|be(?:ing)?|burning|buying|called|carries|carry(?! out)|carrying|climbing|closing|conceal(?:ing|s)?|consulting|contain(?:ing|s)?|cutting|drinking|dropping|eating|enclos(?:es?|ing)|entering|examining|exiting|getting|giving|going|ha(?:s|ve|ving)|hold(?:ing|s)?|impl(?:ies|y)|incorporat(?:es?|ing)|inserting|is|jumping|kissing|listening|locking|looking|mean(?:ing|s)?|opening|provid(?:es?|ing)|pulling|pushing|putting|relat(?:es?|ing)|removing|searching|see(?:ing|s)?|setting|showing|singing|sleeping|smelling|squeezing|support(?:ing|s)?|swearing|switching|taking|tasting|telling|thinking|throwing|touching|turning|tying|unlock(?:ing|s)?|var(?:ies|y|ying)|waiting|waking|waving|wear(?:ing|s)?)\b(?!-)/i,lookbehind:!0,alias:"operator"},keyword:{pattern:/(^|[^-])\b(?:after|before|carry out|check|continue the action|definition(?= *:)|do nothing|else|end (?:if|the story|unless)|every turn|if|include|instead(?: of)?|let|move|no|now|otherwise|repeat|report|resume the story|rule for|running through|say(?:ing)?|stop the action|test|try(?:ing)?|understand|unless|use|when|while|yes)\b(?!-)/i,lookbehind:!0},property:{pattern:/(^|[^-])\b(?:adjacent(?! to)|carried|closed|concealed|contained|dark|described|edible|empty|enclosed|enterable|even|female|fixed in place|full|handled|held|improper-named|incorporated|inedible|invisible|lighted|lit|lock(?:able|ed)|male|marked for listing|mentioned|negative|neuter|non-(?:empty|full|recurring)|odd|opaque|open(?:able)?|plural-named|portable|positive|privately-named|proper-named|provided|publically-named|pushable between rooms|recurring|related|rubbing|scenery|seen|singular-named|supported|swinging|switch(?:able|ed(?: off| on)?)|touch(?:able|ed)|transparent|unconcealed|undescribed|unlit|unlocked|unmarked for listing|unmentioned|unopenable|untouchable|unvisited|variable|visible|visited|wearable|worn)\b(?!-)/i,lookbehind:!0,alias:"symbol"},position:{pattern:/(^|[^-])\b(?:above|adjacent to|back side of|below|between|down|east|everywhere|front side|here|in|inside(?: from)?|north(?:east|west)?|nowhere|on(?: top of)?|other side|outside(?: from)?|parts? of|regionally in|south(?:east|west)?|through|up|west|within)\b(?!-)/i,lookbehind:!0,alias:"keyword"},type:{pattern:/(^|[^-])\b(?:actions?|activit(?:ies|y)|actors?|animals?|backdrops?|containers?|devices?|directions?|doors?|holders?|kinds?|lists?|m[ae]n|nobody|nothing|nouns?|numbers?|objects?|people|persons?|player(?:'s holdall)?|regions?|relations?|rooms?|rule(?:book)?s?|scenes?|someone|something|supporters?|tables?|texts?|things?|time|vehicles?|wom[ae]n)\b(?!-)/i,lookbehind:!0,alias:"variable"},punctuation:/[.,:;(){}]/},e.languages.inform7.string.inside.substitution.inside.rest=e.languages.inform7,e.languages.inform7.string.inside.substitution.inside.rest.text={pattern:/\S(?:\s*\S)*/,alias:"comment"}}p_.displayName="io";p_.aliases=[];function p_(e){e.languages.io={comment:{pattern:/(^|[^\\])(?:\/\*[\s\S]*?(?:\*\/|$)|\/\/.*|#.*)/,lookbehind:!0,greedy:!0},"triple-quoted-string":{pattern:/"""(?:\\[\s\S]|(?!""")[^\\])*"""/,greedy:!0,alias:"string"},string:{pattern:/"(?:\\.|[^\\\r\n"])*"/,greedy:!0},keyword:/\b(?:activate|activeCoroCount|asString|block|break|call|catch|clone|collectGarbage|compileString|continue|do|doFile|doMessage|doString|else|elseif|exit|for|foreach|forward|getEnvironmentVariable|getSlot|hasSlot|if|ifFalse|ifNil|ifNilEval|ifTrue|isActive|isNil|isResumable|list|message|method|parent|pass|pause|perform|performWithArgList|print|println|proto|raise|raiseResumable|removeSlot|resend|resume|schedulerSleepSeconds|self|sender|setSchedulerSleepSeconds|setSlot|shallowCopy|slotNames|super|system|then|thisBlock|thisContext|try|type|uniqueId|updateSlot|wait|while|write|yield)\b/,builtin:/\b(?:Array|AudioDevice|AudioMixer|BigNum|Block|Box|Buffer|CFunction|CGI|Color|Curses|DBM|DNSResolver|DOConnection|DOProxy|DOServer|Date|Directory|Duration|DynLib|Error|Exception|FFT|File|Fnmatch|Font|Future|GL|GLE|GLScissor|GLU|GLUCylinder|GLUQuadric|GLUSphere|GLUT|Host|Image|Importer|LinkList|List|Lobby|Locals|MD5|MP3Decoder|MP3Encoder|Map|Message|Movie|Notification|Number|Object|OpenGL|Point|Protos|Random|Regex|SGML|SGMLElement|SGMLParser|SQLite|Sequence|Server|ShowMessage|SleepyCat|SleepyCatCursor|Socket|SocketManager|Sound|Soup|Store|String|Tree|UDPSender|UPDReceiver|URL|User|Warning|WeakLink)\b/,boolean:/\b(?:false|nil|true)\b/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e-?\d+)?/i,operator:/[=!*/%+\-^&|]=|>>?=?|<<?=?|:?:?=|\+\+?|--?|\*\*?|\/\/?|%|\|\|?|&&?|\b(?:and|not|or|return)\b|@@?|\?\??|\.\./,punctuation:/[{}[\];(),.:]/}}h_.displayName="j";h_.aliases=[];function h_(e){e.languages.j={comment:{pattern:/\bNB\..*/,greedy:!0},string:{pattern:/'(?:''|[^'\r\n])*'/,greedy:!0},keyword:/\b(?:(?:CR|LF|adverb|conjunction|def|define|dyad|monad|noun|verb)\b|(?:assert|break|case|catch[dt]?|continue|do|else|elseif|end|fcase|for|for_\w+|goto_\w+|if|label_\w+|return|select|throw|try|while|whilst)\.)/,verb:{pattern:/(?!\^:|;\.|[=!][.:])(?:\{(?:\.|::?)?|p(?:\.\.?|:)|[=!\]]|[<>+*\-%$|,#][.:]?|[?^]\.?|[;\[]:?|[~}"i][.:]|[ACeEIjLor]\.|(?:[_\/\\qsux]|_?\d):)/,alias:"keyword"},number:/\b_?(?:(?!\d:)\d+(?:\.\d+)?(?:(?:ad|ar|[ejpx])_?\d+(?:\.\d+)?)*(?:b_?[\da-z]+(?:\.[\da-z]+)?)?|_\b(?!\.))/,adverb:{pattern:/[~}]|[\/\\]\.?|[bfM]\.|t[.:]/,alias:"builtin"},operator:/[=a][.:]|_\./,conjunction:{pattern:/&(?:\.:?|:)?|[.:@][.:]?|[!D][.:]|[;dHT]\.|`:?|[\^LS]:|"/,alias:"variable"},punctuation:/[()]/}}Yp.displayName="javadoclike";Yp.aliases=[];function Yp(e){(function(t){var r=t.languages.javadoclike={parameter:{pattern:/(^[\t ]*(?:\/{3}|\*|\/\*\*)\s*@(?:arg|arguments|param)\s+)\w+/m,lookbehind:!0},keyword:{pattern:/(^[\t ]*(?:\/{3}|\*|\/\*\*)\s*|\{)@[a-z][a-zA-Z-]+\b/m,lookbehind:!0},punctuation:/[{}]/};function n(i,o){var l="doc-comment",u=t.languages[i];if(u){var d=u[l];if(!d){var h={};h[l]={pattern:/(^|[^\\])\/\*\*[^/][\s\S]*?(?:\*\/|$)/,lookbehind:!0,alias:"comment"},u=t.languages.insertBefore(i,"comment",h),d=u[l]}if(d instanceof RegExp&&(d=u[l]={pattern:d}),Array.isArray(d))for(var g=0,f=d.length;g<f;g++)d[g]instanceof RegExp&&(d[g]={pattern:d[g]}),o(d[g]);else o(d)}}function a(i,o){typeof i=="string"&&(i=[i]),i.forEach(function(l){n(l,function(u){u.inside||(u.inside={}),u.inside.rest=o})})}Object.defineProperty(r,"addSupport",{value:a}),r.addSupport(["java","javascript","php"],r)})(e)}g_.displayName="scala";g_.aliases=[];function g_(e){e.register(Bu),e.languages.scala=e.languages.extend("java",{"triple-quoted-string":{pattern:/"""[\s\S]*?"""/,greedy:!0,alias:"string"},string:{pattern:/("|')(?:\\.|(?!\1)[^\\\r\n])*\1/,greedy:!0},keyword:/<-|=>|\b(?:abstract|case|catch|class|def|derives|do|else|enum|extends|extension|final|finally|for|forSome|given|if|implicit|import|infix|inline|lazy|match|new|null|object|opaque|open|override|package|private|protected|return|sealed|self|super|this|throw|trait|transparent|try|type|using|val|var|while|with|yield)\b/,number:/\b0x(?:[\da-f]*\.)?[\da-f]+|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e\d+)?[dfl]?/i,builtin:/\b(?:Any|AnyRef|AnyVal|Boolean|Byte|Char|Double|Float|Int|Long|Nothing|Short|String|Unit)\b/,symbol:/'[^\d\s\\]\w*/}),e.languages.insertBefore("scala","triple-quoted-string",{"string-interpolation":{pattern:/\b[a-z]\w*(?:"""(?:[^$]|\$(?:[^{]|\{(?:[^{}]|\{[^{}]*\})*\}))*?"""|"(?:[^$"\r\n]|\$(?:[^{]|\{(?:[^{}]|\{[^{}]*\})*\}))*")/i,greedy:!0,inside:{id:{pattern:/^\w+/,greedy:!0,alias:"function"},escape:{pattern:/\\\$"|\$[$"]/,greedy:!0,alias:"symbol"},interpolation:{pattern:/\$(?:\w+|\{(?:[^{}]|\{[^{}]*\})*\})/,greedy:!0,inside:{punctuation:/^\$\{?|\}$/,expression:{pattern:/[\s\S]+/,inside:e.languages.scala}}},string:/[\s\S]+/}}}),delete e.languages.scala["class-name"],delete e.languages.scala.function,delete e.languages.scala.constant}m_.displayName="javadoc";m_.aliases=[];function m_(e){e.register(Bu),e.register(Yp),e.register(Ga),(function(t){var r=/(^(?:[\t ]*(?:\*\s*)*))[^*\s].*$/m,n=/#\s*\w+(?:\s*\([^()]*\))?/.source,a=/(?:\b[a-zA-Z]\w+\s*\.\s*)*\b[A-Z]\w*(?:\s*<mem>)?|<mem>/.source.replace(/<mem>/g,function(){return n});t.languages.javadoc=t.languages.extend("javadoclike",{}),t.languages.insertBefore("javadoc","keyword",{reference:{pattern:RegExp(/(@(?:exception|link|linkplain|see|throws|value)\s+(?:\*\s*)?)/.source+"(?:"+a+")"),lookbehind:!0,inside:{function:{pattern:/(#\s*)\w+(?=\s*\()/,lookbehind:!0},field:{pattern:/(#\s*)\w+/,lookbehind:!0},namespace:{pattern:/\b(?:[a-z]\w*\s*\.\s*)+/,inside:{punctuation:/\./}},"class-name":/\b[A-Z]\w*/,keyword:t.languages.java.keyword,punctuation:/[#()[\],.]/}},"class-name":{pattern:/(@param\s+)<[A-Z]\w*>/,lookbehind:!0,inside:{punctuation:/[.<>]/}},"code-section":[{pattern:/(\{@code\s+(?!\s))(?:[^\s{}]|\s+(?![\s}])|\{(?:[^{}]|\{(?:[^{}]|\{(?:[^{}]|\{[^{}]*\})*\})*\})*\})+(?=\s*\})/,lookbehind:!0,inside:{code:{pattern:r,lookbehind:!0,inside:t.languages.java,alias:"language-java"}}},{pattern:/(<(code|pre|tt)>(?!<code>)\s*)\S(?:\S|\s+\S)*?(?=\s*<\/\2>)/,lookbehind:!0,inside:{line:{pattern:r,lookbehind:!0,inside:{tag:t.languages.markup.tag,entity:t.languages.markup.entity,code:{pattern:/.+/,inside:t.languages.java,alias:"language-java"}}}}}],tag:t.languages.markup.tag,entity:t.languages.markup.entity}),t.languages.javadoclike.addSupport("java",t.languages.javadoc)})(e)}f_.displayName="javastacktrace";f_.aliases=[];function f_(e){e.languages.javastacktrace={summary:{pattern:/^([\t ]*)(?:(?:Caused by:|Suppressed:|Exception in thread "[^"]*")[\t ]+)?[\w$.]+(?::.*)?$/m,lookbehind:!0,inside:{keyword:{pattern:/^([\t ]*)(?:(?:Caused by|Suppressed)(?=:)|Exception in thread)/m,lookbehind:!0},string:{pattern:/^(\s*)"[^"]*"/,lookbehind:!0},exceptions:{pattern:/^(:?\s*)[\w$.]+(?=:|$)/,lookbehind:!0,inside:{"class-name":/[\w$]+$/,namespace:/\b[a-z]\w*\b/,punctuation:/\./}},message:{pattern:/(:\s*)\S.*/,lookbehind:!0,alias:"string"},punctuation:/:/}},"stack-frame":{pattern:/^([\t ]*)at (?:[\w$./]|@[\w$.+-]*\/)+(?:<init>)?\([^()]*\)/m,lookbehind:!0,inside:{keyword:{pattern:/^(\s*)at(?= )/,lookbehind:!0},source:[{pattern:/(\()\w+\.\w+:\d+(?=\))/,lookbehind:!0,inside:{file:/^\w+\.\w+/,punctuation:/:/,"line-number":{pattern:/\b\d+\b/,alias:"number"}}},{pattern:/(\()[^()]*(?=\))/,lookbehind:!0,inside:{keyword:/^(?:Native Method|Unknown Source)$/}}],"class-name":/[\w$]+(?=\.(?:<init>|[\w$]+)\()/,function:/(?:<init>|[\w$]+)(?=\()/,"class-loader":{pattern:/(\s)[a-z]\w*(?:\.[a-z]\w*)*(?=\/[\w@$.]*\/)/,lookbehind:!0,alias:"namespace",inside:{punctuation:/\./}},module:{pattern:/([\s/])[a-z]\w*(?:\.[a-z]\w*)*(?:@[\w$.+-]*)?(?=\/)/,lookbehind:!0,inside:{version:{pattern:/(@)[\s\S]+/,lookbehind:!0,alias:"number"},punctuation:/[@.]/}},namespace:{pattern:/(?:\b[a-z]\w*\.)+/,inside:{punctuation:/\./}},punctuation:/[()/.]/}},more:{pattern:/^([\t ]*)\.{3} \d+ [a-z]+(?: [a-z]+)*/m,lookbehind:!0,inside:{punctuation:/\.{3}/,number:/\d+/,keyword:/\b[a-z]+(?: [a-z]+)*\b/}}}}b_.displayName="jexl";b_.aliases=[];function b_(e){e.languages.jexl={string:/(["'])(?:\\[\s\S]|(?!\1)[^\\])*\1/,transform:{pattern:/(\|\s*)[a-zA-Z--_\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u00FF$][\w--\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u00FF$]*/,alias:"function",lookbehind:!0},function:/[a-zA-Z--_\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u00FF$][\w--\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u00FF$]*\s*(?=\()/,number:/\b\d+(?:\.\d+)?\b|\B\.\d+\b/,operator:/[<>!]=?|-|\+|&&|==|\|\|?|\/\/?|[?:*^%]/,boolean:/\b(?:false|true)\b/,keyword:/\bin\b/,punctuation:/[{}[\](),.]/}}y_.displayName="jolie";y_.aliases=[];function y_(e){e.register(Kr),e.languages.jolie=e.languages.extend("clike",{string:{pattern:/(^|[^\\])"(?:\\[\s\S]|[^"\\])*"/,lookbehind:!0,greedy:!0},"class-name":{pattern:/((?:\b(?:as|courier|embed|in|inputPort|outputPort|service)\b|@)[ \t]*)\w+/,lookbehind:!0},keyword:/\b(?:as|cH|comp|concurrent|constants|courier|cset|csets|default|define|else|embed|embedded|execution|exit|extender|for|foreach|forward|from|global|if|import|in|include|init|inputPort|install|instanceof|interface|is_defined|linkIn|linkOut|main|new|nullProcess|outputPort|over|private|provide|public|scope|sequential|service|single|spawn|synchronized|this|throw|throws|type|undef|until|while|with)\b/,function:/\b[a-z_]\w*(?=[ \t]*[@(])/i,number:/(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?l?/i,operator:/-[-=>]?|\+[+=]?|<[<=]?|[>=*!]=?|&&|\|\||[?\/%^@|]/,punctuation:/[()[\]{},;.:]/,builtin:/\b(?:Byte|any|bool|char|double|enum|float|int|length|long|ranges|regex|string|undefined|void)\b/}),e.languages.insertBefore("jolie","keyword",{aggregates:{pattern:/(\bAggregates\s*:\s*)(?:\w+(?:\s+with\s+\w+)?\s*,\s*)*\w+(?:\s+with\s+\w+)?/,lookbehind:!0,inside:{keyword:/\bwith\b/,"class-name":/\w+/,punctuation:/,/}},redirects:{pattern:/(\bRedirects\s*:\s*)(?:\w+\s*=>\s*\w+\s*,\s*)*(?:\w+\s*=>\s*\w+)/,lookbehind:!0,inside:{punctuation:/,/,"class-name":/\w+/,operator:/=>/}},property:{pattern:/\b(?:Aggregates|[Ii]nterfaces|Java|Javascript|Jolie|[Ll]ocation|OneWay|[Pp]rotocol|Redirects|RequestResponse)\b(?=[ \t]*:)/}})}x_.displayName="jq";x_.aliases=[];function x_(e){(function(t){var r=/\\\((?:[^()]|\([^()]*\))*\)/.source,n=RegExp(/(^|[^\\])"(?:[^"\r\n\\]|\\[^\r\n(]|__)*"/.source.replace(/__/g,function(){return r})),a={interpolation:{pattern:RegExp(/((?:^|[^\\])(?:\\{2})*)/.source+r),lookbehind:!0,inside:{content:{pattern:/^(\\\()[\s\S]+(?=\)$)/,lookbehind:!0,inside:null},punctuation:/^\\\(|\)$/}}},i=t.languages.jq={comment:/#.*/,property:{pattern:RegExp(n.source+/(?=\s*:(?!:))/.source),lookbehind:!0,greedy:!0,inside:a},string:{pattern:n,lookbehind:!0,greedy:!0,inside:a},function:{pattern:/(\bdef\s+)[a-z_]\w+/i,lookbehind:!0},variable:/\B\$\w+/,"property-literal":{pattern:/\b[a-z_]\w*(?=\s*:(?!:))/i,alias:"property"},keyword:/\b(?:as|break|catch|def|elif|else|end|foreach|if|import|include|label|module|modulemeta|null|reduce|then|try|while)\b/,boolean:/\b(?:false|true)\b/,number:/(?:\b\d+\.|\B\.)?\b\d+(?:[eE][+-]?\d+)?\b/,operator:[{pattern:/\|=?/,alias:"pipe"},/\.\.|[!=<>]?=|\?\/\/|\/\/=?|[-+*/%]=?|[<>?]|\b(?:and|not|or)\b/],"c-style-function":{pattern:/\b[a-z_]\w*(?=\s*\()/i,alias:"function"},punctuation:/::|[()\[\]{},:;]|\.(?=\s*[\[\w$])/,dot:{pattern:/\./,alias:"important"}};a.interpolation.inside.content.inside=i})(e)}E_.displayName="js-templates";E_.aliases=[];function E_(e){e.register(ts),(function(t){var r=t.languages.javascript["template-string"],n=r.pattern.source,a=r.inside.interpolation,i=a.inside["interpolation-punctuation"],o=a.pattern.source;function l(x,E){if(t.languages[x])return{pattern:RegExp("((?:"+E+")\\s*)"+n),lookbehind:!0,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},"embedded-code":{pattern:/[\s\S]+/,alias:x}}}}t.languages.javascript["template-string"]=[l("css",/\b(?:styled(?:\([^)]*\))?(?:\s*\.\s*\w+(?:\([^)]*\))*)*|css(?:\s*\.\s*(?:global|resolve))?|createGlobalStyle|keyframes)/.source),l("html",/\bhtml|\.\s*(?:inner|outer)HTML\s*\+?=/.source),l("svg",/\bsvg/.source),l("markdown",/\b(?:markdown|md)/.source),l("graphql",/\b(?:gql|graphql(?:\s*\.\s*experimental)?)/.source),l("sql",/\bsql/.source),r].filter(Boolean);function u(x,E){return"___"+E.toUpperCase()+"_"+x+"___"}function d(x,E,v){var T={code:x,grammar:E,language:v};return t.hooks.run("before-tokenize",T),T.tokens=t.tokenize(T.code,T.grammar),t.hooks.run("after-tokenize",T),T.tokens}function h(x){var E={};E["interpolation-punctuation"]=i;var v=t.tokenize(x,E);if(v.length===3){var T=[1,1];T.push.apply(T,d(v[1],t.languages.javascript,"javascript")),v.splice.apply(v,T)}return new t.Token("interpolation",v,a.alias,x)}function g(x,E,v){var T=t.tokenize(x,{interpolation:{pattern:RegExp(o),lookbehind:!0}}),w=0,N={},R=T.map(function(B){if(typeof B=="string")return B;for(var q=B.content,z;x.indexOf(z=u(w++,v))!==-1;);return N[z]=q,z}).join(""),D=d(R,E,v),L=Object.keys(N);w=0;function j(B){for(var q=0;q<B.length;q++){if(w>=L.length)return;var z=B[q];if(typeof z=="string"||typeof z.content=="string"){var K=L[w],X=typeof z=="string"?z:z.content,Q=X.indexOf(K);if(Q!==-1){++w;var O=X.substring(0,Q),H=h(N[K]),$=X.substring(Q+K.length),Y=[];if(O&&Y.push(O),Y.push(H),$){var V=[$];j(V),Y.push.apply(Y,V)}typeof z=="string"?(B.splice.apply(B,[q,1].concat(Y)),q+=Y.length-1):z.content=Y}}else{var ne=z.content;Array.isArray(ne)?j(ne):j([ne])}}}return j(D),new t.Token(v,D,"language-"+v,x)}var f={javascript:!0,js:!0,typescript:!0,ts:!0,jsx:!0,tsx:!0};t.hooks.add("after-tokenize",function(x){if(!(x.language in f))return;function E(v){for(var T=0,w=v.length;T<w;T++){var N=v[T];if(typeof N!="string"){var R=N.content;if(!Array.isArray(R)){typeof R!="string"&&E([R]);continue}if(N.type==="template-string"){var D=R[1];if(R.length===3&&typeof D!="string"&&D.type==="embedded-code"){var L=b(D),j=D.alias,B=Array.isArray(j)?j[0]:j,q=t.languages[B];if(!q)continue;R[1]=g(L,q,B)}}else E(R)}}}E(x.tokens)});function b(x){return typeof x=="string"?x:Array.isArray(x)?x.map(b).join(""):b(x.content)}})(e)}v_.displayName="jsdoc";v_.aliases=[];function v_(e){e.register(Yp),e.register(ts),e.register(Gp),(function(t){var r=t.languages.javascript,n=/\{(?:[^{}]|\{(?:[^{}]|\{[^{}]*\})*\})+\}/.source,a="(@(?:arg|argument|param|property)\\s+(?:"+n+"\\s+)?)";t.languages.jsdoc=t.languages.extend("javadoclike",{parameter:{pattern:RegExp(a+/(?:(?!\s)[$\w\xA0-\uFFFF.])+(?=\s|$)/.source),lookbehind:!0,inside:{punctuation:/\./}}}),t.languages.insertBefore("jsdoc","keyword",{"optional-parameter":{pattern:RegExp(a+/\[(?:(?!\s)[$\w\xA0-\uFFFF.])+(?:=[^[\]]+)?\](?=\s|$)/.source),lookbehind:!0,inside:{parameter:{pattern:/(^\[)[$\w\xA0-\uFFFF\.]+/,lookbehind:!0,inside:{punctuation:/\./}},code:{pattern:/(=)[\s\S]*(?=\]$)/,lookbehind:!0,inside:r,alias:"language-javascript"},punctuation:/[=[\]]/}},"class-name":[{pattern:RegExp(/(@(?:augments|class|extends|interface|memberof!?|template|this|typedef)\s+(?:<TYPE>\s+)?)[A-Z]\w*(?:\.[A-Z]\w*)*/.source.replace(/<TYPE>/g,function(){return n})),lookbehind:!0,inside:{punctuation:/\./}},{pattern:RegExp("(@[a-z]+\\s+)"+n),lookbehind:!0,inside:{string:r.string,number:r.number,boolean:r.boolean,keyword:t.languages.typescript.keyword,operator:/=>|\.\.\.|[&|?:*]/,punctuation:/[.,;=<>{}()[\]]/}}],example:{pattern:/(@example\s+(?!\s))(?:[^@\s]|\s+(?!\s))+?(?=\s*(?:\*\s*)?(?:@\w|\*\/))/,lookbehind:!0,inside:{code:{pattern:/^([\t ]*(?:\*\s*)?)\S.*$/m,lookbehind:!0,inside:r,alias:"language-javascript"}}}}),t.languages.javadoclike.addSupport("javascript",t.languages.jsdoc)})(e)}S_.displayName="n4js";S_.aliases=["n4jsd"];function S_(e){e.register(ts),e.languages.n4js=e.languages.extend("javascript",{keyword:/\b(?:Array|any|boolean|break|case|catch|class|const|constructor|continue|debugger|declare|default|delete|do|else|enum|export|extends|false|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|module|new|null|number|package|private|protected|public|return|set|static|string|super|switch|this|throw|true|try|typeof|var|void|while|with|yield)\b/}),e.languages.insertBefore("n4js","constant",{annotation:{pattern:/@+\w+/,alias:"operator"}}),e.languages.n4jsd=e.languages.n4js}T_.displayName="js-extras";T_.aliases=[];function T_(e){e.register(ts),(function(t){t.languages.insertBefore("javascript","function-variable",{"method-variable":{pattern:RegExp("(\\.\\s*)"+t.languages.javascript["function-variable"].pattern.source),lookbehind:!0,alias:["function-variable","method","function","property-access"]}}),t.languages.insertBefore("javascript","function",{method:{pattern:RegExp("(\\.\\s*)"+t.languages.javascript.function.source),lookbehind:!0,alias:["function","property-access"]}}),t.languages.insertBefore("javascript","constant",{"known-class-name":[{pattern:/\b(?:(?:Float(?:32|64)|(?:Int|Uint)(?:8|16|32)|Uint8Clamped)?Array|ArrayBuffer|BigInt|Boolean|DataView|Date|Error|Function|Intl|JSON|(?:Weak)?(?:Map|Set)|Math|Number|Object|Promise|Proxy|Reflect|RegExp|String|Symbol|WebAssembly)\b/,alias:"class-name"},{pattern:/\b(?:[A-Z]\w*)Error\b/,alias:"class-name"}]});function r(u,d){return RegExp(u.replace(/<ID>/g,function(){return/(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*/.source}),d)}t.languages.insertBefore("javascript","keyword",{imports:{pattern:r(/(\bimport\b\s*)(?:<ID>(?:\s*,\s*(?:\*\s*as\s+<ID>|\{[^{}]*\}))?|\*\s*as\s+<ID>|\{[^{}]*\})(?=\s*\bfrom\b)/.source),lookbehind:!0,inside:t.languages.javascript},exports:{pattern:r(/(\bexport\b\s*)(?:\*(?:\s*as\s+<ID>)?(?=\s*\bfrom\b)|\{[^{}]*\})/.source),lookbehind:!0,inside:t.languages.javascript}}),t.languages.javascript.keyword.unshift({pattern:/\b(?:as|default|export|from|import)\b/,alias:"module"},{pattern:/\b(?:await|break|catch|continue|do|else|finally|for|if|return|switch|throw|try|while|yield)\b/,alias:"control-flow"},{pattern:/\bnull\b/,alias:["null","nil"]},{pattern:/\bundefined\b/,alias:"nil"}),t.languages.insertBefore("javascript","operator",{spread:{pattern:/\.{3}/,alias:"operator"},arrow:{pattern:/=>/,alias:"operator"}}),t.languages.insertBefore("javascript","punctuation",{"property-access":{pattern:r(/(\.\s*)#?<ID>/.source),lookbehind:!0},"maybe-class-name":{pattern:/(^|[^$\w\xA0-\uFFFF])[A-Z][$\w\xA0-\uFFFF]+/,lookbehind:!0},dom:{pattern:/\b(?:document|(?:local|session)Storage|location|navigator|performance|window)\b/,alias:"variable"},console:{pattern:/\bconsole(?=\s*\.)/,alias:"class-name"}});for(var n=["function","function-variable","method","method-variable","property-access"],a=0;a<n.length;a++){var i=n[a],o=t.languages.javascript[i];t.util.type(o)==="RegExp"&&(o=t.languages.javascript[i]={pattern:o});var l=o.inside||{};o.inside=l,l["maybe-class-name"]=/^[A-Z][\s\S]*/}})(e)}w_.displayName="json5";w_.aliases=[];function w_(e){e.register(Hp),(function(t){var r=/("|')(?:\\(?:\r\n?|\n|.)|(?!\1)[^\\\r\n])*\1/;t.languages.json5=t.languages.extend("json",{property:[{pattern:RegExp(r.source+"(?=\\s*:)"),greedy:!0},{pattern:/(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/,alias:"unquoted"}],string:{pattern:r,greedy:!0},number:/[+-]?\b(?:NaN|Infinity|0x[a-fA-F\d]+)\b|[+-]?(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:[eE][+-]?\d+\b)?/})})(e)}k_.displayName="jsonp";k_.aliases=[];function k_(e){e.register(Hp),e.languages.jsonp=e.languages.extend("json",{punctuation:/[{}[\]();,.]/}),e.languages.insertBefore("jsonp","punctuation",{function:/(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*\()/})}C_.displayName="jsstacktrace";C_.aliases=[];function C_(e){e.languages.jsstacktrace={"error-message":{pattern:/^\S.*/m,alias:"string"},"stack-frame":{pattern:/(^[ \t]+)at[ \t].*/m,lookbehind:!0,inside:{"not-my-code":{pattern:/^at[ \t]+(?!\s)(?:node\.js|<unknown>|.*(?:node_modules|\(<anonymous>\)|\(<unknown>|<anonymous>$|\(internal\/|\(node\.js)).*/m,alias:"comment"},filename:{pattern:/(\bat\s+(?!\s)|\()(?:[a-zA-Z]:)?[^():]+(?=:)/,lookbehind:!0,alias:"url"},function:{pattern:/(\bat\s+(?:new\s+)?)(?!\s)[_$a-zA-Z\xA0-\uFFFF<][.$\w\xA0-\uFFFF<>]*/,lookbehind:!0,inside:{punctuation:/\./}},punctuation:/[()]/,keyword:/\b(?:at|new)\b/,alias:{pattern:/\[(?:as\s+)?(?!\s)[_$a-zA-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*\]/,alias:"variable"},"line-number":{pattern:/:\d+(?::\d+)?\b/,alias:"number",inside:{punctuation:/:/}}}}}}__.displayName="julia";__.aliases=[];function __(e){e.languages.julia={comment:{pattern:/(^|[^\\])(?:#=(?:[^#=]|=(?!#)|#(?!=)|#=(?:[^#=]|=(?!#)|#(?!=))*=#)*=#|#.*)/,lookbehind:!0},regex:{pattern:/r"(?:\\.|[^"\\\r\n])*"[imsx]{0,4}/,greedy:!0},string:{pattern:/"""[\s\S]+?"""|(?:\b\w+)?"(?:\\.|[^"\\\r\n])*"|`(?:[^\\`\r\n]|\\.)*`/,greedy:!0},char:{pattern:/(^|[^\w'])'(?:\\[^\r\n][^'\r\n]*|[^\\\r\n])'/,lookbehind:!0,greedy:!0},keyword:/\b(?:abstract|baremodule|begin|bitstype|break|catch|ccall|const|continue|do|else|elseif|end|export|finally|for|function|global|if|immutable|import|importall|in|let|local|macro|module|print|println|quote|return|struct|try|type|typealias|using|while)\b/,boolean:/\b(?:false|true)\b/,number:/(?:\b(?=\d)|\B(?=\.))(?:0[box])?(?:[\da-f]+(?:_[\da-f]+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[efp][+-]?\d+(?:_\d+)*)?j?/i,operator:/&&|\|\||[-+*^%&$\\]=?|\/[\/=]?|!=?=?|\|[=>]?|<(?:<=?|[=:|])?|>(?:=|>>?=?)?|==?=?|[~']/,punctuation:/::?|[{}[\]();,.?]/,constant:/\b(?:(?:Inf|NaN)(?:16|32|64)?|im|pi)\b|[]/}}A_.displayName="keepalived";A_.aliases=[];function A_(e){e.languages.keepalived={comment:{pattern:/[#!].*/,greedy:!0},string:{pattern:/(^|[^\\])(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/,lookbehind:!0,greedy:!0},ip:{pattern:RegExp(/\b(?:(?:(?:[\da-f]{1,4}:){7}[\da-f]{1,4}|(?:[\da-f]{1,4}:){6}:[\da-f]{1,4}|(?:[\da-f]{1,4}:){5}:(?:[\da-f]{1,4}:)?[\da-f]{1,4}|(?:[\da-f]{1,4}:){4}:(?:[\da-f]{1,4}:){0,2}[\da-f]{1,4}|(?:[\da-f]{1,4}:){3}:(?:[\da-f]{1,4}:){0,3}[\da-f]{1,4}|(?:[\da-f]{1,4}:){2}:(?:[\da-f]{1,4}:){0,4}[\da-f]{1,4}|(?:[\da-f]{1,4}:){6}<ipv4>|(?:[\da-f]{1,4}:){0,5}:<ipv4>|::(?:[\da-f]{1,4}:){0,5}<ipv4>|[\da-f]{1,4}::(?:[\da-f]{1,4}:){0,5}[\da-f]{1,4}|::(?:[\da-f]{1,4}:){0,6}[\da-f]{1,4}|(?:[\da-f]{1,4}:){1,7}:)(?:\/\d{1,3})?|<ipv4>(?:\/\d{1,2})?)\b/.source.replace(/<ipv4>/g,function(){return/(?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)\.){3}(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d))/.source}),"i"),alias:"number"},path:{pattern:/(\s)\/(?:[^\/\s]+\/)*[^\/\s]*|\b[a-zA-Z]:\\(?:[^\\\s]+\\)*[^\\\s]*/,lookbehind:!0,alias:"string"},variable:/\$\{?\w+\}?/,email:{pattern:/[\w-]+@[\w-]+(?:\.[\w-]{2,3}){1,2}/,alias:"string"},"conditional-configuration":{pattern:/@\^?[\w-]+/,alias:"variable"},operator:/=/,property:/\b(?:BFD_CHECK|DNS_CHECK|FILE_CHECK|HTTP_GET|MISC_CHECK|NAME|PING_CHECK|SCRIPTS|SMTP_CHECK|SSL|SSL_GET|TCP_CHECK|UDP_CHECK|accept|advert_int|alpha|auth_pass|auth_type|authentication|bfd_cpu_affinity|bfd_instance|bfd_no_swap|bfd_priority|bfd_process_name|bfd_rlimit_rttime|bfd_rt_priority|bind_if|bind_port|bindto|ca|certificate|check_unicast_src|checker|checker_cpu_affinity|checker_log_all_failures|checker_no_swap|checker_priority|checker_rlimit_rttime|checker_rt_priority|child_wait_time|connect_ip|connect_port|connect_timeout|dbus_service_name|debug|default_interface|delay|delay_before_retry|delay_loop|digest|dont_track_primary|dynamic|dynamic_interfaces|enable_(?:dbus|script_security|sni|snmp_checker|snmp_rfc|snmp_rfcv2|snmp_rfcv3|snmp_vrrp|traps)|end|fall|fast_recovery|file|flag-[123]|fork_delay|full_command|fwmark|garp_group|garp_interval|garp_lower_prio_delay|garp_lower_prio_repeat|garp_master_delay|garp_master_refresh|garp_master_refresh_repeat|garp_master_repeat|global_defs|global_tracking|gna_interval|group|ha_suspend|hashed|helo_name|higher_prio_send_advert|hoplimit|http_protocol|hysteresis|idle_tx|include|inhibit_on_failure|init_fail|init_file|instance|interface|interfaces|interval|ip_family|ipvs_process_name|keepalived.conf|kernel_rx_buf_size|key|linkbeat_interfaces|linkbeat_use_polling|log_all_failures|log_unknown_vrids|lower_prio_no_advert|lthreshold|lvs_flush|lvs_flush_onstop|lvs_method|lvs_netlink_cmd_rcv_bufs|lvs_netlink_cmd_rcv_bufs_force|lvs_netlink_monitor_rcv_bufs|lvs_netlink_monitor_rcv_bufs_force|lvs_notify_fifo|lvs_notify_fifo_script|lvs_sched|lvs_sync_daemon|max_auto_priority|max_hops|mcast_src_ip|mh-fallback|mh-port|min_auto_priority_delay|min_rx|min_tx|misc_dynamic|misc_path|misc_timeout|multiplier|name|namespace_with_ipsets|native_ipv6|neighbor_ip|net_namespace|net_namespace_ipvs|nftables|nftables_counters|nftables_ifindex|nftables_priority|no_accept|no_checker_emails|no_email_faults|nopreempt|notification_email|notification_email_from|notify|notify_backup|notify_deleted|notify_down|notify_fault|notify_fifo|notify_fifo_script|notify_master|notify_master_rx_lower_pri|notify_priority_changes|notify_stop|notify_up|old_unicast_checksum|omega|ops|param_match|passive|password|path|persistence_engine|persistence_granularity|persistence_timeout|preempt|preempt_delay|priority|process|process_monitor_rcv_bufs|process_monitor_rcv_bufs_force|process_name|process_names|promote_secondaries|protocol|proxy_arp|proxy_arp_pvlan|quorum|quorum_down|quorum_max|quorum_up|random_seed|real_server|regex|regex_max_offset|regex_min_offset|regex_no_match|regex_options|regex_stack|reload_repeat|reload_time_file|require_reply|retry|rise|router_id|rs_init_notifies|script|script_user|sh-fallback|sh-port|shutdown_script|shutdown_script_timeout|skip_check_adv_addr|smtp_alert|smtp_alert_checker|smtp_alert_vrrp|smtp_connect_timeout|smtp_helo_name|smtp_server|snmp_socket|sorry_server|sorry_server_inhibit|sorry_server_lvs_method|source_ip|start|startup_script|startup_script_timeout|state|static_ipaddress|static_routes|static_rules|status_code|step|strict_mode|sync_group_tracking_weight|terminate_delay|timeout|track_bfd|track_file|track_group|track_interface|track_process|track_script|track_src_ip|ttl|type|umask|unicast_peer|unicast_src_ip|unicast_ttl|url|use_ipvlan|use_pid_dir|use_vmac|user|uthreshold|val[123]|version|virtual_ipaddress|virtual_ipaddress_excluded|virtual_router_id|virtual_routes|virtual_rules|virtual_server|virtual_server_group|virtualhost|vmac_xmit_base|vrrp|vrrp_(?:check_unicast_src|cpu_affinity|garp_interval|garp_lower_prio_delay|garp_lower_prio_repeat|garp_master_delay|garp_master_refresh|garp_master_refresh_repeat|garp_master_repeat|gna_interval|higher_prio_send_advert|instance|ipsets|iptables|lower_prio_no_advert|mcast_group4|mcast_group6|min_garp|netlink_cmd_rcv_bufs|netlink_cmd_rcv_bufs_force|netlink_monitor_rcv_bufs|netlink_monitor_rcv_bufs_force|no_swap|notify_fifo|notify_fifo_script|notify_priority_changes|priority|process_name|rlimit_rttime|rt_priority|rx_bufs_multiplier|rx_bufs_policy|script|skip_check_adv_addr|startup_delay|strict|sync_group|track_process|version)|warmup|weight)\b/,constant:/\b(?:A|AAAA|AH|BACKUP|CNAME|DR|MASTER|MX|NAT|NS|PASS|SCTP|SOA|TCP|TUN|TXT|UDP|dh|fo|lblc|lblcr|lc|mh|nq|ovf|rr|sed|sh|wlc|wrr)\b/,number:{pattern:/(^|[^\w.-])-?\d+(?:\.\d+)?/,lookbehind:!0},boolean:/\b(?:false|no|off|on|true|yes)\b/,punctuation:/[\{\}]/}}N_.displayName="keyman";N_.aliases=[];function N_(e){e.languages.keyman={comment:{pattern:/\bc .*/i,greedy:!0},string:{pattern:/"[^"\r\n]*"|'[^'\r\n]*'/,greedy:!0},"virtual-key":{pattern:/\[\s*(?:(?:ALT|CAPS|CTRL|LALT|LCTRL|NCAPS|RALT|RCTRL|SHIFT)\s+)*(?:[TKU]_[\w?]+|[A-E]\d\d?|"[^"\r\n]*"|'[^'\r\n]*')\s*\]/i,greedy:!0,alias:"function"},"header-keyword":{pattern:/&\w+/,alias:"bold"},"header-statement":{pattern:/\b(?:bitmap|bitmaps|caps always off|caps on only|copyright|hotkey|language|layout|message|name|shift frees caps|version)\b/i,alias:"bold"},"rule-keyword":{pattern:/\b(?:any|baselayout|beep|call|context|deadkey|dk|if|index|layer|notany|nul|outs|platform|reset|return|save|set|store|use)\b/i,alias:"keyword"},"structural-keyword":{pattern:/\b(?:ansi|begin|group|match|newcontext|nomatch|postkeystroke|readonly|unicode|using keys)\b/i,alias:"keyword"},"compile-target":{pattern:/\$(?:keyman|keymanonly|keymanweb|kmfl|weaver):/i,alias:"property"},number:/\b(?:U\+[\dA-F]+|d\d+|x[\da-f]+|\d+)\b/i,operator:/[+>\\$]|\.\./,punctuation:/[()=,]/}}I_.displayName="kumir";I_.aliases=["kum"];function I_(e){(function(t){var r=/\s\x00-\x1f\x22-\x2f\x3a-\x3f\x5b-\x5e\x60\x7b-\x7e/.source;function n(a,i){return RegExp(a.replace(/<nonId>/g,r),i)}t.languages.kumir={comment:{pattern:/\|.*/},prolog:{pattern:/#.*/,greedy:!0},string:{pattern:/"[^\n\r"]*"|'[^\n\r']*'/,greedy:!0},boolean:{pattern:n(/(^|[<nonId>])(?:|)(?=[<nonId>]|$)/.source),lookbehind:!0},"operator-word":{pattern:n(/(^|[<nonId>])(?:||)(?=[<nonId>]|$)/.source),lookbehind:!0,alias:"keyword"},"system-variable":{pattern:n(/(^|[<nonId>])(?=[<nonId>]|$)/.source),lookbehind:!0,alias:"keyword"},type:[{pattern:n(/(^|[<nonId>])(?:||||)(?:\x20*)?(?=[<nonId>]|$)/.source),lookbehind:!0,alias:"builtin"},{pattern:n(/(^|[<nonId>])(?:|||)(?=[<nonId>]|$)/.source),lookbehind:!0,alias:"important"}],keyword:{pattern:n(/(^|[<nonId>])(?:|(?:\x20*)?|||[]||||||||||||(?:(?:\x20+|_))?|(?:(?:\x20+|_))?|||||||||?||||||)(?=[<nonId>]|$)/.source),lookbehind:!0},name:{pattern:n(/(^|[<nonId>])[^\d<nonId>][^<nonId>]*(?:\x20+[^<nonId>]+)*(?=[<nonId>]|$)/.source),lookbehind:!0},number:{pattern:n(/(^|[<nonId>])(?:\B\$[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?)(?=[<nonId>]|$)/.source,"i"),lookbehind:!0},punctuation:/:=|[(),:;\[\]]/,"operator-char":{pattern:/\*\*?|<[=>]?|>=?|[-+/=]/,alias:"operator"}},t.languages.kum=t.languages.kumir})(e)}R_.displayName="kusto";R_.aliases=[];function R_(e){e.languages.kusto={comment:{pattern:/\/\/.*/,greedy:!0},string:{pattern:/```[\s\S]*?```|[hH]?(?:"(?:[^\r\n\\"]|\\.)*"|'(?:[^\r\n\\']|\\.)*'|@(?:"[^\r\n"]*"|'[^\r\n']*'))/,greedy:!0},verb:{pattern:/(\|\s*)[a-z][\w-]*/i,lookbehind:!0,alias:"keyword"},command:{pattern:/\.[a-z][a-z\d-]*\b/,alias:"keyword"},"class-name":/\b(?:bool|datetime|decimal|dynamic|guid|int|long|real|string|timespan)\b/,keyword:/\b(?:access|alias|and|anti|as|asc|auto|between|by|(?:contains|(?:ends|starts)with|has(?:perfix|suffix)?)(?:_cs)?|database|declare|desc|external|from|fullouter|has_all|in|ingestion|inline|inner|innerunique|into|(?:left|right)(?:anti(?:semi)?|inner|outer|semi)?|let|like|local|not|of|on|or|pattern|print|query_parameters|range|restrict|schema|set|step|table|tables|to|view|where|with|matches\s+regex|nulls\s+(?:first|last))(?![\w-])/,boolean:/\b(?:false|null|true)\b/,function:/\b[a-z_]\w*(?=\s*\()/,datetime:[{pattern:/\b(?:(?:Fri|Friday|Mon|Monday|Sat|Saturday|Sun|Sunday|Thu|Thursday|Tue|Tuesday|Wed|Wednesday)\s*,\s*)?\d{1,2}(?:\s+|-)(?:Apr|Aug|Dec|Feb|Jan|Jul|Jun|Mar|May|Nov|Oct|Sep)(?:\s+|-)\d{2}\s+\d{2}:\d{2}(?::\d{2})?(?:\s*(?:\b(?:[A-Z]|(?:[ECMT][DS]|GM|U)T)|[+-]\d{4}))?\b/,alias:"number"},{pattern:/[+-]?\b(?:\d{4}-\d{2}-\d{2}(?:[ T]\d{2}:\d{2}(?::\d{2}(?:\.\d+)?)?)?|\d{2}:\d{2}(?::\d{2}(?:\.\d+)?)?)Z?/,alias:"number"}],number:/\b(?:0x[0-9A-Fa-f]+|\d+(?:\.\d+)?(?:[Ee][+-]?\d+)?)(?:(?:min|sec|[mn]s|[dhms]|microsecond|tick)\b)?|[+-]?\binf\b/,operator:/=>|[!=]~|[!=<>]=?|[-+*/%|]|\.\./,punctuation:/[()\[\]{},;.:]/}}D_.displayName="latex";D_.aliases=["context","tex"];function D_(e){(function(t){var r=/\\(?:[^a-z()[\]]|[a-z*]+)/i,n={"equation-command":{pattern:r,alias:"regex"}};t.languages.latex={comment:/%.*/,cdata:{pattern:/(\\begin\{((?:lstlisting|verbatim)\*?)\})[\s\S]*?(?=\\end\{\2\})/,lookbehind:!0},equation:[{pattern:/\$\$(?:\\[\s\S]|[^\\$])+\$\$|\$(?:\\[\s\S]|[^\\$])+\$|\\\([\s\S]*?\\\)|\\\[[\s\S]*?\\\]/,inside:n,alias:"string"},{pattern:/(\\begin\{((?:align|eqnarray|equation|gather|math|multline)\*?)\})[\s\S]*?(?=\\end\{\2\})/,lookbehind:!0,inside:n,alias:"string"}],keyword:{pattern:/(\\(?:begin|cite|documentclass|end|label|ref|usepackage)(?:\[[^\]]+\])?\{)[^}]+(?=\})/,lookbehind:!0},url:{pattern:/(\\url\{)[^}]+(?=\})/,lookbehind:!0},headline:{pattern:/(\\(?:chapter|frametitle|paragraph|part|section|subparagraph|subsection|subsubparagraph|subsubsection|subsubsubparagraph)\*?(?:\[[^\]]+\])?\{)[^}]+(?=\})/,lookbehind:!0,alias:"class-name"},function:{pattern:r,alias:"selector"},punctuation:/[[\]{}&]/},t.languages.tex=t.languages.latex,t.languages.context=t.languages.latex})(e)}L_.displayName="latte";L_.aliases=[];function L_(e){e.register(Kr),e.register(rs),e.register(Uu),(function(t){t.languages.latte={comment:/^\{\*[\s\S]*/,"latte-tag":{pattern:/(^\{(?:\/(?=[a-z]))?)(?:[=_]|[a-z]\w*\b(?!\())/i,lookbehind:!0,alias:"important"},delimiter:{pattern:/^\{\/?|\}$/,alias:"punctuation"},php:{pattern:/\S(?:[\s\S]*\S)?/,alias:"language-php",inside:t.languages.php}};var r=t.languages.extend("markup",{});t.languages.insertBefore("inside","attr-value",{"n-attr":{pattern:/n:[\w-]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+))?/,inside:{"attr-name":{pattern:/^[^\s=]+/,alias:"important"},"attr-value":{pattern:/=[\s\S]+/,inside:{punctuation:[/^=/,{pattern:/^(\s*)["']|["']$/,lookbehind:!0}],php:{pattern:/\S(?:[\s\S]*\S)?/,inside:t.languages.php}}}}}},r.tag),t.hooks.add("before-tokenize",function(n){if(n.language==="latte"){var a=/\{\*[\s\S]*?\*\}|\{[^'"\s{}*](?:[^"'/{}]|\/(?![*/])|("|')(?:\\[\s\S]|(?!\1)[^\\])*\1|\/\*(?:[^*]|\*(?!\/))*\*\/)*\}/g;t.languages["markup-templating"].buildPlaceholders(n,"latte",a),n.grammar=r}}),t.hooks.add("after-tokenize",function(n){t.languages["markup-templating"].tokenizePlaceholders(n,"latte")})})(e)}rf.displayName="scheme";rf.aliases=[];function rf(e){(function(t){t.languages.scheme={comment:/;.*|#;\s*(?:\((?:[^()]|\([^()]*\))*\)|\[(?:[^\[\]]|\[[^\[\]]*\])*\])|#\|(?:[^#|]|#(?!\|)|\|(?!#)|#\|(?:[^#|]|#(?!\|)|\|(?!#))*\|#)*\|#/,string:{pattern:/"(?:[^"\\]|\\.)*"/,greedy:!0},symbol:{pattern:/'[^()\[\]#'\s]+/,greedy:!0},char:{pattern:/#\\(?:[ux][a-fA-F\d]+\b|[-a-zA-Z]+\b|[\uD800-\uDBFF][\uDC00-\uDFFF]|\S)/,greedy:!0},"lambda-parameter":[{pattern:/((?:^|[^'`#])[(\[]lambda\s+)(?:[^|()\[\]'\s]+|\|(?:[^\\|]|\\.)*\|)/,lookbehind:!0},{pattern:/((?:^|[^'`#])[(\[]lambda\s+[(\[])[^()\[\]']+/,lookbehind:!0}],keyword:{pattern:/((?:^|[^'`#])[(\[])(?:begin|case(?:-lambda)?|cond(?:-expand)?|define(?:-library|-macro|-record-type|-syntax|-values)?|defmacro|delay(?:-force)?|do|else|except|export|guard|if|import|include(?:-ci|-library-declarations)?|lambda|let(?:rec)?(?:-syntax|-values|\*)?|let\*-values|only|parameterize|prefix|(?:quasi-?)?quote|rename|set!|syntax-(?:case|rules)|unless|unquote(?:-splicing)?|when)(?=[()\[\]\s]|$)/,lookbehind:!0},builtin:{pattern:/((?:^|[^'`#])[(\[])(?:abs|and|append|apply|assoc|ass[qv]|binary-port\?|boolean=?\?|bytevector(?:-append|-copy|-copy!|-length|-u8-ref|-u8-set!|\?)?|caar|cadr|call-with-(?:current-continuation|port|values)|call\/cc|car|cdar|cddr|cdr|ceiling|char(?:->integer|-ready\?|\?|<\?|<=\?|=\?|>\?|>=\?)|close-(?:input-port|output-port|port)|complex\?|cons|current-(?:error|input|output)-port|denominator|dynamic-wind|eof-object\??|eq\?|equal\?|eqv\?|error|error-object(?:-irritants|-message|\?)|eval|even\?|exact(?:-integer-sqrt|-integer\?|\?)?|expt|features|file-error\?|floor(?:-quotient|-remainder|\/)?|flush-output-port|for-each|gcd|get-output-(?:bytevector|string)|inexact\??|input-port(?:-open\?|\?)|integer(?:->char|\?)|lcm|length|list(?:->string|->vector|-copy|-ref|-set!|-tail|\?)?|make-(?:bytevector|list|parameter|string|vector)|map|max|member|memq|memv|min|modulo|negative\?|newline|not|null\?|number(?:->string|\?)|numerator|odd\?|open-(?:input|output)-(?:bytevector|string)|or|output-port(?:-open\?|\?)|pair\?|peek-char|peek-u8|port\?|positive\?|procedure\?|quotient|raise|raise-continuable|rational\?|rationalize|read-(?:bytevector|bytevector!|char|error\?|line|string|u8)|real\?|remainder|reverse|round|set-c[ad]r!|square|string(?:->list|->number|->symbol|->utf8|->vector|-append|-copy|-copy!|-fill!|-for-each|-length|-map|-ref|-set!|\?|<\?|<=\?|=\?|>\?|>=\?)?|substring|symbol(?:->string|\?|=\?)|syntax-error|textual-port\?|truncate(?:-quotient|-remainder|\/)?|u8-ready\?|utf8->string|values|vector(?:->list|->string|-append|-copy|-copy!|-fill!|-for-each|-length|-map|-ref|-set!|\?)?|with-exception-handler|write-(?:bytevector|char|string|u8)|zero\?)(?=[()\[\]\s]|$)/,lookbehind:!0},operator:{pattern:/((?:^|[^'`#])[(\[])(?:[-+*%/]|[<>]=?|=>?)(?=[()\[\]\s]|$)/,lookbehind:!0},number:{pattern:RegExp(r({"<ureal dec>":/\d+(?:\/\d+)|(?:\d+(?:\.\d*)?|\.\d+)(?:[esfdl][+-]?\d+)?/.source,"<real dec>":/[+-]?<ureal dec>|[+-](?:inf|nan)\.0/.source,"<imaginary dec>":/[+-](?:<ureal dec>|(?:inf|nan)\.0)?i/.source,"<complex dec>":/<real dec>(?:@<real dec>|<imaginary dec>)?|<imaginary dec>/.source,"<num dec>":/(?:#d(?:#[ei])?|#[ei](?:#d)?)?<complex dec>/.source,"<ureal box>":/[0-9a-f]+(?:\/[0-9a-f]+)?/.source,"<real box>":/[+-]?<ureal box>|[+-](?:inf|nan)\.0/.source,"<imaginary box>":/[+-](?:<ureal box>|(?:inf|nan)\.0)?i/.source,"<complex box>":/<real box>(?:@<real box>|<imaginary box>)?|<imaginary box>/.source,"<num box>":/#[box](?:#[ei])?|(?:#[ei])?#[box]<complex box>/.source,"<number>":/(^|[()\[\]\s])(?:<num dec>|<num box>)(?=[()\[\]\s]|$)/.source}),"i"),lookbehind:!0},boolean:{pattern:/(^|[()\[\]\s])#(?:[ft]|false|true)(?=[()\[\]\s]|$)/,lookbehind:!0},function:{pattern:/((?:^|[^'`#])[(\[])(?:[^|()\[\]'\s]+|\|(?:[^\\|]|\\.)*\|)(?=[()\[\]\s]|$)/,lookbehind:!0},identifier:{pattern:/(^|[()\[\]\s])\|(?:[^\\|]|\\.)*\|(?=[()\[\]\s]|$)/,lookbehind:!0,greedy:!0},punctuation:/[()\[\]']/};function r(n){for(var a in n)n[a]=n[a].replace(/<[\w\s]+>/g,function(i){return"(?:"+n[i].trim()+")"});return n[a]}})(e)}O_.displayName="lilypond";O_.aliases=["ly"];function O_(e){e.register(rf),(function(t){for(var r=/\((?:[^();"#\\]|\\[\s\S]|;.*(?!.)|"(?:[^"\\]|\\.)*"|#(?:\{(?:(?!#\})[\s\S])*#\}|[^{])|<expr>)*\)/.source,n=5,a=0;a<n;a++)r=r.replace(/<expr>/g,function(){return r});r=r.replace(/<expr>/g,/[^\s\S]/.source);var i=t.languages.lilypond={comment:/%(?:(?!\{).*|\{[\s\S]*?%\})/,"embedded-scheme":{pattern:RegExp(/(^|[=\s])#(?:"(?:[^"\\]|\\.)*"|[^\s()"]*(?:[^\s()]|<expr>))/.source.replace(/<expr>/g,function(){return r}),"m"),lookbehind:!0,greedy:!0,inside:{scheme:{pattern:/^(#)[\s\S]+$/,lookbehind:!0,alias:"language-scheme",inside:{"embedded-lilypond":{pattern:/#\{[\s\S]*?#\}/,greedy:!0,inside:{punctuation:/^#\{|#\}$/,lilypond:{pattern:/[\s\S]+/,alias:"language-lilypond",inside:null}}},rest:t.languages.scheme}},punctuation:/#/}},string:{pattern:/"(?:[^"\\]|\\.)*"/,greedy:!0},"class-name":{pattern:/(\\new\s+)[\w-]+/,lookbehind:!0},keyword:{pattern:/\\[a-z][-\w]*/i,inside:{punctuation:/^\\/}},operator:/[=|]|<<|>>/,punctuation:{pattern:/(^|[a-z\d])(?:'+|,+|[_^]?-[_^]?(?:[-+^!>._]|(?=\d))|[_^]\.?|[.!])|[{}()[\]<>^~]|\\[()[\]<>\\!]|--|__/,lookbehind:!0},number:/\b\d+(?:\/\d+)?\b/};i["embedded-scheme"].inside.scheme.inside["embedded-lilypond"].inside.lilypond.inside=i,t.languages.ly=i})(e)}M_.displayName="liquid";M_.aliases=[];function M_(e){e.register(rs),e.languages.liquid={comment:{pattern:/(^\{%\s*comment\s*%\})[\s\S]+(?=\{%\s*endcomment\s*%\}$)/,lookbehind:!0},delimiter:{pattern:/^\{(?:\{\{|[%\{])-?|-?(?:\}\}|[%\}])\}$/,alias:"punctuation"},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},keyword:/\b(?:as|assign|break|(?:end)?(?:capture|case|comment|for|form|if|paginate|raw|style|tablerow|unless)|continue|cycle|decrement|echo|else|elsif|in|include|increment|limit|liquid|offset|range|render|reversed|section|when|with)\b/,object:/\b(?:address|all_country_option_tags|article|block|blog|cart|checkout|collection|color|country|country_option_tags|currency|current_page|current_tags|customer|customer_address|date|discount_allocation|discount_application|external_video|filter|filter_value|font|forloop|fulfillment|generic_file|gift_card|group|handle|image|line_item|link|linklist|localization|location|measurement|media|metafield|model|model_source|order|page|page_description|page_image|page_title|part|policy|product|product_option|recommendations|request|robots|routes|rule|script|search|selling_plan|selling_plan_allocation|selling_plan_group|shipping_method|shop|shop_locale|sitemap|store_availability|tax_line|template|theme|transaction|unit_price_measurement|user_agent|variant|video|video_source)\b/,function:[{pattern:/(\|\s*)\w+/,lookbehind:!0,alias:"filter"},{pattern:/(\.\s*)(?:first|last|size)/,lookbehind:!0}],boolean:/\b(?:false|nil|true)\b/,range:{pattern:/\.\./,alias:"operator"},number:/\b\d+(?:\.\d+)?\b/,operator:/[!=]=|<>|[<>]=?|[|?:=-]|\b(?:and|contains(?=\s)|or)\b/,punctuation:/[.,\[\]()]/,empty:{pattern:/\bempty\b/,alias:"keyword"}},e.hooks.add("before-tokenize",function(t){var r=/\{%\s*comment\s*%\}[\s\S]*?\{%\s*endcomment\s*%\}|\{(?:%[\s\S]*?%|\{\{[\s\S]*?\}\}|\{[\s\S]*?\})\}/g,n=!1;e.languages["markup-templating"].buildPlaceholders(t,"liquid",r,function(a){var i=/^\{%-?\s*(\w+)/.exec(a);if(i){var o=i[1];if(o==="raw"&&!n)return n=!0,!0;if(o==="endraw")return n=!1,!0}return!n})}),e.hooks.add("after-tokenize",function(t){e.languages["markup-templating"].tokenizePlaceholders(t,"liquid")})}P_.displayName="lisp";P_.aliases=["elisp","emacs","emacs-lisp"];function P_(e){(function(t){function r(x){return RegExp(/(\()/.source+"(?:"+x+")"+/(?=[\s\)])/.source)}function n(x){return RegExp(/([\s([])/.source+"(?:"+x+")"+/(?=[\s)])/.source)}var a=/(?!\d)[-+*/~!@$%^=<>{}\w]+/.source,i="&"+a,o="(\\()",l="(?=\\))",u="(?=\\s)",d=/(?:[^()]|\((?:[^()]|\((?:[^()]|\((?:[^()]|\((?:[^()]|\([^()]*\))*\))*\))*\))*\))*/.source,h={heading:{pattern:/;;;.*/,alias:["comment","title"]},comment:/;.*/,string:{pattern:/"(?:[^"\\]|\\.)*"/,greedy:!0,inside:{argument:/[-A-Z]+(?=[.,\s])/,symbol:RegExp("`"+a+"'")}},"quoted-symbol":{pattern:RegExp("#?'"+a),alias:["variable","symbol"]},"lisp-property":{pattern:RegExp(":"+a),alias:"property"},splice:{pattern:RegExp(",@?"+a),alias:["symbol","variable"]},keyword:[{pattern:RegExp(o+"(?:and|(?:cl-)?letf|cl-loop|cond|cons|error|if|(?:lexical-)?let\\*?|message|not|null|or|provide|require|setq|unless|use-package|when|while)"+u),lookbehind:!0},{pattern:RegExp(o+"(?:append|by|collect|concat|do|finally|for|in|return)"+u),lookbehind:!0}],declare:{pattern:r(/declare/.source),lookbehind:!0,alias:"keyword"},interactive:{pattern:r(/interactive/.source),lookbehind:!0,alias:"keyword"},boolean:{pattern:n(/nil|t/.source),lookbehind:!0},number:{pattern:n(/[-+]?\d+(?:\.\d*)?/.source),lookbehind:!0},defvar:{pattern:RegExp(o+"def(?:const|custom|group|var)\\s+"+a),lookbehind:!0,inside:{keyword:/^def[a-z]+/,variable:RegExp(a)}},defun:{pattern:RegExp(o+/(?:cl-)?(?:defmacro|defun\*?)\s+/.source+a+/\s+\(/.source+d+/\)/.source),lookbehind:!0,greedy:!0,inside:{keyword:/^(?:cl-)?def\S+/,arguments:null,function:{pattern:RegExp("(^\\s)"+a),lookbehind:!0},punctuation:/[()]/}},lambda:{pattern:RegExp(o+"lambda\\s+\\(\\s*(?:&?"+a+"(?:\\s+&?"+a+")*\\s*)?\\)"),lookbehind:!0,greedy:!0,inside:{keyword:/^lambda/,arguments:null,punctuation:/[()]/}},car:{pattern:RegExp(o+a),lookbehind:!0},punctuation:[/(?:['`,]?\(|[)\[\]])/,{pattern:/(\s)\.(?=\s)/,lookbehind:!0}]},g={"lisp-marker":RegExp(i),varform:{pattern:RegExp(/\(/.source+a+/\s+(?=\S)/.source+d+/\)/.source),inside:h},argument:{pattern:RegExp(/(^|[\s(])/.source+a),lookbehind:!0,alias:"variable"},rest:h},f="\\S+(?:\\s+\\S+)*",b={pattern:RegExp(o+d+l),lookbehind:!0,inside:{"rest-vars":{pattern:RegExp("&(?:body|rest)\\s+"+f),inside:g},"other-marker-vars":{pattern:RegExp("&(?:aux|optional)\\s+"+f),inside:g},keys:{pattern:RegExp("&key\\s+"+f+"(?:\\s+&allow-other-keys)?"),inside:g},argument:{pattern:RegExp(a),alias:"variable"},punctuation:/[()]/}};h.lambda.inside.arguments=b,h.defun.inside.arguments=t.util.clone(b),h.defun.inside.arguments.inside.sublist=b,t.languages.lisp=h,t.languages.elisp=h,t.languages.emacs=h,t.languages["emacs-lisp"]=h})(e)}j_.displayName="livescript";j_.aliases=[];function j_(e){e.languages.livescript={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?\*\//,lookbehind:!0},{pattern:/(^|[^\\])#.*/,lookbehind:!0}],"interpolated-string":{pattern:/(^|[^"])("""|")(?:\\[\s\S]|(?!\2)[^\\])*\2(?!")/,lookbehind:!0,greedy:!0,inside:{variable:{pattern:/(^|[^\\])#[a-z_](?:-?[a-z]|[\d_])*/m,lookbehind:!0},interpolation:{pattern:/(^|[^\\])#\{[^}]+\}/m,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^#\{|\}$/,alias:"variable"}}},string:/[\s\S]+/}},string:[{pattern:/('''|')(?:\\[\s\S]|(?!\1)[^\\])*\1/,greedy:!0},{pattern:/<\[[\s\S]*?\]>/,greedy:!0},/\\[^\s,;\])}]+/],regex:[{pattern:/\/\/(?:\[[^\r\n\]]*\]|\\.|(?!\/\/)[^\\\[])+\/\/[gimyu]{0,5}/,greedy:!0,inside:{comment:{pattern:/(^|[^\\])#.*/,lookbehind:!0}}},{pattern:/\/(?:\[[^\r\n\]]*\]|\\.|[^/\\\r\n\[])+\/[gimyu]{0,5}/,greedy:!0}],keyword:{pattern:/(^|(?!-).)\b(?:break|case|catch|class|const|continue|default|do|else|extends|fallthrough|finally|for(?: ever)?|function|if|implements|it|let|loop|new|null|otherwise|own|return|super|switch|that|then|this|throw|try|unless|until|var|void|when|while|yield)(?!-)\b/m,lookbehind:!0},"keyword-operator":{pattern:/(^|[^-])\b(?:(?:delete|require|typeof)!|(?:and|by|delete|export|from|import(?: all)?|in|instanceof|is(?: not|nt)?|not|of|or|til|to|typeof|with|xor)(?!-)\b)/m,lookbehind:!0,alias:"operator"},boolean:{pattern:/(^|[^-])\b(?:false|no|off|on|true|yes)(?!-)\b/m,lookbehind:!0},argument:{pattern:/(^|(?!\.&\.)[^&])&(?!&)\d*/m,lookbehind:!0,alias:"variable"},number:/\b(?:\d+~[\da-z]+|\d[\d_]*(?:\.\d[\d_]*)?(?:[a-z]\w*)?)/i,identifier:/[a-z_](?:-?[a-z]|[\d_])*/i,operator:[{pattern:/( )\.(?= )/,lookbehind:!0},/\.(?:[=~]|\.\.?)|\.(?:[&|^]|<<|>>>?)\.|:(?:=|:=?)|&&|\|[|>]|<(?:<<?<?|--?!?|~~?!?|[|=?])?|>[>=?]?|-(?:->?|>)?|\+\+?|@@?|%%?|\*\*?|!(?:~?=|--?>|~?~>)?|~(?:~?>|=)?|==?|\^\^?|[\/?]/],punctuation:/[(){}\[\]|.,:;`]/},e.languages.livescript["interpolated-string"].inside.interpolation.inside.rest=e.languages.livescript}F_.displayName="llvm";F_.aliases=[];function F_(e){(function(t){t.languages.llvm={comment:/;.*/,string:{pattern:/"[^"]*"/,greedy:!0},boolean:/\b(?:false|true)\b/,variable:/[%@!#](?:(?!\d)(?:[-$.\w]|\\[a-f\d]{2})+|\d+)/i,label:/(?!\d)(?:[-$.\w]|\\[a-f\d]{2})+:/i,type:{pattern:/\b(?:double|float|fp128|half|i[1-9]\d*|label|metadata|ppc_fp128|token|void|x86_fp80|x86_mmx)\b/,alias:"class-name"},keyword:/\b[a-z_][a-z_0-9]*\b/,number:/[+-]?\b\d+(?:\.\d+)?(?:[eE][+-]?\d+)?\b|\b0x[\dA-Fa-f]+\b|\b0xK[\dA-Fa-f]{20}\b|\b0x[ML][\dA-Fa-f]{32}\b|\b0xH[\dA-Fa-f]{4}\b/,punctuation:/[{}[\];(),.!*=<>]/}})(e)}B_.displayName="log";B_.aliases=[];function B_(e){e.languages.log={string:{pattern:/"(?:[^"\\\r\n]|\\.)*"|'(?![st] | \w)(?:[^'\\\r\n]|\\.)*'/,greedy:!0},exception:{pattern:/(^|[^\w.])[a-z][\w.]*(?:Error|Exception):.*(?:(?:\r\n?|\n)[ \t]*(?:at[ \t].+|\.{3}.*|Caused by:.*))+(?:(?:\r\n?|\n)[ \t]*\.\.\. .*)?/,lookbehind:!0,greedy:!0,alias:["javastacktrace","language-javastacktrace"],inside:e.languages.javastacktrace||{keyword:/\bat\b/,function:/[a-z_][\w$]*(?=\()/,punctuation:/[.:()]/}},level:[{pattern:/\b(?:ALERT|CRIT|CRITICAL|EMERG|EMERGENCY|ERR|ERROR|FAILURE|FATAL|SEVERE)\b/,alias:["error","important"]},{pattern:/\b(?:WARN|WARNING|WRN)\b/,alias:["warning","important"]},{pattern:/\b(?:DISPLAY|INF|INFO|NOTICE|STATUS)\b/,alias:["info","keyword"]},{pattern:/\b(?:DBG|DEBUG|FINE)\b/,alias:["debug","keyword"]},{pattern:/\b(?:FINER|FINEST|TRACE|TRC|VERBOSE|VRB)\b/,alias:["trace","comment"]}],property:{pattern:/((?:^|[\]|])[ \t]*)[a-z_](?:[\w-]|\b\/\b)*(?:[. ]\(?\w(?:[\w-]|\b\/\b)*\)?)*:(?=\s)/im,lookbehind:!0},separator:{pattern:/(^|[^-+])-{3,}|={3,}|\*{3,}|- - /m,lookbehind:!0,alias:"comment"},url:/\b(?:file|ftp|https?):\/\/[^\s|,;'"]*[^\s|,;'">.]/,email:{pattern:/(^|\s)[-\w+.]+@[a-z][a-z0-9-]*(?:\.[a-z][a-z0-9-]*)+(?=\s)/,lookbehind:!0,alias:"url"},"ip-address":{pattern:/\b(?:\d{1,3}(?:\.\d{1,3}){3})\b/,alias:"constant"},"mac-address":{pattern:/\b[a-f0-9]{2}(?::[a-f0-9]{2}){5}\b/i,alias:"constant"},domain:{pattern:/(^|\s)[a-z][a-z0-9-]*(?:\.[a-z][a-z0-9-]*)*\.[a-z][a-z0-9-]+(?=\s)/,lookbehind:!0,alias:"constant"},uuid:{pattern:/\b[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}\b/i,alias:"constant"},hash:{pattern:/\b(?:[a-f0-9]{32}){1,2}\b/i,alias:"constant"},"file-path":{pattern:/\b[a-z]:[\\/][^\s|,;:(){}\[\]"']+|(^|[\s:\[\](>|])\.{0,2}\/\w[^\s|,;:(){}\[\]"']*/i,lookbehind:!0,greedy:!0,alias:"string"},date:{pattern:RegExp(/\b\d{4}[-/]\d{2}[-/]\d{2}(?:T(?=\d{1,2}:)|(?=\s\d{1,2}:))/.source+"|"+/\b\d{1,4}[-/ ](?:\d{1,2}|Apr|Aug|Dec|Feb|Jan|Jul|Jun|Mar|May|Nov|Oct|Sep)[-/ ]\d{2,4}T?\b/.source+"|"+/\b(?:(?:Fri|Mon|Sat|Sun|Thu|Tue|Wed)(?:\s{1,2}(?:Apr|Aug|Dec|Feb|Jan|Jul|Jun|Mar|May|Nov|Oct|Sep))?|Apr|Aug|Dec|Feb|Jan|Jul|Jun|Mar|May|Nov|Oct|Sep)\s{1,2}\d{1,2}\b/.source,"i"),alias:"number"},time:{pattern:/\b\d{1,2}:\d{1,2}:\d{1,2}(?:[.,:]\d+)?(?:\s?[+-]\d{2}:?\d{2}|Z)?\b/,alias:"number"},boolean:/\b(?:false|null|true)\b/i,number:{pattern:/(^|[^.\w])(?:0x[a-f0-9]+|0o[0-7]+|0b[01]+|v?\d[\da-f]*(?:\.\d+)*(?:e[+-]?\d+)?[a-z]{0,3}\b)\b(?!\.\w)/i,lookbehind:!0},operator:/[;:?<=>~/@!$%&+\-|^(){}*#]/,punctuation:/[\[\].,]/}}U_.displayName="lolcode";U_.aliases=[];function U_(e){e.languages.lolcode={comment:[/\bOBTW\s[\s\S]*?\sTLDR\b/,/\bBTW.+/],string:{pattern:/"(?::.|[^":])*"/,inside:{variable:/:\{[^}]+\}/,symbol:[/:\([a-f\d]+\)/i,/:\[[^\]]+\]/,/:[)>o":]/]},greedy:!0},number:/(?:\B-)?(?:\b\d+(?:\.\d*)?|\B\.\d+)/,symbol:{pattern:/(^|\s)(?:A )?(?:BUKKIT|NOOB|NUMBAR|NUMBR|TROOF|YARN)(?=\s|,|$)/,lookbehind:!0,inside:{keyword:/A(?=\s)/}},label:{pattern:/((?:^|\s)(?:IM IN YR|IM OUTTA YR) )[a-zA-Z]\w*/,lookbehind:!0,alias:"string"},function:{pattern:/((?:^|\s)(?:HOW IZ I|I IZ|IZ) )[a-zA-Z]\w*/,lookbehind:!0},keyword:[{pattern:/(^|\s)(?:AN|FOUND YR|GIMMEH|GTFO|HAI|HAS A|HOW IZ I|I HAS A|I IZ|IF U SAY SO|IM IN YR|IM OUTTA YR|IS NOW(?: A)?|ITZ(?: A)?|IZ|KTHX|KTHXBYE|LIEK(?: A)?|MAEK|MEBBE|MKAY|NERFIN|NO WAI|O HAI IM|O RLY\?|OIC|OMG|OMGWTF|R|SMOOSH|SRS|TIL|UPPIN|VISIBLE|WILE|WTF\?|YA RLY|YR)(?=\s|,|$)/,lookbehind:!0},/'Z(?=\s|,|$)/],boolean:{pattern:/(^|\s)(?:FAIL|WIN)(?=\s|,|$)/,lookbehind:!0},variable:{pattern:/(^|\s)IT(?=\s|,|$)/,lookbehind:!0},operator:{pattern:/(^|\s)(?:NOT|BOTH SAEM|DIFFRINT|(?:ALL|ANY|BIGGR|BOTH|DIFF|EITHER|MOD|PRODUKT|QUOSHUNT|SMALLR|SUM|WON) OF)(?=\s|,|$)/,lookbehind:!0},punctuation:/\.{3}||,|!/}}$_.displayName="magma";$_.aliases=[];function $_(e){e.languages.magma={output:{pattern:/^(>.*(?:\r(?:\n|(?!\n))|\n))(?!>)(?:.+|(?:\r(?:\n|(?!\n))|\n)(?!>).*)(?:(?:\r(?:\n|(?!\n))|\n)(?!>).*)*/m,lookbehind:!0,greedy:!0},comment:{pattern:/\/\/.*|\/\*[\s\S]*?\*\//,greedy:!0},string:{pattern:/(^|[^\\"])"(?:[^\r\n\\"]|\\.)*"/,lookbehind:!0,greedy:!0},keyword:/\b(?:_|adj|and|assert|assert2|assert3|assigned|break|by|case|cat|catch|clear|cmpeq|cmpne|continue|declare|default|delete|diff|div|do|elif|else|end|eq|error|eval|exists|exit|for|forall|forward|fprintf|freeze|function|ge|gt|if|iload|import|in|intrinsic|is|join|le|load|local|lt|meet|mod|ne|not|notadj|notin|notsubset|or|print|printf|procedure|quit|random|read|readi|repeat|require|requirege|requirerange|restore|return|save|sdiff|select|subset|then|time|to|try|until|vprint|vprintf|vtime|when|where|while|xor)\b/,boolean:/\b(?:false|true)\b/,generator:{pattern:/\b[a-z_]\w*(?=\s*<)/i,alias:"class-name"},function:/\b[a-z_]\w*(?=\s*\()/i,number:{pattern:/(^|[^\w.]|\.\.)(?:\d+(?:\.\d*)?|\.\d+)(?:[eE][+-]?\d+)?(?:_[a-z]?)?(?=$|[^\w.]|\.\.)/,lookbehind:!0},operator:/->|[-+*/^~!|#=]|:=|\.\./,punctuation:/[()[\]{}<>,;.:]/}}Mx.displayName="mata";Mx.aliases=[];function Mx(e){(function(t){var r=/\b(?:(?:col|row)?vector|matrix|scalar)\b/.source,n=/\bvoid\b|<org>|\b(?:complex|numeric|pointer(?:\s*\([^()]*\))?|real|string|(?:class|struct)\s+\w+|transmorphic)(?:\s*<org>)?/.source.replace(/<org>/g,r);t.languages.mata={comment:{pattern:/\/\/.*|\/\*(?:[^*/]|\*(?!\/)|\/(?!\*)|\/\*(?:[^*]|\*(?!\/))*\*\/)*\*\//,greedy:!0},string:{pattern:/"[^"\r\n]*"|[`']".*?"[`']/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|struct)\s+)\w+(?=\s*(?:\{|\bextends\b))/,lookbehind:!0},type:{pattern:RegExp(n),alias:"class-name",inside:{punctuation:/[()]/,keyword:/\b(?:class|function|struct|void)\b/}},keyword:/\b(?:break|class|continue|do|else|end|extends|external|final|for|function|goto|if|pragma|private|protected|public|return|static|struct|unset|unused|version|virtual|while)\b/,constant:/\bNULL\b/,number:{pattern:/(^|[^\w.])(?:\d+(?:\.\d+)?(?:e[+-]?\d+)?|\d[a-f0-9]*(?:\.[a-f0-9]+)?x[+-]?\d+)i?(?![\w.])/i,lookbehind:!0},missing:{pattern:/(^|[^\w.])(?:\.[a-z]?)(?![\w.])/,lookbehind:!0,alias:"symbol"},function:/\b[a-z_]\w*(?=\s*\()/i,operator:/\.\.|\+\+|--|&&|\|\||:?(?:[!=<>]=|[+\-*/^<>&|:])|[!?=\\#`']/,punctuation:/[()[\]{},;.]/}})(e)}H_.displayName="matlab";H_.aliases=[];function H_(e){e.languages.matlab={comment:[/%\{[\s\S]*?\}%/,/%.+/],string:{pattern:/\B'(?:''|[^'\r\n])*'/,greedy:!0},number:/(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:[eE][+-]?\d+)?(?:[ij])?|\b[ij]\b/,keyword:/\b(?:NaN|break|case|catch|continue|else|elseif|end|for|function|if|inf|otherwise|parfor|pause|pi|return|switch|try|while)\b/,function:/\b(?!\d)\w+(?=\s*\()/,operator:/\.?[*^\/\\']|[+\-:@]|[<>=~]=?|&&?|\|\|?/,punctuation:/\.{3}|[.,;\[\](){}!]/}}z_.displayName="maxscript";z_.aliases=[];function z_(e){(function(t){var r=/\b(?:about|and|animate|as|at|attributes|by|case|catch|collect|continue|coordsys|do|else|exit|fn|for|from|function|global|if|in|local|macroscript|mapped|max|not|of|off|on|or|parameters|persistent|plugin|rcmenu|return|rollout|set|struct|then|throw|to|tool|try|undo|utility|when|where|while|with)\b/i;t.languages.maxscript={comment:{pattern:/\/\*[\s\S]*?(?:\*\/|$)|--.*/,greedy:!0},string:{pattern:/(^|[^"\\@])(?:"(?:[^"\\]|\\[\s\S])*"|@"[^"]*")/,lookbehind:!0,greedy:!0},path:{pattern:/\$(?:[\w/\\.*?]|'[^']*')*/,greedy:!0,alias:"string"},"function-call":{pattern:RegExp("((?:"+(/^/.source+"|"+/[;=<>+\-*/^({\[]/.source+"|"+/\b(?:and|by|case|catch|collect|do|else|if|in|not|or|return|then|to|try|where|while|with)\b/.source)+")[ 	]*)(?!"+r.source+")"+/[a-z_]\w*\b/.source+"(?=[ 	]*(?:"+("(?!"+r.source+")"+/[a-z_]/.source+"|"+/\d|-\.?\d/.source+"|"+/[({'"$@#?]/.source)+"))","im"),lookbehind:!0,greedy:!0,alias:"function"},"function-definition":{pattern:/(\b(?:fn|function)\s+)\w+\b/i,lookbehind:!0,alias:"function"},argument:{pattern:/\b[a-z_]\w*(?=:)/i,alias:"attr-name"},keyword:r,boolean:/\b(?:false|true)\b/,time:{pattern:/(^|[^\w.])(?:(?:(?:\d+(?:\.\d*)?|\.\d+)(?:[eEdD][+-]\d+|[LP])?[msft])+|\d+:\d+(?:\.\d*)?)(?![\w.:])/,lookbehind:!0,alias:"number"},number:[{pattern:/(^|[^\w.])(?:(?:\d+(?:\.\d*)?|\.\d+)(?:[eEdD][+-]\d+|[LP])?|0x[a-fA-F0-9]+)(?![\w.:])/,lookbehind:!0},/\b(?:e|pi)\b/],constant:/\b(?:dontcollect|ok|silentValue|undefined|unsupplied)\b/,color:{pattern:/\b(?:black|blue|brown|gray|green|orange|red|white|yellow)\b/i,alias:"constant"},operator:/[-+*/<>=!]=?|[&^?]|#(?!\()/,punctuation:/[()\[\]{}.:,;]|#(?=\()|\\$/m}})(e)}G_.displayName="mel";G_.aliases=[];function G_(e){e.languages.mel={comment:{pattern:/\/\/.*|\/\*[\s\S]*?\*\//,greedy:!0},code:{pattern:/`(?:\\.|[^\\`])*`/,greedy:!0,alias:"italic",inside:{delimiter:{pattern:/^`|`$/,alias:"punctuation"},statement:{pattern:/[\s\S]+/,inside:null}}},string:{pattern:/"(?:\\.|[^\\"\r\n])*"/,greedy:!0},variable:/\$\w+/,number:/\b0x[\da-fA-F]+\b|\b\d+(?:\.\d*)?|\B\.\d+/,flag:{pattern:/-[^\d\W]\w*/,alias:"operator"},keyword:/\b(?:break|case|continue|default|do|else|float|for|global|if|in|int|matrix|proc|return|string|switch|vector|while)\b/,function:{pattern:/((?:^|[{;])[ \t]*)[a-z_]\w*\b(?!\s*(?:\.(?!\.)|[[{=]))|\b[a-z_]\w*(?=[ \t]*\()/im,lookbehind:!0,greedy:!0},"tensor-punctuation":{pattern:/<<|>>/,alias:"punctuation"},operator:/\+[+=]?|-[-=]?|&&|\|\||[<>]=?|[*\/!=]=?|[%^]/,punctuation:/[.,:;?\[\](){}]/},e.languages.mel.code.inside.statement.inside=e.languages.mel}q_.displayName="mermaid";q_.aliases=[];function q_(e){e.languages.mermaid={comment:{pattern:/%%.*/,greedy:!0},style:{pattern:/^([ \t]*(?:classDef|linkStyle|style)[ \t]+[\w$-]+[ \t]+)\w.*[^\s;]/m,lookbehind:!0,inside:{property:/\b\w[\w-]*(?=[ \t]*:)/,operator:/:/,punctuation:/,/}},"inter-arrow-label":{pattern:/([^<>ox.=-])(?:-[-.]|==)(?![<>ox.=-])[ \t]*(?:"[^"\r\n]*"|[^\s".=-](?:[^\r\n.=-]*[^\s.=-])?)[ \t]*(?:\.+->?|--+[->]|==+[=>])(?![<>ox.=-])/,lookbehind:!0,greedy:!0,inside:{arrow:{pattern:/(?:\.+->?|--+[->]|==+[=>])$/,alias:"operator"},label:{pattern:/^([\s\S]{2}[ \t]*)\S(?:[\s\S]*\S)?/,lookbehind:!0,alias:"property"},"arrow-head":{pattern:/^\S+/,alias:["arrow","operator"]}}},arrow:[{pattern:/(^|[^{}|o.-])[|}][|o](?:--|\.\.)[|o][|{](?![{}|o.-])/,lookbehind:!0,alias:"operator"},{pattern:/(^|[^<>ox.=-])(?:[<ox](?:==+|--+|-\.*-)[>ox]?|(?:==+|--+|-\.*-)[>ox]|===+|---+|-\.+-)(?![<>ox.=-])/,lookbehind:!0,alias:"operator"},{pattern:/(^|[^<>()x-])(?:--?(?:>>|[x>)])(?![<>()x])|(?:<<|[x<(])--?(?!-))/,lookbehind:!0,alias:"operator"},{pattern:/(^|[^<>|*o.-])(?:[*o]--|--[*o]|<\|?(?:--|\.\.)|(?:--|\.\.)\|?>|--|\.\.)(?![<>|*o.-])/,lookbehind:!0,alias:"operator"}],label:{pattern:/(^|[^|<])\|(?:[^\r\n"|]|"[^"\r\n]*")+\|/,lookbehind:!0,greedy:!0,alias:"property"},text:{pattern:/(?:[(\[{]+|\b>)(?:[^\r\n"()\[\]{}]|"[^"\r\n]*")+(?:[)\]}]+|>)/,alias:"string"},string:{pattern:/"[^"\r\n]*"/,greedy:!0},annotation:{pattern:/<<(?:abstract|choice|enumeration|fork|interface|join|service)>>|\[\[(?:choice|fork|join)\]\]/i,alias:"important"},keyword:[{pattern:/(^[ \t]*)(?:action|callback|class|classDef|classDiagram|click|direction|erDiagram|flowchart|gantt|gitGraph|graph|journey|link|linkStyle|pie|requirementDiagram|sequenceDiagram|stateDiagram|stateDiagram-v2|style|subgraph)(?![\w$-])/m,lookbehind:!0,greedy:!0},{pattern:/(^[ \t]*)(?:activate|alt|and|as|autonumber|deactivate|else|end(?:[ \t]+note)?|loop|opt|par|participant|rect|state|note[ \t]+(?:over|(?:left|right)[ \t]+of))(?![\w$-])/im,lookbehind:!0,greedy:!0}],entity:/#[a-z0-9]+;/,operator:{pattern:/(\w[ \t]*)&(?=[ \t]*\w)|:::|:/,lookbehind:!0},punctuation:/[(){};]/}}W_.displayName="metafont";W_.aliases=[];function W_(e){e.languages.metafont={comment:{pattern:/%.*/,greedy:!0},string:{pattern:/"[^\r\n"]*"/,greedy:!0},number:/\d*\.?\d+/,boolean:/\b(?:false|true)\b/,punctuation:[/[,;()]/,{pattern:/(^|[^{}])(?:\{|\})(?![{}])/,lookbehind:!0},{pattern:/(^|[^[])\[(?!\[)/,lookbehind:!0},{pattern:/(^|[^\]])\](?!\])/,lookbehind:!0}],constant:[{pattern:/(^|[^!?])\?\?\?(?![!?])/,lookbehind:!0},{pattern:/(^|[^/*\\])(?:\\|\\\\)(?![/*\\])/,lookbehind:!0},/\b(?:_|blankpicture|bp|cc|cm|dd|ditto|down|eps|epsilon|fullcircle|halfcircle|identity|in|infinity|left|mm|nullpen|nullpicture|origin|pc|penrazor|penspeck|pensquare|penstroke|proof|pt|quartercircle|relax|right|smoke|unitpixel|unitsquare|up)\b/],quantity:{pattern:/\b(?:autorounding|blacker|boundarychar|charcode|chardp|chardx|chardy|charext|charht|charic|charwd|currentwindow|day|designsize|displaying|fillin|fontmaking|granularity|hppp|join_radius|month|o_correction|pausing|pen_(?:bot|lft|rt|top)|pixels_per_inch|proofing|showstopping|smoothing|time|tolerance|tracingcapsules|tracingchoices|tracingcommands|tracingedges|tracingequations|tracingmacros|tracingonline|tracingoutput|tracingpens|tracingrestores|tracingspecs|tracingstats|tracingtitles|turningcheck|vppp|warningcheck|xoffset|year|yoffset)\b/,alias:"keyword"},command:{pattern:/\b(?:addto|batchmode|charlist|cull|display|errhelp|errmessage|errorstopmode|everyjob|extensible|fontdimen|headerbyte|inner|interim|let|ligtable|message|newinternal|nonstopmode|numspecial|openwindow|outer|randomseed|save|scrollmode|shipout|show|showdependencies|showstats|showtoken|showvariable|special)\b/,alias:"builtin"},operator:[{pattern:/(^|[^>=<:|])(?:<|<=|=|=:|\|=:|\|=:>|=:\|>|=:\||\|=:\||\|=:\|>|\|=:\|>>|>|>=|:|:=|<>|::|\|\|:)(?![>=<:|])/,lookbehind:!0},{pattern:/(^|[^+-])(?:\+|\+\+|-{1,3}|\+-\+)(?![+-])/,lookbehind:!0},{pattern:/(^|[^/*\\])(?:\*|\*\*|\/)(?![/*\\])/,lookbehind:!0},{pattern:/(^|[^.])(?:\.{2,3})(?!\.)/,lookbehind:!0},{pattern:/(^|[^@#&$])&(?![@#&$])/,lookbehind:!0},/\b(?:and|not|or)\b/],macro:{pattern:/\b(?:abs|beginchar|bot|byte|capsule_def|ceiling|change_width|clear_pen_memory|clearit|clearpen|clearxy|counterclockwise|cullit|cutdraw|cutoff|decr|define_blacker_pixels|define_corrected_pixels|define_good_x_pixels|define_good_y_pixels|define_horizontal_corrected_pixels|define_pixels|define_whole_blacker_pixels|define_whole_pixels|define_whole_vertical_blacker_pixels|define_whole_vertical_pixels|dir|direction|directionpoint|div|dotprod|downto|draw|drawdot|endchar|erase|fill|filldraw|fix_units|flex|font_coding_scheme|font_extra_space|font_identifier|font_normal_shrink|font_normal_space|font_normal_stretch|font_quad|font_size|font_slant|font_x_height|gfcorners|gobble|gobbled|good\.(?:bot|lft|rt|top|x|y)|grayfont|hide|hround|imagerules|incr|interact|interpath|intersectionpoint|inverse|italcorr|killtext|labelfont|labels|lft|loggingall|lowres_fix|makegrid|makelabel(?:\.(?:bot|lft|rt|top)(?:\.nodot)?)?|max|min|mod|mode_def|mode_setup|nodisplays|notransforms|numtok|openit|penlabels|penpos|pickup|proofoffset|proofrule|proofrulethickness|range|reflectedabout|rotatedabout|rotatedaround|round|rt|savepen|screenchars|screenrule|screenstrokes|shipit|showit|slantfont|softjoin|solve|stop|superellipse|tensepath|thru|titlefont|top|tracingall|tracingnone|undraw|undrawdot|unfill|unfilldraw|upto|vround)\b/,alias:"function"},builtin:/\b(?:ASCII|angle|char|cosd|decimal|directiontime|floor|hex|intersectiontimes|jobname|known|length|makepath|makepen|mexp|mlog|normaldeviate|oct|odd|pencircle|penoffset|point|postcontrol|precontrol|reverse|rotated|sind|sqrt|str|subpath|substring|totalweight|turningnumber|uniformdeviate|unknown|xpart|xxpart|xypart|ypart|yxpart|yypart)\b/,keyword:/\b(?:also|at|atleast|begingroup|charexists|contour|controls|curl|cycle|def|delimiters|doublepath|dropping|dump|else|elseif|end|enddef|endfor|endgroup|endinput|exitif|exitunless|expandafter|fi|for|forever|forsuffixes|from|if|input|inwindow|keeping|kern|of|primarydef|quote|readstring|scaled|scantokens|secondarydef|shifted|skipto|slanted|step|tension|tertiarydef|to|transformed|until|vardef|withpen|withweight|xscaled|yscaled|zscaled)\b/,type:{pattern:/\b(?:boolean|expr|numeric|pair|path|pen|picture|primary|secondary|string|suffix|tertiary|text|transform)\b/,alias:"property"},variable:{pattern:/(^|[^@#&$])(?:@#|#@|#|@)(?![@#&$])|\b(?:aspect_ratio|currentpen|currentpicture|currenttransform|d|extra_beginchar|extra_endchar|extra_setup|h|localfont|mag|mode|screen_cols|screen_rows|w|whatever|x|y|z)\b/,lookbehind:!0}}}Y_.displayName="mizar";Y_.aliases=[];function Y_(e){e.languages.mizar={comment:/::.+/,keyword:/@proof\b|\b(?:according|aggregate|all|and|antonym|are|as|associativity|assume|asymmetry|attr|be|begin|being|by|canceled|case|cases|clusters?|coherence|commutativity|compatibility|connectedness|consider|consistency|constructors|contradiction|correctness|def|deffunc|define|definitions?|defpred|do|does|end|environ|equals|ex|exactly|existence|for|from|func|given|hence|hereby|holds|idempotence|identity|iff?|implies|involutiveness|irreflexivity|is|it|let|means|mode|non|not|notations?|now|of|or|otherwise|over|per|pred|prefix|projectivity|proof|provided|qua|reconsider|redefine|reduce|reducibility|reflexivity|registrations?|requirements|reserve|sch|schemes?|section|selector|set|sethood|st|struct|such|suppose|symmetry|synonym|take|that|the|then|theorems?|thesis|thus|to|transitivity|uniqueness|vocabular(?:ies|y)|when|where|with|wrt)\b/,parameter:{pattern:/\$(?:10|\d)/,alias:"variable"},variable:/\b\w+(?=:)/,number:/(?:\b|-)\d+\b/,operator:/\.\.\.|->|&|\.?=/,punctuation:/\(#|#\)|[,:;\[\](){}]/}}V_.displayName="mongodb";V_.aliases=[];function V_(e){e.register(ts),(function(t){var r=["$eq","$gt","$gte","$in","$lt","$lte","$ne","$nin","$and","$not","$nor","$or","$exists","$type","$expr","$jsonSchema","$mod","$regex","$text","$where","$geoIntersects","$geoWithin","$near","$nearSphere","$all","$elemMatch","$size","$bitsAllClear","$bitsAllSet","$bitsAnyClear","$bitsAnySet","$comment","$elemMatch","$meta","$slice","$currentDate","$inc","$min","$max","$mul","$rename","$set","$setOnInsert","$unset","$addToSet","$pop","$pull","$push","$pullAll","$each","$position","$slice","$sort","$bit","$addFields","$bucket","$bucketAuto","$collStats","$count","$currentOp","$facet","$geoNear","$graphLookup","$group","$indexStats","$limit","$listLocalSessions","$listSessions","$lookup","$match","$merge","$out","$planCacheStats","$project","$redact","$replaceRoot","$replaceWith","$sample","$set","$skip","$sort","$sortByCount","$unionWith","$unset","$unwind","$setWindowFields","$abs","$accumulator","$acos","$acosh","$add","$addToSet","$allElementsTrue","$and","$anyElementTrue","$arrayElemAt","$arrayToObject","$asin","$asinh","$atan","$atan2","$atanh","$avg","$binarySize","$bsonSize","$ceil","$cmp","$concat","$concatArrays","$cond","$convert","$cos","$dateFromParts","$dateToParts","$dateFromString","$dateToString","$dayOfMonth","$dayOfWeek","$dayOfYear","$degreesToRadians","$divide","$eq","$exp","$filter","$first","$floor","$function","$gt","$gte","$hour","$ifNull","$in","$indexOfArray","$indexOfBytes","$indexOfCP","$isArray","$isNumber","$isoDayOfWeek","$isoWeek","$isoWeekYear","$last","$last","$let","$literal","$ln","$log","$log10","$lt","$lte","$ltrim","$map","$max","$mergeObjects","$meta","$min","$millisecond","$minute","$mod","$month","$multiply","$ne","$not","$objectToArray","$or","$pow","$push","$radiansToDegrees","$range","$reduce","$regexFind","$regexFindAll","$regexMatch","$replaceOne","$replaceAll","$reverseArray","$round","$rtrim","$second","$setDifference","$setEquals","$setIntersection","$setIsSubset","$setUnion","$size","$sin","$slice","$split","$sqrt","$stdDevPop","$stdDevSamp","$strcasecmp","$strLenBytes","$strLenCP","$substr","$substrBytes","$substrCP","$subtract","$sum","$switch","$tan","$toBool","$toDate","$toDecimal","$toDouble","$toInt","$toLong","$toObjectId","$toString","$toLower","$toUpper","$trim","$trunc","$type","$week","$year","$zip","$count","$dateAdd","$dateDiff","$dateSubtract","$dateTrunc","$getField","$rand","$sampleRate","$setField","$unsetField","$comment","$explain","$hint","$max","$maxTimeMS","$min","$orderby","$query","$returnKey","$showDiskLoc","$natural"],n=["ObjectId","Code","BinData","DBRef","Timestamp","NumberLong","NumberDecimal","MaxKey","MinKey","RegExp","ISODate","UUID"];r=r.map(function(i){return i.replace("$","\\$")});var a="(?:"+r.join("|")+")\\b";t.languages.mongodb=t.languages.extend("javascript",{}),t.languages.insertBefore("mongodb","string",{property:{pattern:/(?:(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)(?=\s*:)/,greedy:!0,inside:{keyword:RegExp(`^(['"])?`+a+"(?:\\1)?$")}}}),t.languages.mongodb.string.inside={url:{pattern:/https?:\/\/[-\w@:%.+~#=]{1,256}\.[a-z0-9()]{1,6}\b[-\w()@:%+.~#?&/=]*/i,greedy:!0},entity:{pattern:/\b(?:(?:[01]?\d\d?|2[0-4]\d|25[0-5])\.){3}(?:[01]?\d\d?|2[0-4]\d|25[0-5])\b/,greedy:!0}},t.languages.insertBefore("mongodb","constant",{builtin:{pattern:RegExp("\\b(?:"+n.join("|")+")\\b"),alias:"keyword"}})})(e)}K_.displayName="monkey";K_.aliases=[];function K_(e){e.languages.monkey={comment:{pattern:/^#Rem\s[\s\S]*?^#End|'.+/im,greedy:!0},string:{pattern:/"[^"\r\n]*"/,greedy:!0},preprocessor:{pattern:/(^[ \t]*)#.+/m,lookbehind:!0,greedy:!0,alias:"property"},function:/\b\w+(?=\()/,"type-char":{pattern:/\b[?%#$]/,alias:"class-name"},number:{pattern:/((?:\.\.)?)(?:(?:\b|\B-\.?|\B\.)\d+(?:(?!\.\.)\.\d*)?|\$[\da-f]+)/i,lookbehind:!0},keyword:/\b(?:Abstract|Array|Bool|Case|Catch|Class|Const|Continue|Default|Eachin|Else|ElseIf|End|EndIf|Exit|Extends|Extern|False|Field|Final|Float|For|Forever|Function|Global|If|Implements|Import|Inline|Int|Interface|Local|Method|Module|New|Next|Null|Object|Private|Property|Public|Repeat|Return|Select|Self|Step|Strict|String|Super|Then|Throw|To|True|Try|Until|Void|Wend|While)\b/i,operator:/\.\.|<[=>]?|>=?|:?=|(?:[+\-*\/&~|]|\b(?:Mod|Shl|Shr)\b)=?|\b(?:And|Not|Or)\b/i,punctuation:/[.,:;()\[\]]/}}Q_.displayName="moonscript";Q_.aliases=["moon"];function Q_(e){e.languages.moonscript={comment:/--.*/,string:[{pattern:/'[^']*'|\[(=*)\[[\s\S]*?\]\1\]/,greedy:!0},{pattern:/"[^"]*"/,greedy:!0,inside:{interpolation:{pattern:/#\{[^{}]*\}/,inside:{moonscript:{pattern:/(^#\{)[\s\S]+(?=\})/,lookbehind:!0,inside:null},"interpolation-punctuation":{pattern:/#\{|\}/,alias:"punctuation"}}}}}],"class-name":[{pattern:/(\b(?:class|extends)[ \t]+)\w+/,lookbehind:!0},/\b[A-Z]\w*/],keyword:/\b(?:class|continue|do|else|elseif|export|extends|for|from|if|import|in|local|nil|return|self|super|switch|then|unless|using|when|while|with)\b/,variable:/@@?\w*/,property:{pattern:/\b(?!\d)\w+(?=:)|(:)(?!\d)\w+/,lookbehind:!0},function:{pattern:/\b(?:_G|_VERSION|assert|collectgarbage|coroutine\.(?:create|resume|running|status|wrap|yield)|debug\.(?:debug|getfenv|gethook|getinfo|getlocal|getmetatable|getregistry|getupvalue|setfenv|sethook|setlocal|setmetatable|setupvalue|traceback)|dofile|error|getfenv|getmetatable|io\.(?:close|flush|input|lines|open|output|popen|read|stderr|stdin|stdout|tmpfile|type|write)|ipairs|load|loadfile|loadstring|math\.(?:abs|acos|asin|atan|atan2|ceil|cos|cosh|deg|exp|floor|fmod|frexp|ldexp|log|log10|max|min|modf|pi|pow|rad|random|randomseed|sin|sinh|sqrt|tan|tanh)|module|next|os\.(?:clock|date|difftime|execute|exit|getenv|remove|rename|setlocale|time|tmpname)|package\.(?:cpath|loaded|loadlib|path|preload|seeall)|pairs|pcall|print|rawequal|rawget|rawset|require|select|setfenv|setmetatable|string\.(?:byte|char|dump|find|format|gmatch|gsub|len|lower|match|rep|reverse|sub|upper)|table\.(?:concat|insert|maxn|remove|sort)|tonumber|tostring|type|unpack|xpcall)\b/,inside:{punctuation:/\./}},boolean:/\b(?:false|true)\b/,number:/(?:\B\.\d+|\b\d+\.\d+|\b\d+(?=[eE]))(?:[eE][-+]?\d+)?\b|\b(?:0x[a-fA-F\d]+|\d+)(?:U?LL)?\b/,operator:/\.{3}|[-=]>|~=|(?:[-+*/%<>!=]|\.\.)=?|[:#^]|\b(?:and|or)\b=?|\b(?:not)\b/,punctuation:/[.,()[\]{}\\]/},e.languages.moonscript.string[1].inside.interpolation.inside.moonscript.inside=e.languages.moonscript,e.languages.moon=e.languages.moonscript}X_.displayName="n1ql";X_.aliases=[];function X_(e){e.languages.n1ql={comment:{pattern:/\/\*[\s\S]*?(?:$|\*\/)|--.*/,greedy:!0},string:{pattern:/(["'])(?:\\[\s\S]|(?!\1)[^\\]|\1\1)*\1/,greedy:!0},identifier:{pattern:/`(?:\\[\s\S]|[^\\`]|``)*`/,greedy:!0},parameter:/\$[\w.]+/,keyword:/\b(?:ADVISE|ALL|ALTER|ANALYZE|AS|ASC|AT|BEGIN|BINARY|BOOLEAN|BREAK|BUCKET|BUILD|BY|CALL|CAST|CLUSTER|COLLATE|COLLECTION|COMMIT|COMMITTED|CONNECT|CONTINUE|CORRELATE|CORRELATED|COVER|CREATE|CURRENT|DATABASE|DATASET|DATASTORE|DECLARE|DECREMENT|DELETE|DERIVED|DESC|DESCRIBE|DISTINCT|DO|DROP|EACH|ELEMENT|EXCEPT|EXCLUDE|EXECUTE|EXPLAIN|FETCH|FILTER|FLATTEN|FLUSH|FOLLOWING|FOR|FORCE|FROM|FTS|FUNCTION|GOLANG|GRANT|GROUP|GROUPS|GSI|HASH|HAVING|IF|IGNORE|ILIKE|INCLUDE|INCREMENT|INDEX|INFER|INLINE|INNER|INSERT|INTERSECT|INTO|IS|ISOLATION|JAVASCRIPT|JOIN|KEY|KEYS|KEYSPACE|KNOWN|LANGUAGE|LAST|LEFT|LET|LETTING|LEVEL|LIMIT|LSM|MAP|MAPPING|MATCHED|MATERIALIZED|MERGE|MINUS|MISSING|NAMESPACE|NEST|NL|NO|NTH_VALUE|NULL|NULLS|NUMBER|OBJECT|OFFSET|ON|OPTION|OPTIONS|ORDER|OTHERS|OUTER|OVER|PARSE|PARTITION|PASSWORD|PATH|POOL|PRECEDING|PREPARE|PRIMARY|PRIVATE|PRIVILEGE|PROBE|PROCEDURE|PUBLIC|RANGE|RAW|REALM|REDUCE|RENAME|RESPECT|RETURN|RETURNING|REVOKE|RIGHT|ROLE|ROLLBACK|ROW|ROWS|SATISFIES|SAVEPOINT|SCHEMA|SCOPE|SELECT|SELF|SEMI|SET|SHOW|SOME|START|STATISTICS|STRING|SYSTEM|TIES|TO|TRAN|TRANSACTION|TRIGGER|TRUNCATE|UNBOUNDED|UNDER|UNION|UNIQUE|UNKNOWN|UNNEST|UNSET|UPDATE|UPSERT|USE|USER|USING|VALIDATE|VALUE|VALUES|VIA|VIEW|WHERE|WHILE|WINDOW|WITH|WORK|XOR)\b/i,function:/\b[a-z_]\w*(?=\s*\()/i,boolean:/\b(?:FALSE|TRUE)\b/i,number:/(?:\b\d+\.|\B\.)\d+e[+\-]?\d+\b|\b\d+(?:\.\d*)?|\B\.\d+\b/i,operator:/[-+*\/%]|!=|==?|\|\||<[>=]?|>=?|\b(?:AND|ANY|ARRAY|BETWEEN|CASE|ELSE|END|EVERY|EXISTS|FIRST|IN|LIKE|NOT|OR|THEN|VALUED|WHEN|WITHIN)\b/i,punctuation:/[;[\](),.{}:]/}}Z_.displayName="nand2tetris-hdl";Z_.aliases=[];function Z_(e){e.languages["nand2tetris-hdl"]={comment:/\/\/.*|\/\*[\s\S]*?(?:\*\/|$)/,keyword:/\b(?:BUILTIN|CHIP|CLOCKED|IN|OUT|PARTS)\b/,boolean:/\b(?:false|true)\b/,function:/\b[A-Za-z][A-Za-z0-9]*(?=\()/,number:/\b\d+\b/,operator:/=|\.\./,punctuation:/[{}[\];(),:]/}}J_.displayName="naniscript";J_.aliases=["nani"];function J_(e){(function(t){var r=/\{[^\r\n\[\]{}]*\}/,n={"quoted-string":{pattern:/"(?:[^"\\]|\\.)*"/,alias:"operator"},"command-param-id":{pattern:/(\s)\w+:/,lookbehind:!0,alias:"property"},"command-param-value":[{pattern:r,alias:"selector"},{pattern:/([\t ])\S+/,lookbehind:!0,greedy:!0,alias:"operator"},{pattern:/\S(?:.*\S)?/,alias:"operator"}]};t.languages.naniscript={comment:{pattern:/^([\t ]*);.*/m,lookbehind:!0},define:{pattern:/^>.+/m,alias:"tag",inside:{value:{pattern:/(^>\w+[\t ]+)(?!\s)[^{}\r\n]+/,lookbehind:!0,alias:"operator"},key:{pattern:/(^>)\w+/,lookbehind:!0}}},label:{pattern:/^([\t ]*)#[\t ]*\w+[\t ]*$/m,lookbehind:!0,alias:"regex"},command:{pattern:/^([\t ]*)@\w+(?=[\t ]|$).*/m,lookbehind:!0,alias:"function",inside:{"command-name":/^@\w+/,expression:{pattern:r,greedy:!0,alias:"selector"},"command-params":{pattern:/\s*\S[\s\S]*/,inside:n}}},"generic-text":{pattern:/(^[ \t]*)[^#@>;\s].*/m,lookbehind:!0,alias:"punctuation",inside:{"escaped-char":/\\[{}\[\]"]/,expression:{pattern:r,greedy:!0,alias:"selector"},"inline-command":{pattern:/\[[\t ]*\w[^\r\n\[\]]*\]/,greedy:!0,alias:"function",inside:{"command-params":{pattern:/(^\[[\t ]*\w+\b)[\s\S]+(?=\]$)/,lookbehind:!0,inside:n},"command-param-name":{pattern:/^(\[[\t ]*)\w+/,lookbehind:!0,alias:"name"},"start-stop-char":/[\[\]]/}}}}},t.languages.nani=t.languages.naniscript,t.hooks.add("after-tokenize",function(o){var l=o.tokens;l.forEach(function(u){if(typeof u!="string"&&u.type==="generic-text"){var d=i(u);a(d)||(u.type="bad-line",u.content=d)}})});function a(o){for(var l="[]{}",u=[],d=0;d<o.length;d++){var h=o[d],g=l.indexOf(h);if(g!==-1){if(g%2===0)u.push(g+1);else if(u.pop()!==g)return!1}}return u.length===0}function i(o){return typeof o=="string"?o:Array.isArray(o)?o.map(i).join(""):i(o.content)}})(e)}eA.displayName="nasm";eA.aliases=[];function eA(e){e.languages.nasm={comment:/;.*$/m,string:/(["'`])(?:\\.|(?!\1)[^\\\r\n])*\1/,label:{pattern:/(^\s*)[A-Za-z._?$][\w.?$@~#]*:/m,lookbehind:!0,alias:"function"},keyword:[/\[?BITS (?:16|32|64)\]?/,{pattern:/(^\s*)section\s*[a-z.]+:?/im,lookbehind:!0},/(?:extern|global)[^;\r\n]*/i,/(?:CPU|DEFAULT|FLOAT).*$/m],register:{pattern:/\b(?:st\d|[xyz]mm\d\d?|[cdt]r\d|r\d\d?[bwd]?|[er]?[abcd]x|[abcd][hl]|[er]?(?:bp|di|si|sp)|[cdefgs]s)\b/i,alias:"variable"},number:/(?:\b|(?=\$))(?:0[hx](?:\.[\da-f]+|[\da-f]+(?:\.[\da-f]+)?)(?:p[+-]?\d+)?|\d[\da-f]+[hx]|\$\d[\da-f]*|0[oq][0-7]+|[0-7]+[oq]|0[by][01]+|[01]+[by]|0[dt]\d+|(?:\d+(?:\.\d+)?|\.\d+)(?:\.?e[+-]?\d+)?[dt]?)\b/i,operator:/[\[\]*+\-\/%<>=&|$!]/}}tA.displayName="neon";tA.aliases=[];function tA(e){e.languages.neon={comment:{pattern:/#.*/,greedy:!0},datetime:{pattern:/(^|[[{(=:,\s])\d\d\d\d-\d\d?-\d\d?(?:(?:[Tt]| +)\d\d?:\d\d:\d\d(?:\.\d*)? *(?:Z|[-+]\d\d?(?::?\d\d)?)?)?(?=$|[\]}),\s])/,lookbehind:!0,alias:"number"},key:{pattern:/(^|[[{(,\s])[^,:=[\]{}()'"\s]+(?=\s*:(?:$|[\]}),\s])|\s*=)/,lookbehind:!0,alias:"property"},number:{pattern:/(^|[[{(=:,\s])[+-]?(?:0x[\da-fA-F]+|0o[0-7]+|0b[01]+|(?:\d+(?:\.\d*)?|\.?\d+)(?:[eE][+-]?\d+)?)(?=$|[\]}),:=\s])/,lookbehind:!0},boolean:{pattern:/(^|[[{(=:,\s])(?:false|no|true|yes)(?=$|[\]}),:=\s])/i,lookbehind:!0},null:{pattern:/(^|[[{(=:,\s])(?:null)(?=$|[\]}),:=\s])/i,lookbehind:!0,alias:"keyword"},string:{pattern:/(^|[[{(=:,\s])(?:('''|""")\r?\n(?:(?:[^\r\n]|\r?\n(?![\t ]*\2))*\r?\n)?[\t ]*\2|'[^'\r\n]*'|"(?:\\.|[^\\"\r\n])*")/,lookbehind:!0,greedy:!0},literal:{pattern:/(^|[[{(=:,\s])(?:[^#"',:=[\]{}()\s`-]|[:-][^"',=[\]{}()\s])(?:[^,:=\]})(\s]|:(?![\s,\]})]|$)|[ \t]+[^#,:=\]})(\s])*/,lookbehind:!0,alias:"string"},punctuation:/[,:=[\]{}()-]/}}rA.displayName="nevod";rA.aliases=[];function rA(e){e.languages.nevod={comment:/\/\/.*|(?:\/\*[\s\S]*?(?:\*\/|$))/,string:{pattern:/(?:"(?:""|[^"])*"(?!")|'(?:''|[^'])*'(?!'))!?\*?/,greedy:!0,inside:{"string-attrs":/!$|!\*$|\*$/}},namespace:{pattern:/(@namespace\s+)[a-zA-Z0-9\-.]+(?=\s*\{)/,lookbehind:!0},pattern:{pattern:/(@pattern\s+)?#?[a-zA-Z0-9\-.]+(?:\s*\(\s*(?:~\s*)?[a-zA-Z0-9\-.]+\s*(?:,\s*(?:~\s*)?[a-zA-Z0-9\-.]*)*\))?(?=\s*=)/,lookbehind:!0,inside:{"pattern-name":{pattern:/^#?[a-zA-Z0-9\-.]+/,alias:"class-name"},fields:{pattern:/\(.*\)/,inside:{"field-name":{pattern:/[a-zA-Z0-9\-.]+/,alias:"variable"},punctuation:/[,()]/,operator:{pattern:/~/,alias:"field-hidden-mark"}}}}},search:{pattern:/(@search\s+|#)[a-zA-Z0-9\-.]+(?:\.\*)?(?=\s*;)/,alias:"function",lookbehind:!0},keyword:/@(?:having|inside|namespace|outside|pattern|require|search|where)\b/,"standard-pattern":{pattern:/\b(?:Alpha|AlphaNum|Any|Blank|End|LineBreak|Num|NumAlpha|Punct|Space|Start|Symbol|Word|WordBreak)\b(?:\([a-zA-Z0-9\-.,\s+]*\))?/,inside:{"standard-pattern-name":{pattern:/^[a-zA-Z0-9\-.]+/,alias:"builtin"},quantifier:{pattern:/\b\d+(?:\s*\+|\s*-\s*\d+)?(?!\w)/,alias:"number"},"standard-pattern-attr":{pattern:/[a-zA-Z0-9\-.]+/,alias:"builtin"},punctuation:/[,()]/}},quantifier:{pattern:/\b\d+(?:\s*\+|\s*-\s*\d+)?(?!\w)/,alias:"number"},operator:[{pattern:/=/,alias:"pattern-def"},{pattern:/&/,alias:"conjunction"},{pattern:/~/,alias:"exception"},{pattern:/\?/,alias:"optionality"},{pattern:/[[\]]/,alias:"repetition"},{pattern:/[{}]/,alias:"variation"},{pattern:/[+_]/,alias:"sequence"},{pattern:/\.{2,3}/,alias:"span"}],"field-capture":[{pattern:/([a-zA-Z0-9\-.]+\s*\()\s*[a-zA-Z0-9\-.]+\s*:\s*[a-zA-Z0-9\-.]+(?:\s*,\s*[a-zA-Z0-9\-.]+\s*:\s*[a-zA-Z0-9\-.]+)*(?=\s*\))/,lookbehind:!0,inside:{"field-name":{pattern:/[a-zA-Z0-9\-.]+/,alias:"variable"},colon:/:/}},{pattern:/[a-zA-Z0-9\-.]+\s*:/,inside:{"field-name":{pattern:/[a-zA-Z0-9\-.]+/,alias:"variable"},colon:/:/}}],punctuation:/[:;,()]/,name:/[a-zA-Z0-9\-.]+/}}nA.displayName="nginx";nA.aliases=[];function nA(e){(function(t){var r=/\$(?:\w[a-z\d]*(?:_[^\x00-\x1F\s"'\\()$]*)?|\{[^}\s"'\\]+\})/i;t.languages.nginx={comment:{pattern:/(^|[\s{};])#.*/,lookbehind:!0,greedy:!0},directive:{pattern:/(^|\s)\w(?:[^;{}"'\\\s]|\\.|"(?:[^"\\]|\\.)*"|'(?:[^'\\]|\\.)*'|\s+(?:#.*(?!.)|(?![#\s])))*?(?=\s*[;{])/,lookbehind:!0,greedy:!0,inside:{string:{pattern:/((?:^|[^\\])(?:\\\\)*)(?:"(?:[^"\\]|\\.)*"|'(?:[^'\\]|\\.)*')/,lookbehind:!0,greedy:!0,inside:{escape:{pattern:/\\["'\\nrt]/,alias:"entity"},variable:r}},comment:{pattern:/(\s)#.*/,lookbehind:!0,greedy:!0},keyword:{pattern:/^\S+/,greedy:!0},boolean:{pattern:/(\s)(?:off|on)(?!\S)/,lookbehind:!0},number:{pattern:/(\s)\d+[a-z]*(?!\S)/i,lookbehind:!0},variable:r}},punctuation:/[{};]/}})(e)}aA.displayName="nim";aA.aliases=[];function aA(e){e.languages.nim={comment:{pattern:/#.*/,greedy:!0},string:{pattern:/(?:\b(?!\d)(?:\w|\\x[89a-fA-F][0-9a-fA-F])+)?(?:"""[\s\S]*?"""(?!")|"(?:\\[\s\S]|""|[^"\\])*")/,greedy:!0},char:{pattern:/'(?:\\(?:\d+|x[\da-fA-F]{0,2}|.)|[^'])'/,greedy:!0},function:{pattern:/(?:(?!\d)(?:\w|\\x[89a-fA-F][0-9a-fA-F])+|`[^`\r\n]+`)\*?(?:\[[^\]]+\])?(?=\s*\()/,greedy:!0,inside:{operator:/\*$/}},identifier:{pattern:/`[^`\r\n]+`/,greedy:!0,inside:{punctuation:/`/}},number:/\b(?:0[xXoObB][\da-fA-F_]+|\d[\d_]*(?:(?!\.\.)\.[\d_]*)?(?:[eE][+-]?\d[\d_]*)?)(?:'?[iuf]\d*)?/,keyword:/\b(?:addr|as|asm|atomic|bind|block|break|case|cast|concept|const|continue|converter|defer|discard|distinct|do|elif|else|end|enum|except|export|finally|for|from|func|generic|if|import|include|interface|iterator|let|macro|method|mixin|nil|object|out|proc|ptr|raise|ref|return|static|template|try|tuple|type|using|var|when|while|with|without|yield)\b/,operator:{pattern:/(^|[({\[](?=\.\.)|(?![({\[]\.).)(?:(?:[=+\-*\/<>@$~&%|!?^:\\]|\.\.|\.(?![)}\]]))+|\b(?:and|div|in|is|isnot|mod|not|notin|of|or|shl|shr|xor)\b)/m,lookbehind:!0},punctuation:/[({\[]\.|\.[)}\]]|[`(){}\[\],:]/}}sA.displayName="nix";sA.aliases=[];function sA(e){e.languages.nix={comment:{pattern:/\/\*[\s\S]*?\*\/|#.*/,greedy:!0},string:{pattern:/"(?:[^"\\]|\\[\s\S])*"|''(?:(?!'')[\s\S]|''(?:'|\\|\$\{))*''/,greedy:!0,inside:{interpolation:{pattern:/(^|(?:^|(?!'').)[^\\])\$\{(?:[^{}]|\{[^}]*\})*\}/,lookbehind:!0,inside:null}}},url:[/\b(?:[a-z]{3,7}:\/\/)[\w\-+%~\/.:#=?&]+/,{pattern:/([^\/])(?:[\w\-+%~.:#=?&]*(?!\/\/)[\w\-+%~\/.:#=?&])?(?!\/\/)\/[\w\-+%~\/.:#=?&]*/,lookbehind:!0}],antiquotation:{pattern:/\$(?=\{)/,alias:"important"},number:/\b\d+\b/,keyword:/\b(?:assert|builtins|else|if|in|inherit|let|null|or|then|with)\b/,function:/\b(?:abort|add|all|any|attrNames|attrValues|baseNameOf|compareVersions|concatLists|currentSystem|deepSeq|derivation|dirOf|div|elem(?:At)?|fetch(?:Tarball|url)|filter(?:Source)?|fromJSON|genList|getAttr|getEnv|hasAttr|hashString|head|import|intersectAttrs|is(?:Attrs|Bool|Function|Int|List|Null|String)|length|lessThan|listToAttrs|map|mul|parseDrvName|pathExists|read(?:Dir|File)|removeAttrs|replaceStrings|seq|sort|stringLength|sub(?:string)?|tail|throw|to(?:File|JSON|Path|String|XML)|trace|typeOf)\b|\bfoldl'\B/,boolean:/\b(?:false|true)\b/,operator:/[=!<>]=?|\+\+?|\|\||&&|\/\/|->?|[?@]/,punctuation:/[{}()[\].,:;]/},e.languages.nix.string.inside.interpolation.inside=e.languages.nix}iA.displayName="nsis";iA.aliases=[];function iA(e){e.languages.nsis={comment:{pattern:/(^|[^\\])(?:\/\*[\s\S]*?\*\/|[#;].*)/,lookbehind:!0,greedy:!0},string:{pattern:/("|')(?:\\.|(?!\1)[^\\\r\n])*\1/,greedy:!0},keyword:{pattern:/(^[\t ]*)(?:Abort|Add(?:BrandingImage|Size)|AdvSplash|Allow(?:RootDirInstall|SkipFiles)|AutoCloseWindow|BG(?:Font|Gradient|Image)|Banner|BrandingText|BringToFront|CRCCheck|Call(?:InstDLL)?|Caption|ChangeUI|CheckBitmap|ClearErrors|CompletedText|ComponentText|CopyFiles|Create(?:Directory|Font|ShortCut)|Delete(?:INISec|INIStr|RegKey|RegValue)?|Detail(?:Print|sButtonText)|Dialer|Dir(?:Text|Var|Verify)|EnableWindow|Enum(?:RegKey|RegValue)|Exch|Exec(?:Shell(?:Wait)?|Wait)?|ExpandEnvStrings|File(?:BufSize|Close|ErrorText|Open|Read|ReadByte|ReadUTF16LE|ReadWord|Seek|Write|WriteByte|WriteUTF16LE|WriteWord)?|Find(?:Close|First|Next|Window)|FlushINI|Get(?:CurInstType|CurrentAddress|DLLVersion(?:Local)?|DlgItem|ErrorLevel|FileTime(?:Local)?|FullPathName|Function(?:Address|End)?|InstDirError|KnownFolderPath|LabelAddress|TempFileName|WinVer)|Goto|HideWindow|Icon|If(?:Abort|Errors|FileExists|RebootFlag|RtlLanguage|ShellVarContextAll|Silent)|InitPluginsDir|InstProgressFlags|Inst(?:Type(?:GetText|SetText)?)|Install(?:ButtonText|Colors|Dir(?:RegKey)?)|Int(?:64|Ptr)?CmpU?|Int(?:64)?Fmt|Int(?:Ptr)?Op|IsWindow|Lang(?:DLL|String)|License(?:BkColor|Data|ForceSelection|LangString|Text)|LoadLanguageFile|LockWindow|Log(?:Set|Text)|Manifest(?:DPIAware|SupportedOS)|Math|MessageBox|MiscButtonText|NSISdl|Name|Nop|OutFile|PE(?:DllCharacteristics|SubsysVer)|Page(?:Callbacks)?|Pop|Push|Quit|RMDir|Read(?:EnvStr|INIStr|RegDWORD|RegStr)|Reboot|RegDLL|Rename|RequestExecutionLevel|ReserveFile|Return|SearchPath|Section(?:End|GetFlags|GetInstTypes|GetSize|GetText|Group|In|SetFlags|SetInstTypes|SetSize|SetText)?|SendMessage|Set(?:AutoClose|BrandingImage|Compress|Compressor(?:DictSize)?|CtlColors|CurInstType|DatablockOptimize|DateSave|Details(?:Print|View)|ErrorLevel|Errors|FileAttributes|Font|OutPath|Overwrite|PluginUnload|RebootFlag|RegView|ShellVarContext|Silent)|Show(?:InstDetails|UninstDetails|Window)|Silent(?:Install|UnInstall)|Sleep|SpaceTexts|Splash|StartMenu|Str(?:CmpS?|Cpy|Len)|SubCaption|System|Target|UnRegDLL|Unicode|UninstPage|Uninstall(?:ButtonText|Caption|Icon|SubCaption|Text)|UserInfo|VI(?:AddVersionKey|FileVersion|ProductVersion)|VPatch|Var|WindowIcon|Write(?:INIStr|Reg(?:Bin|DWORD|ExpandStr|MultiStr|None|Str)|Uninstaller)|XPStyle|ns(?:Dialogs|Exec))\b/m,lookbehind:!0},property:/\b(?:ARCHIVE|FILE_(?:ATTRIBUTE_ARCHIVE|ATTRIBUTE_NORMAL|ATTRIBUTE_OFFLINE|ATTRIBUTE_READONLY|ATTRIBUTE_SYSTEM|ATTRIBUTE_TEMPORARY)|HK(?:(?:CR|CU|LM)(?:32|64)?|DD|PD|U)|HKEY_(?:CLASSES_ROOT|CURRENT_CONFIG|CURRENT_USER|DYN_DATA|LOCAL_MACHINE|PERFORMANCE_DATA|USERS)|ID(?:ABORT|CANCEL|IGNORE|NO|OK|RETRY|YES)|MB_(?:ABORTRETRYIGNORE|DEFBUTTON1|DEFBUTTON2|DEFBUTTON3|DEFBUTTON4|ICONEXCLAMATION|ICONINFORMATION|ICONQUESTION|ICONSTOP|OK|OKCANCEL|RETRYCANCEL|RIGHT|RTLREADING|SETFOREGROUND|TOPMOST|USERICON|YESNO)|NORMAL|OFFLINE|READONLY|SHCTX|SHELL_CONTEXT|SYSTEM|TEMPORARY|admin|all|auto|both|colored|false|force|hide|highest|lastused|leave|listonly|none|normal|notset|off|on|open|print|show|silent|silentlog|smooth|textonly|true|user)\b/,constant:/\$\{[!\w\.:\^-]+\}|\$\([!\w\.:\^-]+\)/,variable:/\$\w[\w\.]*/,number:/\b0x[\dA-Fa-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:[Ee]-?\d+)?/,operator:/--?|\+\+?|<=?|>=?|==?=?|&&?|\|\|?|[?*\/~^%]/,punctuation:/[{}[\];(),.:]/,important:{pattern:/(^[\t ]*)!(?:addincludedir|addplugindir|appendfile|cd|define|delfile|echo|else|endif|error|execute|finalize|getdllversion|gettlbversion|if|ifdef|ifmacrodef|ifmacrondef|ifndef|include|insertmacro|macro|macroend|makensis|packhdr|pragma|searchparse|searchreplace|system|tempfile|undef|verbose|warning)\b/im,lookbehind:!0}}}oA.displayName="ocaml";oA.aliases=[];function oA(e){e.languages.ocaml={comment:{pattern:/\(\*[\s\S]*?\*\)/,greedy:!0},char:{pattern:/'(?:[^\\\r\n']|\\(?:.|[ox]?[0-9a-f]{1,3}))'/i,greedy:!0},string:[{pattern:/"(?:\\(?:[\s\S]|\r\n)|[^\\\r\n"])*"/,greedy:!0},{pattern:/\{([a-z_]*)\|[\s\S]*?\|\1\}/,greedy:!0}],number:[/\b(?:0b[01][01_]*|0o[0-7][0-7_]*)\b/i,/\b0x[a-f0-9][a-f0-9_]*(?:\.[a-f0-9_]*)?(?:p[+-]?\d[\d_]*)?(?!\w)/i,/\b\d[\d_]*(?:\.[\d_]*)?(?:e[+-]?\d[\d_]*)?(?!\w)/i],directive:{pattern:/\B#\w+/,alias:"property"},label:{pattern:/\B~\w+/,alias:"property"},"type-variable":{pattern:/\B'\w+/,alias:"function"},variant:{pattern:/`\w+/,alias:"symbol"},keyword:/\b(?:as|assert|begin|class|constraint|do|done|downto|else|end|exception|external|for|fun|function|functor|if|in|include|inherit|initializer|lazy|let|match|method|module|mutable|new|nonrec|object|of|open|private|rec|sig|struct|then|to|try|type|val|value|virtual|when|where|while|with)\b/,boolean:/\b(?:false|true)\b/,"operator-like-punctuation":{pattern:/\[[<>|]|[>|]\]|\{<|>\}/,alias:"punctuation"},operator:/\.[.~]|:[=>]|[=<>@^|&+\-*\/$%!?~][!$%&*+\-.\/:<=>?@^|~]*|\b(?:and|asr|land|lor|lsl|lsr|lxor|mod|or)\b/,punctuation:/;;|::|[(){}\[\].,:;#]|\b_\b/}}lA.displayName="odin";lA.aliases=[];function lA(e){(function(t){var r=/\\(?:["'\\abefnrtv]|0[0-7]{2}|U[\dA-Fa-f]{6}|u[\dA-Fa-f]{4}|x[\dA-Fa-f]{2})/;t.languages.odin={comment:[{pattern:/\/\*(?:[^/*]|\/(?!\*)|\*(?!\/)|\/\*(?:\*(?!\/)|[^*])*(?:\*\/|$))*(?:\*\/|$)/,greedy:!0},{pattern:/#![^\n\r]*/,greedy:!0},{pattern:/\/\/[^\n\r]*/,greedy:!0}],char:{pattern:/'(?:\\(?:.|[0Uux][0-9A-Fa-f]{1,6})|[^\n\r'\\])'/,greedy:!0,inside:{symbol:r}},string:[{pattern:/`[^`]*`/,greedy:!0},{pattern:/"(?:\\.|[^\n\r"\\])*"/,greedy:!0,inside:{symbol:r}}],directive:{pattern:/#\w+/,alias:"property"},number:/\b0(?:b[01_]+|d[\d_]+|h_*(?:(?:(?:[\dA-Fa-f]_*){8}){1,2}|(?:[\dA-Fa-f]_*){4})|o[0-7_]+|x[\dA-F_a-f]+|z[\dAB_ab]+)\b|(?:\b\d+(?:\.(?!\.)\d*)?|\B\.\d+)(?:[Ee][+-]?\d*)?[ijk]?(?!\w)/,discard:{pattern:/\b_\b/,alias:"keyword"},"procedure-definition":{pattern:/\b\w+(?=[ \t]*(?::\s*){2}proc\b)/,alias:"function"},keyword:/\b(?:asm|auto_cast|bit_set|break|case|cast|context|continue|defer|distinct|do|dynamic|else|enum|fallthrough|for|foreign|if|import|in|map|matrix|not_in|or_else|or_return|package|proc|return|struct|switch|transmute|typeid|union|using|when|where)\b/,"procedure-name":{pattern:/\b\w+(?=[ \t]*\()/,alias:"function"},boolean:/\b(?:false|nil|true)\b/,"constant-parameter-sign":{pattern:/\$/,alias:"important"},undefined:{pattern:/---/,alias:"operator"},arrow:{pattern:/->/,alias:"punctuation"},operator:/\+\+|--|\.\.[<=]?|(?:&~|[-!*+/=~]|[%&<>|]{1,2})=?|[?^]/,punctuation:/[(),.:;@\[\]{}]/}})(e)}cA.displayName="opencl";cA.aliases=[];function cA(e){e.register(yo),(function(t){t.languages.opencl=t.languages.extend("c",{keyword:/\b(?:(?:__)?(?:constant|global|kernel|local|private|read_only|read_write|write_only)|__attribute__|auto|(?:bool|u?(?:char|int|long|short)|half|quad)(?:2|3|4|8|16)?|break|case|complex|const|continue|(?:double|float)(?:16(?:x(?:1|2|4|8|16))?|1x(?:1|2|4|8|16)|2(?:x(?:1|2|4|8|16))?|3|4(?:x(?:1|2|4|8|16))?|8(?:x(?:1|2|4|8|16))?)?|default|do|else|enum|extern|for|goto|if|imaginary|inline|packed|pipe|register|restrict|return|signed|sizeof|static|struct|switch|typedef|uniform|union|unsigned|void|volatile|while)\b/,number:/(?:\b0x(?:[\da-f]+(?:\.[\da-f]*)?|\.[\da-f]+)(?:p[+-]?\d+)?|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?)[fuhl]{0,4}/i,boolean:/\b(?:false|true)\b/,"constant-opencl-kernel":{pattern:/\b(?:CHAR_(?:BIT|MAX|MIN)|CLK_(?:ADDRESS_(?:CLAMP(?:_TO_EDGE)?|NONE|REPEAT)|FILTER_(?:LINEAR|NEAREST)|(?:GLOBAL|LOCAL)_MEM_FENCE|NORMALIZED_COORDS_(?:FALSE|TRUE))|CL_(?:BGRA|(?:HALF_)?FLOAT|INTENSITY|LUMINANCE|A?R?G?B?[Ax]?|(?:(?:UN)?SIGNED|[US]NORM)_(?:INT(?:8|16|32))|UNORM_(?:INT_101010|SHORT_(?:555|565)))|(?:DBL|FLT|HALF)_(?:DIG|EPSILON|(?:MAX|MIN)(?:(?:_10)?_EXP)?|MANT_DIG)|FLT_RADIX|HUGE_VALF?|(?:INT|LONG|SCHAR|SHRT)_(?:MAX|MIN)|INFINITY|MAXFLOAT|M_(?:[12]_PI|2_SQRTPI|E|LN(?:2|10)|LOG(?:2|10)E?|PI(?:_[24])?|SQRT(?:1_2|2))(?:_F|_H)?|NAN|(?:UCHAR|UINT|ULONG|USHRT)_MAX)\b/,alias:"constant"}}),t.languages.insertBefore("opencl","class-name",{"builtin-type":{pattern:/\b(?:_cl_(?:command_queue|context|device_id|event|kernel|mem|platform_id|program|sampler)|cl_(?:image_format|mem_fence_flags)|clk_event_t|event_t|image(?:1d_(?:array_|buffer_)?t|2d_(?:array_(?:depth_|msaa_depth_|msaa_)?|depth_|msaa_depth_|msaa_)?t|3d_t)|intptr_t|ndrange_t|ptrdiff_t|queue_t|reserve_id_t|sampler_t|size_t|uintptr_t)\b/,alias:"keyword"}});var r={"type-opencl-host":{pattern:/\b(?:cl_(?:GLenum|GLint|GLuin|addressing_mode|bitfield|bool|buffer_create_type|build_status|channel_(?:order|type)|(?:u?(?:char|int|long|short)|double|float)(?:2|3|4|8|16)?|command_(?:queue(?:_info|_properties)?|type)|context(?:_info|_properties)?|device_(?:exec_capabilities|fp_config|id|info|local_mem_type|mem_cache_type|type)|(?:event|sampler)(?:_info)?|filter_mode|half|image_info|kernel(?:_info|_work_group_info)?|map_flags|mem(?:_flags|_info|_object_type)?|platform_(?:id|info)|profiling_info|program(?:_build_info|_info)?))\b/,alias:"keyword"},"boolean-opencl-host":{pattern:/\bCL_(?:FALSE|TRUE)\b/,alias:"boolean"},"constant-opencl-host":{pattern:/\bCL_(?:A|ABGR|ADDRESS_(?:CLAMP(?:_TO_EDGE)?|MIRRORED_REPEAT|NONE|REPEAT)|ARGB|BGRA|BLOCKING|BUFFER_CREATE_TYPE_REGION|BUILD_(?:ERROR|IN_PROGRESS|NONE|PROGRAM_FAILURE|SUCCESS)|COMMAND_(?:ACQUIRE_GL_OBJECTS|BARRIER|COPY_(?:BUFFER(?:_RECT|_TO_IMAGE)?|IMAGE(?:_TO_BUFFER)?)|FILL_(?:BUFFER|IMAGE)|MAP(?:_BUFFER|_IMAGE)|MARKER|MIGRATE(?:_SVM)?_MEM_OBJECTS|NATIVE_KERNEL|NDRANGE_KERNEL|READ_(?:BUFFER(?:_RECT)?|IMAGE)|RELEASE_GL_OBJECTS|SVM_(?:FREE|MAP|MEMCPY|MEMFILL|UNMAP)|TASK|UNMAP_MEM_OBJECT|USER|WRITE_(?:BUFFER(?:_RECT)?|IMAGE))|COMPILER_NOT_AVAILABLE|COMPILE_PROGRAM_FAILURE|COMPLETE|CONTEXT_(?:DEVICES|INTEROP_USER_SYNC|NUM_DEVICES|PLATFORM|PROPERTIES|REFERENCE_COUNT)|DEPTH(?:_STENCIL)?|DEVICE_(?:ADDRESS_BITS|AFFINITY_DOMAIN_(?:L[1-4]_CACHE|NEXT_PARTITIONABLE|NUMA)|AVAILABLE|BUILT_IN_KERNELS|COMPILER_AVAILABLE|DOUBLE_FP_CONFIG|ENDIAN_LITTLE|ERROR_CORRECTION_SUPPORT|EXECUTION_CAPABILITIES|EXTENSIONS|GLOBAL_(?:MEM_(?:CACHELINE_SIZE|CACHE_SIZE|CACHE_TYPE|SIZE)|VARIABLE_PREFERRED_TOTAL_SIZE)|HOST_UNIFIED_MEMORY|IL_VERSION|IMAGE(?:2D_MAX_(?:HEIGHT|WIDTH)|3D_MAX_(?:DEPTH|HEIGHT|WIDTH)|_BASE_ADDRESS_ALIGNMENT|_MAX_ARRAY_SIZE|_MAX_BUFFER_SIZE|_PITCH_ALIGNMENT|_SUPPORT)|LINKER_AVAILABLE|LOCAL_MEM_SIZE|LOCAL_MEM_TYPE|MAX_(?:CLOCK_FREQUENCY|COMPUTE_UNITS|CONSTANT_ARGS|CONSTANT_BUFFER_SIZE|GLOBAL_VARIABLE_SIZE|MEM_ALLOC_SIZE|NUM_SUB_GROUPS|ON_DEVICE_(?:EVENTS|QUEUES)|PARAMETER_SIZE|PIPE_ARGS|READ_IMAGE_ARGS|READ_WRITE_IMAGE_ARGS|SAMPLERS|WORK_GROUP_SIZE|WORK_ITEM_DIMENSIONS|WORK_ITEM_SIZES|WRITE_IMAGE_ARGS)|MEM_BASE_ADDR_ALIGN|MIN_DATA_TYPE_ALIGN_SIZE|NAME|NATIVE_VECTOR_WIDTH_(?:CHAR|DOUBLE|FLOAT|HALF|INT|LONG|SHORT)|NOT_(?:AVAILABLE|FOUND)|OPENCL_C_VERSION|PARENT_DEVICE|PARTITION_(?:AFFINITY_DOMAIN|BY_AFFINITY_DOMAIN|BY_COUNTS|BY_COUNTS_LIST_END|EQUALLY|FAILED|MAX_SUB_DEVICES|PROPERTIES|TYPE)|PIPE_MAX_(?:ACTIVE_RESERVATIONS|PACKET_SIZE)|PLATFORM|PREFERRED_(?:GLOBAL_ATOMIC_ALIGNMENT|INTEROP_USER_SYNC|LOCAL_ATOMIC_ALIGNMENT|PLATFORM_ATOMIC_ALIGNMENT|VECTOR_WIDTH_(?:CHAR|DOUBLE|FLOAT|HALF|INT|LONG|SHORT))|PRINTF_BUFFER_SIZE|PROFILE|PROFILING_TIMER_RESOLUTION|QUEUE_(?:ON_(?:DEVICE_(?:MAX_SIZE|PREFERRED_SIZE|PROPERTIES)|HOST_PROPERTIES)|PROPERTIES)|REFERENCE_COUNT|SINGLE_FP_CONFIG|SUB_GROUP_INDEPENDENT_FORWARD_PROGRESS|SVM_(?:ATOMICS|CAPABILITIES|COARSE_GRAIN_BUFFER|FINE_GRAIN_BUFFER|FINE_GRAIN_SYSTEM)|TYPE(?:_ACCELERATOR|_ALL|_CPU|_CUSTOM|_DEFAULT|_GPU)?|VENDOR(?:_ID)?|VERSION)|DRIVER_VERSION|EVENT_(?:COMMAND_(?:EXECUTION_STATUS|QUEUE|TYPE)|CONTEXT|REFERENCE_COUNT)|EXEC_(?:KERNEL|NATIVE_KERNEL|STATUS_ERROR_FOR_EVENTS_IN_WAIT_LIST)|FILTER_(?:LINEAR|NEAREST)|FLOAT|FP_(?:CORRECTLY_ROUNDED_DIVIDE_SQRT|DENORM|FMA|INF_NAN|ROUND_TO_INF|ROUND_TO_NEAREST|ROUND_TO_ZERO|SOFT_FLOAT)|GLOBAL|HALF_FLOAT|IMAGE_(?:ARRAY_SIZE|BUFFER|DEPTH|ELEMENT_SIZE|FORMAT|FORMAT_MISMATCH|FORMAT_NOT_SUPPORTED|HEIGHT|NUM_MIP_LEVELS|NUM_SAMPLES|ROW_PITCH|SLICE_PITCH|WIDTH)|INTENSITY|INVALID_(?:ARG_INDEX|ARG_SIZE|ARG_VALUE|BINARY|BUFFER_SIZE|BUILD_OPTIONS|COMMAND_QUEUE|COMPILER_OPTIONS|CONTEXT|DEVICE|DEVICE_PARTITION_COUNT|DEVICE_QUEUE|DEVICE_TYPE|EVENT|EVENT_WAIT_LIST|GLOBAL_OFFSET|GLOBAL_WORK_SIZE|GL_OBJECT|HOST_PTR|IMAGE_DESCRIPTOR|IMAGE_FORMAT_DESCRIPTOR|IMAGE_SIZE|KERNEL|KERNEL_ARGS|KERNEL_DEFINITION|KERNEL_NAME|LINKER_OPTIONS|MEM_OBJECT|MIP_LEVEL|OPERATION|PIPE_SIZE|PLATFORM|PROGRAM|PROGRAM_EXECUTABLE|PROPERTY|QUEUE_PROPERTIES|SAMPLER|VALUE|WORK_DIMENSION|WORK_GROUP_SIZE|WORK_ITEM_SIZE)|KERNEL_(?:ARG_(?:ACCESS_(?:NONE|QUALIFIER|READ_ONLY|READ_WRITE|WRITE_ONLY)|ADDRESS_(?:CONSTANT|GLOBAL|LOCAL|PRIVATE|QUALIFIER)|INFO_NOT_AVAILABLE|NAME|TYPE_(?:CONST|NAME|NONE|PIPE|QUALIFIER|RESTRICT|VOLATILE))|ATTRIBUTES|COMPILE_NUM_SUB_GROUPS|COMPILE_WORK_GROUP_SIZE|CONTEXT|EXEC_INFO_SVM_FINE_GRAIN_SYSTEM|EXEC_INFO_SVM_PTRS|FUNCTION_NAME|GLOBAL_WORK_SIZE|LOCAL_MEM_SIZE|LOCAL_SIZE_FOR_SUB_GROUP_COUNT|MAX_NUM_SUB_GROUPS|MAX_SUB_GROUP_SIZE_FOR_NDRANGE|NUM_ARGS|PREFERRED_WORK_GROUP_SIZE_MULTIPLE|PRIVATE_MEM_SIZE|PROGRAM|REFERENCE_COUNT|SUB_GROUP_COUNT_FOR_NDRANGE|WORK_GROUP_SIZE)|LINKER_NOT_AVAILABLE|LINK_PROGRAM_FAILURE|LOCAL|LUMINANCE|MAP_(?:FAILURE|READ|WRITE|WRITE_INVALIDATE_REGION)|MEM_(?:ALLOC_HOST_PTR|ASSOCIATED_MEMOBJECT|CONTEXT|COPY_HOST_PTR|COPY_OVERLAP|FLAGS|HOST_NO_ACCESS|HOST_PTR|HOST_READ_ONLY|HOST_WRITE_ONLY|KERNEL_READ_AND_WRITE|MAP_COUNT|OBJECT_(?:ALLOCATION_FAILURE|BUFFER|IMAGE1D|IMAGE1D_ARRAY|IMAGE1D_BUFFER|IMAGE2D|IMAGE2D_ARRAY|IMAGE3D|PIPE)|OFFSET|READ_ONLY|READ_WRITE|REFERENCE_COUNT|SIZE|SVM_ATOMICS|SVM_FINE_GRAIN_BUFFER|TYPE|USES_SVM_POINTER|USE_HOST_PTR|WRITE_ONLY)|MIGRATE_MEM_OBJECT_(?:CONTENT_UNDEFINED|HOST)|MISALIGNED_SUB_BUFFER_OFFSET|NONE|NON_BLOCKING|OUT_OF_(?:HOST_MEMORY|RESOURCES)|PIPE_(?:MAX_PACKETS|PACKET_SIZE)|PLATFORM_(?:EXTENSIONS|HOST_TIMER_RESOLUTION|NAME|PROFILE|VENDOR|VERSION)|PROFILING_(?:COMMAND_(?:COMPLETE|END|QUEUED|START|SUBMIT)|INFO_NOT_AVAILABLE)|PROGRAM_(?:BINARIES|BINARY_SIZES|BINARY_TYPE(?:_COMPILED_OBJECT|_EXECUTABLE|_LIBRARY|_NONE)?|BUILD_(?:GLOBAL_VARIABLE_TOTAL_SIZE|LOG|OPTIONS|STATUS)|CONTEXT|DEVICES|IL|KERNEL_NAMES|NUM_DEVICES|NUM_KERNELS|REFERENCE_COUNT|SOURCE)|QUEUED|QUEUE_(?:CONTEXT|DEVICE|DEVICE_DEFAULT|ON_DEVICE|ON_DEVICE_DEFAULT|OUT_OF_ORDER_EXEC_MODE_ENABLE|PROFILING_ENABLE|PROPERTIES|REFERENCE_COUNT|SIZE)|R|RA|READ_(?:ONLY|WRITE)_CACHE|RG|RGB|RGBA|RGBx|RGx|RUNNING|Rx|SAMPLER_(?:ADDRESSING_MODE|CONTEXT|FILTER_MODE|LOD_MAX|LOD_MIN|MIP_FILTER_MODE|NORMALIZED_COORDS|REFERENCE_COUNT)|(?:UN)?SIGNED_INT(?:8|16|32)|SNORM_INT(?:8|16)|SUBMITTED|SUCCESS|UNORM_INT(?:8|16|24|_101010|_101010_2)|UNORM_SHORT_(?:555|565)|VERSION_(?:1_0|1_1|1_2|2_0|2_1)|sBGRA|sRGB|sRGBA|sRGBx)\b/,alias:"constant"},"function-opencl-host":{pattern:/\bcl(?:BuildProgram|CloneKernel|CompileProgram|Create(?:Buffer|CommandQueue(?:WithProperties)?|Context|ContextFromType|Image|Image2D|Image3D|Kernel|KernelsInProgram|Pipe|ProgramWith(?:Binary|BuiltInKernels|IL|Source)|Sampler|SamplerWithProperties|SubBuffer|SubDevices|UserEvent)|Enqueue(?:(?:Barrier|Marker)(?:WithWaitList)?|Copy(?:Buffer(?:Rect|ToImage)?|Image(?:ToBuffer)?)|(?:Fill|Map)(?:Buffer|Image)|MigrateMemObjects|NDRangeKernel|NativeKernel|(?:Read|Write)(?:Buffer(?:Rect)?|Image)|SVM(?:Free|Map|MemFill|Memcpy|MigrateMem|Unmap)|Task|UnmapMemObject|WaitForEvents)|Finish|Flush|Get(?:CommandQueueInfo|ContextInfo|Device(?:AndHostTimer|IDs|Info)|Event(?:Profiling)?Info|ExtensionFunctionAddress(?:ForPlatform)?|HostTimer|ImageInfo|Kernel(?:ArgInfo|Info|SubGroupInfo|WorkGroupInfo)|MemObjectInfo|PipeInfo|Platform(?:IDs|Info)|Program(?:Build)?Info|SamplerInfo|SupportedImageFormats)|LinkProgram|(?:Release|Retain)(?:CommandQueue|Context|Device|Event|Kernel|MemObject|Program|Sampler)|SVM(?:Alloc|Free)|Set(?:CommandQueueProperty|DefaultDeviceCommandQueue|EventCallback|Kernel|Kernel(?:Arg(?:SVMPointer)?|ExecInfo)|MemObjectDestructorCallback|UserEventStatus)|Unload(?:Platform)?Compiler|WaitForEvents)\b/,alias:"function"}};t.languages.insertBefore("c","keyword",r),t.languages.cpp&&(r["type-opencl-host-cpp"]={pattern:/\b(?:Buffer|BufferGL|BufferRenderGL|CommandQueue|Context|Device|DeviceCommandQueue|EnqueueArgs|Event|Image|Image1D|Image1DArray|Image1DBuffer|Image2D|Image2DArray|Image2DGL|Image3D|Image3DGL|ImageFormat|ImageGL|Kernel|KernelFunctor|LocalSpaceArg|Memory|NDRange|Pipe|Platform|Program|SVMAllocator|SVMTraitAtomic|SVMTraitCoarse|SVMTraitFine|SVMTraitReadOnly|SVMTraitReadWrite|SVMTraitWriteOnly|Sampler|UserEvent)\b/,alias:"keyword"},t.languages.insertBefore("cpp","keyword",r))})(e)}uA.displayName="openqasm";uA.aliases=["qasm"];function uA(e){e.languages.openqasm={comment:/\/\*[\s\S]*?\*\/|\/\/.*/,string:{pattern:/"[^"\r\n\t]*"|'[^'\r\n\t]*'/,greedy:!0},keyword:/\b(?:CX|OPENQASM|U|barrier|boxas|boxto|break|const|continue|ctrl|def|defcal|defcalgrammar|delay|else|end|for|gate|gphase|if|in|include|inv|kernel|lengthof|let|measure|pow|reset|return|rotary|stretchinf|while)\b|#pragma\b/,"class-name":/\b(?:angle|bit|bool|creg|fixed|float|int|length|qreg|qubit|stretch|uint)\b/,function:/\b(?:cos|exp|ln|popcount|rotl|rotr|sin|sqrt|tan)\b(?=\s*\()/,constant:/\b(?:euler|pi|tau)\b|||/,number:{pattern:/(^|[^.\w$])(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?(?:dt|ns|us|s|ms|s)?/i,lookbehind:!0},operator:/->|>>=?|<<=?|&&|\|\||\+\+|--|[!=<>&|~^+\-*/%]=?|@/,punctuation:/[(){}\[\];,:.]/},e.languages.qasm=e.languages.openqasm}dA.displayName="oz";dA.aliases=[];function dA(e){e.languages.oz={comment:{pattern:/\/\*[\s\S]*?\*\/|%.*/,greedy:!0},string:{pattern:/"(?:[^"\\]|\\[\s\S])*"/,greedy:!0},atom:{pattern:/'(?:[^'\\]|\\[\s\S])*'/,greedy:!0,alias:"builtin"},keyword:/\$|\[\]|\b(?:_|at|attr|case|catch|choice|class|cond|declare|define|dis|else(?:case|if)?|end|export|fail|false|feat|finally|from|fun|functor|if|import|in|local|lock|meth|nil|not|of|or|prepare|proc|prop|raise|require|self|skip|then|thread|true|try|unit)\b/,function:[/\b[a-z][A-Za-z\d]*(?=\()/,{pattern:/(\{)[A-Z][A-Za-z\d]*\b/,lookbehind:!0}],number:/\b(?:0[bx][\da-f]+|\d+(?:\.\d*)?(?:e~?\d+)?)\b|&(?:[^\\]|\\(?:\d{3}|.))/i,variable:/`(?:[^`\\]|\\.)+`/,"attr-name":/\b\w+(?=[ \t]*:(?![:=]))/,operator:/:(?:=|::?)|<[-:=]?|=(?:=|<?:?)|>=?:?|\\=:?|!!?|[|#+\-*\/,~^@]|\b(?:andthen|div|mod|orelse)\b/,punctuation:/[\[\](){}.:;?]/}}pA.displayName="parigp";pA.aliases=[];function pA(e){e.languages.parigp={comment:/\/\*[\s\S]*?\*\/|\\\\.*/,string:{pattern:/"(?:[^"\\\r\n]|\\.)*"/,greedy:!0},keyword:(function(){var t=["breakpoint","break","dbg_down","dbg_err","dbg_up","dbg_x","forcomposite","fordiv","forell","forpart","forprime","forstep","forsubgroup","forvec","for","iferr","if","local","my","next","return","until","while"];return t=t.map(function(r){return r.split("").join(" *")}).join("|"),RegExp("\\b(?:"+t+")\\b")})(),function:/\b\w(?:[\w ]*\w)?(?= *\()/,number:{pattern:/((?:\. *\. *)?)(?:\b\d(?: *\d)*(?: *(?!\. *\.)\.(?: *\d)*)?|\. *\d(?: *\d)*)(?: *e *(?:[+-] *)?\d(?: *\d)*)?/i,lookbehind:!0},operator:/\. *\.|[*\/!](?: *=)?|%(?: *=|(?: *#)?(?: *')*)?|\+(?: *[+=])?|-(?: *[-=>])?|<(?: *>|(?: *<)?(?: *=)?)?|>(?: *>)?(?: *=)?|=(?: *=){0,2}|\\(?: *\/)?(?: *=)?|&(?: *&)?|\| *\||['#~^]/,punctuation:/[\[\]{}().,:;|]/}}hA.displayName="parser";hA.aliases=[];function hA(e){e.register(Ga),(function(t){var r=t.languages.parser=t.languages.extend("markup",{keyword:{pattern:/(^|[^^])(?:\^(?:case|eval|for|if|switch|throw)\b|@(?:BASE|CLASS|GET(?:_DEFAULT)?|OPTIONS|SET_DEFAULT|USE)\b)/,lookbehind:!0},variable:{pattern:/(^|[^^])\B\$(?:\w+|(?=[.{]))(?:(?:\.|::?)\w+)*(?:\.|::?)?/,lookbehind:!0,inside:{punctuation:/\.|:+/}},function:{pattern:/(^|[^^])\B[@^]\w+(?:(?:\.|::?)\w+)*(?:\.|::?)?/,lookbehind:!0,inside:{keyword:{pattern:/(^@)(?:GET_|SET_)/,lookbehind:!0},punctuation:/\.|:+/}},escape:{pattern:/\^(?:[$^;@()\[\]{}"':]|#[a-f\d]*)/i,alias:"builtin"},punctuation:/[\[\](){};]/});r=t.languages.insertBefore("parser","keyword",{"parser-comment":{pattern:/(\s)#.*/,lookbehind:!0,alias:"comment"},expression:{pattern:/(^|[^^])\((?:[^()]|\((?:[^()]|\((?:[^()])*\))*\))*\)/,greedy:!0,lookbehind:!0,inside:{string:{pattern:/(^|[^^])(["'])(?:(?!\2)[^^]|\^[\s\S])*\2/,lookbehind:!0},keyword:r.keyword,variable:r.variable,function:r.function,boolean:/\b(?:false|true)\b/,number:/\b(?:0x[a-f\d]+|\d+(?:\.\d*)?(?:e[+-]?\d+)?)\b/i,escape:r.escape,operator:/[~+*\/\\%]|!(?:\|\|?|=)?|&&?|\|\|?|==|<[<=]?|>[>=]?|-[fd]?|\b(?:def|eq|ge|gt|in|is|le|lt|ne)\b/,punctuation:r.punctuation}}}),t.languages.insertBefore("inside","punctuation",{expression:r.expression,keyword:r.keyword,variable:r.variable,function:r.function,escape:r.escape,"parser-punctuation":{pattern:r.punctuation,alias:"punctuation"}},r.tag.inside["attr-value"])})(e)}gA.displayName="pascal";gA.aliases=["objectpascal"];function gA(e){e.languages.pascal={directive:{pattern:/\{\$[\s\S]*?\}/,greedy:!0,alias:["marco","property"]},comment:{pattern:/\(\*[\s\S]*?\*\)|\{[\s\S]*?\}|\/\/.*/,greedy:!0},string:{pattern:/(?:'(?:''|[^'\r\n])*'(?!')|#[&$%]?[a-f\d]+)+|\^[a-z]/i,greedy:!0},asm:{pattern:/(\basm\b)[\s\S]+?(?=\bend\s*[;[])/i,lookbehind:!0,greedy:!0,inside:null},keyword:[{pattern:/(^|[^&])\b(?:absolute|array|asm|begin|case|const|constructor|destructor|do|downto|else|end|file|for|function|goto|if|implementation|inherited|inline|interface|label|nil|object|of|operator|packed|procedure|program|record|reintroduce|repeat|self|set|string|then|to|type|unit|until|uses|var|while|with)\b/i,lookbehind:!0},{pattern:/(^|[^&])\b(?:dispose|exit|false|new|true)\b/i,lookbehind:!0},{pattern:/(^|[^&])\b(?:class|dispinterface|except|exports|finalization|finally|initialization|inline|library|on|out|packed|property|raise|resourcestring|threadvar|try)\b/i,lookbehind:!0},{pattern:/(^|[^&])\b(?:absolute|abstract|alias|assembler|bitpacked|break|cdecl|continue|cppdecl|cvar|default|deprecated|dynamic|enumerator|experimental|export|external|far|far16|forward|generic|helper|implements|index|interrupt|iochecks|local|message|name|near|nodefault|noreturn|nostackframe|oldfpccall|otherwise|overload|override|pascal|platform|private|protected|public|published|read|register|reintroduce|result|safecall|saveregisters|softfloat|specialize|static|stdcall|stored|strict|unaligned|unimplemented|varargs|virtual|write)\b/i,lookbehind:!0}],number:[/(?:[&%]\d+|\$[a-f\d]+)/i,/\b\d+(?:\.\d+)?(?:e[+-]?\d+)?/i],operator:[/\.\.|\*\*|:=|<[<=>]?|>[>=]?|[+\-*\/]=?|[@^=]/,{pattern:/(^|[^&])\b(?:and|as|div|exclude|in|include|is|mod|not|or|shl|shr|xor)\b/,lookbehind:!0}],punctuation:/\(\.|\.\)|[()\[\]:;,.]/},e.languages.pascal.asm.inside=e.languages.extend("pascal",{asm:void 0,keyword:void 0,operator:void 0}),e.languages.objectpascal=e.languages.pascal}mA.displayName="pascaligo";mA.aliases=[];function mA(e){(function(t){var r=/\((?:[^()]|\((?:[^()]|\([^()]*\))*\))*\)/.source,n=/(?:\b\w+(?:<braces>)?|<braces>)/.source.replace(/<braces>/g,function(){return r}),a=t.languages.pascaligo={comment:/\(\*[\s\S]+?\*\)|\/\/.*/,string:{pattern:/(["'`])(?:\\[\s\S]|(?!\1)[^\\])*\1|\^[a-z]/i,greedy:!0},"class-name":[{pattern:RegExp(/(\btype\s+\w+\s+is\s+)<type>/.source.replace(/<type>/g,function(){return n}),"i"),lookbehind:!0,inside:null},{pattern:RegExp(/<type>(?=\s+is\b)/.source.replace(/<type>/g,function(){return n}),"i"),inside:null},{pattern:RegExp(/(:\s*)<type>/.source.replace(/<type>/g,function(){return n})),lookbehind:!0,inside:null}],keyword:{pattern:/(^|[^&])\b(?:begin|block|case|const|else|end|fail|for|from|function|if|is|nil|of|remove|return|skip|then|type|var|while|with)\b/i,lookbehind:!0},boolean:{pattern:/(^|[^&])\b(?:False|True)\b/i,lookbehind:!0},builtin:{pattern:/(^|[^&])\b(?:bool|int|list|map|nat|record|string|unit)\b/i,lookbehind:!0},function:/\b\w+(?=\s*\()/,number:[/%[01]+|&[0-7]+|\$[a-f\d]+/i,/\b\d+(?:\.\d+)?(?:e[+-]?\d+)?(?:mtz|n)?/i],operator:/->|=\/=|\.\.|\*\*|:=|<[<=>]?|>[>=]?|[+\-*\/]=?|[@^=|]|\b(?:and|mod|or)\b/,punctuation:/\(\.|\.\)|[()\[\]:;,.{}]/},i=["comment","keyword","builtin","operator","punctuation"].reduce(function(o,l){return o[l]=a[l],o},{});a["class-name"].forEach(function(o){o.inside=i})})(e)}fA.displayName="psl";fA.aliases=[];function fA(e){e.languages.psl={comment:{pattern:/#.*/,greedy:!0},string:{pattern:/"(?:\\.|[^\\"])*"/,greedy:!0,inside:{symbol:/\\[ntrbA-Z"\\]/}},"heredoc-string":{pattern:/<<<([a-zA-Z_]\w*)[\r\n](?:.*[\r\n])*?\1\b/,alias:"string",greedy:!0},keyword:/\b(?:__multi|__single|case|default|do|else|elsif|exit|export|for|foreach|function|if|last|line|local|next|requires|return|switch|until|while|word)\b/,constant:/\b(?:ALARM|CHART_ADD_GRAPH|CHART_DELETE_GRAPH|CHART_DESTROY|CHART_LOAD|CHART_PRINT|EOF|OFFLINE|OK|PSL_PROF_LOG|R_CHECK_HORIZ|R_CHECK_VERT|R_CLICKER|R_COLUMN|R_FRAME|R_ICON|R_LABEL|R_LABEL_CENTER|R_LIST_MULTIPLE|R_LIST_MULTIPLE_ND|R_LIST_SINGLE|R_LIST_SINGLE_ND|R_MENU|R_POPUP|R_POPUP_SCROLLED|R_RADIO_HORIZ|R_RADIO_VERT|R_ROW|R_SCALE_HORIZ|R_SCALE_VERT|R_SEP_HORIZ|R_SEP_VERT|R_SPINNER|R_TEXT_FIELD|R_TEXT_FIELD_LABEL|R_TOGGLE|TRIM_LEADING|TRIM_LEADING_AND_TRAILING|TRIM_REDUNDANT|TRIM_TRAILING|VOID|WARN)\b/,boolean:/\b(?:FALSE|False|NO|No|TRUE|True|YES|Yes|false|no|true|yes)\b/,variable:/\b(?:PslDebug|errno|exit_status)\b/,builtin:{pattern:/\b(?:PslExecute|PslFunctionCall|PslFunctionExists|PslSetOptions|_snmp_debug|acos|add_diary|annotate|annotate_get|ascii_to_ebcdic|asctime|asin|atan|atexit|batch_set|blackout|cat|ceil|chan_exists|change_state|close|code_cvt|cond_signal|cond_wait|console_type|convert_base|convert_date|convert_locale_date|cos|cosh|create|date|dcget_text|destroy|destroy_lock|dget_text|difference|dump_hist|ebcdic_to_ascii|encrypt|event_archive|event_catalog_get|event_check|event_query|event_range_manage|event_range_query|event_report|event_schedule|event_trigger|event_trigger2|execute|exists|exp|fabs|file|floor|fmod|fopen|fseek|ftell|full_discovery|get|get_chan_info|get_ranges|get_text|get_vars|getenv|gethostinfo|getpid|getpname|grep|history|history_get_retention|in_transition|index|int|internal|intersection|is_var|isnumber|join|kill|length|lines|lock|lock_info|log|log10|loge|matchline|msg_check|msg_get_format|msg_get_severity|msg_printf|msg_sprintf|ntharg|nthargf|nthline|nthlinef|num_bytes|num_consoles|pconfig|popen|poplines|pow|print|printf|proc_exists|process|random|read|readln|refresh_parameters|remote_check|remote_close|remote_event_query|remote_event_trigger|remote_file_send|remote_open|remove|replace|rindex|sec_check_priv|sec_store_get|sec_store_set|set|set_alarm_ranges|set_locale|share|sin|sinh|sleep|snmp_agent_config|snmp_agent_start|snmp_agent_stop|snmp_close|snmp_config|snmp_get|snmp_get_next|snmp_h_get|snmp_h_get_next|snmp_h_set|snmp_open|snmp_set|snmp_trap_ignore|snmp_trap_listen|snmp_trap_raise_std_trap|snmp_trap_receive|snmp_trap_register_im|snmp_trap_send|snmp_walk|sopen|sort|splitline|sprintf|sqrt|srandom|str_repeat|strcasecmp|subset|substr|system|tail|tan|tanh|text_domain|time|tmpnam|tolower|toupper|trace_psl_process|trim|union|unique|unlock|unset|va_arg|va_start|write)\b/,alias:"builtin-function"},"foreach-variable":{pattern:/(\bforeach\s+(?:(?:\w+\b|"(?:\\.|[^\\"])*")\s+){0,2})[_a-zA-Z]\w*(?=\s*\()/,lookbehind:!0,greedy:!0},function:/\b[_a-z]\w*\b(?=\s*\()/i,number:/\b(?:0x[0-9a-f]+|\d+(?:\.\d+)?)\b/i,operator:/--|\+\+|&&=?|\|\|=?|<<=?|>>=?|[=!]~|[-+*/%&|^!=<>]=?|\.|[:?]/,punctuation:/[(){}\[\];,]/}}bA.displayName="pcaxis";bA.aliases=["px"];function bA(e){e.languages.pcaxis={string:/"[^"]*"/,keyword:{pattern:/((?:^|;)\s*)[-A-Z\d]+(?:\s*\[[-\w]+\])?(?:\s*\("[^"]*"(?:,\s*"[^"]*")*\))?(?=\s*=)/,lookbehind:!0,greedy:!0,inside:{keyword:/^[-A-Z\d]+/,language:{pattern:/^(\s*)\[[-\w]+\]/,lookbehind:!0,inside:{punctuation:/^\[|\]$/,property:/[-\w]+/}},"sub-key":{pattern:/^(\s*)\S[\s\S]*/,lookbehind:!0,inside:{parameter:{pattern:/"[^"]*"/,alias:"property"},punctuation:/^\(|\)$|,/}}}},operator:/=/,tlist:{pattern:/TLIST\s*\(\s*\w+(?:(?:\s*,\s*"[^"]*")+|\s*,\s*"[^"]*"-"[^"]*")?\s*\)/,greedy:!0,inside:{function:/^TLIST/,property:{pattern:/^(\s*\(\s*)\w+/,lookbehind:!0},string:/"[^"]*"/,punctuation:/[(),]/,operator:/-/}},punctuation:/[;,]/,number:{pattern:/(^|\s)\d+(?:\.\d+)?(?!\S)/,lookbehind:!0},boolean:/NO|YES/},e.languages.px=e.languages.pcaxis}yA.displayName="peoplecode";yA.aliases=["pcode"];function yA(e){e.languages.peoplecode={comment:RegExp([/\/\*[\s\S]*?\*\//.source,/\bREM[^;]*;/.source,/<\*(?:[^<*]|\*(?!>)|<(?!\*)|<\*(?:(?!\*>)[\s\S])*\*>)*\*>/.source,/\/\+[\s\S]*?\+\//.source].join("|")),string:{pattern:/'(?:''|[^'\r\n])*'(?!')|"(?:""|[^"\r\n])*"(?!")/,greedy:!0},variable:/%\w+/,"function-definition":{pattern:/((?:^|[^\w-])(?:function|method)\s+)\w+/i,lookbehind:!0,alias:"function"},"class-name":{pattern:/((?:^|[^-\w])(?:as|catch|class|component|create|extends|global|implements|instance|local|of|property|returns)\s+)\w+(?::\w+)*/i,lookbehind:!0,inside:{punctuation:/:/}},keyword:/\b(?:abstract|alias|as|catch|class|component|constant|create|declare|else|end-(?:class|evaluate|for|function|get|if|method|set|try|while)|evaluate|extends|for|function|get|global|if|implements|import|instance|library|local|method|null|of|out|peopleCode|private|program|property|protected|readonly|ref|repeat|returns?|set|step|then|throw|to|try|until|value|when(?:-other)?|while)\b/i,"operator-keyword":{pattern:/\b(?:and|not|or)\b/i,alias:"operator"},function:/[_a-z]\w*(?=\s*\()/i,boolean:/\b(?:false|true)\b/i,number:/\b\d+(?:\.\d+)?\b/,operator:/<>|[<>]=?|!=|\*\*|[-+*/|=@]/,punctuation:/[:.;,()[\]]/},e.languages.pcode=e.languages.peoplecode}xA.displayName="phpdoc";xA.aliases=[];function xA(e){e.register(Yp),e.register(Uu),(function(t){var r=/(?:\b[a-zA-Z]\w*|[|\\[\]])+/.source;t.languages.phpdoc=t.languages.extend("javadoclike",{parameter:{pattern:RegExp("(@(?:global|param|property(?:-read|-write)?|var)\\s+(?:"+r+"\\s+)?)\\$\\w+"),lookbehind:!0}}),t.languages.insertBefore("phpdoc","keyword",{"class-name":[{pattern:RegExp("(@(?:global|package|param|property(?:-read|-write)?|return|subpackage|throws|var)\\s+)"+r),lookbehind:!0,inside:{keyword:/\b(?:array|bool|boolean|callback|double|false|float|int|integer|mixed|null|object|resource|self|string|true|void)\b/,punctuation:/[|\\[\]()]/}}]}),t.languages.javadoclike.addSupport("php",t.languages.phpdoc)})(e)}EA.displayName="php-extras";EA.aliases=[];function EA(e){e.register(Uu),e.languages.insertBefore("php","variable",{this:{pattern:/\$this\b/,alias:"keyword"},global:/\$(?:GLOBALS|HTTP_RAW_POST_DATA|_(?:COOKIE|ENV|FILES|GET|POST|REQUEST|SERVER|SESSION)|argc|argv|http_response_header|php_errormsg)\b/,scope:{pattern:/\b[\w\\]+::/,inside:{keyword:/\b(?:parent|self|static)\b/,punctuation:/::|\\/}}})}vA.displayName="plant-uml";vA.aliases=["plantuml"];function vA(e){(function(t){var r=/\$\w+|%[a-z]+%/,n=/\[[^[\]]*\]/.source,a=/(?:[drlu]|do|down|le|left|ri|right|up)/.source,i="(?:-+"+a+"-+|\\.+"+a+"\\.+|-+(?:"+n+"-*)?|"+n+"-+|\\.+(?:"+n+"\\.*)?|"+n+"\\.+)",o=/(?:<{1,2}|\/{1,2}|\\{1,2}|<\||[#*^+}xo])/.source,l=/(?:>{1,2}|\/{1,2}|\\{1,2}|\|>|[#*^+{xo])/.source,u=/[[?]?[ox]?/.source,d=/[ox]?[\]?]?/.source,h=u+"(?:"+i+l+"|"+o+i+"(?:"+l+")?)"+d;t.languages["plant-uml"]={comment:{pattern:/(^[ \t]*)(?:'.*|\/'[\s\S]*?'\/)/m,lookbehind:!0,greedy:!0},preprocessor:{pattern:/(^[ \t]*)!.*/m,lookbehind:!0,greedy:!0,alias:"property",inside:{variable:r}},delimiter:{pattern:/(^[ \t]*)@(?:end|start)uml\b/m,lookbehind:!0,greedy:!0,alias:"punctuation"},arrow:{pattern:RegExp(/(^|[^-.<>?|\\[\]ox])/.source+h+/(?![-.<>?|\\\]ox])/.source),lookbehind:!0,greedy:!0,alias:"operator",inside:{expression:{pattern:/(\[)[^[\]]+(?=\])/,lookbehind:!0,inside:null},punctuation:/\[(?=$|\])|^\]/}},string:{pattern:/"[^"]*"/,greedy:!0},text:{pattern:/(\[[ \t]*[\r\n]+(?![\r\n]))[^\]]*(?=\])/,lookbehind:!0,greedy:!0,alias:"string"},keyword:[{pattern:/^([ \t]*)(?:abstract\s+class|end\s+(?:box|fork|group|merge|note|ref|split|title)|(?:fork|split)(?:\s+again)?|activate|actor|agent|alt|annotation|artifact|autoactivate|autonumber|backward|binary|boundary|box|break|caption|card|case|circle|class|clock|cloud|collections|component|concise|control|create|critical|database|deactivate|destroy|detach|diamond|else|elseif|end|end[hr]note|endif|endswitch|endwhile|entity|enum|file|folder|footer|frame|group|[hr]?note|header|hexagon|hide|if|interface|label|legend|loop|map|namespace|network|newpage|node|nwdiag|object|opt|package|page|par|participant|person|queue|rectangle|ref|remove|repeat|restore|return|robust|scale|set|show|skinparam|stack|start|state|stop|storage|switch|title|together|usecase|usecase\/|while)(?=\s|$)/m,lookbehind:!0,greedy:!0},/\b(?:elseif|equals|not|while)(?=\s*\()/,/\b(?:as|is|then)\b/],divider:{pattern:/^==.+==$/m,greedy:!0,alias:"important"},time:{pattern:/@(?:\d+(?:[:/]\d+){2}|[+-]?\d+|:[a-z]\w*(?:[+-]\d+)?)\b/i,greedy:!0,alias:"number"},color:{pattern:/#(?:[a-z_]+|[a-fA-F0-9]+)\b/,alias:"symbol"},variable:r,punctuation:/[:,;()[\]{}]|\.{3}/},t.languages["plant-uml"].arrow.inside.expression.inside=t.languages["plant-uml"],t.languages.plantuml=t.languages["plant-uml"]})(e)}SA.displayName="plsql";SA.aliases=[];function SA(e){e.register(zp),e.languages.plsql=e.languages.extend("sql",{comment:{pattern:/\/\*[\s\S]*?\*\/|--.*/,greedy:!0},keyword:/\b(?:A|ACCESSIBLE|ADD|AGENT|AGGREGATE|ALL|ALTER|AND|ANY|ARRAY|AS|ASC|AT|ATTRIBUTE|AUTHID|AVG|BEGIN|BETWEEN|BFILE_BASE|BINARY|BLOB_BASE|BLOCK|BODY|BOTH|BOUND|BULK|BY|BYTE|C|CALL|CALLING|CASCADE|CASE|CHAR|CHARACTER|CHARSET|CHARSETFORM|CHARSETID|CHAR_BASE|CHECK|CLOB_BASE|CLONE|CLOSE|CLUSTER|CLUSTERS|COLAUTH|COLLECT|COLUMNS|COMMENT|COMMIT|COMMITTED|COMPILED|COMPRESS|CONNECT|CONSTANT|CONSTRUCTOR|CONTEXT|CONTINUE|CONVERT|COUNT|CRASH|CREATE|CREDENTIAL|CURRENT|CURSOR|CUSTOMDATUM|DANGLING|DATA|DATE|DATE_BASE|DAY|DECLARE|DEFAULT|DEFINE|DELETE|DESC|DETERMINISTIC|DIRECTORY|DISTINCT|DOUBLE|DROP|DURATION|ELEMENT|ELSE|ELSIF|EMPTY|END|ESCAPE|EXCEPT|EXCEPTION|EXCEPTIONS|EXCLUSIVE|EXECUTE|EXISTS|EXIT|EXTERNAL|FETCH|FINAL|FIRST|FIXED|FLOAT|FOR|FORALL|FORCE|FROM|FUNCTION|GENERAL|GOTO|GRANT|GROUP|HASH|HAVING|HEAP|HIDDEN|HOUR|IDENTIFIED|IF|IMMEDIATE|IMMUTABLE|IN|INCLUDING|INDEX|INDEXES|INDICATOR|INDICES|INFINITE|INSERT|INSTANTIABLE|INT|INTERFACE|INTERSECT|INTERVAL|INTO|INVALIDATE|IS|ISOLATION|JAVA|LANGUAGE|LARGE|LEADING|LENGTH|LEVEL|LIBRARY|LIKE|LIKE2|LIKE4|LIKEC|LIMIT|LIMITED|LOCAL|LOCK|LONG|LOOP|MAP|MAX|MAXLEN|MEMBER|MERGE|MIN|MINUS|MINUTE|MOD|MODE|MODIFY|MONTH|MULTISET|MUTABLE|NAME|NAN|NATIONAL|NATIVE|NCHAR|NEW|NOCOMPRESS|NOCOPY|NOT|NOWAIT|NULL|NUMBER_BASE|OBJECT|OCICOLL|OCIDATE|OCIDATETIME|OCIDURATION|OCIINTERVAL|OCILOBLOCATOR|OCINUMBER|OCIRAW|OCIREF|OCIREFCURSOR|OCIROWID|OCISTRING|OCITYPE|OF|OLD|ON|ONLY|OPAQUE|OPEN|OPERATOR|OPTION|OR|ORACLE|ORADATA|ORDER|ORGANIZATION|ORLANY|ORLVARY|OTHERS|OUT|OVERLAPS|OVERRIDING|PACKAGE|PARALLEL_ENABLE|PARAMETER|PARAMETERS|PARENT|PARTITION|PASCAL|PERSISTABLE|PIPE|PIPELINED|PLUGGABLE|POLYMORPHIC|PRAGMA|PRECISION|PRIOR|PRIVATE|PROCEDURE|PUBLIC|RAISE|RANGE|RAW|READ|RECORD|REF|REFERENCE|RELIES_ON|REM|REMAINDER|RENAME|RESOURCE|RESULT|RESULT_CACHE|RETURN|RETURNING|REVERSE|REVOKE|ROLLBACK|ROW|SAMPLE|SAVE|SAVEPOINT|SB1|SB2|SB4|SECOND|SEGMENT|SELECT|SELF|SEPARATE|SEQUENCE|SERIALIZABLE|SET|SHARE|SHORT|SIZE|SIZE_T|SOME|SPARSE|SQL|SQLCODE|SQLDATA|SQLNAME|SQLSTATE|STANDARD|START|STATIC|STDDEV|STORED|STRING|STRUCT|STYLE|SUBMULTISET|SUBPARTITION|SUBSTITUTABLE|SUBTYPE|SUM|SYNONYM|TABAUTH|TABLE|TDO|THE|THEN|TIME|TIMESTAMP|TIMEZONE_ABBR|TIMEZONE_HOUR|TIMEZONE_MINUTE|TIMEZONE_REGION|TO|TRAILING|TRANSACTION|TRANSACTIONAL|TRUSTED|TYPE|UB1|UB2|UB4|UNDER|UNION|UNIQUE|UNPLUG|UNSIGNED|UNTRUSTED|UPDATE|USE|USING|VALIST|VALUE|VALUES|VARIABLE|VARIANCE|VARRAY|VARYING|VIEW|VIEWS|VOID|WHEN|WHERE|WHILE|WITH|WORK|WRAPPED|WRITE|YEAR|ZONE)\b/i,operator:/:=?|=>|[<>^~!]=|\.\.|\|\||\*\*|[-+*/%<>=@]/}),e.languages.insertBefore("plsql","operator",{label:{pattern:/<<\s*\w+\s*>>/,alias:"symbol"}})}TA.displayName="powerquery";TA.aliases=["mscript","pq"];function TA(e){e.languages.powerquery={comment:{pattern:/(^|[^\\])(?:\/\*[\s\S]*?\*\/|\/\/.*)/,lookbehind:!0,greedy:!0},"quoted-identifier":{pattern:/#"(?:[^"\r\n]|"")*"(?!")/,greedy:!0},string:{pattern:/(?:#!)?"(?:[^"\r\n]|"")*"(?!")/,greedy:!0},constant:[/\bDay\.(?:Friday|Monday|Saturday|Sunday|Thursday|Tuesday|Wednesday)\b/,/\bTraceLevel\.(?:Critical|Error|Information|Verbose|Warning)\b/,/\bOccurrence\.(?:All|First|Last)\b/,/\bOrder\.(?:Ascending|Descending)\b/,/\bRoundingMode\.(?:AwayFromZero|Down|ToEven|TowardZero|Up)\b/,/\bMissingField\.(?:Error|Ignore|UseNull)\b/,/\bQuoteStyle\.(?:Csv|None)\b/,/\bJoinKind\.(?:FullOuter|Inner|LeftAnti|LeftOuter|RightAnti|RightOuter)\b/,/\bGroupKind\.(?:Global|Local)\b/,/\bExtraValues\.(?:Error|Ignore|List)\b/,/\bJoinAlgorithm\.(?:Dynamic|LeftHash|LeftIndex|PairwiseHash|RightHash|RightIndex|SortMerge)\b/,/\bJoinSide\.(?:Left|Right)\b/,/\bPrecision\.(?:Decimal|Double)\b/,/\bRelativePosition\.From(?:End|Start)\b/,/\bTextEncoding\.(?:Ascii|BigEndianUnicode|Unicode|Utf16|Utf8|Windows)\b/,/\b(?:Any|Binary|Date|DateTime|DateTimeZone|Duration|Function|Int16|Int32|Int64|Int8|List|Logical|None|Number|Record|Table|Text|Time)\.Type\b/,/\bnull\b/],boolean:/\b(?:false|true)\b/,keyword:/\b(?:and|as|each|else|error|if|in|is|let|meta|not|nullable|optional|or|otherwise|section|shared|then|try|type)\b|#(?:binary|date|datetime|datetimezone|duration|infinity|nan|sections|shared|table|time)\b/,function:{pattern:/(^|[^#\w.])[a-z_][\w.]*(?=\s*\()/i,lookbehind:!0},"data-type":{pattern:/\b(?:any|anynonnull|binary|date|datetime|datetimezone|duration|function|list|logical|none|number|record|table|text|time)\b/,alias:"class-name"},number:{pattern:/\b0x[\da-f]+\b|(?:[+-]?(?:\b\d+\.)?\b\d+|[+-]\.\d+|(^|[^.])\B\.\d+)(?:e[+-]?\d+)?\b/i,lookbehind:!0},operator:/[-+*\/&?@^]|<(?:=>?|>)?|>=?|=>?|\.\.\.?/,punctuation:/[,;\[\](){}]/},e.languages.pq=e.languages.powerquery,e.languages.mscript=e.languages.powerquery}wA.displayName="powershell";wA.aliases=[];function wA(e){(function(t){var r=t.languages.powershell={comment:[{pattern:/(^|[^`])<#[\s\S]*?#>/,lookbehind:!0},{pattern:/(^|[^`])#.*/,lookbehind:!0}],string:[{pattern:/"(?:`[\s\S]|[^`"])*"/,greedy:!0,inside:null},{pattern:/'(?:[^']|'')*'/,greedy:!0}],namespace:/\[[a-z](?:\[(?:\[[^\]]*\]|[^\[\]])*\]|[^\[\]])*\]/i,boolean:/\$(?:false|true)\b/i,variable:/\$\w+\b/,function:[/\b(?:Add|Approve|Assert|Backup|Block|Checkpoint|Clear|Close|Compare|Complete|Compress|Confirm|Connect|Convert|ConvertFrom|ConvertTo|Copy|Debug|Deny|Disable|Disconnect|Dismount|Edit|Enable|Enter|Exit|Expand|Export|Find|ForEach|Format|Get|Grant|Group|Hide|Import|Initialize|Install|Invoke|Join|Limit|Lock|Measure|Merge|Move|New|Open|Optimize|Out|Ping|Pop|Protect|Publish|Push|Read|Receive|Redo|Register|Remove|Rename|Repair|Request|Reset|Resize|Resolve|Restart|Restore|Resume|Revoke|Save|Search|Select|Send|Set|Show|Skip|Sort|Split|Start|Step|Stop|Submit|Suspend|Switch|Sync|Tee|Test|Trace|Unblock|Undo|Uninstall|Unlock|Unprotect|Unpublish|Unregister|Update|Use|Wait|Watch|Where|Write)-[a-z]+\b/i,/\b(?:ac|cat|chdir|clc|cli|clp|clv|compare|copy|cp|cpi|cpp|cvpa|dbp|del|diff|dir|ebp|echo|epal|epcsv|epsn|erase|fc|fl|ft|fw|gal|gbp|gc|gci|gcs|gdr|gi|gl|gm|gp|gps|group|gsv|gu|gv|gwmi|iex|ii|ipal|ipcsv|ipsn|irm|iwmi|iwr|kill|lp|ls|measure|mi|mount|move|mp|mv|nal|ndr|ni|nv|ogv|popd|ps|pushd|pwd|rbp|rd|rdr|ren|ri|rm|rmdir|rni|rnp|rp|rv|rvpa|rwmi|sal|saps|sasv|sbp|sc|select|set|shcm|si|sl|sleep|sls|sort|sp|spps|spsv|start|sv|swmi|tee|trcm|type|write)\b/i],keyword:/\b(?:Begin|Break|Catch|Class|Continue|Data|Define|Do|DynamicParam|Else|ElseIf|End|Exit|Filter|Finally|For|ForEach|From|Function|If|InlineScript|Parallel|Param|Process|Return|Sequence|Switch|Throw|Trap|Try|Until|Using|Var|While|Workflow)\b/i,operator:{pattern:/(^|\W)(?:!|-(?:b?(?:and|x?or)|as|(?:Not)?(?:Contains|In|Like|Match)|eq|ge|gt|is(?:Not)?|Join|le|lt|ne|not|Replace|sh[lr])\b|-[-=]?|\+[+=]?|[*\/%]=?)/i,lookbehind:!0},punctuation:/[|{}[\];(),.]/};r.string[0].inside={function:{pattern:/(^|[^`])\$\((?:\$\([^\r\n()]*\)|(?!\$\()[^\r\n)])*\)/,lookbehind:!0,inside:r},boolean:r.boolean,variable:r.variable}})(e)}kA.displayName="processing";kA.aliases=[];function kA(e){e.register(Kr),e.languages.processing=e.languages.extend("clike",{keyword:/\b(?:break|case|catch|class|continue|default|else|extends|final|for|if|implements|import|new|null|private|public|return|static|super|switch|this|try|void|while)\b/,function:/\b\w+(?=\s*\()/,operator:/<[<=]?|>[>=]?|&&?|\|\|?|[%?]|[!=+\-*\/]=?/}),e.languages.insertBefore("processing","number",{constant:/\b(?!XML\b)[A-Z][A-Z\d_]+\b/,type:{pattern:/\b(?:boolean|byte|char|color|double|float|int|[A-Z]\w*)\b/,alias:"class-name"}})}CA.displayName="prolog";CA.aliases=[];function CA(e){e.languages.prolog={comment:{pattern:/\/\*[\s\S]*?\*\/|%.*/,greedy:!0},string:{pattern:/(["'])(?:\1\1|\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1(?!\1)/,greedy:!0},builtin:/\b(?:fx|fy|xf[xy]?|yfx?)\b/,function:/\b[a-z]\w*(?:(?=\()|\/\d+)/,number:/\b\d+(?:\.\d*)?/,operator:/[:\\=><\-?*@\/;+^|!$.]+|\b(?:is|mod|not|xor)\b/,punctuation:/[(){}\[\],]/}}_A.displayName="promql";_A.aliases=[];function _A(e){(function(t){var r=["sum","min","max","avg","group","stddev","stdvar","count","count_values","bottomk","topk","quantile"],n=["on","ignoring","group_right","group_left","by","without"],a=["offset"],i=r.concat(n,a);t.languages.promql={comment:{pattern:/(^[ \t]*)#.*/m,lookbehind:!0},"vector-match":{pattern:new RegExp("((?:"+n.join("|")+")\\s*)\\([^)]*\\)"),lookbehind:!0,inside:{"label-key":{pattern:/\b[^,]+\b/,alias:"attr-name"},punctuation:/[(),]/}},"context-labels":{pattern:/\{[^{}]*\}/,inside:{"label-key":{pattern:/\b[a-z_]\w*(?=\s*(?:=|![=~]))/,alias:"attr-name"},"label-value":{pattern:/(["'`])(?:\\[\s\S]|(?!\1)[^\\])*\1/,greedy:!0,alias:"attr-value"},punctuation:/\{|\}|=~?|![=~]|,/}},"context-range":[{pattern:/\[[\w\s:]+\]/,inside:{punctuation:/\[|\]|:/,"range-duration":{pattern:/\b(?:\d+(?:[smhdwy]|ms))+\b/i,alias:"number"}}},{pattern:/(\boffset\s+)\w+/,lookbehind:!0,inside:{"range-duration":{pattern:/\b(?:\d+(?:[smhdwy]|ms))+\b/i,alias:"number"}}}],keyword:new RegExp("\\b(?:"+i.join("|")+")\\b","i"),function:/\b[a-z_]\w*(?=\s*\()/i,number:/[-+]?(?:(?:\b\d+(?:\.\d+)?|\B\.\d+)(?:e[-+]?\d+)?\b|\b(?:0x[0-9a-f]+|nan|inf)\b)/i,operator:/[\^*/%+-]|==|!=|<=|<|>=|>|\b(?:and|or|unless)\b/i,punctuation:/[{};()`,.[\]]/}})(e)}AA.displayName="properties";AA.aliases=[];function AA(e){e.languages.properties={comment:/^[ \t]*[#!].*$/m,value:{pattern:/(^[ \t]*(?:\\(?:\r\n|[\s\S])|[^\\\s:=])+(?: *[=:] *(?! )| ))(?:\\(?:\r\n|[\s\S])|[^\\\r\n])+/m,lookbehind:!0,alias:"attr-value"},key:{pattern:/^[ \t]*(?:\\(?:\r\n|[\s\S])|[^\\\s:=])+(?= *[=:]| )/m,alias:"attr-name"},punctuation:/[=:]/}}NA.displayName="protobuf";NA.aliases=[];function NA(e){e.register(Kr),(function(t){var r=/\b(?:bool|bytes|double|s?fixed(?:32|64)|float|[su]?int(?:32|64)|string)\b/;t.languages.protobuf=t.languages.extend("clike",{"class-name":[{pattern:/(\b(?:enum|extend|message|service)\s+)[A-Za-z_]\w*(?=\s*\{)/,lookbehind:!0},{pattern:/(\b(?:rpc\s+\w+|returns)\s*\(\s*(?:stream\s+)?)\.?[A-Za-z_]\w*(?:\.[A-Za-z_]\w*)*(?=\s*\))/,lookbehind:!0}],keyword:/\b(?:enum|extend|extensions|import|message|oneof|option|optional|package|public|repeated|required|reserved|returns|rpc(?=\s+\w)|service|stream|syntax|to)\b(?!\s*=\s*\d)/,function:/\b[a-z_]\w*(?=\s*\()/i}),t.languages.insertBefore("protobuf","operator",{map:{pattern:/\bmap<\s*[\w.]+\s*,\s*[\w.]+\s*>(?=\s+[a-z_]\w*\s*[=;])/i,alias:"class-name",inside:{punctuation:/[<>.,]/,builtin:r}},builtin:r,"positional-class-name":{pattern:/(?:\b|\B\.)[a-z_]\w*(?:\.[a-z_]\w*)*(?=\s+[a-z_]\w*\s*[=;])/i,alias:"class-name",inside:{punctuation:/\./}},annotation:{pattern:/(\[\s*)[a-z_]\w*(?=\s*=)/i,lookbehind:!0}})})(e)}IA.displayName="stylus";IA.aliases=[];function IA(e){(function(t){var r={pattern:/(\b\d+)(?:%|[a-z]+)/,lookbehind:!0},n={pattern:/(^|[^\w.-])-?(?:\d+(?:\.\d+)?|\.\d+)/,lookbehind:!0},a={comment:{pattern:/(^|[^\\])(?:\/\*[\s\S]*?\*\/|\/\/.*)/,lookbehind:!0},url:{pattern:/\burl\((["']?).*?\1\)/i,greedy:!0},string:{pattern:/("|')(?:(?!\1)[^\\\r\n]|\\(?:\r\n|[\s\S]))*\1/,greedy:!0},interpolation:null,func:null,important:/\B!(?:important|optional)\b/i,keyword:{pattern:/(^|\s+)(?:(?:else|for|if|return|unless)(?=\s|$)|@[\w-]+)/,lookbehind:!0},hexcode:/#[\da-f]{3,6}/i,color:[/\b(?:AliceBlue|AntiqueWhite|Aqua|Aquamarine|Azure|Beige|Bisque|Black|BlanchedAlmond|Blue|BlueViolet|Brown|BurlyWood|CadetBlue|Chartreuse|Chocolate|Coral|CornflowerBlue|Cornsilk|Crimson|Cyan|DarkBlue|DarkCyan|DarkGoldenRod|DarkGr[ae]y|DarkGreen|DarkKhaki|DarkMagenta|DarkOliveGreen|DarkOrange|DarkOrchid|DarkRed|DarkSalmon|DarkSeaGreen|DarkSlateBlue|DarkSlateGr[ae]y|DarkTurquoise|DarkViolet|DeepPink|DeepSkyBlue|DimGr[ae]y|DodgerBlue|FireBrick|FloralWhite|ForestGreen|Fuchsia|Gainsboro|GhostWhite|Gold|GoldenRod|Gr[ae]y|Green|GreenYellow|HoneyDew|HotPink|IndianRed|Indigo|Ivory|Khaki|Lavender|LavenderBlush|LawnGreen|LemonChiffon|LightBlue|LightCoral|LightCyan|LightGoldenRodYellow|LightGr[ae]y|LightGreen|LightPink|LightSalmon|LightSeaGreen|LightSkyBlue|LightSlateGr[ae]y|LightSteelBlue|LightYellow|Lime|LimeGreen|Linen|Magenta|Maroon|MediumAquaMarine|MediumBlue|MediumOrchid|MediumPurple|MediumSeaGreen|MediumSlateBlue|MediumSpringGreen|MediumTurquoise|MediumVioletRed|MidnightBlue|MintCream|MistyRose|Moccasin|NavajoWhite|Navy|OldLace|Olive|OliveDrab|Orange|OrangeRed|Orchid|PaleGoldenRod|PaleGreen|PaleTurquoise|PaleVioletRed|PapayaWhip|PeachPuff|Peru|Pink|Plum|PowderBlue|Purple|Red|RosyBrown|RoyalBlue|SaddleBrown|Salmon|SandyBrown|SeaGreen|SeaShell|Sienna|Silver|SkyBlue|SlateBlue|SlateGr[ae]y|Snow|SpringGreen|SteelBlue|Tan|Teal|Thistle|Tomato|Transparent|Turquoise|Violet|Wheat|White|WhiteSmoke|Yellow|YellowGreen)\b/i,{pattern:/\b(?:hsl|rgb)\(\s*\d{1,3}\s*,\s*\d{1,3}%?\s*,\s*\d{1,3}%?\s*\)\B|\b(?:hsl|rgb)a\(\s*\d{1,3}\s*,\s*\d{1,3}%?\s*,\s*\d{1,3}%?\s*,\s*(?:0|0?\.\d+|1)\s*\)\B/i,inside:{unit:r,number:n,function:/[\w-]+(?=\()/,punctuation:/[(),]/}}],entity:/\\[\da-f]{1,8}/i,unit:r,boolean:/\b(?:false|true)\b/,operator:[/~|[+!\/%<>?=]=?|[-:]=|\*[*=]?|\.{2,3}|&&|\|\||\B-\B|\b(?:and|in|is(?: a| defined| not|nt)?|not|or)\b/],number:n,punctuation:/[{}()\[\];:,]/};a.interpolation={pattern:/\{[^\r\n}:]+\}/,alias:"variable",inside:{delimiter:{pattern:/^\{|\}$/,alias:"punctuation"},rest:a}},a.func={pattern:/[\w-]+\([^)]*\).*/,inside:{function:/^[^(]+/,rest:a}},t.languages.stylus={"atrule-declaration":{pattern:/(^[ \t]*)@.+/m,lookbehind:!0,inside:{atrule:/^@[\w-]+/,rest:a}},"variable-declaration":{pattern:/(^[ \t]*)[\w$-]+\s*.?=[ \t]*(?:\{[^{}]*\}|\S.*|$)/m,lookbehind:!0,inside:{variable:/^\S+/,rest:a}},statement:{pattern:/(^[ \t]*)(?:else|for|if|return|unless)[ \t].+/m,lookbehind:!0,inside:{keyword:/^\S+/,rest:a}},"property-declaration":{pattern:/((?:^|\{)([ \t]*))(?:[\w-]|\{[^}\r\n]+\})+(?:\s*:\s*|[ \t]+)(?!\s)[^{\r\n]*(?:;|[^{\r\n,]$(?!(?:\r?\n|\r)(?:\{|\2[ \t])))/m,lookbehind:!0,inside:{property:{pattern:/^[^\s:]+/,inside:{interpolation:a.interpolation}},rest:a}},selector:{pattern:/(^[ \t]*)(?:(?=\S)(?:[^{}\r\n:()]|::?[\w-]+(?:\([^)\r\n]*\)|(?![\w-]))|\{[^}\r\n]+\})+)(?:(?:\r?\n|\r)(?:\1(?:(?=\S)(?:[^{}\r\n:()]|::?[\w-]+(?:\([^)\r\n]*\)|(?![\w-]))|\{[^}\r\n]+\})+)))*(?:,$|\{|(?=(?:\r?\n|\r)(?:\{|\1[ \t])))/m,lookbehind:!0,inside:{interpolation:a.interpolation,comment:a.comment,punctuation:/[{},]/}},func:a.func,string:a.string,comment:{pattern:/(^|[^\\])(?:\/\*[\s\S]*?\*\/|\/\/.*)/,lookbehind:!0,greedy:!0},interpolation:a.interpolation,punctuation:/[{}()\[\];:.]/}})(e)}RA.displayName="twig";RA.aliases=[];function RA(e){e.register(rs),e.languages.twig={comment:/^\{#[\s\S]*?#\}$/,"tag-name":{pattern:/(^\{%-?\s*)\w+/,lookbehind:!0,alias:"keyword"},delimiter:{pattern:/^\{[{%]-?|-?[%}]\}$/,alias:"punctuation"},string:{pattern:/("|')(?:\\.|(?!\1)[^\\\r\n])*\1/,inside:{punctuation:/^['"]|['"]$/}},keyword:/\b(?:even|if|odd)\b/,boolean:/\b(?:false|null|true)\b/,number:/\b0x[\dA-Fa-f]+|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:[Ee][-+]?\d+)?/,operator:[{pattern:/(\s)(?:and|b-and|b-or|b-xor|ends with|in|is|matches|not|or|same as|starts with)(?=\s)/,lookbehind:!0},/[=<>]=?|!=|\*\*?|\/\/?|\?:?|[-+~%|]/],punctuation:/[()\[\]{}:.,]/},e.hooks.add("before-tokenize",function(t){if(t.language==="twig"){var r=/\{(?:#[\s\S]*?#|%[\s\S]*?%|\{[\s\S]*?\})\}/g;e.languages["markup-templating"].buildPlaceholders(t,"twig",r)}}),e.hooks.add("after-tokenize",function(t){e.languages["markup-templating"].tokenizePlaceholders(t,"twig")})}DA.displayName="pug";DA.aliases=[];function DA(e){e.register(ts),e.register(Ga),(function(t){t.languages.pug={comment:{pattern:/(^([\t ]*))\/\/.*(?:(?:\r?\n|\r)\2[\t ].+)*/m,lookbehind:!0},"multiline-script":{pattern:/(^([\t ]*)script\b.*\.[\t ]*)(?:(?:\r?\n|\r(?!\n))(?:\2[\t ].+|\s*?(?=\r?\n|\r)))+/m,lookbehind:!0,inside:t.languages.javascript},filter:{pattern:/(^([\t ]*)):.+(?:(?:\r?\n|\r(?!\n))(?:\2[\t ].+|\s*?(?=\r?\n|\r)))+/m,lookbehind:!0,inside:{"filter-name":{pattern:/^:[\w-]+/,alias:"variable"},text:/\S[\s\S]*/}},"multiline-plain-text":{pattern:/(^([\t ]*)[\w\-#.]+\.[\t ]*)(?:(?:\r?\n|\r(?!\n))(?:\2[\t ].+|\s*?(?=\r?\n|\r)))+/m,lookbehind:!0},markup:{pattern:/(^[\t ]*)<.+/m,lookbehind:!0,inside:t.languages.markup},doctype:{pattern:/((?:^|\n)[\t ]*)doctype(?: .+)?/,lookbehind:!0},"flow-control":{pattern:/(^[\t ]*)(?:case|default|each|else|if|unless|when|while)\b(?: .+)?/m,lookbehind:!0,inside:{each:{pattern:/^each .+? in\b/,inside:{keyword:/\b(?:each|in)\b/,punctuation:/,/}},branch:{pattern:/^(?:case|default|else|if|unless|when|while)\b/,alias:"keyword"},rest:t.languages.javascript}},keyword:{pattern:/(^[\t ]*)(?:append|block|extends|include|prepend)\b.+/m,lookbehind:!0},mixin:[{pattern:/(^[\t ]*)mixin .+/m,lookbehind:!0,inside:{keyword:/^mixin/,function:/\w+(?=\s*\(|\s*$)/,punctuation:/[(),.]/}},{pattern:/(^[\t ]*)\+.+/m,lookbehind:!0,inside:{name:{pattern:/^\+\w+/,alias:"function"},rest:t.languages.javascript}}],script:{pattern:/(^[\t ]*script(?:(?:&[^(]+)?\([^)]+\))*[\t ]).+/m,lookbehind:!0,inside:t.languages.javascript},"plain-text":{pattern:/(^[\t ]*(?!-)[\w\-#.]*[\w\-](?:(?:&[^(]+)?\([^)]+\))*\/?[\t ]).+/m,lookbehind:!0},tag:{pattern:/(^[\t ]*)(?!-)[\w\-#.]*[\w\-](?:(?:&[^(]+)?\([^)]+\))*\/?:?/m,lookbehind:!0,inside:{attributes:[{pattern:/&[^(]+\([^)]+\)/,inside:t.languages.javascript},{pattern:/\([^)]+\)/,inside:{"attr-value":{pattern:/(=\s*(?!\s))(?:\{[^}]*\}|[^,)\r\n]+)/,lookbehind:!0,inside:t.languages.javascript},"attr-name":/[\w-]+(?=\s*!?=|\s*[,)])/,punctuation:/[!=(),]+/}}],punctuation:/:/,"attr-id":/#[\w\-]+/,"attr-class":/\.[\w\-]+/}},code:[{pattern:/(^[\t ]*(?:-|!?=)).+/m,lookbehind:!0,inside:t.languages.javascript}],punctuation:/[.\-!=|]+/};for(var r=/(^([\t ]*)):<filter_name>(?:(?:\r?\n|\r(?!\n))(?:\2[\t ].+|\s*?(?=\r?\n|\r)))+/.source,n=[{filter:"atpl",language:"twig"},{filter:"coffee",language:"coffeescript"},"ejs","handlebars","less","livescript","markdown",{filter:"sass",language:"scss"},"stylus"],a={},i=0,o=n.length;i<o;i++){var l=n[i];l=typeof l=="string"?{filter:l,language:l}:l,t.languages[l.language]&&(a["filter-"+l.filter]={pattern:RegExp(r.replace("<filter_name>",function(){return l.filter}),"m"),lookbehind:!0,inside:{"filter-name":{pattern:/^:[\w-]+/,alias:"variable"},text:{pattern:/\S[\s\S]*/,alias:[l.language,"language-"+l.language],inside:t.languages[l.language]}}})}t.languages.insertBefore("pug","filter",a)})(e)}LA.displayName="puppet";LA.aliases=[];function LA(e){(function(t){t.languages.puppet={heredoc:[{pattern:/(@\("([^"\r\n\/):]+)"(?:\/[nrts$uL]*)?\).*(?:\r?\n|\r))(?:.*(?:\r?\n|\r(?!\n)))*?[ \t]*(?:\|[ \t]*)?(?:-[ \t]*)?\2/,lookbehind:!0,alias:"string",inside:{punctuation:/(?=\S).*\S(?= *$)/}},{pattern:/(@\(([^"\r\n\/):]+)(?:\/[nrts$uL]*)?\).*(?:\r?\n|\r))(?:.*(?:\r?\n|\r(?!\n)))*?[ \t]*(?:\|[ \t]*)?(?:-[ \t]*)?\2/,lookbehind:!0,greedy:!0,alias:"string",inside:{punctuation:/(?=\S).*\S(?= *$)/}},{pattern:/@\("?(?:[^"\r\n\/):]+)"?(?:\/[nrts$uL]*)?\)/,alias:"string",inside:{punctuation:{pattern:/(\().+?(?=\))/,lookbehind:!0}}}],"multiline-comment":{pattern:/(^|[^\\])\/\*[\s\S]*?\*\//,lookbehind:!0,greedy:!0,alias:"comment"},regex:{pattern:/((?:\bnode\s+|[~=\(\[\{,]\s*|[=+]>\s*|^\s*))\/(?:[^\/\\]|\\[\s\S])+\/(?:[imx]+\b|\B)/,lookbehind:!0,greedy:!0,inside:{"extended-regex":{pattern:/^\/(?:[^\/\\]|\\[\s\S])+\/[im]*x[im]*$/,inside:{comment:/#.*/}}}},comment:{pattern:/(^|[^\\])#.*/,lookbehind:!0,greedy:!0},string:{pattern:/(["'])(?:\$\{(?:[^'"}]|(["'])(?:(?!\2)[^\\]|\\[\s\S])*\2)+\}|\$(?!\{)|(?!\1)[^\\$]|\\[\s\S])*\1/,greedy:!0,inside:{"double-quoted":{pattern:/^"[\s\S]*"$/,inside:{}}}},variable:{pattern:/\$(?:::)?\w+(?:::\w+)*/,inside:{punctuation:/::/}},"attr-name":/(?:\b\w+|\*)(?=\s*=>)/,function:[{pattern:/(\.)(?!\d)\w+/,lookbehind:!0},/\b(?:contain|debug|err|fail|include|info|notice|realize|require|tag|warning)\b|\b(?!\d)\w+(?=\()/],number:/\b(?:0x[a-f\d]+|\d+(?:\.\d+)?(?:e-?\d+)?)\b/i,boolean:/\b(?:false|true)\b/,keyword:/\b(?:application|attr|case|class|consumes|default|define|else|elsif|function|if|import|inherits|node|private|produces|type|undef|unless)\b/,datatype:{pattern:/\b(?:Any|Array|Boolean|Callable|Catalogentry|Class|Collection|Data|Default|Enum|Float|Hash|Integer|NotUndef|Numeric|Optional|Pattern|Regexp|Resource|Runtime|Scalar|String|Struct|Tuple|Type|Undef|Variant)\b/,alias:"symbol"},operator:/=[=~>]?|![=~]?|<(?:<\|?|[=~|-])?|>[>=]?|->?|~>|\|>?>?|[*\/%+?]|\b(?:and|in|or)\b/,punctuation:/[\[\]{}().,;]|:+/};var r=[{pattern:/(^|[^\\])\$\{(?:[^'"{}]|\{[^}]*\}|(["'])(?:(?!\2)[^\\]|\\[\s\S])*\2)+\}/,lookbehind:!0,inside:{"short-variable":{pattern:/(^\$\{)(?!\w+\()(?:::)?\w+(?:::\w+)*/,lookbehind:!0,alias:"variable",inside:{punctuation:/::/}},delimiter:{pattern:/^\$/,alias:"variable"},rest:t.languages.puppet}},{pattern:/(^|[^\\])\$(?:::)?\w+(?:::\w+)*/,lookbehind:!0,alias:"variable",inside:{punctuation:/::/}}];t.languages.puppet.heredoc[0].inside.interpolation=r,t.languages.puppet.string.inside["double-quoted"].inside.interpolation=r})(e)}OA.displayName="pure";OA.aliases=[];function OA(e){(function(t){t.languages.pure={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?\*\//,lookbehind:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0},/#!.+/],"inline-lang":{pattern:/%<[\s\S]+?%>/,greedy:!0,inside:{lang:{pattern:/(^%< *)-\*-.+?-\*-/,lookbehind:!0,alias:"comment"},delimiter:{pattern:/^%<.*|%>$/,alias:"punctuation"}}},string:{pattern:/"(?:\\.|[^"\\\r\n])*"/,greedy:!0},number:{pattern:/((?:\.\.)?)(?:\b(?:inf|nan)\b|\b0x[\da-f]+|(?:\b(?:0b)?\d+(?:\.\d+)?|\B\.\d+)(?:e[+-]?\d+)?L?)/i,lookbehind:!0},keyword:/\b(?:NULL|ans|break|bt|case|catch|cd|clear|const|def|del|dump|else|end|exit|extern|false|force|help|if|infix[lr]?|interface|let|ls|mem|namespace|nonfix|of|otherwise|outfix|override|postfix|prefix|private|public|pwd|quit|run|save|show|stats|then|throw|trace|true|type|underride|using|when|with)\b/,function:/\b(?:abs|add_(?:addr|constdef|(?:fundef|interface|macdef|typedef)(?:_at)?|vardef)|all|any|applp?|arity|bigintp?|blob(?:_crc|_size|p)?|boolp?|byte_c?string(?:_pointer)?|byte_(?:matrix|pointer)|calloc|cat|catmap|ceil|char[ps]?|check_ptrtag|chr|clear_sentry|clearsym|closurep?|cmatrixp?|cols?|colcat(?:map)?|colmap|colrev|colvector(?:p|seq)?|complex(?:_float_(?:matrix|pointer)|_matrix(?:_view)?|_pointer|p)?|conj|cookedp?|cst|cstring(?:_(?:dup|list|vector))?|curry3?|cyclen?|del_(?:constdef|fundef|interface|macdef|typedef|vardef)|delete|diag(?:mat)?|dim|dmatrixp?|do|double(?:_matrix(?:_view)?|_pointer|p)?|dowith3?|drop|dropwhile|eval(?:cmd)?|exactp|filter|fix|fixity|flip|float(?:_matrix|_pointer)|floor|fold[lr]1?|frac|free|funp?|functionp?|gcd|get(?:_(?:byte|constdef|double|float|fundef|int(?:64)?|interface(?:_typedef)?|long|macdef|pointer|ptrtag|sentry|short|string|typedef|vardef))?|globsym|hash|head|id|im|imatrixp?|index|inexactp|infp|init|insert|int(?:_matrix(?:_view)?|_pointer|p)?|int64_(?:matrix|pointer)|integerp?|iteraten?|iterwhile|join|keys?|lambdap?|last(?:err(?:pos)?)?|lcd|list[2p]?|listmap|make_ptrtag|malloc|map|matcat|matrixp?|max|member|min|nanp|nargs|nmatrixp?|null|numberp?|ord|pack(?:ed)?|pointer(?:_cast|_tag|_type|p)?|pow|pred|ptrtag|put(?:_(?:byte|double|float|int(?:64)?|long|pointer|short|string))?|rationalp?|re|realp?|realloc|recordp?|redim|reduce(?:_with)?|refp?|repeatn?|reverse|rlistp?|round|rows?|rowcat(?:map)?|rowmap|rowrev|rowvector(?:p|seq)?|same|scan[lr]1?|sentry|sgn|short_(?:matrix|pointer)|slice|smatrixp?|sort|split|str|strcat|stream|stride|string(?:_(?:dup|list|vector)|p)?|subdiag(?:mat)?|submat|subseq2?|substr|succ|supdiag(?:mat)?|symbolp?|tail|take|takewhile|thunkp?|transpose|trunc|tuplep?|typep|ubyte|uint(?:64)?|ulong|uncurry3?|unref|unzip3?|update|ushort|vals?|varp?|vector(?:p|seq)?|void|zip3?|zipwith3?)\b/,special:{pattern:/\b__[a-z]+__\b/i,alias:"builtin"},operator:/(?:[!"#$%&'*+,\-.\/:<=>?@\\^`|~\u00a1-\u00bf\u00d7-\u00f7\u20d0-\u2bff]|\b_+\b)+|\b(?:and|div|mod|not|or)\b/,punctuation:/[(){}\[\];,|]/};var r=["c",{lang:"c++",alias:"cpp"},"fortran"],n=/%< *-\*- *<lang>\d* *-\*-[\s\S]+?%>/.source;r.forEach(function(a){var i=a;if(typeof a!="string"&&(i=a.alias,a=a.lang),t.languages[i]){var o={};o["inline-lang-"+i]={pattern:RegExp(n.replace("<lang>",a.replace(/([.+*?\/\\(){}\[\]])/g,"\\$1")),"i"),inside:t.util.clone(t.languages.pure["inline-lang"].inside)},o["inline-lang-"+i].inside.rest=t.util.clone(t.languages[i]),t.languages.insertBefore("pure","inline-lang",o)}}),t.languages.c&&(t.languages.pure["inline-lang"].inside.rest=t.util.clone(t.languages.c))})(e)}MA.displayName="purebasic";MA.aliases=["pbfasm"];function MA(e){e.register(Kr),e.languages.purebasic=e.languages.extend("clike",{comment:/;.*/,keyword:/\b(?:align|and|as|break|calldebugger|case|compilercase|compilerdefault|compilerelse|compilerelseif|compilerendif|compilerendselect|compilererror|compilerif|compilerselect|continue|data|datasection|debug|debuglevel|declare|declarec|declarecdll|declaredll|declaremodule|default|define|dim|disableasm|disabledebugger|disableexplicit|else|elseif|enableasm|enabledebugger|enableexplicit|end|enddatasection|enddeclaremodule|endenumeration|endif|endimport|endinterface|endmacro|endmodule|endprocedure|endselect|endstructure|endstructureunion|endwith|enumeration|extends|fakereturn|for|foreach|forever|global|gosub|goto|if|import|importc|includebinary|includefile|includepath|interface|macro|module|newlist|newmap|next|not|or|procedure|procedurec|procedurecdll|proceduredll|procedurereturn|protected|prototype|prototypec|read|redim|repeat|restore|return|runtime|select|shared|static|step|structure|structureunion|swap|threaded|to|until|wend|while|with|xincludefile|xor)\b/i,function:/\b\w+(?:\.\w+)?\s*(?=\()/,number:/(?:\$[\da-f]+|\b-?(?:\d+(?:\.\d+)?|\.\d+)(?:e[+-]?\d+)?)\b/i,operator:/(?:@\*?|\?|\*)\w+\$?|-[>-]?|\+\+?|!=?|<<?=?|>>?=?|==?|&&?|\|?\||[~^%?*/@]/}),e.languages.insertBefore("purebasic","keyword",{tag:/#\w+\$?/,asm:{pattern:/(^[\t ]*)!.*/m,lookbehind:!0,alias:"tag",inside:{comment:/;.*/,string:{pattern:/(["'`])(?:\\.|(?!\1)[^\\\r\n])*\1/,greedy:!0},"label-reference-anonymous":{pattern:/(!\s*j[a-z]+\s+)@[fb]/i,lookbehind:!0,alias:"fasm-label"},"label-reference-addressed":{pattern:/(!\s*j[a-z]+\s+)[A-Z._?$@][\w.?$@~#]*/i,lookbehind:!0,alias:"fasm-label"},keyword:[/\b(?:extern|global)\b[^;\r\n]*/i,/\b(?:CPU|DEFAULT|FLOAT)\b.*/],function:{pattern:/^([\t ]*!\s*)[\da-z]+(?=\s|$)/im,lookbehind:!0},"function-inline":{pattern:/(:\s*)[\da-z]+(?=\s)/i,lookbehind:!0,alias:"function"},label:{pattern:/^([\t ]*!\s*)[A-Za-z._?$@][\w.?$@~#]*(?=:)/m,lookbehind:!0,alias:"fasm-label"},register:/\b(?:st\d|[xyz]mm\d\d?|[cdt]r\d|r\d\d?[bwd]?|[er]?[abcd]x|[abcd][hl]|[er]?(?:bp|di|si|sp)|[cdefgs]s|mm\d+)\b/i,number:/(?:\b|-|(?=\$))(?:0[hx](?:[\da-f]*\.)?[\da-f]+(?:p[+-]?\d+)?|\d[\da-f]+[hx]|\$\d[\da-f]*|0[oq][0-7]+|[0-7]+[oq]|0[by][01]+|[01]+[by]|0[dt]\d+|(?:\d+(?:\.\d+)?|\.\d+)(?:\.?e[+-]?\d+)?[dt]?)\b/i,operator:/[\[\]*+\-/%<>=&|$!,.:]/}}}),delete e.languages.purebasic["class-name"],delete e.languages.purebasic.boolean,e.languages.pbfasm=e.languages.purebasic}PA.displayName="purescript";PA.aliases=["purs"];function PA(e){e.register(tf),e.languages.purescript=e.languages.extend("haskell",{keyword:/\b(?:ado|case|class|data|derive|do|else|forall|if|in|infixl|infixr|instance|let|module|newtype|of|primitive|then|type|where)\b|/,"import-statement":{pattern:/(^[\t ]*)import\s+[A-Z][\w']*(?:\.[A-Z][\w']*)*(?:\s+as\s+[A-Z][\w']*(?:\.[A-Z][\w']*)*)?(?:\s+hiding\b)?/m,lookbehind:!0,inside:{keyword:/\b(?:as|hiding|import)\b/,punctuation:/\./}},builtin:/\b(?:absurd|add|ap|append|apply|between|bind|bottom|clamp|compare|comparing|compose|conj|const|degree|discard|disj|div|eq|flap|flip|gcd|identity|ifM|join|lcm|liftA1|liftM1|map|max|mempty|min|mod|mul|negate|not|notEq|one|otherwise|recip|show|sub|top|unit|unless|unlessM|void|when|whenM|zero)\b/,operator:[e.languages.haskell.operator[0],e.languages.haskell.operator[2],/[\xa2-\xa6\xa8\xa9\xac\xae-\xb1\xb4\xb8\xd7\xf7\u02c2-\u02c5\u02d2-\u02df\u02e5-\u02eb\u02ed\u02ef-\u02ff\u0375\u0384\u0385\u03f6\u0482\u058d-\u058f\u0606-\u0608\u060b\u060e\u060f\u06de\u06e9\u06fd\u06fe\u07f6\u07fe\u07ff\u09f2\u09f3\u09fa\u09fb\u0af1\u0b70\u0bf3-\u0bfa\u0c7f\u0d4f\u0d79\u0e3f\u0f01-\u0f03\u0f13\u0f15-\u0f17\u0f1a-\u0f1f\u0f34\u0f36\u0f38\u0fbe-\u0fc5\u0fc7-\u0fcc\u0fce\u0fcf\u0fd5-\u0fd8\u109e\u109f\u1390-\u1399\u166d\u17db\u1940\u19de-\u19ff\u1b61-\u1b6a\u1b74-\u1b7c\u1fbd\u1fbf-\u1fc1\u1fcd-\u1fcf\u1fdd-\u1fdf\u1fed-\u1fef\u1ffd\u1ffe\u2044\u2052\u207a-\u207c\u208a-\u208c\u20a0-\u20bf\u2100\u2101\u2103-\u2106\u2108\u2109\u2114\u2116-\u2118\u211e-\u2123\u2125\u2127\u2129\u212e\u213a\u213b\u2140-\u2144\u214a-\u214d\u214f\u218a\u218b\u2190-\u2307\u230c-\u2328\u232b-\u2426\u2440-\u244a\u249c-\u24e9\u2500-\u2767\u2794-\u27c4\u27c7-\u27e5\u27f0-\u2982\u2999-\u29d7\u29dc-\u29fb\u29fe-\u2b73\u2b76-\u2b95\u2b97-\u2bff\u2ce5-\u2cea\u2e50\u2e51\u2e80-\u2e99\u2e9b-\u2ef3\u2f00-\u2fd5\u2ff0-\u2ffb\u3004\u3012\u3013\u3020\u3036\u3037\u303e\u303f\u309b\u309c\u3190\u3191\u3196-\u319f\u31c0-\u31e3\u3200-\u321e\u322a-\u3247\u3250\u3260-\u327f\u328a-\u32b0\u32c0-\u33ff\u4dc0-\u4dff\ua490-\ua4c6\ua700-\ua716\ua720\ua721\ua789\ua78a\ua828-\ua82b\ua836-\ua839\uaa77-\uaa79\uab5b\uab6a\uab6b\ufb29\ufbb2-\ufbc1\ufdfc\ufdfd\ufe62\ufe64-\ufe66\ufe69\uff04\uff0b\uff1c-\uff1e\uff3e\uff40\uff5c\uff5e\uffe0-\uffe6\uffe8-\uffee\ufffc\ufffd]/]}),e.languages.purs=e.languages.purescript}jA.displayName="qsharp";jA.aliases=["qs"];function jA(e){e.register(Kr),(function(t){function r(b,x){return b.replace(/<<(\d+)>>/g,function(E,v){return"(?:"+x[+v]+")"})}function n(b,x,E){return RegExp(r(b,x),"")}function a(b,x){for(var E=0;E<x;E++)b=b.replace(/<<self>>/g,function(){return"(?:"+b+")"});return b.replace(/<<self>>/g,"[^\\s\\S]")}var i={type:"Adj BigInt Bool Ctl Double false Int One Pauli PauliI PauliX PauliY PauliZ Qubit Range Result String true Unit Zero",other:"Adjoint adjoint apply as auto body borrow borrowing Controlled controlled distribute elif else fail fixup for function if in internal intrinsic invert is let mutable namespace new newtype open operation repeat return self set until use using while within"};function o(b){return"\\b(?:"+b.trim().replace(/ /g,"|")+")\\b"}var l=RegExp(o(i.type+" "+i.other)),u=/\b[A-Za-z_]\w*\b/.source,d=r(/<<0>>(?:\s*\.\s*<<0>>)*/.source,[u]),h={keyword:l,punctuation:/[<>()?,.:[\]]/},g=/"(?:\\.|[^\\"])*"/.source;t.languages.qsharp=t.languages.extend("clike",{comment:/\/\/.*/,string:[{pattern:n(/(^|[^$\\])<<0>>/.source,[g]),lookbehind:!0,greedy:!0}],"class-name":[{pattern:n(/(\b(?:as|open)\s+)<<0>>(?=\s*(?:;|as\b))/.source,[d]),lookbehind:!0,inside:h},{pattern:n(/(\bnamespace\s+)<<0>>(?=\s*\{)/.source,[d]),lookbehind:!0,inside:h}],keyword:l,number:/(?:\b0(?:x[\da-f]+|b[01]+|o[0-7]+)|(?:\B\.\d+|\b\d+(?:\.\d*)?)(?:e[-+]?\d+)?)l?\b/i,operator:/\band=|\bor=|\band\b|\bnot\b|\bor\b|<[-=]|[-=]>|>>>=?|<<<=?|\^\^\^=?|\|\|\|=?|&&&=?|w\/=?|~~~|[*\/+\-^=!%]=?/,punctuation:/::|[{}[\];(),.:]/}),t.languages.insertBefore("qsharp","number",{range:{pattern:/\.\./,alias:"operator"}});var f=a(r(/\{(?:[^"{}]|<<0>>|<<self>>)*\}/.source,[g]),2);t.languages.insertBefore("qsharp","string",{"interpolation-string":{pattern:n(/\$"(?:\\.|<<0>>|[^\\"{])*"/.source,[f]),greedy:!0,inside:{interpolation:{pattern:n(/((?:^|[^\\])(?:\\\\)*)<<0>>/.source,[f]),lookbehind:!0,inside:{punctuation:/^\{|\}$/,expression:{pattern:/[\s\S]+/,alias:"language-qsharp",inside:t.languages.qsharp}}},string:/[\s\S]+/}}})})(e),e.languages.qs=e.languages.qsharp}FA.displayName="q";FA.aliases=[];function FA(e){e.languages.q={string:/"(?:\\.|[^"\\\r\n])*"/,comment:[{pattern:/([\t )\]}])\/.*/,lookbehind:!0,greedy:!0},{pattern:/(^|\r?\n|\r)\/[\t ]*(?:(?:\r?\n|\r)(?:.*(?:\r?\n|\r(?!\n)))*?(?:\\(?=[\t ]*(?:\r?\n|\r))|$)|\S.*)/,lookbehind:!0,greedy:!0},{pattern:/^\\[\t ]*(?:\r?\n|\r)[\s\S]+/m,greedy:!0},{pattern:/^#!.+/m,greedy:!0}],symbol:/`(?::\S+|[\w.]*)/,datetime:{pattern:/0N[mdzuvt]|0W[dtz]|\d{4}\.\d\d(?:m|\.\d\d(?:T(?:\d\d(?::\d\d(?::\d\d(?:[.:]\d\d\d)?)?)?)?)?[dz]?)|\d\d:\d\d(?::\d\d(?:[.:]\d\d\d)?)?[uvt]?/,alias:"number"},number:/\b(?![01]:)(?:0N[hje]?|0W[hj]?|0[wn]|0x[\da-fA-F]+|\d+(?:\.\d*)?(?:e[+-]?\d+)?[hjfeb]?)/,keyword:/\\\w+\b|\b(?:abs|acos|aj0?|all|and|any|asc|asin|asof|atan|attr|avgs?|binr?|by|ceiling|cols|cor|cos|count|cov|cross|csv|cut|delete|deltas|desc|dev|differ|distinct|div|do|dsave|ej|enlist|eval|except|exec|exit|exp|fby|fills|first|fkeys|flip|floor|from|get|getenv|group|gtime|hclose|hcount|hdel|hopen|hsym|iasc|identity|idesc|if|ij|in|insert|inter|inv|keys?|last|like|list|ljf?|load|log|lower|lsq|ltime|ltrim|mavg|maxs?|mcount|md5|mdev|med|meta|mins?|mmax|mmin|mmu|mod|msum|neg|next|not|null|or|over|parse|peach|pj|plist|prds?|prev|prior|rand|rank|ratios|raze|read0|read1|reciprocal|reval|reverse|rload|rotate|rsave|rtrim|save|scan|scov|sdev|select|set|setenv|show|signum|sin|sqrt|ssr?|string|sublist|sums?|sv|svar|system|tables|tan|til|trim|txf|type|uj|ungroup|union|update|upper|upsert|value|var|views?|vs|wavg|where|while|within|wj1?|wsum|ww|xasc|xbar|xcols?|xdesc|xexp|xgroup|xkey|xlog|xprev|xrank)\b/,adverb:{pattern:/['\/\\]:?|\beach\b/,alias:"function"},verb:{pattern:/(?:\B\.\B|\b[01]:|<[=>]?|>=?|[:+\-*%,!?~=|$&#@^]):?|\b_\b:?/,alias:"operator"},punctuation:/[(){}\[\];.]/}}BA.displayName="qml";BA.aliases=[];function BA(e){e.register(ts),(function(t){for(var r=/"(?:\\.|[^\\"\r\n])*"|'(?:\\.|[^\\'\r\n])*'/.source,n=/\/\/.*(?!.)|\/\*(?:[^*]|\*(?!\/))*\*\//.source,a=/(?:[^\\()[\]{}"'/]|<string>|\/(?![*/])|<comment>|\(<expr>*\)|\[<expr>*\]|\{<expr>*\}|\\[\s\S])/.source.replace(/<string>/g,function(){return r}).replace(/<comment>/g,function(){return n}),i=0;i<2;i++)a=a.replace(/<expr>/g,function(){return a});a=a.replace(/<expr>/g,"[^\\s\\S]"),t.languages.qml={comment:{pattern:/\/\/.*|\/\*[\s\S]*?\*\//,greedy:!0},"javascript-function":{pattern:RegExp(/((?:^|;)[ \t]*)function\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*\(<js>*\)\s*\{<js>*\}/.source.replace(/<js>/g,function(){return a}),"m"),lookbehind:!0,greedy:!0,alias:"language-javascript",inside:t.languages.javascript},"class-name":{pattern:/((?:^|[:;])[ \t]*)(?!\d)\w+(?=[ \t]*\{|[ \t]+on\b)/m,lookbehind:!0},property:[{pattern:/((?:^|[;{])[ \t]*)(?!\d)\w+(?:\.\w+)*(?=[ \t]*:)/m,lookbehind:!0},{pattern:/((?:^|[;{])[ \t]*)property[ \t]+(?!\d)\w+(?:\.\w+)*[ \t]+(?!\d)\w+(?:\.\w+)*(?=[ \t]*:)/m,lookbehind:!0,inside:{keyword:/^property/,property:/\w+(?:\.\w+)*/}}],"javascript-expression":{pattern:RegExp(/(:[ \t]*)(?![\s;}[])(?:(?!$|[;}])<js>)+/.source.replace(/<js>/g,function(){return a}),"m"),lookbehind:!0,greedy:!0,alias:"language-javascript",inside:t.languages.javascript},string:{pattern:/"(?:\\.|[^\\"\r\n])*"/,greedy:!0},keyword:/\b(?:as|import|on)\b/,punctuation:/[{}[\]:;,]/}})(e)}UA.displayName="qore";UA.aliases=[];function UA(e){e.register(Kr),e.languages.qore=e.languages.extend("clike",{comment:{pattern:/(^|[^\\])(?:\/\*[\s\S]*?\*\/|(?:\/\/|#).*)/,lookbehind:!0},string:{pattern:/("|')(?:\\[\s\S]|(?!\1)[^\\])*\1/,greedy:!0},keyword:/\b(?:abstract|any|assert|binary|bool|boolean|break|byte|case|catch|char|class|code|const|continue|data|default|do|double|else|enum|extends|final|finally|float|for|goto|hash|if|implements|import|inherits|instanceof|int|interface|long|my|native|new|nothing|null|object|our|own|private|reference|rethrow|return|short|soft(?:bool|date|float|int|list|number|string)|static|strictfp|string|sub|super|switch|synchronized|this|throw|throws|transient|try|void|volatile|while)\b/,boolean:/\b(?:false|true)\b/i,function:/\$?\b(?!\d)\w+(?=\()/,number:/\b(?:0b[01]+|0x(?:[\da-f]*\.)?[\da-fp\-]+|(?:\d+(?:\.\d+)?|\.\d+)(?:e\d+)?[df]|(?:\d+(?:\.\d+)?|\.\d+))\b/i,operator:{pattern:/(^|[^.])(?:\+[+=]?|-[-=]?|[!=](?:==?|~)?|>>?=?|<(?:=>?|<=?)?|&[&=]?|\|[|=]?|[*\/%^]=?|[~?])/,lookbehind:!0},variable:/\$(?!\d)\w+\b/})}$A.displayName="racket";$A.aliases=["rkt"];function $A(e){e.register(rf),e.languages.racket=e.languages.extend("scheme",{"lambda-parameter":{pattern:/([(\[]lambda\s+[(\[])[^()\[\]'\s]+/,lookbehind:!0}}),e.languages.insertBefore("racket","string",{lang:{pattern:/^#lang.+/m,greedy:!0,alias:"keyword"}}),e.languages.rkt=e.languages.racket}HA.displayName="cshtml";HA.aliases=["razor"];function HA(e){e.register(Fu),e.register(Ga),(function(t){var r=/\/(?![/*])|\/\/.*[\r\n]|\/\*[^*]*(?:\*(?!\/)[^*]*)*\*\//.source,n=/@(?!")|"(?:[^\r\n\\"]|\\.)*"|@"(?:[^\\"]|""|\\[\s\S])*"(?!")/.source+"|"+/'(?:(?:[^\r\n'\\]|\\.|\\[Uux][\da-fA-F]{1,8})'|(?=[^\\](?!')))/.source;function a(w,N){for(var R=0;R<N;R++)w=w.replace(/<self>/g,function(){return"(?:"+w+")"});return w.replace(/<self>/g,"[^\\s\\S]").replace(/<str>/g,"(?:"+n+")").replace(/<comment>/g,"(?:"+r+")")}var i=a(/\((?:[^()'"@/]|<str>|<comment>|<self>)*\)/.source,2),o=a(/\[(?:[^\[\]'"@/]|<str>|<comment>|<self>)*\]/.source,1),l=a(/\{(?:[^{}'"@/]|<str>|<comment>|<self>)*\}/.source,2),u=a(/<(?:[^<>'"@/]|<comment>|<self>)*>/.source,1),d=/@/.source+/(?:await\b\s*)?/.source+"(?:"+/(?!await\b)\w+\b/.source+"|"+i+")(?:"+/[?!]?\.\w+\b/.source+"|(?:"+u+")?"+i+"|"+o+")*"+/(?![?!\.(\[]|<(?!\/))/.source,h=/@(?![\w()])/.source+"|"+d,g="(?:"+/"[^"@]*"|'[^'@]*'|[^\s'"@>=]+(?=[\s>])/.source+`|["'][^"'@]*(?:(?:`+h+`)[^"'@]*)+["'])`,f=/(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*<tagAttrValue>|(?=[\s/>])))+)?/.source.replace(/<tagAttrValue>/,g),b=/(?!\d)[^\s>\/=$<%]+/.source+f+/\s*\/?>/.source,x=/\B@?/.source+"(?:"+/<([a-zA-Z][\w:]*)/.source+f+/\s*>/.source+"(?:"+(/[^<]/.source+"|"+/<\/?(?!\1\b)/.source+b+"|"+a(/<\1/.source+f+/\s*>/.source+"(?:"+(/[^<]/.source+"|"+/<\/?(?!\1\b)/.source+b+"|<self>")+")*"+/<\/\1\s*>/.source,2))+")*"+/<\/\1\s*>/.source+"|"+/</.source+b+")";t.languages.cshtml=t.languages.extend("markup",{});var E=t.languages.insertBefore("csharp","string",{html:{pattern:RegExp(x),greedy:!0,inside:t.languages.cshtml}},{csharp:t.languages.extend("csharp",{})}),v={pattern:/\S[\s\S]*/,alias:"language-csharp",inside:E},T={pattern:RegExp(/(^|[^@])/.source+d),lookbehind:!0,greedy:!0,alias:"variable",inside:{keyword:/^@/,csharp:v}};t.languages.cshtml.tag.pattern=RegExp(/<\/?/.source+b),t.languages.cshtml.tag.inside["attr-value"].pattern=RegExp(/=\s*/.source+g),t.languages.insertBefore("inside","punctuation",{value:T},t.languages.cshtml.tag.inside["attr-value"]),t.languages.insertBefore("cshtml","prolog",{"razor-comment":{pattern:/@\*[\s\S]*?\*@/,greedy:!0,alias:"comment"},block:{pattern:RegExp(/(^|[^@])@/.source+"(?:"+[l,/(?:code|functions)\s*/.source+l,/(?:for|foreach|lock|switch|using|while)\s*/.source+i+/\s*/.source+l,/do\s*/.source+l+/\s*while\s*/.source+i+/(?:\s*;)?/.source,/try\s*/.source+l+/\s*catch\s*/.source+i+/\s*/.source+l+/\s*finally\s*/.source+l,/if\s*/.source+i+/\s*/.source+l+"(?:"+/\s*else/.source+"(?:"+/\s+if\s*/.source+i+")?"+/\s*/.source+l+")*",/helper\s+\w+\s*/.source+i+/\s*/.source+l].join("|")+")"),lookbehind:!0,greedy:!0,inside:{keyword:/^@\w*/,csharp:v}},directive:{pattern:/^([ \t]*)@(?:addTagHelper|attribute|implements|inherits|inject|layout|model|namespace|page|preservewhitespace|removeTagHelper|section|tagHelperPrefix|using)(?=\s).*/m,lookbehind:!0,greedy:!0,inside:{keyword:/^@\w+/,csharp:v}},value:T,"delegate-operator":{pattern:/(^|[^@])@(?=<)/,lookbehind:!0,alias:"operator"}}),t.languages.razor=t.languages.cshtml})(e)}Px.displayName="jsx";Px.aliases=[];function Px(e){e.register(ts),e.register(Ga),(function(t){var r=t.util.clone(t.languages.javascript),n=/(?:\s|\/\/.*(?!.)|\/\*(?:[^*]|\*(?!\/))\*\/)/.source,a=/(?:\{(?:\{(?:\{[^{}]*\}|[^{}])*\}|[^{}])*\})/.source,i=/(?:\{<S>*\.{3}(?:[^{}]|<BRACES>)*\})/.source;function o(d,h){return d=d.replace(/<S>/g,function(){return n}).replace(/<BRACES>/g,function(){return a}).replace(/<SPREAD>/g,function(){return i}),RegExp(d,h)}i=o(i).source,t.languages.jsx=t.languages.extend("markup",r),t.languages.jsx.tag.pattern=o(/<\/?(?:[\w.:-]+(?:<S>+(?:[\w.:$-]+(?:=(?:"(?:\\[\s\S]|[^\\"])*"|'(?:\\[\s\S]|[^\\'])*'|[^\s{'"/>=]+|<BRACES>))?|<SPREAD>))*<S>*\/?)?>/.source),t.languages.jsx.tag.inside.tag.pattern=/^<\/?[^\s>\/]*/,t.languages.jsx.tag.inside["attr-value"].pattern=/=(?!\{)(?:"(?:\\[\s\S]|[^\\"])*"|'(?:\\[\s\S]|[^\\'])*'|[^\s'">]+)/,t.languages.jsx.tag.inside.tag.inside["class-name"]=/^[A-Z]\w*(?:\.[A-Z]\w*)*$/,t.languages.jsx.tag.inside.comment=r.comment,t.languages.insertBefore("inside","attr-name",{spread:{pattern:o(/<SPREAD>/.source),inside:t.languages.jsx}},t.languages.jsx.tag),t.languages.insertBefore("inside","special-attr",{script:{pattern:o(/=<BRACES>/.source),alias:"language-javascript",inside:{"script-punctuation":{pattern:/^=(?=\{)/,alias:"punctuation"},rest:t.languages.jsx}}},t.languages.jsx.tag);var l=function(d){return d?typeof d=="string"?d:typeof d.content=="string"?d.content:d.content.map(l).join(""):""},u=function(d){for(var h=[],g=0;g<d.length;g++){var f=d[g],b=!1;if(typeof f!="string"&&(f.type==="tag"&&f.content[0]&&f.content[0].type==="tag"?f.content[0].content[0].content==="</"?h.length>0&&h[h.length-1].tagName===l(f.content[0].content[1])&&h.pop():f.content[f.content.length-1].content==="/>"||h.push({tagName:l(f.content[0].content[1]),openedBraces:0}):h.length>0&&f.type==="punctuation"&&f.content==="{"?h[h.length-1].openedBraces++:h.length>0&&h[h.length-1].openedBraces>0&&f.type==="punctuation"&&f.content==="}"?h[h.length-1].openedBraces--:b=!0),(b||typeof f=="string")&&h.length>0&&h[h.length-1].openedBraces===0){var x=l(f);g<d.length-1&&(typeof d[g+1]=="string"||d[g+1].type==="plain-text")&&(x+=l(d[g+1]),d.splice(g+1,1)),g>0&&(typeof d[g-1]=="string"||d[g-1].type==="plain-text")&&(x=l(d[g-1])+x,d.splice(g-1,1),g--),d[g]=new t.Token("plain-text",x,null,x)}f.content&&typeof f.content!="string"&&u(f.content)}};t.hooks.add("after-tokenize",function(d){d.language!=="jsx"&&d.language!=="tsx"||u(d.tokens)})})(e)}zA.displayName="tsx";zA.aliases=[];function zA(e){e.register(Px),e.register(Gp),(function(t){var r=t.util.clone(t.languages.typescript);t.languages.tsx=t.languages.extend("jsx",r),delete t.languages.tsx.parameter,delete t.languages.tsx["literal-property"];var n=t.languages.tsx.tag;n.pattern=RegExp(/(^|[^\w$]|(?=<\/))/.source+"(?:"+n.pattern.source+")",n.pattern.flags),n.lookbehind=!0})(e)}GA.displayName="reason";GA.aliases=[];function GA(e){e.register(Kr),e.languages.reason=e.languages.extend("clike",{string:{pattern:/"(?:\\(?:\r\n|[\s\S])|[^\\\r\n"])*"/,greedy:!0},"class-name":/\b[A-Z]\w*/,keyword:/\b(?:and|as|assert|begin|class|constraint|do|done|downto|else|end|exception|external|for|fun|function|functor|if|in|include|inherit|initializer|lazy|let|method|module|mutable|new|nonrec|object|of|open|or|private|rec|sig|struct|switch|then|to|try|type|val|virtual|when|while|with)\b/,operator:/\.{3}|:[:=]|\|>|->|=(?:==?|>)?|<=?|>=?|[|^?'#!~`]|[+\-*\/]\.?|\b(?:asr|land|lor|lsl|lsr|lxor|mod)\b/}),e.languages.insertBefore("reason","class-name",{char:{pattern:/'(?:\\x[\da-f]{2}|\\o[0-3][0-7][0-7]|\\\d{3}|\\.|[^'\\\r\n])'/,greedy:!0},constructor:/\b[A-Z]\w*\b(?!\s*\.)/,label:{pattern:/\b[a-z]\w*(?=::)/,alias:"symbol"}}),delete e.languages.reason.function}qA.displayName="rego";qA.aliases=[];function qA(e){e.languages.rego={comment:/#.*/,property:{pattern:/(^|[^\\.])(?:"(?:\\.|[^\\"\r\n])*"|`[^`]*`|\b[a-z_]\w*\b)(?=\s*:(?!=))/i,lookbehind:!0,greedy:!0},string:{pattern:/(^|[^\\])"(?:\\.|[^\\"\r\n])*"|`[^`]*`/,lookbehind:!0,greedy:!0},keyword:/\b(?:as|default|else|import|not|null|package|set(?=\s*\()|some|with)\b/,boolean:/\b(?:false|true)\b/,function:{pattern:/\b[a-z_]\w*\b(?:\s*\.\s*\b[a-z_]\w*\b)*(?=\s*\()/i,inside:{namespace:/\b\w+\b(?=\s*\.)/,punctuation:/\./}},number:/-?\b\d+(?:\.\d+)?(?:e[+-]?\d+)?\b/i,operator:/[-+*/%|&]|[<>:=]=?|!=|\b_\b/,punctuation:/[,;.\[\]{}()]/}}WA.displayName="renpy";WA.aliases=["rpy"];function WA(e){e.languages.renpy={comment:{pattern:/(^|[^\\])#.+/,lookbehind:!0},string:{pattern:/("""|''')[\s\S]+?\1|("|')(?:\\.|(?!\2)[^\\])*\2|(?:^#?(?:(?:[0-9a-fA-F]){3}|[0-9a-fA-F]{6})$)/m,greedy:!0},function:/\b[a-z_]\w*(?=\()/i,property:/\b(?:Update|UpdateVersion|action|activate_sound|adv_nvl_transition|after_load_transition|align|alpha|alt|anchor|antialias|area|auto|background|bar_invert|bar_resizing|bar_vertical|black_color|bold|bottom_bar|bottom_gutter|bottom_margin|bottom_padding|box_reverse|box_wrap|can_update|caret|child|color|crop|default_afm_enable|default_afm_time|default_fullscreen|default_text_cps|developer|directory_name|drag_handle|drag_joined|drag_name|drag_raise|draggable|dragged|drop_shadow|drop_shadow_color|droppable|dropped|easein|easeout|edgescroll|end_game_transition|end_splash_transition|enter_replay_transition|enter_sound|enter_transition|enter_yesno_transition|executable_name|exit_replay_transition|exit_sound|exit_transition|exit_yesno_transition|fadein|fadeout|first_indent|first_spacing|fit_first|focus|focus_mask|font|foreground|game_main_transition|get_installed_packages|google_play_key|google_play_salt|ground|has_music|has_sound|has_voice|height|help|hinting|hover|hover_background|hover_color|hover_sound|hovered|hyperlink_functions|idle|idle_color|image_style|include_update|insensitive|insensitive_background|insensitive_color|inside|intra_transition|italic|justify|kerning|keyboard_focus|language|layer_clipping|layers|layout|left_bar|left_gutter|left_margin|left_padding|length|line_leading|line_overlap_split|line_spacing|linear|main_game_transition|main_menu_music|maximum|min_width|minimum|minwidth|modal|mouse|mousewheel|name|narrator_menu|newline_indent|nvl_adv_transition|offset|order_reverse|outlines|overlay_functions|pos|position|prefix|radius|range|rest_indent|right_bar|right_gutter|right_margin|right_padding|rotate|rotate_pad|ruby_style|sample_sound|save_directory|say_attribute_transition|screen_height|screen_width|scrollbars|selected_hover|selected_hover_color|selected_idle|selected_idle_color|selected_insensitive|show_side_image|show_two_window|side_spacing|side_xpos|side_ypos|size|size_group|slow_cps|slow_cps_multiplier|spacing|strikethrough|subpixel|text_align|text_style|text_xpos|text_y_fudge|text_ypos|thumb|thumb_offset|thumb_shadow|thumbnail_height|thumbnail_width|time|top_bar|top_gutter|top_margin|top_padding|translations|underline|unscrollable|update|value|version|version_name|version_tuple|vertical|width|window_hide_transition|window_icon|window_left_padding|window_show_transition|window_title|windows_icon|xadjustment|xalign|xanchor|xanchoraround|xaround|xcenter|xfill|xinitial|xmargin|xmaximum|xminimum|xoffset|xofsset|xpadding|xpos|xsize|xzoom|yadjustment|yalign|yanchor|yanchoraround|yaround|ycenter|yfill|yinitial|ymargin|ymaximum|yminimum|yoffset|ypadding|ypos|ysize|ysizexysize|yzoom|zoom|zorder)\b/,tag:/\b(?:bar|block|button|buttoscreenn|drag|draggroup|fixed|frame|grid|[hv]box|hotbar|hotspot|image|imagebutton|imagemap|input|key|label|menu|mm_menu_frame|mousearea|nvl|parallel|screen|self|side|tag|text|textbutton|timer|vbar|viewport|window)\b|\$/,keyword:/\b(?:None|add|adjustment|alignaround|allow|angle|animation|around|as|assert|behind|box_layout|break|build|cache|call|center|changed|child_size|choice|circles|class|clear|clicked|clipping|clockwise|config|contains|continue|corner1|corner2|counterclockwise|def|default|define|del|delay|disabled|disabled_text|dissolve|elif|else|event|except|exclude|exec|expression|fade|finally|for|from|function|global|gm_root|has|hide|id|if|import|in|init|is|jump|knot|lambda|left|less_rounded|mm_root|movie|music|null|on|onlayer|pass|pause|persistent|play|print|python|queue|raise|random|renpy|repeat|return|right|rounded_window|scene|scope|set|show|slow|slow_abortable|slow_done|sound|stop|store|style|style_group|substitute|suffix|theme|transform|transform_anchor|transpose|try|ui|unhovered|updater|use|voice|while|widget|widget_hover|widget_selected|widget_text|yield)\b/,boolean:/\b(?:[Ff]alse|[Tt]rue)\b/,number:/(?:\b(?:0[bo])?(?:(?:\d|0x[\da-f])[\da-f]*(?:\.\d*)?)|\B\.\d+)(?:e[+-]?\d+)?j?/i,operator:/[-+%=]=?|!=|\*\*?=?|\/\/?=?|<[<=>]?|>[=>]?|[&|^~]|\b(?:and|at|not|or|with)\b/,punctuation:/[{}[\];(),.:]/},e.languages.rpy=e.languages.renpy}YA.displayName="rescript";YA.aliases=["res"];function YA(e){e.languages.rescript={comment:{pattern:/\/\/.*|\/\*[\s\S]*?(?:\*\/|$)/,greedy:!0},char:{pattern:/'(?:[^\r\n\\]|\\(?:.|\w+))'/,greedy:!0},string:{pattern:/"(?:\\(?:\r\n|[\s\S])|[^\\\r\n"])*"/,greedy:!0},"class-name":/\b[A-Z]\w*|@[a-z.]*|#[A-Za-z]\w*|#\d/,function:{pattern:/[a-zA-Z]\w*(?=\()|(\.)[a-z]\w*/,lookbehind:!0},number:/(?:\b0x(?:[\da-f]+(?:\.[\da-f]*)?|\.[\da-f]+)(?:p[+-]?\d+)?|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?)[ful]{0,4}/i,boolean:/\b(?:false|true)\b/,"attr-value":/[A-Za-z]\w*(?==)/,constant:{pattern:/(\btype\s+)[a-z]\w*/,lookbehind:!0},tag:{pattern:/(<)[a-z]\w*|(?:<\/)[a-z]\w*/,lookbehind:!0,inside:{operator:/<|>|\//}},keyword:/\b(?:and|as|assert|begin|bool|class|constraint|do|done|downto|else|end|exception|external|float|for|fun|function|if|in|include|inherit|initializer|int|lazy|let|method|module|mutable|new|nonrec|object|of|open|or|private|rec|string|switch|then|to|try|type|when|while|with)\b/,operator:/\.{3}|:[:=]?|\|>|->|=(?:==?|>)?|<=?|>=?|[|^?'#!~`]|[+\-*\/]\.?|\b(?:asr|land|lor|lsl|lsr|lxor|mod)\b/,punctuation:/[(){}[\],;.]/},e.languages.insertBefore("rescript","string",{"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"tag"},rest:e.languages.rescript}},string:/[\s\S]+/}}}),e.languages.res=e.languages.rescript}VA.displayName="rest";VA.aliases=[];function VA(e){e.languages.rest={table:[{pattern:/(^[\t ]*)(?:\+[=-]+)+\+(?:\r?\n|\r)(?:\1[+|].+[+|](?:\r?\n|\r))+\1(?:\+[=-]+)+\+/m,lookbehind:!0,inside:{punctuation:/\||(?:\+[=-]+)+\+/}},{pattern:/(^[\t ]*)=+ [ =]*=(?:(?:\r?\n|\r)\1.+)+(?:\r?\n|\r)\1=+ [ =]*=(?=(?:\r?\n|\r){2}|\s*$)/m,lookbehind:!0,inside:{punctuation:/[=-]+/}}],"substitution-def":{pattern:/(^[\t ]*\.\. )\|(?:[^|\s](?:[^|]*[^|\s])?)\| [^:]+::/m,lookbehind:!0,inside:{substitution:{pattern:/^\|(?:[^|\s]|[^|\s][^|]*[^|\s])\|/,alias:"attr-value",inside:{punctuation:/^\||\|$/}},directive:{pattern:/( )(?! )[^:]+::/,lookbehind:!0,alias:"function",inside:{punctuation:/::$/}}}},"link-target":[{pattern:/(^[\t ]*\.\. )\[[^\]]+\]/m,lookbehind:!0,alias:"string",inside:{punctuation:/^\[|\]$/}},{pattern:/(^[\t ]*\.\. )_(?:`[^`]+`|(?:[^:\\]|\\.)+):/m,lookbehind:!0,alias:"string",inside:{punctuation:/^_|:$/}}],directive:{pattern:/(^[\t ]*\.\. )[^:]+::/m,lookbehind:!0,alias:"function",inside:{punctuation:/::$/}},comment:{pattern:/(^[\t ]*\.\.)(?:(?: .+)?(?:(?:\r?\n|\r).+)+| .+)(?=(?:\r?\n|\r){2}|$)/m,lookbehind:!0},title:[{pattern:/^(([!"#$%&'()*+,\-.\/:;<=>?@\[\\\]^_`{|}~])\2+)(?:\r?\n|\r).+(?:\r?\n|\r)\1$/m,inside:{punctuation:/^[!"#$%&'()*+,\-.\/:;<=>?@\[\\\]^_`{|}~]+|[!"#$%&'()*+,\-.\/:;<=>?@\[\\\]^_`{|}~]+$/,important:/.+/}},{pattern:/(^|(?:\r?\n|\r){2}).+(?:\r?\n|\r)([!"#$%&'()*+,\-.\/:;<=>?@\[\\\]^_`{|}~])\2+(?=\r?\n|\r|$)/,lookbehind:!0,inside:{punctuation:/[!"#$%&'()*+,\-.\/:;<=>?@\[\\\]^_`{|}~]+$/,important:/.+/}}],hr:{pattern:/((?:\r?\n|\r){2})([!"#$%&'()*+,\-.\/:;<=>?@\[\\\]^_`{|}~])\2{3,}(?=(?:\r?\n|\r){2})/,lookbehind:!0,alias:"punctuation"},field:{pattern:/(^[\t ]*):[^:\r\n]+:(?= )/m,lookbehind:!0,alias:"attr-name"},"command-line-option":{pattern:/(^[\t ]*)(?:[+-][a-z\d]|(?:--|\/)[a-z\d-]+)(?:[ =](?:[a-z][\w-]*|<[^<>]+>))?(?:, (?:[+-][a-z\d]|(?:--|\/)[a-z\d-]+)(?:[ =](?:[a-z][\w-]*|<[^<>]+>))?)*(?=(?:\r?\n|\r)? {2,}\S)/im,lookbehind:!0,alias:"symbol"},"literal-block":{pattern:/::(?:\r?\n|\r){2}([ \t]+)(?![ \t]).+(?:(?:\r?\n|\r)\1.+)*/,inside:{"literal-block-punctuation":{pattern:/^::/,alias:"punctuation"}}},"quoted-literal-block":{pattern:/::(?:\r?\n|\r){2}([!"#$%&'()*+,\-.\/:;<=>?@\[\\\]^_`{|}~]).*(?:(?:\r?\n|\r)\1.*)*/,inside:{"literal-block-punctuation":{pattern:/^(?:::|([!"#$%&'()*+,\-.\/:;<=>?@\[\\\]^_`{|}~])\1*)/m,alias:"punctuation"}}},"list-bullet":{pattern:/(^[\t ]*)(?:[*+\-]|\(?(?:\d+|[a-z]|[ivxdclm]+)\)|(?:\d+|[a-z]|[ivxdclm]+)\.)(?= )/im,lookbehind:!0,alias:"punctuation"},"doctest-block":{pattern:/(^[\t ]*)>>> .+(?:(?:\r?\n|\r).+)*/m,lookbehind:!0,inside:{punctuation:/^>>>/}},inline:[{pattern:/(^|[\s\-:\/'"<(\[{])(?::[^:]+:`.*?`|`.*?`:[^:]+:|(\*\*?|``?|\|)(?!\s)(?:(?!\2).)*\S\2(?=[\s\-.,:;!?\\\/'")\]}]|$))/m,lookbehind:!0,inside:{bold:{pattern:/(^\*\*).+(?=\*\*$)/,lookbehind:!0},italic:{pattern:/(^\*).+(?=\*$)/,lookbehind:!0},"inline-literal":{pattern:/(^``).+(?=``$)/,lookbehind:!0,alias:"symbol"},role:{pattern:/^:[^:]+:|:[^:]+:$/,alias:"function",inside:{punctuation:/^:|:$/}},"interpreted-text":{pattern:/(^`).+(?=`$)/,lookbehind:!0,alias:"attr-value"},substitution:{pattern:/(^\|).+(?=\|$)/,lookbehind:!0,alias:"attr-value"},punctuation:/\*\*?|``?|\|/}}],link:[{pattern:/\[[^\[\]]+\]_(?=[\s\-.,:;!?\\\/'")\]}]|$)/,alias:"string",inside:{punctuation:/^\[|\]_$/}},{pattern:/(?:\b[a-z\d]+(?:[_.:+][a-z\d]+)*_?_|`[^`]+`_?_|_`[^`]+`)(?=[\s\-.,:;!?\\\/'")\]}]|$)/i,alias:"string",inside:{punctuation:/^_?`|`$|`?_?_$/}}],punctuation:{pattern:/(^[\t ]*)(?:\|(?= |$)|(?:---?||\.\.|__)(?= )|\.\.$)/m,lookbehind:!0}}}KA.displayName="rip";KA.aliases=[];function KA(e){e.languages.rip={comment:{pattern:/#.*/,greedy:!0},char:{pattern:/\B`[^\s`'",.:;#\/\\()<>\[\]{}]\b/,greedy:!0},string:{pattern:/("|')(?:\\.|(?!\1)[^\\\r\n])*\1/,greedy:!0},regex:{pattern:/(^|[^/])\/(?!\/)(?:\[[^\n\r\]]*\]|\\.|[^/\\\r\n\[])+\/(?=\s*(?:$|[\r\n,.;})]))/,lookbehind:!0,greedy:!0},keyword:/(?:=>|->)|\b(?:case|catch|class|else|exit|finally|if|raise|return|switch|try)\b/,builtin:/@|\bSystem\b/,boolean:/\b(?:false|true)\b/,date:/\b\d{4}-\d{2}-\d{2}\b/,time:/\b\d{2}:\d{2}:\d{2}\b/,datetime:/\b\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}\b/,symbol:/:[^\d\s`'",.:;#\/\\()<>\[\]{}][^\s`'",.:;#\/\\()<>\[\]{}]*/,number:/[+-]?\b(?:\d+\.\d+|\d+)\b/,punctuation:/(?:\.{2,3})|[`,.:;=\/\\()<>\[\]{}]/,reference:/[^\d\s`'",.:;#\/\\()<>\[\]{}][^\s`'",.:;#\/\\()<>\[\]{}]*/}}QA.displayName="roboconf";QA.aliases=[];function QA(e){e.languages.roboconf={comment:/#.*/,keyword:{pattern:/(^|\s)(?:(?:external|import)\b|(?:facet|instance of)(?=[ \t]+[\w-]+[ \t]*\{))/,lookbehind:!0},component:{pattern:/[\w-]+(?=[ \t]*\{)/,alias:"variable"},property:/[\w.-]+(?=[ \t]*:)/,value:{pattern:/(=[ \t]*(?![ \t]))[^,;]+/,lookbehind:!0,alias:"attr-value"},optional:{pattern:/\(optional\)/,alias:"builtin"},wildcard:{pattern:/(\.)\*/,lookbehind:!0,alias:"operator"},punctuation:/[{},.;:=]/}}XA.displayName="robotframework";XA.aliases=["robot"];function XA(e){(function(t){var r={pattern:/(^[ \t]*| {2}|\t)#.*/m,lookbehind:!0,greedy:!0},n={pattern:/((?:^|[^\\])(?:\\{2})*)[$@&%]\{(?:[^{}\r\n]|\{[^{}\r\n]*\})*\}/,lookbehind:!0,inside:{punctuation:/^[$@&%]\{|\}$/}};function a(u,d){var h={};h["section-header"]={pattern:/^ ?\*{3}.+?\*{3}/,alias:"keyword"};for(var g in d)h[g]=d[g];return h.tag={pattern:/([\r\n](?: {2}|\t)[ \t]*)\[[-\w]+\]/,lookbehind:!0,inside:{punctuation:/\[|\]/}},h.variable=n,h.comment=r,{pattern:RegExp(/^ ?\*{3}[ \t]*<name>[ \t]*\*{3}(?:.|[\r\n](?!\*{3}))*/.source.replace(/<name>/g,function(){return u}),"im"),alias:"section",inside:h}}var i={pattern:/(\[Documentation\](?: {2}|\t)[ \t]*)(?![ \t]|#)(?:.|(?:\r\n?|\n)[ \t]*\.{3})+/,lookbehind:!0,alias:"string"},o={pattern:/([\r\n] ?)(?!#)(?:\S(?:[ \t]\S)*)+/,lookbehind:!0,alias:"function",inside:{variable:n}},l={pattern:/([\r\n](?: {2}|\t)[ \t]*)(?!\[|\.{3}|#)(?:\S(?:[ \t]\S)*)+/,lookbehind:!0,inside:{variable:n}};t.languages.robotframework={settings:a("Settings",{documentation:{pattern:/([\r\n] ?Documentation(?: {2}|\t)[ \t]*)(?![ \t]|#)(?:.|(?:\r\n?|\n)[ \t]*\.{3})+/,lookbehind:!0,alias:"string"},property:{pattern:/([\r\n] ?)(?!\.{3}|#)(?:\S(?:[ \t]\S)*)+/,lookbehind:!0}}),variables:a("Variables"),"test-cases":a("Test Cases",{"test-name":o,documentation:i,property:l}),keywords:a("Keywords",{"keyword-name":o,documentation:i,property:l}),tasks:a("Tasks",{"task-name":o,documentation:i,property:l}),comment:r},t.languages.robot=t.languages.robotframework})(e)}ZA.displayName="sas";ZA.aliases=[];function ZA(e){(function(t){var r=/(?:"(?:""|[^"])*"(?!")|'(?:''|[^'])*'(?!'))/.source,n=/\b(?:\d[\da-f]*x|\d+(?:\.\d+)?(?:e[+-]?\d+)?)\b/i,a={pattern:RegExp(r+"[bx]"),alias:"number"},i={pattern:/&[a-z_]\w*/i},o={pattern:/((?:^|\s|=|\())%(?:ABORT|BY|CMS|COPY|DISPLAY|DO|ELSE|END|EVAL|GLOBAL|GO|GOTO|IF|INC|INCLUDE|INDEX|INPUT|KTRIM|LENGTH|LET|LIST|LOCAL|PUT|QKTRIM|QSCAN|QSUBSTR|QSYSFUNC|QUPCASE|RETURN|RUN|SCAN|SUBSTR|SUPERQ|SYMDEL|SYMEXIST|SYMGLOBL|SYMLOCAL|SYSCALL|SYSEVALF|SYSEXEC|SYSFUNC|SYSGET|SYSRPUT|THEN|TO|TSO|UNQUOTE|UNTIL|UPCASE|WHILE|WINDOW)\b/i,lookbehind:!0,alias:"keyword"},l={pattern:/(^|\s)(?:proc\s+\w+|data(?!=)|quit|run)\b/i,alias:"keyword",lookbehind:!0},u=[/\/\*[\s\S]*?\*\//,{pattern:/(^[ \t]*|;\s*)\*[^;]*;/m,lookbehind:!0}],d={pattern:RegExp(r),greedy:!0},h=/[$%@.(){}\[\];,\\]/,g={pattern:/%?\b\w+(?=\()/,alias:"keyword"},f={function:g,"arg-value":{pattern:/(=\s*)[A-Z\.]+/i,lookbehind:!0},operator:/=/,"macro-variable":i,arg:{pattern:/[A-Z]+/i,alias:"keyword"},number:n,"numeric-constant":a,punctuation:h,string:d},b={pattern:/\b(?:format|put)\b=?[\w'$.]+/i,inside:{keyword:/^(?:format|put)(?==)/i,equals:/=/,format:{pattern:/(?:\w|\$\d)+\.\d?/,alias:"number"}}},x={pattern:/\b(?:format|put)\s+[\w']+(?:\s+[$.\w]+)+(?=;)/i,inside:{keyword:/^(?:format|put)/i,format:{pattern:/[\w$]+\.\d?/,alias:"number"}}},E={pattern:/((?:^|\s)=?)(?:catname|checkpoint execute_always|dm|endsas|filename|footnote|%include|libname|%list|lock|missing|options|page|resetline|%run|sasfile|skip|sysecho|title\d?)\b/i,lookbehind:!0,alias:"keyword"},v={pattern:/(^|\s)(?:submit(?:\s+(?:load|norun|parseonly))?|endsubmit)\b/i,lookbehind:!0,alias:"keyword"},T=/aStore|accessControl|aggregation|audio|autotune|bayesianNetClassifier|bioMedImage|boolRule|builtins|cardinality|cdm|clustering|conditionalRandomFields|configuration|copula|countreg|dataDiscovery|dataPreprocess|dataSciencePilot|dataStep|decisionTree|deduplication|deepLearn|deepNeural|deepRnn|ds2|ecm|entityRes|espCluster|explainModel|factmac|fastKnn|fcmpact|fedSql|freqTab|gVarCluster|gam|gleam|graphSemiSupLearn|hiddenMarkovModel|hyperGroup|ica|image|iml|kernalPca|langModel|ldaTopic|loadStreams|mbc|mixed|mlTools|modelPublishing|network|neuralNet|nmf|nonParametricBayes|nonlinear|optNetwork|optimization|panel|pca|percentile|phreg|pls|qkb|qlim|quantreg|recommend|regression|reinforcementLearn|robustPca|ruleMining|sampling|sandwich|sccasl|search(?:Analytics)?|sentimentAnalysis|sequence|session(?:Prop)?|severity|simSystem|simple|smartData|sparkEmbeddedProcess|sparseML|spatialreg|spc|stabilityMonitoring|svDataDescription|svm|table|text(?:Filters|Frequency|Mining|Parse|Rule(?:Develop|Score)|Topic|Util)|timeData|transpose|tsInfo|tsReconcile|uniTimeSeries|varReduce/.source,w={pattern:RegExp(/(^|\s)(?:action\s+)?(?:<act>)\.[a-z]+\b[^;]+/.source.replace(/<act>/g,function(){return T}),"i"),lookbehind:!0,inside:{keyword:RegExp(/(?:<act>)\.[a-z]+\b/.source.replace(/<act>/g,function(){return T}),"i"),action:{pattern:/(?:action)/i,alias:"keyword"},comment:u,function:g,"arg-value":f["arg-value"],operator:f.operator,argument:f.arg,number:n,"numeric-constant":a,punctuation:h,string:d}},N={pattern:/((?:^|\s)=?)(?:after|analysis|and|array|barchart|barwidth|begingraph|by|call|cas|cbarline|cfill|class(?:lev)?|close|column|computed?|contains|continue|data(?==)|define|delete|describe|document|do\s+over|do|dol|drop|dul|else|end(?:comp|source)?|entryTitle|eval(?:uate)?|exec(?:ute)?|exit|file(?:name)?|fill(?:attrs)?|flist|fnc|function(?:list)?|global|goto|group(?:by)?|headline|headskip|histogram|if|infile|keep|keylabel|keyword|label|layout|leave|legendlabel|length|libname|loadactionset|merge|midpoints|_?null_|name|noobs|nowd|ods|options|or|otherwise|out(?:put)?|over(?:lay)?|plot|print|put|raise|ranexp|rannor|rbreak|retain|return|select|session|sessref|set|source|statgraph|sum|summarize|table|temp|terminate|then\s+do|then|title\d?|to|var|when|where|xaxisopts|y2axisopts|yaxisopts)\b/i,lookbehind:!0};t.languages.sas={datalines:{pattern:/^([ \t]*)(?:cards|(?:data)?lines);[\s\S]+?^[ \t]*;/im,lookbehind:!0,alias:"string",inside:{keyword:{pattern:/^(?:cards|(?:data)?lines)/i},punctuation:/;/}},"proc-sql":{pattern:/(^proc\s+(?:fed)?sql(?:\s+[\w|=]+)?;)[\s\S]+?(?=^(?:proc\s+\w+|data|quit|run);|(?![\s\S]))/im,lookbehind:!0,inside:{sql:{pattern:RegExp(/^[ \t]*(?:select|alter\s+table|(?:create|describe|drop)\s+(?:index|table(?:\s+constraints)?|view)|create\s+unique\s+index|insert\s+into|update)(?:<str>|[^;"'])+;/.source.replace(/<str>/g,function(){return r}),"im"),alias:"language-sql",inside:t.languages.sql},"global-statements":E,"sql-statements":{pattern:/(^|\s)(?:disconnect\s+from|begin|commit|exec(?:ute)?|reset|rollback|validate)\b/i,lookbehind:!0,alias:"keyword"},number:n,"numeric-constant":a,punctuation:h,string:d}},"proc-groovy":{pattern:/(^proc\s+groovy(?:\s+[\w|=]+)?;)[\s\S]+?(?=^(?:proc\s+\w+|data|quit|run);|(?![\s\S]))/im,lookbehind:!0,inside:{comment:u,groovy:{pattern:RegExp(/(^[ \t]*submit(?:\s+(?:load|norun|parseonly))?)(?:<str>|[^"'])+?(?=endsubmit;)/.source.replace(/<str>/g,function(){return r}),"im"),lookbehind:!0,alias:"language-groovy",inside:t.languages.groovy},keyword:N,"submit-statement":v,"global-statements":E,number:n,"numeric-constant":a,punctuation:h,string:d}},"proc-lua":{pattern:/(^proc\s+lua(?:\s+[\w|=]+)?;)[\s\S]+?(?=^(?:proc\s+\w+|data|quit|run);|(?![\s\S]))/im,lookbehind:!0,inside:{comment:u,lua:{pattern:RegExp(/(^[ \t]*submit(?:\s+(?:load|norun|parseonly))?)(?:<str>|[^"'])+?(?=endsubmit;)/.source.replace(/<str>/g,function(){return r}),"im"),lookbehind:!0,alias:"language-lua",inside:t.languages.lua},keyword:N,"submit-statement":v,"global-statements":E,number:n,"numeric-constant":a,punctuation:h,string:d}},"proc-cas":{pattern:/(^proc\s+cas(?:\s+[\w|=]+)?;)[\s\S]+?(?=^(?:proc\s+\w+|quit|data);|(?![\s\S]))/im,lookbehind:!0,inside:{comment:u,"statement-var":{pattern:/((?:^|\s)=?)saveresult\s[^;]+/im,lookbehind:!0,inside:{statement:{pattern:/^saveresult\s+\S+/i,inside:{keyword:/^(?:saveresult)/i}},rest:f}},"cas-actions":w,statement:{pattern:/((?:^|\s)=?)(?:default|(?:un)?set|on|output|upload)[^;]+/im,lookbehind:!0,inside:f},step:l,keyword:N,function:g,format:b,altformat:x,"global-statements":E,number:n,"numeric-constant":a,punctuation:h,string:d}},"proc-args":{pattern:RegExp(/(^proc\s+\w+\s+)(?!\s)(?:[^;"']|<str>)+;/.source.replace(/<str>/g,function(){return r}),"im"),lookbehind:!0,inside:f},"macro-keyword":o,"macro-variable":i,"macro-string-functions":{pattern:/((?:^|\s|=))%(?:BQUOTE|NRBQUOTE|NRQUOTE|NRSTR|QUOTE|STR)\(.*?(?:[^%]\))/i,lookbehind:!0,inside:{function:{pattern:/%(?:BQUOTE|NRBQUOTE|NRQUOTE|NRSTR|QUOTE|STR)/i,alias:"keyword"},"macro-keyword":o,"macro-variable":i,"escaped-char":{pattern:/%['"()<>=^~;,#]/},punctuation:h}},"macro-declaration":{pattern:/^%macro[^;]+(?=;)/im,inside:{keyword:/%macro/i}},"macro-end":{pattern:/^%mend[^;]+(?=;)/im,inside:{keyword:/%mend/i}},macro:{pattern:/%_\w+(?=\()/,alias:"keyword"},input:{pattern:/\binput\s[-\w\s/*.$&]+;/i,inside:{input:{alias:"keyword",pattern:/^input/i},comment:u,number:n,"numeric-constant":a}},"options-args":{pattern:/(^options)[-'"|/\\<>*+=:()\w\s]*(?=;)/im,lookbehind:!0,inside:f},"cas-actions":w,comment:u,function:g,format:b,altformat:x,"numeric-constant":a,datetime:{pattern:RegExp(r+"(?:dt?|t)"),alias:"number"},string:d,step:l,keyword:N,"operator-keyword":{pattern:/\b(?:eq|ge|gt|in|le|lt|ne|not)\b/i,alias:"operator"},number:n,operator:/\*\*?|\|\|?|!!?|?|<[>=]?|>[<=]?|[-+\/=&]|[~^]=?/,punctuation:h}})(e)}JA.displayName="shell-session";JA.aliases=["sh-session","shellsession"];function JA(e){e.register(Vm),(function(t){var r=[/"(?:\\[\s\S]|\$\([^)]+\)|\$(?!\()|`[^`]+`|[^"\\`$])*"/.source,/'[^']*'/.source,/\$'(?:[^'\\]|\\[\s\S])*'/.source,/<<-?\s*(["']?)(\w+)\1\s[\s\S]*?[\r\n]\2/.source].join("|");t.languages["shell-session"]={command:{pattern:RegExp(/^/.source+"(?:"+(/[^\s@:$#%*!/\\]+@[^\r\n@:$#%*!/\\]+(?::[^\0-\x1F$#%*?"<>:;|]+)?/.source+"|"+/[/~.][^\0-\x1F$#%*?"<>@:;|]*/.source)+")?"+/[$#%](?=\s)/.source+/(?:[^\\\r\n \t'"<$]|[ \t](?:(?!#)|#.*$)|\\(?:[^\r]|\r\n?)|\$(?!')|<(?!<)|<<str>>)+/.source.replace(/<<str>>/g,function(){return r}),"m"),greedy:!0,inside:{info:{pattern:/^[^#$%]+/,alias:"punctuation",inside:{user:/^[^\s@:$#%*!/\\]+@[^\r\n@:$#%*!/\\]+/,punctuation:/:/,path:/[\s\S]+/}},bash:{pattern:/(^[$#%]\s*)\S[\s\S]*/,lookbehind:!0,alias:"language-bash",inside:t.languages.bash},"shell-symbol":{pattern:/^[$#%]/,alias:"important"}}},output:/.(?:.*(?:[\r\n]|.$))*/},t.languages["sh-session"]=t.languages.shellsession=t.languages["shell-session"]})(e)}eN.displayName="smali";eN.aliases=[];function eN(e){e.languages.smali={comment:/#.*/,string:{pattern:/"(?:[^\r\n\\"]|\\.)*"|'(?:[^\r\n\\']|\\(?:.|u[\da-fA-F]{4}))'/,greedy:!0},"class-name":{pattern:/(^|[^L])L(?:(?:\w+|`[^`\r\n]*`)\/)*(?:[\w$]+|`[^`\r\n]*`)(?=\s*;)/,lookbehind:!0,inside:{"class-name":{pattern:/(^L|\/)(?:[\w$]+|`[^`\r\n]*`)$/,lookbehind:!0},namespace:{pattern:/^(L)(?:(?:\w+|`[^`\r\n]*`)\/)+/,lookbehind:!0,inside:{punctuation:/\//}},builtin:/^L/}},builtin:[{pattern:/([();\[])[BCDFIJSVZ]+/,lookbehind:!0},{pattern:/([\w$>]:)[BCDFIJSVZ]/,lookbehind:!0}],keyword:[{pattern:/(\.end\s+)[\w-]+/,lookbehind:!0},{pattern:/(^|[^\w.-])\.(?!\d)[\w-]+/,lookbehind:!0},{pattern:/(^|[^\w.-])(?:abstract|annotation|bridge|constructor|enum|final|interface|private|protected|public|runtime|static|synthetic|system|transient)(?![\w.-])/,lookbehind:!0}],function:{pattern:/(^|[^\w.-])(?:\w+|<[\w$-]+>)(?=\()/,lookbehind:!0},field:{pattern:/[\w$]+(?=:)/,alias:"variable"},register:{pattern:/(^|[^\w.-])[vp]\d(?![\w.-])/,lookbehind:!0,alias:"variable"},boolean:{pattern:/(^|[^\w.-])(?:false|true)(?![\w.-])/,lookbehind:!0},number:{pattern:/(^|[^/\w.-])-?(?:NAN|INFINITY|0x(?:[\dA-F]+(?:\.[\dA-F]*)?|\.[\dA-F]+)(?:p[+-]?[\dA-F]+)?|(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?)[dflst]?(?![\w.-])/i,lookbehind:!0},label:{pattern:/(:)\w+/,lookbehind:!0,alias:"property"},operator:/->|\.\.|[\[=]/,punctuation:/[{}(),;:]/}}tN.displayName="smalltalk";tN.aliases=[];function tN(e){e.languages.smalltalk={comment:{pattern:/"(?:""|[^"])*"/,greedy:!0},char:{pattern:/\$./,greedy:!0},string:{pattern:/'(?:''|[^'])*'/,greedy:!0},symbol:/#[\da-z]+|#(?:-|([+\/\\*~<>=@%|&?!])\1?)|#(?=\()/i,"block-arguments":{pattern:/(\[\s*):[^\[|]*\|/,lookbehind:!0,inside:{variable:/:[\da-z]+/i,punctuation:/\|/}},"temporary-variables":{pattern:/\|[^|]+\|/,inside:{variable:/[\da-z]+/i,punctuation:/\|/}},keyword:/\b(?:new|nil|self|super)\b/,boolean:/\b(?:false|true)\b/,number:[/\d+r-?[\dA-Z]+(?:\.[\dA-Z]+)?(?:e-?\d+)?/,/\b\d+(?:\.\d+)?(?:e-?\d+)?/],operator:/[<=]=?|:=|~[~=]|\/\/?|\\\\|>[>=]?|[!^+\-*&|,@]/,punctuation:/[.;:?\[\](){}]/}}rN.displayName="smarty";rN.aliases=[];function rN(e){e.register(rs),(function(t){t.languages.smarty={comment:{pattern:/^\{\*[\s\S]*?\*\}/,greedy:!0},"embedded-php":{pattern:/^\{php\}[\s\S]*?\{\/php\}/,greedy:!0,inside:{smarty:{pattern:/^\{php\}|\{\/php\}$/,inside:null},php:{pattern:/[\s\S]+/,alias:"language-php",inside:t.languages.php}}},string:[{pattern:/"(?:\\.|[^"\\\r\n])*"/,greedy:!0,inside:{interpolation:{pattern:/\{[^{}]*\}|`[^`]*`/,inside:{"interpolation-punctuation":{pattern:/^[{`]|[`}]$/,alias:"punctuation"},expression:{pattern:/[\s\S]+/,inside:null}}},variable:/\$\w+/}},{pattern:/'(?:\\.|[^'\\\r\n])*'/,greedy:!0}],keyword:{pattern:/(^\{\/?)[a-z_]\w*\b(?!\()/i,lookbehind:!0,greedy:!0},delimiter:{pattern:/^\{\/?|\}$/,greedy:!0,alias:"punctuation"},number:/\b0x[\dA-Fa-f]+|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:[Ee][-+]?\d+)?/,variable:[/\$(?!\d)\w+/,/#(?!\d)\w+#/,{pattern:/(\.|->|\w\s*=)(?!\d)\w+\b(?!\()/,lookbehind:!0},{pattern:/(\[)(?!\d)\w+(?=\])/,lookbehind:!0}],function:{pattern:/(\|\s*)@?[a-z_]\w*|\b[a-z_]\w*(?=\()/i,lookbehind:!0},"attr-name":/\b[a-z_]\w*(?=\s*=)/i,boolean:/\b(?:false|no|off|on|true|yes)\b/,punctuation:/[\[\](){}.,:`]|->/,operator:[/[+\-*\/%]|==?=?|[!<>]=?|&&|\|\|?/,/\bis\s+(?:not\s+)?(?:div|even|odd)(?:\s+by)?\b/,/\b(?:and|eq|gt?e|gt|lt?e|lt|mod|neq?|not|or)\b/]},t.languages.smarty["embedded-php"].inside.smarty.inside=t.languages.smarty,t.languages.smarty.string[0].inside.interpolation.inside.expression.inside=t.languages.smarty;var r=/"(?:\\.|[^"\\\r\n])*"|'(?:\\.|[^'\\\r\n])*'/,n=RegExp(/\{\*[\s\S]*?\*\}/.source+"|"+/\{php\}[\s\S]*?\{\/php\}/.source+"|"+/\{(?:[^{}"']|<str>|\{(?:[^{}"']|<str>|\{(?:[^{}"']|<str>)*\})*\})*\}/.source.replace(/<str>/g,function(){return r.source}),"g");t.hooks.add("before-tokenize",function(a){var i="{literal}",o="{/literal}",l=!1;t.languages["markup-templating"].buildPlaceholders(a,"smarty",n,function(u){return u===o&&(l=!1),l?!1:(u===i&&(l=!0),!0)})}),t.hooks.add("after-tokenize",function(a){t.languages["markup-templating"].tokenizePlaceholders(a,"smarty")})})(e)}nN.displayName="sml";nN.aliases=["smlnj"];function nN(e){(function(t){var r=/\b(?:abstype|and|andalso|as|case|datatype|do|else|end|eqtype|exception|fn|fun|functor|handle|if|in|include|infix|infixr|let|local|nonfix|of|op|open|orelse|raise|rec|sharing|sig|signature|struct|structure|then|type|val|where|while|with|withtype)\b/i;t.languages.sml={comment:/\(\*(?:[^*(]|\*(?!\))|\((?!\*)|\(\*(?:[^*(]|\*(?!\))|\((?!\*))*\*\))*\*\)/,string:{pattern:/#?"(?:[^"\\]|\\.)*"/,greedy:!0},"class-name":[{pattern:RegExp(/((?:^|[^:]):\s*)<TERMINAL>(?:\s*(?:(?:\*|->)\s*<TERMINAL>|,\s*<TERMINAL>(?:(?=<NOT-LAST>)|(?!<NOT-LAST>)\s+<LONG-ID>)))*/.source.replace(/<NOT-LAST>/g,function(){return/\s*(?:[*,]|->)/.source}).replace(/<TERMINAL>/g,function(){return/(?:'[\w']*|<LONG-ID>|\((?:[^()]|\([^()]*\))*\)|\{(?:[^{}]|\{[^{}]*\})*\})(?:\s+<LONG-ID>)*/.source}).replace(/<LONG-ID>/g,function(){return/(?!<KEYWORD>)[a-z\d_][\w'.]*/.source}).replace(/<KEYWORD>/g,function(){return r.source}),"i"),lookbehind:!0,greedy:!0,inside:null},{pattern:/((?:^|[^\w'])(?:datatype|exception|functor|signature|structure|type)\s+)[a-z_][\w'.]*/i,lookbehind:!0}],function:{pattern:/((?:^|[^\w'])fun\s+)[a-z_][\w'.]*/i,lookbehind:!0},keyword:r,variable:{pattern:/(^|[^\w'])'[\w']*/,lookbehind:!0},number:/~?\b(?:\d+(?:\.\d+)?(?:e~?\d+)?|0x[\da-f]+)\b/i,word:{pattern:/\b0w(?:\d+|x[\da-f]+)\b/i,alias:"constant"},boolean:/\b(?:false|true)\b/i,operator:/\.\.\.|:[>=:]|=>?|->|[<>]=?|[!+\-*/^#|@~]/,punctuation:/[(){}\[\].:,;]/},t.languages.sml["class-name"][0].inside=t.languages.sml,t.languages.smlnj=t.languages.sml})(e)}aN.displayName="solidity";aN.aliases=["sol"];function aN(e){e.register(Kr),e.languages.solidity=e.languages.extend("clike",{"class-name":{pattern:/(\b(?:contract|enum|interface|library|new|struct|using)\s+)(?!\d)[\w$]+/,lookbehind:!0},keyword:/\b(?:_|anonymous|as|assembly|assert|break|calldata|case|constant|constructor|continue|contract|default|delete|do|else|emit|enum|event|external|for|from|function|if|import|indexed|inherited|interface|internal|is|let|library|mapping|memory|modifier|new|payable|pragma|private|public|pure|require|returns?|revert|selfdestruct|solidity|storage|struct|suicide|switch|this|throw|using|var|view|while)\b/,operator:/=>|->|:=|=:|\*\*|\+\+|--|\|\||&&|<<=?|>>=?|[-+*/%^&|<>!=]=?|[~?]/}),e.languages.insertBefore("solidity","keyword",{builtin:/\b(?:address|bool|byte|u?int(?:8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?|string|bytes(?:[1-9]|[12]\d|3[0-2])?)\b/}),e.languages.insertBefore("solidity","number",{version:{pattern:/([<>]=?|\^)\d+\.\d+\.\d+\b/,lookbehind:!0,alias:"number"}}),e.languages.sol=e.languages.solidity}sN.displayName="solution-file";sN.aliases=["sln"];function sN(e){(function(t){var r={pattern:/\{[\da-f]{8}-[\da-f]{4}-[\da-f]{4}-[\da-f]{4}-[\da-f]{12}\}/i,alias:"constant",inside:{punctuation:/[{}]/}};t.languages["solution-file"]={comment:{pattern:/#.*/,greedy:!0},string:{pattern:/"[^"\r\n]*"|'[^'\r\n]*'/,greedy:!0,inside:{guid:r}},object:{pattern:/^([ \t]*)(?:([A-Z]\w*)\b(?=.*(?:\r\n?|\n)(?:\1[ \t].*(?:\r\n?|\n))*\1End\2(?=[ \t]*$))|End[A-Z]\w*(?=[ \t]*$))/m,lookbehind:!0,greedy:!0,alias:"keyword"},property:{pattern:/^([ \t]*)(?!\s)[^\r\n"#=()]*[^\s"#=()](?=\s*=)/m,lookbehind:!0,inside:{guid:r}},guid:r,number:/\b\d+(?:\.\d+)*\b/,boolean:/\b(?:FALSE|TRUE)\b/,operator:/=/,punctuation:/[(),]/},t.languages.sln=t.languages["solution-file"]})(e)}iN.displayName="soy";iN.aliases=[];function iN(e){e.register(rs),(function(t){var r=/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,n=/\b\d+(?:\.\d+)?(?:[eE][+-]?\d+)?\b|\b0x[\dA-F]+\b/;t.languages.soy={comment:[/\/\*[\s\S]*?\*\//,{pattern:/(\s)\/\/.*/,lookbehind:!0,greedy:!0}],"command-arg":{pattern:/(\{+\/?\s*(?:alias|call|delcall|delpackage|deltemplate|namespace|template)\s+)\.?[\w.]+/,lookbehind:!0,alias:"string",inside:{punctuation:/\./}},parameter:{pattern:/(\{+\/?\s*@?param\??\s+)\.?[\w.]+/,lookbehind:!0,alias:"variable"},keyword:[{pattern:/(\{+\/?[^\S\r\n]*)(?:\\[nrt]|alias|call|case|css|default|delcall|delpackage|deltemplate|else(?:if)?|fallbackmsg|for(?:each)?|if(?:empty)?|lb|let|literal|msg|namespace|nil|@?param\??|rb|sp|switch|template|xid)/,lookbehind:!0},/\b(?:any|as|attributes|bool|css|float|html|in|int|js|list|map|null|number|string|uri)\b/],delimiter:{pattern:/^\{+\/?|\/?\}+$/,alias:"punctuation"},property:/\w+(?==)/,variable:{pattern:/\$[^\W\d]\w*(?:\??(?:\.\w+|\[[^\]]+\]))*/,inside:{string:{pattern:r,greedy:!0},number:n,punctuation:/[\[\].?]/}},string:{pattern:r,greedy:!0},function:[/\w+(?=\()/,{pattern:/(\|[^\S\r\n]*)\w+/,lookbehind:!0}],boolean:/\b(?:false|true)\b/,number:n,operator:/\?:?|<=?|>=?|==?|!=|[+*/%-]|\b(?:and|not|or)\b/,punctuation:/[{}()\[\]|.,:]/},t.hooks.add("before-tokenize",function(a){var i=/\{\{.+?\}\}|\{.+?\}|\s\/\/.*|\/\*[\s\S]*?\*\//g,o="{literal}",l="{/literal}",u=!1;t.languages["markup-templating"].buildPlaceholders(a,"soy",i,function(d){return d===l&&(u=!1),u?!1:(d===o&&(u=!0),!0)})}),t.hooks.add("after-tokenize",function(a){t.languages["markup-templating"].tokenizePlaceholders(a,"soy")})})(e)}jx.displayName="turtle";jx.aliases=["trig"];function jx(e){e.languages.turtle={comment:{pattern:/#.*/,greedy:!0},"multiline-string":{pattern:/"""(?:(?:""?)?(?:[^"\\]|\\.))*"""|'''(?:(?:''?)?(?:[^'\\]|\\.))*'''/,greedy:!0,alias:"string",inside:{comment:/#.*/}},string:{pattern:/"(?:[^\\"\r\n]|\\.)*"|'(?:[^\\'\r\n]|\\.)*'/,greedy:!0},url:{pattern:/<(?:[^\x00-\x20<>"{}|^`\\]|\\(?:u[\da-fA-F]{4}|U[\da-fA-F]{8}))*>/,greedy:!0,inside:{punctuation:/[<>]/}},function:{pattern:/(?:(?![-.\d\xB7])[-.\w\xB7\xC0-\uFFFD]+)?:(?:(?![-.])(?:[-.:\w\xC0-\uFFFD]|%[\da-f]{2}|\\.)+)?/i,inside:{"local-name":{pattern:/([^:]*:)[\s\S]+/,lookbehind:!0},prefix:{pattern:/[\s\S]+/,inside:{punctuation:/:/}}}},number:/[+-]?\b\d+(?:\.\d*)?(?:e[+-]?\d+)?/i,punctuation:/[{}.,;()[\]]|\^\^/,boolean:/\b(?:false|true)\b/,keyword:[/(?:\ba|@prefix|@base)\b|=/,/\b(?:base|graph|prefix)\b/i],tag:{pattern:/@[a-z]+(?:-[a-z\d]+)*/i,inside:{punctuation:/@/}}},e.languages.trig=e.languages.turtle}oN.displayName="sparql";oN.aliases=["rq"];function oN(e){e.register(jx),e.languages.sparql=e.languages.extend("turtle",{boolean:/\b(?:false|true)\b/i,variable:{pattern:/[?$]\w+/,greedy:!0}}),e.languages.insertBefore("sparql","punctuation",{keyword:[/\b(?:A|ADD|ALL|AS|ASC|ASK|BNODE|BY|CLEAR|CONSTRUCT|COPY|CREATE|DATA|DEFAULT|DELETE|DESC|DESCRIBE|DISTINCT|DROP|EXISTS|FILTER|FROM|GROUP|HAVING|INSERT|INTO|LIMIT|LOAD|MINUS|MOVE|NAMED|NOT|NOW|OFFSET|OPTIONAL|ORDER|RAND|REDUCED|SELECT|SEPARATOR|SERVICE|SILENT|STRUUID|UNION|USING|UUID|VALUES|WHERE)\b/i,/\b(?:ABS|AVG|BIND|BOUND|CEIL|COALESCE|CONCAT|CONTAINS|COUNT|DATATYPE|DAY|ENCODE_FOR_URI|FLOOR|GROUP_CONCAT|HOURS|IF|IRI|isBLANK|isIRI|isLITERAL|isNUMERIC|isURI|LANG|LANGMATCHES|LCASE|MAX|MD5|MIN|MINUTES|MONTH|REGEX|REPLACE|ROUND|sameTerm|SAMPLE|SECONDS|SHA1|SHA256|SHA384|SHA512|STR|STRAFTER|STRBEFORE|STRDT|STRENDS|STRLANG|STRLEN|STRSTARTS|SUBSTR|SUM|TIMEZONE|TZ|UCASE|URI|YEAR)\b(?=\s*\()/i,/\b(?:BASE|GRAPH|PREFIX)\b/i]}),e.languages.rq=e.languages.sparql}lN.displayName="splunk-spl";lN.aliases=[];function lN(e){e.languages["splunk-spl"]={comment:/`comment\("(?:\\.|[^\\"])*"\)`/,string:{pattern:/"(?:\\.|[^\\"])*"/,greedy:!0},keyword:/\b(?:abstract|accum|addcoltotals|addinfo|addtotals|analyzefields|anomalies|anomalousvalue|anomalydetection|append|appendcols|appendcsv|appendlookup|appendpipe|arules|associate|audit|autoregress|bin|bucket|bucketdir|chart|cluster|cofilter|collect|concurrency|contingency|convert|correlate|datamodel|dbinspect|dedup|delete|delta|diff|erex|eval|eventcount|eventstats|extract|fieldformat|fields|fieldsummary|filldown|fillnull|findtypes|folderize|foreach|format|from|gauge|gentimes|geom|geomfilter|geostats|head|highlight|history|iconify|input|inputcsv|inputlookup|iplocation|join|kmeans|kv|kvform|loadjob|localize|localop|lookup|makecontinuous|makemv|makeresults|map|mcollect|metadata|metasearch|meventcollect|mstats|multikv|multisearch|mvcombine|mvexpand|nomv|outlier|outputcsv|outputlookup|outputtext|overlap|pivot|predict|rangemap|rare|regex|relevancy|reltime|rename|replace|rest|return|reverse|rex|rtorder|run|savedsearch|script|scrub|search|searchtxn|selfjoin|sendemail|set|setfields|sichart|sirare|sistats|sitimechart|sitop|sort|spath|stats|strcat|streamstats|table|tags|tail|timechart|timewrap|top|transaction|transpose|trendline|tscollect|tstats|typeahead|typelearner|typer|union|uniq|untable|where|x11|xmlkv|xmlunescape|xpath|xyseries)\b/i,"operator-word":{pattern:/\b(?:and|as|by|not|or|xor)\b/i,alias:"operator"},function:/\b\w+(?=\s*\()/,property:/\b\w+(?=\s*=(?!=))/,date:{pattern:/\b\d{1,2}\/\d{1,2}\/\d{1,4}(?:(?::\d{1,2}){3})?\b/,alias:"number"},number:/\b\d+(?:\.\d+)?\b/,boolean:/\b(?:f|false|t|true)\b/i,operator:/[<>=]=?|[-+*/%|]/,punctuation:/[()[\],]/}}cN.displayName="sqf";cN.aliases=[];function cN(e){e.register(Kr),e.languages.sqf=e.languages.extend("clike",{string:{pattern:/"(?:(?:"")?[^"])*"(?!")|'(?:[^'])*'/,greedy:!0},keyword:/\b(?:breakOut|breakTo|call|case|catch|default|do|echo|else|execFSM|execVM|exitWith|for|forEach|forEachMember|forEachMemberAgent|forEachMemberTeam|from|goto|if|nil|preprocessFile|preprocessFileLineNumbers|private|scopeName|spawn|step|switch|then|throw|to|try|while|with)\b/i,boolean:/\b(?:false|true)\b/i,function:/\b(?:abs|accTime|acos|action|actionIDs|actionKeys|actionKeysImages|actionKeysNames|actionKeysNamesArray|actionName|actionParams|activateAddons|activatedAddons|activateKey|add3DENConnection|add3DENEventHandler|add3DENLayer|addAction|addBackpack|addBackpackCargo|addBackpackCargoGlobal|addBackpackGlobal|addCamShake|addCuratorAddons|addCuratorCameraArea|addCuratorEditableObjects|addCuratorEditingArea|addCuratorPoints|addEditorObject|addEventHandler|addForce|addForceGeneratorRTD|addGoggles|addGroupIcon|addHandgunItem|addHeadgear|addItem|addItemCargo|addItemCargoGlobal|addItemPool|addItemToBackpack|addItemToUniform|addItemToVest|addLiveStats|addMagazine|addMagazineAmmoCargo|addMagazineCargo|addMagazineCargoGlobal|addMagazineGlobal|addMagazinePool|addMagazines|addMagazineTurret|addMenu|addMenuItem|addMissionEventHandler|addMPEventHandler|addMusicEventHandler|addOwnedMine|addPlayerScores|addPrimaryWeaponItem|addPublicVariableEventHandler|addRating|addResources|addScore|addScoreSide|addSecondaryWeaponItem|addSwitchableUnit|addTeamMember|addToRemainsCollector|addTorque|addUniform|addVehicle|addVest|addWaypoint|addWeapon|addWeaponCargo|addWeaponCargoGlobal|addWeaponGlobal|addWeaponItem|addWeaponPool|addWeaponTurret|admin|agent|agents|AGLToASL|aimedAtTarget|aimPos|airDensityCurveRTD|airDensityRTD|airplaneThrottle|airportSide|AISFinishHeal|alive|all3DENEntities|allAirports|allControls|allCurators|allCutLayers|allDead|allDeadMen|allDisplays|allGroups|allMapMarkers|allMines|allMissionObjects|allow3DMode|allowCrewInImmobile|allowCuratorLogicIgnoreAreas|allowDamage|allowDammage|allowFileOperations|allowFleeing|allowGetIn|allowSprint|allPlayers|allSimpleObjects|allSites|allTurrets|allUnits|allUnitsUAV|allVariables|ammo|ammoOnPylon|animate|animateBay|animateDoor|animatePylon|animateSource|animationNames|animationPhase|animationSourcePhase|animationState|append|apply|armoryPoints|arrayIntersect|asin|ASLToAGL|ASLToATL|assert|assignAsCargo|assignAsCargoIndex|assignAsCommander|assignAsDriver|assignAsGunner|assignAsTurret|assignCurator|assignedCargo|assignedCommander|assignedDriver|assignedGunner|assignedItems|assignedTarget|assignedTeam|assignedVehicle|assignedVehicleRole|assignItem|assignTeam|assignToAirport|atan|atan2|atg|ATLToASL|attachedObject|attachedObjects|attachedTo|attachObject|attachTo|attackEnabled|backpack|backpackCargo|backpackContainer|backpackItems|backpackMagazines|backpackSpaceFor|behaviour|benchmark|binocular|blufor|boundingBox|boundingBoxReal|boundingCenter|briefingName|buildingExit|buildingPos|buldozer_EnableRoadDiag|buldozer_IsEnabledRoadDiag|buldozer_LoadNewRoads|buldozer_reloadOperMap|buttonAction|buttonSetAction|cadetMode|callExtension|camCommand|camCommit|camCommitPrepared|camCommitted|camConstuctionSetParams|camCreate|camDestroy|cameraEffect|cameraEffectEnableHUD|cameraInterest|cameraOn|cameraView|campaignConfigFile|camPreload|camPreloaded|camPrepareBank|camPrepareDir|camPrepareDive|camPrepareFocus|camPrepareFov|camPrepareFovRange|camPreparePos|camPrepareRelPos|camPrepareTarget|camSetBank|camSetDir|camSetDive|camSetFocus|camSetFov|camSetFovRange|camSetPos|camSetRelPos|camSetTarget|camTarget|camUseNVG|canAdd|canAddItemToBackpack|canAddItemToUniform|canAddItemToVest|cancelSimpleTaskDestination|canFire|canMove|canSlingLoad|canStand|canSuspend|canTriggerDynamicSimulation|canUnloadInCombat|canVehicleCargo|captive|captiveNum|cbChecked|cbSetChecked|ceil|channelEnabled|cheatsEnabled|checkAIFeature|checkVisibility|civilian|className|clear3DENAttribute|clear3DENInventory|clearAllItemsFromBackpack|clearBackpackCargo|clearBackpackCargoGlobal|clearForcesRTD|clearGroupIcons|clearItemCargo|clearItemCargoGlobal|clearItemPool|clearMagazineCargo|clearMagazineCargoGlobal|clearMagazinePool|clearOverlay|clearRadio|clearVehicleInit|clearWeaponCargo|clearWeaponCargoGlobal|clearWeaponPool|clientOwner|closeDialog|closeDisplay|closeOverlay|collapseObjectTree|collect3DENHistory|collectiveRTD|combatMode|commandArtilleryFire|commandChat|commander|commandFire|commandFollow|commandFSM|commandGetOut|commandingMenu|commandMove|commandRadio|commandStop|commandSuppressiveFire|commandTarget|commandWatch|comment|commitOverlay|compile|compileFinal|completedFSM|composeText|configClasses|configFile|configHierarchy|configName|configNull|configProperties|configSourceAddonList|configSourceMod|configSourceModList|confirmSensorTarget|connectTerminalToUAV|controlNull|controlsGroupCtrl|copyFromClipboard|copyToClipboard|copyWaypoints|cos|count|countEnemy|countFriendly|countSide|countType|countUnknown|create3DENComposition|create3DENEntity|createAgent|createCenter|createDialog|createDiaryLink|createDiaryRecord|createDiarySubject|createDisplay|createGearDialog|createGroup|createGuardedPoint|createLocation|createMarker|createMarkerLocal|createMenu|createMine|createMissionDisplay|createMPCampaignDisplay|createSimpleObject|createSimpleTask|createSite|createSoundSource|createTask|createTeam|createTrigger|createUnit|createVehicle|createVehicleCrew|createVehicleLocal|crew|ctAddHeader|ctAddRow|ctClear|ctCurSel|ctData|ctFindHeaderRows|ctFindRowHeader|ctHeaderControls|ctHeaderCount|ctRemoveHeaders|ctRemoveRows|ctrlActivate|ctrlAddEventHandler|ctrlAngle|ctrlAutoScrollDelay|ctrlAutoScrollRewind|ctrlAutoScrollSpeed|ctrlChecked|ctrlClassName|ctrlCommit|ctrlCommitted|ctrlCreate|ctrlDelete|ctrlEnable|ctrlEnabled|ctrlFade|ctrlHTMLLoaded|ctrlIDC|ctrlIDD|ctrlMapAnimAdd|ctrlMapAnimClear|ctrlMapAnimCommit|ctrlMapAnimDone|ctrlMapCursor|ctrlMapMouseOver|ctrlMapScale|ctrlMapScreenToWorld|ctrlMapWorldToScreen|ctrlModel|ctrlModelDirAndUp|ctrlModelScale|ctrlParent|ctrlParentControlsGroup|ctrlPosition|ctrlRemoveAllEventHandlers|ctrlRemoveEventHandler|ctrlScale|ctrlSetActiveColor|ctrlSetAngle|ctrlSetAutoScrollDelay|ctrlSetAutoScrollRewind|ctrlSetAutoScrollSpeed|ctrlSetBackgroundColor|ctrlSetChecked|ctrlSetDisabledColor|ctrlSetEventHandler|ctrlSetFade|ctrlSetFocus|ctrlSetFont|ctrlSetFontH1|ctrlSetFontH1B|ctrlSetFontH2|ctrlSetFontH2B|ctrlSetFontH3|ctrlSetFontH3B|ctrlSetFontH4|ctrlSetFontH4B|ctrlSetFontH5|ctrlSetFontH5B|ctrlSetFontH6|ctrlSetFontH6B|ctrlSetFontHeight|ctrlSetFontHeightH1|ctrlSetFontHeightH2|ctrlSetFontHeightH3|ctrlSetFontHeightH4|ctrlSetFontHeightH5|ctrlSetFontHeightH6|ctrlSetFontHeightSecondary|ctrlSetFontP|ctrlSetFontPB|ctrlSetFontSecondary|ctrlSetForegroundColor|ctrlSetModel|ctrlSetModelDirAndUp|ctrlSetModelScale|ctrlSetPixelPrecision|ctrlSetPosition|ctrlSetScale|ctrlSetStructuredText|ctrlSetText|ctrlSetTextColor|ctrlSetTextColorSecondary|ctrlSetTextSecondary|ctrlSetTooltip|ctrlSetTooltipColorBox|ctrlSetTooltipColorShade|ctrlSetTooltipColorText|ctrlShow|ctrlShown|ctrlText|ctrlTextHeight|ctrlTextSecondary|ctrlTextWidth|ctrlType|ctrlVisible|ctRowControls|ctRowCount|ctSetCurSel|ctSetData|ctSetHeaderTemplate|ctSetRowTemplate|ctSetValue|ctValue|curatorAddons|curatorCamera|curatorCameraArea|curatorCameraAreaCeiling|curatorCoef|curatorEditableObjects|curatorEditingArea|curatorEditingAreaType|curatorMouseOver|curatorPoints|curatorRegisteredObjects|curatorSelected|curatorWaypointCost|current3DENOperation|currentChannel|currentCommand|currentMagazine|currentMagazineDetail|currentMagazineDetailTurret|currentMagazineTurret|currentMuzzle|currentNamespace|currentTask|currentTasks|currentThrowable|currentVisionMode|currentWaypoint|currentWeapon|currentWeaponMode|currentWeaponTurret|currentZeroing|cursorObject|cursorTarget|customChat|customRadio|cutFadeOut|cutObj|cutRsc|cutText|damage|date|dateToNumber|daytime|deActivateKey|debriefingText|debugFSM|debugLog|deg|delete3DENEntities|deleteAt|deleteCenter|deleteCollection|deleteEditorObject|deleteGroup|deleteGroupWhenEmpty|deleteIdentity|deleteLocation|deleteMarker|deleteMarkerLocal|deleteRange|deleteResources|deleteSite|deleteStatus|deleteTeam|deleteVehicle|deleteVehicleCrew|deleteWaypoint|detach|detectedMines|diag_activeMissionFSMs|diag_activeScripts|diag_activeSQFScripts|diag_activeSQSScripts|diag_captureFrame|diag_captureFrameToFile|diag_captureSlowFrame|diag_codePerformance|diag_drawMode|diag_dynamicSimulationEnd|diag_enable|diag_enabled|diag_fps|diag_fpsMin|diag_frameNo|diag_lightNewLoad|diag_list|diag_log|diag_logSlowFrame|diag_mergeConfigFile|diag_recordTurretLimits|diag_setLightNew|diag_tickTime|diag_toggle|dialog|diarySubjectExists|didJIP|didJIPOwner|difficulty|difficultyEnabled|difficultyEnabledRTD|difficultyOption|direction|directSay|disableAI|disableCollisionWith|disableConversation|disableDebriefingStats|disableMapIndicators|disableNVGEquipment|disableRemoteSensors|disableSerialization|disableTIEquipment|disableUAVConnectability|disableUserInput|displayAddEventHandler|displayCtrl|displayNull|displayParent|displayRemoveAllEventHandlers|displayRemoveEventHandler|displaySetEventHandler|dissolveTeam|distance|distance2D|distanceSqr|distributionRegion|do3DENAction|doArtilleryFire|doFire|doFollow|doFSM|doGetOut|doMove|doorPhase|doStop|doSuppressiveFire|doTarget|doWatch|drawArrow|drawEllipse|drawIcon|drawIcon3D|drawLine|drawLine3D|drawLink|drawLocation|drawPolygon|drawRectangle|drawTriangle|driver|drop|dynamicSimulationDistance|dynamicSimulationDistanceCoef|dynamicSimulationEnabled|dynamicSimulationSystemEnabled|east|edit3DENMissionAttributes|editObject|editorSetEventHandler|effectiveCommander|emptyPositions|enableAI|enableAIFeature|enableAimPrecision|enableAttack|enableAudioFeature|enableAutoStartUpRTD|enableAutoTrimRTD|enableCamShake|enableCaustics|enableChannel|enableCollisionWith|enableCopilot|enableDebriefingStats|enableDiagLegend|enableDynamicSimulation|enableDynamicSimulationSystem|enableEndDialog|enableEngineArtillery|enableEnvironment|enableFatigue|enableGunLights|enableInfoPanelComponent|enableIRLasers|enableMimics|enablePersonTurret|enableRadio|enableReload|enableRopeAttach|enableSatNormalOnDetail|enableSaving|enableSentences|enableSimulation|enableSimulationGlobal|enableStamina|enableStressDamage|enableTeamSwitch|enableTraffic|enableUAVConnectability|enableUAVWaypoints|enableVehicleCargo|enableVehicleSensor|enableWeaponDisassembly|endl|endLoadingScreen|endMission|engineOn|enginesIsOnRTD|enginesPowerRTD|enginesRpmRTD|enginesTorqueRTD|entities|environmentEnabled|estimatedEndServerTime|estimatedTimeLeft|evalObjectArgument|everyBackpack|everyContainer|exec|execEditorScript|exp|expectedDestination|exportJIPMessages|eyeDirection|eyePos|face|faction|fadeMusic|fadeRadio|fadeSound|fadeSpeech|failMission|fillWeaponsFromPool|find|findCover|findDisplay|findEditorObject|findEmptyPosition|findEmptyPositionReady|findIf|findNearestEnemy|finishMissionInit|finite|fire|fireAtTarget|firstBackpack|flag|flagAnimationPhase|flagOwner|flagSide|flagTexture|fleeing|floor|flyInHeight|flyInHeightASL|fog|fogForecast|fogParams|forceAddUniform|forceAtPositionRTD|forcedMap|forceEnd|forceFlagTexture|forceFollowRoad|forceGeneratorRTD|forceMap|forceRespawn|forceSpeed|forceWalk|forceWeaponFire|forceWeatherChange|forgetTarget|format|formation|formationDirection|formationLeader|formationMembers|formationPosition|formationTask|formatText|formLeader|freeLook|fromEditor|fuel|fullCrew|gearIDCAmmoCount|gearSlotAmmoCount|gearSlotData|get3DENActionState|get3DENAttribute|get3DENCamera|get3DENConnections|get3DENEntity|get3DENEntityID|get3DENGrid|get3DENIconsVisible|get3DENLayerEntities|get3DENLinesVisible|get3DENMissionAttribute|get3DENMouseOver|get3DENSelected|getAimingCoef|getAllEnvSoundControllers|getAllHitPointsDamage|getAllOwnedMines|getAllSoundControllers|getAmmoCargo|getAnimAimPrecision|getAnimSpeedCoef|getArray|getArtilleryAmmo|getArtilleryComputerSettings|getArtilleryETA|getAssignedCuratorLogic|getAssignedCuratorUnit|getBackpackCargo|getBleedingRemaining|getBurningValue|getCameraViewDirection|getCargoIndex|getCenterOfMass|getClientState|getClientStateNumber|getCompatiblePylonMagazines|getConnectedUAV|getContainerMaxLoad|getCursorObjectParams|getCustomAimCoef|getDammage|getDescription|getDir|getDirVisual|getDLCAssetsUsage|getDLCAssetsUsageByName|getDLCs|getDLCUsageTime|getEditorCamera|getEditorMode|getEditorObjectScope|getElevationOffset|getEngineTargetRpmRTD|getEnvSoundController|getFatigue|getFieldManualStartPage|getForcedFlagTexture|getFriend|getFSMVariable|getFuelCargo|getGroupIcon|getGroupIconParams|getGroupIcons|getHideFrom|getHit|getHitIndex|getHitPointDamage|getItemCargo|getMagazineCargo|getMarkerColor|getMarkerPos|getMarkerSize|getMarkerType|getMass|getMissionConfig|getMissionConfigValue|getMissionDLCs|getMissionLayerEntities|getMissionLayers|getModelInfo|getMousePosition|getMusicPlayedTime|getNumber|getObjectArgument|getObjectChildren|getObjectDLC|getObjectMaterials|getObjectProxy|getObjectTextures|getObjectType|getObjectViewDistance|getOxygenRemaining|getPersonUsedDLCs|getPilotCameraDirection|getPilotCameraPosition|getPilotCameraRotation|getPilotCameraTarget|getPlateNumber|getPlayerChannel|getPlayerScores|getPlayerUID|getPlayerUIDOld|getPos|getPosASL|getPosASLVisual|getPosASLW|getPosATL|getPosATLVisual|getPosVisual|getPosWorld|getPylonMagazines|getRelDir|getRelPos|getRemoteSensorsDisabled|getRepairCargo|getResolution|getRotorBrakeRTD|getShadowDistance|getShotParents|getSlingLoad|getSoundController|getSoundControllerResult|getSpeed|getStamina|getStatValue|getSuppression|getTerrainGrid|getTerrainHeightASL|getText|getTotalDLCUsageTime|getTrimOffsetRTD|getUnitLoadout|getUnitTrait|getUserMFDText|getUserMFDValue|getVariable|getVehicleCargo|getWeaponCargo|getWeaponSway|getWingsOrientationRTD|getWingsPositionRTD|getWPPos|glanceAt|globalChat|globalRadio|goggles|group|groupChat|groupFromNetId|groupIconSelectable|groupIconsVisible|groupId|groupOwner|groupRadio|groupSelectedUnits|groupSelectUnit|grpNull|gunner|gusts|halt|handgunItems|handgunMagazine|handgunWeapon|handsHit|hasInterface|hasPilotCamera|hasWeapon|hcAllGroups|hcGroupParams|hcLeader|hcRemoveAllGroups|hcRemoveGroup|hcSelected|hcSelectGroup|hcSetGroup|hcShowBar|hcShownBar|headgear|hideBody|hideObject|hideObjectGlobal|hideSelection|hint|hintC|hintCadet|hintSilent|hmd|hostMission|htmlLoad|HUDMovementLevels|humidity|image|importAllGroups|importance|in|inArea|inAreaArray|incapacitatedState|independent|inflame|inflamed|infoPanel|infoPanelComponentEnabled|infoPanelComponents|infoPanels|inGameUISetEventHandler|inheritsFrom|initAmbientLife|inPolygon|inputAction|inRangeOfArtillery|insertEditorObject|intersect|is3DEN|is3DENMultiplayer|isAbleToBreathe|isAgent|isAimPrecisionEnabled|isArray|isAutoHoverOn|isAutonomous|isAutoStartUpEnabledRTD|isAutotest|isAutoTrimOnRTD|isBleeding|isBurning|isClass|isCollisionLightOn|isCopilotEnabled|isDamageAllowed|isDedicated|isDLCAvailable|isEngineOn|isEqualTo|isEqualType|isEqualTypeAll|isEqualTypeAny|isEqualTypeArray|isEqualTypeParams|isFilePatchingEnabled|isFlashlightOn|isFlatEmpty|isForcedWalk|isFormationLeader|isGroupDeletedWhenEmpty|isHidden|isInRemainsCollector|isInstructorFigureEnabled|isIRLaserOn|isKeyActive|isKindOf|isLaserOn|isLightOn|isLocalized|isManualFire|isMarkedForCollection|isMultiplayer|isMultiplayerSolo|isNil|isNull|isNumber|isObjectHidden|isObjectRTD|isOnRoad|isPipEnabled|isPlayer|isRealTime|isRemoteExecuted|isRemoteExecutedJIP|isServer|isShowing3DIcons|isSimpleObject|isSprintAllowed|isStaminaEnabled|isSteamMission|isStreamFriendlyUIEnabled|isStressDamageEnabled|isText|isTouchingGround|isTurnedOut|isTutHintsEnabled|isUAVConnectable|isUAVConnected|isUIContext|isUniformAllowed|isVehicleCargo|isVehicleRadarOn|isVehicleSensorEnabled|isWalking|isWeaponDeployed|isWeaponRested|itemCargo|items|itemsWithMagazines|join|joinAs|joinAsSilent|joinSilent|joinString|kbAddDatabase|kbAddDatabaseTargets|kbAddTopic|kbHasTopic|kbReact|kbRemoveTopic|kbTell|kbWasSaid|keyImage|keyName|knowsAbout|land|landAt|landResult|language|laserTarget|lbAdd|lbClear|lbColor|lbColorRight|lbCurSel|lbData|lbDelete|lbIsSelected|lbPicture|lbPictureRight|lbSelection|lbSetColor|lbSetColorRight|lbSetCurSel|lbSetData|lbSetPicture|lbSetPictureColor|lbSetPictureColorDisabled|lbSetPictureColorSelected|lbSetPictureRight|lbSetPictureRightColor|lbSetPictureRightColorDisabled|lbSetPictureRightColorSelected|lbSetSelectColor|lbSetSelectColorRight|lbSetSelected|lbSetText|lbSetTextRight|lbSetTooltip|lbSetValue|lbSize|lbSort|lbSortByValue|lbText|lbTextRight|lbValue|leader|leaderboardDeInit|leaderboardGetRows|leaderboardInit|leaderboardRequestRowsFriends|leaderboardRequestRowsGlobal|leaderboardRequestRowsGlobalAroundUser|leaderboardsRequestUploadScore|leaderboardsRequestUploadScoreKeepBest|leaderboardState|leaveVehicle|libraryCredits|libraryDisclaimers|lifeState|lightAttachObject|lightDetachObject|lightIsOn|lightnings|limitSpeed|linearConversion|lineBreak|lineIntersects|lineIntersectsObjs|lineIntersectsSurfaces|lineIntersectsWith|linkItem|list|listObjects|listRemoteTargets|listVehicleSensors|ln|lnbAddArray|lnbAddColumn|lnbAddRow|lnbClear|lnbColor|lnbColorRight|lnbCurSelRow|lnbData|lnbDeleteColumn|lnbDeleteRow|lnbGetColumnsPosition|lnbPicture|lnbPictureRight|lnbSetColor|lnbSetColorRight|lnbSetColumnsPos|lnbSetCurSelRow|lnbSetData|lnbSetPicture|lnbSetPictureColor|lnbSetPictureColorRight|lnbSetPictureColorSelected|lnbSetPictureColorSelectedRight|lnbSetPictureRight|lnbSetText|lnbSetTextRight|lnbSetValue|lnbSize|lnbSort|lnbSortByValue|lnbText|lnbTextRight|lnbValue|load|loadAbs|loadBackpack|loadFile|loadGame|loadIdentity|loadMagazine|loadOverlay|loadStatus|loadUniform|loadVest|local|localize|locationNull|locationPosition|lock|lockCameraTo|lockCargo|lockDriver|locked|lockedCargo|lockedDriver|lockedTurret|lockIdentity|lockTurret|lockWP|log|logEntities|logNetwork|logNetworkTerminate|lookAt|lookAtPos|magazineCargo|magazines|magazinesAllTurrets|magazinesAmmo|magazinesAmmoCargo|magazinesAmmoFull|magazinesDetail|magazinesDetailBackpack|magazinesDetailUniform|magazinesDetailVest|magazinesTurret|magazineTurretAmmo|mapAnimAdd|mapAnimClear|mapAnimCommit|mapAnimDone|mapCenterOnCamera|mapGridPosition|markAsFinishedOnSteam|markerAlpha|markerBrush|markerColor|markerDir|markerPos|markerShape|markerSize|markerText|markerType|max|members|menuAction|menuAdd|menuChecked|menuClear|menuCollapse|menuData|menuDelete|menuEnable|menuEnabled|menuExpand|menuHover|menuPicture|menuSetAction|menuSetCheck|menuSetData|menuSetPicture|menuSetValue|menuShortcut|menuShortcutText|menuSize|menuSort|menuText|menuURL|menuValue|min|mineActive|mineDetectedBy|missionConfigFile|missionDifficulty|missionName|missionNamespace|missionStart|missionVersion|modelToWorld|modelToWorldVisual|modelToWorldVisualWorld|modelToWorldWorld|modParams|moonIntensity|moonPhase|morale|move|move3DENCamera|moveInAny|moveInCargo|moveInCommander|moveInDriver|moveInGunner|moveInTurret|moveObjectToEnd|moveOut|moveTime|moveTo|moveToCompleted|moveToFailed|musicVolume|name|nameSound|nearEntities|nearestBuilding|nearestLocation|nearestLocations|nearestLocationWithDubbing|nearestObject|nearestObjects|nearestTerrainObjects|nearObjects|nearObjectsReady|nearRoads|nearSupplies|nearTargets|needReload|netId|netObjNull|newOverlay|nextMenuItemIndex|nextWeatherChange|nMenuItems|numberOfEnginesRTD|numberToDate|objectCurators|objectFromNetId|objectParent|objNull|objStatus|onBriefingGear|onBriefingGroup|onBriefingNotes|onBriefingPlan|onBriefingTeamSwitch|onCommandModeChanged|onDoubleClick|onEachFrame|onGroupIconClick|onGroupIconOverEnter|onGroupIconOverLeave|onHCGroupSelectionChanged|onMapSingleClick|onPlayerConnected|onPlayerDisconnected|onPreloadFinished|onPreloadStarted|onShowNewObject|onTeamSwitch|openCuratorInterface|openDLCPage|openDSInterface|openMap|openSteamApp|openYoutubeVideo|opfor|orderGetIn|overcast|overcastForecast|owner|param|params|parseNumber|parseSimpleArray|parseText|parsingNamespace|particlesQuality|pi|pickWeaponPool|pitch|pixelGrid|pixelGridBase|pixelGridNoUIScale|pixelH|pixelW|playableSlotsNumber|playableUnits|playAction|playActionNow|player|playerRespawnTime|playerSide|playersNumber|playGesture|playMission|playMove|playMoveNow|playMusic|playScriptedMission|playSound|playSound3D|position|positionCameraToWorld|posScreenToWorld|posWorldToScreen|ppEffectAdjust|ppEffectCommit|ppEffectCommitted|ppEffectCreate|ppEffectDestroy|ppEffectEnable|ppEffectEnabled|ppEffectForceInNVG|precision|preloadCamera|preloadObject|preloadSound|preloadTitleObj|preloadTitleRsc|primaryWeapon|primaryWeaponItems|primaryWeaponMagazine|priority|processDiaryLink|processInitCommands|productVersion|profileName|profileNamespace|profileNameSteam|progressLoadingScreen|progressPosition|progressSetPosition|publicVariable|publicVariableClient|publicVariableServer|pushBack|pushBackUnique|putWeaponPool|queryItemsPool|queryMagazinePool|queryWeaponPool|rad|radioChannelAdd|radioChannelCreate|radioChannelRemove|radioChannelSetCallSign|radioChannelSetLabel|radioVolume|rain|rainbow|random|rank|rankId|rating|rectangular|registeredTasks|registerTask|reload|reloadEnabled|remoteControl|remoteExec|remoteExecCall|remoteExecutedOwner|remove3DENConnection|remove3DENEventHandler|remove3DENLayer|removeAction|removeAll3DENEventHandlers|removeAllActions|removeAllAssignedItems|removeAllContainers|removeAllCuratorAddons|removeAllCuratorCameraAreas|removeAllCuratorEditingAreas|removeAllEventHandlers|removeAllHandgunItems|removeAllItems|removeAllItemsWithMagazines|removeAllMissionEventHandlers|removeAllMPEventHandlers|removeAllMusicEventHandlers|removeAllOwnedMines|removeAllPrimaryWeaponItems|removeAllWeapons|removeBackpack|removeBackpackGlobal|removeCuratorAddons|removeCuratorCameraArea|removeCuratorEditableObjects|removeCuratorEditingArea|removeDrawIcon|removeDrawLinks|removeEventHandler|removeFromRemainsCollector|removeGoggles|removeGroupIcon|removeHandgunItem|removeHeadgear|removeItem|removeItemFromBackpack|removeItemFromUniform|removeItemFromVest|removeItems|removeMagazine|removeMagazineGlobal|removeMagazines|removeMagazinesTurret|removeMagazineTurret|removeMenuItem|removeMissionEventHandler|removeMPEventHandler|removeMusicEventHandler|removeOwnedMine|removePrimaryWeaponItem|removeSecondaryWeaponItem|removeSimpleTask|removeSwitchableUnit|removeTeamMember|removeUniform|removeVest|removeWeapon|removeWeaponAttachmentCargo|removeWeaponCargo|removeWeaponGlobal|removeWeaponTurret|reportRemoteTarget|requiredVersion|resetCamShake|resetSubgroupDirection|resistance|resize|resources|respawnVehicle|restartEditorCamera|reveal|revealMine|reverse|reversedMouseY|roadAt|roadsConnectedTo|roleDescription|ropeAttachedObjects|ropeAttachedTo|ropeAttachEnabled|ropeAttachTo|ropeCreate|ropeCut|ropeDestroy|ropeDetach|ropeEndPosition|ropeLength|ropes|ropeUnwind|ropeUnwound|rotorsForcesRTD|rotorsRpmRTD|round|runInitScript|safeZoneH|safeZoneW|safeZoneWAbs|safeZoneX|safeZoneXAbs|safeZoneY|save3DENInventory|saveGame|saveIdentity|saveJoysticks|saveOverlay|saveProfileNamespace|saveStatus|saveVar|savingEnabled|say|say2D|say3D|score|scoreSide|screenshot|screenToWorld|scriptDone|scriptName|scriptNull|scudState|secondaryWeapon|secondaryWeaponItems|secondaryWeaponMagazine|select|selectBestPlaces|selectDiarySubject|selectedEditorObjects|selectEditorObject|selectionNames|selectionPosition|selectLeader|selectMax|selectMin|selectNoPlayer|selectPlayer|selectRandom|selectRandomWeighted|selectWeapon|selectWeaponTurret|sendAUMessage|sendSimpleCommand|sendTask|sendTaskResult|sendUDPMessage|serverCommand|serverCommandAvailable|serverCommandExecutable|serverName|serverTime|set|set3DENAttribute|set3DENAttributes|set3DENGrid|set3DENIconsVisible|set3DENLayer|set3DENLinesVisible|set3DENLogicType|set3DENMissionAttribute|set3DENMissionAttributes|set3DENModelsVisible|set3DENObjectType|set3DENSelected|setAccTime|setActualCollectiveRTD|setAirplaneThrottle|setAirportSide|setAmmo|setAmmoCargo|setAmmoOnPylon|setAnimSpeedCoef|setAperture|setApertureNew|setArmoryPoints|setAttributes|setAutonomous|setBehaviour|setBleedingRemaining|setBrakesRTD|setCameraInterest|setCamShakeDefParams|setCamShakeParams|setCamUseTI|setCaptive|setCenterOfMass|setCollisionLight|setCombatMode|setCompassOscillation|setConvoySeparation|setCuratorCameraAreaCeiling|setCuratorCoef|setCuratorEditingAreaType|setCuratorWaypointCost|setCurrentChannel|setCurrentTask|setCurrentWaypoint|setCustomAimCoef|setCustomWeightRTD|setDamage|setDammage|setDate|setDebriefingText|setDefaultCamera|setDestination|setDetailMapBlendPars|setDir|setDirection|setDrawIcon|setDriveOnPath|setDropInterval|setDynamicSimulationDistance|setDynamicSimulationDistanceCoef|setEditorMode|setEditorObjectScope|setEffectCondition|setEngineRpmRTD|setFace|setFaceAnimation|setFatigue|setFeatureType|setFlagAnimationPhase|setFlagOwner|setFlagSide|setFlagTexture|setFog|setForceGeneratorRTD|setFormation|setFormationTask|setFormDir|setFriend|setFromEditor|setFSMVariable|setFuel|setFuelCargo|setGroupIcon|setGroupIconParams|setGroupIconsSelectable|setGroupIconsVisible|setGroupId|setGroupIdGlobal|setGroupOwner|setGusts|setHideBehind|setHit|setHitIndex|setHitPointDamage|setHorizonParallaxCoef|setHUDMovementLevels|setIdentity|setImportance|setInfoPanel|setLeader|setLightAmbient|setLightAttenuation|setLightBrightness|setLightColor|setLightDayLight|setLightFlareMaxDistance|setLightFlareSize|setLightIntensity|setLightnings|setLightUseFlare|setLocalWindParams|setMagazineTurretAmmo|setMarkerAlpha|setMarkerAlphaLocal|setMarkerBrush|setMarkerBrushLocal|setMarkerColor|setMarkerColorLocal|setMarkerDir|setMarkerDirLocal|setMarkerPos|setMarkerPosLocal|setMarkerShape|setMarkerShapeLocal|setMarkerSize|setMarkerSizeLocal|setMarkerText|setMarkerTextLocal|setMarkerType|setMarkerTypeLocal|setMass|setMimic|setMousePosition|setMusicEffect|setMusicEventHandler|setName|setNameSound|setObjectArguments|setObjectMaterial|setObjectMaterialGlobal|setObjectProxy|setObjectTexture|setObjectTextureGlobal|setObjectViewDistance|setOvercast|setOwner|setOxygenRemaining|setParticleCircle|setParticleClass|setParticleFire|setParticleParams|setParticleRandom|setPilotCameraDirection|setPilotCameraRotation|setPilotCameraTarget|setPilotLight|setPiPEffect|setPitch|setPlateNumber|setPlayable|setPlayerRespawnTime|setPos|setPosASL|setPosASL2|setPosASLW|setPosATL|setPosition|setPosWorld|setPylonLoadOut|setPylonsPriority|setRadioMsg|setRain|setRainbow|setRandomLip|setRank|setRectangular|setRepairCargo|setRotorBrakeRTD|setShadowDistance|setShotParents|setSide|setSimpleTaskAlwaysVisible|setSimpleTaskCustomData|setSimpleTaskDescription|setSimpleTaskDestination|setSimpleTaskTarget|setSimpleTaskType|setSimulWeatherLayers|setSize|setSkill|setSlingLoad|setSoundEffect|setSpeaker|setSpeech|setSpeedMode|setStamina|setStaminaScheme|setStatValue|setSuppression|setSystemOfUnits|setTargetAge|setTaskMarkerOffset|setTaskResult|setTaskState|setTerrainGrid|setText|setTimeMultiplier|setTitleEffect|setToneMapping|setToneMappingParams|setTrafficDensity|setTrafficDistance|setTrafficGap|setTrafficSpeed|setTriggerActivation|setTriggerArea|setTriggerStatements|setTriggerText|setTriggerTimeout|setTriggerType|setType|setUnconscious|setUnitAbility|setUnitLoadout|setUnitPos|setUnitPosWeak|setUnitRank|setUnitRecoilCoefficient|setUnitTrait|setUnloadInCombat|setUserActionText|setUserMFDText|setUserMFDValue|setVariable|setVectorDir|setVectorDirAndUp|setVectorUp|setVehicleAmmo|setVehicleAmmoDef|setVehicleArmor|setVehicleCargo|setVehicleId|setVehicleInit|setVehicleLock|setVehiclePosition|setVehicleRadar|setVehicleReceiveRemoteTargets|setVehicleReportOwnPosition|setVehicleReportRemoteTargets|setVehicleTIPars|setVehicleVarName|setVelocity|setVelocityModelSpace|setVelocityTransformation|setViewDistance|setVisibleIfTreeCollapsed|setWantedRpmRTD|setWaves|setWaypointBehaviour|setWaypointCombatMode|setWaypointCompletionRadius|setWaypointDescription|setWaypointForceBehaviour|setWaypointFormation|setWaypointHousePosition|setWaypointLoiterRadius|setWaypointLoiterType|setWaypointName|setWaypointPosition|setWaypointScript|setWaypointSpeed|setWaypointStatements|setWaypointTimeout|setWaypointType|setWaypointVisible|setWeaponReloadingTime|setWind|setWindDir|setWindForce|setWindStr|setWingForceScaleRTD|setWPPos|show3DIcons|showChat|showCinemaBorder|showCommandingMenu|showCompass|showCuratorCompass|showGPS|showHUD|showLegend|showMap|shownArtilleryComputer|shownChat|shownCompass|shownCuratorCompass|showNewEditorObject|shownGPS|shownHUD|shownMap|shownPad|shownRadio|shownScoretable|shownUAVFeed|shownWarrant|shownWatch|showPad|showRadio|showScoretable|showSubtitles|showUAVFeed|showWarrant|showWatch|showWaypoint|showWaypoints|side|sideAmbientLife|sideChat|sideEmpty|sideEnemy|sideFriendly|sideLogic|sideRadio|sideUnknown|simpleTasks|simulationEnabled|simulCloudDensity|simulCloudOcclusion|simulInClouds|simulWeatherSync|sin|size|sizeOf|skill|skillFinal|skipTime|sleep|sliderPosition|sliderRange|sliderSetPosition|sliderSetRange|sliderSetSpeed|sliderSpeed|slingLoadAssistantShown|soldierMagazines|someAmmo|sort|soundVolume|speaker|speed|speedMode|splitString|sqrt|squadParams|stance|startLoadingScreen|stop|stopEngineRTD|stopped|str|sunOrMoon|supportInfo|suppressFor|surfaceIsWater|surfaceNormal|surfaceType|swimInDepth|switchableUnits|switchAction|switchCamera|switchGesture|switchLight|switchMove|synchronizedObjects|synchronizedTriggers|synchronizedWaypoints|synchronizeObjectsAdd|synchronizeObjectsRemove|synchronizeTrigger|synchronizeWaypoint|systemChat|systemOfUnits|tan|targetKnowledge|targets|targetsAggregate|targetsQuery|taskAlwaysVisible|taskChildren|taskCompleted|taskCustomData|taskDescription|taskDestination|taskHint|taskMarkerOffset|taskNull|taskParent|taskResult|taskState|taskType|teamMember|teamMemberNull|teamName|teams|teamSwitch|teamSwitchEnabled|teamType|terminate|terrainIntersect|terrainIntersectASL|terrainIntersectAtASL|text|textLog|textLogFormat|tg|time|timeMultiplier|titleCut|titleFadeOut|titleObj|titleRsc|titleText|toArray|toFixed|toLower|toString|toUpper|triggerActivated|triggerActivation|triggerArea|triggerAttachedVehicle|triggerAttachObject|triggerAttachVehicle|triggerDynamicSimulation|triggerStatements|triggerText|triggerTimeout|triggerTimeoutCurrent|triggerType|turretLocal|turretOwner|turretUnit|tvAdd|tvClear|tvCollapse|tvCollapseAll|tvCount|tvCurSel|tvData|tvDelete|tvExpand|tvExpandAll|tvPicture|tvPictureRight|tvSetColor|tvSetCurSel|tvSetData|tvSetPicture|tvSetPictureColor|tvSetPictureColorDisabled|tvSetPictureColorSelected|tvSetPictureRight|tvSetPictureRightColor|tvSetPictureRightColorDisabled|tvSetPictureRightColorSelected|tvSetSelectColor|tvSetText|tvSetTooltip|tvSetValue|tvSort|tvSortByValue|tvText|tvTooltip|tvValue|type|typeName|typeOf|UAVControl|uiNamespace|uiSleep|unassignCurator|unassignItem|unassignTeam|unassignVehicle|underwater|uniform|uniformContainer|uniformItems|uniformMagazines|unitAddons|unitAimPosition|unitAimPositionVisual|unitBackpack|unitIsUAV|unitPos|unitReady|unitRecoilCoefficient|units|unitsBelowHeight|unlinkItem|unlockAchievement|unregisterTask|updateDrawIcon|updateMenuItem|updateObjectTree|useAIOperMapObstructionTest|useAISteeringComponent|useAudioTimeForMoves|userInputDisabled|vectorAdd|vectorCos|vectorCrossProduct|vectorDiff|vectorDir|vectorDirVisual|vectorDistance|vectorDistanceSqr|vectorDotProduct|vectorFromTo|vectorMagnitude|vectorMagnitudeSqr|vectorModelToWorld|vectorModelToWorldVisual|vectorMultiply|vectorNormalized|vectorUp|vectorUpVisual|vectorWorldToModel|vectorWorldToModelVisual|vehicle|vehicleCargoEnabled|vehicleChat|vehicleRadio|vehicleReceiveRemoteTargets|vehicleReportOwnPosition|vehicleReportRemoteTargets|vehicles|vehicleVarName|velocity|velocityModelSpace|verifySignature|vest|vestContainer|vestItems|vestMagazines|viewDistance|visibleCompass|visibleGPS|visibleMap|visiblePosition|visiblePositionASL|visibleScoretable|visibleWatch|waitUntil|waves|waypointAttachedObject|waypointAttachedVehicle|waypointAttachObject|waypointAttachVehicle|waypointBehaviour|waypointCombatMode|waypointCompletionRadius|waypointDescription|waypointForceBehaviour|waypointFormation|waypointHousePosition|waypointLoiterRadius|waypointLoiterType|waypointName|waypointPosition|waypoints|waypointScript|waypointsEnabledUAV|waypointShow|waypointSpeed|waypointStatements|waypointTimeout|waypointTimeoutCurrent|waypointType|waypointVisible|weaponAccessories|weaponAccessoriesCargo|weaponCargo|weaponDirection|weaponInertia|weaponLowered|weapons|weaponsItems|weaponsItemsCargo|weaponState|weaponsTurret|weightRTD|west|WFSideText|wind|windDir|windRTD|windStr|wingsForcesRTD|worldName|worldSize|worldToModel|worldToModelVisual|worldToScreen)\b/i,number:/(?:\$|\b0x)[\da-f]+\b|(?:\B\.\d+|\b\d+(?:\.\d+)?)(?:e[+-]?\d+)?\b/i,operator:/##|>>|&&|\|\||[!=<>]=?|[-+*/%#^]|\b(?:and|mod|not|or)\b/i,"magic-variable":{pattern:/\b(?:this|thisList|thisTrigger|_exception|_fnc_scriptName|_fnc_scriptNameParent|_forEachIndex|_this|_thisEventHandler|_thisFSM|_thisScript|_x)\b/i,alias:"keyword"},constant:/\bDIK(?:_[a-z\d]+)+\b/i}),e.languages.insertBefore("sqf","string",{macro:{pattern:/(^[ \t]*)#[a-z](?:[^\r\n\\]|\\(?:\r\n|[\s\S]))*/im,lookbehind:!0,greedy:!0,alias:"property",inside:{directive:{pattern:/#[a-z]+\b/i,alias:"keyword"},comment:e.languages.sqf.comment}}}),delete e.languages.sqf["class-name"]}uN.displayName="squirrel";uN.aliases=[];function uN(e){e.register(Kr),e.languages.squirrel=e.languages.extend("clike",{comment:[e.languages.clike.comment[0],{pattern:/(^|[^\\:])(?:\/\/|#).*/,lookbehind:!0,greedy:!0}],string:{pattern:/(^|[^\\"'@])(?:@"(?:[^"]|"")*"(?!")|"(?:[^\\\r\n"]|\\.)*")/,lookbehind:!0,greedy:!0},"class-name":{pattern:/(\b(?:class|enum|extends|instanceof)\s+)\w+(?:\.\w+)*/,lookbehind:!0,inside:{punctuation:/\./}},keyword:/\b(?:__FILE__|__LINE__|base|break|case|catch|class|clone|const|constructor|continue|default|delete|else|enum|extends|for|foreach|function|if|in|instanceof|local|null|resume|return|static|switch|this|throw|try|typeof|while|yield)\b/,number:/\b(?:0x[0-9a-fA-F]+|\d+(?:\.(?:\d+|[eE][+-]?\d+))?)\b/,operator:/\+\+|--|<=>|<[-<]|>>>?|&&?|\|\|?|[-+*/%!=<>]=?|[~^]|::?/,punctuation:/[(){}\[\],;.]/}),e.languages.insertBefore("squirrel","string",{char:{pattern:/(^|[^\\"'])'(?:[^\\']|\\(?:[xuU][0-9a-fA-F]{0,8}|[\s\S]))'/,lookbehind:!0,greedy:!0}}),e.languages.insertBefore("squirrel","operator",{"attribute-punctuation":{pattern:/<\/|\/>/,alias:"important"},lambda:{pattern:/@(?=\()/,alias:"operator"}})}dN.displayName="stan";dN.aliases=[];function dN(e){(function(t){var r=/\b(?:algebra_solver|algebra_solver_newton|integrate_1d|integrate_ode|integrate_ode_bdf|integrate_ode_rk45|map_rect|ode_(?:adams|bdf|ckrk|rk45)(?:_tol)?|ode_adjoint_tol_ctl|reduce_sum|reduce_sum_static)\b/;t.languages.stan={comment:/\/\/.*|\/\*[\s\S]*?\*\/|#(?!include).*/,string:{pattern:/"[\x20\x21\x23-\x5B\x5D-\x7E]*"/,greedy:!0},directive:{pattern:/^([ \t]*)#include\b.*/m,lookbehind:!0,alias:"property"},"function-arg":{pattern:RegExp("("+r.source+/\s*\(\s*/.source+")"+/[a-zA-Z]\w*/.source),lookbehind:!0,alias:"function"},constraint:{pattern:/(\b(?:int|matrix|real|row_vector|vector)\s*)<[^<>]*>/,lookbehind:!0,inside:{expression:{pattern:/(=\s*)\S(?:\S|\s+(?!\s))*?(?=\s*(?:>$|,\s*\w+\s*=))/,lookbehind:!0,inside:null},property:/\b[a-z]\w*(?=\s*=)/i,operator:/=/,punctuation:/^<|>$|,/}},keyword:[{pattern:/\bdata(?=\s*\{)|\b(?:functions|generated|model|parameters|quantities|transformed)\b/,alias:"program-block"},/\b(?:array|break|cholesky_factor_corr|cholesky_factor_cov|complex|continue|corr_matrix|cov_matrix|data|else|for|if|in|increment_log_prob|int|matrix|ordered|positive_ordered|print|real|reject|return|row_vector|simplex|target|unit_vector|vector|void|while)\b/,r],function:/\b[a-z]\w*(?=\s*\()/i,number:/(?:\b\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\B\.\d+(?:_\d+)*)(?:E[+-]?\d+(?:_\d+)*)?i?(?!\w)/i,boolean:/\b(?:false|true)\b/,operator:/<-|\.[*/]=?|\|\|?|&&|[!=<>+\-*/]=?|['^%~?:]/,punctuation:/[()\[\]{},;]/},t.languages.stan.constraint.inside.expression.inside=t.languages.stan})(e)}pN.displayName="stata";pN.aliases=[];function pN(e){e.register(Bu),e.register(Mx),e.register(Xm),e.languages.stata={comment:[{pattern:/(^[ \t]*)\*.*/m,lookbehind:!0,greedy:!0},{pattern:/(^|\s)\/\/.*|\/\*[\s\S]*?\*\//,lookbehind:!0,greedy:!0}],"string-literal":{pattern:/"[^"\r\n]*"|[`']".*?"[`']/,greedy:!0,inside:{interpolation:{pattern:/\$\{[^{}]*\}|[`']\w[^`'\r\n]*[`']/,inside:{punctuation:/^\$\{|\}$/,expression:{pattern:/[\s\S]+/,inside:null}}},string:/[\s\S]+/}},mata:{pattern:/(^[ \t]*mata[ \t]*:)[\s\S]+?(?=^end\b)/m,lookbehind:!0,greedy:!0,alias:"language-mata",inside:e.languages.mata},java:{pattern:/(^[ \t]*java[ \t]*:)[\s\S]+?(?=^end\b)/m,lookbehind:!0,greedy:!0,alias:"language-java",inside:e.languages.java},python:{pattern:/(^[ \t]*python[ \t]*:)[\s\S]+?(?=^end\b)/m,lookbehind:!0,greedy:!0,alias:"language-python",inside:e.languages.python},command:{pattern:/(^[ \t]*(?:\.[ \t]+)?(?:(?:bayes|bootstrap|by|bysort|capture|collect|fmm|fp|frame|jackknife|mfp|mi|nestreg|noisily|permute|quietly|rolling|simulate|statsby|stepwise|svy|version|xi)\b[^:\r\n]*:[ \t]*|(?:capture|noisily|quietly|version)[ \t]+)?)[a-zA-Z]\w*/m,lookbehind:!0,greedy:!0,alias:"keyword"},variable:/\$\w+|[`']\w[^`'\r\n]*[`']/,keyword:/\b(?:bayes|bootstrap|by|bysort|capture|clear|collect|fmm|fp|frame|if|in|jackknife|mi[ \t]+estimate|mfp|nestreg|noisily|of|permute|quietly|rolling|simulate|sort|statsby|stepwise|svy|varlist|version|xi)\b/,boolean:/\b(?:off|on)\b/,number:/\b\d+(?:\.\d+)?\b|\B\.\d+/,function:/\b[a-z_]\w*(?=\()/i,operator:/\+\+|--|##?|[<>!=~]=?|[+\-*^&|/]/,punctuation:/[(){}[\],:]/},e.languages.stata["string-literal"].inside.interpolation.inside.expression.inside=e.languages.stata}hN.displayName="iecst";hN.aliases=[];function hN(e){e.languages.iecst={comment:[{pattern:/(^|[^\\])(?:\/\*[\s\S]*?(?:\*\/|$)|\(\*[\s\S]*?(?:\*\)|$)|\{[\s\S]*?(?:\}|$))/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},keyword:[/\b(?:END_)?(?:PROGRAM|CONFIGURATION|INTERFACE|FUNCTION_BLOCK|FUNCTION|ACTION|TRANSITION|TYPE|STRUCT|(?:INITIAL_)?STEP|NAMESPACE|LIBRARY|CHANNEL|FOLDER|RESOURCE|VAR_(?:ACCESS|CONFIG|EXTERNAL|GLOBAL|INPUT|IN_OUT|OUTPUT|TEMP)|VAR|METHOD|PROPERTY)\b/i,/\b(?:AT|BY|(?:END_)?(?:CASE|FOR|IF|REPEAT|WHILE)|CONSTANT|CONTINUE|DO|ELSE|ELSIF|EXIT|EXTENDS|FROM|GET|GOTO|IMPLEMENTS|JMP|NON_RETAIN|OF|PRIVATE|PROTECTED|PUBLIC|RETAIN|RETURN|SET|TASK|THEN|TO|UNTIL|USING|WITH|__CATCH|__ENDTRY|__FINALLY|__TRY)\b/],"class-name":/\b(?:ANY|ARRAY|BOOL|BYTE|U?(?:D|L|S)?INT|(?:D|L)?WORD|DATE(?:_AND_TIME)?|DT|L?REAL|POINTER|STRING|TIME(?:_OF_DAY)?|TOD)\b/,address:{pattern:/%[IQM][XBWDL][\d.]*|%[IQ][\d.]*/,alias:"symbol"},number:/\b(?:16#[\da-f]+|2#[01_]+|0x[\da-f]+)\b|\b(?:D|DT|T|TOD)#[\d_shmd:]*|\b[A-Z]*#[\d.,_]*|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,boolean:/\b(?:FALSE|NULL|TRUE)\b/,operator:/S?R?:?=>?|&&?|\*\*?|<[=>]?|>=?|[-:^/+#]|\b(?:AND|EQ|EXPT|GE|GT|LE|LT|MOD|NE|NOT|OR|XOR)\b/,function:/\b[a-z_]\w*(?=\s*\()/i,punctuation:/[()[\].,;]/}}gN.displayName="supercollider";gN.aliases=["sclang"];function gN(e){e.languages.supercollider={comment:{pattern:/\/\/.*|\/\*(?:[^*/]|\*(?!\/)|\/(?!\*)|\/\*(?:[^*]|\*(?!\/))*\*\/)*\*\//,greedy:!0},string:{pattern:/(^|[^\\])"(?:[^"\\]|\\[\s\S])*"/,lookbehind:!0,greedy:!0},char:{pattern:/\$(?:[^\\\r\n]|\\.)/,greedy:!0},symbol:{pattern:/(^|[^\\])'(?:[^'\\]|\\[\s\S])*'|\\\w+/,lookbehind:!0,greedy:!0},keyword:/\b(?:_|arg|classvar|const|nil|var|while)\b/,boolean:/\b(?:false|true)\b/,label:{pattern:/\b[a-z_]\w*(?=\s*:)/,alias:"property"},number:/\b(?:inf|pi|0x[0-9a-fA-F]+|\d+(?:\.\d+)?(?:[eE][+-]?\d+)?(?:pi)?|\d+r[0-9a-zA-Z]+(?:\.[0-9a-zA-Z]+)?|\d+[sb]{1,4}\d*)\b/,"class-name":/\b[A-Z]\w*\b/,operator:/\.{2,3}|#(?![[{])|&&|[!=]==?|\+>>|\+{1,3}|-[->]|=>|>>|\?\?|@\|?@|\|(?:@|[!=]=)?\||!\?|<[!=>]|\*{1,2}|<{2,3}\*?|[-!%&/<>?@|=`]/,punctuation:/[{}()[\].:,;]|#[[{]/},e.languages.sclang=e.languages.supercollider}mN.displayName="systemd";mN.aliases=[];function mN(e){(function(t){var r={pattern:/^[;#].*/m,greedy:!0},n=/"(?:[^\r\n"\\]|\\(?:[^\r]|\r\n?))*"(?!\S)/.source;t.languages.systemd={comment:r,section:{pattern:/^\[[^\n\r\[\]]*\](?=[ \t]*$)/m,greedy:!0,inside:{punctuation:/^\[|\]$/,"section-name":{pattern:/[\s\S]+/,alias:"selector"}}},key:{pattern:/^[^\s=]+(?=[ \t]*=)/m,greedy:!0,alias:"attr-name"},value:{pattern:RegExp(/(=[ \t]*(?!\s))/.source+"(?:"+n+`|(?=[^"\r
]))(?:`+(/[^\s\\]/.source+'|[ 	]+(?:(?![ 	"])|'+n+")|"+/\\[\r\n]+(?:[#;].*[\r\n]+)*(?![#;])/.source)+")*"),lookbehind:!0,greedy:!0,alias:"attr-value",inside:{comment:r,quoted:{pattern:RegExp(/(^|\s)/.source+n),lookbehind:!0,greedy:!0},punctuation:/\\$/m,boolean:{pattern:/^(?:false|no|off|on|true|yes)$/,greedy:!0}}},punctuation:/=/}})(e)}nf.displayName="t4-templating";nf.aliases=[];function nf(e){(function(t){function r(a,i,o){return{pattern:RegExp("<#"+a+"[\\s\\S]*?#>"),alias:"block",inside:{delimiter:{pattern:RegExp("^<#"+a+"|#>$"),alias:"important"},content:{pattern:/[\s\S]+/,inside:i,alias:o}}}}function n(a){var i=t.languages[a],o="language-"+a;return{block:{pattern:/<#[\s\S]+?#>/,inside:{directive:r("@",{"attr-value":{pattern:/=(?:("|')(?:\\[\s\S]|(?!\1)[^\\])*\1|[^\s'">=]+)/,inside:{punctuation:/^=|^["']|["']$/}},keyword:/\b\w+(?=\s)/,"attr-name":/\b\w+/}),expression:r("=",i,o),"class-feature":r("\\+",i,o),standard:r("",i,o)}}}}t.languages["t4-templating"]=Object.defineProperty({},"createT4",{value:n})})(e)}fN.displayName="t4-cs";fN.aliases=["t4"];function fN(e){e.register(Fu),e.register(nf),e.languages.t4=e.languages["t4-cs"]=e.languages["t4-templating"].createT4("csharp")}bN.displayName="t4-vb";bN.aliases=[];function bN(e){e.register(nf),e.register(Jm),e.languages["t4-vb"]=e.languages["t4-templating"].createT4("vbnet")}yN.displayName="tap";yN.aliases=[];function yN(e){e.register(Qm),e.languages.tap={fail:/not ok[^#{\n\r]*/,pass:/ok[^#{\n\r]*/,pragma:/pragma [+-][a-z]+/,bailout:/bail out!.*/i,version:/TAP version \d+/i,plan:/\b\d+\.\.\d+(?: +#.*)?/,subtest:{pattern:/# Subtest(?:: .*)?/,greedy:!0},punctuation:/[{}]/,directive:/#.*/,yamlish:{pattern:/(^[ \t]*)---[\s\S]*?[\r\n][ \t]*\.\.\.$/m,lookbehind:!0,inside:e.languages.yaml,alias:"language-yaml"}}}xN.displayName="tcl";xN.aliases=[];function xN(e){e.languages.tcl={comment:{pattern:/(^|[^\\])#.*/,lookbehind:!0},string:{pattern:/"(?:[^"\\\r\n]|\\(?:\r\n|[\s\S]))*"/,greedy:!0},variable:[{pattern:/(\$)(?:::)?(?:[a-zA-Z0-9]+::)*\w+/,lookbehind:!0},{pattern:/(\$)\{[^}]+\}/,lookbehind:!0},{pattern:/(^[\t ]*set[ \t]+)(?:::)?(?:[a-zA-Z0-9]+::)*\w+/m,lookbehind:!0}],function:{pattern:/(^[\t ]*proc[ \t]+)\S+/m,lookbehind:!0},builtin:[{pattern:/(^[\t ]*)(?:break|class|continue|error|eval|exit|for|foreach|if|proc|return|switch|while)\b/m,lookbehind:!0},/\b(?:else|elseif)\b/],scope:{pattern:/(^[\t ]*)(?:global|upvar|variable)\b/m,lookbehind:!0,alias:"constant"},keyword:{pattern:/(^[\t ]*|\[)(?:Safe_Base|Tcl|after|append|apply|array|auto_(?:execok|import|load|mkindex|qualify|reset)|automkindex_old|bgerror|binary|catch|cd|chan|clock|close|concat|dde|dict|encoding|eof|exec|expr|fblocked|fconfigure|fcopy|file(?:event|name)?|flush|gets|glob|history|http|incr|info|interp|join|lappend|lassign|lindex|linsert|list|llength|load|lrange|lrepeat|lreplace|lreverse|lsearch|lset|lsort|math(?:func|op)|memory|msgcat|namespace|open|package|parray|pid|pkg_mkIndex|platform|puts|pwd|re_syntax|read|refchan|regexp|registry|regsub|rename|scan|seek|set|socket|source|split|string|subst|tcl(?:_endOfWord|_findLibrary|startOf(?:Next|Previous)Word|test|vars|wordBreak(?:After|Before))|tell|time|tm|trace|unknown|unload|unset|update|uplevel|vwait)\b/m,lookbehind:!0},operator:/!=?|\*\*?|==|&&?|\|\|?|<[=<]?|>[=>]?|[-+~\/%?^]|\b(?:eq|in|ne|ni)\b/,punctuation:/[{}()\[\]]/}}EN.displayName="tt2";EN.aliases=[];function EN(e){e.register(Kr),e.register(rs),(function(t){t.languages.tt2=t.languages.extend("clike",{comment:/#.*|\[%#[\s\S]*?%\]/,keyword:/\b(?:BLOCK|CALL|CASE|CATCH|CLEAR|DEBUG|DEFAULT|ELSE|ELSIF|END|FILTER|FINAL|FOREACH|GET|IF|IN|INCLUDE|INSERT|LAST|MACRO|META|NEXT|PERL|PROCESS|RAWPERL|RETURN|SET|STOP|SWITCH|TAGS|THROW|TRY|UNLESS|USE|WHILE|WRAPPER)\b/,punctuation:/[[\]{},()]/}),t.languages.insertBefore("tt2","number",{operator:/=[>=]?|!=?|<=?|>=?|&&|\|\|?|\b(?:and|not|or)\b/,variable:{pattern:/\b[a-z]\w*(?:\s*\.\s*(?:\d+|\$?[a-z]\w*))*\b/i}}),t.languages.insertBefore("tt2","keyword",{delimiter:{pattern:/^(?:\[%|%%)-?|-?%\]$/,alias:"punctuation"}}),t.languages.insertBefore("tt2","string",{"single-quoted-string":{pattern:/'[^\\']*(?:\\[\s\S][^\\']*)*'/,greedy:!0,alias:"string"},"double-quoted-string":{pattern:/"[^\\"]*(?:\\[\s\S][^\\"]*)*"/,greedy:!0,alias:"string",inside:{variable:{pattern:/\$(?:[a-z]\w*(?:\.(?:\d+|\$?[a-z]\w*))*)/i}}}}),delete t.languages.tt2.string,t.hooks.add("before-tokenize",function(r){var n=/\[%[\s\S]+?%\]/g;t.languages["markup-templating"].buildPlaceholders(r,"tt2",n)}),t.hooks.add("after-tokenize",function(r){t.languages["markup-templating"].tokenizePlaceholders(r,"tt2")})})(e)}vN.displayName="toml";vN.aliases=[];function vN(e){(function(t){var r=/(?:[\w-]+|'[^'\n\r]*'|"(?:\\.|[^\\"\r\n])*")/.source;function n(a){return a.replace(/__/g,function(){return r})}t.languages.toml={comment:{pattern:/#.*/,greedy:!0},table:{pattern:RegExp(n(/(^[\t ]*\[\s*(?:\[\s*)?)__(?:\s*\.\s*__)*(?=\s*\])/.source),"m"),lookbehind:!0,greedy:!0,alias:"class-name"},key:{pattern:RegExp(n(/(^[\t ]*|[{,]\s*)__(?:\s*\.\s*__)*(?=\s*=)/.source),"m"),lookbehind:!0,greedy:!0,alias:"property"},string:{pattern:/"""(?:\\[\s\S]|[^\\])*?"""|'''[\s\S]*?'''|'[^'\n\r]*'|"(?:\\.|[^\\"\r\n])*"/,greedy:!0},date:[{pattern:/\b\d{4}-\d{2}-\d{2}(?:[T\s]\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|[+-]\d{2}:\d{2})?)?\b/i,alias:"number"},{pattern:/\b\d{2}:\d{2}:\d{2}(?:\.\d+)?\b/,alias:"number"}],number:/(?:\b0(?:x[\da-zA-Z]+(?:_[\da-zA-Z]+)*|o[0-7]+(?:_[0-7]+)*|b[10]+(?:_[10]+)*))\b|[-+]?\b\d+(?:_\d+)*(?:\.\d+(?:_\d+)*)?(?:[eE][+-]?\d+(?:_\d+)*)?\b|[-+]?\b(?:inf|nan)\b/,boolean:/\b(?:false|true)\b/,punctuation:/[.,=[\]{}]/}})(e)}SN.displayName="tremor";SN.aliases=["trickle","troy"];function SN(e){(function(t){t.languages.tremor={comment:{pattern:/(^|[^\\])(?:\/\*[\s\S]*?\*\/|(?:--|\/\/|#).*)/,lookbehind:!0},"interpolated-string":null,extractor:{pattern:/\b[a-z_]\w*\|(?:[^\r\n\\|]|\\(?:\r\n|[\s\S]))*\|/i,greedy:!0,inside:{regex:{pattern:/(^re)\|[\s\S]+/,lookbehind:!0},function:/^\w+/,value:/\|[\s\S]+/}},identifier:{pattern:/`[^`]*`/,greedy:!0},function:/\b[a-z_]\w*(?=\s*(?:::\s*<|\())\b/,keyword:/\b(?:args|as|by|case|config|connect|connector|const|copy|create|default|define|deploy|drop|each|emit|end|erase|event|flow|fn|for|from|group|having|insert|into|intrinsic|let|links|match|merge|mod|move|of|operator|patch|pipeline|recur|script|select|set|sliding|state|stream|to|tumbling|update|use|when|where|window|with)\b/,boolean:/\b(?:false|null|true)\b/i,number:/\b(?:0b[01_]*|0x[0-9a-fA-F_]*|\d[\d_]*(?:\.\d[\d_]*)?(?:[Ee][+-]?[\d_]+)?)\b/,"pattern-punctuation":{pattern:/%(?=[({[])/,alias:"punctuation"},operator:/[-+*\/%~!^]=?|=[=>]?|&[&=]?|\|[|=]?|<<?=?|>>?>?=?|(?:absent|and|not|or|present|xor)\b/,punctuation:/::|[;\[\]()\{\},.:]/};var r=/#\{(?:[^"{}]|\{[^{}]*\}|"(?:[^"\\\r\n]|\\(?:\r\n|[\s\S]))*")*\}/.source;t.languages.tremor["interpolated-string"]={pattern:RegExp(/(^|[^\\])/.source+'(?:"""(?:'+/[^"\\#]|\\[\s\S]|"(?!"")|#(?!\{)/.source+"|"+r+')*"""|"(?:'+/[^"\\\r\n#]|\\(?:\r\n|[\s\S])|#(?!\{)/.source+"|"+r+')*")'),lookbehind:!0,greedy:!0,inside:{interpolation:{pattern:RegExp(r),inside:{punctuation:/^#\{|\}$/,expression:{pattern:/[\s\S]+/,inside:t.languages.tremor}}},string:/[\s\S]+/}},t.languages.troy=t.languages.tremor,t.languages.trickle=t.languages.tremor})(e)}TN.displayName="typoscript";TN.aliases=["tsconfig"];function TN(e){(function(t){var r=/\b(?:ACT|ACTIFSUB|CARRAY|CASE|CLEARGIF|COA|COA_INT|CONSTANTS|CONTENT|CUR|EDITPANEL|EFFECT|EXT|FILE|FLUIDTEMPLATE|FORM|FRAME|FRAMESET|GIFBUILDER|GMENU|GMENU_FOLDOUT|GMENU_LAYERS|GP|HMENU|HRULER|HTML|IENV|IFSUB|IMAGE|IMGMENU|IMGMENUITEM|IMGTEXT|IMG_RESOURCE|INCLUDE_TYPOSCRIPT|JSMENU|JSMENUITEM|LLL|LOAD_REGISTER|NO|PAGE|RECORDS|RESTORE_REGISTER|TEMPLATE|TEXT|TMENU|TMENUITEM|TMENU_LAYERS|USER|USER_INT|_GIFBUILDER|global|globalString|globalVar)\b/;t.languages.typoscript={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0},{pattern:/(^|[^\\:= \t]|(?:^|[^= \t])[ \t]+)\/\/.*/,lookbehind:!0,greedy:!0},{pattern:/(^|[^"'])#.*/,lookbehind:!0,greedy:!0}],function:[{pattern:/<INCLUDE_TYPOSCRIPT:\s*source\s*=\s*(?:"[^"\r\n]*"|'[^'\r\n]*')\s*>/,inside:{string:{pattern:/"[^"\r\n]*"|'[^'\r\n]*'/,inside:{keyword:r}},keyword:{pattern:/INCLUDE_TYPOSCRIPT/}}},{pattern:/@import\s*(?:"[^"\r\n]*"|'[^'\r\n]*')/,inside:{string:/"[^"\r\n]*"|'[^'\r\n]*'/}}],string:{pattern:/^([^=]*=[< ]?)(?:(?!\]\n).)*/,lookbehind:!0,inside:{function:/\{\$.*\}/,keyword:r,number:/^\d+$/,punctuation:/[,|:]/}},keyword:r,number:{pattern:/\b\d+\s*[.{=]/,inside:{operator:/[.{=]/}},tag:{pattern:/\.?[-\w\\]+\.?/,inside:{punctuation:/\./}},punctuation:/[{}[\];(),.:|]/,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/},t.languages.tsconfig=t.languages.typoscript})(e)}wN.displayName="unrealscript";wN.aliases=["uc","uscript"];function wN(e){e.languages.unrealscript={comment:/\/\/.*|\/\*[\s\S]*?\*\//,string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},category:{pattern:/(\b(?:(?:autoexpand|hide|show)categories|var)\s*\()[^()]+(?=\))/,lookbehind:!0,greedy:!0,alias:"property"},metadata:{pattern:/(\w\s*)<\s*\w+\s*=[^<>|=\r\n]+(?:\|\s*\w+\s*=[^<>|=\r\n]+)*>/,lookbehind:!0,greedy:!0,inside:{property:/\b\w+(?=\s*=)/,operator:/=/,punctuation:/[<>|]/}},macro:{pattern:/`\w+/,alias:"property"},"class-name":{pattern:/(\b(?:class|enum|extends|interface|state(?:\(\))?|struct|within)\s+)\w+/,lookbehind:!0},keyword:/\b(?:abstract|actor|array|auto|autoexpandcategories|bool|break|byte|case|class|classgroup|client|coerce|collapsecategories|config|const|continue|default|defaultproperties|delegate|dependson|deprecated|do|dontcollapsecategories|editconst|editinlinenew|else|enum|event|exec|export|extends|final|float|for|forcescriptorder|foreach|function|goto|guid|hidecategories|hidedropdown|if|ignores|implements|inherits|input|int|interface|iterator|latent|local|material|name|native|nativereplication|noexport|nontransient|noteditinlinenew|notplaceable|operator|optional|out|pawn|perobjectconfig|perobjectlocalized|placeable|postoperator|preoperator|private|protected|reliable|replication|return|server|showcategories|simulated|singular|state|static|string|struct|structdefault|structdefaultproperties|switch|texture|transient|travel|unreliable|until|var|vector|while|within)\b/,function:/\b[a-z_]\w*(?=\s*\()/i,boolean:/\b(?:false|true)\b/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/>>|<<|--|\+\+|\*\*|[-+*/~!=<>$@]=?|&&?|\|\|?|\^\^?|[?:%]|\b(?:ClockwiseFrom|Cross|Dot)\b/,punctuation:/[()[\]{};,.]/},e.languages.uc=e.languages.uscript=e.languages.unrealscript}kN.displayName="uorazor";kN.aliases=[];function kN(e){e.languages.uorazor={"comment-hash":{pattern:/#.*/,alias:"comment",greedy:!0},"comment-slash":{pattern:/\/\/.*/,alias:"comment",greedy:!0},string:{pattern:/("|')(?:\\.|(?!\1)[^\\\r\n])*\1/,inside:{punctuation:/^['"]|['"]$/},greedy:!0},"source-layers":{pattern:/\b(?:arms|backpack|blue|bracelet|cancel|clear|cloak|criminal|earrings|enemy|facialhair|friend|friendly|gloves|gray|grey|ground|hair|head|innerlegs|innertorso|innocent|lefthand|middletorso|murderer|neck|nonfriendly|onehandedsecondary|outerlegs|outertorso|pants|red|righthand|ring|self|shirt|shoes|talisman|waist)\b/i,alias:"function"},"source-commands":{pattern:/\b(?:alliance|attack|cast|clearall|clearignore|clearjournal|clearlist|clearsysmsg|createlist|createtimer|dclick|dclicktype|dclickvar|dress|dressconfig|drop|droprelloc|emote|getlabel|guild|gumpclose|gumpresponse|hotkey|ignore|lasttarget|lift|lifttype|menu|menuresponse|msg|org|organize|organizer|overhead|pause|poplist|potion|promptresponse|pushlist|removelist|removetimer|rename|restock|say|scav|scavenger|script|setability|setlasttarget|setskill|settimer|setvar|sysmsg|target|targetloc|targetrelloc|targettype|undress|unignore|unsetvar|useobject|useonce|useskill|usetype|virtue|wait|waitforgump|waitformenu|waitforprompt|waitforstat|waitforsysmsg|waitfortarget|walk|wfsysmsg|wft|whisper|yell)\b/,alias:"function"},"tag-name":{pattern:/(^\{%-?\s*)\w+/,lookbehind:!0,alias:"keyword"},delimiter:{pattern:/^\{[{%]-?|-?[%}]\}$/,alias:"punctuation"},function:/\b(?:atlist|close|closest|count|counter|counttype|dead|dex|diffhits|diffmana|diffstam|diffweight|find|findbuff|finddebuff|findlayer|findtype|findtypelist|followers|gumpexists|hidden|hits|hp|hue|human|humanoid|ingump|inlist|insysmessage|insysmsg|int|invul|lhandempty|list|listexists|mana|maxhits|maxhp|maxmana|maxstam|maxweight|monster|mounted|name|next|noto|paralyzed|poisoned|position|prev|previous|queued|rand|random|rhandempty|skill|stam|str|targetexists|timer|timerexists|varexist|warmode|weight)\b/,keyword:/\b(?:and|as|break|continue|else|elseif|endfor|endif|endwhile|for|if|loop|not|or|replay|stop|while)\b/,boolean:/\b(?:false|null|true)\b/,number:/\b0x[\dA-Fa-f]+|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:[Ee][-+]?\d+)?/,operator:[{pattern:/(\s)(?:and|b-and|b-or|b-xor|ends with|in|is|matches|not|or|same as|starts with)(?=\s)/,lookbehind:!0},/[=<>]=?|!=|\*\*?|\/\/?|\?:?|[-+~%|]/],punctuation:/[()\[\]{}:.,]/}}CN.displayName="v";CN.aliases=[];function CN(e){e.register(Kr),(function(t){var r={pattern:/[\s\S]+/,inside:null};t.languages.v=t.languages.extend("clike",{string:{pattern:/r?(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,alias:"quoted-string",greedy:!0,inside:{interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$(?:\{[^{}]*\}|\w+(?:\.\w+(?:\([^\(\)]*\))?|\[[^\[\]]+\])*)/,lookbehind:!0,inside:{"interpolation-variable":{pattern:/^\$\w[\s\S]*$/,alias:"variable"},"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},"interpolation-expression":r}}}},"class-name":{pattern:/(\b(?:enum|interface|struct|type)\s+)(?:C\.)?\w+/,lookbehind:!0},keyword:/(?:\b(?:__global|as|asm|assert|atomic|break|chan|const|continue|defer|else|embed|enum|fn|for|go(?:to)?|if|import|in|interface|is|lock|match|module|mut|none|or|pub|return|rlock|select|shared|sizeof|static|struct|type(?:of)?|union|unsafe)|\$(?:else|for|if)|#(?:flag|include))\b/,number:/\b(?:0x[a-f\d]+(?:_[a-f\d]+)*|0b[01]+(?:_[01]+)*|0o[0-7]+(?:_[0-7]+)*|\d+(?:_\d+)*(?:\.\d+(?:_\d+)*)?)\b/i,operator:/~|\?|[*\/%^!=]=?|\+[=+]?|-[=-]?|\|[=|]?|&(?:=|&|\^=?)?|>(?:>=?|=)?|<(?:<=?|=|-)?|:=|\.\.\.?/,builtin:/\b(?:any(?:_float|_int)?|bool|byte(?:ptr)?|charptr|f(?:32|64)|i(?:8|16|64|128|nt)|rune|size_t|string|u(?:16|32|64|128)|voidptr)\b/}),r.inside=t.languages.v,t.languages.insertBefore("v","string",{char:{pattern:/`(?:\\`|\\?[^`]{1,2})`/,alias:"rune"}}),t.languages.insertBefore("v","operator",{attribute:{pattern:/(^[\t ]*)\[(?:deprecated|direct_array_access|flag|inline|live|ref_only|typedef|unsafe_fn|windows_stdcall)\]/m,lookbehind:!0,alias:"annotation",inside:{punctuation:/[\[\]]/,keyword:/\w+/}},generic:{pattern:/<\w+>(?=\s*[\)\{])/,inside:{punctuation:/[<>]/,"class-name":/\w+/}}}),t.languages.insertBefore("v","function",{"generic-function":{pattern:/\b\w+\s*<\w+>(?=\()/,inside:{function:/^\w+/,generic:{pattern:/<\w+>/,inside:t.languages.v.generic.inside}}}})})(e)}_N.displayName="vala";_N.aliases=[];function _N(e){e.register(Kr),e.languages.vala=e.languages.extend("clike",{"class-name":[{pattern:/\b[A-Z]\w*(?:\.\w+)*\b(?=(?:\?\s+|\*?\s+\*?)\w)/,inside:{punctuation:/\./}},{pattern:/(\[)[A-Z]\w*(?:\.\w+)*\b/,lookbehind:!0,inside:{punctuation:/\./}},{pattern:/(\b(?:class|interface)\s+[A-Z]\w*(?:\.\w+)*\s*:\s*)[A-Z]\w*(?:\.\w+)*\b/,lookbehind:!0,inside:{punctuation:/\./}},{pattern:/((?:\b(?:class|enum|interface|new|struct)\s+)|(?:catch\s+\())[A-Z]\w*(?:\.\w+)*\b/,lookbehind:!0,inside:{punctuation:/\./}}],keyword:/\b(?:abstract|as|assert|async|base|bool|break|case|catch|char|class|const|construct|continue|default|delegate|delete|do|double|dynamic|else|ensures|enum|errordomain|extern|finally|float|for|foreach|get|if|in|inline|int|int16|int32|int64|int8|interface|internal|is|lock|long|namespace|new|null|out|override|owned|params|private|protected|public|ref|requires|return|set|short|signal|sizeof|size_t|ssize_t|static|string|struct|switch|this|throw|throws|try|typeof|uchar|uint|uint16|uint32|uint64|uint8|ulong|unichar|unowned|ushort|using|value|var|virtual|void|volatile|weak|while|yield)\b/i,function:/\b\w+(?=\s*\()/,number:/(?:\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?)(?:f|u?l?)?/i,operator:/\+\+|--|&&|\|\||<<=?|>>=?|=>|->|~|[+\-*\/%&^|=!<>]=?|\?\??|\.\.\./,punctuation:/[{}[\];(),.:]/,constant:/\b[A-Z0-9_]+\b/}),e.languages.insertBefore("vala","string",{"raw-string":{pattern:/"""[\s\S]*?"""/,greedy:!0,alias:"string"},"template-string":{pattern:/@"[\s\S]*?"/,greedy:!0,inside:{interpolation:{pattern:/\$(?:\([^)]*\)|[a-zA-Z]\w*)/,inside:{delimiter:{pattern:/^\$\(?|\)$/,alias:"punctuation"},rest:e.languages.vala}},string:/[\s\S]+/}}}),e.languages.insertBefore("vala","keyword",{regex:{pattern:/\/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[imsx]{0,4}(?=\s*(?:$|[\r\n,.;})\]]))/,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:e.languages.regex},"regex-delimiter":/^\//,"regex-flags":/^[a-z]+$/}}})}AN.displayName="velocity";AN.aliases=[];function AN(e){e.register(Ga),(function(t){t.languages.velocity=t.languages.extend("markup",{});var r={variable:{pattern:/(^|[^\\](?:\\\\)*)\$!?(?:[a-z][\w-]*(?:\([^)]*\))?(?:\.[a-z][\w-]*(?:\([^)]*\))?|\[[^\]]+\])*|\{[^}]+\})/i,lookbehind:!0,inside:{}},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},number:/\b\d+\b/,boolean:/\b(?:false|true)\b/,operator:/[=!<>]=?|[+*/%-]|&&|\|\||\.\.|\b(?:eq|g[et]|l[et]|n(?:e|ot))\b/,punctuation:/[(){}[\]:,.]/};r.variable.inside={string:r.string,function:{pattern:/([^\w-])[a-z][\w-]*(?=\()/,lookbehind:!0},number:r.number,boolean:r.boolean,punctuation:r.punctuation},t.languages.insertBefore("velocity","comment",{unparsed:{pattern:/(^|[^\\])#\[\[[\s\S]*?\]\]#/,lookbehind:!0,greedy:!0,inside:{punctuation:/^#\[\[|\]\]#$/}},"velocity-comment":[{pattern:/(^|[^\\])#\*[\s\S]*?\*#/,lookbehind:!0,greedy:!0,alias:"comment"},{pattern:/(^|[^\\])##.*/,lookbehind:!0,greedy:!0,alias:"comment"}],directive:{pattern:/(^|[^\\](?:\\\\)*)#@?(?:[a-z][\w-]*|\{[a-z][\w-]*\})(?:\s*\((?:[^()]|\([^()]*\))*\))?/i,lookbehind:!0,inside:{keyword:{pattern:/^#@?(?:[a-z][\w-]*|\{[a-z][\w-]*\})|\bin\b/,inside:{punctuation:/[{}]/}},rest:r}},variable:r.variable}),t.languages.velocity.tag.inside["attr-value"].inside.rest=t.languages.velocity})(e)}NN.displayName="verilog";NN.aliases=[];function NN(e){e.languages.verilog={comment:{pattern:/\/\/.*|\/\*[\s\S]*?\*\//,greedy:!0},string:{pattern:/"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"/,greedy:!0},"kernel-function":{pattern:/\B\$\w+\b/,alias:"property"},constant:/\B`\w+\b/,function:/\b\w+(?=\()/,keyword:/\b(?:alias|and|assert|assign|assume|automatic|before|begin|bind|bins|binsof|bit|break|buf|bufif0|bufif1|byte|case|casex|casez|cell|chandle|class|clocking|cmos|config|const|constraint|context|continue|cover|covergroup|coverpoint|cross|deassign|default|defparam|design|disable|dist|do|edge|else|end|endcase|endclass|endclocking|endconfig|endfunction|endgenerate|endgroup|endinterface|endmodule|endpackage|endprimitive|endprogram|endproperty|endsequence|endspecify|endtable|endtask|enum|event|expect|export|extends|extern|final|first_match|for|force|foreach|forever|fork|forkjoin|function|generate|genvar|highz0|highz1|if|iff|ifnone|ignore_bins|illegal_bins|import|incdir|include|initial|inout|input|inside|instance|int|integer|interface|intersect|join|join_any|join_none|large|liblist|library|local|localparam|logic|longint|macromodule|matches|medium|modport|module|nand|negedge|new|nmos|nor|noshowcancelled|not|notif0|notif1|null|or|output|package|packed|parameter|pmos|posedge|primitive|priority|program|property|protected|pull0|pull1|pulldown|pullup|pulsestyle_ondetect|pulsestyle_onevent|pure|rand|randc|randcase|randsequence|rcmos|real|realtime|ref|reg|release|repeat|return|rnmos|rpmos|rtran|rtranif0|rtranif1|scalared|sequence|shortint|shortreal|showcancelled|signed|small|solve|specify|specparam|static|string|strong0|strong1|struct|super|supply0|supply1|table|tagged|task|this|throughout|time|timeprecision|timeunit|tran|tranif0|tranif1|tri|tri0|tri1|triand|trior|trireg|type|typedef|union|unique|unsigned|use|uwire|var|vectored|virtual|void|wait|wait_order|wand|weak0|weak1|while|wildcard|wire|with|within|wor|xnor|xor)\b/,important:/\b(?:always|always_comb|always_ff|always_latch)\b(?: *@)?/,number:/\B##?\d+|(?:\b\d+)?'[odbh] ?[\da-fzx_?]+|\b(?:\d*[._])?\d+(?:e[-+]?\d+)?/i,operator:/[-+{}^~%*\/?=!<>&|]+/,punctuation:/[[\];(),.:]/}}IN.displayName="vhdl";IN.aliases=[];function IN(e){e.languages.vhdl={comment:/--.+/,"vhdl-vectors":{pattern:/\b[oxb]"[\da-f_]+"|"[01uxzwlh-]+"/i,alias:"number"},"quoted-function":{pattern:/"\S+?"(?=\()/,alias:"function"},string:/"(?:[^\\"\r\n]|\\(?:\r\n|[\s\S]))*"/,attribute:{pattern:/\b'\w+/,alias:"attr-name"},keyword:/\b(?:access|after|alias|all|architecture|array|assert|attribute|begin|block|body|buffer|bus|case|component|configuration|constant|disconnect|downto|else|elsif|end|entity|exit|file|for|function|generate|generic|group|guarded|if|impure|in|inertial|inout|is|label|library|linkage|literal|loop|map|new|next|null|of|on|open|others|out|package|port|postponed|private|procedure|process|pure|range|record|register|reject|report|return|select|severity|shared|signal|subtype|then|to|transport|type|unaffected|units|until|use|variable|view|wait|when|while|with)\b/i,boolean:/\b(?:false|true)\b/i,function:/\w+(?=\()/,number:/'[01uxzwlh-]'|\b(?:\d+#[\da-f_.]+#|\d[\d_.]*)(?:e[-+]?\d+)?/i,operator:/[<>]=?|:=|[-+*/&=]|\b(?:abs|and|mod|nand|nor|not|or|rem|rol|ror|sla|sll|sra|srl|xnor|xor)\b/i,punctuation:/[{}[\];(),.:]/}}RN.displayName="vim";RN.aliases=[];function RN(e){e.languages.vim={string:/"(?:[^"\\\r\n]|\\.)*"|'(?:[^'\r\n]|'')*'/,comment:/".*/,function:/\b\w+(?=\()/,keyword:/\b(?:N|Next|P|Print|X|XMLent|XMLns|ab|abbreviate|abc|abclear|abo|aboveleft|al|all|ar|arga|argadd|argd|argdelete|argdo|arge|argedit|argg|argglobal|argl|arglocal|args|argu|argument|as|ascii|b|bN|bNext|ba|bad|badd|ball|bd|bdelete|be|bel|belowright|bf|bfirst|bl|blast|bm|bmodified|bn|bnext|bo|botright|bp|bprevious|br|brea|break|breaka|breakadd|breakd|breakdel|breakl|breaklist|brewind|bro|browse|bufdo|buffer|buffers|bun|bunload|bw|bwipeout|c|cN|cNext|cNfcNfile|ca|cabbrev|cabc|cabclear|cad|caddb|caddbuffer|caddexpr|caddf|caddfile|cal|call|cat|catch|cb|cbuffer|cc|ccl|cclose|cd|ce|center|cex|cexpr|cf|cfile|cfir|cfirst|cg|cgetb|cgetbuffer|cgete|cgetexpr|cgetfile|change|changes|chd|chdir|che|checkpath|checkt|checktime|cl|cla|clast|clist|clo|close|cmapc|cmapclear|cn|cnew|cnewer|cnext|cnf|cnfile|cnorea|cnoreabbrev|co|col|colder|colo|colorscheme|comc|comclear|comp|compiler|con|conf|confirm|continue|cope|copen|copy|cp|cpf|cpfile|cprevious|cq|cquit|cr|crewind|cu|cuna|cunabbrev|cunmap|cw|cwindow|d|debugg|debuggreedy|delc|delcommand|delete|delf|delfunction|delm|delmarks|di|diffg|diffget|diffoff|diffpatch|diffpu|diffput|diffsplit|diffthis|diffu|diffupdate|dig|digraphs|display|dj|djump|dl|dlist|dr|drop|ds|dsearch|dsp|dsplit|e|earlier|echoe|echoerr|echom|echomsg|echon|edit|el|else|elsei|elseif|em|emenu|en|endf|endfo|endfor|endfun|endfunction|endif|endt|endtry|endw|endwhile|ene|enew|ex|exi|exit|exu|exusage|f|file|files|filetype|fin|fina|finally|find|fini|finish|fir|first|fix|fixdel|fo|fold|foldc|foldclose|foldd|folddoc|folddoclosed|folddoopen|foldo|foldopen|for|fu|fun|function|go|goto|gr|grep|grepa|grepadd|h|ha|hardcopy|help|helpf|helpfind|helpg|helpgrep|helpt|helptags|hid|hide|his|history|ia|iabbrev|iabc|iabclear|if|ij|ijump|il|ilist|imapc|imapclear|in|inorea|inoreabbrev|isearch|isp|isplit|iu|iuna|iunabbrev|iunmap|j|join|ju|jumps|k|kee|keepalt|keepj|keepjumps|keepmarks|l|lN|lNext|lNf|lNfile|la|lad|laddb|laddbuffer|laddexpr|laddf|laddfile|lan|language|last|later|lb|lbuffer|lc|lcd|lch|lchdir|lcl|lclose|left|lefta|leftabove|let|lex|lexpr|lf|lfile|lfir|lfirst|lg|lgetb|lgetbuffer|lgete|lgetexpr|lgetfile|lgr|lgrep|lgrepa|lgrepadd|lh|lhelpgrep|list|ll|lla|llast|lli|llist|lm|lmak|lmake|lmap|lmapc|lmapclear|ln|lne|lnew|lnewer|lnext|lnf|lnfile|lnoremap|lo|loadview|loc|lockmarks|lockv|lockvar|lol|lolder|lop|lopen|lp|lpf|lpfile|lprevious|lr|lrewind|ls|lt|ltag|lu|lunmap|lv|lvimgrep|lvimgrepa|lvimgrepadd|lw|lwindow|m|ma|mak|make|mark|marks|mat|match|menut|menutranslate|mk|mkexrc|mks|mksession|mksp|mkspell|mkv|mkvie|mkview|mkvimrc|mod|mode|move|mz|mzf|mzfile|mzscheme|n|nbkey|new|next|nmapc|nmapclear|noh|nohlsearch|norea|noreabbrev|nu|number|nun|nunmap|o|omapc|omapclear|on|only|open|opt|options|ou|ounmap|p|pc|pclose|pe|ped|pedit|perl|perld|perldo|po|pop|popu|popup|pp|ppop|pre|preserve|prev|previous|print|prof|profd|profdel|profile|promptf|promptfind|promptr|promptrepl|ps|psearch|ptN|ptNext|pta|ptag|ptf|ptfirst|ptj|ptjump|ptl|ptlast|ptn|ptnext|ptp|ptprevious|ptr|ptrewind|pts|ptselect|pu|put|pw|pwd|py|pyf|pyfile|python|q|qa|qall|quit|quita|quitall|r|read|rec|recover|red|redi|redir|redo|redr|redraw|redraws|redrawstatus|reg|registers|res|resize|ret|retab|retu|return|rew|rewind|ri|right|rightb|rightbelow|ru|rub|ruby|rubyd|rubydo|rubyf|rubyfile|runtime|rv|rviminfo|sN|sNext|sa|sal|sall|san|sandbox|sargument|sav|saveas|sb|sbN|sbNext|sba|sball|sbf|sbfirst|sbl|sblast|sbm|sbmodified|sbn|sbnext|sbp|sbprevious|sbr|sbrewind|sbuffer|scrip|scripte|scriptencoding|scriptnames|se|set|setf|setfiletype|setg|setglobal|setl|setlocal|sf|sfind|sfir|sfirst|sh|shell|sign|sil|silent|sim|simalt|sl|sla|slast|sleep|sm|smagic|smap|smapc|smapclear|sme|smenu|sn|snext|sni|sniff|sno|snomagic|snor|snoremap|snoreme|snoremenu|so|sor|sort|source|sp|spe|spelld|spelldump|spellgood|spelli|spellinfo|spellr|spellrepall|spellu|spellundo|spellw|spellwrong|split|spr|sprevious|sre|srewind|st|sta|stag|star|startg|startgreplace|startinsert|startr|startreplace|stj|stjump|stop|stopi|stopinsert|sts|stselect|sun|sunhide|sunm|sunmap|sus|suspend|sv|sview|syncbind|t|tN|tNext|ta|tab|tabN|tabNext|tabc|tabclose|tabd|tabdo|tabe|tabedit|tabf|tabfind|tabfir|tabfirst|tabl|tablast|tabm|tabmove|tabn|tabnew|tabnext|tabo|tabonly|tabp|tabprevious|tabr|tabrewind|tabs|tag|tags|tc|tcl|tcld|tcldo|tclf|tclfile|te|tearoff|tf|tfirst|th|throw|tj|tjump|tl|tlast|tm|tmenu|tn|tnext|to|topleft|tp|tprevious|tr|trewind|try|ts|tselect|tu|tunmenu|u|una|unabbreviate|undo|undoj|undojoin|undol|undolist|unh|unhide|unlet|unlo|unlockvar|unm|unmap|up|update|ve|verb|verbose|version|vert|vertical|vi|vie|view|vim|vimgrep|vimgrepa|vimgrepadd|visual|viu|viusage|vmapc|vmapclear|vne|vnew|vs|vsplit|vu|vunmap|w|wN|wNext|wa|wall|wh|while|win|winc|wincmd|windo|winp|winpos|winsize|wn|wnext|wp|wprevious|wq|wqa|wqall|write|ws|wsverb|wv|wviminfo|x|xa|xall|xit|xm|xmap|xmapc|xmapclear|xme|xmenu|xn|xnoremap|xnoreme|xnoremenu|xu|xunmap|y|yank)\b/,builtin:/\b(?:acd|ai|akm|aleph|allowrevins|altkeymap|ambiwidth|ambw|anti|antialias|arab|arabic|arabicshape|ari|arshape|autochdir|autocmd|autoindent|autoread|autowrite|autowriteall|aw|awa|background|backspace|backup|backupcopy|backupdir|backupext|backupskip|balloondelay|ballooneval|balloonexpr|bdir|bdlay|beval|bex|bexpr|bg|bh|bin|binary|biosk|bioskey|bk|bkc|bomb|breakat|brk|browsedir|bs|bsdir|bsk|bt|bufhidden|buflisted|buftype|casemap|ccv|cdpath|cedit|cfu|ch|charconvert|ci|cin|cindent|cink|cinkeys|cino|cinoptions|cinw|cinwords|clipboard|cmdheight|cmdwinheight|cmp|cms|columns|com|comments|commentstring|compatible|complete|completefunc|completeopt|consk|conskey|copyindent|cot|cpo|cpoptions|cpt|cscopepathcomp|cscopeprg|cscopequickfix|cscopetag|cscopetagorder|cscopeverbose|cspc|csprg|csqf|cst|csto|csverb|cuc|cul|cursorcolumn|cursorline|cwh|debug|deco|def|define|delcombine|dex|dg|dict|dictionary|diff|diffexpr|diffopt|digraph|dip|dir|directory|dy|ea|ead|eadirection|eb|ed|edcompatible|ef|efm|ei|ek|enc|encoding|endofline|eol|ep|equalalways|equalprg|errorbells|errorfile|errorformat|esckeys|et|eventignore|expandtab|exrc|fcl|fcs|fdc|fde|fdi|fdl|fdls|fdm|fdn|fdo|fdt|fen|fenc|fencs|fex|ff|ffs|fileencoding|fileencodings|fileformat|fileformats|fillchars|fk|fkmap|flp|fml|fmr|foldcolumn|foldenable|foldexpr|foldignore|foldlevel|foldlevelstart|foldmarker|foldmethod|foldminlines|foldnestmax|foldtext|formatexpr|formatlistpat|formatoptions|formatprg|fp|fs|fsync|ft|gcr|gd|gdefault|gfm|gfn|gfs|gfw|ghr|gp|grepformat|grepprg|gtl|gtt|guicursor|guifont|guifontset|guifontwide|guiheadroom|guioptions|guipty|guitablabel|guitabtooltip|helpfile|helpheight|helplang|hf|hh|hi|hidden|highlight|hk|hkmap|hkmapp|hkp|hl|hlg|hls|hlsearch|ic|icon|iconstring|ignorecase|im|imactivatekey|imak|imc|imcmdline|imd|imdisable|imi|iminsert|ims|imsearch|inc|include|includeexpr|incsearch|inde|indentexpr|indentkeys|indk|inex|inf|infercase|insertmode|invacd|invai|invakm|invallowrevins|invaltkeymap|invanti|invantialias|invar|invarab|invarabic|invarabicshape|invari|invarshape|invautochdir|invautoindent|invautoread|invautowrite|invautowriteall|invaw|invawa|invbackup|invballooneval|invbeval|invbin|invbinary|invbiosk|invbioskey|invbk|invbl|invbomb|invbuflisted|invcf|invci|invcin|invcindent|invcompatible|invconfirm|invconsk|invconskey|invcopyindent|invcp|invcscopetag|invcscopeverbose|invcst|invcsverb|invcuc|invcul|invcursorcolumn|invcursorline|invdeco|invdelcombine|invdg|invdiff|invdigraph|invdisable|invea|inveb|inved|invedcompatible|invek|invendofline|inveol|invequalalways|inverrorbells|invesckeys|invet|invex|invexpandtab|invexrc|invfen|invfk|invfkmap|invfoldenable|invgd|invgdefault|invguipty|invhid|invhidden|invhk|invhkmap|invhkmapp|invhkp|invhls|invhlsearch|invic|invicon|invignorecase|invim|invimc|invimcmdline|invimd|invincsearch|invinf|invinfercase|invinsertmode|invis|invjoinspaces|invjs|invlazyredraw|invlbr|invlinebreak|invlisp|invlist|invloadplugins|invlpl|invlz|invma|invmacatsui|invmagic|invmh|invml|invmod|invmodeline|invmodifiable|invmodified|invmore|invmousef|invmousefocus|invmousehide|invnu|invnumber|invodev|invopendevice|invpaste|invpi|invpreserveindent|invpreviewwindow|invprompt|invpvw|invreadonly|invremap|invrestorescreen|invrevins|invri|invrightleft|invrightleftcmd|invrl|invrlc|invro|invrs|invru|invruler|invsb|invsc|invscb|invscrollbind|invscs|invsecure|invsft|invshellslash|invshelltemp|invshiftround|invshortname|invshowcmd|invshowfulltag|invshowmatch|invshowmode|invsi|invsm|invsmartcase|invsmartindent|invsmarttab|invsmd|invsn|invsol|invspell|invsplitbelow|invsplitright|invspr|invsr|invssl|invsta|invstartofline|invstmp|invswapfile|invswf|invta|invtagbsearch|invtagrelative|invtagstack|invtbi|invtbidi|invtbs|invtermbidi|invterse|invtextauto|invtextmode|invtf|invtgst|invtildeop|invtimeout|invtitle|invto|invtop|invtr|invttimeout|invttybuiltin|invttyfast|invtx|invvb|invvisualbell|invwa|invwarn|invwb|invweirdinvert|invwfh|invwfw|invwildmenu|invwinfixheight|invwinfixwidth|invwiv|invwmnu|invwrap|invwrapscan|invwrite|invwriteany|invwritebackup|invws|isf|isfname|isi|isident|isk|iskeyword|isprint|joinspaces|js|key|keymap|keymodel|keywordprg|km|kmp|kp|langmap|langmenu|laststatus|lazyredraw|lbr|lcs|linebreak|lines|linespace|lisp|lispwords|listchars|loadplugins|lpl|lsp|lz|macatsui|magic|makeef|makeprg|matchpairs|matchtime|maxcombine|maxfuncdepth|maxmapdepth|maxmem|maxmempattern|maxmemtot|mco|mef|menuitems|mfd|mh|mis|mkspellmem|ml|mls|mm|mmd|mmp|mmt|modeline|modelines|modifiable|modified|more|mouse|mousef|mousefocus|mousehide|mousem|mousemodel|mouses|mouseshape|mouset|mousetime|mp|mps|msm|mzq|mzquantum|nf|noacd|noai|noakm|noallowrevins|noaltkeymap|noanti|noantialias|noar|noarab|noarabic|noarabicshape|noari|noarshape|noautochdir|noautoindent|noautoread|noautowrite|noautowriteall|noaw|noawa|nobackup|noballooneval|nobeval|nobin|nobinary|nobiosk|nobioskey|nobk|nobl|nobomb|nobuflisted|nocf|noci|nocin|nocindent|nocompatible|noconfirm|noconsk|noconskey|nocopyindent|nocp|nocscopetag|nocscopeverbose|nocst|nocsverb|nocuc|nocul|nocursorcolumn|nocursorline|nodeco|nodelcombine|nodg|nodiff|nodigraph|nodisable|noea|noeb|noed|noedcompatible|noek|noendofline|noeol|noequalalways|noerrorbells|noesckeys|noet|noex|noexpandtab|noexrc|nofen|nofk|nofkmap|nofoldenable|nogd|nogdefault|noguipty|nohid|nohidden|nohk|nohkmap|nohkmapp|nohkp|nohls|noic|noicon|noignorecase|noim|noimc|noimcmdline|noimd|noincsearch|noinf|noinfercase|noinsertmode|nois|nojoinspaces|nojs|nolazyredraw|nolbr|nolinebreak|nolisp|nolist|noloadplugins|nolpl|nolz|noma|nomacatsui|nomagic|nomh|noml|nomod|nomodeline|nomodifiable|nomodified|nomore|nomousef|nomousefocus|nomousehide|nonu|nonumber|noodev|noopendevice|nopaste|nopi|nopreserveindent|nopreviewwindow|noprompt|nopvw|noreadonly|noremap|norestorescreen|norevins|nori|norightleft|norightleftcmd|norl|norlc|noro|nors|noru|noruler|nosb|nosc|noscb|noscrollbind|noscs|nosecure|nosft|noshellslash|noshelltemp|noshiftround|noshortname|noshowcmd|noshowfulltag|noshowmatch|noshowmode|nosi|nosm|nosmartcase|nosmartindent|nosmarttab|nosmd|nosn|nosol|nospell|nosplitbelow|nosplitright|nospr|nosr|nossl|nosta|nostartofline|nostmp|noswapfile|noswf|nota|notagbsearch|notagrelative|notagstack|notbi|notbidi|notbs|notermbidi|noterse|notextauto|notextmode|notf|notgst|notildeop|notimeout|notitle|noto|notop|notr|nottimeout|nottybuiltin|nottyfast|notx|novb|novisualbell|nowa|nowarn|nowb|noweirdinvert|nowfh|nowfw|nowildmenu|nowinfixheight|nowinfixwidth|nowiv|nowmnu|nowrap|nowrapscan|nowrite|nowriteany|nowritebackup|nows|nrformats|numberwidth|nuw|odev|oft|ofu|omnifunc|opendevice|operatorfunc|opfunc|osfiletype|pa|para|paragraphs|paste|pastetoggle|patchexpr|patchmode|path|pdev|penc|pex|pexpr|pfn|ph|pheader|pi|pm|pmbcs|pmbfn|popt|preserveindent|previewheight|previewwindow|printdevice|printencoding|printexpr|printfont|printheader|printmbcharset|printmbfont|printoptions|prompt|pt|pumheight|pvh|pvw|qe|quoteescape|readonly|remap|report|restorescreen|revins|rightleft|rightleftcmd|rl|rlc|ro|rs|rtp|ruf|ruler|rulerformat|runtimepath|sbo|sc|scb|scr|scroll|scrollbind|scrolljump|scrolloff|scrollopt|scs|sect|sections|secure|sel|selection|selectmode|sessionoptions|sft|shcf|shellcmdflag|shellpipe|shellquote|shellredir|shellslash|shelltemp|shelltype|shellxquote|shiftround|shiftwidth|shm|shortmess|shortname|showbreak|showcmd|showfulltag|showmatch|showmode|showtabline|shq|si|sidescroll|sidescrolloff|siso|sj|slm|smartcase|smartindent|smarttab|smc|smd|softtabstop|sol|spc|spell|spellcapcheck|spellfile|spelllang|spellsuggest|spf|spl|splitbelow|splitright|sps|sr|srr|ss|ssl|ssop|stal|startofline|statusline|stl|stmp|su|sua|suffixes|suffixesadd|sw|swapfile|swapsync|swb|swf|switchbuf|sws|sxq|syn|synmaxcol|syntax|t_AB|t_AF|t_AL|t_CS|t_CV|t_Ce|t_Co|t_Cs|t_DL|t_EI|t_F1|t_F2|t_F3|t_F4|t_F5|t_F6|t_F7|t_F8|t_F9|t_IE|t_IS|t_K1|t_K3|t_K4|t_K5|t_K6|t_K7|t_K8|t_K9|t_KA|t_KB|t_KC|t_KD|t_KE|t_KF|t_KG|t_KH|t_KI|t_KJ|t_KK|t_KL|t_RI|t_RV|t_SI|t_Sb|t_Sf|t_WP|t_WS|t_ZH|t_ZR|t_al|t_bc|t_cd|t_ce|t_cl|t_cm|t_cs|t_da|t_db|t_dl|t_fs|t_k1|t_k2|t_k3|t_k4|t_k5|t_k6|t_k7|t_k8|t_k9|t_kB|t_kD|t_kI|t_kN|t_kP|t_kb|t_kd|t_ke|t_kh|t_kl|t_kr|t_ks|t_ku|t_le|t_mb|t_md|t_me|t_mr|t_ms|t_nd|t_op|t_se|t_so|t_sr|t_te|t_ti|t_ts|t_ue|t_us|t_ut|t_vb|t_ve|t_vi|t_vs|t_xs|tabline|tabpagemax|tabstop|tagbsearch|taglength|tagrelative|tagstack|tal|tb|tbi|tbidi|tbis|tbs|tenc|term|termbidi|termencoding|terse|textauto|textmode|textwidth|tgst|thesaurus|tildeop|timeout|timeoutlen|title|titlelen|titleold|titlestring|toolbar|toolbariconsize|top|tpm|tsl|tsr|ttimeout|ttimeoutlen|ttm|tty|ttybuiltin|ttyfast|ttym|ttymouse|ttyscroll|ttytype|tw|tx|uc|ul|undolevels|updatecount|updatetime|ut|vb|vbs|vdir|verbosefile|vfile|viewdir|viewoptions|viminfo|virtualedit|visualbell|vop|wak|warn|wb|wc|wcm|wd|weirdinvert|wfh|wfw|whichwrap|wi|wig|wildchar|wildcharm|wildignore|wildmenu|wildmode|wildoptions|wim|winaltkeys|window|winfixheight|winfixwidth|winheight|winminheight|winminwidth|winwidth|wiv|wiw|wm|wmh|wmnu|wmw|wop|wrap|wrapmargin|wrapscan|writeany|writebackup|writedelay|ww)\b/,number:/\b(?:0x[\da-f]+|\d+(?:\.\d+)?)\b/i,operator:/\|\||&&|[-+.]=?|[=!](?:[=~][#?]?)?|[<>]=?[#?]?|[*\/%?]|\b(?:is(?:not)?)\b/,punctuation:/[{}[\](),;:]/}}DN.displayName="visual-basic";DN.aliases=["vb","vba"];function DN(e){e.languages["visual-basic"]={comment:{pattern:/(?:[']|REM\b)(?:[^\r\n_]|_(?:\r\n?|\n)?)*/i,inside:{keyword:/^REM/i}},directive:{pattern:/#(?:Const|Else|ElseIf|End|ExternalChecksum|ExternalSource|If|Region)(?:\b_[ \t]*(?:\r\n?|\n)|.)+/i,alias:"property",greedy:!0},string:{pattern:/\$?["](?:["]{2}|[^"])*["]C?/i,greedy:!0},date:{pattern:/#[ \t]*(?:\d+([/-])\d+\1\d+(?:[ \t]+(?:\d+[ \t]*(?:AM|PM)|\d+:\d+(?::\d+)?(?:[ \t]*(?:AM|PM))?))?|\d+[ \t]*(?:AM|PM)|\d+:\d+(?::\d+)?(?:[ \t]*(?:AM|PM))?)[ \t]*#/i,alias:"number"},number:/(?:(?:\b\d+(?:\.\d+)?|\.\d+)(?:E[+-]?\d+)?|&[HO][\dA-F]+)(?:[FRD]|U?[ILS])?/i,boolean:/\b(?:False|Nothing|True)\b/i,keyword:/\b(?:AddHandler|AddressOf|Alias|And(?:Also)?|As|Boolean|ByRef|Byte|ByVal|Call|Case|Catch|C(?:Bool|Byte|Char|Date|Dbl|Dec|Int|Lng|Obj|SByte|Short|Sng|Str|Type|UInt|ULng|UShort)|Char|Class|Const|Continue|Currency|Date|Decimal|Declare|Default|Delegate|Dim|DirectCast|Do|Double|Each|Else(?:If)?|End(?:If)?|Enum|Erase|Error|Event|Exit|Finally|For|Friend|Function|Get(?:Type|XMLNamespace)?|Global|GoSub|GoTo|Handles|If|Implements|Imports|In|Inherits|Integer|Interface|Is|IsNot|Let|Lib|Like|Long|Loop|Me|Mod|Module|Must(?:Inherit|Override)|My(?:Base|Class)|Namespace|Narrowing|New|Next|Not(?:Inheritable|Overridable)?|Object|Of|On|Operator|Option(?:al)?|Or(?:Else)?|Out|Overloads|Overridable|Overrides|ParamArray|Partial|Private|Property|Protected|Public|RaiseEvent|ReadOnly|ReDim|RemoveHandler|Resume|Return|SByte|Select|Set|Shadows|Shared|short|Single|Static|Step|Stop|String|Structure|Sub|SyncLock|Then|Throw|To|Try|TryCast|Type|TypeOf|U(?:Integer|Long|Short)|Until|Using|Variant|Wend|When|While|Widening|With(?:Events)?|WriteOnly|Xor)\b/i,operator:/[+\-*/\\^<=>&#@$%!]|\b_(?=[ \t]*[\r\n])/,punctuation:/[{}().,:?]/},e.languages.vb=e.languages["visual-basic"],e.languages.vba=e.languages["visual-basic"]}LN.displayName="warpscript";LN.aliases=[];function LN(e){e.languages.warpscript={comment:/#.*|\/\/.*|\/\*[\s\S]*?\*\//,string:{pattern:/"(?:[^"\\\r\n]|\\.)*"|'(?:[^'\\\r\n]|\\.)*'|<'(?:[^\\']|'(?!>)|\\.)*'>/,greedy:!0},variable:/\$\S+/,macro:{pattern:/@\S+/,alias:"property"},keyword:/\b(?:BREAK|CHECKMACRO|CONTINUE|CUDF|DEFINED|DEFINEDMACRO|EVAL|FAIL|FOR|FOREACH|FORSTEP|IFT|IFTE|MSGFAIL|NRETURN|RETHROW|RETURN|SWITCH|TRY|UDF|UNTIL|WHILE)\b/,number:/[+-]?\b(?:NaN|Infinity|\d+(?:\.\d*)?(?:[Ee][+-]?\d+)?|0x[\da-fA-F]+|0b[01]+)\b/,boolean:/\b(?:F|T|false|true)\b/,punctuation:/<%|%>|[{}[\]()]/,operator:/==|&&?|\|\|?|\*\*?|>>>?|<<|[<>!~]=?|[-/%^]|\+!?|\b(?:AND|NOT|OR)\b/}}ON.displayName="wasm";ON.aliases=[];function ON(e){e.languages.wasm={comment:[/\(;[\s\S]*?;\)/,{pattern:/;;.*/,greedy:!0}],string:{pattern:/"(?:\\[\s\S]|[^"\\])*"/,greedy:!0},keyword:[{pattern:/\b(?:align|offset)=/,inside:{operator:/=/}},{pattern:/\b(?:(?:f32|f64|i32|i64)(?:\.(?:abs|add|and|ceil|clz|const|convert_[su]\/i(?:32|64)|copysign|ctz|demote\/f64|div(?:_[su])?|eqz?|extend_[su]\/i32|floor|ge(?:_[su])?|gt(?:_[su])?|le(?:_[su])?|load(?:(?:8|16|32)_[su])?|lt(?:_[su])?|max|min|mul|neg?|nearest|or|popcnt|promote\/f32|reinterpret\/[fi](?:32|64)|rem_[su]|rot[lr]|shl|shr_[su]|sqrt|store(?:8|16|32)?|sub|trunc(?:_[su]\/f(?:32|64))?|wrap\/i64|xor))?|memory\.(?:grow|size))\b/,inside:{punctuation:/\./}},/\b(?:anyfunc|block|br(?:_if|_table)?|call(?:_indirect)?|data|drop|elem|else|end|export|func|get_(?:global|local)|global|if|import|local|loop|memory|module|mut|nop|offset|param|result|return|select|set_(?:global|local)|start|table|tee_local|then|type|unreachable)\b/],variable:/\$[\w!#$%&'*+\-./:<=>?@\\^`|~]+/,number:/[+-]?\b(?:\d(?:_?\d)*(?:\.\d(?:_?\d)*)?(?:[eE][+-]?\d(?:_?\d)*)?|0x[\da-fA-F](?:_?[\da-fA-F])*(?:\.[\da-fA-F](?:_?[\da-fA-D])*)?(?:[pP][+-]?\d(?:_?\d)*)?)\b|\binf\b|\bnan(?::0x[\da-fA-F](?:_?[\da-fA-D])*)?\b/,punctuation:/[()]/}}MN.displayName="web-idl";MN.aliases=["webidl"];function MN(e){(function(t){var r=/(?:\B-|\b_|\b)[A-Za-z][\w-]*(?![\w-])/.source,n="(?:"+/\b(?:unsigned\s+)?long\s+long(?![\w-])/.source+"|"+/\b(?:unrestricted|unsigned)\s+[a-z]+(?![\w-])/.source+"|"+/(?!(?:unrestricted|unsigned)\b)/.source+r+/(?:\s*<(?:[^<>]|<[^<>]*>)*>)?/.source+")"+/(?:\s*\?)?/.source,a={};t.languages["web-idl"]={comment:{pattern:/\/\/.*|\/\*[\s\S]*?\*\//,greedy:!0},string:{pattern:/"[^"]*"/,greedy:!0},namespace:{pattern:RegExp(/(\bnamespace\s+)/.source+r),lookbehind:!0},"class-name":[{pattern:/(^|[^\w-])(?:iterable|maplike|setlike)\s*<(?:[^<>]|<[^<>]*>)*>/,lookbehind:!0,inside:a},{pattern:RegExp(/(\b(?:attribute|const|deleter|getter|optional|setter)\s+)/.source+n),lookbehind:!0,inside:a},{pattern:RegExp("("+/\bcallback\s+/.source+r+/\s*=\s*/.source+")"+n),lookbehind:!0,inside:a},{pattern:RegExp(/(\btypedef\b\s*)/.source+n),lookbehind:!0,inside:a},{pattern:RegExp(/(\b(?:callback|dictionary|enum|interface(?:\s+mixin)?)\s+)(?!(?:interface|mixin)\b)/.source+r),lookbehind:!0},{pattern:RegExp(/(:\s*)/.source+r),lookbehind:!0},RegExp(r+/(?=\s+(?:implements|includes)\b)/.source),{pattern:RegExp(/(\b(?:implements|includes)\s+)/.source+r),lookbehind:!0},{pattern:RegExp(n+"(?="+/\s*(?:\.{3}\s*)?/.source+r+/\s*[(),;=]/.source+")"),inside:a}],builtin:/\b(?:ArrayBuffer|BigInt64Array|BigUint64Array|ByteString|DOMString|DataView|Float32Array|Float64Array|FrozenArray|Int16Array|Int32Array|Int8Array|ObservableArray|Promise|USVString|Uint16Array|Uint32Array|Uint8Array|Uint8ClampedArray)\b/,keyword:[/\b(?:async|attribute|callback|const|constructor|deleter|dictionary|enum|getter|implements|includes|inherit|interface|mixin|namespace|null|optional|or|partial|readonly|required|setter|static|stringifier|typedef|unrestricted)\b/,/\b(?:any|bigint|boolean|byte|double|float|iterable|long|maplike|object|octet|record|sequence|setlike|short|symbol|undefined|unsigned|void)\b/],boolean:/\b(?:false|true)\b/,number:{pattern:/(^|[^\w-])-?(?:0x[0-9a-f]+|(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?|NaN|Infinity)(?![\w-])/i,lookbehind:!0},operator:/\.{3}|[=:?<>-]/,punctuation:/[(){}[\].,;]/};for(var i in t.languages["web-idl"])i!=="class-name"&&(a[i]=t.languages["web-idl"][i]);t.languages.webidl=t.languages["web-idl"]})(e)}PN.displayName="wgsl";PN.aliases=[];function PN(e){e.languages.wgsl={comment:{pattern:/\/\/.*|\/\*[\s\S]*?(?:\*\/|$)/,greedy:!0},"builtin-attribute":{pattern:/(@)builtin\(.*?\)/,lookbehind:!0,inside:{attribute:{pattern:/^builtin/,alias:"attr-name"},punctuation:/[(),]/,"built-in-values":{pattern:/\b(?:frag_depth|front_facing|global_invocation_id|instance_index|local_invocation_id|local_invocation_index|num_workgroups|position|sample_index|sample_mask|vertex_index|workgroup_id)\b/,alias:"attr-value"}}},attributes:{pattern:/(@)(?:align|binding|compute|const|fragment|group|id|interpolate|invariant|location|size|vertex|workgroup_size)/i,lookbehind:!0,alias:"attr-name"},functions:{pattern:/\b(fn\s+)[_a-zA-Z]\w*(?=[(<])/,lookbehind:!0,alias:"function"},keyword:/\b(?:bitcast|break|case|const|continue|continuing|default|discard|else|enable|fallthrough|fn|for|function|if|let|loop|private|return|storage|struct|switch|type|uniform|var|while|workgroup)\b/,builtin:/\b(?:abs|acos|acosh|all|any|array|asin|asinh|atan|atan2|atanh|atomic|atomicAdd|atomicAnd|atomicCompareExchangeWeak|atomicExchange|atomicLoad|atomicMax|atomicMin|atomicOr|atomicStore|atomicSub|atomicXor|bool|ceil|clamp|cos|cosh|countLeadingZeros|countOneBits|countTrailingZeros|cross|degrees|determinant|distance|dot|dpdx|dpdxCoarse|dpdxFine|dpdy|dpdyCoarse|dpdyFine|exp|exp2|extractBits|f32|f64|faceForward|firstLeadingBit|floor|fma|fract|frexp|fwidth|fwidthCoarse|fwidthFine|i32|i64|insertBits|inverseSqrt|ldexp|length|log|log2|mat[2-4]x[2-4]|max|min|mix|modf|normalize|override|pack2x16float|pack2x16snorm|pack2x16unorm|pack4x8snorm|pack4x8unorm|pow|ptr|quantizeToF16|radians|reflect|refract|reverseBits|round|sampler|sampler_comparison|select|shiftLeft|shiftRight|sign|sin|sinh|smoothstep|sqrt|staticAssert|step|storageBarrier|tan|tanh|textureDimensions|textureGather|textureGatherCompare|textureLoad|textureNumLayers|textureNumLevels|textureNumSamples|textureSample|textureSampleBias|textureSampleCompare|textureSampleCompareLevel|textureSampleGrad|textureSampleLevel|textureStore|texture_1d|texture_2d|texture_2d_array|texture_3d|texture_cube|texture_cube_array|texture_depth_2d|texture_depth_2d_array|texture_depth_cube|texture_depth_cube_array|texture_depth_multisampled_2d|texture_multisampled_2d|texture_storage_1d|texture_storage_2d|texture_storage_2d_array|texture_storage_3d|transpose|trunc|u32|u64|unpack2x16float|unpack2x16snorm|unpack2x16unorm|unpack4x8snorm|unpack4x8unorm|vec[2-4]|workgroupBarrier)\b/,"function-calls":{pattern:/\b[_a-z]\w*(?=\()/i,alias:"function"},"class-name":/\b(?:[A-Z][A-Za-z0-9]*)\b/,"bool-literal":{pattern:/\b(?:false|true)\b/,alias:"boolean"},"hex-int-literal":{pattern:/\b0[xX][0-9a-fA-F]+[iu]?\b(?![.pP])/,alias:"number"},"hex-float-literal":{pattern:/\b0[xX][0-9a-fA-F]*(?:\.[0-9a-fA-F]*)?(?:[pP][+-]?\d+[fh]?)?/,alias:"number"},"decimal-float-literal":[{pattern:/\d*\.\d+(?:[eE](?:\+|-)?\d+)?[fh]?/,alias:"number"},{pattern:/\d+\.\d*(?:[eE](?:\+|-)?\d+)?[fh]?/,alias:"number"},{pattern:/\d+[eE](?:\+|-)?\d+[fh]?/,alias:"number"},{pattern:/\b\d+[fh]\b/,alias:"number"}],"int-literal":{pattern:/\b\d+[iu]?\b/,alias:"number"},operator:[{pattern:/(?:\^|~|\|(?!\|)|\|\||&&|<<|>>|!)(?!=)/},{pattern:/&(?![&=])/},{pattern:/(?:\+=|-=|\*=|\/=|%=|\^=|&=|\|=|<<=|>>=)/},{pattern:/(^|[^<>=!])=(?![=>])/,lookbehind:!0},{pattern:/(?:==|!=|<=|\+\+|--|(^|[^=])>=)/,lookbehind:!0},{pattern:/(?:(?:[+%]|(?:\*(?!\w)))(?!=))|(?:-(?!>))|(?:\/(?!\/))/},{pattern:/->/}],punctuation:/[@(){}[\],;<>:.]/}}jN.displayName="wiki";jN.aliases=[];function jN(e){e.register(Ga),e.languages.wiki=e.languages.extend("markup",{"block-comment":{pattern:/(^|[^\\])\/\*[\s\S]*?\*\//,lookbehind:!0,alias:"comment"},heading:{pattern:/^(=+)[^=\r\n].*?\1/m,inside:{punctuation:/^=+|=+$/,important:/.+/}},emphasis:{pattern:/('{2,5}).+?\1/,inside:{"bold-italic":{pattern:/(''''').+?(?=\1)/,lookbehind:!0,alias:["bold","italic"]},bold:{pattern:/(''')[^'](?:.*?[^'])?(?=\1)/,lookbehind:!0},italic:{pattern:/('')[^'](?:.*?[^'])?(?=\1)/,lookbehind:!0},punctuation:/^''+|''+$/}},hr:{pattern:/^-{4,}/m,alias:"punctuation"},url:[/ISBN +(?:97[89][ -]?)?(?:\d[ -]?){9}[\dx]\b|(?:PMID|RFC) +\d+/i,/\[\[.+?\]\]|\[.+?\]/],variable:[/__[A-Z]+__/,/\{{3}.+?\}{3}/,/\{\{.+?\}\}/],symbol:[/^#redirect/im,/~{3,5}/],"table-tag":{pattern:/((?:^|[|!])[|!])[^|\r\n]+\|(?!\|)/m,lookbehind:!0,inside:{"table-bar":{pattern:/\|$/,alias:"punctuation"},rest:e.languages.markup.tag.inside}},punctuation:/^(?:\{\||\|\}|\|-|[*#:;!|])|\|\||!!/m}),e.languages.insertBefore("wiki","tag",{nowiki:{pattern:/<(nowiki|pre|source)\b[^>]*>[\s\S]*?<\/\1>/i,inside:{tag:{pattern:/<(?:nowiki|pre|source)\b[^>]*>|<\/(?:nowiki|pre|source)>/i,inside:e.languages.markup.tag.inside}}}})}FN.displayName="wolfram";FN.aliases=["mathematica","nb","wl"];function FN(e){e.languages.wolfram={comment:/\(\*(?:\(\*(?:[^*]|\*(?!\)))*\*\)|(?!\(\*)[\s\S])*?\*\)/,string:{pattern:/"(?:\\.|[^"\\\r\n])*"/,greedy:!0},keyword:/\b(?:Abs|AbsArg|Accuracy|Block|Do|For|Function|If|Manipulate|Module|Nest|NestList|None|Return|Switch|Table|Which|While)\b/,context:{pattern:/\b\w+`+\w*/,alias:"class-name"},blank:{pattern:/\b\w+_\b/,alias:"regex"},"global-variable":{pattern:/\$\w+/,alias:"variable"},boolean:/\b(?:False|True)\b/,number:/(?:\b(?=\d)|\B(?=\.))(?:0[bo])?(?:(?:\d|0x[\da-f])[\da-f]*(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?j?\b/i,operator:/\/\.|;|=\.|\^=|\^:=|:=|<<|>>|<\||\|>|:>|\|->|->|<-|@@@|@@|@|\/@|=!=|===|==|=|\+|-|\[\/-+%=\]=?|!=|\*\*?=?|\/\/?=?|<[<=>]?|>[=>]?|[&|^~]/,punctuation:/[{}[\];(),.:]/},e.languages.mathematica=e.languages.wolfram,e.languages.wl=e.languages.wolfram,e.languages.nb=e.languages.wolfram}BN.displayName="wren";BN.aliases=[];function BN(e){e.languages.wren={comment:[{pattern:/\/\*(?:[^*/]|\*(?!\/)|\/(?!\*)|\/\*(?:[^*/]|\*(?!\/)|\/(?!\*)|\/\*(?:[^*/]|\*(?!\/)|\/(?!\*))*\*\/)*\*\/)*\*\//,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],"triple-quoted-string":{pattern:/"""[\s\S]*?"""/,greedy:!0,alias:"string"},"string-literal":null,hashbang:{pattern:/^#!\/.+/,greedy:!0,alias:"comment"},attribute:{pattern:/#!?[ \t\u3000]*\w+/,alias:"keyword"},"class-name":[{pattern:/(\bclass\s+)\w+/,lookbehind:!0},/\b[A-Z][a-z\d_]*\b/],constant:/\b[A-Z][A-Z\d_]*\b/,null:{pattern:/\bnull\b/,alias:"keyword"},keyword:/\b(?:as|break|class|construct|continue|else|for|foreign|if|import|in|is|return|static|super|this|var|while)\b/,boolean:/\b(?:false|true)\b/,number:/\b(?:0x[\da-f]+|\d+(?:\.\d+)?(?:e[+-]?\d+)?)\b/i,function:/\b[a-z_]\w*(?=\s*[({])/i,operator:/<<|>>|[=!<>]=?|&&|\|\||[-+*/%~^&|?:]|\.{2,3}/,punctuation:/[\[\](){}.,;]/},e.languages.wren["string-literal"]={pattern:/(^|[^\\"])"(?:[^\\"%]|\\[\s\S]|%(?!\()|%\((?:[^()]|\((?:[^()]|\([^)]*\))*\))*\))*"/,lookbehind:!0,greedy:!0,inside:{interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)%\((?:[^()]|\((?:[^()]|\([^)]*\))*\))*\)/,lookbehind:!0,inside:{expression:{pattern:/^(%\()[\s\S]+(?=\)$)/,lookbehind:!0,inside:e.languages.wren},"interpolation-punctuation":{pattern:/^%\(|\)$/,alias:"punctuation"}}},string:/[\s\S]+/}}}UN.displayName="xeora";UN.aliases=["xeoracube"];function UN(e){e.register(Ga),(function(t){t.languages.xeora=t.languages.extend("markup",{constant:{pattern:/\$(?:DomainContents|PageRenderDuration)\$/,inside:{punctuation:{pattern:/\$/}}},variable:{pattern:/\$@?(?:#+|[-+*~=^])?[\w.]+\$/,inside:{punctuation:{pattern:/[$.]/},operator:{pattern:/#+|[-+*~=^@]/}}},"function-inline":{pattern:/\$F:[-\w.]+\?[-\w.]+(?:,(?:(?:@[-#]*\w+\.[\w+.]\.*)*\|)*(?:(?:[\w+]|[-#*.~^]+[\w+]|=\S)(?:[^$=]|=+[^=])*=*|(?:@[-#]*\w+\.[\w+.]\.*)+(?:(?:[\w+]|[-#*~^][-#*.~^]*[\w+]|=\S)(?:[^$=]|=+[^=])*=*)?)?)?\$/,inside:{variable:{pattern:/(?:[,|])@?(?:#+|[-+*~=^])?[\w.]+/,inside:{punctuation:{pattern:/[,.|]/},operator:{pattern:/#+|[-+*~=^@]/}}},punctuation:{pattern:/\$\w:|[$:?.,|]/}},alias:"function"},"function-block":{pattern:/\$XF:\{[-\w.]+\?[-\w.]+(?:,(?:(?:@[-#]*\w+\.[\w+.]\.*)*\|)*(?:(?:[\w+]|[-#*.~^]+[\w+]|=\S)(?:[^$=]|=+[^=])*=*|(?:@[-#]*\w+\.[\w+.]\.*)+(?:(?:[\w+]|[-#*~^][-#*.~^]*[\w+]|=\S)(?:[^$=]|=+[^=])*=*)?)?)?\}:XF\$/,inside:{punctuation:{pattern:/[$:{}?.,|]/}},alias:"function"},"directive-inline":{pattern:/\$\w(?:#\d+\+?)?(?:\[[-\w.]+\])?:[-\/\w.]+\$/,inside:{punctuation:{pattern:/\$(?:\w:|C(?:\[|#\d))?|[:{[\]]/,inside:{tag:{pattern:/#\d/}}}},alias:"function"},"directive-block-open":{pattern:/\$\w+:\{|\$\w(?:#\d+\+?)?(?:\[[-\w.]+\])?:[-\w.]+:\{(?:![A-Z]+)?/,inside:{punctuation:{pattern:/\$(?:\w:|C(?:\[|#\d))?|[:{[\]]/,inside:{tag:{pattern:/#\d/}}},attribute:{pattern:/![A-Z]+$/,inside:{punctuation:{pattern:/!/}},alias:"keyword"}},alias:"function"},"directive-block-separator":{pattern:/\}:[-\w.]+:\{/,inside:{punctuation:{pattern:/[:{}]/}},alias:"function"},"directive-block-close":{pattern:/\}:[-\w.]+\$/,inside:{punctuation:{pattern:/[:{}$]/}},alias:"function"}}),t.languages.insertBefore("inside","punctuation",{variable:t.languages.xeora["function-inline"].inside.variable},t.languages.xeora["function-block"]),t.languages.xeoracube=t.languages.xeora})(e)}$N.displayName="xml-doc";$N.aliases=[];function $N(e){e.register(Ga),(function(t){function r(o,l){t.languages[o]&&t.languages.insertBefore(o,"comment",{"doc-comment":l})}var n=t.languages.markup.tag,a={pattern:/\/\/\/.*/,greedy:!0,alias:"comment",inside:{tag:n}},i={pattern:/'''.*/,greedy:!0,alias:"comment",inside:{tag:n}};r("csharp",a),r("fsharp",a),r("vbnet",i)})(e)}HN.displayName="xojo";HN.aliases=[];function HN(e){e.languages.xojo={comment:{pattern:/(?:'|\/\/|Rem\b).+/i,greedy:!0},string:{pattern:/"(?:""|[^"])*"/,greedy:!0},number:[/(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:E[+-]?\d+)?/i,/&[bchou][a-z\d]+/i],directive:{pattern:/#(?:Else|ElseIf|Endif|If|Pragma)\b/i,alias:"property"},keyword:/\b(?:AddHandler|App|Array|As(?:signs)?|Auto|Boolean|Break|By(?:Ref|Val)|Byte|Call|Case|Catch|CFStringRef|CGFloat|Class|Color|Const|Continue|CString|Currency|CurrentMethodName|Declare|Delegate|Dim|Do(?:uble|wnTo)?|Each|Else(?:If)?|End|Enumeration|Event|Exception|Exit|Extends|False|Finally|For|Function|Get|GetTypeInfo|Global|GOTO|If|Implements|In|Inherits|Int(?:8|16|32|64|eger|erface)?|Lib|Loop|Me|Module|Next|Nil|Object|Optional|OSType|ParamArray|Private|Property|Protected|PString|Ptr|Raise(?:Event)?|ReDim|RemoveHandler|Return|Select(?:or)?|Self|Set|Shared|Short|Single|Soft|Static|Step|String|Sub|Super|Text|Then|To|True|Try|Ubound|UInt(?:8|16|32|64|eger)?|Until|Using|Var(?:iant)?|Wend|While|WindowPtr|WString)\b/i,operator:/<[=>]?|>=?|[+\-*\/\\^=]|\b(?:AddressOf|And|Ctype|IsA?|Mod|New|Not|Or|WeakAddressOf|Xor)\b/i,punctuation:/[.,;:()]/}}zN.displayName="xquery";zN.aliases=[];function zN(e){e.register(Ga),(function(t){t.languages.xquery=t.languages.extend("markup",{"xquery-comment":{pattern:/\(:[\s\S]*?:\)/,greedy:!0,alias:"comment"},string:{pattern:/(["'])(?:\1\1|(?!\1)[\s\S])*\1/,greedy:!0},extension:{pattern:/\(#.+?#\)/,alias:"symbol"},variable:/\$[-\w:]+/,axis:{pattern:/(^|[^-])(?:ancestor(?:-or-self)?|attribute|child|descendant(?:-or-self)?|following(?:-sibling)?|parent|preceding(?:-sibling)?|self)(?=::)/,lookbehind:!0,alias:"operator"},"keyword-operator":{pattern:/(^|[^:-])\b(?:and|castable as|div|eq|except|ge|gt|idiv|instance of|intersect|is|le|lt|mod|ne|or|union)\b(?=$|[^:-])/,lookbehind:!0,alias:"operator"},keyword:{pattern:/(^|[^:-])\b(?:as|ascending|at|base-uri|boundary-space|case|cast as|collation|construction|copy-namespaces|declare|default|descending|else|empty (?:greatest|least)|encoding|every|external|for|function|if|import|in|inherit|lax|let|map|module|namespace|no-inherit|no-preserve|option|order(?: by|ed|ing)?|preserve|return|satisfies|schema|some|stable|strict|strip|then|to|treat as|typeswitch|unordered|validate|variable|version|where|xquery)\b(?=$|[^:-])/,lookbehind:!0},function:/[\w-]+(?::[\w-]+)*(?=\s*\()/,"xquery-element":{pattern:/(element\s+)[\w-]+(?::[\w-]+)*/,lookbehind:!0,alias:"tag"},"xquery-attribute":{pattern:/(attribute\s+)[\w-]+(?::[\w-]+)*/,lookbehind:!0,alias:"attr-name"},builtin:{pattern:/(^|[^:-])\b(?:attribute|comment|document|element|processing-instruction|text|xs:(?:ENTITIES|ENTITY|ID|IDREFS?|NCName|NMTOKENS?|NOTATION|Name|QName|anyAtomicType|anyType|anyURI|base64Binary|boolean|byte|date|dateTime|dayTimeDuration|decimal|double|duration|float|gDay|gMonth|gMonthDay|gYear|gYearMonth|hexBinary|int|integer|language|long|negativeInteger|nonNegativeInteger|nonPositiveInteger|normalizedString|positiveInteger|short|string|time|token|unsigned(?:Byte|Int|Long|Short)|untyped(?:Atomic)?|yearMonthDuration))\b(?=$|[^:-])/,lookbehind:!0},number:/\b\d+(?:\.\d+)?(?:E[+-]?\d+)?/,operator:[/[+*=?|@]|\.\.?|:=|!=|<[=<]?|>[=>]?/,{pattern:/(\s)-(?=\s)/,lookbehind:!0}],punctuation:/[[\](){},;:/]/}),t.languages.xquery.tag.pattern=/<\/?(?!\d)[^\s>\/=$<%]+(?:\s+[^\s>\/=]+(?:=(?:("|')(?:\\[\s\S]|\{(?!\{)(?:\{(?:\{[^{}]*\}|[^{}])*\}|[^{}])+\}|(?!\1)[^\\])*\1|[^\s'">=]+))?)*\s*\/?>/,t.languages.xquery.tag.inside["attr-value"].pattern=/=(?:("|')(?:\\[\s\S]|\{(?!\{)(?:\{(?:\{[^{}]*\}|[^{}])*\}|[^{}])+\}|(?!\1)[^\\])*\1|[^\s'">=]+)/,t.languages.xquery.tag.inside["attr-value"].inside.punctuation=/^="|"$/,t.languages.xquery.tag.inside["attr-value"].inside.expression={pattern:/\{(?!\{)(?:\{(?:\{[^{}]*\}|[^{}])*\}|[^{}])+\}/,inside:t.languages.xquery,alias:"language-xquery"};var r=function(a){return typeof a=="string"?a:typeof a.content=="string"?a.content:a.content.map(r).join("")},n=function(a){for(var i=[],o=0;o<a.length;o++){var l=a[o],u=!1;if(typeof l!="string"&&(l.type==="tag"&&l.content[0]&&l.content[0].type==="tag"?l.content[0].content[0].content==="</"?i.length>0&&i[i.length-1].tagName===r(l.content[0].content[1])&&i.pop():l.content[l.content.length-1].content==="/>"||i.push({tagName:r(l.content[0].content[1]),openedBraces:0}):i.length>0&&l.type==="punctuation"&&l.content==="{"&&(!a[o+1]||a[o+1].type!=="punctuation"||a[o+1].content!=="{")&&(!a[o-1]||a[o-1].type!=="plain-text"||a[o-1].content!=="{")?i[i.length-1].openedBraces++:i.length>0&&i[i.length-1].openedBraces>0&&l.type==="punctuation"&&l.content==="}"?i[i.length-1].openedBraces--:l.type!=="comment"&&(u=!0)),(u||typeof l=="string")&&i.length>0&&i[i.length-1].openedBraces===0){var d=r(l);o<a.length-1&&(typeof a[o+1]=="string"||a[o+1].type==="plain-text")&&(d+=r(a[o+1]),a.splice(o+1,1)),o>0&&(typeof a[o-1]=="string"||a[o-1].type==="plain-text")&&(d=r(a[o-1])+d,a.splice(o-1,1),o--),/^\s+$/.test(d)?a[o]=d:a[o]=new t.Token("plain-text",d,null,d)}l.content&&typeof l.content!="string"&&n(l.content)}};t.hooks.add("after-tokenize",function(a){a.language==="xquery"&&n(a.tokens)})})(e)}GN.displayName="yang";GN.aliases=[];function GN(e){e.languages.yang={comment:/\/\*[\s\S]*?\*\/|\/\/.*/,string:{pattern:/"(?:[^\\"]|\\.)*"|'[^']*'/,greedy:!0},keyword:{pattern:/(^|[{};\r\n][ \t]*)[a-z_][\w.-]*/i,lookbehind:!0},namespace:{pattern:/(\s)[a-z_][\w.-]*(?=:)/i,lookbehind:!0},boolean:/\b(?:false|true)\b/,operator:/\+/,punctuation:/[{};:]/}}qN.displayName="zig";qN.aliases=[];function qN(e){(function(t){function r(d){return function(){return d}}var n=/\b(?:align|allowzero|and|anyframe|anytype|asm|async|await|break|cancel|catch|comptime|const|continue|defer|else|enum|errdefer|error|export|extern|fn|for|if|inline|linksection|nakedcc|noalias|nosuspend|null|or|orelse|packed|promise|pub|resume|return|stdcallcc|struct|suspend|switch|test|threadlocal|try|undefined|union|unreachable|usingnamespace|var|volatile|while)\b/,a="\\b(?!"+n.source+")(?!\\d)\\w+\\b",i=/align\s*\((?:[^()]|\([^()]*\))*\)/.source,o=/(?:\?|\bpromise->|(?:\[[^[\]]*\]|\*(?!\*)|\*\*)(?:\s*<ALIGN>|\s*const\b|\s*volatile\b|\s*allowzero\b)*)/.source.replace(/<ALIGN>/g,r(i)),l=/(?:\bpromise\b|(?:\berror\.)?<ID>(?:\.<ID>)*(?!\s+<ID>))/.source.replace(/<ID>/g,r(a)),u="(?!\\s)(?:!?\\s*(?:"+o+"\\s*)*"+l+")+";t.languages.zig={comment:[{pattern:/\/\/[/!].*/,alias:"doc-comment"},/\/{2}.*/],string:[{pattern:/(^|[^\\@])c?"(?:[^"\\\r\n]|\\.)*"/,lookbehind:!0,greedy:!0},{pattern:/([\r\n])([ \t]+c?\\{2}).*(?:(?:\r\n?|\n)\2.*)*/,lookbehind:!0,greedy:!0}],char:{pattern:/(^|[^\\])'(?:[^'\\\r\n]|[\uD800-\uDFFF]{2}|\\(?:.|x[a-fA-F\d]{2}|u\{[a-fA-F\d]{1,6}\}))'/,lookbehind:!0,greedy:!0},builtin:/\B@(?!\d)\w+(?=\s*\()/,label:{pattern:/(\b(?:break|continue)\s*:\s*)\w+\b|\b(?!\d)\w+\b(?=\s*:\s*(?:\{|while\b))/,lookbehind:!0},"class-name":[/\b(?!\d)\w+(?=\s*=\s*(?:(?:extern|packed)\s+)?(?:enum|struct|union)\s*[({])/,{pattern:RegExp(/(:\s*)<TYPE>(?=\s*(?:<ALIGN>\s*)?[=;,)])|<TYPE>(?=\s*(?:<ALIGN>\s*)?\{)/.source.replace(/<TYPE>/g,r(u)).replace(/<ALIGN>/g,r(i))),lookbehind:!0,inside:null},{pattern:RegExp(/(\)\s*)<TYPE>(?=\s*(?:<ALIGN>\s*)?;)/.source.replace(/<TYPE>/g,r(u)).replace(/<ALIGN>/g,r(i))),lookbehind:!0,inside:null}],"builtin-type":{pattern:/\b(?:anyerror|bool|c_u?(?:int|long|longlong|short)|c_longdouble|c_void|comptime_(?:float|int)|f(?:16|32|64|128)|[iu](?:8|16|32|64|128|size)|noreturn|type|void)\b/,alias:"keyword"},keyword:n,function:/\b(?!\d)\w+(?=\s*\()/,number:/\b(?:0b[01]+|0o[0-7]+|0x[a-fA-F\d]+(?:\.[a-fA-F\d]*)?(?:[pP][+-]?[a-fA-F\d]+)?|\d+(?:\.\d*)?(?:[eE][+-]?\d+)?)\b/,boolean:/\b(?:false|true)\b/,operator:/\.[*?]|\.{2,3}|[-=]>|\*\*|\+\+|\|\||(?:<<|>>|[-+*]%|[-+*/%^&|<>!=])=?|[?~]/,punctuation:/[.:,;(){}[\]]/},t.languages.zig["class-name"].forEach(function(d){d.inside===null&&(d.inside=t.languages.zig)})})(e)}Z.register(Ga);Z.register(Cc);Z.register(Kr);Z.register(Tx);Z.register(ts);Z.register(lC);Z.register(cC);Z.register(uC);Z.register(dC);Z.register(pC);Z.register(hC);Z.register(gC);Z.register(mC);Z.register(zp);Z.register(fC);Z.register(bC);Z.register(yC);Z.register(xC);Z.register(yo);Z.register(ju);Z.register(xx);Z.register(EC);Z.register(vC);Z.register(Vm);Z.register(Qm);Z.register(_x);Z.register(SC);Z.register(TC);Z.register(Fu);Z.register(wC);Z.register(kC);Z.register(CC);Z.register(_C);Z.register(AC);Z.register(NC);Z.register(IC);Z.register(RC);Z.register(Zm);Z.register(DC);Z.register(LC);Z.register(OC);Z.register(MC);Z.register(PC);Z.register(jC);Z.register(FC);Z.register(BC);Z.register(UC);Z.register($C);Z.register(HC);Z.register(zC);Z.register(GC);Z.register(qC);Z.register(WC);Z.register(YC);Z.register(VC);Z.register(KC);Z.register(QC);Z.register(XC);Z.register(ZC);Z.register(JC);Z.register(e2);Z.register(t2);Z.register(r2);Z.register($u);Z.register(n2);Z.register(a2);Z.register(s2);Z.register(i2);Z.register(o2);Z.register(l2);Z.register(c2);Z.register(u2);Z.register(d2);Z.register(p2);Z.register(Ex);Z.register(rs);Z.register(h2);Z.register(g2);Z.register(m2);Z.register(f2);Z.register(b2);Z.register(y2);Z.register(x2);Z.register(E2);Z.register(v2);Z.register(S2);Z.register(Km);Z.register(T2);Z.register(w2);Z.register(k2);Z.register(C2);Z.register(_2);Z.register(A2);Z.register(N2);Z.register(I2);Z.register(R2);Z.register(D2);Z.register(L2);Z.register(O2);Z.register(M2);Z.register(P2);Z.register(j2);Z.register(F2);Z.register(B2);Z.register(U2);Z.register($2);Z.register(H2);Z.register(z2);Z.register(G2);Z.register(vx);Z.register(q2);Z.register(W2);Z.register(Y2);Z.register(V2);Z.register(kx);Z.register(Lx);Z.register(K2);Z.register(Q2);Z.register(X2);Z.register(tf);Z.register(Z2);Z.register(J2);Z.register(e_);Z.register(t_);Z.register(r_);Z.register(n_);Z.register(Hp);Z.register(a_);Z.register(s_);Z.register(i_);Z.register(o_);Z.register(l_);Z.register(c_);Z.register(u_);Z.register(d_);Z.register(Sx);Z.register(p_);Z.register(h_);Z.register(Bu);Z.register(Uu);Z.register(Yp);Z.register(g_);Z.register(m_);Z.register(f_);Z.register(b_);Z.register(y_);Z.register(x_);Z.register(E_);Z.register(Gp);Z.register(v_);Z.register(S_);Z.register(T_);Z.register(w_);Z.register(k_);Z.register(C_);Z.register(__);Z.register(A_);Z.register(N_);Z.register(wx);Z.register(I_);Z.register(R_);Z.register(D_);Z.register(L_);Z.register(rf);Z.register(O_);Z.register(M_);Z.register(P_);Z.register(j_);Z.register(F_);Z.register(B_);Z.register(U_);Z.register($_);Z.register(Cx);Z.register(Mx);Z.register(H_);Z.register(z_);Z.register(G_);Z.register(q_);Z.register(W_);Z.register(Y_);Z.register(V_);Z.register(K_);Z.register(Q_);Z.register(X_);Z.register(Z_);Z.register(J_);Z.register(eA);Z.register(tA);Z.register(rA);Z.register(nA);Z.register(aA);Z.register(sA);Z.register(iA);Z.register(Ax);Z.register(oA);Z.register(lA);Z.register(cA);Z.register(uA);Z.register(dA);Z.register(pA);Z.register(hA);Z.register(gA);Z.register(mA);Z.register(fA);Z.register(bA);Z.register(yA);Z.register(Nx);Z.register(xA);Z.register(EA);Z.register(vA);Z.register(SA);Z.register(TA);Z.register(wA);Z.register(kA);Z.register(CA);Z.register(_A);Z.register(AA);Z.register(NA);Z.register(IA);Z.register(RA);Z.register(DA);Z.register(LA);Z.register(OA);Z.register(MA);Z.register(PA);Z.register(Xm);Z.register(jA);Z.register(FA);Z.register(BA);Z.register(UA);Z.register(Ix);Z.register($A);Z.register(HA);Z.register(Px);Z.register(zA);Z.register(GA);Z.register(qA);Z.register(WA);Z.register(YA);Z.register(VA);Z.register(KA);Z.register(QA);Z.register(XA);Z.register(Rx);Z.register(ZA);Z.register(Dx);Z.register(JA);Z.register(eN);Z.register(tN);Z.register(rN);Z.register(nN);Z.register(aN);Z.register(sN);Z.register(iN);Z.register(jx);Z.register(oN);Z.register(lN);Z.register(cN);Z.register(uN);Z.register(dN);Z.register(pN);Z.register(hN);Z.register(gN);Z.register(Ox);Z.register(mN);Z.register(nf);Z.register(fN);Z.register(Jm);Z.register(bN);Z.register(yN);Z.register(xN);Z.register(EN);Z.register(vN);Z.register(SN);Z.register(TN);Z.register(wN);Z.register(kN);Z.register(CN);Z.register(_N);Z.register(AN);Z.register(NN);Z.register(IN);Z.register(RN);Z.register(DN);Z.register(LN);Z.register(ON);Z.register(MN);Z.register(PN);Z.register(jN);Z.register(FN);Z.register(BN);Z.register(UN);Z.register($N);Z.register(HN);Z.register(zN);Z.register(GN);Z.register(qN);function hw(){hw=function(a,i){return new r(a,void 0,i)};var e=RegExp.prototype,t=new WeakMap;function r(a,i,o){var l=new RegExp(a,i);return t.set(l,o||t.get(a)),vy(l,r.prototype)}function n(a,i){var o=t.get(i);return Object.keys(o).reduce(function(l,u){var d=o[u];if(typeof d=="number")l[u]=a[d];else{for(var h=0;a[d[h]]===void 0&&h+1<d.length;)h++;l[u]=a[d[h]]}return l},Object.create(null))}return(function(a,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(i&&i.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),Object.defineProperty(a,"prototype",{writable:!1}),i&&vy(a,i)})(r,RegExp),r.prototype.exec=function(a){var i=e.exec.call(this,a);if(i){i.groups=n(i,this);var o=i.indices;o&&(o.groups=n(o,this))}return i},r.prototype[Symbol.replace]=function(a,i){if(typeof i=="string"){var o=t.get(this);return e[Symbol.replace].call(this,a,i.replace(/\$<([^>]+)>/g,function(u,d){var h=o[d];return"$"+(Array.isArray(h)?h.join("$"):h)}))}if(typeof i=="function"){var l=this;return e[Symbol.replace].call(this,a,function(){var u=arguments;return typeof u[u.length-1]!="object"&&(u=[].slice.call(u)).push(n(u,l)),i.apply(this,u)})}return e[Symbol.replace].call(this,a,i)},hw.apply(this,arguments)}function vy(e,t){return vy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},vy(e,t)}function $P(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function r1(e,t){var r=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r)return(r=r.call(e)).next.bind(r);if(Array.isArray(e)||(r=(function(a,i){if(a){if(typeof a=="string")return $P(a,i);var o=Object.prototype.toString.call(a).slice(8,-1);return o==="Object"&&a.constructor&&(o=a.constructor.name),o==="Map"||o==="Set"?Array.from(a):o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?$P(a,i):void 0}})(e))||t){r&&(e=r);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var jwe=function(e){return function(t){return t===void 0&&(t={}),(function(n,a){if(a&&!n.registered(a))throw new Error('The default language "'+a+'" is not registered with refractor.')})(e,t.defaultLanguage),function(n){Ja(n,"element",r)};function r(n,a,i){var o,l;if(i&&i.tagName==="pre"&&n.tagName==="code"){var u=(n==null||(o=n.data)==null?void 0:o.meta)||(n==null||(l=n.properties)==null?void 0:l.metastring)||"";n.properties.className?typeof n.properties.className=="boolean"?n.properties.className=[]:Array.isArray(n.properties.className)||(n.properties.className=[n.properties.className]):n.properties.className=[];var d,h,g=(function(D){for(var L,j=r1(D.properties.className);!(L=j()).done;){var B=L.value;if(B.slice(0,9)==="language-")return B.slice(9).toLowerCase()}return null})(n);if(!g&&t.defaultLanguage&&n.properties.className.push("language-"+(g=t.defaultLanguage)),n.properties.className.push("code-highlight"),g)try{var f,b;b=(f=g)!=null&&f.includes("diff-")?g.split("-")[1]:g,d=e.highlight(qd(n),b),i.properties.className=(i.properties.className||[]).concat("language-"+b)}catch(D){if(!t.ignoreMissing||!/Unknown language/.test(D.message))throw D;d=n}else d=n;d.children=(h=1,function D(L){return L.reduce(function(j,B){if(B.type==="text"){var q=B.value,z=(q.match(/\n/g)||"").length;if(z===0)B.position={start:{line:h,column:1},end:{line:h,column:1}},j.push(B);else for(var K,X=q.split(`
`),Q=r1(X.entries());!(K=Q()).done;){var O=K.value,H=O[0],$=O[1];j.push({type:"text",value:H===X.length-1?$:$+`
`,position:{start:{line:h+H,column:1},end:{line:h+H,column:1}}})}return h+=z,j}if(Object.prototype.hasOwnProperty.call(B,"children")){var Y=h;return B.children=D(B.children),j.push(B),B.position={start:{line:Y,column:1},end:{line:h,column:1}},j}return j.push(B),j},[])})(d.children),d.position=d.children.length>0?{start:{line:d.children[0].position.start.line,column:0},end:{line:d.children[d.children.length-1].position.end.line,column:0}}:{start:{line:0,column:0},end:{line:0,column:0}};for(var x,E=(function(D){var L=/{([\d,-]+)}/,j=D.split(",").map(function(z){return z.trim()}).join();if(L.test(j)){var B=L.exec(j)[1],q=rwe(B);return function(z){return q.includes(z+1)}}return function(){return!1}})(u),v=(function(D){var L=hw(/showLineNumbers=(\d+)/i,{lines:1});if(L.test(D)){var j=L.exec(D);return Number(j.groups.lines)}return 1})(u),T=(function(D){for(var L=new Array(D),j=0;j<D;j++)L[j]={type:"element",tagName:"span",properties:{className:[]},children:[]};return L})(d.position.end.line),w=["showlinenumbers=false",'showlinenumbers="false"',"showlinenumbers={false}"],N=function(){var D,L,j=x.value,B=j[0],q=j[1];q.properties.className=["code-line"];var z=ZTe(d,function(K){return K.position.start.line<=B+1&&K.position.end.line>=B+1});q.children=z.children,!u.toLowerCase().includes("showLineNumbers".toLowerCase())&&!t.showLineNumbers||w.some(function(K){return u.toLowerCase().includes(K)})||(q.properties.line=[(B+v).toString()],q.properties.className.push("line-number")),E(B)&&q.properties.className.push("highlight-line"),(g==="diff"||(D=g)!=null&&D.includes("diff-"))&&qd(q).substring(0,1)==="-"?q.properties.className.push("deleted"):(g==="diff"||(L=g)!=null&&L.includes("diff-"))&&qd(q).substring(0,1)==="+"&&q.properties.className.push("inserted")},R=r1(T.entries());!(x=R()).done;)N();T.length>0&&qd(T[T.length-1]).trim()===""&&T.pop(),n.children=T}}}},xH=jwe(Z),Eb={},gw={};function Fwe(e,t){for(var r=t,n=0;n<e.length;n++){var a=n===e.length-1,i=e.charAt(n),o=r[i]||(r[i]={chars:{}});a&&(o.self=e),r=o.chars}}function HP(e){if(e.length===0)return Eb;for(var t={},r=0,n=e;r<n.length;r++){var a=n[r];Fwe(a,t)}return t}function Bwe(e){if(e.length===0)return gw;for(var t={},r=0,n=e;r<n.length;r++){var a=n[r];t[a]=!0}return t}var q0={},zP={type:"String",optional:!0};function Uwe(e){var t={type:"NoArgument",optional:!1};function r(o){if(t.type&&t.type!==o&&t.type!=="NoArgument")throw new Error('Conflicting pseudo-class argument type: "'.concat(t.type,'" vs "').concat(o,'".'));t.type=o}for(var n=0,a=e;n<a.length;n++){var i=a[n];i==="NoArgument"&&(t.optional=!0),i==="Formula"&&r("Formula"),i==="FormulaOfSelector"&&(r("Formula"),t.ofSelector=!0),i==="String"&&r("String"),i==="Selector"&&r("Selector")}return t}function $we(e){for(var t={},r=0,n=Object.keys(e);r<n.length;r++){var a=n[r],i=e[a];if(i)for(var o=0,l=i;o<l.length;o++){var u=l[o];(t[u]||(t[u]=[])).push(a)}}return t}function GP(e){for(var t=$we(e),r={},n=0,a=Object.keys(t);n<a.length;n++){var i=a[n],o=t[i];o&&(r[i]=Uwe(o))}return r}var Tp=function(){return Tp=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},Tp.apply(this,arguments)},Hwe={},mw={wildcard:!0};function zwe(e){return e?typeof e=="boolean"?mw:e:Hwe}function Gwe(e,t){return function(r,n){return t(e(r),e(n))}}function qwe(e){return function(t,r){var n=e(t,r);if(!n)throw new Error("Syntax definition cannot be null or undefined.");return n}}function qP(e,t){return function(r,n){return n===!0?e:t(r===!0?e:r,n)}}function Ld(e){return function(t,r){if(!r||!t)return r;if(typeof r!="object"||r===null)throw new Error("Unexpected syntax definition extension type: ".concat(r,"."));for(var n=Tp({},t),a=0,i=Object.entries(r);a<i.length;a++){var o=i[a],l=o[0],u=o[1];if(l!=="latest"){var d=e[l];n[l]=d(t[l],u)}}return n}}function bl(e,t){return t!==void 0?t:e}function W0(e,t){return t?e?e.concat(t):t:e}function WP(e,t){if(!t)return e;if(!e)return t;for(var r=Tp({},e),n=0,a=Object.entries(t);n<a.length;n++){var i=a[n],o=i[0],l=i[1];if(!l){delete r[o];continue}var u=e[o];if(!u){r[o]=l;continue}r[o]=u.concat(l)}return r}var du=qwe(Ld({baseSyntax:bl,modules:W0,tag:qP(mw,Ld({wildcard:bl})),ids:bl,classNames:bl,namespace:qP(mw,Ld({wildcard:bl})),combinators:W0,attributes:Ld({operators:W0,caseSensitivityModifiers:W0,unknownCaseSensitivityModifiers:bl}),pseudoClasses:Ld({unknown:bl,definitions:WP}),pseudoElements:Ld({unknown:bl,notation:bl,definitions:Gwe(function(e){return Array.isArray(e)?{NoArgument:e}:e},WP)})})),EH={tag:{},ids:!0,classNames:!0,combinators:[],pseudoElements:{unknown:"reject",notation:"singleColon",definitions:["first-letter","first-line"]},pseudoClasses:{unknown:"reject",definitions:{NoArgument:["link","visited","active"]}}},vH=du(EH,{tag:{wildcard:!0},combinators:[">","+"],attributes:{unknownCaseSensitivityModifiers:"reject",operators:["=","~=","|="]},pseudoElements:{definitions:["before","after"]},pseudoClasses:{unknown:"reject",definitions:{NoArgument:["hover","focus","first-child"],String:["lang"]}}}),fw=du(vH,{namespace:{wildcard:!0},combinators:["~"],attributes:{operators:["^=","$=","*="]},pseudoElements:{notation:"both"},pseudoClasses:{definitions:{NoArgument:["root","last-child","first-of-type","last-of-type","only-child","only-of-type","empty","target","enabled","disabled","checked","indeterminate"],Formula:["nth-child","nth-last-child","nth-of-type","nth-last-of-type"],Selector:["not"]}}}),SH=du(fw,{combinators:["||"],attributes:{caseSensitivityModifiers:["i","I","s","S"]},pseudoClasses:{definitions:{NoArgument:["any-link","local-link","target-within","scope","current","past","future","focus-within","focus-visible","read-write","read-only","placeholder-shown","default","valid","invalid","in-range","out-of-range","required","optional","blank","user-invalid","playing","paused","autofill","modal","fullscreen","picture-in-picture","defined","loading","popover-open"],Formula:["nth-col","nth-last-col"],String:["dir"],FormulaOfSelector:["nth-child","nth-last-child"],Selector:["current","is","where","has","state"]}},pseudoElements:{definitions:{NoArgument:["marker"]}}}),Sy={"css-position-1":{latest:!1,pseudoClasses:{definitions:{NoArgument:["static","relative","absolute"]}}},"css-position-2":{latest:!1,pseudoClasses:{definitions:{NoArgument:["static","relative","absolute","fixed"]}}},"css-position-3":{latest:!1,pseudoClasses:{definitions:{NoArgument:["sticky","fixed","absolute","relative","static"]}}},"css-position-4":{latest:!0,pseudoClasses:{definitions:{NoArgument:["sticky","fixed","absolute","relative","static","initial"]}}},"css-scoping-1":{latest:!0,pseudoClasses:{definitions:{NoArgument:["host","host-context"],Selector:["host","host-context"]}},pseudoElements:{definitions:{Selector:["slotted"]}}},"css-pseudo-4":{latest:!0,pseudoElements:{definitions:{NoArgument:["marker","selection","target-text","search-text","spelling-error","grammar-error","backdrop","file-selector-button","prefix","postfix","placeholder","details-content"],String:["highlight"]}}},"css-shadow-parts-1":{latest:!0,pseudoElements:{definitions:{String:["part"]}}}},TH=Tp(Tp({},SH),{modules:Object.entries(Sy).filter(function(e){var t=e[1].latest;return t}).map(function(e){var t=e[0];return t})}),Wwe=du(TH,{pseudoElements:{unknown:"accept"},pseudoClasses:{unknown:"accept"},attributes:{unknownCaseSensitivityModifiers:"accept"}}),bw={css1:EH,css2:vH,css3:fw,"selectors-3":fw,"selectors-4":SH,latest:TH,progressive:Wwe};function Ywe(){for(var e={pseudoClasses:{},pseudoElements:{}},t=["css1","css2","css3","selectors-3","selectors-4"],r=0,n=t;r<n.length;r++){var a=n[r],i=bw[a];if(i.pseudoClasses&&typeof i.pseudoClasses=="object"){var o=i.pseudoClasses.definitions;if(o)for(var l=0,u=Object.entries(o);l<u.length;l++)for(var d=u[l],h=d[1],g=0,f=h;g<f.length;g++){var b=f[g];e.pseudoClasses[b]||(e.pseudoClasses[b]=[]),e.pseudoClasses[b].includes(a)||e.pseudoClasses[b].push(a)}}if(i.pseudoElements&&typeof i.pseudoElements=="object"){var o=i.pseudoElements.definitions;if(o)if(Array.isArray(o))for(var x=0,E=o;x<E.length;x++){var v=E[x];e.pseudoElements[v]||(e.pseudoElements[v]=[]),e.pseudoElements[v].includes(a)||e.pseudoElements[v].push(a)}else for(var T=0,w=Object.values(o);T<w.length;T++)for(var h=w[T],N=0,R=h;N<R.length;N++){var D=R[N];e.pseudoElements[D]||(e.pseudoElements[D]=[]),e.pseudoElements[D].includes(a)||e.pseudoElements[D].push(a)}}}for(var L=0,j=Object.entries(Sy);L<j.length;L++){var B=j[L],q=B[0],z=B[1];if(z.pseudoClasses&&typeof z.pseudoClasses=="object"){var o=z.pseudoClasses.definitions;if(o)for(var K=0,X=Object.values(o);K<X.length;K++)for(var h=X[K],Q=0,O=h;Q<O.length;Q++){var H=O[Q];e.pseudoClasses[H]||(e.pseudoClasses[H]=[]),e.pseudoClasses[H].includes(q)||e.pseudoClasses[H].push(q)}}if(z.pseudoElements&&typeof z.pseudoElements=="object"){var o=z.pseudoElements.definitions;if(o)if(Array.isArray(o))for(var $=0,Y=o;$<Y.length;$++){var V=Y[$];e.pseudoElements[V]||(e.pseudoElements[V]=[]),e.pseudoElements[V].includes(q)||e.pseudoElements[V].push(q)}else for(var ne=0,P=Object.values(o);ne<P.length;ne++)for(var h=P[ne],I=0,G=h;I<G.length;I++){var F=G[I];e.pseudoElements[F]||(e.pseudoElements[F]=[]),e.pseudoElements[F].includes(q)||e.pseudoElements[F].push(q)}}}return e}var YP=Ywe();function sg(e){return e>="a"&&e<="z"||e>="A"&&e<="Z"||e==="-"||e==="_"||e==="\\"||e>=""}function VP(e){return e>="a"&&e<="z"||e>="A"&&e<="Z"||e>="0"&&e<="9"||e==="-"||e==="_"||e>=""}function ig(e){return e>="a"&&e<="f"||e>="A"&&e<="F"||e>="0"&&e<="9"}var Vwe={" ":!0,"	":!0,"\n":!0,"\r":!0,"\f":!0},Kwe={'"':!0,"'":!0},n1={0:!0,1:!0,2:!0,3:!0,4:!0,5:!0,6:!0,7:!0,8:!0,9:!0},Qwe=6,a1="css-selector-parser parse error: ";function Xwe(e){e===void 0&&(e={});var t=e.syntax,r=t===void 0?"latest":t,n=e.substitutes,a=e.strict,i=a===void 0?!0:a,o=e.modules,l=typeof r=="object"?r:bw[r];if(l.baseSyntax&&(l=du(bw[l.baseSyntax],l)),l.modules&&l.modules.length>0)for(var u=0,d=l.modules;u<d.length;u++){var h=d[u],g=Sy[h];g&&(l=du(g,l))}if(o&&o.length>0)for(var f=0,b=o;f<b.length;f++){var x=b[f],g=Sy[x];g&&(l=du(g,l))}var E=l.tag?[!0,!!zwe(l.tag).wildcard]:[!1,!1],v=E[0],T=E[1],w=!!l.ids,N=!!l.classNames,R=!!l.namespace,D=l.namespace&&(l.namespace===!0||l.namespace.wildcard===!0);if(R&&!v)throw new Error("".concat(a1,"Namespaces cannot be enabled while tags are disabled."));var L=!!n,j=l.combinators?HP(l.combinators):Eb,B=l.attributes?[!0,l.attributes.operators?HP(l.attributes.operators):Eb,l.attributes.caseSensitivityModifiers?Bwe(l.attributes.caseSensitivityModifiers):gw,l.attributes.unknownCaseSensitivityModifiers==="accept"]:[!1,Eb,gw,!1],q=B[0],z=B[1],K=B[2],X=B[3],Q=X||Object.keys(K).length>0,O=l.pseudoClasses?[!0,l.pseudoClasses.definitions?GP(l.pseudoClasses.definitions):q0,l.pseudoClasses.unknown==="accept"]:[!1,q0,!1],H=O[0],$=O[1],Y=O[2],V=l.pseudoElements?[!0,l.pseudoElements.notation==="singleColon"||l.pseudoElements.notation==="both",!l.pseudoElements.notation||l.pseudoElements.notation==="doubleColon"||l.pseudoElements.notation==="both",l.pseudoElements.definitions?GP(Array.isArray(l.pseudoElements.definitions)?{NoArgument:l.pseudoElements.definitions}:l.pseudoElements.definitions):q0,l.pseudoElements.unknown==="accept"]:[!1,!1,!1,q0,!1],ne=V[0],P=V[1],I=V[2],G=V[3],F=V[4],ie="",he=ie.length,ye=0,ge="",pe=function(je){return ge===je},Be=function(){return pe("*")||sg(ge)},Ee=function(je){ye=je,ge=ie.charAt(ye)},we=function(){ye++,ge=ie.charAt(ye)},Je=function(){var je=ge;return ye++,ge=ie.charAt(ye),je};function Ke(je){var it=Math.min(he-1,ye),mr=new Error("".concat(a1).concat(je," Pos: ").concat(it,"."));throw mr.position=it,mr.name="ParserError",mr}function ze(je,it){if(!je)return Ke(it)}var Vt=function(){ze(ye<he,"Unexpected end of input.")},kt=function(){return ye>=he},wt=function(je){ze(ye<he,'Expected "'.concat(je,'" but end of input reached.')),ze(ge===je,'Expected "'.concat(je,'" but "').concat(ge,'" found.')),ye++,ge=ie.charAt(ye)};function _t(je){var it=jt(je,ye);if(it)return ye+=it.length,ge=ie.charAt(ye),it}function jt(je,it){var mr=ie.charAt(it),Ut=je[mr];if(Ut){var Qr=jt(Ut.chars,it+1);if(Qr)return Qr;if(Ut.self)return Ut.self}}function mt(){for(var je=Je(),it=1;ig(ge)&&it<Qwe;)je+=Je(),it++;return dr(),String.fromCharCode(parseInt(je,16))}function zt(je){var it="";for(wt(je);ye<he;){if(pe(je))return we(),it;pe("\\")?(we(),pe(je)?(it+=je,we()):ge===`
`||ge==="\f"?we():ge==="\r"?(we(),pe(`
`)&&we()):ig(ge)?it+=mt():(it+=ge,we())):(it+=ge,we())}return it}function ar(){if(!sg(ge))return null;for(var je="";pe("-");)je+=ge,we();for(je==="-"&&!VP(ge)&&!pe("\\")&&Ke("Identifiers cannot consist of a single hyphen."),i&&je.length>=2&&Ke("Identifiers cannot start with two hyphens with strict mode on."),n1[ge]&&Ke("Identifiers cannot start with hyphens followed by digits.");ye<he;)if(VP(ge))je+=Je();else if(pe("\\"))we(),Vt(),ig(ge)?je+=mt():je+=Je();else break;return je}function kr(){for(var je="";ye<he&&!pe(")");)if(pe("\\")){if(we(),kt()&&!i)return(je+"\\").trim();Vt(),ig(ge)?je+=mt():je+=Je()}else je+=Je();return je.trim()}function dr(){if(ge===" "||ge==="	"||ge==="\f"||ge===`
`){we();return}ge==="\r"&&we(),ge===`
`&&we()}function Jt(){for(;Vwe[ge];)we()}function le(je){je===void 0&&(je=!1),Jt();for(var it=[Ct(je)];pe(",");)we(),Jt(),it.push(Ct(je));return{type:"Selector",rules:it}}function se(){wt("["),Jt();var je;if(pe("|")){ze(R,"Namespaces are not enabled."),we();var it=ar();ze(it,"Expected attribute name."),je={type:"Attribute",name:it,namespace:{type:"NoNamespace"}}}else if(pe("*")){ze(R,"Namespaces are not enabled."),ze(D,"Wildcard namespace is not enabled."),we(),wt("|");var mr=ar();ze(mr,"Expected attribute name."),je={type:"Attribute",name:mr,namespace:{type:"WildcardNamespace"}}}else{var Ut=ar();if(ze(Ut,"Expected attribute name."),je={type:"Attribute",name:Ut},pe("|")){var Qr=ye;if(we(),sg(ge)){ze(R,"Namespaces are not enabled.");var Mt=ar();ze(Mt,"Expected attribute name."),je={type:"Attribute",name:Mt,namespace:{type:"NamespaceName",name:Ut}}}else Ee(Qr)}}if(ze(je.name,"Expected attribute name."),Jt(),kt()&&!i)return je;if(pe("]"))we();else{if(je.operator=_t(z),ze(je.operator,"Expected a valid attribute selector operator."),Jt(),Vt(),Kwe[ge])je.value={type:"String",value:zt(ge)};else if(L&&pe("$")){we();var nn=ar();ze(nn,"Expected substitute name."),je.value={type:"Substitution",name:nn}}else{var Bn=ar();ze(Bn,"Expected attribute value."),je.value={type:"String",value:Bn}}if(Jt(),kt()&&!i)return je;if(!pe("]")){var Xr=ar();if(ze(Xr,"Expected end of attribute selector."),je.caseSensitivityModifier=Xr,ze(Q,"Attribute case sensitivity modifiers are not enabled."),ze(X||K[je.caseSensitivityModifier],"Unknown attribute case sensitivity modifier."),Jt(),kt()&&!i)return je}wt("]")}return je}function Ce(){for(var je="";n1[ge];)je+=Je();return ze(je!=="","Formula parse error."),parseInt(je)}var De=function(){return pe("-")||pe("+")||n1[ge]};function dt(){if(pe("e")||pe("o")){var je=ar();if(je==="even")return Jt(),[2,0];if(je==="odd")return Jt(),[2,1]}var it=null,mr=1;if(pe("-")&&(we(),mr=-1),De()&&(pe("+")&&we(),it=Ce(),!pe("\\")&&!pe("n")))return[0,it*mr];it===null&&(it=1),it*=mr;var Ut;if(pe("\\")?(we(),ig(ge)?Ut=mt():Ut=Je()):Ut=Je(),ze(Ut==="n",'Formula parse error: expected "n".'),Jt(),pe("+")||pe("-")){var Qr=pe("+")?1:-1;return we(),Jt(),[it,Qr*Ce()]}else return[it,0]}function lt(je,it,mr){var Ut;if(pe("(")){if(we(),Jt(),L&&pe("$")){we();var Qr=ar();ze(Qr,"Expected substitute name."),Ut={type:"Substitution",name:Qr}}else if(mr.type==="String")Ut={type:"String",value:kr()},ze(Ut.value,"Expected ".concat(it," argument value."));else if(mr.type==="Selector")Ut=le(!0);else if(mr.type==="Formula"){var Mt=dt(),nn=Mt[0],Bn=Mt[1];if(Ut={type:"Formula",a:nn,b:Bn},mr.ofSelector&&(Jt(),pe("o")||pe("\\"))){var Xr=ar();ze(Xr==="of","Formula of selector parse error."),Jt(),Ut={type:"FormulaOfSelector",a:nn,b:Bn,selector:Ct()}}}else return Ke("Invalid ".concat(it," signature."));if(Jt(),kt()&&!i)return Ut;wt(")")}else ze(mr.optional,"Argument is required for ".concat(it,' "').concat(je,'".'));return Ut}function qt(){if(pe("*"))return ze(T,"Wildcard tag name is not enabled."),we(),{type:"WildcardTag"};if(sg(ge)){ze(v,"Tag names are not enabled.");var je=ar();return ze(je,"Expected tag name."),{type:"TagName",name:je}}else return Ke("Expected tag name.")}function Ft(){if(pe("*")){var je=ye;if(we(),!pe("|")||(we(),!Be()))return Ee(je),qt();ze(R,"Namespaces are not enabled."),ze(D,"Wildcard namespace is not enabled.");var it=qt();return it.namespace={type:"WildcardNamespace"},it}else if(pe("|")){ze(R,"Namespaces are not enabled."),we();var it=qt();return it.namespace={type:"NoNamespace"},it}else if(sg(ge)){var mr=ar();if(ze(mr,"Expected tag name."),!pe("|"))return ze(v,"Tag names are not enabled."),{type:"TagName",name:mr};var je=ye;if(we(),!Be())return Ee(je),{type:"TagName",name:mr};ze(R,"Namespaces are not enabled.");var it=qt();return it.namespace={type:"NamespaceName",name:mr},it}else return Ke("Expected tag name.")}function Ct(je){var it,mr;je===void 0&&(je=!1);var Ut={type:"Rule",items:[]};if(je){var Qr=_t(j);Qr&&(Ut.combinator=Qr,Jt())}for(;ye<he;)if(Be())ze(Ut.items.length===0,"Unexpected tag/namespace start."),Ut.items.push(Ft());else if(pe("|")){var Mt=ye;if(we(),Be())ze(Ut.items.length===0,"Unexpected tag/namespace start."),Ee(Mt),Ut.items.push(Ft());else{Ee(Mt);break}}else if(pe(".")){ze(N,"Class names are not enabled."),we();var nn=ar();ze(nn,"Expected class name."),Ut.items.push({type:"ClassName",name:nn})}else if(pe("#")){ze(w,"IDs are not enabled."),we();var Bn=ar();ze(Bn,"Expected ID name."),Ut.items.push({type:"Id",name:Bn})}else if(pe("["))ze(q,"Attributes are not enabled."),Ut.items.push(se());else if(pe(":")){var Xr=!1,be=!1;we(),pe(":")&&(ze(ne,"Pseudo elements are not enabled."),ze(I,"Pseudo elements double colon notation is not enabled."),Xr=!0,we());var Ue=ar();if(ze(Xr||Ue,"Expected pseudo-class name."),ze(!Xr||Ue,"Expected pseudo-element name."),ze(Ue,"Expected pseudo-class name."),!(!Xr||F||Object.prototype.hasOwnProperty.call(G,Ue))){var et=YP.pseudoElements[Ue],Ht='Unknown pseudo-element "'.concat(Ue,'"');et&&et.length>0&&(Ht+=". It is defined in: ".concat(et.join(", "))),Ke(Ht+".")}if(be=ne&&(Xr||!Xr&&P&&Object.prototype.hasOwnProperty.call(G,Ue)),be){var Ar=(it=G[Ue])!==null&&it!==void 0?it:F&&zP,Ur={type:"PseudoElement",name:Ue},It=lt(Ue,"pseudo-element",Ar);It&&(ze(It.type!=="Formula"&&It.type!=="FormulaOfSelector","Pseudo-elements cannot have formula argument."),Ur.argument=It),Ut.items.push(Ur)}else{ze(H,"Pseudo-classes are not enabled.");var Ar=(mr=$[Ue])!==null&&mr!==void 0?mr:Y&&zP;if(!Ar){var et=YP.pseudoClasses[Ue],Ht='Unknown pseudo-class: "'.concat(Ue,'"');et&&et.length>0&&(Ht+=". It is defined in: ".concat(et.join(", "))),Ke(Ht+".")}var It=lt(Ue,"pseudo-class",Ar),At={type:"PseudoClass",name:Ue};It&&(At.argument=It),Ut.items.push(At)}}else break;if(Ut.items.length===0)return kt()?Ke("Expected rule but end of input reached."):Ke('Expected rule but "'.concat(ge,'" found.'));if(Jt(),!kt()&&!pe(",")&&!pe(")")){var Qr=_t(j);Jt(),Ut.nestedRule=Ct(),Ut.nestedRule.combinator=Qr}return Ut}return function(je){if(typeof je!="string")throw new Error("".concat(a1,"Expected string input."));return ie=je,he=ie.length,ye=0,ge=ie.charAt(0),le()}}const Zwe=Xwe({syntax:"selectors-4"});function Jwe(e){if(typeof e!="string")throw new TypeError("Expected `string` as selector, not `"+e+"`");return Zwe(e)}const wH="---",kH="A-Za-z--------",eke=new RegExp("^[^"+kH+"]*["+wH+"]"),tke=new RegExp("^[^"+wH+"]*["+kH+"]");function rke(e){const t=String(e||"");return eke.test(t)?"rtl":tke.test(t)?"ltr":"neutral"}function nke(e,t){const r=e.schema,n=e.language,a=e.direction,i=e.editableOrEditingHost;let o;if(t.type==="element"){const d=t.properties.xmlLang||t.properties.lang,h=t.properties.type||"text",g=KP(t);d!=null&&(e.language=String(d)),r&&r.space==="html"?(t.properties.contentEditable==="true"&&(e.editableOrEditingHost=!0),t.tagName==="svg"&&(e.schema=Il),g==="rtl"?o=g:g==="ltr"||g!=="auto"&&t.tagName==="html"||g!=="auto"&&t.tagName==="input"&&h==="tel"?o="ltr":(g==="auto"||t.tagName==="bdi")&&(t.tagName==="textarea"?o=s1(qd(t)):t.tagName==="input"&&(h==="email"||h==="search"||h==="tel"||h==="text")?o=t.properties.value?s1(String(t.properties.value)):"ltr":Ja(t,u)),o&&(e.direction=o)):e.editableOrEditingHost&&(e.editableOrEditingHost=!1)}return l;function l(){e.schema=r,e.language=n,e.direction=a,e.editableOrEditingHost=i}function u(d){if(d.type==="text")return o=s1(d.value),o?Ib:void 0;if(d!==t&&d.type==="element"&&(d.tagName==="bdi"||d.tagName==="script"||d.tagName==="style"||d.tagName==="textare"||KP(d)))return Ng}}function s1(e){const t=rke(e);return t==="neutral"?void 0:t}function KP(e){const t=e.type==="element"&&typeof e.properties.dir=="string"?e.properties.dir.toLowerCase():void 0;return t==="auto"||t==="ltr"||t==="rtl"?t:void 0}function ake(e,t,r){const n=Rm(r,e.name),a=t.properties[n.property];let i=ske(a,n);if(!e.value)return i!==void 0;e.value.type;let o=e.value.value;if(e.caseSensitivityModifier==="i"&&(o=o.toLowerCase(),i&&(i=i.toLowerCase())),i!==void 0)switch(e.operator){case"=":return o===i;case"$=":return o===i.slice(-o.length);case"*=":return i.includes(o);case"^=":return o===i.slice(0,o.length);case"|=":return o===i||o===i.slice(0,o.length)&&i.charAt(o.length)==="-";case"~=":return o===i||tm(i).includes(o)}return!1}function ske(e,t){if(e!=null)if(typeof e=="boolean"){if(e)return t.attribute}else if(Array.isArray(e)){if(e.length>0)return(t.commaSeparated?Ly:Oy)(e)}else return String(e)}const ike=[];function oke(e,t){return(t.properties.className||ike).includes(e.name)}function lke(e,t){return t.properties.id===e.name}function cke(e,t){return e.name===t.tagName}function uke(e,t){return function(r,n){let a=QP(r,"tag");const i=QP(n??"*","range"),o=[];let l=-1;for(;++l<i.length;){const u=i[l].toLowerCase();if(!t&&u==="*")continue;let d=-1;const h=[];for(;++d<a.length;)if(e(a[d].toLowerCase(),u)){if(!t)return a[d];o.push(a[d])}else h.push(a[d]);a=h}return t?o:void 0}}const dke=uke(function(e,t){const r=e.split("-"),n=t.split("-");let a=0,i=0;if(n[i]!=="*"&&r[a]!==n[i])return!1;for(a++,i++;i<n.length;){if(n[i]==="*"){i++;continue}if(!r[a])return!1;if(r[a]===n[i]){a++,i++;continue}if(r[a].length===1)return!1;a++}return!0},!0);function QP(e,t){const r=e&&typeof e=="string"?[e]:e;if(!r||typeof r!="object"||!("length"in r))throw new Error("Invalid "+t+" `"+r+"`, expected non-empty string");return r}const pke={}.hasOwnProperty;function ku(e,t){const r=e.type==="element"&&pke.call(e.properties,t)&&e.properties[t];return r!=null&&r!==!1}const hke=new Set([9,10,12,13,32]),XP=48,gke=57;function mke(e){if(e=e.trim().toLowerCase(),e==="even")return[2,0];if(e==="odd")return[2,1];let t=0,r=0,n=i(),a=o();if(t<e.length&&e.charAt(t)==="n"&&(t++,r=n*(a??1),l(),t<e.length?(n=i(),l(),a=o()):n=a=0),a===null||t<e.length)throw new Error(`n-th rule couldn't be parsed ('${e}')`);return[r,n*a];function i(){return e.charAt(t)==="-"?(t++,-1):(e.charAt(t)==="+"&&t++,1)}function o(){const u=t;let d=0;for(;t<e.length&&e.charCodeAt(t)>=XP&&e.charCodeAt(t)<=gke;)d=d*10+(e.charCodeAt(t)-XP),t++;return t===u?null:d}function l(){for(;t<e.length&&hke.has(e.charCodeAt(t));)t++}}var i1,ZP;function fke(){return ZP||(ZP=1,i1={trueFunc:function(){return!0},falseFunc:function(){return!1}}),i1}var bke=fke();const JP=Al(bke);function yke(e){const t=e[0],r=e[1]-1;if(r<0&&t<=0)return JP.falseFunc;if(t===-1)return i=>i<=r;if(t===0)return i=>i===r;if(t===1)return r<0?JP.trueFunc:i=>i>=r;const n=Math.abs(t),a=(r%n+n)%n;return t>1?i=>i>=r&&i%n===a:i=>i<=r&&i%n===a}function e4(e){return yke(mke(e))}const xke=e4.default||e4,Eke=Uy("name",{handlers:{"any-link":vke,blank:Ske,checked:Tke,dir:wke,disabled:CH,empty:kke,enabled:Cke,"first-child":_ke,"first-of-type":Ake,has:Nke,is:_H,lang:Rke,"last-child":Dke,"last-of-type":Lke,not:Oke,"nth-child":Mke,"nth-last-child":Pke,"nth-last-of-type":jke,"nth-of-type":Fke,"only-child":Bke,"only-of-type":Uke,optional:$ke,"read-only":Hke,"read-write":AH,required:NH,root:zke,scope:Gke},invalid:Ike,unknown:qke});function vke(e,t){return(t.tagName==="a"||t.tagName==="area"||t.tagName==="link")&&ku(t,"href")}function Qo(e,t){if(e.shallow)throw new Error("Cannot use `:"+t.name+"` without parent")}function Ske(e,t){return!IH(t,r);function r(n){return n.type==="element"||n.type==="text"&&!Nm(n)}}function Tke(e,t){return t.tagName==="input"||t.tagName==="menuitem"?!!((t.properties.type==="checkbox"||t.properties.type==="radio")&&ku(t,"checked")):t.tagName==="option"?ku(t,"selected"):!1}function wke(e,t,r,n,a){return e.argument,e.argument.type,a.direction===e.argument.value}function CH(e,t){return(t.tagName==="button"||t.tagName==="input"||t.tagName==="select"||t.tagName==="textarea"||t.tagName==="optgroup"||t.tagName==="option"||t.tagName==="menuitem"||t.tagName==="fieldset")&&ku(t,"disabled")}function kke(e,t){return!IH(t,r);function r(n){return n.type==="element"||n.type==="text"}}function Cke(e,t){return!CH(e,t)}function _ke(e,t,r,n,a){return Qo(a,e),a.elementIndex===0}function Ake(e,t,r,n,a){return Qo(a,e),a.typeIndex===0}function Fx(e){let t=e._cachedFn;if(!t){const r=e.argument;if(r.type!=="Formula")throw new Error("Expected `nth` formula, such as `even` or `2n+1` (`of` is not yet supported)");t=xke(r.a+"n+"+r.b),e._cachedFn=t}return t}function Nke(e,t,r,n,a){e.argument,e.argument.type;const i={...a,found:!1,one:!0,results:[],rootQuery:e.argument,scopeElements:[t],shallow:!1};return WN(i,{type:"root",children:t.children}),i.results.length>0}function Ike(){}function _H(e,t,r,n,a){e.argument,e.argument.type;const i={...a,found:!1,one:!0,results:[],rootQuery:e.argument,scopeElements:[t],shallow:!1};return WN(i,t),i.results[0]===t}function Rke(e,t,r,n,a){return e.argument,e.argument.type,a.language!==""&&a.language!==void 0&&dke(a.language,Jg(e.argument.value)).length>0}function Dke(e,t,r,n,a){return Qo(a,e),!!(a.elementCount&&a.elementIndex===a.elementCount-1)}function Lke(e,t,r,n,a){return Qo(a,e),typeof a.typeIndex=="number"&&typeof a.typeCount=="number"&&a.typeIndex===a.typeCount-1}function Oke(e,t,r,n,a){return!_H(e,t,r,n,a)}function Mke(e,t,r,n,a){const i=Fx(e);return Qo(a,e),typeof a.elementIndex=="number"&&i(a.elementIndex)}function Pke(e,t,r,n,a){const i=Fx(e);return Qo(a,e),!!(typeof a.elementCount=="number"&&typeof a.elementIndex=="number"&&i(a.elementCount-a.elementIndex-1))}function jke(e,t,r,n,a){const i=Fx(e);return Qo(a,e),typeof a.typeCount=="number"&&typeof a.typeIndex=="number"&&i(a.typeCount-1-a.typeIndex)}function Fke(e,t,r,n,a){const i=Fx(e);return Qo(a,e),typeof a.typeIndex=="number"&&i(a.typeIndex)}function Bke(e,t,r,n,a){return Qo(a,e),a.elementCount===1}function Uke(e,t,r,n,a){return Qo(a,e),a.typeCount===1}function $ke(e,t){return!NH(e,t)}function Hke(e,t,r,n,a){return!AH(e,t,r,n,a)}function AH(e,t,r,n,a){return t.tagName==="input"||t.tagName==="textarea"?!ku(t,"readOnly")&&!ku(t,"disabled"):!!a.editableOrEditingHost}function NH(e,t){return(t.tagName==="input"||t.tagName==="textarea"||t.tagName==="select")&&ku(t,"required")}function zke(e,t,r,n,a){return!!((!n||n.type==="root")&&a.schema&&(a.schema.space==="html"||a.schema.space==="svg")&&(t.tagName==="html"||t.tagName==="svg"))}function Gke(e,t,r,n,a){return a.scopeElements.includes(t)}function IH(e,t){const r=e.children;let n=-1;for(;++n<r.length;)if(t(r[n]))return!0;return!1}function qke(e){const t=e;throw new Error("Unknown pseudo-selector `"+t.name+"`")}function Wke(e,t,r,n,a){for(const i of e.items)if(i.type==="Attribute"){if(!ake(i,t,a.schema))return!1}else if(i.type==="Id"){if(!lke(i,t))return!1}else if(i.type==="ClassName"){if(!oke(i,t))return!1}else if(i.type==="PseudoClass"){if(!Eke(i,t,r,n,a))return!1}else{if(i.type==="PseudoElement")throw new Error("Invalid selector: `::"+i.name+"`");if(i.type==="TagName"&&!cke(i,t))return!1}return!0}const Yke=[];function WN(e,t){t&&RH(e,[],t,void 0,void 0,t)}function o1(e,t,r){const n=e[t];n?n.push(r):e[t]=[r]}function Vke(e,t,r,n){const a=vb(t.descendant,t.directChild);let i,o=-1;const l={count:0,types:new Map},u={count:0,types:new Map};for(;++o<r.children.length;)t4(l,r.children[o]);for(o=-1;++o<r.children.length;){const d=r.children[o],h=d.type==="element"?d.tagName.toUpperCase():void 0;if(e.elementIndex=u.count,e.typeIndex=h&&u.types.get(h)||0,e.elementCount=l.count,e.typeCount=h?l.types.get(h):0,"children"in d){const g=vb(a,i),f=RH(e,g,r.children[o],o,r,n);i=vb(f.generalSibling,f.adjacentSibling)}if(e.one&&e.found)break;t4(u,r.children[o])}}function Kke(e,t,r,n,a){const i={adjacentSibling:void 0,descendant:void 0,directChild:void 0,generalSibling:void 0};let o=-1;for(;++o<t.length;){const l=t[o];if(e.one&&e.found)break;if(e.shallow&&l.nestedRule)throw new Error("Expected selector without nesting");if(Wke(l,r,n,a,e)){const u=l.nestedRule;if(u){const d=u.combinator==="+"?"adjacentSibling":u.combinator==="~"?"generalSibling":u.combinator===">"?"directChild":"descendant";o1(i,d,u)}else e.found=!0,e.results.includes(r)||e.results.push(r)}l.combinator===void 0?o1(i,"descendant",l):l.combinator==="~"&&o1(i,"generalSibling",l)}return i}function vb(e,t){return e&&t&&e.length>0&&t.length>0?[...e,...t]:e&&e.length>0?e:t&&t.length>0?t:Yke}function t4(e,t){if(t.type==="element"){const r=t.tagName.toUpperCase(),n=(e.types.get(r)||0)+1;e.count++,e.types.set(r,n)}}function RH(e,t,r,n,a,i){let o={adjacentSibling:void 0,descendant:void 0,directChild:void 0,generalSibling:void 0};const l=nke(e,r);if(r.type==="element"){let u=e.rootQuery.rules;a&&a!==i&&(u=e.rootQuery.rules.filter(d=>d.combinator===void 0||d.combinator===">"&&a===i)),o=Kke(e,vb(t,u),r,n,a)}return"children"in r&&!e.shallow&&!(e.one&&e.found)&&Vke(e,o,r,i),l(),o}function Qke(e,t,r){const n=Xke(e,t);return WN(n,t||void 0),n.results}function Xke(e,t,r){return{direction:"ltr",editableOrEditingHost:!1,elementCount:void 0,elementIndex:void 0,found:!1,language:void 0,one:!1,results:[],rootQuery:Jwe(e),schema:Np,scopeElements:t?t.type==="root"?t.children:[t]:[],shallow:!1,typeIndex:void 0,typeCount:void 0}}const DH=(e=[],t="")=>(e.forEach(r=>{r.type==="text"?t+=r.value:r.type==="element"&&r.children&&Array.isArray(r.children)&&(t+=DH(r.children))}),t),Zke=e=>{const{selector:t,rewrite:r}=e||{};return n=>{if(!(!r||typeof r!="function")){if(t&&typeof t=="string"){const a=Qke(t,n);a&&a.length>0&&Ja(n,a,(i,o,l)=>{r(i,o,l)});return}Ja(n,(a,i,o)=>{r(a,i,o)})}}},Jke=(e="")=>(e.match(/([^?=&]+)(=([^&]*))/g)||[]).reduce((t,r)=>(t[r.slice(0,r.indexOf("="))]=r.slice(r.indexOf("=")+1),t),{}),eCe=(e=[],t)=>{let r=t;for(;r>-1;){if(r--,!e[r])return;if(e[r]&&e[r].value&&e[r].value.replace(/(\n|\s)/g,"")!==""||e[r].type!=="text")return!/^rehype:/.test(e[r].value)||e[r].type!=="comment"?void 0:e[r]}},LH=(e=[],t,r,n)=>{let a=t;for(;a<e.length;)if(a++,r){const i=e[a];if(i&&i.value&&i.value.replace(/(\n|\s)/g,"")!==""||e[a]&&e[a].type==="element")return i.tagName===r?i:void 0}else{const i=e[a];if(!i||i.type==="element"||i.type==="text"&&i.value.replace(/(\n|\s)/g,"")!=="")return;if(i.type&&/^(comment|raw)$/ig.test(i.type))return i.value&&!/^rehype:/.test(i.value.replace(/^(\s+)?<!--(.*?)-->/,"$2")||"")?void 0:n?LH(e,a,"pre",n)?void 0:(i.value=(i.value||"").replace(/^(\n|\s)+/,""),i):(i.value=(i.value||"").replace(/^(\n|\s)+/,""),i)}},r4=({value:e=""})=>{const t=Jke(e.replace(/^<!--(.*?)-->/,"$1").replace(/^rehype:/,""));return Object.keys(t).forEach(r=>{t[r]==="true"&&(t[r]=!0),t[r]==="false"&&(t[r]=!1),typeof t[r]=="string"&&!/^0/.test(t[r])&&!isNaN(+t[r])&&(t[r]=+t[r])}),t},n4=(e,t,r)=>r==="string"?{...e,"data-config":JSON.stringify({...t,rehyp:!0})}:r==="attr"?{...e,...t}:{...e,"data-config":{...t,rehyp:!0}},tCe=(e={})=>{const{properties:t="data",codeBlockParames:r=!0}=e;return n=>{Ja(n,"element",(a,i,o)=>{if(r&&a.tagName==="pre"&&a&&Array.isArray(a.children)&&o&&Array.isArray(o.children)&&o.children.length>1){const l=a.children[0];if(l&&l.tagName==="code"&&typeof i=="number"){const u=eCe(o.children,i);if(u){const d=r4(u);Object.keys(d).length>0&&(a.properties={...a.properties,"data-type":"rehyp"},l.properties=n4(l.properties,d,t))}}}if(/^(em|strong|b|a|i|p|pre|kbd|blockquote|h(1|2|3|4|5|6)|code|table|img|del|ul|ol)$/.test(a.tagName)&&o&&Array.isArray(o.children)&&typeof i=="number"){const l=LH(o.children,i,"",r);if(l){const u=r4(l);Object.keys(u).length>0&&(a.properties=n4(a.properties,u,t))}}})}},rCe="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",a4=[],s4={allowDangerousHtml:!0},nCe=/^(https?|ircs?|mailto|xmpp)$/i,aCe=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function sCe(e){const t=e.allowedElements,r=e.allowElement,n=e.children||"",a=e.className,i=e.components,o=e.disallowedElements,l=e.rehypePlugins||a4,u=e.remarkPlugins||a4,d=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...s4}:s4,h=e.skipHtml,g=e.unwrapDisallowed,f=e.urlTransform||iCe,b=Gw().use(_j).use(u).use(Mj,d).use(l),x=new am;typeof n=="string"&&(x.value=n);for(const w of aCe)Object.hasOwn(e,w.from)&&(""+w.from+(w.to?"use `"+w.to+"` instead":"remove it")+rCe+w.id,void 0);const E=b.parse(x);let v=b.runSync(E,x);return a&&(v={type:"element",tagName:"div",properties:{className:a},children:v.type==="root"?v.children:[v]}),Ja(v,T),cj(v,{Fragment:s.Fragment,components:i,ignoreInvalidStyle:!0,jsx:s.jsx,jsxs:s.jsxs,passKeys:!0,passNode:!0});function T(w,N,R){if(w.type==="raw"&&R&&typeof N=="number")return h?R.children.splice(N,1):R.children[N]={type:"text",value:w.value},N;if(w.type==="element"){let D;for(D in Vd)if(Object.hasOwn(Vd,D)&&Object.hasOwn(w.properties,D)){const L=w.properties[D],j=Vd[D];(j===null||j.includes(w.tagName))&&(w.properties[D]=f(String(L||""),D,w))}}if(w.type==="element"){let D=t?!t.includes(w.tagName):o?o.includes(w.tagName):!1;if(!D&&r&&typeof N=="number"&&(D=!r(w,N,R)),D&&R&&typeof N=="number")return g&&w.children?R.children.splice(N,1,...w.children):R.children.splice(N,1),N}}}function iCe(e){const t=e.indexOf(":"),r=e.indexOf("?"),n=e.indexOf("#"),a=e.indexOf("/");return t===-1||a!==-1&&t>a||r!==-1&&t>r||n!==-1&&t>n||nCe.test(e.slice(0,t))?e:""}const oCe=/^\[!(NOTE|TIP|IMPORTANT|WARNING|CAUTION)\]/i,lCe=/^\[!(NOTE|TIP|IMPORTANT|WARNING|CAUTION)(\/.*)?\]/i,cCe=({legacyTitle:e=!1,tagName:t="div"}={})=>r=>{Ja(r,"blockquote",(n,a,i)=>{let o="",l="",u=!0,d=n.children.map(h=>{if(u&&h.type==="paragraph"){const g=h.children[0],f=g.type==="text"?g.value:"",b=e?lCe:oCe,x=f.match(b);if(x&&(u=!1,o=x[1].toLocaleLowerCase(),l=e&&x[2]||o.toLocaleUpperCase(),f.includes(`
`)&&(h.children[0]={type:"text",value:f.replace(b,"").replace(/^\n+/,"")}),!f.includes(`
`))){const E=[];h.children.forEach((v,T)=>{T!=0&&(T==1&&v.type==="break"||E.push(v))}),h.children=[...E]}}return h});o&&(n.data={hName:t,hProperties:{class:`markdown-alert markdown-alert-${o}`,dir:"auto"}},d.unshift({type:"paragraph",children:[uCe(o),{type:"text",value:l.replace(/^\//,"")}],data:{hProperties:{class:"markdown-alert-title",dir:"auto"}}})),n.children=[...d]})};function uCe(e){let t=dCe[e]??"";return{type:"emphasis",data:{hName:"svg",hProperties:{class:"octicon",viewBox:"0 0 16 16",width:"16",height:"16",ariaHidden:"true"}},children:[{type:"emphasis",data:{hName:"path",hProperties:{d:t}},children:[]}]}}const dCe={note:"M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8Zm8-6.5a6.5 6.5 0 1 0 0 13 6.5 6.5 0 0 0 0-13ZM6.5 7.75A.75.75 0 0 1 7.25 7h1a.75.75 0 0 1 .75.75v2.75h.25a.75.75 0 0 1 0 1.5h-2a.75.75 0 0 1 0-1.5h.25v-2h-.25a.75.75 0 0 1-.75-.75ZM8 6a1 1 0 1 1 0-2 1 1 0 0 1 0 2Z",tip:"M8 1.5c-2.363 0-4 1.69-4 3.75 0 .984.424 1.625.984 2.304l.214.253c.223.264.47.556.673.848.284.411.537.896.621 1.49a.75.75 0 0 1-1.484.211c-.04-.282-.163-.547-.37-.847a8.456 8.456 0 0 0-.542-.68c-.084-.1-.173-.205-.268-.32C3.201 7.75 2.5 6.766 2.5 5.25 2.5 2.31 4.863 0 8 0s5.5 2.31 5.5 5.25c0 1.516-.701 2.5-1.328 3.259-.095.115-.184.22-.268.319-.207.245-.383.453-.541.681-.208.3-.33.565-.37.847a.751.751 0 0 1-1.485-.212c.084-.593.337-1.078.621-1.489.203-.292.45-.584.673-.848.075-.088.147-.173.213-.253.561-.679.985-1.32.985-2.304 0-2.06-1.637-3.75-4-3.75ZM5.75 12h4.5a.75.75 0 0 1 0 1.5h-4.5a.75.75 0 0 1 0-1.5ZM6 15.25a.75.75 0 0 1 .75-.75h2.5a.75.75 0 0 1 0 1.5h-2.5a.75.75 0 0 1-.75-.75Z",important:"M0 1.75C0 .784.784 0 1.75 0h12.5C15.216 0 16 .784 16 1.75v9.5A1.75 1.75 0 0 1 14.25 13H8.06l-2.573 2.573A1.458 1.458 0 0 1 3 14.543V13H1.75A1.75 1.75 0 0 1 0 11.25Zm1.75-.25a.25.25 0 0 0-.25.25v9.5c0 .138.112.25.25.25h2a.75.75 0 0 1 .75.75v2.19l2.72-2.72a.749.749 0 0 1 .53-.22h6.5a.25.25 0 0 0 .25-.25v-9.5a.25.25 0 0 0-.25-.25Zm7 2.25v2.5a.75.75 0 0 1-1.5 0v-2.5a.75.75 0 0 1 1.5 0ZM9 9a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z",warning:"M6.457 1.047c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0 1 14.082 15H1.918a1.75 1.75 0 0 1-1.543-2.575Zm1.763.707a.25.25 0 0 0-.44 0L1.698 13.132a.25.25 0 0 0 .22.368h12.164a.25.25 0 0 0 .22-.368Zm.53 3.996v2.5a.75.75 0 0 1-1.5 0v-2.5a.75.75 0 0 1 1.5 0ZM9 11a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z",caution:"M4.47.22A.749.749 0 0 1 5 0h6c.199 0 .389.079.53.22l4.25 4.25c.141.14.22.331.22.53v6a.749.749 0 0 1-.22.53l-4.25 4.25A.749.749 0 0 1 11 16H5a.749.749 0 0 1-.53-.22L.22 11.53A.749.749 0 0 1 0 11V5c0-.199.079-.389.22-.53Zm.84 1.28L1.5 5.31v5.38l3.81 3.81h5.38l3.81-3.81V5.31L10.69 1.5ZM8 4a.75.75 0 0 1 .75.75v3.5a.75.75 0 0 1-1.5 0v-3.5A.75.75 0 0 1 8 4Zm0 8a1 1 0 1 1 0-2 1 1 0 0 1 0 2Z"};function pCe(e,t){if(typeof document>"u")return;const r=document.createElement("textarea");r.value=e,r.setAttribute("readonly",""),r.style={position:"absolute",left:"-9999px"},document.body.appendChild(r);const n=document.getSelection().rangeCount>0?document.getSelection().getRangeAt(0):!1;r.select();let a=!1;try{a=!!document.execCommand("copy")}catch{a=!1}document.body.removeChild(r),n&&document.getSelection&&(document.getSelection().removeAllRanges(),document.getSelection().addRange(n)),t&&t(a)}function OH(e){if(!e)return null;var t=e;return t.dataset.code&&t.classList.contains("copied")?t:t.parentElement?OH(t.parentElement):null}function hCe(e){var t=r=>{var n=OH(r.target);n&&(n.classList.add("active"),pCe(n.dataset.code,function(){setTimeout(()=>{n.classList.remove("active")},2e3)}))};C.useEffect(()=>{var r,n;return(r=e.current)==null||r.removeEventListener("click",t,!1),(n=e.current)==null||n.addEventListener("click",t,!1),()=>{var a;(a=e.current)==null||a.removeEventListener("click",t,!1)}},[e])}var gCe=["prefixCls","className","source","style","disableCopy","skipHtml","onScroll","onMouseOver","pluginsFilter","rehypeRewrite","wrapperElement","warpperElement","urlTransform"],mCe=e=>e;const fCe=ir.forwardRef((e,t)=>{var{prefixCls:r="wmde-markdown wmde-markdown-color",className:n,source:a,style:i,disableCopy:o=!1,skipHtml:l=!0,onScroll:u,onMouseOver:d,pluginsFilter:h,wrapperElement:g={},warpperElement:f={},urlTransform:b}=e,x=vm(e,gCe),E=ir.useRef(null);C.useImperativeHandle(t,()=>Wr({},e,{mdp:E}),[E,e]);var v=(r||"")+" "+(n||"");hCe(E);var T=[...x.rehypePlugins||[]],w={allowElement:(D,L,j)=>x.allowElement?x.allowElement(D,L,j):/^[A-Za-z0-9]+$/.test(D.tagName)};l||T.push(tk);var N=[cCe,...x.remarkPlugins||[],i5],R=Wr({},f,g);return s.jsx("div",Wr({ref:E,onScroll:u,onMouseOver:d},R,{className:v,style:i,children:s.jsx(sCe,Wr({},w,x,{skipHtml:!l,urlTransform:b||mCe,rehypePlugins:h?h("rehype",T):T,remarkPlugins:h?h("remark",N):N,children:a||""}))}))});var bCe=function(t){return r=>{Ja(r,n=>{n.type==="element"&&n.tagName==="code"&&n.data&&n.data.meta&&(n.properties=Wr({},n.properties,{"data-meta":String(n.data.meta)}))})}},yCe=function(t){return r=>{Ja(r,n=>{if(n.type==="element"&&n.tagName==="code"&&n.properties&&n.properties.dataMeta){n.data||(n.data={});var a=n.properties.dataMeta;typeof a=="string"&&(n.data.meta=a),delete n.properties.dataMeta}})}};const xCe=/[\0-\x1F!-,\.\/:-@\[-\^`\{-\xA9\xAB-\xB4\xB6-\xB9\xBB-\xBF\xD7\xF7\u02C2-\u02C5\u02D2-\u02DF\u02E5-\u02EB\u02ED\u02EF-\u02FF\u0375\u0378\u0379\u037E\u0380-\u0385\u0387\u038B\u038D\u03A2\u03F6\u0482\u0530\u0557\u0558\u055A-\u055F\u0589-\u0590\u05BE\u05C0\u05C3\u05C6\u05C8-\u05CF\u05EB-\u05EE\u05F3-\u060F\u061B-\u061F\u066A-\u066D\u06D4\u06DD\u06DE\u06E9\u06FD\u06FE\u0700-\u070F\u074B\u074C\u07B2-\u07BF\u07F6-\u07F9\u07FB\u07FC\u07FE\u07FF\u082E-\u083F\u085C-\u085F\u086B-\u089F\u08B5\u08C8-\u08D2\u08E2\u0964\u0965\u0970\u0984\u098D\u098E\u0991\u0992\u09A9\u09B1\u09B3-\u09B5\u09BA\u09BB\u09C5\u09C6\u09C9\u09CA\u09CF-\u09D6\u09D8-\u09DB\u09DE\u09E4\u09E5\u09F2-\u09FB\u09FD\u09FF\u0A00\u0A04\u0A0B-\u0A0E\u0A11\u0A12\u0A29\u0A31\u0A34\u0A37\u0A3A\u0A3B\u0A3D\u0A43-\u0A46\u0A49\u0A4A\u0A4E-\u0A50\u0A52-\u0A58\u0A5D\u0A5F-\u0A65\u0A76-\u0A80\u0A84\u0A8E\u0A92\u0AA9\u0AB1\u0AB4\u0ABA\u0ABB\u0AC6\u0ACA\u0ACE\u0ACF\u0AD1-\u0ADF\u0AE4\u0AE5\u0AF0-\u0AF8\u0B00\u0B04\u0B0D\u0B0E\u0B11\u0B12\u0B29\u0B31\u0B34\u0B3A\u0B3B\u0B45\u0B46\u0B49\u0B4A\u0B4E-\u0B54\u0B58-\u0B5B\u0B5E\u0B64\u0B65\u0B70\u0B72-\u0B81\u0B84\u0B8B-\u0B8D\u0B91\u0B96-\u0B98\u0B9B\u0B9D\u0BA0-\u0BA2\u0BA5-\u0BA7\u0BAB-\u0BAD\u0BBA-\u0BBD\u0BC3-\u0BC5\u0BC9\u0BCE\u0BCF\u0BD1-\u0BD6\u0BD8-\u0BE5\u0BF0-\u0BFF\u0C0D\u0C11\u0C29\u0C3A-\u0C3C\u0C45\u0C49\u0C4E-\u0C54\u0C57\u0C5B-\u0C5F\u0C64\u0C65\u0C70-\u0C7F\u0C84\u0C8D\u0C91\u0CA9\u0CB4\u0CBA\u0CBB\u0CC5\u0CC9\u0CCE-\u0CD4\u0CD7-\u0CDD\u0CDF\u0CE4\u0CE5\u0CF0\u0CF3-\u0CFF\u0D0D\u0D11\u0D45\u0D49\u0D4F-\u0D53\u0D58-\u0D5E\u0D64\u0D65\u0D70-\u0D79\u0D80\u0D84\u0D97-\u0D99\u0DB2\u0DBC\u0DBE\u0DBF\u0DC7-\u0DC9\u0DCB-\u0DCE\u0DD5\u0DD7\u0DE0-\u0DE5\u0DF0\u0DF1\u0DF4-\u0E00\u0E3B-\u0E3F\u0E4F\u0E5A-\u0E80\u0E83\u0E85\u0E8B\u0EA4\u0EA6\u0EBE\u0EBF\u0EC5\u0EC7\u0ECE\u0ECF\u0EDA\u0EDB\u0EE0-\u0EFF\u0F01-\u0F17\u0F1A-\u0F1F\u0F2A-\u0F34\u0F36\u0F38\u0F3A-\u0F3D\u0F48\u0F6D-\u0F70\u0F85\u0F98\u0FBD-\u0FC5\u0FC7-\u0FFF\u104A-\u104F\u109E\u109F\u10C6\u10C8-\u10CC\u10CE\u10CF\u10FB\u1249\u124E\u124F\u1257\u1259\u125E\u125F\u1289\u128E\u128F\u12B1\u12B6\u12B7\u12BF\u12C1\u12C6\u12C7\u12D7\u1311\u1316\u1317\u135B\u135C\u1360-\u137F\u1390-\u139F\u13F6\u13F7\u13FE-\u1400\u166D\u166E\u1680\u169B-\u169F\u16EB-\u16ED\u16F9-\u16FF\u170D\u1715-\u171F\u1735-\u173F\u1754-\u175F\u176D\u1771\u1774-\u177F\u17D4-\u17D6\u17D8-\u17DB\u17DE\u17DF\u17EA-\u180A\u180E\u180F\u181A-\u181F\u1879-\u187F\u18AB-\u18AF\u18F6-\u18FF\u191F\u192C-\u192F\u193C-\u1945\u196E\u196F\u1975-\u197F\u19AC-\u19AF\u19CA-\u19CF\u19DA-\u19FF\u1A1C-\u1A1F\u1A5F\u1A7D\u1A7E\u1A8A-\u1A8F\u1A9A-\u1AA6\u1AA8-\u1AAF\u1AC1-\u1AFF\u1B4C-\u1B4F\u1B5A-\u1B6A\u1B74-\u1B7F\u1BF4-\u1BFF\u1C38-\u1C3F\u1C4A-\u1C4C\u1C7E\u1C7F\u1C89-\u1C8F\u1CBB\u1CBC\u1CC0-\u1CCF\u1CD3\u1CFB-\u1CFF\u1DFA\u1F16\u1F17\u1F1E\u1F1F\u1F46\u1F47\u1F4E\u1F4F\u1F58\u1F5A\u1F5C\u1F5E\u1F7E\u1F7F\u1FB5\u1FBD\u1FBF-\u1FC1\u1FC5\u1FCD-\u1FCF\u1FD4\u1FD5\u1FDC-\u1FDF\u1FED-\u1FF1\u1FF5\u1FFD-\u203E\u2041-\u2053\u2055-\u2070\u2072-\u207E\u2080-\u208F\u209D-\u20CF\u20F1-\u2101\u2103-\u2106\u2108\u2109\u2114\u2116-\u2118\u211E-\u2123\u2125\u2127\u2129\u212E\u213A\u213B\u2140-\u2144\u214A-\u214D\u214F-\u215F\u2189-\u24B5\u24EA-\u2BFF\u2C2F\u2C5F\u2CE5-\u2CEA\u2CF4-\u2CFF\u2D26\u2D28-\u2D2C\u2D2E\u2D2F\u2D68-\u2D6E\u2D70-\u2D7E\u2D97-\u2D9F\u2DA7\u2DAF\u2DB7\u2DBF\u2DC7\u2DCF\u2DD7\u2DDF\u2E00-\u2E2E\u2E30-\u3004\u3008-\u3020\u3030\u3036\u3037\u303D-\u3040\u3097\u3098\u309B\u309C\u30A0\u30FB\u3100-\u3104\u3130\u318F-\u319F\u31C0-\u31EF\u3200-\u33FF\u4DC0-\u4DFF\u9FFD-\u9FFF\uA48D-\uA4CF\uA4FE\uA4FF\uA60D-\uA60F\uA62C-\uA63F\uA673\uA67E\uA6F2-\uA716\uA720\uA721\uA789\uA78A\uA7C0\uA7C1\uA7CB-\uA7F4\uA828-\uA82B\uA82D-\uA83F\uA874-\uA87F\uA8C6-\uA8CF\uA8DA-\uA8DF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA954-\uA95F\uA97D-\uA97F\uA9C1-\uA9CE\uA9DA-\uA9DF\uA9FF\uAA37-\uAA3F\uAA4E\uAA4F\uAA5A-\uAA5F\uAA77-\uAA79\uAAC3-\uAADA\uAADE\uAADF\uAAF0\uAAF1\uAAF7-\uAB00\uAB07\uAB08\uAB0F\uAB10\uAB17-\uAB1F\uAB27\uAB2F\uAB5B\uAB6A-\uAB6F\uABEB\uABEE\uABEF\uABFA-\uABFF\uD7A4-\uD7AF\uD7C7-\uD7CA\uD7FC-\uD7FF\uE000-\uF8FF\uFA6E\uFA6F\uFADA-\uFAFF\uFB07-\uFB12\uFB18-\uFB1C\uFB29\uFB37\uFB3D\uFB3F\uFB42\uFB45\uFBB2-\uFBD2\uFD3E-\uFD4F\uFD90\uFD91\uFDC8-\uFDEF\uFDFC-\uFDFF\uFE10-\uFE1F\uFE30-\uFE32\uFE35-\uFE4C\uFE50-\uFE6F\uFE75\uFEFD-\uFF0F\uFF1A-\uFF20\uFF3B-\uFF3E\uFF40\uFF5B-\uFF65\uFFBF-\uFFC1\uFFC8\uFFC9\uFFD0\uFFD1\uFFD8\uFFD9\uFFDD-\uFFFF]|\uD800[\uDC0C\uDC27\uDC3B\uDC3E\uDC4E\uDC4F\uDC5E-\uDC7F\uDCFB-\uDD3F\uDD75-\uDDFC\uDDFE-\uDE7F\uDE9D-\uDE9F\uDED1-\uDEDF\uDEE1-\uDEFF\uDF20-\uDF2C\uDF4B-\uDF4F\uDF7B-\uDF7F\uDF9E\uDF9F\uDFC4-\uDFC7\uDFD0\uDFD6-\uDFFF]|\uD801[\uDC9E\uDC9F\uDCAA-\uDCAF\uDCD4-\uDCD7\uDCFC-\uDCFF\uDD28-\uDD2F\uDD64-\uDDFF\uDF37-\uDF3F\uDF56-\uDF5F\uDF68-\uDFFF]|\uD802[\uDC06\uDC07\uDC09\uDC36\uDC39-\uDC3B\uDC3D\uDC3E\uDC56-\uDC5F\uDC77-\uDC7F\uDC9F-\uDCDF\uDCF3\uDCF6-\uDCFF\uDD16-\uDD1F\uDD3A-\uDD7F\uDDB8-\uDDBD\uDDC0-\uDDFF\uDE04\uDE07-\uDE0B\uDE14\uDE18\uDE36\uDE37\uDE3B-\uDE3E\uDE40-\uDE5F\uDE7D-\uDE7F\uDE9D-\uDEBF\uDEC8\uDEE7-\uDEFF\uDF36-\uDF3F\uDF56-\uDF5F\uDF73-\uDF7F\uDF92-\uDFFF]|\uD803[\uDC49-\uDC7F\uDCB3-\uDCBF\uDCF3-\uDCFF\uDD28-\uDD2F\uDD3A-\uDE7F\uDEAA\uDEAD-\uDEAF\uDEB2-\uDEFF\uDF1D-\uDF26\uDF28-\uDF2F\uDF51-\uDFAF\uDFC5-\uDFDF\uDFF7-\uDFFF]|\uD804[\uDC47-\uDC65\uDC70-\uDC7E\uDCBB-\uDCCF\uDCE9-\uDCEF\uDCFA-\uDCFF\uDD35\uDD40-\uDD43\uDD48-\uDD4F\uDD74\uDD75\uDD77-\uDD7F\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDFF\uDE12\uDE38-\uDE3D\uDE3F-\uDE7F\uDE87\uDE89\uDE8E\uDE9E\uDEA9-\uDEAF\uDEEB-\uDEEF\uDEFA-\uDEFF\uDF04\uDF0D\uDF0E\uDF11\uDF12\uDF29\uDF31\uDF34\uDF3A\uDF45\uDF46\uDF49\uDF4A\uDF4E\uDF4F\uDF51-\uDF56\uDF58-\uDF5C\uDF64\uDF65\uDF6D-\uDF6F\uDF75-\uDFFF]|\uD805[\uDC4B-\uDC4F\uDC5A-\uDC5D\uDC62-\uDC7F\uDCC6\uDCC8-\uDCCF\uDCDA-\uDD7F\uDDB6\uDDB7\uDDC1-\uDDD7\uDDDE-\uDDFF\uDE41-\uDE43\uDE45-\uDE4F\uDE5A-\uDE7F\uDEB9-\uDEBF\uDECA-\uDEFF\uDF1B\uDF1C\uDF2C-\uDF2F\uDF3A-\uDFFF]|\uD806[\uDC3B-\uDC9F\uDCEA-\uDCFE\uDD07\uDD08\uDD0A\uDD0B\uDD14\uDD17\uDD36\uDD39\uDD3A\uDD44-\uDD4F\uDD5A-\uDD9F\uDDA8\uDDA9\uDDD8\uDDD9\uDDE2\uDDE5-\uDDFF\uDE3F-\uDE46\uDE48-\uDE4F\uDE9A-\uDE9C\uDE9E-\uDEBF\uDEF9-\uDFFF]|\uD807[\uDC09\uDC37\uDC41-\uDC4F\uDC5A-\uDC71\uDC90\uDC91\uDCA8\uDCB7-\uDCFF\uDD07\uDD0A\uDD37-\uDD39\uDD3B\uDD3E\uDD48-\uDD4F\uDD5A-\uDD5F\uDD66\uDD69\uDD8F\uDD92\uDD99-\uDD9F\uDDAA-\uDEDF\uDEF7-\uDFAF\uDFB1-\uDFFF]|\uD808[\uDF9A-\uDFFF]|\uD809[\uDC6F-\uDC7F\uDD44-\uDFFF]|[\uD80A\uD80B\uD80E-\uD810\uD812-\uD819\uD824-\uD82B\uD82D\uD82E\uD830-\uD833\uD837\uD839\uD83D\uD83F\uD87B-\uD87D\uD87F\uD885-\uDB3F\uDB41-\uDBFF][\uDC00-\uDFFF]|\uD80D[\uDC2F-\uDFFF]|\uD811[\uDE47-\uDFFF]|\uD81A[\uDE39-\uDE3F\uDE5F\uDE6A-\uDECF\uDEEE\uDEEF\uDEF5-\uDEFF\uDF37-\uDF3F\uDF44-\uDF4F\uDF5A-\uDF62\uDF78-\uDF7C\uDF90-\uDFFF]|\uD81B[\uDC00-\uDE3F\uDE80-\uDEFF\uDF4B-\uDF4E\uDF88-\uDF8E\uDFA0-\uDFDF\uDFE2\uDFE5-\uDFEF\uDFF2-\uDFFF]|\uD821[\uDFF8-\uDFFF]|\uD823[\uDCD6-\uDCFF\uDD09-\uDFFF]|\uD82C[\uDD1F-\uDD4F\uDD53-\uDD63\uDD68-\uDD6F\uDEFC-\uDFFF]|\uD82F[\uDC6B-\uDC6F\uDC7D-\uDC7F\uDC89-\uDC8F\uDC9A-\uDC9C\uDC9F-\uDFFF]|\uD834[\uDC00-\uDD64\uDD6A-\uDD6C\uDD73-\uDD7A\uDD83\uDD84\uDD8C-\uDDA9\uDDAE-\uDE41\uDE45-\uDFFF]|\uD835[\uDC55\uDC9D\uDCA0\uDCA1\uDCA3\uDCA4\uDCA7\uDCA8\uDCAD\uDCBA\uDCBC\uDCC4\uDD06\uDD0B\uDD0C\uDD15\uDD1D\uDD3A\uDD3F\uDD45\uDD47-\uDD49\uDD51\uDEA6\uDEA7\uDEC1\uDEDB\uDEFB\uDF15\uDF35\uDF4F\uDF6F\uDF89\uDFA9\uDFC3\uDFCC\uDFCD]|\uD836[\uDC00-\uDDFF\uDE37-\uDE3A\uDE6D-\uDE74\uDE76-\uDE83\uDE85-\uDE9A\uDEA0\uDEB0-\uDFFF]|\uD838[\uDC07\uDC19\uDC1A\uDC22\uDC25\uDC2B-\uDCFF\uDD2D-\uDD2F\uDD3E\uDD3F\uDD4A-\uDD4D\uDD4F-\uDEBF\uDEFA-\uDFFF]|\uD83A[\uDCC5-\uDCCF\uDCD7-\uDCFF\uDD4C-\uDD4F\uDD5A-\uDFFF]|\uD83B[\uDC00-\uDDFF\uDE04\uDE20\uDE23\uDE25\uDE26\uDE28\uDE33\uDE38\uDE3A\uDE3C-\uDE41\uDE43-\uDE46\uDE48\uDE4A\uDE4C\uDE50\uDE53\uDE55\uDE56\uDE58\uDE5A\uDE5C\uDE5E\uDE60\uDE63\uDE65\uDE66\uDE6B\uDE73\uDE78\uDE7D\uDE7F\uDE8A\uDE9C-\uDEA0\uDEA4\uDEAA\uDEBC-\uDFFF]|\uD83C[\uDC00-\uDD2F\uDD4A-\uDD4F\uDD6A-\uDD6F\uDD8A-\uDFFF]|\uD83E[\uDC00-\uDFEF\uDFFA-\uDFFF]|\uD869[\uDEDE-\uDEFF]|\uD86D[\uDF35-\uDF3F]|\uD86E[\uDC1E\uDC1F]|\uD873[\uDEA2-\uDEAF]|\uD87A[\uDFE1-\uDFFF]|\uD87E[\uDE1E-\uDFFF]|\uD884[\uDF4B-\uDFFF]|\uDB40[\uDC00-\uDCFF\uDDF0-\uDFFF]/g,ECe=Object.hasOwnProperty;class vCe{constructor(){this.occurrences,this.reset()}slug(t,r){const n=this;let a=SCe(t,r===!0);const i=a;for(;ECe.call(n.occurrences,a);)n.occurrences[i]++,a=i+"-"+n.occurrences[i];return n.occurrences[a]=0,a}reset(){this.occurrences=Object.create(null)}}function SCe(e,t){return typeof e!="string"?"":(t||(e=e.toLowerCase()),e.replace(xCe,"").replace(/ /g,"-"))}function MH(e){const t=e.type==="element"?e.tagName.toLowerCase():"",r=t.length===2&&t.charCodeAt(0)===104?t.charCodeAt(1):0;return r>48&&r<55?r-48:void 0}const TCe={},i4=new vCe;function wCe(e){const r=(e||TCe).prefix||"";return function(n){i4.reset(),Ja(n,"element",function(a){MH(a)&&!a.properties.id&&(a.properties.id=r+i4.slug(qd(a)))})}}const o4={type:"element",tagName:"span",properties:{className:["icon","icon-link"]},children:[]},kCe={};function CCe(e){const t=e||kCe;let r=t.properties;const n=t.headingProperties,a=t.behavior||"prepend",i=t.content,o=t.group,l=vc(t.test);let u;return a==="after"||a==="before"?u=h:a==="wrap"?u=g:(u=d,r||(r={ariaHidden:"true",tabIndex:-1})),function(f){Ja(f,"element",function(b,x,E){if(MH(b)&&b.properties.id&&l(b,x,E))return Object.assign(b.properties,Y0(n,b)),u(b,x,E)})};function d(f){const b=l4(i||o4,f);return f.children[a==="prepend"?"unshift":"push"](l1(f,Y0(r,f),b)),[Ng]}function h(f,b,x){if(typeof b!="number"||!x)return;const E=l4(i||o4,f),v=l1(f,Y0(r,f),E);let T=a==="before"?[v,f]:[f,v];if(o){const w=PH(o,f);w&&!Array.isArray(w)&&w.type==="element"&&(w.children=T,T=[w])}return x.children.splice(b,1,...T),[Ng,b+T.length]}function g(f){let b=f.children,x=[];return typeof i=="function"?(b=[],x=i(f)):i&&(x=YN(i)),f.children=[l1(f,Y0(r,f),Array.isArray(x)?[...b,...x]:[...b,x])],[Ng]}}function YN(e){return gc(e)}function l1(e,t,r){return{type:"element",tagName:"a",properties:{...t,href:"#"+e.properties.id},children:r}}function l4(e,t){const r=PH(e,t);return Array.isArray(r)?r:[r]}function PH(e,t){return typeof e=="function"?e(t):YN(e)}function Y0(e,t){return typeof e=="function"?e(t):e?YN(e):{}}const _Ce=(e={})=>{const{openDelimiter:t="rehype:ignore:start",closeDelimiter:r="rehype:ignore:end"}=e;return n=>{Ja(n,(a,i,o)=>{if(a.type==="element"||a.type==="root"){let l=!1;a.children=a.children.filter(u=>{if(u.type==="raw"||u.type==="comment"){let d=(u.value||"").trim();if(d=d.replace(/^<!--(.*?)-->/,"$1"),d===t)return l=!0,!1;if(d===r)return l=!1,!1}return!l})}})}};var ACe={type:"element",tagName:"svg",properties:{className:"octicon octicon-link",viewBox:"0 0 16 16",version:"1.1",width:"16",height:"16",ariaHidden:"true"},children:[{type:"element",tagName:"path",children:[],properties:{fillRule:"evenodd",d:"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"}}]};function NCe(e){return e===void 0&&(e=""),{type:"element",tagName:"div",properties:{class:"copied","data-code":e},children:[{type:"element",tagName:"svg",properties:{className:"octicon-copy",ariaHidden:"true",viewBox:"0 0 16 16",fill:"currentColor",height:12,width:12},children:[{type:"element",tagName:"path",properties:{fillRule:"evenodd",d:"M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"},children:[]},{type:"element",tagName:"path",properties:{fillRule:"evenodd",d:"M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"},children:[]}]},{type:"element",tagName:"svg",properties:{className:"octicon-check",ariaHidden:"true",viewBox:"0 0 16 16",fill:"currentColor",height:12,width:12},children:[{type:"element",tagName:"path",properties:{fillRule:"evenodd",d:"M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"},children:[]}]}]}}var ICe=(e,t)=>(r,n,a)=>{if(r.type==="element"&&a&&a.type==="root"&&/h(1|2|3|4|5|6)/.test(r.tagName)){var i=r.children&&r.children[0];i&&i.properties&&i.properties.ariaHidden==="true"&&(i.properties=Wr({class:"anchor"},i.properties),i.children=[ACe])}if(r.type==="element"&&r.tagName==="pre"&&!e){var o=DH(r.children);r.children.push(NCe(o))}t&&t(r,n===null?void 0:n,a===null?void 0:a)},RCe=[wCe,CCe,_Ce];const jH=ir.forwardRef((e,t)=>{var r,n=[bCe,tk,yCe,...RCe,[Zke,{rewrite:ICe((r=e.disableCopy)!=null?r:!1,e.rehypeRewrite)}],[tCe,{properties:"attr"}],...e.rehypePlugins||[],[xH,{ignoreMissing:!0}]];return s.jsx(fCe,Wr({},e,{rehypePlugins:n,ref:t}))});function DCe(e,t){return Wr({},e,t)}var zu=ir.createContext({markdown:""});function LCe(e){var{prefixCls:t,groupName:r,commands:n,children:a}=e||{},{barPopup:i={}}=C.useContext(zu);return C.useMemo(()=>s.jsx("div",{className:t+"-toolbar-child "+(r&&i[r]?"active":""),onClick:o=>o.stopPropagation(),children:Array.isArray(n)?s.jsx(FH,Wr({commands:n},e,{isChild:!0})):a}),[n,i,r,t])}function c4(e){var{prefixCls:t,overflow:r}=e,{fullscreen:n,preview:a,barPopup:i={},components:o,commandOrchestrator:l,dispatch:u}=C.useContext(zu),d=C.useRef("");function h(g,f){if(u){var b={barPopup:Wr({},i)};g.keyCommand==="preview"&&(b.preview=g.value),g.keyCommand==="fullscreen"&&(b.fullscreen=!n),e.commands&&g.keyCommand==="group"?e.commands.forEach(x=>{f===x.groupName?b.barPopup[f]=!0:x.keyCommand&&(b.barPopup[x.groupName]=!1)}):(f||g.parent)&&Object.keys(b.barPopup||{}).forEach(x=>{b.barPopup[x]=!1}),Object.keys(b).length&&u(Wr({},b)),l&&l.executeCommand(g)}}return C.useEffect(()=>{document&&r&&(n?document.body.style.overflow="hidden":(d.current||(d.current=window.getComputedStyle(document.body,null).overflow),document.body.style.overflow=d.current))},[n,d,r]),s.jsx("ul",{children:(e.commands||[]).map((g,f)=>{if(g.keyCommand==="divider")return s.jsx("li",Wr({},g.liProps,{className:t+"-toolbar-divider"}),f);if(!g.keyCommand)return s.jsx(C.Fragment,{},f);var b=n&&g.keyCommand==="fullscreen"||g.keyCommand==="preview"&&a===g.value,x=g.children&&typeof g.children=="function"?g.children({getState:()=>l.getState(),textApi:l?l.textApi:void 0,close:()=>h({},g.groupName),execute:()=>h({execute:g.execute}),dispatch:u}):void 0,E=i&&a&&a==="preview"&&!/(preview|fullscreen)/.test(g.keyCommand),v=o?.toolbar||g.render,T=v&&typeof v=="function"?v(g,!!E,h,f):null;return s.jsxs("li",Wr({},g.liProps,{className:b?"active":"",children:[T&&ir.isValidElement(T)&&T,!T&&!g.buttonProps&&g.icon,!T&&g.buttonProps&&ir.createElement("button",Wr({type:"button",key:f,disabled:E,"data-name":g.name},g.buttonProps,{onClick:w=>{w.stopPropagation(),h(g,g.groupName)}}),g.icon),g.children&&s.jsx(LCe,{overflow:r,groupName:g.groupName,prefixCls:t,children:x,commands:Array.isArray(g.children)?g.children:void 0})]}),f)})})}function FH(e){e===void 0&&(e={});var{prefixCls:t,isChild:r,className:n}=e,{commands:a,extraCommands:i}=C.useContext(zu);return s.jsxs("div",{className:t+"-toolbar "+n,children:[s.jsx(c4,Wr({},e,{commands:e.commands||a||[]})),!r&&s.jsx(c4,Wr({},e,{commands:i||[]}))]})}function u4(e){var{hideToolbar:t,toolbarBottom:r,placement:n,overflow:a,prefixCls:i}=e;if(t||n==="bottom"&&!r||n==="top"&&r)return null;var o=r?"bottom":"";return s.jsx(FH,{prefixCls:i,overflow:a,className:o})}function BH(e,t){return e===void 0&&(e=[]),t===void 0&&(t={}),e.forEach(r=>{r.children&&Array.isArray(r.children)?t=Wr({},t,BH(r.children||[])):r.keyCommand&&r.shortcuts&&r.execute&&(t[r.shortcuts.toLocaleLowerCase()]=r)}),t}function UH(e,t,r,n,a){t===void 0&&(t=[]);var i=BH(t||[]),o=[];if(e.altKey&&o.push("alt"),e.shiftKey&&o.push("shift"),e.metaKey&&o.push("cmd"),e.ctrlKey&&o.push("ctrl"),o.length>0&&!/(control|alt|meta|shift)/.test(e.key.toLocaleLowerCase())&&o.push(e.key.toLocaleLowerCase()),/escape/.test(e.key.toLocaleLowerCase())&&o.push("escape"),!(o.length<1)){var l=!!i[o.join("+")],u=l?i[o.join("+")]:void 0;if(Object.keys(i).forEach(d=>{var h=d.split("+").every(g=>/ctrlcmd/.test(g)?o.includes("ctrl")||o.includes("cmd"):o.includes(g));h&&(u=i[d])}),u&&r){e.stopPropagation(),e.preventDefault(),r.executeCommand(u,n,a,o);return}}}function OCe(e,t){return t||(t=e.slice(0)),e.raw=t,e}const MCe=new Set([65534,65535,131070,131071,196606,196607,262142,262143,327678,327679,393214,393215,458750,458751,524286,524287,589822,589823,655358,655359,720894,720895,786430,786431,851966,851967,917502,917503,983038,983039,1048574,1048575,1114110,1114111]),Jn="";var re;(function(e){e[e.EOF=-1]="EOF",e[e.NULL=0]="NULL",e[e.TABULATION=9]="TABULATION",e[e.CARRIAGE_RETURN=13]="CARRIAGE_RETURN",e[e.LINE_FEED=10]="LINE_FEED",e[e.FORM_FEED=12]="FORM_FEED",e[e.SPACE=32]="SPACE",e[e.EXCLAMATION_MARK=33]="EXCLAMATION_MARK",e[e.QUOTATION_MARK=34]="QUOTATION_MARK",e[e.AMPERSAND=38]="AMPERSAND",e[e.APOSTROPHE=39]="APOSTROPHE",e[e.HYPHEN_MINUS=45]="HYPHEN_MINUS",e[e.SOLIDUS=47]="SOLIDUS",e[e.DIGIT_0=48]="DIGIT_0",e[e.DIGIT_9=57]="DIGIT_9",e[e.SEMICOLON=59]="SEMICOLON",e[e.LESS_THAN_SIGN=60]="LESS_THAN_SIGN",e[e.EQUALS_SIGN=61]="EQUALS_SIGN",e[e.GREATER_THAN_SIGN=62]="GREATER_THAN_SIGN",e[e.QUESTION_MARK=63]="QUESTION_MARK",e[e.LATIN_CAPITAL_A=65]="LATIN_CAPITAL_A",e[e.LATIN_CAPITAL_Z=90]="LATIN_CAPITAL_Z",e[e.RIGHT_SQUARE_BRACKET=93]="RIGHT_SQUARE_BRACKET",e[e.GRAVE_ACCENT=96]="GRAVE_ACCENT",e[e.LATIN_SMALL_A=97]="LATIN_SMALL_A",e[e.LATIN_SMALL_Z=122]="LATIN_SMALL_Z"})(re||(re={}));const Xs={DASH_DASH:"--",CDATA_START:"[CDATA[",DOCTYPE:"doctype",SCRIPT:"script",PUBLIC:"public",SYSTEM:"system"};function $H(e){return e>=55296&&e<=57343}function PCe(e){return e>=56320&&e<=57343}function jCe(e,t){return(e-55296)*1024+9216+t}function HH(e){return e!==32&&e!==10&&e!==13&&e!==9&&e!==12&&e>=1&&e<=31||e>=127&&e<=159}function zH(e){return e>=64976&&e<=65007||MCe.has(e)}var We;(function(e){e.controlCharacterInInputStream="control-character-in-input-stream",e.noncharacterInInputStream="noncharacter-in-input-stream",e.surrogateInInputStream="surrogate-in-input-stream",e.nonVoidHtmlElementStartTagWithTrailingSolidus="non-void-html-element-start-tag-with-trailing-solidus",e.endTagWithAttributes="end-tag-with-attributes",e.endTagWithTrailingSolidus="end-tag-with-trailing-solidus",e.unexpectedSolidusInTag="unexpected-solidus-in-tag",e.unexpectedNullCharacter="unexpected-null-character",e.unexpectedQuestionMarkInsteadOfTagName="unexpected-question-mark-instead-of-tag-name",e.invalidFirstCharacterOfTagName="invalid-first-character-of-tag-name",e.unexpectedEqualsSignBeforeAttributeName="unexpected-equals-sign-before-attribute-name",e.missingEndTagName="missing-end-tag-name",e.unexpectedCharacterInAttributeName="unexpected-character-in-attribute-name",e.unknownNamedCharacterReference="unknown-named-character-reference",e.missingSemicolonAfterCharacterReference="missing-semicolon-after-character-reference",e.unexpectedCharacterAfterDoctypeSystemIdentifier="unexpected-character-after-doctype-system-identifier",e.unexpectedCharacterInUnquotedAttributeValue="unexpected-character-in-unquoted-attribute-value",e.eofBeforeTagName="eof-before-tag-name",e.eofInTag="eof-in-tag",e.missingAttributeValue="missing-attribute-value",e.missingWhitespaceBetweenAttributes="missing-whitespace-between-attributes",e.missingWhitespaceAfterDoctypePublicKeyword="missing-whitespace-after-doctype-public-keyword",e.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers="missing-whitespace-between-doctype-public-and-system-identifiers",e.missingWhitespaceAfterDoctypeSystemKeyword="missing-whitespace-after-doctype-system-keyword",e.missingQuoteBeforeDoctypePublicIdentifier="missing-quote-before-doctype-public-identifier",e.missingQuoteBeforeDoctypeSystemIdentifier="missing-quote-before-doctype-system-identifier",e.missingDoctypePublicIdentifier="missing-doctype-public-identifier",e.missingDoctypeSystemIdentifier="missing-doctype-system-identifier",e.abruptDoctypePublicIdentifier="abrupt-doctype-public-identifier",e.abruptDoctypeSystemIdentifier="abrupt-doctype-system-identifier",e.cdataInHtmlContent="cdata-in-html-content",e.incorrectlyOpenedComment="incorrectly-opened-comment",e.eofInScriptHtmlCommentLikeText="eof-in-script-html-comment-like-text",e.eofInDoctype="eof-in-doctype",e.nestedComment="nested-comment",e.abruptClosingOfEmptyComment="abrupt-closing-of-empty-comment",e.eofInComment="eof-in-comment",e.incorrectlyClosedComment="incorrectly-closed-comment",e.eofInCdata="eof-in-cdata",e.absenceOfDigitsInNumericCharacterReference="absence-of-digits-in-numeric-character-reference",e.nullCharacterReference="null-character-reference",e.surrogateCharacterReference="surrogate-character-reference",e.characterReferenceOutsideUnicodeRange="character-reference-outside-unicode-range",e.controlCharacterReference="control-character-reference",e.noncharacterCharacterReference="noncharacter-character-reference",e.missingWhitespaceBeforeDoctypeName="missing-whitespace-before-doctype-name",e.missingDoctypeName="missing-doctype-name",e.invalidCharacterSequenceAfterDoctypeName="invalid-character-sequence-after-doctype-name",e.duplicateAttribute="duplicate-attribute",e.nonConformingDoctype="non-conforming-doctype",e.missingDoctype="missing-doctype",e.misplacedDoctype="misplaced-doctype",e.endTagWithoutMatchingOpenElement="end-tag-without-matching-open-element",e.closingOfElementWithOpenChildElements="closing-of-element-with-open-child-elements",e.disallowedContentInNoscriptInHead="disallowed-content-in-noscript-in-head",e.openElementsLeftAfterEof="open-elements-left-after-eof",e.abandonedHeadElementChild="abandoned-head-element-child",e.misplacedStartTagForHeadElement="misplaced-start-tag-for-head-element",e.nestedNoscriptInHead="nested-noscript-in-head",e.eofInElementThatCanContainOnlyText="eof-in-element-that-can-contain-only-text"})(We||(We={}));const FCe=65536;class BCe{constructor(t){this.handler=t,this.html="",this.pos=-1,this.lastGapPos=-2,this.gapStack=[],this.skipNextNewLine=!1,this.lastChunkWritten=!1,this.endOfChunkHit=!1,this.bufferWaterline=FCe,this.isEol=!1,this.lineStartPos=0,this.droppedBufferSize=0,this.line=1,this.lastErrOffset=-1}get col(){return this.pos-this.lineStartPos+ +(this.lastGapPos!==this.pos)}get offset(){return this.droppedBufferSize+this.pos}getError(t,r){const{line:n,col:a,offset:i}=this,o=a+r,l=i+r;return{code:t,startLine:n,endLine:n,startCol:o,endCol:o,startOffset:l,endOffset:l}}_err(t){this.handler.onParseError&&this.lastErrOffset!==this.offset&&(this.lastErrOffset=this.offset,this.handler.onParseError(this.getError(t,0)))}_addGap(){this.gapStack.push(this.lastGapPos),this.lastGapPos=this.pos}_processSurrogate(t){if(this.pos!==this.html.length-1){const r=this.html.charCodeAt(this.pos+1);if(PCe(r))return this.pos++,this._addGap(),jCe(t,r)}else if(!this.lastChunkWritten)return this.endOfChunkHit=!0,re.EOF;return this._err(We.surrogateInInputStream),t}willDropParsedChunk(){return this.pos>this.bufferWaterline}dropParsedChunk(){this.willDropParsedChunk()&&(this.html=this.html.substring(this.pos),this.lineStartPos-=this.pos,this.droppedBufferSize+=this.pos,this.pos=0,this.lastGapPos=-2,this.gapStack.length=0)}write(t,r){this.html.length>0?this.html+=t:this.html=t,this.endOfChunkHit=!1,this.lastChunkWritten=r}insertHtmlAtCurrentPos(t){this.html=this.html.substring(0,this.pos+1)+t+this.html.substring(this.pos+1),this.endOfChunkHit=!1}startsWith(t,r){if(this.pos+t.length>this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,!1;if(r)return this.html.startsWith(t,this.pos);for(let n=0;n<t.length;n++)if((this.html.charCodeAt(this.pos+n)|32)!==t.charCodeAt(n))return!1;return!0}peek(t){const r=this.pos+t;if(r>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,re.EOF;const n=this.html.charCodeAt(r);return n===re.CARRIAGE_RETURN?re.LINE_FEED:n}advance(){if(this.pos++,this.isEol&&(this.isEol=!1,this.line++,this.lineStartPos=this.pos),this.pos>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,re.EOF;let t=this.html.charCodeAt(this.pos);return t===re.CARRIAGE_RETURN?(this.isEol=!0,this.skipNextNewLine=!0,re.LINE_FEED):t===re.LINE_FEED&&(this.isEol=!0,this.skipNextNewLine)?(this.line--,this.skipNextNewLine=!1,this._addGap(),this.advance()):(this.skipNextNewLine=!1,$H(t)&&(t=this._processSurrogate(t)),this.handler.onParseError===null||t>31&&t<127||t===re.LINE_FEED||t===re.CARRIAGE_RETURN||t>159&&t<64976||this._checkForProblematicCharacters(t),t)}_checkForProblematicCharacters(t){HH(t)?this._err(We.controlCharacterInInputStream):zH(t)&&this._err(We.noncharacterInInputStream)}retreat(t){for(this.pos-=t;this.pos<this.lastGapPos;)this.lastGapPos=this.gapStack.pop(),this.pos--;this.isEol=!1}}var ln;(function(e){e[e.CHARACTER=0]="CHARACTER",e[e.NULL_CHARACTER=1]="NULL_CHARACTER",e[e.WHITESPACE_CHARACTER=2]="WHITESPACE_CHARACTER",e[e.START_TAG=3]="START_TAG",e[e.END_TAG=4]="END_TAG",e[e.COMMENT=5]="COMMENT",e[e.DOCTYPE=6]="DOCTYPE",e[e.EOF=7]="EOF",e[e.HIBERNATION=8]="HIBERNATION"})(ln||(ln={}));function GH(e,t){for(let r=e.attrs.length-1;r>=0;r--)if(e.attrs[r].name===t)return e.attrs[r].value;return null}var ht;(function(e){e.HTML="http://www.w3.org/1999/xhtml",e.MATHML="http://www.w3.org/1998/Math/MathML",e.SVG="http://www.w3.org/2000/svg",e.XLINK="http://www.w3.org/1999/xlink",e.XML="http://www.w3.org/XML/1998/namespace",e.XMLNS="http://www.w3.org/2000/xmlns/"})(ht||(ht={}));var pu;(function(e){e.TYPE="type",e.ACTION="action",e.ENCODING="encoding",e.PROMPT="prompt",e.NAME="name",e.COLOR="color",e.FACE="face",e.SIZE="size"})(pu||(pu={}));var Ui;(function(e){e.NO_QUIRKS="no-quirks",e.QUIRKS="quirks",e.LIMITED_QUIRKS="limited-quirks"})(Ui||(Ui={}));var Re;(function(e){e.A="a",e.ADDRESS="address",e.ANNOTATION_XML="annotation-xml",e.APPLET="applet",e.AREA="area",e.ARTICLE="article",e.ASIDE="aside",e.B="b",e.BASE="base",e.BASEFONT="basefont",e.BGSOUND="bgsound",e.BIG="big",e.BLOCKQUOTE="blockquote",e.BODY="body",e.BR="br",e.BUTTON="button",e.CAPTION="caption",e.CENTER="center",e.CODE="code",e.COL="col",e.COLGROUP="colgroup",e.DD="dd",e.DESC="desc",e.DETAILS="details",e.DIALOG="dialog",e.DIR="dir",e.DIV="div",e.DL="dl",e.DT="dt",e.EM="em",e.EMBED="embed",e.FIELDSET="fieldset",e.FIGCAPTION="figcaption",e.FIGURE="figure",e.FONT="font",e.FOOTER="footer",e.FOREIGN_OBJECT="foreignObject",e.FORM="form",e.FRAME="frame",e.FRAMESET="frameset",e.H1="h1",e.H2="h2",e.H3="h3",e.H4="h4",e.H5="h5",e.H6="h6",e.HEAD="head",e.HEADER="header",e.HGROUP="hgroup",e.HR="hr",e.HTML="html",e.I="i",e.IMG="img",e.IMAGE="image",e.INPUT="input",e.IFRAME="iframe",e.KEYGEN="keygen",e.LABEL="label",e.LI="li",e.LINK="link",e.LISTING="listing",e.MAIN="main",e.MALIGNMARK="malignmark",e.MARQUEE="marquee",e.MATH="math",e.MENU="menu",e.META="meta",e.MGLYPH="mglyph",e.MI="mi",e.MO="mo",e.MN="mn",e.MS="ms",e.MTEXT="mtext",e.NAV="nav",e.NOBR="nobr",e.NOFRAMES="noframes",e.NOEMBED="noembed",e.NOSCRIPT="noscript",e.OBJECT="object",e.OL="ol",e.OPTGROUP="optgroup",e.OPTION="option",e.P="p",e.PARAM="param",e.PLAINTEXT="plaintext",e.PRE="pre",e.RB="rb",e.RP="rp",e.RT="rt",e.RTC="rtc",e.RUBY="ruby",e.S="s",e.SCRIPT="script",e.SEARCH="search",e.SECTION="section",e.SELECT="select",e.SOURCE="source",e.SMALL="small",e.SPAN="span",e.STRIKE="strike",e.STRONG="strong",e.STYLE="style",e.SUB="sub",e.SUMMARY="summary",e.SUP="sup",e.TABLE="table",e.TBODY="tbody",e.TEMPLATE="template",e.TEXTAREA="textarea",e.TFOOT="tfoot",e.TD="td",e.TH="th",e.THEAD="thead",e.TITLE="title",e.TR="tr",e.TRACK="track",e.TT="tt",e.U="u",e.UL="ul",e.SVG="svg",e.VAR="var",e.WBR="wbr",e.XMP="xmp"})(Re||(Re={}));var A;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.A=1]="A",e[e.ADDRESS=2]="ADDRESS",e[e.ANNOTATION_XML=3]="ANNOTATION_XML",e[e.APPLET=4]="APPLET",e[e.AREA=5]="AREA",e[e.ARTICLE=6]="ARTICLE",e[e.ASIDE=7]="ASIDE",e[e.B=8]="B",e[e.BASE=9]="BASE",e[e.BASEFONT=10]="BASEFONT",e[e.BGSOUND=11]="BGSOUND",e[e.BIG=12]="BIG",e[e.BLOCKQUOTE=13]="BLOCKQUOTE",e[e.BODY=14]="BODY",e[e.BR=15]="BR",e[e.BUTTON=16]="BUTTON",e[e.CAPTION=17]="CAPTION",e[e.CENTER=18]="CENTER",e[e.CODE=19]="CODE",e[e.COL=20]="COL",e[e.COLGROUP=21]="COLGROUP",e[e.DD=22]="DD",e[e.DESC=23]="DESC",e[e.DETAILS=24]="DETAILS",e[e.DIALOG=25]="DIALOG",e[e.DIR=26]="DIR",e[e.DIV=27]="DIV",e[e.DL=28]="DL",e[e.DT=29]="DT",e[e.EM=30]="EM",e[e.EMBED=31]="EMBED",e[e.FIELDSET=32]="FIELDSET",e[e.FIGCAPTION=33]="FIGCAPTION",e[e.FIGURE=34]="FIGURE",e[e.FONT=35]="FONT",e[e.FOOTER=36]="FOOTER",e[e.FOREIGN_OBJECT=37]="FOREIGN_OBJECT",e[e.FORM=38]="FORM",e[e.FRAME=39]="FRAME",e[e.FRAMESET=40]="FRAMESET",e[e.H1=41]="H1",e[e.H2=42]="H2",e[e.H3=43]="H3",e[e.H4=44]="H4",e[e.H5=45]="H5",e[e.H6=46]="H6",e[e.HEAD=47]="HEAD",e[e.HEADER=48]="HEADER",e[e.HGROUP=49]="HGROUP",e[e.HR=50]="HR",e[e.HTML=51]="HTML",e[e.I=52]="I",e[e.IMG=53]="IMG",e[e.IMAGE=54]="IMAGE",e[e.INPUT=55]="INPUT",e[e.IFRAME=56]="IFRAME",e[e.KEYGEN=57]="KEYGEN",e[e.LABEL=58]="LABEL",e[e.LI=59]="LI",e[e.LINK=60]="LINK",e[e.LISTING=61]="LISTING",e[e.MAIN=62]="MAIN",e[e.MALIGNMARK=63]="MALIGNMARK",e[e.MARQUEE=64]="MARQUEE",e[e.MATH=65]="MATH",e[e.MENU=66]="MENU",e[e.META=67]="META",e[e.MGLYPH=68]="MGLYPH",e[e.MI=69]="MI",e[e.MO=70]="MO",e[e.MN=71]="MN",e[e.MS=72]="MS",e[e.MTEXT=73]="MTEXT",e[e.NAV=74]="NAV",e[e.NOBR=75]="NOBR",e[e.NOFRAMES=76]="NOFRAMES",e[e.NOEMBED=77]="NOEMBED",e[e.NOSCRIPT=78]="NOSCRIPT",e[e.OBJECT=79]="OBJECT",e[e.OL=80]="OL",e[e.OPTGROUP=81]="OPTGROUP",e[e.OPTION=82]="OPTION",e[e.P=83]="P",e[e.PARAM=84]="PARAM",e[e.PLAINTEXT=85]="PLAINTEXT",e[e.PRE=86]="PRE",e[e.RB=87]="RB",e[e.RP=88]="RP",e[e.RT=89]="RT",e[e.RTC=90]="RTC",e[e.RUBY=91]="RUBY",e[e.S=92]="S",e[e.SCRIPT=93]="SCRIPT",e[e.SEARCH=94]="SEARCH",e[e.SECTION=95]="SECTION",e[e.SELECT=96]="SELECT",e[e.SOURCE=97]="SOURCE",e[e.SMALL=98]="SMALL",e[e.SPAN=99]="SPAN",e[e.STRIKE=100]="STRIKE",e[e.STRONG=101]="STRONG",e[e.STYLE=102]="STYLE",e[e.SUB=103]="SUB",e[e.SUMMARY=104]="SUMMARY",e[e.SUP=105]="SUP",e[e.TABLE=106]="TABLE",e[e.TBODY=107]="TBODY",e[e.TEMPLATE=108]="TEMPLATE",e[e.TEXTAREA=109]="TEXTAREA",e[e.TFOOT=110]="TFOOT",e[e.TD=111]="TD",e[e.TH=112]="TH",e[e.THEAD=113]="THEAD",e[e.TITLE=114]="TITLE",e[e.TR=115]="TR",e[e.TRACK=116]="TRACK",e[e.TT=117]="TT",e[e.U=118]="U",e[e.UL=119]="UL",e[e.SVG=120]="SVG",e[e.VAR=121]="VAR",e[e.WBR=122]="WBR",e[e.XMP=123]="XMP"})(A||(A={}));const UCe=new Map([[Re.A,A.A],[Re.ADDRESS,A.ADDRESS],[Re.ANNOTATION_XML,A.ANNOTATION_XML],[Re.APPLET,A.APPLET],[Re.AREA,A.AREA],[Re.ARTICLE,A.ARTICLE],[Re.ASIDE,A.ASIDE],[Re.B,A.B],[Re.BASE,A.BASE],[Re.BASEFONT,A.BASEFONT],[Re.BGSOUND,A.BGSOUND],[Re.BIG,A.BIG],[Re.BLOCKQUOTE,A.BLOCKQUOTE],[Re.BODY,A.BODY],[Re.BR,A.BR],[Re.BUTTON,A.BUTTON],[Re.CAPTION,A.CAPTION],[Re.CENTER,A.CENTER],[Re.CODE,A.CODE],[Re.COL,A.COL],[Re.COLGROUP,A.COLGROUP],[Re.DD,A.DD],[Re.DESC,A.DESC],[Re.DETAILS,A.DETAILS],[Re.DIALOG,A.DIALOG],[Re.DIR,A.DIR],[Re.DIV,A.DIV],[Re.DL,A.DL],[Re.DT,A.DT],[Re.EM,A.EM],[Re.EMBED,A.EMBED],[Re.FIELDSET,A.FIELDSET],[Re.FIGCAPTION,A.FIGCAPTION],[Re.FIGURE,A.FIGURE],[Re.FONT,A.FONT],[Re.FOOTER,A.FOOTER],[Re.FOREIGN_OBJECT,A.FOREIGN_OBJECT],[Re.FORM,A.FORM],[Re.FRAME,A.FRAME],[Re.FRAMESET,A.FRAMESET],[Re.H1,A.H1],[Re.H2,A.H2],[Re.H3,A.H3],[Re.H4,A.H4],[Re.H5,A.H5],[Re.H6,A.H6],[Re.HEAD,A.HEAD],[Re.HEADER,A.HEADER],[Re.HGROUP,A.HGROUP],[Re.HR,A.HR],[Re.HTML,A.HTML],[Re.I,A.I],[Re.IMG,A.IMG],[Re.IMAGE,A.IMAGE],[Re.INPUT,A.INPUT],[Re.IFRAME,A.IFRAME],[Re.KEYGEN,A.KEYGEN],[Re.LABEL,A.LABEL],[Re.LI,A.LI],[Re.LINK,A.LINK],[Re.LISTING,A.LISTING],[Re.MAIN,A.MAIN],[Re.MALIGNMARK,A.MALIGNMARK],[Re.MARQUEE,A.MARQUEE],[Re.MATH,A.MATH],[Re.MENU,A.MENU],[Re.META,A.META],[Re.MGLYPH,A.MGLYPH],[Re.MI,A.MI],[Re.MO,A.MO],[Re.MN,A.MN],[Re.MS,A.MS],[Re.MTEXT,A.MTEXT],[Re.NAV,A.NAV],[Re.NOBR,A.NOBR],[Re.NOFRAMES,A.NOFRAMES],[Re.NOEMBED,A.NOEMBED],[Re.NOSCRIPT,A.NOSCRIPT],[Re.OBJECT,A.OBJECT],[Re.OL,A.OL],[Re.OPTGROUP,A.OPTGROUP],[Re.OPTION,A.OPTION],[Re.P,A.P],[Re.PARAM,A.PARAM],[Re.PLAINTEXT,A.PLAINTEXT],[Re.PRE,A.PRE],[Re.RB,A.RB],[Re.RP,A.RP],[Re.RT,A.RT],[Re.RTC,A.RTC],[Re.RUBY,A.RUBY],[Re.S,A.S],[Re.SCRIPT,A.SCRIPT],[Re.SEARCH,A.SEARCH],[Re.SECTION,A.SECTION],[Re.SELECT,A.SELECT],[Re.SOURCE,A.SOURCE],[Re.SMALL,A.SMALL],[Re.SPAN,A.SPAN],[Re.STRIKE,A.STRIKE],[Re.STRONG,A.STRONG],[Re.STYLE,A.STYLE],[Re.SUB,A.SUB],[Re.SUMMARY,A.SUMMARY],[Re.SUP,A.SUP],[Re.TABLE,A.TABLE],[Re.TBODY,A.TBODY],[Re.TEMPLATE,A.TEMPLATE],[Re.TEXTAREA,A.TEXTAREA],[Re.TFOOT,A.TFOOT],[Re.TD,A.TD],[Re.TH,A.TH],[Re.THEAD,A.THEAD],[Re.TITLE,A.TITLE],[Re.TR,A.TR],[Re.TRACK,A.TRACK],[Re.TT,A.TT],[Re.U,A.U],[Re.UL,A.UL],[Re.SVG,A.SVG],[Re.VAR,A.VAR],[Re.WBR,A.WBR],[Re.XMP,A.XMP]]);function Bx(e){var t;return(t=UCe.get(e))!==null&&t!==void 0?t:A.UNKNOWN}const bt=A,$Ce={[ht.HTML]:new Set([bt.ADDRESS,bt.APPLET,bt.AREA,bt.ARTICLE,bt.ASIDE,bt.BASE,bt.BASEFONT,bt.BGSOUND,bt.BLOCKQUOTE,bt.BODY,bt.BR,bt.BUTTON,bt.CAPTION,bt.CENTER,bt.COL,bt.COLGROUP,bt.DD,bt.DETAILS,bt.DIR,bt.DIV,bt.DL,bt.DT,bt.EMBED,bt.FIELDSET,bt.FIGCAPTION,bt.FIGURE,bt.FOOTER,bt.FORM,bt.FRAME,bt.FRAMESET,bt.H1,bt.H2,bt.H3,bt.H4,bt.H5,bt.H6,bt.HEAD,bt.HEADER,bt.HGROUP,bt.HR,bt.HTML,bt.IFRAME,bt.IMG,bt.INPUT,bt.LI,bt.LINK,bt.LISTING,bt.MAIN,bt.MARQUEE,bt.MENU,bt.META,bt.NAV,bt.NOEMBED,bt.NOFRAMES,bt.NOSCRIPT,bt.OBJECT,bt.OL,bt.P,bt.PARAM,bt.PLAINTEXT,bt.PRE,bt.SCRIPT,bt.SECTION,bt.SELECT,bt.SOURCE,bt.STYLE,bt.SUMMARY,bt.TABLE,bt.TBODY,bt.TD,bt.TEMPLATE,bt.TEXTAREA,bt.TFOOT,bt.TH,bt.THEAD,bt.TITLE,bt.TR,bt.TRACK,bt.UL,bt.WBR,bt.XMP]),[ht.MATHML]:new Set([bt.MI,bt.MO,bt.MN,bt.MS,bt.MTEXT,bt.ANNOTATION_XML]),[ht.SVG]:new Set([bt.TITLE,bt.FOREIGN_OBJECT,bt.DESC]),[ht.XLINK]:new Set,[ht.XML]:new Set,[ht.XMLNS]:new Set},yw=new Set([bt.H1,bt.H2,bt.H3,bt.H4,bt.H5,bt.H6]);Re.STYLE,Re.SCRIPT,Re.XMP,Re.IFRAME,Re.NOEMBED,Re.NOFRAMES,Re.PLAINTEXT;var ue;(function(e){e[e.DATA=0]="DATA",e[e.RCDATA=1]="RCDATA",e[e.RAWTEXT=2]="RAWTEXT",e[e.SCRIPT_DATA=3]="SCRIPT_DATA",e[e.PLAINTEXT=4]="PLAINTEXT",e[e.TAG_OPEN=5]="TAG_OPEN",e[e.END_TAG_OPEN=6]="END_TAG_OPEN",e[e.TAG_NAME=7]="TAG_NAME",e[e.RCDATA_LESS_THAN_SIGN=8]="RCDATA_LESS_THAN_SIGN",e[e.RCDATA_END_TAG_OPEN=9]="RCDATA_END_TAG_OPEN",e[e.RCDATA_END_TAG_NAME=10]="RCDATA_END_TAG_NAME",e[e.RAWTEXT_LESS_THAN_SIGN=11]="RAWTEXT_LESS_THAN_SIGN",e[e.RAWTEXT_END_TAG_OPEN=12]="RAWTEXT_END_TAG_OPEN",e[e.RAWTEXT_END_TAG_NAME=13]="RAWTEXT_END_TAG_NAME",e[e.SCRIPT_DATA_LESS_THAN_SIGN=14]="SCRIPT_DATA_LESS_THAN_SIGN",e[e.SCRIPT_DATA_END_TAG_OPEN=15]="SCRIPT_DATA_END_TAG_OPEN",e[e.SCRIPT_DATA_END_TAG_NAME=16]="SCRIPT_DATA_END_TAG_NAME",e[e.SCRIPT_DATA_ESCAPE_START=17]="SCRIPT_DATA_ESCAPE_START",e[e.SCRIPT_DATA_ESCAPE_START_DASH=18]="SCRIPT_DATA_ESCAPE_START_DASH",e[e.SCRIPT_DATA_ESCAPED=19]="SCRIPT_DATA_ESCAPED",e[e.SCRIPT_DATA_ESCAPED_DASH=20]="SCRIPT_DATA_ESCAPED_DASH",e[e.SCRIPT_DATA_ESCAPED_DASH_DASH=21]="SCRIPT_DATA_ESCAPED_DASH_DASH",e[e.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN=22]="SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN",e[e.SCRIPT_DATA_ESCAPED_END_TAG_OPEN=23]="SCRIPT_DATA_ESCAPED_END_TAG_OPEN",e[e.SCRIPT_DATA_ESCAPED_END_TAG_NAME=24]="SCRIPT_DATA_ESCAPED_END_TAG_NAME",e[e.SCRIPT_DATA_DOUBLE_ESCAPE_START=25]="SCRIPT_DATA_DOUBLE_ESCAPE_START",e[e.SCRIPT_DATA_DOUBLE_ESCAPED=26]="SCRIPT_DATA_DOUBLE_ESCAPED",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH=27]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH=28]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN=29]="SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN",e[e.SCRIPT_DATA_DOUBLE_ESCAPE_END=30]="SCRIPT_DATA_DOUBLE_ESCAPE_END",e[e.BEFORE_ATTRIBUTE_NAME=31]="BEFORE_ATTRIBUTE_NAME",e[e.ATTRIBUTE_NAME=32]="ATTRIBUTE_NAME",e[e.AFTER_ATTRIBUTE_NAME=33]="AFTER_ATTRIBUTE_NAME",e[e.BEFORE_ATTRIBUTE_VALUE=34]="BEFORE_ATTRIBUTE_VALUE",e[e.ATTRIBUTE_VALUE_DOUBLE_QUOTED=35]="ATTRIBUTE_VALUE_DOUBLE_QUOTED",e[e.ATTRIBUTE_VALUE_SINGLE_QUOTED=36]="ATTRIBUTE_VALUE_SINGLE_QUOTED",e[e.ATTRIBUTE_VALUE_UNQUOTED=37]="ATTRIBUTE_VALUE_UNQUOTED",e[e.AFTER_ATTRIBUTE_VALUE_QUOTED=38]="AFTER_ATTRIBUTE_VALUE_QUOTED",e[e.SELF_CLOSING_START_TAG=39]="SELF_CLOSING_START_TAG",e[e.BOGUS_COMMENT=40]="BOGUS_COMMENT",e[e.MARKUP_DECLARATION_OPEN=41]="MARKUP_DECLARATION_OPEN",e[e.COMMENT_START=42]="COMMENT_START",e[e.COMMENT_START_DASH=43]="COMMENT_START_DASH",e[e.COMMENT=44]="COMMENT",e[e.COMMENT_LESS_THAN_SIGN=45]="COMMENT_LESS_THAN_SIGN",e[e.COMMENT_LESS_THAN_SIGN_BANG=46]="COMMENT_LESS_THAN_SIGN_BANG",e[e.COMMENT_LESS_THAN_SIGN_BANG_DASH=47]="COMMENT_LESS_THAN_SIGN_BANG_DASH",e[e.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH=48]="COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH",e[e.COMMENT_END_DASH=49]="COMMENT_END_DASH",e[e.COMMENT_END=50]="COMMENT_END",e[e.COMMENT_END_BANG=51]="COMMENT_END_BANG",e[e.DOCTYPE=52]="DOCTYPE",e[e.BEFORE_DOCTYPE_NAME=53]="BEFORE_DOCTYPE_NAME",e[e.DOCTYPE_NAME=54]="DOCTYPE_NAME",e[e.AFTER_DOCTYPE_NAME=55]="AFTER_DOCTYPE_NAME",e[e.AFTER_DOCTYPE_PUBLIC_KEYWORD=56]="AFTER_DOCTYPE_PUBLIC_KEYWORD",e[e.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER=57]="BEFORE_DOCTYPE_PUBLIC_IDENTIFIER",e[e.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED=58]="DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED",e[e.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED=59]="DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED",e[e.AFTER_DOCTYPE_PUBLIC_IDENTIFIER=60]="AFTER_DOCTYPE_PUBLIC_IDENTIFIER",e[e.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS=61]="BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS",e[e.AFTER_DOCTYPE_SYSTEM_KEYWORD=62]="AFTER_DOCTYPE_SYSTEM_KEYWORD",e[e.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER=63]="BEFORE_DOCTYPE_SYSTEM_IDENTIFIER",e[e.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED=64]="DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED",e[e.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED=65]="DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED",e[e.AFTER_DOCTYPE_SYSTEM_IDENTIFIER=66]="AFTER_DOCTYPE_SYSTEM_IDENTIFIER",e[e.BOGUS_DOCTYPE=67]="BOGUS_DOCTYPE",e[e.CDATA_SECTION=68]="CDATA_SECTION",e[e.CDATA_SECTION_BRACKET=69]="CDATA_SECTION_BRACKET",e[e.CDATA_SECTION_END=70]="CDATA_SECTION_END",e[e.CHARACTER_REFERENCE=71]="CHARACTER_REFERENCE",e[e.AMBIGUOUS_AMPERSAND=72]="AMBIGUOUS_AMPERSAND"})(ue||(ue={}));const ti={DATA:ue.DATA,RCDATA:ue.RCDATA,RAWTEXT:ue.RAWTEXT,SCRIPT_DATA:ue.SCRIPT_DATA,PLAINTEXT:ue.PLAINTEXT,CDATA_SECTION:ue.CDATA_SECTION};function HCe(e){return e>=re.DIGIT_0&&e<=re.DIGIT_9}function Tg(e){return e>=re.LATIN_CAPITAL_A&&e<=re.LATIN_CAPITAL_Z}function zCe(e){return e>=re.LATIN_SMALL_A&&e<=re.LATIN_SMALL_Z}function ic(e){return zCe(e)||Tg(e)}function d4(e){return ic(e)||HCe(e)}function V0(e){return e+32}function qH(e){return e===re.SPACE||e===re.LINE_FEED||e===re.TABULATION||e===re.FORM_FEED}function p4(e){return qH(e)||e===re.SOLIDUS||e===re.GREATER_THAN_SIGN}function GCe(e){return e===re.NULL?We.nullCharacterReference:e>1114111?We.characterReferenceOutsideUnicodeRange:$H(e)?We.surrogateCharacterReference:zH(e)?We.noncharacterCharacterReference:HH(e)||e===re.CARRIAGE_RETURN?We.controlCharacterReference:null}class qCe{constructor(t,r){this.options=t,this.handler=r,this.paused=!1,this.inLoop=!1,this.inForeignNode=!1,this.lastStartTagName="",this.active=!1,this.state=ue.DATA,this.returnState=ue.DATA,this.entityStartPos=0,this.consumedAfterSnapshot=-1,this.currentCharacterToken=null,this.currentToken=null,this.currentAttr={name:"",value:""},this.preprocessor=new BCe(r),this.currentLocation=this.getCurrentLocation(-1),this.entityDecoder=new _5(C5,(n,a)=>{this.preprocessor.pos=this.entityStartPos+a-1,this._flushCodePointConsumedAsCharacterReference(n)},r.onParseError?{missingSemicolonAfterCharacterReference:()=>{this._err(We.missingSemicolonAfterCharacterReference,1)},absenceOfDigitsInNumericCharacterReference:n=>{this._err(We.absenceOfDigitsInNumericCharacterReference,this.entityStartPos-this.preprocessor.pos+n)},validateNumericCharacterReference:n=>{const a=GCe(n);a&&this._err(a,1)}}:void 0)}_err(t,r=0){var n,a;(a=(n=this.handler).onParseError)===null||a===void 0||a.call(n,this.preprocessor.getError(t,r))}getCurrentLocation(t){return this.options.sourceCodeLocationInfo?{startLine:this.preprocessor.line,startCol:this.preprocessor.col-t,startOffset:this.preprocessor.offset-t,endLine:-1,endCol:-1,endOffset:-1}:null}_runParsingLoop(){if(!this.inLoop){for(this.inLoop=!0;this.active&&!this.paused;){this.consumedAfterSnapshot=0;const t=this._consume();this._ensureHibernation()||this._callState(t)}this.inLoop=!1}}pause(){this.paused=!0}resume(t){if(!this.paused)throw new Error("Parser was already resumed");this.paused=!1,!this.inLoop&&(this._runParsingLoop(),this.paused||t?.())}write(t,r,n){this.active=!0,this.preprocessor.write(t,r),this._runParsingLoop(),this.paused||n?.()}insertHtmlAtCurrentPos(t){this.active=!0,this.preprocessor.insertHtmlAtCurrentPos(t),this._runParsingLoop()}_ensureHibernation(){return this.preprocessor.endOfChunkHit?(this.preprocessor.retreat(this.consumedAfterSnapshot),this.consumedAfterSnapshot=0,this.active=!1,!0):!1}_consume(){return this.consumedAfterSnapshot++,this.preprocessor.advance()}_advanceBy(t){this.consumedAfterSnapshot+=t;for(let r=0;r<t;r++)this.preprocessor.advance()}_consumeSequenceIfMatch(t,r){return this.preprocessor.startsWith(t,r)?(this._advanceBy(t.length-1),!0):!1}_createStartTagToken(){this.currentToken={type:ln.START_TAG,tagName:"",tagID:A.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(1)}}_createEndTagToken(){this.currentToken={type:ln.END_TAG,tagName:"",tagID:A.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(2)}}_createCommentToken(t){this.currentToken={type:ln.COMMENT,data:"",location:this.getCurrentLocation(t)}}_createDoctypeToken(t){this.currentToken={type:ln.DOCTYPE,name:t,forceQuirks:!1,publicId:null,systemId:null,location:this.currentLocation}}_createCharacterToken(t,r){this.currentCharacterToken={type:t,chars:r,location:this.currentLocation}}_createAttr(t){this.currentAttr={name:t,value:""},this.currentLocation=this.getCurrentLocation(0)}_leaveAttrName(){var t,r;const n=this.currentToken;if(GH(n,this.currentAttr.name)===null){if(n.attrs.push(this.currentAttr),n.location&&this.currentLocation){const a=(t=(r=n.location).attrs)!==null&&t!==void 0?t:r.attrs=Object.create(null);a[this.currentAttr.name]=this.currentLocation,this._leaveAttrValue()}}else this._err(We.duplicateAttribute)}_leaveAttrValue(){this.currentLocation&&(this.currentLocation.endLine=this.preprocessor.line,this.currentLocation.endCol=this.preprocessor.col,this.currentLocation.endOffset=this.preprocessor.offset)}prepareToken(t){this._emitCurrentCharacterToken(t.location),this.currentToken=null,t.location&&(t.location.endLine=this.preprocessor.line,t.location.endCol=this.preprocessor.col+1,t.location.endOffset=this.preprocessor.offset+1),this.currentLocation=this.getCurrentLocation(-1)}emitCurrentTagToken(){const t=this.currentToken;this.prepareToken(t),t.tagID=Bx(t.tagName),t.type===ln.START_TAG?(this.lastStartTagName=t.tagName,this.handler.onStartTag(t)):(t.attrs.length>0&&this._err(We.endTagWithAttributes),t.selfClosing&&this._err(We.endTagWithTrailingSolidus),this.handler.onEndTag(t)),this.preprocessor.dropParsedChunk()}emitCurrentComment(t){this.prepareToken(t),this.handler.onComment(t),this.preprocessor.dropParsedChunk()}emitCurrentDoctype(t){this.prepareToken(t),this.handler.onDoctype(t),this.preprocessor.dropParsedChunk()}_emitCurrentCharacterToken(t){if(this.currentCharacterToken){switch(t&&this.currentCharacterToken.location&&(this.currentCharacterToken.location.endLine=t.startLine,this.currentCharacterToken.location.endCol=t.startCol,this.currentCharacterToken.location.endOffset=t.startOffset),this.currentCharacterToken.type){case ln.CHARACTER:{this.handler.onCharacter(this.currentCharacterToken);break}case ln.NULL_CHARACTER:{this.handler.onNullCharacter(this.currentCharacterToken);break}case ln.WHITESPACE_CHARACTER:{this.handler.onWhitespaceCharacter(this.currentCharacterToken);break}}this.currentCharacterToken=null}}_emitEOFToken(){const t=this.getCurrentLocation(0);t&&(t.endLine=t.startLine,t.endCol=t.startCol,t.endOffset=t.startOffset),this._emitCurrentCharacterToken(t),this.handler.onEof({type:ln.EOF,location:t}),this.active=!1}_appendCharToCurrentCharacterToken(t,r){if(this.currentCharacterToken)if(this.currentCharacterToken.type===t){this.currentCharacterToken.chars+=r;return}else this.currentLocation=this.getCurrentLocation(0),this._emitCurrentCharacterToken(this.currentLocation),this.preprocessor.dropParsedChunk();this._createCharacterToken(t,r)}_emitCodePoint(t){const r=qH(t)?ln.WHITESPACE_CHARACTER:t===re.NULL?ln.NULL_CHARACTER:ln.CHARACTER;this._appendCharToCurrentCharacterToken(r,String.fromCodePoint(t))}_emitChars(t){this._appendCharToCurrentCharacterToken(ln.CHARACTER,t)}_startCharacterReference(){this.returnState=this.state,this.state=ue.CHARACTER_REFERENCE,this.entityStartPos=this.preprocessor.pos,this.entityDecoder.startEntity(this._isCharacterReferenceInAttribute()?io.Attribute:io.Legacy)}_isCharacterReferenceInAttribute(){return this.returnState===ue.ATTRIBUTE_VALUE_DOUBLE_QUOTED||this.returnState===ue.ATTRIBUTE_VALUE_SINGLE_QUOTED||this.returnState===ue.ATTRIBUTE_VALUE_UNQUOTED}_flushCodePointConsumedAsCharacterReference(t){this._isCharacterReferenceInAttribute()?this.currentAttr.value+=String.fromCodePoint(t):this._emitCodePoint(t)}_callState(t){switch(this.state){case ue.DATA:{this._stateData(t);break}case ue.RCDATA:{this._stateRcdata(t);break}case ue.RAWTEXT:{this._stateRawtext(t);break}case ue.SCRIPT_DATA:{this._stateScriptData(t);break}case ue.PLAINTEXT:{this._statePlaintext(t);break}case ue.TAG_OPEN:{this._stateTagOpen(t);break}case ue.END_TAG_OPEN:{this._stateEndTagOpen(t);break}case ue.TAG_NAME:{this._stateTagName(t);break}case ue.RCDATA_LESS_THAN_SIGN:{this._stateRcdataLessThanSign(t);break}case ue.RCDATA_END_TAG_OPEN:{this._stateRcdataEndTagOpen(t);break}case ue.RCDATA_END_TAG_NAME:{this._stateRcdataEndTagName(t);break}case ue.RAWTEXT_LESS_THAN_SIGN:{this._stateRawtextLessThanSign(t);break}case ue.RAWTEXT_END_TAG_OPEN:{this._stateRawtextEndTagOpen(t);break}case ue.RAWTEXT_END_TAG_NAME:{this._stateRawtextEndTagName(t);break}case ue.SCRIPT_DATA_LESS_THAN_SIGN:{this._stateScriptDataLessThanSign(t);break}case ue.SCRIPT_DATA_END_TAG_OPEN:{this._stateScriptDataEndTagOpen(t);break}case ue.SCRIPT_DATA_END_TAG_NAME:{this._stateScriptDataEndTagName(t);break}case ue.SCRIPT_DATA_ESCAPE_START:{this._stateScriptDataEscapeStart(t);break}case ue.SCRIPT_DATA_ESCAPE_START_DASH:{this._stateScriptDataEscapeStartDash(t);break}case ue.SCRIPT_DATA_ESCAPED:{this._stateScriptDataEscaped(t);break}case ue.SCRIPT_DATA_ESCAPED_DASH:{this._stateScriptDataEscapedDash(t);break}case ue.SCRIPT_DATA_ESCAPED_DASH_DASH:{this._stateScriptDataEscapedDashDash(t);break}case ue.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataEscapedLessThanSign(t);break}case ue.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:{this._stateScriptDataEscapedEndTagOpen(t);break}case ue.SCRIPT_DATA_ESCAPED_END_TAG_NAME:{this._stateScriptDataEscapedEndTagName(t);break}case ue.SCRIPT_DATA_DOUBLE_ESCAPE_START:{this._stateScriptDataDoubleEscapeStart(t);break}case ue.SCRIPT_DATA_DOUBLE_ESCAPED:{this._stateScriptDataDoubleEscaped(t);break}case ue.SCRIPT_DATA_DOUBLE_ESCAPED_DASH:{this._stateScriptDataDoubleEscapedDash(t);break}case ue.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH:{this._stateScriptDataDoubleEscapedDashDash(t);break}case ue.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataDoubleEscapedLessThanSign(t);break}case ue.SCRIPT_DATA_DOUBLE_ESCAPE_END:{this._stateScriptDataDoubleEscapeEnd(t);break}case ue.BEFORE_ATTRIBUTE_NAME:{this._stateBeforeAttributeName(t);break}case ue.ATTRIBUTE_NAME:{this._stateAttributeName(t);break}case ue.AFTER_ATTRIBUTE_NAME:{this._stateAfterAttributeName(t);break}case ue.BEFORE_ATTRIBUTE_VALUE:{this._stateBeforeAttributeValue(t);break}case ue.ATTRIBUTE_VALUE_DOUBLE_QUOTED:{this._stateAttributeValueDoubleQuoted(t);break}case ue.ATTRIBUTE_VALUE_SINGLE_QUOTED:{this._stateAttributeValueSingleQuoted(t);break}case ue.ATTRIBUTE_VALUE_UNQUOTED:{this._stateAttributeValueUnquoted(t);break}case ue.AFTER_ATTRIBUTE_VALUE_QUOTED:{this._stateAfterAttributeValueQuoted(t);break}case ue.SELF_CLOSING_START_TAG:{this._stateSelfClosingStartTag(t);break}case ue.BOGUS_COMMENT:{this._stateBogusComment(t);break}case ue.MARKUP_DECLARATION_OPEN:{this._stateMarkupDeclarationOpen(t);break}case ue.COMMENT_START:{this._stateCommentStart(t);break}case ue.COMMENT_START_DASH:{this._stateCommentStartDash(t);break}case ue.COMMENT:{this._stateComment(t);break}case ue.COMMENT_LESS_THAN_SIGN:{this._stateCommentLessThanSign(t);break}case ue.COMMENT_LESS_THAN_SIGN_BANG:{this._stateCommentLessThanSignBang(t);break}case ue.COMMENT_LESS_THAN_SIGN_BANG_DASH:{this._stateCommentLessThanSignBangDash(t);break}case ue.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:{this._stateCommentLessThanSignBangDashDash(t);break}case ue.COMMENT_END_DASH:{this._stateCommentEndDash(t);break}case ue.COMMENT_END:{this._stateCommentEnd(t);break}case ue.COMMENT_END_BANG:{this._stateCommentEndBang(t);break}case ue.DOCTYPE:{this._stateDoctype(t);break}case ue.BEFORE_DOCTYPE_NAME:{this._stateBeforeDoctypeName(t);break}case ue.DOCTYPE_NAME:{this._stateDoctypeName(t);break}case ue.AFTER_DOCTYPE_NAME:{this._stateAfterDoctypeName(t);break}case ue.AFTER_DOCTYPE_PUBLIC_KEYWORD:{this._stateAfterDoctypePublicKeyword(t);break}case ue.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateBeforeDoctypePublicIdentifier(t);break}case ue.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypePublicIdentifierDoubleQuoted(t);break}case ue.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypePublicIdentifierSingleQuoted(t);break}case ue.AFTER_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateAfterDoctypePublicIdentifier(t);break}case ue.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS:{this._stateBetweenDoctypePublicAndSystemIdentifiers(t);break}case ue.AFTER_DOCTYPE_SYSTEM_KEYWORD:{this._stateAfterDoctypeSystemKeyword(t);break}case ue.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateBeforeDoctypeSystemIdentifier(t);break}case ue.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypeSystemIdentifierDoubleQuoted(t);break}case ue.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypeSystemIdentifierSingleQuoted(t);break}case ue.AFTER_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateAfterDoctypeSystemIdentifier(t);break}case ue.BOGUS_DOCTYPE:{this._stateBogusDoctype(t);break}case ue.CDATA_SECTION:{this._stateCdataSection(t);break}case ue.CDATA_SECTION_BRACKET:{this._stateCdataSectionBracket(t);break}case ue.CDATA_SECTION_END:{this._stateCdataSectionEnd(t);break}case ue.CHARACTER_REFERENCE:{this._stateCharacterReference();break}case ue.AMBIGUOUS_AMPERSAND:{this._stateAmbiguousAmpersand(t);break}default:throw new Error("Unknown state")}}_stateData(t){switch(t){case re.LESS_THAN_SIGN:{this.state=ue.TAG_OPEN;break}case re.AMPERSAND:{this._startCharacterReference();break}case re.NULL:{this._err(We.unexpectedNullCharacter),this._emitCodePoint(t);break}case re.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateRcdata(t){switch(t){case re.AMPERSAND:{this._startCharacterReference();break}case re.LESS_THAN_SIGN:{this.state=ue.RCDATA_LESS_THAN_SIGN;break}case re.NULL:{this._err(We.unexpectedNullCharacter),this._emitChars(Jn);break}case re.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateRawtext(t){switch(t){case re.LESS_THAN_SIGN:{this.state=ue.RAWTEXT_LESS_THAN_SIGN;break}case re.NULL:{this._err(We.unexpectedNullCharacter),this._emitChars(Jn);break}case re.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptData(t){switch(t){case re.LESS_THAN_SIGN:{this.state=ue.SCRIPT_DATA_LESS_THAN_SIGN;break}case re.NULL:{this._err(We.unexpectedNullCharacter),this._emitChars(Jn);break}case re.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_statePlaintext(t){switch(t){case re.NULL:{this._err(We.unexpectedNullCharacter),this._emitChars(Jn);break}case re.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateTagOpen(t){if(ic(t))this._createStartTagToken(),this.state=ue.TAG_NAME,this._stateTagName(t);else switch(t){case re.EXCLAMATION_MARK:{this.state=ue.MARKUP_DECLARATION_OPEN;break}case re.SOLIDUS:{this.state=ue.END_TAG_OPEN;break}case re.QUESTION_MARK:{this._err(We.unexpectedQuestionMarkInsteadOfTagName),this._createCommentToken(1),this.state=ue.BOGUS_COMMENT,this._stateBogusComment(t);break}case re.EOF:{this._err(We.eofBeforeTagName),this._emitChars("<"),this._emitEOFToken();break}default:this._err(We.invalidFirstCharacterOfTagName),this._emitChars("<"),this.state=ue.DATA,this._stateData(t)}}_stateEndTagOpen(t){if(ic(t))this._createEndTagToken(),this.state=ue.TAG_NAME,this._stateTagName(t);else switch(t){case re.GREATER_THAN_SIGN:{this._err(We.missingEndTagName),this.state=ue.DATA;break}case re.EOF:{this._err(We.eofBeforeTagName),this._emitChars("</"),this._emitEOFToken();break}default:this._err(We.invalidFirstCharacterOfTagName),this._createCommentToken(2),this.state=ue.BOGUS_COMMENT,this._stateBogusComment(t)}}_stateTagName(t){const r=this.currentToken;switch(t){case re.SPACE:case re.LINE_FEED:case re.TABULATION:case re.FORM_FEED:{this.state=ue.BEFORE_ATTRIBUTE_NAME;break}case re.SOLIDUS:{this.state=ue.SELF_CLOSING_START_TAG;break}case re.GREATER_THAN_SIGN:{this.state=ue.DATA,this.emitCurrentTagToken();break}case re.NULL:{this._err(We.unexpectedNullCharacter),r.tagName+=Jn;break}case re.EOF:{this._err(We.eofInTag),this._emitEOFToken();break}default:r.tagName+=String.fromCodePoint(Tg(t)?V0(t):t)}}_stateRcdataLessThanSign(t){t===re.SOLIDUS?this.state=ue.RCDATA_END_TAG_OPEN:(this._emitChars("<"),this.state=ue.RCDATA,this._stateRcdata(t))}_stateRcdataEndTagOpen(t){ic(t)?(this.state=ue.RCDATA_END_TAG_NAME,this._stateRcdataEndTagName(t)):(this._emitChars("</"),this.state=ue.RCDATA,this._stateRcdata(t))}handleSpecialEndTag(t){if(!this.preprocessor.startsWith(this.lastStartTagName,!1))return!this._ensureHibernation();this._createEndTagToken();const r=this.currentToken;switch(r.tagName=this.lastStartTagName,this.preprocessor.peek(this.lastStartTagName.length)){case re.SPACE:case re.LINE_FEED:case re.TABULATION:case re.FORM_FEED:return this._advanceBy(this.lastStartTagName.length),this.state=ue.BEFORE_ATTRIBUTE_NAME,!1;case re.SOLIDUS:return this._advanceBy(this.lastStartTagName.length),this.state=ue.SELF_CLOSING_START_TAG,!1;case re.GREATER_THAN_SIGN:return this._advanceBy(this.lastStartTagName.length),this.emitCurrentTagToken(),this.state=ue.DATA,!1;default:return!this._ensureHibernation()}}_stateRcdataEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=ue.RCDATA,this._stateRcdata(t))}_stateRawtextLessThanSign(t){t===re.SOLIDUS?this.state=ue.RAWTEXT_END_TAG_OPEN:(this._emitChars("<"),this.state=ue.RAWTEXT,this._stateRawtext(t))}_stateRawtextEndTagOpen(t){ic(t)?(this.state=ue.RAWTEXT_END_TAG_NAME,this._stateRawtextEndTagName(t)):(this._emitChars("</"),this.state=ue.RAWTEXT,this._stateRawtext(t))}_stateRawtextEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=ue.RAWTEXT,this._stateRawtext(t))}_stateScriptDataLessThanSign(t){switch(t){case re.SOLIDUS:{this.state=ue.SCRIPT_DATA_END_TAG_OPEN;break}case re.EXCLAMATION_MARK:{this.state=ue.SCRIPT_DATA_ESCAPE_START,this._emitChars("<!");break}default:this._emitChars("<"),this.state=ue.SCRIPT_DATA,this._stateScriptData(t)}}_stateScriptDataEndTagOpen(t){ic(t)?(this.state=ue.SCRIPT_DATA_END_TAG_NAME,this._stateScriptDataEndTagName(t)):(this._emitChars("</"),this.state=ue.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=ue.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscapeStart(t){t===re.HYPHEN_MINUS?(this.state=ue.SCRIPT_DATA_ESCAPE_START_DASH,this._emitChars("-")):(this.state=ue.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscapeStartDash(t){t===re.HYPHEN_MINUS?(this.state=ue.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-")):(this.state=ue.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscaped(t){switch(t){case re.HYPHEN_MINUS:{this.state=ue.SCRIPT_DATA_ESCAPED_DASH,this._emitChars("-");break}case re.LESS_THAN_SIGN:{this.state=ue.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case re.NULL:{this._err(We.unexpectedNullCharacter),this._emitChars(Jn);break}case re.EOF:{this._err(We.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptDataEscapedDash(t){switch(t){case re.HYPHEN_MINUS:{this.state=ue.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-");break}case re.LESS_THAN_SIGN:{this.state=ue.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case re.NULL:{this._err(We.unexpectedNullCharacter),this.state=ue.SCRIPT_DATA_ESCAPED,this._emitChars(Jn);break}case re.EOF:{this._err(We.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=ue.SCRIPT_DATA_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataEscapedDashDash(t){switch(t){case re.HYPHEN_MINUS:{this._emitChars("-");break}case re.LESS_THAN_SIGN:{this.state=ue.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case re.GREATER_THAN_SIGN:{this.state=ue.SCRIPT_DATA,this._emitChars(">");break}case re.NULL:{this._err(We.unexpectedNullCharacter),this.state=ue.SCRIPT_DATA_ESCAPED,this._emitChars(Jn);break}case re.EOF:{this._err(We.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=ue.SCRIPT_DATA_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataEscapedLessThanSign(t){t===re.SOLIDUS?this.state=ue.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:ic(t)?(this._emitChars("<"),this.state=ue.SCRIPT_DATA_DOUBLE_ESCAPE_START,this._stateScriptDataDoubleEscapeStart(t)):(this._emitChars("<"),this.state=ue.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataEscapedEndTagOpen(t){ic(t)?(this.state=ue.SCRIPT_DATA_ESCAPED_END_TAG_NAME,this._stateScriptDataEscapedEndTagName(t)):(this._emitChars("</"),this.state=ue.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataEscapedEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=ue.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataDoubleEscapeStart(t){if(this.preprocessor.startsWith(Xs.SCRIPT,!1)&&p4(this.preprocessor.peek(Xs.SCRIPT.length))){this._emitCodePoint(t);for(let r=0;r<Xs.SCRIPT.length;r++)this._emitCodePoint(this._consume());this.state=ue.SCRIPT_DATA_DOUBLE_ESCAPED}else this._ensureHibernation()||(this.state=ue.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataDoubleEscaped(t){switch(t){case re.HYPHEN_MINUS:{this.state=ue.SCRIPT_DATA_DOUBLE_ESCAPED_DASH,this._emitChars("-");break}case re.LESS_THAN_SIGN:{this.state=ue.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case re.NULL:{this._err(We.unexpectedNullCharacter),this._emitChars(Jn);break}case re.EOF:{this._err(We.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedDash(t){switch(t){case re.HYPHEN_MINUS:{this.state=ue.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH,this._emitChars("-");break}case re.LESS_THAN_SIGN:{this.state=ue.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case re.NULL:{this._err(We.unexpectedNullCharacter),this.state=ue.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(Jn);break}case re.EOF:{this._err(We.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=ue.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedDashDash(t){switch(t){case re.HYPHEN_MINUS:{this._emitChars("-");break}case re.LESS_THAN_SIGN:{this.state=ue.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case re.GREATER_THAN_SIGN:{this.state=ue.SCRIPT_DATA,this._emitChars(">");break}case re.NULL:{this._err(We.unexpectedNullCharacter),this.state=ue.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(Jn);break}case re.EOF:{this._err(We.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=ue.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedLessThanSign(t){t===re.SOLIDUS?(this.state=ue.SCRIPT_DATA_DOUBLE_ESCAPE_END,this._emitChars("/")):(this.state=ue.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(t))}_stateScriptDataDoubleEscapeEnd(t){if(this.preprocessor.startsWith(Xs.SCRIPT,!1)&&p4(this.preprocessor.peek(Xs.SCRIPT.length))){this._emitCodePoint(t);for(let r=0;r<Xs.SCRIPT.length;r++)this._emitCodePoint(this._consume());this.state=ue.SCRIPT_DATA_ESCAPED}else this._ensureHibernation()||(this.state=ue.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(t))}_stateBeforeAttributeName(t){switch(t){case re.SPACE:case re.LINE_FEED:case re.TABULATION:case re.FORM_FEED:break;case re.SOLIDUS:case re.GREATER_THAN_SIGN:case re.EOF:{this.state=ue.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(t);break}case re.EQUALS_SIGN:{this._err(We.unexpectedEqualsSignBeforeAttributeName),this._createAttr("="),this.state=ue.ATTRIBUTE_NAME;break}default:this._createAttr(""),this.state=ue.ATTRIBUTE_NAME,this._stateAttributeName(t)}}_stateAttributeName(t){switch(t){case re.SPACE:case re.LINE_FEED:case re.TABULATION:case re.FORM_FEED:case re.SOLIDUS:case re.GREATER_THAN_SIGN:case re.EOF:{this._leaveAttrName(),this.state=ue.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(t);break}case re.EQUALS_SIGN:{this._leaveAttrName(),this.state=ue.BEFORE_ATTRIBUTE_VALUE;break}case re.QUOTATION_MARK:case re.APOSTROPHE:case re.LESS_THAN_SIGN:{this._err(We.unexpectedCharacterInAttributeName),this.currentAttr.name+=String.fromCodePoint(t);break}case re.NULL:{this._err(We.unexpectedNullCharacter),this.currentAttr.name+=Jn;break}default:this.currentAttr.name+=String.fromCodePoint(Tg(t)?V0(t):t)}}_stateAfterAttributeName(t){switch(t){case re.SPACE:case re.LINE_FEED:case re.TABULATION:case re.FORM_FEED:break;case re.SOLIDUS:{this.state=ue.SELF_CLOSING_START_TAG;break}case re.EQUALS_SIGN:{this.state=ue.BEFORE_ATTRIBUTE_VALUE;break}case re.GREATER_THAN_SIGN:{this.state=ue.DATA,this.emitCurrentTagToken();break}case re.EOF:{this._err(We.eofInTag),this._emitEOFToken();break}default:this._createAttr(""),this.state=ue.ATTRIBUTE_NAME,this._stateAttributeName(t)}}_stateBeforeAttributeValue(t){switch(t){case re.SPACE:case re.LINE_FEED:case re.TABULATION:case re.FORM_FEED:break;case re.QUOTATION_MARK:{this.state=ue.ATTRIBUTE_VALUE_DOUBLE_QUOTED;break}case re.APOSTROPHE:{this.state=ue.ATTRIBUTE_VALUE_SINGLE_QUOTED;break}case re.GREATER_THAN_SIGN:{this._err(We.missingAttributeValue),this.state=ue.DATA,this.emitCurrentTagToken();break}default:this.state=ue.ATTRIBUTE_VALUE_UNQUOTED,this._stateAttributeValueUnquoted(t)}}_stateAttributeValueDoubleQuoted(t){switch(t){case re.QUOTATION_MARK:{this.state=ue.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case re.AMPERSAND:{this._startCharacterReference();break}case re.NULL:{this._err(We.unexpectedNullCharacter),this.currentAttr.value+=Jn;break}case re.EOF:{this._err(We.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAttributeValueSingleQuoted(t){switch(t){case re.APOSTROPHE:{this.state=ue.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case re.AMPERSAND:{this._startCharacterReference();break}case re.NULL:{this._err(We.unexpectedNullCharacter),this.currentAttr.value+=Jn;break}case re.EOF:{this._err(We.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAttributeValueUnquoted(t){switch(t){case re.SPACE:case re.LINE_FEED:case re.TABULATION:case re.FORM_FEED:{this._leaveAttrValue(),this.state=ue.BEFORE_ATTRIBUTE_NAME;break}case re.AMPERSAND:{this._startCharacterReference();break}case re.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=ue.DATA,this.emitCurrentTagToken();break}case re.NULL:{this._err(We.unexpectedNullCharacter),this.currentAttr.value+=Jn;break}case re.QUOTATION_MARK:case re.APOSTROPHE:case re.LESS_THAN_SIGN:case re.EQUALS_SIGN:case re.GRAVE_ACCENT:{this._err(We.unexpectedCharacterInUnquotedAttributeValue),this.currentAttr.value+=String.fromCodePoint(t);break}case re.EOF:{this._err(We.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAfterAttributeValueQuoted(t){switch(t){case re.SPACE:case re.LINE_FEED:case re.TABULATION:case re.FORM_FEED:{this._leaveAttrValue(),this.state=ue.BEFORE_ATTRIBUTE_NAME;break}case re.SOLIDUS:{this._leaveAttrValue(),this.state=ue.SELF_CLOSING_START_TAG;break}case re.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=ue.DATA,this.emitCurrentTagToken();break}case re.EOF:{this._err(We.eofInTag),this._emitEOFToken();break}default:this._err(We.missingWhitespaceBetweenAttributes),this.state=ue.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(t)}}_stateSelfClosingStartTag(t){switch(t){case re.GREATER_THAN_SIGN:{const r=this.currentToken;r.selfClosing=!0,this.state=ue.DATA,this.emitCurrentTagToken();break}case re.EOF:{this._err(We.eofInTag),this._emitEOFToken();break}default:this._err(We.unexpectedSolidusInTag),this.state=ue.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(t)}}_stateBogusComment(t){const r=this.currentToken;switch(t){case re.GREATER_THAN_SIGN:{this.state=ue.DATA,this.emitCurrentComment(r);break}case re.EOF:{this.emitCurrentComment(r),this._emitEOFToken();break}case re.NULL:{this._err(We.unexpectedNullCharacter),r.data+=Jn;break}default:r.data+=String.fromCodePoint(t)}}_stateMarkupDeclarationOpen(t){this._consumeSequenceIfMatch(Xs.DASH_DASH,!0)?(this._createCommentToken(Xs.DASH_DASH.length+1),this.state=ue.COMMENT_START):this._consumeSequenceIfMatch(Xs.DOCTYPE,!1)?(this.currentLocation=this.getCurrentLocation(Xs.DOCTYPE.length+1),this.state=ue.DOCTYPE):this._consumeSequenceIfMatch(Xs.CDATA_START,!0)?this.inForeignNode?this.state=ue.CDATA_SECTION:(this._err(We.cdataInHtmlContent),this._createCommentToken(Xs.CDATA_START.length+1),this.currentToken.data="[CDATA[",this.state=ue.BOGUS_COMMENT):this._ensureHibernation()||(this._err(We.incorrectlyOpenedComment),this._createCommentToken(2),this.state=ue.BOGUS_COMMENT,this._stateBogusComment(t))}_stateCommentStart(t){switch(t){case re.HYPHEN_MINUS:{this.state=ue.COMMENT_START_DASH;break}case re.GREATER_THAN_SIGN:{this._err(We.abruptClosingOfEmptyComment),this.state=ue.DATA;const r=this.currentToken;this.emitCurrentComment(r);break}default:this.state=ue.COMMENT,this._stateComment(t)}}_stateCommentStartDash(t){const r=this.currentToken;switch(t){case re.HYPHEN_MINUS:{this.state=ue.COMMENT_END;break}case re.GREATER_THAN_SIGN:{this._err(We.abruptClosingOfEmptyComment),this.state=ue.DATA,this.emitCurrentComment(r);break}case re.EOF:{this._err(We.eofInComment),this.emitCurrentComment(r),this._emitEOFToken();break}default:r.data+="-",this.state=ue.COMMENT,this._stateComment(t)}}_stateComment(t){const r=this.currentToken;switch(t){case re.HYPHEN_MINUS:{this.state=ue.COMMENT_END_DASH;break}case re.LESS_THAN_SIGN:{r.data+="<",this.state=ue.COMMENT_LESS_THAN_SIGN;break}case re.NULL:{this._err(We.unexpectedNullCharacter),r.data+=Jn;break}case re.EOF:{this._err(We.eofInComment),this.emitCurrentComment(r),this._emitEOFToken();break}default:r.data+=String.fromCodePoint(t)}}_stateCommentLessThanSign(t){const r=this.currentToken;switch(t){case re.EXCLAMATION_MARK:{r.data+="!",this.state=ue.COMMENT_LESS_THAN_SIGN_BANG;break}case re.LESS_THAN_SIGN:{r.data+="<";break}default:this.state=ue.COMMENT,this._stateComment(t)}}_stateCommentLessThanSignBang(t){t===re.HYPHEN_MINUS?this.state=ue.COMMENT_LESS_THAN_SIGN_BANG_DASH:(this.state=ue.COMMENT,this._stateComment(t))}_stateCommentLessThanSignBangDash(t){t===re.HYPHEN_MINUS?this.state=ue.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:(this.state=ue.COMMENT_END_DASH,this._stateCommentEndDash(t))}_stateCommentLessThanSignBangDashDash(t){t!==re.GREATER_THAN_SIGN&&t!==re.EOF&&this._err(We.nestedComment),this.state=ue.COMMENT_END,this._stateCommentEnd(t)}_stateCommentEndDash(t){const r=this.currentToken;switch(t){case re.HYPHEN_MINUS:{this.state=ue.COMMENT_END;break}case re.EOF:{this._err(We.eofInComment),this.emitCurrentComment(r),this._emitEOFToken();break}default:r.data+="-",this.state=ue.COMMENT,this._stateComment(t)}}_stateCommentEnd(t){const r=this.currentToken;switch(t){case re.GREATER_THAN_SIGN:{this.state=ue.DATA,this.emitCurrentComment(r);break}case re.EXCLAMATION_MARK:{this.state=ue.COMMENT_END_BANG;break}case re.HYPHEN_MINUS:{r.data+="-";break}case re.EOF:{this._err(We.eofInComment),this.emitCurrentComment(r),this._emitEOFToken();break}default:r.data+="--",this.state=ue.COMMENT,this._stateComment(t)}}_stateCommentEndBang(t){const r=this.currentToken;switch(t){case re.HYPHEN_MINUS:{r.data+="--!",this.state=ue.COMMENT_END_DASH;break}case re.GREATER_THAN_SIGN:{this._err(We.incorrectlyClosedComment),this.state=ue.DATA,this.emitCurrentComment(r);break}case re.EOF:{this._err(We.eofInComment),this.emitCurrentComment(r),this._emitEOFToken();break}default:r.data+="--!",this.state=ue.COMMENT,this._stateComment(t)}}_stateDoctype(t){switch(t){case re.SPACE:case re.LINE_FEED:case re.TABULATION:case re.FORM_FEED:{this.state=ue.BEFORE_DOCTYPE_NAME;break}case re.GREATER_THAN_SIGN:{this.state=ue.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(t);break}case re.EOF:{this._err(We.eofInDoctype),this._createDoctypeToken(null);const r=this.currentToken;r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:this._err(We.missingWhitespaceBeforeDoctypeName),this.state=ue.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(t)}}_stateBeforeDoctypeName(t){if(Tg(t))this._createDoctypeToken(String.fromCharCode(V0(t))),this.state=ue.DOCTYPE_NAME;else switch(t){case re.SPACE:case re.LINE_FEED:case re.TABULATION:case re.FORM_FEED:break;case re.NULL:{this._err(We.unexpectedNullCharacter),this._createDoctypeToken(Jn),this.state=ue.DOCTYPE_NAME;break}case re.GREATER_THAN_SIGN:{this._err(We.missingDoctypeName),this._createDoctypeToken(null);const r=this.currentToken;r.forceQuirks=!0,this.emitCurrentDoctype(r),this.state=ue.DATA;break}case re.EOF:{this._err(We.eofInDoctype),this._createDoctypeToken(null);const r=this.currentToken;r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:this._createDoctypeToken(String.fromCodePoint(t)),this.state=ue.DOCTYPE_NAME}}_stateDoctypeName(t){const r=this.currentToken;switch(t){case re.SPACE:case re.LINE_FEED:case re.TABULATION:case re.FORM_FEED:{this.state=ue.AFTER_DOCTYPE_NAME;break}case re.GREATER_THAN_SIGN:{this.state=ue.DATA,this.emitCurrentDoctype(r);break}case re.NULL:{this._err(We.unexpectedNullCharacter),r.name+=Jn;break}case re.EOF:{this._err(We.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:r.name+=String.fromCodePoint(Tg(t)?V0(t):t)}}_stateAfterDoctypeName(t){const r=this.currentToken;switch(t){case re.SPACE:case re.LINE_FEED:case re.TABULATION:case re.FORM_FEED:break;case re.GREATER_THAN_SIGN:{this.state=ue.DATA,this.emitCurrentDoctype(r);break}case re.EOF:{this._err(We.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:this._consumeSequenceIfMatch(Xs.PUBLIC,!1)?this.state=ue.AFTER_DOCTYPE_PUBLIC_KEYWORD:this._consumeSequenceIfMatch(Xs.SYSTEM,!1)?this.state=ue.AFTER_DOCTYPE_SYSTEM_KEYWORD:this._ensureHibernation()||(this._err(We.invalidCharacterSequenceAfterDoctypeName),r.forceQuirks=!0,this.state=ue.BOGUS_DOCTYPE,this._stateBogusDoctype(t))}}_stateAfterDoctypePublicKeyword(t){const r=this.currentToken;switch(t){case re.SPACE:case re.LINE_FEED:case re.TABULATION:case re.FORM_FEED:{this.state=ue.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER;break}case re.QUOTATION_MARK:{this._err(We.missingWhitespaceAfterDoctypePublicKeyword),r.publicId="",this.state=ue.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case re.APOSTROPHE:{this._err(We.missingWhitespaceAfterDoctypePublicKeyword),r.publicId="",this.state=ue.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case re.GREATER_THAN_SIGN:{this._err(We.missingDoctypePublicIdentifier),r.forceQuirks=!0,this.state=ue.DATA,this.emitCurrentDoctype(r);break}case re.EOF:{this._err(We.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:this._err(We.missingQuoteBeforeDoctypePublicIdentifier),r.forceQuirks=!0,this.state=ue.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBeforeDoctypePublicIdentifier(t){const r=this.currentToken;switch(t){case re.SPACE:case re.LINE_FEED:case re.TABULATION:case re.FORM_FEED:break;case re.QUOTATION_MARK:{r.publicId="",this.state=ue.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case re.APOSTROPHE:{r.publicId="",this.state=ue.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case re.GREATER_THAN_SIGN:{this._err(We.missingDoctypePublicIdentifier),r.forceQuirks=!0,this.state=ue.DATA,this.emitCurrentDoctype(r);break}case re.EOF:{this._err(We.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:this._err(We.missingQuoteBeforeDoctypePublicIdentifier),r.forceQuirks=!0,this.state=ue.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateDoctypePublicIdentifierDoubleQuoted(t){const r=this.currentToken;switch(t){case re.QUOTATION_MARK:{this.state=ue.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case re.NULL:{this._err(We.unexpectedNullCharacter),r.publicId+=Jn;break}case re.GREATER_THAN_SIGN:{this._err(We.abruptDoctypePublicIdentifier),r.forceQuirks=!0,this.emitCurrentDoctype(r),this.state=ue.DATA;break}case re.EOF:{this._err(We.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:r.publicId+=String.fromCodePoint(t)}}_stateDoctypePublicIdentifierSingleQuoted(t){const r=this.currentToken;switch(t){case re.APOSTROPHE:{this.state=ue.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case re.NULL:{this._err(We.unexpectedNullCharacter),r.publicId+=Jn;break}case re.GREATER_THAN_SIGN:{this._err(We.abruptDoctypePublicIdentifier),r.forceQuirks=!0,this.emitCurrentDoctype(r),this.state=ue.DATA;break}case re.EOF:{this._err(We.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:r.publicId+=String.fromCodePoint(t)}}_stateAfterDoctypePublicIdentifier(t){const r=this.currentToken;switch(t){case re.SPACE:case re.LINE_FEED:case re.TABULATION:case re.FORM_FEED:{this.state=ue.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS;break}case re.GREATER_THAN_SIGN:{this.state=ue.DATA,this.emitCurrentDoctype(r);break}case re.QUOTATION_MARK:{this._err(We.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),r.systemId="",this.state=ue.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case re.APOSTROPHE:{this._err(We.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),r.systemId="",this.state=ue.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case re.EOF:{this._err(We.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:this._err(We.missingQuoteBeforeDoctypeSystemIdentifier),r.forceQuirks=!0,this.state=ue.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBetweenDoctypePublicAndSystemIdentifiers(t){const r=this.currentToken;switch(t){case re.SPACE:case re.LINE_FEED:case re.TABULATION:case re.FORM_FEED:break;case re.GREATER_THAN_SIGN:{this.emitCurrentDoctype(r),this.state=ue.DATA;break}case re.QUOTATION_MARK:{r.systemId="",this.state=ue.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case re.APOSTROPHE:{r.systemId="",this.state=ue.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case re.EOF:{this._err(We.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:this._err(We.missingQuoteBeforeDoctypeSystemIdentifier),r.forceQuirks=!0,this.state=ue.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateAfterDoctypeSystemKeyword(t){const r=this.currentToken;switch(t){case re.SPACE:case re.LINE_FEED:case re.TABULATION:case re.FORM_FEED:{this.state=ue.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER;break}case re.QUOTATION_MARK:{this._err(We.missingWhitespaceAfterDoctypeSystemKeyword),r.systemId="",this.state=ue.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case re.APOSTROPHE:{this._err(We.missingWhitespaceAfterDoctypeSystemKeyword),r.systemId="",this.state=ue.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case re.GREATER_THAN_SIGN:{this._err(We.missingDoctypeSystemIdentifier),r.forceQuirks=!0,this.state=ue.DATA,this.emitCurrentDoctype(r);break}case re.EOF:{this._err(We.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:this._err(We.missingQuoteBeforeDoctypeSystemIdentifier),r.forceQuirks=!0,this.state=ue.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBeforeDoctypeSystemIdentifier(t){const r=this.currentToken;switch(t){case re.SPACE:case re.LINE_FEED:case re.TABULATION:case re.FORM_FEED:break;case re.QUOTATION_MARK:{r.systemId="",this.state=ue.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case re.APOSTROPHE:{r.systemId="",this.state=ue.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case re.GREATER_THAN_SIGN:{this._err(We.missingDoctypeSystemIdentifier),r.forceQuirks=!0,this.state=ue.DATA,this.emitCurrentDoctype(r);break}case re.EOF:{this._err(We.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:this._err(We.missingQuoteBeforeDoctypeSystemIdentifier),r.forceQuirks=!0,this.state=ue.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateDoctypeSystemIdentifierDoubleQuoted(t){const r=this.currentToken;switch(t){case re.QUOTATION_MARK:{this.state=ue.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case re.NULL:{this._err(We.unexpectedNullCharacter),r.systemId+=Jn;break}case re.GREATER_THAN_SIGN:{this._err(We.abruptDoctypeSystemIdentifier),r.forceQuirks=!0,this.emitCurrentDoctype(r),this.state=ue.DATA;break}case re.EOF:{this._err(We.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:r.systemId+=String.fromCodePoint(t)}}_stateDoctypeSystemIdentifierSingleQuoted(t){const r=this.currentToken;switch(t){case re.APOSTROPHE:{this.state=ue.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case re.NULL:{this._err(We.unexpectedNullCharacter),r.systemId+=Jn;break}case re.GREATER_THAN_SIGN:{this._err(We.abruptDoctypeSystemIdentifier),r.forceQuirks=!0,this.emitCurrentDoctype(r),this.state=ue.DATA;break}case re.EOF:{this._err(We.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:r.systemId+=String.fromCodePoint(t)}}_stateAfterDoctypeSystemIdentifier(t){const r=this.currentToken;switch(t){case re.SPACE:case re.LINE_FEED:case re.TABULATION:case re.FORM_FEED:break;case re.GREATER_THAN_SIGN:{this.emitCurrentDoctype(r),this.state=ue.DATA;break}case re.EOF:{this._err(We.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:this._err(We.unexpectedCharacterAfterDoctypeSystemIdentifier),this.state=ue.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBogusDoctype(t){const r=this.currentToken;switch(t){case re.GREATER_THAN_SIGN:{this.emitCurrentDoctype(r),this.state=ue.DATA;break}case re.NULL:{this._err(We.unexpectedNullCharacter);break}case re.EOF:{this.emitCurrentDoctype(r),this._emitEOFToken();break}}}_stateCdataSection(t){switch(t){case re.RIGHT_SQUARE_BRACKET:{this.state=ue.CDATA_SECTION_BRACKET;break}case re.EOF:{this._err(We.eofInCdata),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateCdataSectionBracket(t){t===re.RIGHT_SQUARE_BRACKET?this.state=ue.CDATA_SECTION_END:(this._emitChars("]"),this.state=ue.CDATA_SECTION,this._stateCdataSection(t))}_stateCdataSectionEnd(t){switch(t){case re.GREATER_THAN_SIGN:{this.state=ue.DATA;break}case re.RIGHT_SQUARE_BRACKET:{this._emitChars("]");break}default:this._emitChars("]]"),this.state=ue.CDATA_SECTION,this._stateCdataSection(t)}}_stateCharacterReference(){let t=this.entityDecoder.write(this.preprocessor.html,this.preprocessor.pos);if(t<0)if(this.preprocessor.lastChunkWritten)t=this.entityDecoder.end();else{this.active=!1,this.preprocessor.pos=this.preprocessor.html.length-1,this.consumedAfterSnapshot=0,this.preprocessor.endOfChunkHit=!0;return}t===0?(this.preprocessor.pos=this.entityStartPos,this._flushCodePointConsumedAsCharacterReference(re.AMPERSAND),this.state=!this._isCharacterReferenceInAttribute()&&d4(this.preprocessor.peek(1))?ue.AMBIGUOUS_AMPERSAND:this.returnState):this.state=this.returnState}_stateAmbiguousAmpersand(t){d4(t)?this._flushCodePointConsumedAsCharacterReference(t):(t===re.SEMICOLON&&this._err(We.unknownNamedCharacterReference),this.state=this.returnState,this._callState(t))}}const WH=new Set([A.DD,A.DT,A.LI,A.OPTGROUP,A.OPTION,A.P,A.RB,A.RP,A.RT,A.RTC]),h4=new Set([...WH,A.CAPTION,A.COLGROUP,A.TBODY,A.TD,A.TFOOT,A.TH,A.THEAD,A.TR]),Ty=new Set([A.APPLET,A.CAPTION,A.HTML,A.MARQUEE,A.OBJECT,A.TABLE,A.TD,A.TEMPLATE,A.TH]),WCe=new Set([...Ty,A.OL,A.UL]),YCe=new Set([...Ty,A.BUTTON]),g4=new Set([A.ANNOTATION_XML,A.MI,A.MN,A.MO,A.MS,A.MTEXT]),m4=new Set([A.DESC,A.FOREIGN_OBJECT,A.TITLE]),VCe=new Set([A.TR,A.TEMPLATE,A.HTML]),KCe=new Set([A.TBODY,A.TFOOT,A.THEAD,A.TEMPLATE,A.HTML]),QCe=new Set([A.TABLE,A.TEMPLATE,A.HTML]),XCe=new Set([A.TD,A.TH]);class ZCe{get currentTmplContentOrNode(){return this._isInTemplate()?this.treeAdapter.getTemplateContent(this.current):this.current}constructor(t,r,n){this.treeAdapter=r,this.handler=n,this.items=[],this.tagIDs=[],this.stackTop=-1,this.tmplCount=0,this.currentTagId=A.UNKNOWN,this.current=t}_indexOf(t){return this.items.lastIndexOf(t,this.stackTop)}_isInTemplate(){return this.currentTagId===A.TEMPLATE&&this.treeAdapter.getNamespaceURI(this.current)===ht.HTML}_updateCurrentElement(){this.current=this.items[this.stackTop],this.currentTagId=this.tagIDs[this.stackTop]}push(t,r){this.stackTop++,this.items[this.stackTop]=t,this.current=t,this.tagIDs[this.stackTop]=r,this.currentTagId=r,this._isInTemplate()&&this.tmplCount++,this.handler.onItemPush(t,r,!0)}pop(){const t=this.current;this.tmplCount>0&&this._isInTemplate()&&this.tmplCount--,this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(t,!0)}replace(t,r){const n=this._indexOf(t);this.items[n]=r,n===this.stackTop&&(this.current=r)}insertAfter(t,r,n){const a=this._indexOf(t)+1;this.items.splice(a,0,r),this.tagIDs.splice(a,0,n),this.stackTop++,a===this.stackTop&&this._updateCurrentElement(),this.current&&this.currentTagId!==void 0&&this.handler.onItemPush(this.current,this.currentTagId,a===this.stackTop)}popUntilTagNamePopped(t){let r=this.stackTop+1;do r=this.tagIDs.lastIndexOf(t,r-1);while(r>0&&this.treeAdapter.getNamespaceURI(this.items[r])!==ht.HTML);this.shortenToLength(Math.max(r,0))}shortenToLength(t){for(;this.stackTop>=t;){const r=this.current;this.tmplCount>0&&this._isInTemplate()&&(this.tmplCount-=1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(r,this.stackTop<t)}}popUntilElementPopped(t){const r=this._indexOf(t);this.shortenToLength(Math.max(r,0))}popUntilPopped(t,r){const n=this._indexOfTagNames(t,r);this.shortenToLength(Math.max(n,0))}popUntilNumberedHeaderPopped(){this.popUntilPopped(yw,ht.HTML)}popUntilTableCellPopped(){this.popUntilPopped(XCe,ht.HTML)}popAllUpToHtmlElement(){this.tmplCount=0,this.shortenToLength(1)}_indexOfTagNames(t,r){for(let n=this.stackTop;n>=0;n--)if(t.has(this.tagIDs[n])&&this.treeAdapter.getNamespaceURI(this.items[n])===r)return n;return-1}clearBackTo(t,r){const n=this._indexOfTagNames(t,r);this.shortenToLength(n+1)}clearBackToTableContext(){this.clearBackTo(QCe,ht.HTML)}clearBackToTableBodyContext(){this.clearBackTo(KCe,ht.HTML)}clearBackToTableRowContext(){this.clearBackTo(VCe,ht.HTML)}remove(t){const r=this._indexOf(t);r>=0&&(r===this.stackTop?this.pop():(this.items.splice(r,1),this.tagIDs.splice(r,1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(t,!1)))}tryPeekProperlyNestedBodyElement(){return this.stackTop>=1&&this.tagIDs[1]===A.BODY?this.items[1]:null}contains(t){return this._indexOf(t)>-1}getCommonAncestor(t){const r=this._indexOf(t)-1;return r>=0?this.items[r]:null}isRootHtmlElementCurrent(){return this.stackTop===0&&this.tagIDs[0]===A.HTML}hasInDynamicScope(t,r){for(let n=this.stackTop;n>=0;n--){const a=this.tagIDs[n];switch(this.treeAdapter.getNamespaceURI(this.items[n])){case ht.HTML:{if(a===t)return!0;if(r.has(a))return!1;break}case ht.SVG:{if(m4.has(a))return!1;break}case ht.MATHML:{if(g4.has(a))return!1;break}}}return!0}hasInScope(t){return this.hasInDynamicScope(t,Ty)}hasInListItemScope(t){return this.hasInDynamicScope(t,WCe)}hasInButtonScope(t){return this.hasInDynamicScope(t,YCe)}hasNumberedHeaderInScope(){for(let t=this.stackTop;t>=0;t--){const r=this.tagIDs[t];switch(this.treeAdapter.getNamespaceURI(this.items[t])){case ht.HTML:{if(yw.has(r))return!0;if(Ty.has(r))return!1;break}case ht.SVG:{if(m4.has(r))return!1;break}case ht.MATHML:{if(g4.has(r))return!1;break}}}return!0}hasInTableScope(t){for(let r=this.stackTop;r>=0;r--)if(this.treeAdapter.getNamespaceURI(this.items[r])===ht.HTML)switch(this.tagIDs[r]){case t:return!0;case A.TABLE:case A.HTML:return!1}return!0}hasTableBodyContextInTableScope(){for(let t=this.stackTop;t>=0;t--)if(this.treeAdapter.getNamespaceURI(this.items[t])===ht.HTML)switch(this.tagIDs[t]){case A.TBODY:case A.THEAD:case A.TFOOT:return!0;case A.TABLE:case A.HTML:return!1}return!0}hasInSelectScope(t){for(let r=this.stackTop;r>=0;r--)if(this.treeAdapter.getNamespaceURI(this.items[r])===ht.HTML)switch(this.tagIDs[r]){case t:return!0;case A.OPTION:case A.OPTGROUP:break;default:return!1}return!0}generateImpliedEndTags(){for(;this.currentTagId!==void 0&&WH.has(this.currentTagId);)this.pop()}generateImpliedEndTagsThoroughly(){for(;this.currentTagId!==void 0&&h4.has(this.currentTagId);)this.pop()}generateImpliedEndTagsWithExclusion(t){for(;this.currentTagId!==void 0&&this.currentTagId!==t&&h4.has(this.currentTagId);)this.pop()}}const c1=3;var Bo;(function(e){e[e.Marker=0]="Marker",e[e.Element=1]="Element"})(Bo||(Bo={}));const f4={type:Bo.Marker};class JCe{constructor(t){this.treeAdapter=t,this.entries=[],this.bookmark=null}_getNoahArkConditionCandidates(t,r){const n=[],a=r.length,i=this.treeAdapter.getTagName(t),o=this.treeAdapter.getNamespaceURI(t);for(let l=0;l<this.entries.length;l++){const u=this.entries[l];if(u.type===Bo.Marker)break;const{element:d}=u;if(this.treeAdapter.getTagName(d)===i&&this.treeAdapter.getNamespaceURI(d)===o){const h=this.treeAdapter.getAttrList(d);h.length===a&&n.push({idx:l,attrs:h})}}return n}_ensureNoahArkCondition(t){if(this.entries.length<c1)return;const r=this.treeAdapter.getAttrList(t),n=this._getNoahArkConditionCandidates(t,r);if(n.length<c1)return;const a=new Map(r.map(o=>[o.name,o.value]));let i=0;for(let o=0;o<n.length;o++){const l=n[o];l.attrs.every(u=>a.get(u.name)===u.value)&&(i+=1,i>=c1&&this.entries.splice(l.idx,1))}}insertMarker(){this.entries.unshift(f4)}pushElement(t,r){this._ensureNoahArkCondition(t),this.entries.unshift({type:Bo.Element,element:t,token:r})}insertElementAfterBookmark(t,r){const n=this.entries.indexOf(this.bookmark);this.entries.splice(n,0,{type:Bo.Element,element:t,token:r})}removeEntry(t){const r=this.entries.indexOf(t);r!==-1&&this.entries.splice(r,1)}clearToLastMarker(){const t=this.entries.indexOf(f4);t===-1?this.entries.length=0:this.entries.splice(0,t+1)}getElementEntryInScopeWithTagName(t){const r=this.entries.find(n=>n.type===Bo.Marker||this.treeAdapter.getTagName(n.element)===t);return r&&r.type===Bo.Element?r:null}getElementEntry(t){return this.entries.find(r=>r.type===Bo.Element&&r.element===t)}}const oc={createDocument(){return{nodeName:"#document",mode:Ui.NO_QUIRKS,childNodes:[]}},createDocumentFragment(){return{nodeName:"#document-fragment",childNodes:[]}},createElement(e,t,r){return{nodeName:e,tagName:e,attrs:r,namespaceURI:t,childNodes:[],parentNode:null}},createCommentNode(e){return{nodeName:"#comment",data:e,parentNode:null}},createTextNode(e){return{nodeName:"#text",value:e,parentNode:null}},appendChild(e,t){e.childNodes.push(t),t.parentNode=e},insertBefore(e,t,r){const n=e.childNodes.indexOf(r);e.childNodes.splice(n,0,t),t.parentNode=e},setTemplateContent(e,t){e.content=t},getTemplateContent(e){return e.content},setDocumentType(e,t,r,n){const a=e.childNodes.find(i=>i.nodeName==="#documentType");if(a)a.name=t,a.publicId=r,a.systemId=n;else{const i={nodeName:"#documentType",name:t,publicId:r,systemId:n,parentNode:null};oc.appendChild(e,i)}},setDocumentMode(e,t){e.mode=t},getDocumentMode(e){return e.mode},detachNode(e){if(e.parentNode){const t=e.parentNode.childNodes.indexOf(e);e.parentNode.childNodes.splice(t,1),e.parentNode=null}},insertText(e,t){if(e.childNodes.length>0){const r=e.childNodes[e.childNodes.length-1];if(oc.isTextNode(r)){r.value+=t;return}}oc.appendChild(e,oc.createTextNode(t))},insertTextBefore(e,t,r){const n=e.childNodes[e.childNodes.indexOf(r)-1];n&&oc.isTextNode(n)?n.value+=t:oc.insertBefore(e,oc.createTextNode(t),r)},adoptAttributes(e,t){const r=new Set(e.attrs.map(n=>n.name));for(let n=0;n<t.length;n++)r.has(t[n].name)||e.attrs.push(t[n])},getFirstChild(e){return e.childNodes[0]},getChildNodes(e){return e.childNodes},getParentNode(e){return e.parentNode},getAttrList(e){return e.attrs},getTagName(e){return e.tagName},getNamespaceURI(e){return e.namespaceURI},getTextNodeContent(e){return e.value},getCommentNodeContent(e){return e.data},getDocumentTypeNodeName(e){return e.name},getDocumentTypeNodePublicId(e){return e.publicId},getDocumentTypeNodeSystemId(e){return e.systemId},isTextNode(e){return e.nodeName==="#text"},isCommentNode(e){return e.nodeName==="#comment"},isDocumentTypeNode(e){return e.nodeName==="#documentType"},isElementNode(e){return Object.prototype.hasOwnProperty.call(e,"tagName")},setNodeSourceCodeLocation(e,t){e.sourceCodeLocation=t},getNodeSourceCodeLocation(e){return e.sourceCodeLocation},updateNodeSourceCodeLocation(e,t){e.sourceCodeLocation={...e.sourceCodeLocation,...t}}},YH="html",e2e="about:legacy-compat",t2e="http://www.ibm.com/data/dtd/v11/ibmxhtml1-transitional.dtd",VH=["+//silmaril//dtd html pro v0r11 19970101//","-//as//dtd html 3.0 aswedit + extensions//","-//advasoft ltd//dtd html 3.0 aswedit + extensions//","-//ietf//dtd html 2.0 level 1//","-//ietf//dtd html 2.0 level 2//","-//ietf//dtd html 2.0 strict level 1//","-//ietf//dtd html 2.0 strict level 2//","-//ietf//dtd html 2.0 strict//","-//ietf//dtd html 2.0//","-//ietf//dtd html 2.1e//","-//ietf//dtd html 3.0//","-//ietf//dtd html 3.2 final//","-//ietf//dtd html 3.2//","-//ietf//dtd html 3//","-//ietf//dtd html level 0//","-//ietf//dtd html level 1//","-//ietf//dtd html level 2//","-//ietf//dtd html level 3//","-//ietf//dtd html strict level 0//","-//ietf//dtd html strict level 1//","-//ietf//dtd html strict level 2//","-//ietf//dtd html strict level 3//","-//ietf//dtd html strict//","-//ietf//dtd html//","-//metrius//dtd metrius presentational//","-//microsoft//dtd internet explorer 2.0 html strict//","-//microsoft//dtd internet explorer 2.0 html//","-//microsoft//dtd internet explorer 2.0 tables//","-//microsoft//dtd internet explorer 3.0 html strict//","-//microsoft//dtd internet explorer 3.0 html//","-//microsoft//dtd internet explorer 3.0 tables//","-//netscape comm. corp.//dtd html//","-//netscape comm. corp.//dtd strict html//","-//o'reilly and associates//dtd html 2.0//","-//o'reilly and associates//dtd html extended 1.0//","-//o'reilly and associates//dtd html extended relaxed 1.0//","-//sq//dtd html 2.0 hotmetal + extensions//","-//softquad software//dtd hotmetal pro 6.0::19990601::extensions to html 4.0//","-//softquad//dtd hotmetal pro 4.0::19971010::extensions to html 4.0//","-//spyglass//dtd html 2.0 extended//","-//sun microsystems corp.//dtd hotjava html//","-//sun microsystems corp.//dtd hotjava strict html//","-//w3c//dtd html 3 1995-03-24//","-//w3c//dtd html 3.2 draft//","-//w3c//dtd html 3.2 final//","-//w3c//dtd html 3.2//","-//w3c//dtd html 3.2s draft//","-//w3c//dtd html 4.0 frameset//","-//w3c//dtd html 4.0 transitional//","-//w3c//dtd html experimental 19960712//","-//w3c//dtd html experimental 970421//","-//w3c//dtd w3 html//","-//w3o//dtd w3 html 3.0//","-//webtechs//dtd mozilla html 2.0//","-//webtechs//dtd mozilla html//"],r2e=[...VH,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"],n2e=new Set(["-//w3o//dtd w3 html strict 3.0//en//","-/w3c/dtd html 4.0 transitional/en","html"]),KH=["-//w3c//dtd xhtml 1.0 frameset//","-//w3c//dtd xhtml 1.0 transitional//"],a2e=[...KH,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"];function b4(e,t){return t.some(r=>e.startsWith(r))}function s2e(e){return e.name===YH&&e.publicId===null&&(e.systemId===null||e.systemId===e2e)}function i2e(e){if(e.name!==YH)return Ui.QUIRKS;const{systemId:t}=e;if(t&&t.toLowerCase()===t2e)return Ui.QUIRKS;let{publicId:r}=e;if(r!==null){if(r=r.toLowerCase(),n2e.has(r))return Ui.QUIRKS;let n=t===null?r2e:VH;if(b4(r,n))return Ui.QUIRKS;if(n=t===null?KH:a2e,b4(r,n))return Ui.LIMITED_QUIRKS}return Ui.NO_QUIRKS}const y4={TEXT_HTML:"text/html",APPLICATION_XML:"application/xhtml+xml"},o2e="definitionurl",l2e="definitionURL",c2e=new Map(["attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(e=>[e.toLowerCase(),e])),u2e=new Map([["xlink:actuate",{prefix:"xlink",name:"actuate",namespace:ht.XLINK}],["xlink:arcrole",{prefix:"xlink",name:"arcrole",namespace:ht.XLINK}],["xlink:href",{prefix:"xlink",name:"href",namespace:ht.XLINK}],["xlink:role",{prefix:"xlink",name:"role",namespace:ht.XLINK}],["xlink:show",{prefix:"xlink",name:"show",namespace:ht.XLINK}],["xlink:title",{prefix:"xlink",name:"title",namespace:ht.XLINK}],["xlink:type",{prefix:"xlink",name:"type",namespace:ht.XLINK}],["xml:lang",{prefix:"xml",name:"lang",namespace:ht.XML}],["xml:space",{prefix:"xml",name:"space",namespace:ht.XML}],["xmlns",{prefix:"",name:"xmlns",namespace:ht.XMLNS}],["xmlns:xlink",{prefix:"xmlns",name:"xlink",namespace:ht.XMLNS}]]),d2e=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map(e=>[e.toLowerCase(),e])),p2e=new Set([A.B,A.BIG,A.BLOCKQUOTE,A.BODY,A.BR,A.CENTER,A.CODE,A.DD,A.DIV,A.DL,A.DT,A.EM,A.EMBED,A.H1,A.H2,A.H3,A.H4,A.H5,A.H6,A.HEAD,A.HR,A.I,A.IMG,A.LI,A.LISTING,A.MENU,A.META,A.NOBR,A.OL,A.P,A.PRE,A.RUBY,A.S,A.SMALL,A.SPAN,A.STRONG,A.STRIKE,A.SUB,A.SUP,A.TABLE,A.TT,A.U,A.UL,A.VAR]);function h2e(e){const t=e.tagID;return t===A.FONT&&e.attrs.some(({name:n})=>n===pu.COLOR||n===pu.SIZE||n===pu.FACE)||p2e.has(t)}function QH(e){for(let t=0;t<e.attrs.length;t++)if(e.attrs[t].name===o2e){e.attrs[t].name=l2e;break}}function XH(e){for(let t=0;t<e.attrs.length;t++){const r=c2e.get(e.attrs[t].name);r!=null&&(e.attrs[t].name=r)}}function VN(e){for(let t=0;t<e.attrs.length;t++){const r=u2e.get(e.attrs[t].name);r&&(e.attrs[t].prefix=r.prefix,e.attrs[t].name=r.name,e.attrs[t].namespace=r.namespace)}}function g2e(e){const t=d2e.get(e.tagName);t!=null&&(e.tagName=t,e.tagID=Bx(e.tagName))}function m2e(e,t){return t===ht.MATHML&&(e===A.MI||e===A.MO||e===A.MN||e===A.MS||e===A.MTEXT)}function f2e(e,t,r){if(t===ht.MATHML&&e===A.ANNOTATION_XML){for(let n=0;n<r.length;n++)if(r[n].name===pu.ENCODING){const a=r[n].value.toLowerCase();return a===y4.TEXT_HTML||a===y4.APPLICATION_XML}}return t===ht.SVG&&(e===A.FOREIGN_OBJECT||e===A.DESC||e===A.TITLE)}function b2e(e,t,r,n){return(!n||n===ht.HTML)&&f2e(e,t,r)||(!n||n===ht.MATHML)&&m2e(e,t)}const y2e="hidden",x2e=8,E2e=3;var fe;(function(e){e[e.INITIAL=0]="INITIAL",e[e.BEFORE_HTML=1]="BEFORE_HTML",e[e.BEFORE_HEAD=2]="BEFORE_HEAD",e[e.IN_HEAD=3]="IN_HEAD",e[e.IN_HEAD_NO_SCRIPT=4]="IN_HEAD_NO_SCRIPT",e[e.AFTER_HEAD=5]="AFTER_HEAD",e[e.IN_BODY=6]="IN_BODY",e[e.TEXT=7]="TEXT",e[e.IN_TABLE=8]="IN_TABLE",e[e.IN_TABLE_TEXT=9]="IN_TABLE_TEXT",e[e.IN_CAPTION=10]="IN_CAPTION",e[e.IN_COLUMN_GROUP=11]="IN_COLUMN_GROUP",e[e.IN_TABLE_BODY=12]="IN_TABLE_BODY",e[e.IN_ROW=13]="IN_ROW",e[e.IN_CELL=14]="IN_CELL",e[e.IN_SELECT=15]="IN_SELECT",e[e.IN_SELECT_IN_TABLE=16]="IN_SELECT_IN_TABLE",e[e.IN_TEMPLATE=17]="IN_TEMPLATE",e[e.AFTER_BODY=18]="AFTER_BODY",e[e.IN_FRAMESET=19]="IN_FRAMESET",e[e.AFTER_FRAMESET=20]="AFTER_FRAMESET",e[e.AFTER_AFTER_BODY=21]="AFTER_AFTER_BODY",e[e.AFTER_AFTER_FRAMESET=22]="AFTER_AFTER_FRAMESET"})(fe||(fe={}));const v2e={startLine:-1,startCol:-1,startOffset:-1,endLine:-1,endCol:-1,endOffset:-1},ZH=new Set([A.TABLE,A.TBODY,A.TFOOT,A.THEAD,A.TR]),x4={scriptingEnabled:!0,sourceCodeLocationInfo:!1,treeAdapter:oc,onParseError:null};class JH{constructor(t,r,n=null,a=null){this.fragmentContext=n,this.scriptHandler=a,this.currentToken=null,this.stopped=!1,this.insertionMode=fe.INITIAL,this.originalInsertionMode=fe.INITIAL,this.headElement=null,this.formElement=null,this.currentNotInHTML=!1,this.tmplInsertionModeStack=[],this.pendingCharacterTokens=[],this.hasNonWhitespacePendingCharacterToken=!1,this.framesetOk=!0,this.skipNextNewLine=!1,this.fosterParentingEnabled=!1,this.options={...x4,...t},this.treeAdapter=this.options.treeAdapter,this.onParseError=this.options.onParseError,this.onParseError&&(this.options.sourceCodeLocationInfo=!0),this.document=r??this.treeAdapter.createDocument(),this.tokenizer=new qCe(this.options,this),this.activeFormattingElements=new JCe(this.treeAdapter),this.fragmentContextID=n?Bx(this.treeAdapter.getTagName(n)):A.UNKNOWN,this._setContextModes(n??this.document,this.fragmentContextID),this.openElements=new ZCe(this.document,this.treeAdapter,this)}static parse(t,r){const n=new this(r);return n.tokenizer.write(t,!0),n.document}static getFragmentParser(t,r){const n={...x4,...r};t??(t=n.treeAdapter.createElement(Re.TEMPLATE,ht.HTML,[]));const a=n.treeAdapter.createElement("documentmock",ht.HTML,[]),i=new this(n,a,t);return i.fragmentContextID===A.TEMPLATE&&i.tmplInsertionModeStack.unshift(fe.IN_TEMPLATE),i._initTokenizerForFragmentParsing(),i._insertFakeRootElement(),i._resetInsertionMode(),i._findFormInFragmentContext(),i}getFragment(){const t=this.treeAdapter.getFirstChild(this.document),r=this.treeAdapter.createDocumentFragment();return this._adoptNodes(t,r),r}_err(t,r,n){var a;if(!this.onParseError)return;const i=(a=t.location)!==null&&a!==void 0?a:v2e,o={code:r,startLine:i.startLine,startCol:i.startCol,startOffset:i.startOffset,endLine:n?i.startLine:i.endLine,endCol:n?i.startCol:i.endCol,endOffset:n?i.startOffset:i.endOffset};this.onParseError(o)}onItemPush(t,r,n){var a,i;(i=(a=this.treeAdapter).onItemPush)===null||i===void 0||i.call(a,t),n&&this.openElements.stackTop>0&&this._setContextModes(t,r)}onItemPop(t,r){var n,a;if(this.options.sourceCodeLocationInfo&&this._setEndLocation(t,this.currentToken),(a=(n=this.treeAdapter).onItemPop)===null||a===void 0||a.call(n,t,this.openElements.current),r){let i,o;this.openElements.stackTop===0&&this.fragmentContext?(i=this.fragmentContext,o=this.fragmentContextID):{current:i,currentTagId:o}=this.openElements,this._setContextModes(i,o)}}_setContextModes(t,r){const n=t===this.document||t&&this.treeAdapter.getNamespaceURI(t)===ht.HTML;this.currentNotInHTML=!n,this.tokenizer.inForeignNode=!n&&t!==void 0&&r!==void 0&&!this._isIntegrationPoint(r,t)}_switchToTextParsing(t,r){this._insertElement(t,ht.HTML),this.tokenizer.state=r,this.originalInsertionMode=this.insertionMode,this.insertionMode=fe.TEXT}switchToPlaintextParsing(){this.insertionMode=fe.TEXT,this.originalInsertionMode=fe.IN_BODY,this.tokenizer.state=ti.PLAINTEXT}_getAdjustedCurrentElement(){return this.openElements.stackTop===0&&this.fragmentContext?this.fragmentContext:this.openElements.current}_findFormInFragmentContext(){let t=this.fragmentContext;for(;t;){if(this.treeAdapter.getTagName(t)===Re.FORM){this.formElement=t;break}t=this.treeAdapter.getParentNode(t)}}_initTokenizerForFragmentParsing(){if(!(!this.fragmentContext||this.treeAdapter.getNamespaceURI(this.fragmentContext)!==ht.HTML))switch(this.fragmentContextID){case A.TITLE:case A.TEXTAREA:{this.tokenizer.state=ti.RCDATA;break}case A.STYLE:case A.XMP:case A.IFRAME:case A.NOEMBED:case A.NOFRAMES:case A.NOSCRIPT:{this.tokenizer.state=ti.RAWTEXT;break}case A.SCRIPT:{this.tokenizer.state=ti.SCRIPT_DATA;break}case A.PLAINTEXT:{this.tokenizer.state=ti.PLAINTEXT;break}}}_setDocumentType(t){const r=t.name||"",n=t.publicId||"",a=t.systemId||"";if(this.treeAdapter.setDocumentType(this.document,r,n,a),t.location){const o=this.treeAdapter.getChildNodes(this.document).find(l=>this.treeAdapter.isDocumentTypeNode(l));o&&this.treeAdapter.setNodeSourceCodeLocation(o,t.location)}}_attachElementToTree(t,r){if(this.options.sourceCodeLocationInfo){const n=r&&{...r,startTag:r};this.treeAdapter.setNodeSourceCodeLocation(t,n)}if(this._shouldFosterParentOnInsertion())this._fosterParentElement(t);else{const n=this.openElements.currentTmplContentOrNode;this.treeAdapter.appendChild(n??this.document,t)}}_appendElement(t,r){const n=this.treeAdapter.createElement(t.tagName,r,t.attrs);this._attachElementToTree(n,t.location)}_insertElement(t,r){const n=this.treeAdapter.createElement(t.tagName,r,t.attrs);this._attachElementToTree(n,t.location),this.openElements.push(n,t.tagID)}_insertFakeElement(t,r){const n=this.treeAdapter.createElement(t,ht.HTML,[]);this._attachElementToTree(n,null),this.openElements.push(n,r)}_insertTemplate(t){const r=this.treeAdapter.createElement(t.tagName,ht.HTML,t.attrs),n=this.treeAdapter.createDocumentFragment();this.treeAdapter.setTemplateContent(r,n),this._attachElementToTree(r,t.location),this.openElements.push(r,t.tagID),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(n,null)}_insertFakeRootElement(){const t=this.treeAdapter.createElement(Re.HTML,ht.HTML,[]);this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(t,null),this.treeAdapter.appendChild(this.openElements.current,t),this.openElements.push(t,A.HTML)}_appendCommentNode(t,r){const n=this.treeAdapter.createCommentNode(t.data);this.treeAdapter.appendChild(r,n),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(n,t.location)}_insertCharacters(t){let r,n;if(this._shouldFosterParentOnInsertion()?({parent:r,beforeElement:n}=this._findFosterParentingLocation(),n?this.treeAdapter.insertTextBefore(r,t.chars,n):this.treeAdapter.insertText(r,t.chars)):(r=this.openElements.currentTmplContentOrNode,this.treeAdapter.insertText(r,t.chars)),!t.location)return;const a=this.treeAdapter.getChildNodes(r),i=n?a.lastIndexOf(n):a.length,o=a[i-1];if(this.treeAdapter.getNodeSourceCodeLocation(o)){const{endLine:u,endCol:d,endOffset:h}=t.location;this.treeAdapter.updateNodeSourceCodeLocation(o,{endLine:u,endCol:d,endOffset:h})}else this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(o,t.location)}_adoptNodes(t,r){for(let n=this.treeAdapter.getFirstChild(t);n;n=this.treeAdapter.getFirstChild(t))this.treeAdapter.detachNode(n),this.treeAdapter.appendChild(r,n)}_setEndLocation(t,r){if(this.treeAdapter.getNodeSourceCodeLocation(t)&&r.location){const n=r.location,a=this.treeAdapter.getTagName(t),i=r.type===ln.END_TAG&&a===r.tagName?{endTag:{...n},endLine:n.endLine,endCol:n.endCol,endOffset:n.endOffset}:{endLine:n.startLine,endCol:n.startCol,endOffset:n.startOffset};this.treeAdapter.updateNodeSourceCodeLocation(t,i)}}shouldProcessStartTagTokenInForeignContent(t){if(!this.currentNotInHTML)return!1;let r,n;return this.openElements.stackTop===0&&this.fragmentContext?(r=this.fragmentContext,n=this.fragmentContextID):{current:r,currentTagId:n}=this.openElements,t.tagID===A.SVG&&this.treeAdapter.getTagName(r)===Re.ANNOTATION_XML&&this.treeAdapter.getNamespaceURI(r)===ht.MATHML?!1:this.tokenizer.inForeignNode||(t.tagID===A.MGLYPH||t.tagID===A.MALIGNMARK)&&n!==void 0&&!this._isIntegrationPoint(n,r,ht.HTML)}_processToken(t){switch(t.type){case ln.CHARACTER:{this.onCharacter(t);break}case ln.NULL_CHARACTER:{this.onNullCharacter(t);break}case ln.COMMENT:{this.onComment(t);break}case ln.DOCTYPE:{this.onDoctype(t);break}case ln.START_TAG:{this._processStartTag(t);break}case ln.END_TAG:{this.onEndTag(t);break}case ln.EOF:{this.onEof(t);break}case ln.WHITESPACE_CHARACTER:{this.onWhitespaceCharacter(t);break}}}_isIntegrationPoint(t,r,n){const a=this.treeAdapter.getNamespaceURI(r),i=this.treeAdapter.getAttrList(r);return b2e(t,a,i,n)}_reconstructActiveFormattingElements(){const t=this.activeFormattingElements.entries.length;if(t){const r=this.activeFormattingElements.entries.findIndex(a=>a.type===Bo.Marker||this.openElements.contains(a.element)),n=r===-1?t-1:r-1;for(let a=n;a>=0;a--){const i=this.activeFormattingElements.entries[a];this._insertElement(i.token,this.treeAdapter.getNamespaceURI(i.element)),i.element=this.openElements.current}}}_closeTableCell(){this.openElements.generateImpliedEndTags(),this.openElements.popUntilTableCellPopped(),this.activeFormattingElements.clearToLastMarker(),this.insertionMode=fe.IN_ROW}_closePElement(){this.openElements.generateImpliedEndTagsWithExclusion(A.P),this.openElements.popUntilTagNamePopped(A.P)}_resetInsertionMode(){for(let t=this.openElements.stackTop;t>=0;t--)switch(t===0&&this.fragmentContext?this.fragmentContextID:this.openElements.tagIDs[t]){case A.TR:{this.insertionMode=fe.IN_ROW;return}case A.TBODY:case A.THEAD:case A.TFOOT:{this.insertionMode=fe.IN_TABLE_BODY;return}case A.CAPTION:{this.insertionMode=fe.IN_CAPTION;return}case A.COLGROUP:{this.insertionMode=fe.IN_COLUMN_GROUP;return}case A.TABLE:{this.insertionMode=fe.IN_TABLE;return}case A.BODY:{this.insertionMode=fe.IN_BODY;return}case A.FRAMESET:{this.insertionMode=fe.IN_FRAMESET;return}case A.SELECT:{this._resetInsertionModeForSelect(t);return}case A.TEMPLATE:{this.insertionMode=this.tmplInsertionModeStack[0];return}case A.HTML:{this.insertionMode=this.headElement?fe.AFTER_HEAD:fe.BEFORE_HEAD;return}case A.TD:case A.TH:{if(t>0){this.insertionMode=fe.IN_CELL;return}break}case A.HEAD:{if(t>0){this.insertionMode=fe.IN_HEAD;return}break}}this.insertionMode=fe.IN_BODY}_resetInsertionModeForSelect(t){if(t>0)for(let r=t-1;r>0;r--){const n=this.openElements.tagIDs[r];if(n===A.TEMPLATE)break;if(n===A.TABLE){this.insertionMode=fe.IN_SELECT_IN_TABLE;return}}this.insertionMode=fe.IN_SELECT}_isElementCausesFosterParenting(t){return ZH.has(t)}_shouldFosterParentOnInsertion(){return this.fosterParentingEnabled&&this.openElements.currentTagId!==void 0&&this._isElementCausesFosterParenting(this.openElements.currentTagId)}_findFosterParentingLocation(){for(let t=this.openElements.stackTop;t>=0;t--){const r=this.openElements.items[t];switch(this.openElements.tagIDs[t]){case A.TEMPLATE:{if(this.treeAdapter.getNamespaceURI(r)===ht.HTML)return{parent:this.treeAdapter.getTemplateContent(r),beforeElement:null};break}case A.TABLE:{const n=this.treeAdapter.getParentNode(r);return n?{parent:n,beforeElement:r}:{parent:this.openElements.items[t-1],beforeElement:null}}}}return{parent:this.openElements.items[0],beforeElement:null}}_fosterParentElement(t){const r=this._findFosterParentingLocation();r.beforeElement?this.treeAdapter.insertBefore(r.parent,t,r.beforeElement):this.treeAdapter.appendChild(r.parent,t)}_isSpecialElement(t,r){const n=this.treeAdapter.getNamespaceURI(t);return $Ce[n].has(r)}onCharacter(t){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){X_e(this,t);return}switch(this.insertionMode){case fe.INITIAL:{og(this,t);break}case fe.BEFORE_HTML:{zg(this,t);break}case fe.BEFORE_HEAD:{Gg(this,t);break}case fe.IN_HEAD:{qg(this,t);break}case fe.IN_HEAD_NO_SCRIPT:{Wg(this,t);break}case fe.AFTER_HEAD:{Yg(this,t);break}case fe.IN_BODY:case fe.IN_CAPTION:case fe.IN_CELL:case fe.IN_TEMPLATE:{tz(this,t);break}case fe.TEXT:case fe.IN_SELECT:case fe.IN_SELECT_IN_TABLE:{this._insertCharacters(t);break}case fe.IN_TABLE:case fe.IN_TABLE_BODY:case fe.IN_ROW:{u1(this,t);break}case fe.IN_TABLE_TEXT:{oz(this,t);break}case fe.IN_COLUMN_GROUP:{wy(this,t);break}case fe.AFTER_BODY:{ky(this,t);break}case fe.AFTER_AFTER_BODY:{Sb(this,t);break}}}onNullCharacter(t){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){Q_e(this,t);return}switch(this.insertionMode){case fe.INITIAL:{og(this,t);break}case fe.BEFORE_HTML:{zg(this,t);break}case fe.BEFORE_HEAD:{Gg(this,t);break}case fe.IN_HEAD:{qg(this,t);break}case fe.IN_HEAD_NO_SCRIPT:{Wg(this,t);break}case fe.AFTER_HEAD:{Yg(this,t);break}case fe.TEXT:{this._insertCharacters(t);break}case fe.IN_TABLE:case fe.IN_TABLE_BODY:case fe.IN_ROW:{u1(this,t);break}case fe.IN_COLUMN_GROUP:{wy(this,t);break}case fe.AFTER_BODY:{ky(this,t);break}case fe.AFTER_AFTER_BODY:{Sb(this,t);break}}}onComment(t){if(this.skipNextNewLine=!1,this.currentNotInHTML){xw(this,t);return}switch(this.insertionMode){case fe.INITIAL:case fe.BEFORE_HTML:case fe.BEFORE_HEAD:case fe.IN_HEAD:case fe.IN_HEAD_NO_SCRIPT:case fe.AFTER_HEAD:case fe.IN_BODY:case fe.IN_TABLE:case fe.IN_CAPTION:case fe.IN_COLUMN_GROUP:case fe.IN_TABLE_BODY:case fe.IN_ROW:case fe.IN_CELL:case fe.IN_SELECT:case fe.IN_SELECT_IN_TABLE:case fe.IN_TEMPLATE:case fe.IN_FRAMESET:case fe.AFTER_FRAMESET:{xw(this,t);break}case fe.IN_TABLE_TEXT:{lg(this,t);break}case fe.AFTER_BODY:{A2e(this,t);break}case fe.AFTER_AFTER_BODY:case fe.AFTER_AFTER_FRAMESET:{N2e(this,t);break}}}onDoctype(t){switch(this.skipNextNewLine=!1,this.insertionMode){case fe.INITIAL:{I2e(this,t);break}case fe.BEFORE_HEAD:case fe.IN_HEAD:case fe.IN_HEAD_NO_SCRIPT:case fe.AFTER_HEAD:{this._err(t,We.misplacedDoctype);break}case fe.IN_TABLE_TEXT:{lg(this,t);break}}}onStartTag(t){this.skipNextNewLine=!1,this.currentToken=t,this._processStartTag(t),t.selfClosing&&!t.ackSelfClosing&&this._err(t,We.nonVoidHtmlElementStartTagWithTrailingSolidus)}_processStartTag(t){this.shouldProcessStartTagTokenInForeignContent(t)?Z_e(this,t):this._startTagOutsideForeignContent(t)}_startTagOutsideForeignContent(t){switch(this.insertionMode){case fe.INITIAL:{og(this,t);break}case fe.BEFORE_HTML:{R2e(this,t);break}case fe.BEFORE_HEAD:{L2e(this,t);break}case fe.IN_HEAD:{xo(this,t);break}case fe.IN_HEAD_NO_SCRIPT:{P2e(this,t);break}case fe.AFTER_HEAD:{F2e(this,t);break}case fe.IN_BODY:{ys(this,t);break}case fe.IN_TABLE:{wp(this,t);break}case fe.IN_TABLE_TEXT:{lg(this,t);break}case fe.IN_CAPTION:{O_e(this,t);break}case fe.IN_COLUMN_GROUP:{XN(this,t);break}case fe.IN_TABLE_BODY:{Hx(this,t);break}case fe.IN_ROW:{zx(this,t);break}case fe.IN_CELL:{j_e(this,t);break}case fe.IN_SELECT:{uz(this,t);break}case fe.IN_SELECT_IN_TABLE:{B_e(this,t);break}case fe.IN_TEMPLATE:{$_e(this,t);break}case fe.AFTER_BODY:{z_e(this,t);break}case fe.IN_FRAMESET:{G_e(this,t);break}case fe.AFTER_FRAMESET:{W_e(this,t);break}case fe.AFTER_AFTER_BODY:{V_e(this,t);break}case fe.AFTER_AFTER_FRAMESET:{K_e(this,t);break}}}onEndTag(t){this.skipNextNewLine=!1,this.currentToken=t,this.currentNotInHTML?J_e(this,t):this._endTagOutsideForeignContent(t)}_endTagOutsideForeignContent(t){switch(this.insertionMode){case fe.INITIAL:{og(this,t);break}case fe.BEFORE_HTML:{D2e(this,t);break}case fe.BEFORE_HEAD:{O2e(this,t);break}case fe.IN_HEAD:{M2e(this,t);break}case fe.IN_HEAD_NO_SCRIPT:{j2e(this,t);break}case fe.AFTER_HEAD:{B2e(this,t);break}case fe.IN_BODY:{$x(this,t);break}case fe.TEXT:{w_e(this,t);break}case fe.IN_TABLE:{Tm(this,t);break}case fe.IN_TABLE_TEXT:{lg(this,t);break}case fe.IN_CAPTION:{M_e(this,t);break}case fe.IN_COLUMN_GROUP:{P_e(this,t);break}case fe.IN_TABLE_BODY:{Ew(this,t);break}case fe.IN_ROW:{cz(this,t);break}case fe.IN_CELL:{F_e(this,t);break}case fe.IN_SELECT:{dz(this,t);break}case fe.IN_SELECT_IN_TABLE:{U_e(this,t);break}case fe.IN_TEMPLATE:{H_e(this,t);break}case fe.AFTER_BODY:{hz(this,t);break}case fe.IN_FRAMESET:{q_e(this,t);break}case fe.AFTER_FRAMESET:{Y_e(this,t);break}case fe.AFTER_AFTER_BODY:{Sb(this,t);break}}}onEof(t){switch(this.insertionMode){case fe.INITIAL:{og(this,t);break}case fe.BEFORE_HTML:{zg(this,t);break}case fe.BEFORE_HEAD:{Gg(this,t);break}case fe.IN_HEAD:{qg(this,t);break}case fe.IN_HEAD_NO_SCRIPT:{Wg(this,t);break}case fe.AFTER_HEAD:{Yg(this,t);break}case fe.IN_BODY:case fe.IN_TABLE:case fe.IN_CAPTION:case fe.IN_COLUMN_GROUP:case fe.IN_TABLE_BODY:case fe.IN_ROW:case fe.IN_CELL:case fe.IN_SELECT:case fe.IN_SELECT_IN_TABLE:{sz(this,t);break}case fe.TEXT:{k_e(this,t);break}case fe.IN_TABLE_TEXT:{lg(this,t);break}case fe.IN_TEMPLATE:{pz(this,t);break}case fe.AFTER_BODY:case fe.IN_FRAMESET:case fe.AFTER_FRAMESET:case fe.AFTER_AFTER_BODY:case fe.AFTER_AFTER_FRAMESET:{QN(this,t);break}}}onWhitespaceCharacter(t){if(this.skipNextNewLine&&(this.skipNextNewLine=!1,t.chars.charCodeAt(0)===re.LINE_FEED)){if(t.chars.length===1)return;t.chars=t.chars.substr(1)}if(this.tokenizer.inForeignNode){this._insertCharacters(t);return}switch(this.insertionMode){case fe.IN_HEAD:case fe.IN_HEAD_NO_SCRIPT:case fe.AFTER_HEAD:case fe.TEXT:case fe.IN_COLUMN_GROUP:case fe.IN_SELECT:case fe.IN_SELECT_IN_TABLE:case fe.IN_FRAMESET:case fe.AFTER_FRAMESET:{this._insertCharacters(t);break}case fe.IN_BODY:case fe.IN_CAPTION:case fe.IN_CELL:case fe.IN_TEMPLATE:case fe.AFTER_BODY:case fe.AFTER_AFTER_BODY:case fe.AFTER_AFTER_FRAMESET:{ez(this,t);break}case fe.IN_TABLE:case fe.IN_TABLE_BODY:case fe.IN_ROW:{u1(this,t);break}case fe.IN_TABLE_TEXT:{iz(this,t);break}}}}function S2e(e,t){let r=e.activeFormattingElements.getElementEntryInScopeWithTagName(t.tagName);return r?e.openElements.contains(r.element)?e.openElements.hasInScope(t.tagID)||(r=null):(e.activeFormattingElements.removeEntry(r),r=null):az(e,t),r}function T2e(e,t){let r=null,n=e.openElements.stackTop;for(;n>=0;n--){const a=e.openElements.items[n];if(a===t.element)break;e._isSpecialElement(a,e.openElements.tagIDs[n])&&(r=a)}return r||(e.openElements.shortenToLength(Math.max(n,0)),e.activeFormattingElements.removeEntry(t)),r}function w2e(e,t,r){let n=t,a=e.openElements.getCommonAncestor(t);for(let i=0,o=a;o!==r;i++,o=a){a=e.openElements.getCommonAncestor(o);const l=e.activeFormattingElements.getElementEntry(o),u=l&&i>=E2e;!l||u?(u&&e.activeFormattingElements.removeEntry(l),e.openElements.remove(o)):(o=k2e(e,l),n===t&&(e.activeFormattingElements.bookmark=l),e.treeAdapter.detachNode(n),e.treeAdapter.appendChild(o,n),n=o)}return n}function k2e(e,t){const r=e.treeAdapter.getNamespaceURI(t.element),n=e.treeAdapter.createElement(t.token.tagName,r,t.token.attrs);return e.openElements.replace(t.element,n),t.element=n,n}function C2e(e,t,r){const n=e.treeAdapter.getTagName(t),a=Bx(n);if(e._isElementCausesFosterParenting(a))e._fosterParentElement(r);else{const i=e.treeAdapter.getNamespaceURI(t);a===A.TEMPLATE&&i===ht.HTML&&(t=e.treeAdapter.getTemplateContent(t)),e.treeAdapter.appendChild(t,r)}}function _2e(e,t,r){const n=e.treeAdapter.getNamespaceURI(r.element),{token:a}=r,i=e.treeAdapter.createElement(a.tagName,n,a.attrs);e._adoptNodes(t,i),e.treeAdapter.appendChild(t,i),e.activeFormattingElements.insertElementAfterBookmark(i,a),e.activeFormattingElements.removeEntry(r),e.openElements.remove(r.element),e.openElements.insertAfter(t,i,a.tagID)}function KN(e,t){for(let r=0;r<x2e;r++){const n=S2e(e,t);if(!n)break;const a=T2e(e,n);if(!a)break;e.activeFormattingElements.bookmark=n;const i=w2e(e,a,n.element),o=e.openElements.getCommonAncestor(n.element);e.treeAdapter.detachNode(i),o&&C2e(e,o,i),_2e(e,a,n)}}function xw(e,t){e._appendCommentNode(t,e.openElements.currentTmplContentOrNode)}function A2e(e,t){e._appendCommentNode(t,e.openElements.items[0])}function N2e(e,t){e._appendCommentNode(t,e.document)}function QN(e,t){if(e.stopped=!0,t.location){const r=e.fragmentContext?0:2;for(let n=e.openElements.stackTop;n>=r;n--)e._setEndLocation(e.openElements.items[n],t);if(!e.fragmentContext&&e.openElements.stackTop>=0){const n=e.openElements.items[0],a=e.treeAdapter.getNodeSourceCodeLocation(n);if(a&&!a.endTag&&(e._setEndLocation(n,t),e.openElements.stackTop>=1)){const i=e.openElements.items[1],o=e.treeAdapter.getNodeSourceCodeLocation(i);o&&!o.endTag&&e._setEndLocation(i,t)}}}}function I2e(e,t){e._setDocumentType(t);const r=t.forceQuirks?Ui.QUIRKS:i2e(t);s2e(t)||e._err(t,We.nonConformingDoctype),e.treeAdapter.setDocumentMode(e.document,r),e.insertionMode=fe.BEFORE_HTML}function og(e,t){e._err(t,We.missingDoctype,!0),e.treeAdapter.setDocumentMode(e.document,Ui.QUIRKS),e.insertionMode=fe.BEFORE_HTML,e._processToken(t)}function R2e(e,t){t.tagID===A.HTML?(e._insertElement(t,ht.HTML),e.insertionMode=fe.BEFORE_HEAD):zg(e,t)}function D2e(e,t){const r=t.tagID;(r===A.HTML||r===A.HEAD||r===A.BODY||r===A.BR)&&zg(e,t)}function zg(e,t){e._insertFakeRootElement(),e.insertionMode=fe.BEFORE_HEAD,e._processToken(t)}function L2e(e,t){switch(t.tagID){case A.HTML:{ys(e,t);break}case A.HEAD:{e._insertElement(t,ht.HTML),e.headElement=e.openElements.current,e.insertionMode=fe.IN_HEAD;break}default:Gg(e,t)}}function O2e(e,t){const r=t.tagID;r===A.HEAD||r===A.BODY||r===A.HTML||r===A.BR?Gg(e,t):e._err(t,We.endTagWithoutMatchingOpenElement)}function Gg(e,t){e._insertFakeElement(Re.HEAD,A.HEAD),e.headElement=e.openElements.current,e.insertionMode=fe.IN_HEAD,e._processToken(t)}function xo(e,t){switch(t.tagID){case A.HTML:{ys(e,t);break}case A.BASE:case A.BASEFONT:case A.BGSOUND:case A.LINK:case A.META:{e._appendElement(t,ht.HTML),t.ackSelfClosing=!0;break}case A.TITLE:{e._switchToTextParsing(t,ti.RCDATA);break}case A.NOSCRIPT:{e.options.scriptingEnabled?e._switchToTextParsing(t,ti.RAWTEXT):(e._insertElement(t,ht.HTML),e.insertionMode=fe.IN_HEAD_NO_SCRIPT);break}case A.NOFRAMES:case A.STYLE:{e._switchToTextParsing(t,ti.RAWTEXT);break}case A.SCRIPT:{e._switchToTextParsing(t,ti.SCRIPT_DATA);break}case A.TEMPLATE:{e._insertTemplate(t),e.activeFormattingElements.insertMarker(),e.framesetOk=!1,e.insertionMode=fe.IN_TEMPLATE,e.tmplInsertionModeStack.unshift(fe.IN_TEMPLATE);break}case A.HEAD:{e._err(t,We.misplacedStartTagForHeadElement);break}default:qg(e,t)}}function M2e(e,t){switch(t.tagID){case A.HEAD:{e.openElements.pop(),e.insertionMode=fe.AFTER_HEAD;break}case A.BODY:case A.BR:case A.HTML:{qg(e,t);break}case A.TEMPLATE:{Gu(e,t);break}default:e._err(t,We.endTagWithoutMatchingOpenElement)}}function Gu(e,t){e.openElements.tmplCount>0?(e.openElements.generateImpliedEndTagsThoroughly(),e.openElements.currentTagId!==A.TEMPLATE&&e._err(t,We.closingOfElementWithOpenChildElements),e.openElements.popUntilTagNamePopped(A.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e.tmplInsertionModeStack.shift(),e._resetInsertionMode()):e._err(t,We.endTagWithoutMatchingOpenElement)}function qg(e,t){e.openElements.pop(),e.insertionMode=fe.AFTER_HEAD,e._processToken(t)}function P2e(e,t){switch(t.tagID){case A.HTML:{ys(e,t);break}case A.BASEFONT:case A.BGSOUND:case A.HEAD:case A.LINK:case A.META:case A.NOFRAMES:case A.STYLE:{xo(e,t);break}case A.NOSCRIPT:{e._err(t,We.nestedNoscriptInHead);break}default:Wg(e,t)}}function j2e(e,t){switch(t.tagID){case A.NOSCRIPT:{e.openElements.pop(),e.insertionMode=fe.IN_HEAD;break}case A.BR:{Wg(e,t);break}default:e._err(t,We.endTagWithoutMatchingOpenElement)}}function Wg(e,t){const r=t.type===ln.EOF?We.openElementsLeftAfterEof:We.disallowedContentInNoscriptInHead;e._err(t,r),e.openElements.pop(),e.insertionMode=fe.IN_HEAD,e._processToken(t)}function F2e(e,t){switch(t.tagID){case A.HTML:{ys(e,t);break}case A.BODY:{e._insertElement(t,ht.HTML),e.framesetOk=!1,e.insertionMode=fe.IN_BODY;break}case A.FRAMESET:{e._insertElement(t,ht.HTML),e.insertionMode=fe.IN_FRAMESET;break}case A.BASE:case A.BASEFONT:case A.BGSOUND:case A.LINK:case A.META:case A.NOFRAMES:case A.SCRIPT:case A.STYLE:case A.TEMPLATE:case A.TITLE:{e._err(t,We.abandonedHeadElementChild),e.openElements.push(e.headElement,A.HEAD),xo(e,t),e.openElements.remove(e.headElement);break}case A.HEAD:{e._err(t,We.misplacedStartTagForHeadElement);break}default:Yg(e,t)}}function B2e(e,t){switch(t.tagID){case A.BODY:case A.HTML:case A.BR:{Yg(e,t);break}case A.TEMPLATE:{Gu(e,t);break}default:e._err(t,We.endTagWithoutMatchingOpenElement)}}function Yg(e,t){e._insertFakeElement(Re.BODY,A.BODY),e.insertionMode=fe.IN_BODY,Ux(e,t)}function Ux(e,t){switch(t.type){case ln.CHARACTER:{tz(e,t);break}case ln.WHITESPACE_CHARACTER:{ez(e,t);break}case ln.COMMENT:{xw(e,t);break}case ln.START_TAG:{ys(e,t);break}case ln.END_TAG:{$x(e,t);break}case ln.EOF:{sz(e,t);break}}}function ez(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t)}function tz(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t),e.framesetOk=!1}function U2e(e,t){e.openElements.tmplCount===0&&e.treeAdapter.adoptAttributes(e.openElements.items[0],t.attrs)}function $2e(e,t){const r=e.openElements.tryPeekProperlyNestedBodyElement();r&&e.openElements.tmplCount===0&&(e.framesetOk=!1,e.treeAdapter.adoptAttributes(r,t.attrs))}function H2e(e,t){const r=e.openElements.tryPeekProperlyNestedBodyElement();e.framesetOk&&r&&(e.treeAdapter.detachNode(r),e.openElements.popAllUpToHtmlElement(),e._insertElement(t,ht.HTML),e.insertionMode=fe.IN_FRAMESET)}function z2e(e,t){e.openElements.hasInButtonScope(A.P)&&e._closePElement(),e._insertElement(t,ht.HTML)}function G2e(e,t){e.openElements.hasInButtonScope(A.P)&&e._closePElement(),e.openElements.currentTagId!==void 0&&yw.has(e.openElements.currentTagId)&&e.openElements.pop(),e._insertElement(t,ht.HTML)}function q2e(e,t){e.openElements.hasInButtonScope(A.P)&&e._closePElement(),e._insertElement(t,ht.HTML),e.skipNextNewLine=!0,e.framesetOk=!1}function W2e(e,t){const r=e.openElements.tmplCount>0;(!e.formElement||r)&&(e.openElements.hasInButtonScope(A.P)&&e._closePElement(),e._insertElement(t,ht.HTML),r||(e.formElement=e.openElements.current))}function Y2e(e,t){e.framesetOk=!1;const r=t.tagID;for(let n=e.openElements.stackTop;n>=0;n--){const a=e.openElements.tagIDs[n];if(r===A.LI&&a===A.LI||(r===A.DD||r===A.DT)&&(a===A.DD||a===A.DT)){e.openElements.generateImpliedEndTagsWithExclusion(a),e.openElements.popUntilTagNamePopped(a);break}if(a!==A.ADDRESS&&a!==A.DIV&&a!==A.P&&e._isSpecialElement(e.openElements.items[n],a))break}e.openElements.hasInButtonScope(A.P)&&e._closePElement(),e._insertElement(t,ht.HTML)}function V2e(e,t){e.openElements.hasInButtonScope(A.P)&&e._closePElement(),e._insertElement(t,ht.HTML),e.tokenizer.state=ti.PLAINTEXT}function K2e(e,t){e.openElements.hasInScope(A.BUTTON)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(A.BUTTON)),e._reconstructActiveFormattingElements(),e._insertElement(t,ht.HTML),e.framesetOk=!1}function Q2e(e,t){const r=e.activeFormattingElements.getElementEntryInScopeWithTagName(Re.A);r&&(KN(e,t),e.openElements.remove(r.element),e.activeFormattingElements.removeEntry(r)),e._reconstructActiveFormattingElements(),e._insertElement(t,ht.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function X2e(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,ht.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function Z2e(e,t){e._reconstructActiveFormattingElements(),e.openElements.hasInScope(A.NOBR)&&(KN(e,t),e._reconstructActiveFormattingElements()),e._insertElement(t,ht.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function J2e(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,ht.HTML),e.activeFormattingElements.insertMarker(),e.framesetOk=!1}function e_e(e,t){e.treeAdapter.getDocumentMode(e.document)!==Ui.QUIRKS&&e.openElements.hasInButtonScope(A.P)&&e._closePElement(),e._insertElement(t,ht.HTML),e.framesetOk=!1,e.insertionMode=fe.IN_TABLE}function rz(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,ht.HTML),e.framesetOk=!1,t.ackSelfClosing=!0}function nz(e){const t=GH(e,pu.TYPE);return t!=null&&t.toLowerCase()===y2e}function t_e(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,ht.HTML),nz(t)||(e.framesetOk=!1),t.ackSelfClosing=!0}function r_e(e,t){e._appendElement(t,ht.HTML),t.ackSelfClosing=!0}function n_e(e,t){e.openElements.hasInButtonScope(A.P)&&e._closePElement(),e._appendElement(t,ht.HTML),e.framesetOk=!1,t.ackSelfClosing=!0}function a_e(e,t){t.tagName=Re.IMG,t.tagID=A.IMG,rz(e,t)}function s_e(e,t){e._insertElement(t,ht.HTML),e.skipNextNewLine=!0,e.tokenizer.state=ti.RCDATA,e.originalInsertionMode=e.insertionMode,e.framesetOk=!1,e.insertionMode=fe.TEXT}function i_e(e,t){e.openElements.hasInButtonScope(A.P)&&e._closePElement(),e._reconstructActiveFormattingElements(),e.framesetOk=!1,e._switchToTextParsing(t,ti.RAWTEXT)}function o_e(e,t){e.framesetOk=!1,e._switchToTextParsing(t,ti.RAWTEXT)}function E4(e,t){e._switchToTextParsing(t,ti.RAWTEXT)}function l_e(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,ht.HTML),e.framesetOk=!1,e.insertionMode=e.insertionMode===fe.IN_TABLE||e.insertionMode===fe.IN_CAPTION||e.insertionMode===fe.IN_TABLE_BODY||e.insertionMode===fe.IN_ROW||e.insertionMode===fe.IN_CELL?fe.IN_SELECT_IN_TABLE:fe.IN_SELECT}function c_e(e,t){e.openElements.currentTagId===A.OPTION&&e.openElements.pop(),e._reconstructActiveFormattingElements(),e._insertElement(t,ht.HTML)}function u_e(e,t){e.openElements.hasInScope(A.RUBY)&&e.openElements.generateImpliedEndTags(),e._insertElement(t,ht.HTML)}function d_e(e,t){e.openElements.hasInScope(A.RUBY)&&e.openElements.generateImpliedEndTagsWithExclusion(A.RTC),e._insertElement(t,ht.HTML)}function p_e(e,t){e._reconstructActiveFormattingElements(),QH(t),VN(t),t.selfClosing?e._appendElement(t,ht.MATHML):e._insertElement(t,ht.MATHML),t.ackSelfClosing=!0}function h_e(e,t){e._reconstructActiveFormattingElements(),XH(t),VN(t),t.selfClosing?e._appendElement(t,ht.SVG):e._insertElement(t,ht.SVG),t.ackSelfClosing=!0}function v4(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,ht.HTML)}function ys(e,t){switch(t.tagID){case A.I:case A.S:case A.B:case A.U:case A.EM:case A.TT:case A.BIG:case A.CODE:case A.FONT:case A.SMALL:case A.STRIKE:case A.STRONG:{X2e(e,t);break}case A.A:{Q2e(e,t);break}case A.H1:case A.H2:case A.H3:case A.H4:case A.H5:case A.H6:{G2e(e,t);break}case A.P:case A.DL:case A.OL:case A.UL:case A.DIV:case A.DIR:case A.NAV:case A.MAIN:case A.MENU:case A.ASIDE:case A.CENTER:case A.FIGURE:case A.FOOTER:case A.HEADER:case A.HGROUP:case A.DIALOG:case A.DETAILS:case A.ADDRESS:case A.ARTICLE:case A.SEARCH:case A.SECTION:case A.SUMMARY:case A.FIELDSET:case A.BLOCKQUOTE:case A.FIGCAPTION:{z2e(e,t);break}case A.LI:case A.DD:case A.DT:{Y2e(e,t);break}case A.BR:case A.IMG:case A.WBR:case A.AREA:case A.EMBED:case A.KEYGEN:{rz(e,t);break}case A.HR:{n_e(e,t);break}case A.RB:case A.RTC:{u_e(e,t);break}case A.RT:case A.RP:{d_e(e,t);break}case A.PRE:case A.LISTING:{q2e(e,t);break}case A.XMP:{i_e(e,t);break}case A.SVG:{h_e(e,t);break}case A.HTML:{U2e(e,t);break}case A.BASE:case A.LINK:case A.META:case A.STYLE:case A.TITLE:case A.SCRIPT:case A.BGSOUND:case A.BASEFONT:case A.TEMPLATE:{xo(e,t);break}case A.BODY:{$2e(e,t);break}case A.FORM:{W2e(e,t);break}case A.NOBR:{Z2e(e,t);break}case A.MATH:{p_e(e,t);break}case A.TABLE:{e_e(e,t);break}case A.INPUT:{t_e(e,t);break}case A.PARAM:case A.TRACK:case A.SOURCE:{r_e(e,t);break}case A.IMAGE:{a_e(e,t);break}case A.BUTTON:{K2e(e,t);break}case A.APPLET:case A.OBJECT:case A.MARQUEE:{J2e(e,t);break}case A.IFRAME:{o_e(e,t);break}case A.SELECT:{l_e(e,t);break}case A.OPTION:case A.OPTGROUP:{c_e(e,t);break}case A.NOEMBED:case A.NOFRAMES:{E4(e,t);break}case A.FRAMESET:{H2e(e,t);break}case A.TEXTAREA:{s_e(e,t);break}case A.NOSCRIPT:{e.options.scriptingEnabled?E4(e,t):v4(e,t);break}case A.PLAINTEXT:{V2e(e,t);break}case A.COL:case A.TH:case A.TD:case A.TR:case A.HEAD:case A.FRAME:case A.TBODY:case A.TFOOT:case A.THEAD:case A.CAPTION:case A.COLGROUP:break;default:v4(e,t)}}function g_e(e,t){if(e.openElements.hasInScope(A.BODY)&&(e.insertionMode=fe.AFTER_BODY,e.options.sourceCodeLocationInfo)){const r=e.openElements.tryPeekProperlyNestedBodyElement();r&&e._setEndLocation(r,t)}}function m_e(e,t){e.openElements.hasInScope(A.BODY)&&(e.insertionMode=fe.AFTER_BODY,hz(e,t))}function f_e(e,t){const r=t.tagID;e.openElements.hasInScope(r)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(r))}function b_e(e){const t=e.openElements.tmplCount>0,{formElement:r}=e;t||(e.formElement=null),(r||t)&&e.openElements.hasInScope(A.FORM)&&(e.openElements.generateImpliedEndTags(),t?e.openElements.popUntilTagNamePopped(A.FORM):r&&e.openElements.remove(r))}function y_e(e){e.openElements.hasInButtonScope(A.P)||e._insertFakeElement(Re.P,A.P),e._closePElement()}function x_e(e){e.openElements.hasInListItemScope(A.LI)&&(e.openElements.generateImpliedEndTagsWithExclusion(A.LI),e.openElements.popUntilTagNamePopped(A.LI))}function E_e(e,t){const r=t.tagID;e.openElements.hasInScope(r)&&(e.openElements.generateImpliedEndTagsWithExclusion(r),e.openElements.popUntilTagNamePopped(r))}function v_e(e){e.openElements.hasNumberedHeaderInScope()&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilNumberedHeaderPopped())}function S_e(e,t){const r=t.tagID;e.openElements.hasInScope(r)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(r),e.activeFormattingElements.clearToLastMarker())}function T_e(e){e._reconstructActiveFormattingElements(),e._insertFakeElement(Re.BR,A.BR),e.openElements.pop(),e.framesetOk=!1}function az(e,t){const r=t.tagName,n=t.tagID;for(let a=e.openElements.stackTop;a>0;a--){const i=e.openElements.items[a],o=e.openElements.tagIDs[a];if(n===o&&(n!==A.UNKNOWN||e.treeAdapter.getTagName(i)===r)){e.openElements.generateImpliedEndTagsWithExclusion(n),e.openElements.stackTop>=a&&e.openElements.shortenToLength(a);break}if(e._isSpecialElement(i,o))break}}function $x(e,t){switch(t.tagID){case A.A:case A.B:case A.I:case A.S:case A.U:case A.EM:case A.TT:case A.BIG:case A.CODE:case A.FONT:case A.NOBR:case A.SMALL:case A.STRIKE:case A.STRONG:{KN(e,t);break}case A.P:{y_e(e);break}case A.DL:case A.UL:case A.OL:case A.DIR:case A.DIV:case A.NAV:case A.PRE:case A.MAIN:case A.MENU:case A.ASIDE:case A.BUTTON:case A.CENTER:case A.FIGURE:case A.FOOTER:case A.HEADER:case A.HGROUP:case A.DIALOG:case A.ADDRESS:case A.ARTICLE:case A.DETAILS:case A.SEARCH:case A.SECTION:case A.SUMMARY:case A.LISTING:case A.FIELDSET:case A.BLOCKQUOTE:case A.FIGCAPTION:{f_e(e,t);break}case A.LI:{x_e(e);break}case A.DD:case A.DT:{E_e(e,t);break}case A.H1:case A.H2:case A.H3:case A.H4:case A.H5:case A.H6:{v_e(e);break}case A.BR:{T_e(e);break}case A.BODY:{g_e(e,t);break}case A.HTML:{m_e(e,t);break}case A.FORM:{b_e(e);break}case A.APPLET:case A.OBJECT:case A.MARQUEE:{S_e(e,t);break}case A.TEMPLATE:{Gu(e,t);break}default:az(e,t)}}function sz(e,t){e.tmplInsertionModeStack.length>0?pz(e,t):QN(e,t)}function w_e(e,t){var r;t.tagID===A.SCRIPT&&((r=e.scriptHandler)===null||r===void 0||r.call(e,e.openElements.current)),e.openElements.pop(),e.insertionMode=e.originalInsertionMode}function k_e(e,t){e._err(t,We.eofInElementThatCanContainOnlyText),e.openElements.pop(),e.insertionMode=e.originalInsertionMode,e.onEof(t)}function u1(e,t){if(e.openElements.currentTagId!==void 0&&ZH.has(e.openElements.currentTagId))switch(e.pendingCharacterTokens.length=0,e.hasNonWhitespacePendingCharacterToken=!1,e.originalInsertionMode=e.insertionMode,e.insertionMode=fe.IN_TABLE_TEXT,t.type){case ln.CHARACTER:{oz(e,t);break}case ln.WHITESPACE_CHARACTER:{iz(e,t);break}}else af(e,t)}function C_e(e,t){e.openElements.clearBackToTableContext(),e.activeFormattingElements.insertMarker(),e._insertElement(t,ht.HTML),e.insertionMode=fe.IN_CAPTION}function __e(e,t){e.openElements.clearBackToTableContext(),e._insertElement(t,ht.HTML),e.insertionMode=fe.IN_COLUMN_GROUP}function A_e(e,t){e.openElements.clearBackToTableContext(),e._insertFakeElement(Re.COLGROUP,A.COLGROUP),e.insertionMode=fe.IN_COLUMN_GROUP,XN(e,t)}function N_e(e,t){e.openElements.clearBackToTableContext(),e._insertElement(t,ht.HTML),e.insertionMode=fe.IN_TABLE_BODY}function I_e(e,t){e.openElements.clearBackToTableContext(),e._insertFakeElement(Re.TBODY,A.TBODY),e.insertionMode=fe.IN_TABLE_BODY,Hx(e,t)}function R_e(e,t){e.openElements.hasInTableScope(A.TABLE)&&(e.openElements.popUntilTagNamePopped(A.TABLE),e._resetInsertionMode(),e._processStartTag(t))}function D_e(e,t){nz(t)?e._appendElement(t,ht.HTML):af(e,t),t.ackSelfClosing=!0}function L_e(e,t){!e.formElement&&e.openElements.tmplCount===0&&(e._insertElement(t,ht.HTML),e.formElement=e.openElements.current,e.openElements.pop())}function wp(e,t){switch(t.tagID){case A.TD:case A.TH:case A.TR:{I_e(e,t);break}case A.STYLE:case A.SCRIPT:case A.TEMPLATE:{xo(e,t);break}case A.COL:{A_e(e,t);break}case A.FORM:{L_e(e,t);break}case A.TABLE:{R_e(e,t);break}case A.TBODY:case A.TFOOT:case A.THEAD:{N_e(e,t);break}case A.INPUT:{D_e(e,t);break}case A.CAPTION:{C_e(e,t);break}case A.COLGROUP:{__e(e,t);break}default:af(e,t)}}function Tm(e,t){switch(t.tagID){case A.TABLE:{e.openElements.hasInTableScope(A.TABLE)&&(e.openElements.popUntilTagNamePopped(A.TABLE),e._resetInsertionMode());break}case A.TEMPLATE:{Gu(e,t);break}case A.BODY:case A.CAPTION:case A.COL:case A.COLGROUP:case A.HTML:case A.TBODY:case A.TD:case A.TFOOT:case A.TH:case A.THEAD:case A.TR:break;default:af(e,t)}}function af(e,t){const r=e.fosterParentingEnabled;e.fosterParentingEnabled=!0,Ux(e,t),e.fosterParentingEnabled=r}function iz(e,t){e.pendingCharacterTokens.push(t)}function oz(e,t){e.pendingCharacterTokens.push(t),e.hasNonWhitespacePendingCharacterToken=!0}function lg(e,t){let r=0;if(e.hasNonWhitespacePendingCharacterToken)for(;r<e.pendingCharacterTokens.length;r++)af(e,e.pendingCharacterTokens[r]);else for(;r<e.pendingCharacterTokens.length;r++)e._insertCharacters(e.pendingCharacterTokens[r]);e.insertionMode=e.originalInsertionMode,e._processToken(t)}const lz=new Set([A.CAPTION,A.COL,A.COLGROUP,A.TBODY,A.TD,A.TFOOT,A.TH,A.THEAD,A.TR]);function O_e(e,t){const r=t.tagID;lz.has(r)?e.openElements.hasInTableScope(A.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(A.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=fe.IN_TABLE,wp(e,t)):ys(e,t)}function M_e(e,t){const r=t.tagID;switch(r){case A.CAPTION:case A.TABLE:{e.openElements.hasInTableScope(A.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(A.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=fe.IN_TABLE,r===A.TABLE&&Tm(e,t));break}case A.BODY:case A.COL:case A.COLGROUP:case A.HTML:case A.TBODY:case A.TD:case A.TFOOT:case A.TH:case A.THEAD:case A.TR:break;default:$x(e,t)}}function XN(e,t){switch(t.tagID){case A.HTML:{ys(e,t);break}case A.COL:{e._appendElement(t,ht.HTML),t.ackSelfClosing=!0;break}case A.TEMPLATE:{xo(e,t);break}default:wy(e,t)}}function P_e(e,t){switch(t.tagID){case A.COLGROUP:{e.openElements.currentTagId===A.COLGROUP&&(e.openElements.pop(),e.insertionMode=fe.IN_TABLE);break}case A.TEMPLATE:{Gu(e,t);break}case A.COL:break;default:wy(e,t)}}function wy(e,t){e.openElements.currentTagId===A.COLGROUP&&(e.openElements.pop(),e.insertionMode=fe.IN_TABLE,e._processToken(t))}function Hx(e,t){switch(t.tagID){case A.TR:{e.openElements.clearBackToTableBodyContext(),e._insertElement(t,ht.HTML),e.insertionMode=fe.IN_ROW;break}case A.TH:case A.TD:{e.openElements.clearBackToTableBodyContext(),e._insertFakeElement(Re.TR,A.TR),e.insertionMode=fe.IN_ROW,zx(e,t);break}case A.CAPTION:case A.COL:case A.COLGROUP:case A.TBODY:case A.TFOOT:case A.THEAD:{e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=fe.IN_TABLE,wp(e,t));break}default:wp(e,t)}}function Ew(e,t){const r=t.tagID;switch(t.tagID){case A.TBODY:case A.TFOOT:case A.THEAD:{e.openElements.hasInTableScope(r)&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=fe.IN_TABLE);break}case A.TABLE:{e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=fe.IN_TABLE,Tm(e,t));break}case A.BODY:case A.CAPTION:case A.COL:case A.COLGROUP:case A.HTML:case A.TD:case A.TH:case A.TR:break;default:Tm(e,t)}}function zx(e,t){switch(t.tagID){case A.TH:case A.TD:{e.openElements.clearBackToTableRowContext(),e._insertElement(t,ht.HTML),e.insertionMode=fe.IN_CELL,e.activeFormattingElements.insertMarker();break}case A.CAPTION:case A.COL:case A.COLGROUP:case A.TBODY:case A.TFOOT:case A.THEAD:case A.TR:{e.openElements.hasInTableScope(A.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=fe.IN_TABLE_BODY,Hx(e,t));break}default:wp(e,t)}}function cz(e,t){switch(t.tagID){case A.TR:{e.openElements.hasInTableScope(A.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=fe.IN_TABLE_BODY);break}case A.TABLE:{e.openElements.hasInTableScope(A.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=fe.IN_TABLE_BODY,Ew(e,t));break}case A.TBODY:case A.TFOOT:case A.THEAD:{(e.openElements.hasInTableScope(t.tagID)||e.openElements.hasInTableScope(A.TR))&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=fe.IN_TABLE_BODY,Ew(e,t));break}case A.BODY:case A.CAPTION:case A.COL:case A.COLGROUP:case A.HTML:case A.TD:case A.TH:break;default:Tm(e,t)}}function j_e(e,t){const r=t.tagID;lz.has(r)?(e.openElements.hasInTableScope(A.TD)||e.openElements.hasInTableScope(A.TH))&&(e._closeTableCell(),zx(e,t)):ys(e,t)}function F_e(e,t){const r=t.tagID;switch(r){case A.TD:case A.TH:{e.openElements.hasInTableScope(r)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(r),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=fe.IN_ROW);break}case A.TABLE:case A.TBODY:case A.TFOOT:case A.THEAD:case A.TR:{e.openElements.hasInTableScope(r)&&(e._closeTableCell(),cz(e,t));break}case A.BODY:case A.CAPTION:case A.COL:case A.COLGROUP:case A.HTML:break;default:$x(e,t)}}function uz(e,t){switch(t.tagID){case A.HTML:{ys(e,t);break}case A.OPTION:{e.openElements.currentTagId===A.OPTION&&e.openElements.pop(),e._insertElement(t,ht.HTML);break}case A.OPTGROUP:{e.openElements.currentTagId===A.OPTION&&e.openElements.pop(),e.openElements.currentTagId===A.OPTGROUP&&e.openElements.pop(),e._insertElement(t,ht.HTML);break}case A.HR:{e.openElements.currentTagId===A.OPTION&&e.openElements.pop(),e.openElements.currentTagId===A.OPTGROUP&&e.openElements.pop(),e._appendElement(t,ht.HTML),t.ackSelfClosing=!0;break}case A.INPUT:case A.KEYGEN:case A.TEXTAREA:case A.SELECT:{e.openElements.hasInSelectScope(A.SELECT)&&(e.openElements.popUntilTagNamePopped(A.SELECT),e._resetInsertionMode(),t.tagID!==A.SELECT&&e._processStartTag(t));break}case A.SCRIPT:case A.TEMPLATE:{xo(e,t);break}}}function dz(e,t){switch(t.tagID){case A.OPTGROUP:{e.openElements.stackTop>0&&e.openElements.currentTagId===A.OPTION&&e.openElements.tagIDs[e.openElements.stackTop-1]===A.OPTGROUP&&e.openElements.pop(),e.openElements.currentTagId===A.OPTGROUP&&e.openElements.pop();break}case A.OPTION:{e.openElements.currentTagId===A.OPTION&&e.openElements.pop();break}case A.SELECT:{e.openElements.hasInSelectScope(A.SELECT)&&(e.openElements.popUntilTagNamePopped(A.SELECT),e._resetInsertionMode());break}case A.TEMPLATE:{Gu(e,t);break}}}function B_e(e,t){const r=t.tagID;r===A.CAPTION||r===A.TABLE||r===A.TBODY||r===A.TFOOT||r===A.THEAD||r===A.TR||r===A.TD||r===A.TH?(e.openElements.popUntilTagNamePopped(A.SELECT),e._resetInsertionMode(),e._processStartTag(t)):uz(e,t)}function U_e(e,t){const r=t.tagID;r===A.CAPTION||r===A.TABLE||r===A.TBODY||r===A.TFOOT||r===A.THEAD||r===A.TR||r===A.TD||r===A.TH?e.openElements.hasInTableScope(r)&&(e.openElements.popUntilTagNamePopped(A.SELECT),e._resetInsertionMode(),e.onEndTag(t)):dz(e,t)}function $_e(e,t){switch(t.tagID){case A.BASE:case A.BASEFONT:case A.BGSOUND:case A.LINK:case A.META:case A.NOFRAMES:case A.SCRIPT:case A.STYLE:case A.TEMPLATE:case A.TITLE:{xo(e,t);break}case A.CAPTION:case A.COLGROUP:case A.TBODY:case A.TFOOT:case A.THEAD:{e.tmplInsertionModeStack[0]=fe.IN_TABLE,e.insertionMode=fe.IN_TABLE,wp(e,t);break}case A.COL:{e.tmplInsertionModeStack[0]=fe.IN_COLUMN_GROUP,e.insertionMode=fe.IN_COLUMN_GROUP,XN(e,t);break}case A.TR:{e.tmplInsertionModeStack[0]=fe.IN_TABLE_BODY,e.insertionMode=fe.IN_TABLE_BODY,Hx(e,t);break}case A.TD:case A.TH:{e.tmplInsertionModeStack[0]=fe.IN_ROW,e.insertionMode=fe.IN_ROW,zx(e,t);break}default:e.tmplInsertionModeStack[0]=fe.IN_BODY,e.insertionMode=fe.IN_BODY,ys(e,t)}}function H_e(e,t){t.tagID===A.TEMPLATE&&Gu(e,t)}function pz(e,t){e.openElements.tmplCount>0?(e.openElements.popUntilTagNamePopped(A.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e.tmplInsertionModeStack.shift(),e._resetInsertionMode(),e.onEof(t)):QN(e,t)}function z_e(e,t){t.tagID===A.HTML?ys(e,t):ky(e,t)}function hz(e,t){var r;if(t.tagID===A.HTML){if(e.fragmentContext||(e.insertionMode=fe.AFTER_AFTER_BODY),e.options.sourceCodeLocationInfo&&e.openElements.tagIDs[0]===A.HTML){e._setEndLocation(e.openElements.items[0],t);const n=e.openElements.items[1];n&&!(!((r=e.treeAdapter.getNodeSourceCodeLocation(n))===null||r===void 0)&&r.endTag)&&e._setEndLocation(n,t)}}else ky(e,t)}function ky(e,t){e.insertionMode=fe.IN_BODY,Ux(e,t)}function G_e(e,t){switch(t.tagID){case A.HTML:{ys(e,t);break}case A.FRAMESET:{e._insertElement(t,ht.HTML);break}case A.FRAME:{e._appendElement(t,ht.HTML),t.ackSelfClosing=!0;break}case A.NOFRAMES:{xo(e,t);break}}}function q_e(e,t){t.tagID===A.FRAMESET&&!e.openElements.isRootHtmlElementCurrent()&&(e.openElements.pop(),!e.fragmentContext&&e.openElements.currentTagId!==A.FRAMESET&&(e.insertionMode=fe.AFTER_FRAMESET))}function W_e(e,t){switch(t.tagID){case A.HTML:{ys(e,t);break}case A.NOFRAMES:{xo(e,t);break}}}function Y_e(e,t){t.tagID===A.HTML&&(e.insertionMode=fe.AFTER_AFTER_FRAMESET)}function V_e(e,t){t.tagID===A.HTML?ys(e,t):Sb(e,t)}function Sb(e,t){e.insertionMode=fe.IN_BODY,Ux(e,t)}function K_e(e,t){switch(t.tagID){case A.HTML:{ys(e,t);break}case A.NOFRAMES:{xo(e,t);break}}}function Q_e(e,t){t.chars=Jn,e._insertCharacters(t)}function X_e(e,t){e._insertCharacters(t),e.framesetOk=!1}function gz(e){for(;e.treeAdapter.getNamespaceURI(e.openElements.current)!==ht.HTML&&e.openElements.currentTagId!==void 0&&!e._isIntegrationPoint(e.openElements.currentTagId,e.openElements.current);)e.openElements.pop()}function Z_e(e,t){if(h2e(t))gz(e),e._startTagOutsideForeignContent(t);else{const r=e._getAdjustedCurrentElement(),n=e.treeAdapter.getNamespaceURI(r);n===ht.MATHML?QH(t):n===ht.SVG&&(g2e(t),XH(t)),VN(t),t.selfClosing?e._appendElement(t,n):e._insertElement(t,n),t.ackSelfClosing=!0}}function J_e(e,t){if(t.tagID===A.P||t.tagID===A.BR){gz(e),e._endTagOutsideForeignContent(t);return}for(let r=e.openElements.stackTop;r>0;r--){const n=e.openElements.items[r];if(e.treeAdapter.getNamespaceURI(n)===ht.HTML){e._endTagOutsideForeignContent(t);break}const a=e.treeAdapter.getTagName(n);if(a.toLowerCase()===t.tagName){t.tagName=a,e.openElements.shortenToLength(r);break}}}Re.AREA,Re.BASE,Re.BASEFONT,Re.BGSOUND,Re.BR,Re.COL,Re.EMBED,Re.FRAME,Re.HR,Re.IMG,Re.INPUT,Re.KEYGEN,Re.LINK,Re.META,Re.PARAM,Re.SOURCE,Re.TRACK,Re.WBR;function eAe(e,t){return JH.parse(e,t)}function tAe(e,t,r){typeof e=="string"&&(r=t,t=e,e=null);const n=JH.getFragmentParser(e,r);return n.tokenizer.write(t,!0),n.getFragment()}const rAe={abandonedHeadElementChild:{reason:"Unexpected metadata element after head",description:"Unexpected element after head. Expected the element before `</head>`",url:!1},abruptClosingOfEmptyComment:{reason:"Unexpected abruptly closed empty comment",description:"Unexpected `>` or `->`. Expected `-->` to close comments"},abruptDoctypePublicIdentifier:{reason:"Unexpected abruptly closed public identifier",description:"Unexpected `>`. Expected a closing `\"` or `'` after the public identifier"},abruptDoctypeSystemIdentifier:{reason:"Unexpected abruptly closed system identifier",description:"Unexpected `>`. Expected a closing `\"` or `'` after the identifier identifier"},absenceOfDigitsInNumericCharacterReference:{reason:"Unexpected non-digit at start of numeric character reference",description:"Unexpected `%c`. Expected `[0-9]` for decimal references or `[0-9a-fA-F]` for hexadecimal references"},cdataInHtmlContent:{reason:"Unexpected CDATA section in HTML",description:"Unexpected `<![CDATA[` in HTML. Remove it, use a comment, or encode special characters instead"},characterReferenceOutsideUnicodeRange:{reason:"Unexpected too big numeric character reference",description:"Unexpectedly high character reference. Expected character references to be at most hexadecimal 10ffff (or decimal 1114111)"},closingOfElementWithOpenChildElements:{reason:"Unexpected closing tag with open child elements",description:"Unexpectedly closing tag. Expected other tags to be closed first",url:!1},controlCharacterInInputStream:{reason:"Unexpected control character",description:"Unexpected control character `%x`. Expected a non-control code point, 0x00, or ASCII whitespace"},controlCharacterReference:{reason:"Unexpected control character reference",description:"Unexpectedly control character in reference. Expected a non-control code point, 0x00, or ASCII whitespace"},disallowedContentInNoscriptInHead:{reason:"Disallowed content inside `<noscript>` in `<head>`",description:"Unexpected text character `%c`. Only use text in `<noscript>`s in `<body>`",url:!1},duplicateAttribute:{reason:"Unexpected duplicate attribute",description:"Unexpectedly double attribute. Expected attributes to occur only once"},endTagWithAttributes:{reason:"Unexpected attribute on closing tag",description:"Unexpected attribute. Expected `>` instead"},endTagWithTrailingSolidus:{reason:"Unexpected slash at end of closing tag",description:"Unexpected `%c-1`. Expected `>` instead"},endTagWithoutMatchingOpenElement:{reason:"Unexpected unopened end tag",description:"Unexpected end tag. Expected no end tag or another end tag",url:!1},eofBeforeTagName:{reason:"Unexpected end of file",description:"Unexpected end of file. Expected tag name instead"},eofInCdata:{reason:"Unexpected end of file in CDATA",description:"Unexpected end of file. Expected `]]>` to close the CDATA"},eofInComment:{reason:"Unexpected end of file in comment",description:"Unexpected end of file. Expected `-->` to close the comment"},eofInDoctype:{reason:"Unexpected end of file in doctype",description:"Unexpected end of file. Expected a valid doctype (such as `<!doctype html>`)"},eofInElementThatCanContainOnlyText:{reason:"Unexpected end of file in element that can only contain text",description:"Unexpected end of file. Expected text or a closing tag",url:!1},eofInScriptHtmlCommentLikeText:{reason:"Unexpected end of file in comment inside script",description:"Unexpected end of file. Expected `-->` to close the comment"},eofInTag:{reason:"Unexpected end of file in tag",description:"Unexpected end of file. Expected `>` to close the tag"},incorrectlyClosedComment:{reason:"Incorrectly closed comment",description:"Unexpected `%c-1`. Expected `-->` to close the comment"},incorrectlyOpenedComment:{reason:"Incorrectly opened comment",description:"Unexpected `%c`. Expected `<!--` to open the comment"},invalidCharacterSequenceAfterDoctypeName:{reason:"Invalid sequence after doctype name",description:"Unexpected sequence at `%c`. Expected `public` or `system`"},invalidFirstCharacterOfTagName:{reason:"Invalid first character in tag name",description:"Unexpected `%c`. Expected an ASCII letter instead"},misplacedDoctype:{reason:"Misplaced doctype",description:"Unexpected doctype. Expected doctype before head",url:!1},misplacedStartTagForHeadElement:{reason:"Misplaced `<head>` start tag",description:"Unexpected start tag `<head>`. Expected `<head>` directly after doctype",url:!1},missingAttributeValue:{reason:"Missing attribute value",description:"Unexpected `%c-1`. Expected an attribute value or no `%c-1` instead"},missingDoctype:{reason:"Missing doctype before other content",description:"Expected a `<!doctype html>` before anything else",url:!1},missingDoctypeName:{reason:"Missing doctype name",description:"Unexpected doctype end at `%c`. Expected `html` instead"},missingDoctypePublicIdentifier:{reason:"Missing public identifier in doctype",description:"Unexpected `%c`. Expected identifier for `public` instead"},missingDoctypeSystemIdentifier:{reason:"Missing system identifier in doctype",description:'Unexpected `%c`. Expected identifier for `system` instead (suggested: `"about:legacy-compat"`)'},missingEndTagName:{reason:"Missing name in end tag",description:"Unexpected `%c`. Expected an ASCII letter instead"},missingQuoteBeforeDoctypePublicIdentifier:{reason:"Missing quote before public identifier in doctype",description:"Unexpected `%c`. Expected `\"` or `'` instead"},missingQuoteBeforeDoctypeSystemIdentifier:{reason:"Missing quote before system identifier in doctype",description:"Unexpected `%c`. Expected `\"` or `'` instead"},missingSemicolonAfterCharacterReference:{reason:"Missing semicolon after character reference",description:"Unexpected `%c`. Expected `;` instead"},missingWhitespaceAfterDoctypePublicKeyword:{reason:"Missing whitespace after public identifier in doctype",description:"Unexpected `%c`. Expected ASCII whitespace instead"},missingWhitespaceAfterDoctypeSystemKeyword:{reason:"Missing whitespace after system identifier in doctype",description:"Unexpected `%c`. Expected ASCII whitespace instead"},missingWhitespaceBeforeDoctypeName:{reason:"Missing whitespace before doctype name",description:"Unexpected `%c`. Expected ASCII whitespace instead"},missingWhitespaceBetweenAttributes:{reason:"Missing whitespace between attributes",description:"Unexpected `%c`. Expected ASCII whitespace instead"},missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers:{reason:"Missing whitespace between public and system identifiers in doctype",description:"Unexpected `%c`. Expected ASCII whitespace instead"},nestedComment:{reason:"Unexpected nested comment",description:"Unexpected `<!--`. Expected `-->`"},nestedNoscriptInHead:{reason:"Unexpected nested `<noscript>` in `<head>`",description:"Unexpected `<noscript>`. Expected a closing tag or a meta element",url:!1},nonConformingDoctype:{reason:"Unexpected non-conforming doctype declaration",description:'Expected `<!doctype html>` or `<!doctype html system "about:legacy-compat">`',url:!1},nonVoidHtmlElementStartTagWithTrailingSolidus:{reason:"Unexpected trailing slash on start tag of non-void element",description:"Unexpected `/`. Expected `>` instead"},noncharacterCharacterReference:{reason:"Unexpected noncharacter code point referenced by character reference",description:"Unexpected code point. Do not use noncharacters in HTML"},noncharacterInInputStream:{reason:"Unexpected noncharacter character",description:"Unexpected code point `%x`. Do not use noncharacters in HTML"},nullCharacterReference:{reason:"Unexpected NULL character referenced by character reference",description:"Unexpected code point. Do not use NULL characters in HTML"},openElementsLeftAfterEof:{reason:"Unexpected end of file",description:"Unexpected end of file. Expected closing tag instead",url:!1},surrogateCharacterReference:{reason:"Unexpected surrogate character referenced by character reference",description:"Unexpected code point. Do not use lone surrogate characters in HTML"},surrogateInInputStream:{reason:"Unexpected surrogate character",description:"Unexpected code point `%x`. Do not use lone surrogate characters in HTML"},unexpectedCharacterAfterDoctypeSystemIdentifier:{reason:"Invalid character after system identifier in doctype",description:"Unexpected character at `%c`. Expected `>`"},unexpectedCharacterInAttributeName:{reason:"Unexpected character in attribute name",description:"Unexpected `%c`. Expected whitespace, `/`, `>`, `=`, or probably an ASCII letter"},unexpectedCharacterInUnquotedAttributeValue:{reason:"Unexpected character in unquoted attribute value",description:"Unexpected `%c`. Quote the attribute value to include it"},unexpectedEqualsSignBeforeAttributeName:{reason:"Unexpected equals sign before attribute name",description:"Unexpected `%c`. Add an attribute name before it"},unexpectedNullCharacter:{reason:"Unexpected NULL character",description:"Unexpected code point `%x`. Do not use NULL characters in HTML"},unexpectedQuestionMarkInsteadOfTagName:{reason:"Unexpected question mark instead of tag name",description:"Unexpected `%c`. Expected an ASCII letter instead"},unexpectedSolidusInTag:{reason:"Unexpected slash in tag",description:"Unexpected `%c-1`. Expected it followed by `>` or in a quoted attribute value"},unknownNamedCharacterReference:{reason:"Unexpected unknown named character reference",description:"Unexpected character reference. Expected known named character references"}},nAe="https://html.spec.whatwg.org/multipage/parsing.html#parse-error-",aAe=/-[a-z]/g,sAe=/%c(?:([-+])(\d+))?/g,iAe=/%x/g,oAe={2:!0,1:!1,0:null},lAe={};function cAe(e,t){const r=t||lAe,n=r.onerror,a=e instanceof am?e:new am(e),i=r.fragment?tAe:eAe,o=String(a),l=i(o,{sourceCodeLocationInfo:!0,onParseError:r.onerror?u:null,scriptingEnabled:!1});return c5(l,{file:a,space:r.space,verbose:r.verbose});function u(d){const h=d.code,g=uAe(h),f=r[g],b=f??!0,x=typeof b=="number"?b:b?1:0;if(x){const v=rAe[g],T=new es(E(v.reason),{place:{start:{line:d.startLine,column:d.startCol,offset:d.startOffset},end:{line:d.endLine,column:d.endCol,offset:d.endOffset}},ruleId:h,source:"hast-util-from-html"});a.path&&(T.file=a.path,T.name=a.path+":"+T.name),T.fatal=oAe[x],T.note=E(v.description),T.url=v.url===!1?void 0:nAe+h,n(T)}function E(v){return v.replace(sAe,T).replace(iAe,w);function T(N,R,D){const L=(D?Number.parseInt(D,10):0)*(R==="-"?-1:1),j=o.charAt(d.startOffset+L);return pAe(j)}function w(){return hAe(o.charCodeAt(d.startOffset))}}}}function uAe(e){return e.replace(aAe,dAe)}function dAe(e){return e.charAt(1).toUpperCase()}function pAe(e){return e==="`"?"` ` `":e}function hAe(e){return"0x"+e.toString(16).toUpperCase()}function gAe(e){const t=this,{emitParseErrors:r,...n}={...t.data("settings"),...e};t.parser=a;function a(i,o){return cAe(i,{...n,onerror:r?function(l){o.path&&(l.name=o.path+":"+l.name,l.file=o.path),o.messages.push(l)}:void 0})}}const mAe=/["&'<>`]/g,fAe=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,bAe=/[\x01-\t\v\f\x0E-\x1F\x7F\x81\x8D\x8F\x90\x9D\xA0-\uFFFF]/g,yAe=/[|\\{}()[\]^$+*?.]/g,S4=new WeakMap;function xAe(e,t){if(e=e.replace(t.subset?EAe(t.subset):mAe,n),t.subset||t.escapeOnly)return e;return e.replace(fAe,r).replace(bAe,n);function r(a,i,o){return t.format((a.charCodeAt(0)-55296)*1024+a.charCodeAt(1)-56320+65536,o.charCodeAt(i+2),t)}function n(a,i,o){return t.format(a.charCodeAt(0),o.charCodeAt(i+1),t)}}function EAe(e){let t=S4.get(e);return t||(t=vAe(e),S4.set(e,t)),t}function vAe(e){const t=[];let r=-1;for(;++r<e.length;)t.push(e[r].replace(yAe,"\\$&"));return new RegExp("(?:"+t.join("|")+")","g")}const SAe=/[\dA-Fa-f]/;function TAe(e,t,r){const n="&#x"+e.toString(16).toUpperCase();return r&&t&&!SAe.test(String.fromCharCode(t))?n:n+";"}const wAe=/\d/;function kAe(e,t,r){const n="&#"+String(e);return r&&t&&!wAe.test(String.fromCharCode(t))?n:n+";"}const d1={nbsp:"",iexcl:"",cent:"",pound:"",curren:"",yen:"",brvbar:"",sect:"",uml:"",copy:"",ordf:"",laquo:"",not:"",shy:"",reg:"",macr:"",deg:"",plusmn:"",sup2:"",sup3:"",acute:"",micro:"",para:"",middot:"",cedil:"",sup1:"",ordm:"",raquo:"",frac14:"",frac12:"",frac34:"",iquest:"",Agrave:"",Aacute:"",Acirc:"",Atilde:"",Auml:"",Aring:"",AElig:"",Ccedil:"",Egrave:"",Eacute:"",Ecirc:"",Euml:"",Igrave:"",Iacute:"",Icirc:"",Iuml:"",ETH:"",Ntilde:"",Ograve:"",Oacute:"",Ocirc:"",Otilde:"",Ouml:"",times:"",Oslash:"",Ugrave:"",Uacute:"",Ucirc:"",Uuml:"",Yacute:"",THORN:"",szlig:"",agrave:"",aacute:"",acirc:"",atilde:"",auml:"",aring:"",aelig:"",ccedil:"",egrave:"",eacute:"",ecirc:"",euml:"",igrave:"",iacute:"",icirc:"",iuml:"",eth:"",ntilde:"",ograve:"",oacute:"",ocirc:"",otilde:"",ouml:"",divide:"",oslash:"",ugrave:"",uacute:"",ucirc:"",uuml:"",yacute:"",thorn:"",yuml:"",fnof:"",Alpha:"",Beta:"",Gamma:"",Delta:"",Epsilon:"",Zeta:"",Eta:"",Theta:"",Iota:"",Kappa:"",Lambda:"",Mu:"",Nu:"",Xi:"",Omicron:"",Pi:"",Rho:"",Sigma:"",Tau:"",Upsilon:"",Phi:"",Chi:"",Psi:"",Omega:"",alpha:"",beta:"",gamma:"",delta:"",epsilon:"",zeta:"",eta:"",theta:"",iota:"",kappa:"",lambda:"",mu:"",nu:"",xi:"",omicron:"",pi:"",rho:"",sigmaf:"",sigma:"",tau:"",upsilon:"",phi:"",chi:"",psi:"",omega:"",thetasym:"",upsih:"",piv:"",bull:"",hellip:"",prime:"",Prime:"",oline:"",frasl:"",weierp:"",image:"",real:"",trade:"",alefsym:"",larr:"",uarr:"",rarr:"",darr:"",harr:"",crarr:"",lArr:"",uArr:"",rArr:"",dArr:"",hArr:"",forall:"",part:"",exist:"",empty:"",nabla:"",isin:"",notin:"",ni:"",prod:"",sum:"",minus:"",lowast:"",radic:"",prop:"",infin:"",ang:"",and:"",or:"",cap:"",cup:"",int:"",there4:"",sim:"",cong:"",asymp:"",ne:"",equiv:"",le:"",ge:"",sub:"",sup:"",nsub:"",sube:"",supe:"",oplus:"",otimes:"",perp:"",sdot:"",lceil:"",rceil:"",lfloor:"",rfloor:"",lang:"",rang:"",loz:"",spades:"",clubs:"",hearts:"",diams:"",quot:'"',amp:"&",lt:"<",gt:">",OElig:"",oelig:"",Scaron:"",scaron:"",Yuml:"",circ:"",tilde:"",ensp:"",emsp:"",thinsp:"",zwnj:"",zwj:"",lrm:"",rlm:"",ndash:"",mdash:"",lsquo:"",rsquo:"",sbquo:"",ldquo:"",rdquo:"",bdquo:"",dagger:"",Dagger:"",permil:"",lsaquo:"",rsaquo:"",euro:""},CAe=["cent","copy","divide","gt","lt","not","para","times"],mz={}.hasOwnProperty,vw={};let K0;for(K0 in d1)mz.call(d1,K0)&&(vw[d1[K0]]=K0);const _Ae=/[^\dA-Za-z]/;function AAe(e,t,r,n){const a=String.fromCharCode(e);if(mz.call(vw,a)){const i=vw[a],o="&"+i;return r&&gH.includes(i)&&!CAe.includes(i)&&(!n||t&&t!==61&&_Ae.test(String.fromCharCode(t)))?o:o+";"}return""}function NAe(e,t,r){let n=TAe(e,t,r.omitOptionalSemicolons),a;if((r.useNamedReferences||r.useShortestReferences)&&(a=AAe(e,t,r.omitOptionalSemicolons,r.attribute)),(r.useShortestReferences||!a)&&r.useShortestReferences){const i=kAe(e,t,r.omitOptionalSemicolons);i.length<n.length&&(n=i)}return a&&(!r.useShortestReferences||a.length<n.length)?a:n}function ep(e,t){return xAe(e,Object.assign({format:NAe},t))}const IAe=/^>|^->|<!--|-->|--!>|<!-$/g,RAe=[">"],DAe=["<",">"];function LAe(e,t,r,n){return n.settings.bogusComments?"<?"+ep(e.value,Object.assign({},n.settings.characterReferences,{subset:RAe}))+">":"<!--"+e.value.replace(IAe,a)+"-->";function a(i){return ep(i,Object.assign({},n.settings.characterReferences,{subset:DAe}))}}function OAe(e,t,r,n){return"<!"+(n.settings.upperDoctype?"DOCTYPE":"doctype")+(n.settings.tightDoctype?"":" ")+"html>"}const Fa=bz(1),fz=bz(-1),MAe=[];function bz(e){return t;function t(r,n,a){const i=r?r.children:MAe;let o=(n||0)+e,l=i[o];if(!a)for(;l&&Nm(l);)o+=e,l=i[o];return l}}const PAe={}.hasOwnProperty;function yz(e){return t;function t(r,n,a){return PAe.call(e,r.tagName)&&e[r.tagName](r,n,a)}}const ZN=yz({body:FAe,caption:p1,colgroup:p1,dd:HAe,dt:$Ae,head:p1,html:jAe,li:UAe,optgroup:zAe,option:GAe,p:BAe,rp:T4,rt:T4,tbody:WAe,td:w4,tfoot:YAe,th:w4,thead:qAe,tr:VAe});function p1(e,t,r){const n=Fa(r,t,!0);return!n||n.type!=="comment"&&!(n.type==="text"&&Nm(n.value.charAt(0)))}function jAe(e,t,r){const n=Fa(r,t);return!n||n.type!=="comment"}function FAe(e,t,r){const n=Fa(r,t);return!n||n.type!=="comment"}function BAe(e,t,r){const n=Fa(r,t);return n?n.type==="element"&&(n.tagName==="address"||n.tagName==="article"||n.tagName==="aside"||n.tagName==="blockquote"||n.tagName==="details"||n.tagName==="div"||n.tagName==="dl"||n.tagName==="fieldset"||n.tagName==="figcaption"||n.tagName==="figure"||n.tagName==="footer"||n.tagName==="form"||n.tagName==="h1"||n.tagName==="h2"||n.tagName==="h3"||n.tagName==="h4"||n.tagName==="h5"||n.tagName==="h6"||n.tagName==="header"||n.tagName==="hgroup"||n.tagName==="hr"||n.tagName==="main"||n.tagName==="menu"||n.tagName==="nav"||n.tagName==="ol"||n.tagName==="p"||n.tagName==="pre"||n.tagName==="section"||n.tagName==="table"||n.tagName==="ul"):!r||!(r.type==="element"&&(r.tagName==="a"||r.tagName==="audio"||r.tagName==="del"||r.tagName==="ins"||r.tagName==="map"||r.tagName==="noscript"||r.tagName==="video"))}function UAe(e,t,r){const n=Fa(r,t);return!n||n.type==="element"&&n.tagName==="li"}function $Ae(e,t,r){const n=Fa(r,t);return!!(n&&n.type==="element"&&(n.tagName==="dt"||n.tagName==="dd"))}function HAe(e,t,r){const n=Fa(r,t);return!n||n.type==="element"&&(n.tagName==="dt"||n.tagName==="dd")}function T4(e,t,r){const n=Fa(r,t);return!n||n.type==="element"&&(n.tagName==="rp"||n.tagName==="rt")}function zAe(e,t,r){const n=Fa(r,t);return!n||n.type==="element"&&n.tagName==="optgroup"}function GAe(e,t,r){const n=Fa(r,t);return!n||n.type==="element"&&(n.tagName==="option"||n.tagName==="optgroup")}function qAe(e,t,r){const n=Fa(r,t);return!!(n&&n.type==="element"&&(n.tagName==="tbody"||n.tagName==="tfoot"))}function WAe(e,t,r){const n=Fa(r,t);return!n||n.type==="element"&&(n.tagName==="tbody"||n.tagName==="tfoot")}function YAe(e,t,r){return!Fa(r,t)}function VAe(e,t,r){const n=Fa(r,t);return!n||n.type==="element"&&n.tagName==="tr"}function w4(e,t,r){const n=Fa(r,t);return!n||n.type==="element"&&(n.tagName==="td"||n.tagName==="th")}const KAe=yz({body:ZAe,colgroup:JAe,head:XAe,html:QAe,tbody:eNe});function QAe(e){const t=Fa(e,-1);return!t||t.type!=="comment"}function XAe(e){const t=new Set;for(const n of e.children)if(n.type==="element"&&(n.tagName==="base"||n.tagName==="title")){if(t.has(n.tagName))return!1;t.add(n.tagName)}const r=e.children[0];return!r||r.type==="element"}function ZAe(e){const t=Fa(e,-1,!0);return!t||t.type!=="comment"&&!(t.type==="text"&&Nm(t.value.charAt(0)))&&!(t.type==="element"&&(t.tagName==="meta"||t.tagName==="link"||t.tagName==="script"||t.tagName==="style"||t.tagName==="template"))}function JAe(e,t,r){const n=fz(r,t),a=Fa(e,-1,!0);return r&&n&&n.type==="element"&&n.tagName==="colgroup"&&ZN(n,r.children.indexOf(n),r)?!1:!!(a&&a.type==="element"&&a.tagName==="col")}function eNe(e,t,r){const n=fz(r,t),a=Fa(e,-1);return r&&n&&n.type==="element"&&(n.tagName==="thead"||n.tagName==="tbody")&&ZN(n,r.children.indexOf(n),r)?!1:!!(a&&a.type==="element"&&a.tagName==="tr")}const Q0={name:[[`	
\f\r &/=>`.split(""),`	
\f\r "&'/=>\``.split("")],[`\0	
\f\r "&'/<=>`.split(""),`\0	
\f\r "&'/<=>\``.split("")]],unquoted:[[`	
\f\r &>`.split(""),`\0	
\f\r "&'<=>\``.split("")],[`\0	
\f\r "&'<=>\``.split(""),`\0	
\f\r "&'<=>\``.split("")]],single:[["&'".split(""),"\"&'`".split("")],["\0&'".split(""),"\0\"&'`".split("")]],double:[['"&'.split(""),"\"&'`".split("")],['\0"&'.split(""),"\0\"&'`".split("")]]};function tNe(e,t,r,n){const a=n.schema,i=a.space==="svg"?!1:n.settings.omitOptionalTags;let o=a.space==="svg"?n.settings.closeEmptyElements:n.settings.voids.includes(e.tagName.toLowerCase());const l=[];let u;a.space==="html"&&e.tagName==="svg"&&(n.schema=Il);const d=rNe(n,e.properties),h=n.all(a.space==="html"&&e.tagName==="template"?e.content:e);return n.schema=a,h&&(o=!1),(d||!i||!KAe(e,t,r))&&(l.push("<",e.tagName,d?" "+d:""),o&&(a.space==="svg"||n.settings.closeSelfClosing)&&(u=d.charAt(d.length-1),(!n.settings.tightSelfClosing||u==="/"||u&&u!=='"'&&u!=="'")&&l.push(" "),l.push("/")),l.push(">")),l.push(h),!o&&(!i||!ZN(e,t,r))&&l.push("</"+e.tagName+">"),l.join("")}function rNe(e,t){const r=[];let n=-1,a;if(t){for(a in t)if(t[a]!==null&&t[a]!==void 0){const i=nNe(e,a,t[a]);i&&r.push(i)}}for(;++n<r.length;){const i=e.settings.tightAttributes?r[n].charAt(r[n].length-1):void 0;n!==r.length-1&&i!=='"'&&i!=="'"&&(r[n]+=" ")}return r.join("")}function nNe(e,t,r){const n=Rm(e.schema,t),a=e.settings.allowParseErrors&&e.schema.space==="html"?0:1,i=e.settings.allowDangerousCharacters?0:1;let o=e.quote,l;if(n.overloadedBoolean&&(r===n.attribute||r==="")?r=!0:(n.boolean||n.overloadedBoolean)&&(typeof r!="string"||r===n.attribute||r==="")&&(r=!!r),r==null||r===!1||typeof r=="number"&&Number.isNaN(r))return"";const u=ep(n.attribute,Object.assign({},e.settings.characterReferences,{subset:Q0.name[a][i]}));return r===!0||(r=Array.isArray(r)?(n.commaSeparated?Ly:Oy)(r,{padLeft:!e.settings.tightCommaSeparatedLists}):String(r),e.settings.collapseEmptyAttributes&&!r)?u:(e.settings.preferUnquoted&&(l=ep(r,Object.assign({},e.settings.characterReferences,{attribute:!0,subset:Q0.unquoted[a][i]}))),l!==r&&(e.settings.quoteSmart&&Rb(r,o)>Rb(r,e.alternative)&&(o=e.alternative),l=o+ep(r,Object.assign({},e.settings.characterReferences,{subset:(o==="'"?Q0.single:Q0.double)[a][i],attribute:!0}))+o),u+(l&&"="+l))}const aNe=["<","&"];function xz(e,t,r,n){return r&&r.type==="element"&&(r.tagName==="script"||r.tagName==="style")?e.value:ep(e.value,Object.assign({},n.settings.characterReferences,{subset:aNe}))}function sNe(e,t,r,n){return n.settings.allowDangerousHtml?e.value:xz(e,t,r,n)}function iNe(e,t,r,n){return n.all(e)}const oNe=Uy("type",{invalid:lNe,unknown:cNe,handlers:{comment:LAe,doctype:OAe,element:tNe,raw:sNe,root:iNe,text:xz}});function lNe(e){throw new Error("Expected node, not `"+e+"`")}function cNe(e){const t=e;throw new Error("Cannot compile unknown node `"+t.type+"`")}const uNe={},dNe={},pNe=[];function hNe(e,t){const r=t||uNe,n=r.quote||'"',a=n==='"'?"'":'"';if(n!=='"'&&n!=="'")throw new Error("Invalid quote `"+n+"`, expected `'` or `\"`");return{one:gNe,all:mNe,settings:{omitOptionalTags:r.omitOptionalTags||!1,allowParseErrors:r.allowParseErrors||!1,allowDangerousCharacters:r.allowDangerousCharacters||!1,quoteSmart:r.quoteSmart||!1,preferUnquoted:r.preferUnquoted||!1,tightAttributes:r.tightAttributes||!1,upperDoctype:r.upperDoctype||!1,tightDoctype:r.tightDoctype||!1,bogusComments:r.bogusComments||!1,tightCommaSeparatedLists:r.tightCommaSeparatedLists||!1,tightSelfClosing:r.tightSelfClosing||!1,collapseEmptyAttributes:r.collapseEmptyAttributes||!1,allowDangerousHtml:r.allowDangerousHtml||!1,voids:r.voids||v5,characterReferences:r.characterReferences||dNe,closeSelfClosing:r.closeSelfClosing||!1,closeEmptyElements:r.closeEmptyElements||!1},schema:r.space==="svg"?Il:Np,quote:n,alternative:a}.one(Array.isArray(e)?{type:"root",children:e}:e,void 0,void 0)}function gNe(e,t,r){return oNe(e,t,r,this)}function mNe(e){const t=[],r=e&&e.children||pNe;let n=-1;for(;++n<r.length;)t[n]=this.one(r[n],n,e);return t.join("")}function fNe(e){const t=this,r={...t.data("settings"),...e};t.compiler=n;function n(a){return hNe(a,r)}}const bNe=Gw().use(gAe).use(fNe).freeze();var k4;function yNe(e){return e.replace(/[<&"]/g,t=>({"<":"&lt;",">":"&gt;","&":"&amp;",'"':"&quot;"})[t])}function xNe(e){var{prefixCls:t}=e,{markdown:r="",highlightEnable:n,dispatch:a}=C.useContext(zu),i=ir.createRef();if(C.useEffect(()=>{i.current&&a&&a({textareaPre:i.current})},[]),!r)return s.jsx("pre",{ref:i,className:t+"-text-pre wmde-markdown-color"});var o='<pre class="language-markdown '+t+'-text-pre wmde-markdown-color"><code class="language-markdown">'+yNe(String.raw(k4||(k4=OCe(["",""])),r))+`
</code></pre>`;if(n)try{o=bNe().data("settings",{fragment:!0}).use(xH,{ignoreMissing:!0}).processSync(o).toString()}catch{}return ir.createElement("div",{className:"wmde-markdown-color",dangerouslySetInnerHTML:{__html:o||""}})}var h1;function C4(e){if(e.nodeName!=="TEXTAREA")return!1;if(typeof h1>"u"){var t=document.createElement("textarea");t.value="1",h1=!!t.firstChild}return h1}function tp(e,t){if(e.focus(),document.selection){var r=document.selection.createRange();r.text=t,r.collapse(!1),r.select();return}var n=!1;if(t!==""?n=document.execCommand&&document.execCommand("insertText",!1,t):n=document.execCommand&&document.execCommand("delete",!1),!n){var a=e.selectionStart,i=e.selectionEnd;if(typeof e.setRangeText=="function")e.setRangeText(t);else{var o=document.createRange(),l=document.createTextNode(t);if(C4(e)){var u=e.firstChild;if(!u)e.appendChild(l);else{for(var d=0,h=null,g=null;u&&(h===null||g===null);){var f=u.nodeValue.length;a>=d&&a<=d+f&&o.setStart(h=u,a-d),i>=d&&i<=d+f&&o.setEnd(g=u,i-d),d+=f,u=u.nextSibling}a!==i&&o.deleteContents()}}if(C4(e)&&o.commonAncestorContainer.nodeName==="#text")o.insertNode(l);else{var b=e.value;e.value=b.slice(0,a)+t+b.slice(i)}}e.setSelectionRange(a+t.length,a+t.length);var x=document.createEvent("UIEvent");x.initEvent("input",!0,!1),e.dispatchEvent(x)}}function Ms(e){var{text:t,selection:r,prefix:n,suffix:a=n}=e,i=r;if(t&&t.length&&r.start===r.end&&(i=ENe(t,r.start)),i.start>=n.length&&i.end<=t.length-a.length){var o=t.slice(i.start-n.length,i.end+a.length);if(o.startsWith(n)&&o.endsWith(a))return{start:i.start-n.length,end:i.end+a.length}}return i}function Vg(e){var{text:t,selection:r}=e,n=t.slice(0,r.start).lastIndexOf(`
`)+1,a=t.slice(r.end).indexOf(`
`)+r.end;return a===r.end-1&&(a=t.length),{start:n,end:a}}function Ez(e,t){if(e===void 0&&(e=""),t===0)return 0;for(var r=2,n=!0,a=t-1;a>=0&&r>=0;a--)switch(e.charCodeAt(a)){case 32:continue;case 10:r--,n=!1;break;default:return r}return n?0:r}function vz(e,t){if(e===void 0&&(e=""),t===e.length-1)return 0;for(var r=2,n=!0,a=t;a<e.length&&r>=0;a++)switch(e.charCodeAt(a)){case 32:continue;case 10:{r--,n=!1;break}default:return r}return n?0:r}function ENe(e,t){if(!e)throw Error("Argument 'text' should be truthy");for(var r=l=>l===" "||l.charCodeAt(0)===10,n=0,a=e.length,i=t;i-1>-1;i--)if(r(e[i-1])){n=i;break}for(var o=t;o<e.length;o++)if(r(e[o])){a=o;break}return{start:n,end:a}}function Za(e){var{api:t,selectedText:r,selection:n,prefix:a,suffix:i=a}=e;r.length>=a.length+i.length&&r.startsWith(a)&&r.endsWith(i)?(t.replaceSelection(r.slice(a.length,i.length?-i.length:void 0)),t.setSelectionRange({start:n.start-a.length,end:n.end-a.length})):(t.replaceSelection(""+a+r+i),t.setSelectionRange({start:n.start+a.length,end:n.end+a.length}))}function JN(e,t){var r=e.split(/\n/),n=0,a=r.map((i,o)=>{if(typeof t=="string")return i.startsWith(t)?(n-=t.length,i.slice(t.length)):(n+=t.length,t+i);if(typeof t=="function"){if(i.startsWith(t(i,o)))return n-=t(i,o).length,i.slice(t(i,o).length);var l=t(i,o);return n+=l.length,t(i,o)+i}throw Error("insertion is expected to be either a string or a function")}).join(`
`);return{modifiedText:a,insertionLength:n}}var Sz={name:"bold",keyCommand:"bold",shortcuts:"ctrlcmd+b",prefix:"**",buttonProps:{"aria-label":"Add bold text (ctrl + b)",title:"Add bold text (ctrl + b)"},icon:s.jsx("svg",{role:"img",width:"12",height:"12",viewBox:"0 0 384 512",children:s.jsx("path",{fill:"currentColor",d:"M304.793 243.891c33.639-18.537 53.657-54.16 53.657-95.693 0-48.236-26.25-87.626-68.626-104.179C265.138 34.01 240.849 32 209.661 32H24c-8.837 0-16 7.163-16 16v33.049c0 8.837 7.163 16 16 16h33.113v318.53H24c-8.837 0-16 7.163-16 16V464c0 8.837 7.163 16 16 16h195.69c24.203 0 44.834-1.289 66.866-7.584C337.52 457.193 376 410.647 376 350.014c0-52.168-26.573-91.684-71.207-106.123zM142.217 100.809h67.444c16.294 0 27.536 2.019 37.525 6.717 15.828 8.479 24.906 26.502 24.906 49.446 0 35.029-20.32 56.79-53.029 56.79h-76.846V100.809zm112.642 305.475c-10.14 4.056-22.677 4.907-31.409 4.907h-81.233V281.943h84.367c39.645 0 63.057 25.38 63.057 63.057.001 28.425-13.66 52.483-34.782 61.284z"})}),execute:(e,t)=>{var r=Ms({text:e.text,selection:e.selection,prefix:e.command.prefix}),n=t.setSelectionRange(r);Za({api:t,selectedText:n.selectedText,selection:e.selection,prefix:e.command.prefix})}},eI={name:"codeBlock",keyCommand:"codeBlock",shortcuts:"ctrlcmd+shift+j",prefix:"```",buttonProps:{"aria-label":"Insert Code Block (ctrl + shift + j)",title:"Insert Code Block (ctrl + shift +j)"},icon:s.jsx("svg",{width:"13",height:"13",role:"img",viewBox:"0 0 156 156",children:s.jsx("path",{fill:"currentColor",d:"M110.85 120.575 43.7 120.483333 43.7083334 110.091667 110.85 110.191667 110.841667 120.583333 110.85 120.575ZM85.1333334 87.1916666 43.625 86.7083332 43.7083334 76.3166666 85.2083334 76.7916666 85.1333334 87.1916666 85.1333334 87.1916666ZM110.841667 53.4166666 43.7 53.3166666 43.7083334 42.925 110.85 43.025 110.841667 53.4166666ZM36 138C27.2916666 138 20.75 136.216667 16.4 132.666667 12.1333334 129.2 10 124.308333 10 118L10 95.3333332C10 91.0666666 9.25 88.1333332 7.7333334 86.5333332 6.3166668 84.8416666 3.7333334 84 0 84L0 72C3.7333334 72 6.3083334 71.2 7.7333334 69.6 9.2416668 67.9083334 10 64.9333334 10 60.6666666L10 38C10 31.775 12.1333334 26.8833334 16.4 23.3333332 20.7583334 19.7749998 27.2916666 18 36 18L40.6666668 18 40.6666668 30 36 30C34.0212222 29.9719277 32.1263151 30.7979128 30.8 32.2666666 29.3605875 33.8216362 28.5938182 35.8823287 28.6666668 38L28.6666668 60.6666666C28.6666668 67.5083332 26.6666668 72.4 22.6666668 75.3333332 20.9317416 76.7274684 18.8640675 77.6464347 16.6666668 78 18.8916668 78.35 20.8916668 79.2416666 22.6666668 80.6666666 26.6666668 83.95 28.6666668 88.8416666 28.6666668 95.3333332L28.6666668 118C28.6666668 120.308333 29.3750002 122.216667 30.8 123.733333 32.2166666 125.241667 33.9583334 126 36 126L40.6666668 126 40.6666668 138 36 138 36 138ZM114.116667 126 118.783333 126C120.833333 126 122.566667 125.241667 123.983333 123.733333 125.422746 122.178364 126.189515 120.117671 126.116667 118L126.116667 95.3333332C126.116667 88.8333332 128.116667 83.9499998 132.116667 80.6666666 133.9 79.2416666 135.9 78.35 138.116667 78 135.919156 77.6468047 133.851391 76.7277979 132.116667 75.3333332 128.116667 72.3999998 126.116667 67.5 126.116667 60.6666666L126.116667 38C126.189515 35.8823287 125.422746 33.8216361 123.983333 32.2666666 122.657018 30.7979128 120.762111 29.9719277 118.783333 30L114.116667 30 114.116667 18 118.783333 18C127.5 18 133.983333 19.775 138.25 23.3333332 142.608333 26.8833332 144.783333 31.7749998 144.783333 38L144.783333 60.6666666C144.783333 64.9333332 145.5 67.9083332 146.916667 69.6 148.433333 71.2 151.05 72 154.783333 72L154.783333 84C151.05 84 148.433333 84.8333334 146.916667 86.5333332 145.5 88.1333332 144.783333 91.0666666 144.783333 95.3333332L144.783333 118C144.783333 124.308333 142.616667 129.2 138.25 132.666667 133.983333 136.216667 127.5 138 118.783333 138L114.116667 138 114.116667 126 114.116667 126Z"})}),execute:(e,t)=>{var r=Ms({text:e.text,selection:e.selection,prefix:"```\n",suffix:"\n```"}),n=t.setSelectionRange(r),a="\n```\n",i="\n```\n";n.selectedText.length>=a.length+i.length-2&&n.selectedText.startsWith(a)&&n.selectedText.endsWith(i)?(a="```\n",i="\n```"):((n.selection.start>=1&&e.text.slice(n.selection.start-1,n.selection.start)===`
`||n.selection.start===0)&&(a="```\n"),(n.selection.end<=e.text.length-1&&e.text.slice(n.selection.end,n.selection.end+1)===`
`||n.selection.end===e.text.length)&&(i="\n```"));var o=Ms({text:e.text,selection:e.selection,prefix:a,suffix:i}),l=t.setSelectionRange(o);Za({api:t,selectedText:l.selectedText,selection:e.selection,prefix:a,suffix:i})}},Tz={name:"code",keyCommand:"code",shortcuts:"ctrlcmd+j",prefix:"`",buttonProps:{"aria-label":"Insert code (ctrl + j)",title:"Insert code (ctrl + j)"},icon:s.jsx("svg",{width:"14",height:"14",role:"img",viewBox:"0 0 640 512",children:s.jsx("path",{fill:"currentColor",d:"M278.9 511.5l-61-17.7c-6.4-1.8-10-8.5-8.2-14.9L346.2 8.7c1.8-6.4 8.5-10 14.9-8.2l61 17.7c6.4 1.8 10 8.5 8.2 14.9L293.8 503.3c-1.9 6.4-8.5 10.1-14.9 8.2zm-114-112.2l43.5-46.4c4.6-4.9 4.3-12.7-.8-17.2L117 256l90.6-79.7c5.1-4.5 5.5-12.3.8-17.2l-43.5-46.4c-4.5-4.8-12.1-5.1-17-.5L3.8 247.2c-5.1 4.7-5.1 12.8 0 17.5l144.1 135.1c4.9 4.6 12.5 4.4 17-.5zm327.2.6l144.1-135.1c5.1-4.7 5.1-12.8 0-17.5L492.1 112.1c-4.8-4.5-12.4-4.3-17 .5L431.6 159c-4.6 4.9-4.3 12.7.8 17.2L523 256l-90.6 79.7c-5.1 4.5-5.5 12.3-.8 17.2l43.5 46.4c4.5 4.9 12.1 5.1 17 .6z"})}),execute:(e,t)=>{if(e.selectedText.indexOf(`
`)===-1){var r=Ms({text:e.text,selection:e.selection,prefix:e.command.prefix}),n=t.setSelectionRange(r);Za({api:t,selectedText:n.selectedText,selection:e.selection,prefix:e.command.prefix})}else eI.execute(e,t)}},vNe={name:"comment",keyCommand:"comment",shortcuts:"ctrlcmd+/",prefix:"<!-- ",suffix:" -->",buttonProps:{"aria-label":"Insert comment (ctrl + /)",title:"Insert comment (ctrl + /)"},icon:s.jsx("svg",{height:"1em",width:"1em",viewBox:"0 0 25 25",children:s.jsxs("g",{fill:"none",fillRule:"evenodd",children:[s.jsx("polygon",{points:".769 .727 24.981 .727 24.981 24.727 .769 24.727"}),s.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"3",d:"M12.625,23.8787879 L8.125,19.6969697 L5.125,19.6969697 C2.63971863,19.6969697 0.625,17.8247059 0.625,15.5151515 L0.625,7.15151515 C0.625,4.84196074 2.63971863,2.96969697 5.125,2.96969697 L20.125,2.96969697 C22.6102814,2.96969697 24.625,4.84196074 24.625,7.15151515 L24.625,15.5151515 C24.625,17.8247059 22.6102814,19.6969697 20.125,19.6969697 L17.125,19.6969697 L12.625,23.8787879"}),s.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"3",d:"M10.625,8.54545455 L7.25,11.3333333 L10.625,14.1212121 M15.6875,8.54545455 L19.0625,11.3333333 L15.6875,14.1212121"})]})}),execute:(e,t)=>{var r=Ms({text:e.text,selection:e.selection,prefix:e.command.prefix,suffix:e.command.suffix}),n=t.setSelectionRange(r);Za({api:t,selectedText:n.selectedText,selection:e.selection,prefix:e.command.prefix,suffix:e.command.suffix})}},Uo={keyCommand:"divider"},SNe={name:"fullscreen",keyCommand:"fullscreen",shortcuts:"ctrlcmd+0",value:"fullscreen",buttonProps:{"aria-label":"Toggle fullscreen (ctrl + 0)",title:"Toggle fullscreen (ctrl+ 0)"},icon:s.jsx("svg",{width:"12",height:"12",viewBox:"0 0 520 520",children:s.jsx("path",{fill:"currentColor",d:"M118 171.133334L118 342.200271C118 353.766938 126.675 365.333605 141.133333 365.333605L382.634614 365.333605C394.201281 365.333605 405.767948 356.658605 405.767948 342.200271L405.767948 171.133334C405.767948 159.566667 397.092948 148 382.634614 148L141.133333 148C126.674999 148 117.999999 156.675 118 171.133334zM465.353591 413.444444L370 413.444444 370 471.222222 474.0221 471.222222C500.027624 471.222222 520.254143 451 520.254143 425L520.254143 321 462.464089 321 462.464089 413.444444 465.353591 413.444444zM471.0221 43L367 43 367 100.777778 462.353591 100.777778 462.353591 196.111111 520.143647 196.111111 520.143647 89.2222219C517.254144 63.2222219 497.027624 43 471.0221 43zM57.7900547 100.777778L153.143646 100.777778 153.143646 43 46.2320439 43C20.2265191 43 0 63.2222219 0 89.2222219L0 193.222222 57.7900547 193.222222 57.7900547 100.777778zM57.7900547 321L0 321 0 425C0 451 20.2265191 471.222222 46.2320439 471.222223L150.254143 471.222223 150.254143 413.444445 57.7900547 413.444445 57.7900547 321z"})}),execute:(e,t,r,n,a)=>{t.textArea.focus(),a&&r&&n&&r({fullscreen:!n.fullscreen})}};function TNe(e){if(e==null)throw new TypeError("Cannot destructure "+e)}var wz=(e,t)=>{var r=Wr({children:e,icon:s.jsx("svg",{width:"12",height:"12",viewBox:"0 0 520 520",children:s.jsx("path",{fill:"currentColor",d:"M15.7083333,468 C7.03242448,468 0,462.030833 0,454.666667 L0,421.333333 C0,413.969167 7.03242448,408 15.7083333,408 L361.291667,408 C369.967576,408 377,413.969167 377,421.333333 L377,454.666667 C377,462.030833 369.967576,468 361.291667,468 L15.7083333,468 Z M21.6666667,366 C9.69989583,366 0,359.831861 0,352.222222 L0,317.777778 C0,310.168139 9.69989583,304 21.6666667,304 L498.333333,304 C510.300104,304 520,310.168139 520,317.777778 L520,352.222222 C520,359.831861 510.300104,366 498.333333,366 L21.6666667,366 Z M136.835938,64 L136.835937,126 L107.25,126 L107.25,251 L40.75,251 L40.75,126 L-5.68434189e-14,126 L-5.68434189e-14,64 L136.835938,64 Z M212,64 L212,251 L161.648438,251 L161.648438,64 L212,64 Z M378,64 L378,126 L343.25,126 L343.25,251 L281.75,251 L281.75,126 L238,126 L238,64 L378,64 Z M449.047619,189.550781 L520,189.550781 L520,251 L405,251 L405,64 L449.047619,64 L449.047619,189.550781 Z"})}),execute:()=>{}},t,{keyCommand:"group"});return Array.isArray(r.children)&&(r.children=r.children.map(n=>{var a=Wr({},(TNe(n),n));return a.parent=r,Wr({},a)})),r},wNe={name:"hr",keyCommand:"hr",shortcuts:"ctrlcmd+h",prefix:`

---
`,suffix:"",buttonProps:{"aria-label":"Insert HR (ctrl + h)",title:"Insert HR (ctrl + h)"},icon:s.jsx("svg",{width:"12",height:"12",viewBox:"0 0 175 175",children:s.jsx("path",{fill:"currentColor",d:"M0,129 L175,129 L175,154 L0,154 L0,129 Z M3,9 L28.2158203,9 L28.2158203,47.9824219 L55.7695313,47.9824219 L55.7695313,9 L81.0966797,9 L81.0966797,107.185547 L55.7695313,107.185547 L55.7695313,68.0214844 L28.2158203,68.0214844 L28.2158203,107.185547 L3,107.185547 L3,9 Z M93.1855469,100.603516 L93.1855469,19 L135.211914,19 C143.004922,19 148.960917,19.6679621 153.080078,21.0039063 C157.199239,22.3398504 160.520495,24.8168764 163.043945,28.4350586 C165.567395,32.0532407 166.829102,36.459935 166.829102,41.6552734 C166.829102,46.1826398 165.864267,50.0883625 163.93457,53.3725586 C162.004873,56.6567547 159.351579,59.3193257 155.974609,61.3603516 C153.822255,62.6591862 150.872089,63.7353473 147.124023,64.5888672 C150.129898,65.5908253 152.319329,66.5927684 153.692383,67.5947266 C154.620122,68.2626987 155.965323,69.6913953 157.728027,71.8808594 C159.490731,74.0703234 160.668942,75.7587831 161.262695,76.9462891 L173,100.603516 L144.953125,100.603516 L131.482422,75.6660156 C129.775382,72.4374839 128.253913,70.3408251 126.917969,69.3759766 C125.0996,68.1142515 123.040051,67.4833984 120.739258,67.4833984 L118.512695,67.4833984 L118.512695,100.603516 L93.1855469,100.603516 Z M118.512695,52.0644531 L129.144531,52.0644531 C130.294928,52.0644531 132.521468,51.6933631 135.824219,50.9511719 C137.494149,50.6171858 138.857905,49.7636787 139.915527,48.390625 C140.97315,47.0175713 141.501953,45.4404386 141.501953,43.6591797 C141.501953,41.0244009 140.667001,39.0019602 138.99707,37.5917969 C137.32714,36.1816336 134.191429,35.4765625 129.589844,35.4765625 L117.512695,35.4765625 L118.512695,52.0644531 Z",transform:"translate(0 9)"})}),execute:(e,t)=>{var r=Ms({text:e.text,selection:e.selection,prefix:e.command.prefix,suffix:e.command.suffix}),n=t.setSelectionRange(r);n.selectedText.length>=e.command.prefix.length&&n.selectedText.startsWith(e.command.prefix)?Za({api:t,selectedText:n.selectedText,selection:e.selection,prefix:e.command.prefix,suffix:e.command.suffix}):(n=t.setSelectionRange({start:e.selection.start,end:e.selection.start}),Za({api:t,selectedText:n.selectedText,selection:e.selection,prefix:e.command.prefix,suffix:e.command.suffix}))}},kz={name:"image",keyCommand:"image",shortcuts:"ctrlcmd+k",prefix:"![image](",suffix:")",buttonProps:{"aria-label":"Add image (ctrl + k)",title:"Add image (ctrl + k)"},icon:s.jsx("svg",{width:"13",height:"13",viewBox:"0 0 20 20",children:s.jsx("path",{fill:"currentColor",d:"M15 9c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm4-7H1c-.55 0-1 .45-1 1v14c0 .55.45 1 1 1h18c.55 0 1-.45 1-1V3c0-.55-.45-1-1-1zm-1 13l-6-5-2 2-4-5-4 8V4h16v11z"})}),execute:(e,t)=>{var r=Ms({text:e.text,selection:e.selection,prefix:e.command.prefix,suffix:e.command.suffix}),n=t.setSelectionRange(r);n.selectedText.includes("http")||n.selectedText.includes("www")?Za({api:t,selectedText:n.selectedText,selection:e.selection,prefix:e.command.prefix,suffix:e.command.suffix}):(r=Ms({text:e.text,selection:e.selection,prefix:"![",suffix:"]()"}),n=t.setSelectionRange(r),n.selectedText.length===0?Za({api:t,selectedText:n.selectedText,selection:e.selection,prefix:"![image",suffix:"](url)"}):Za({api:t,selectedText:n.selectedText,selection:e.selection,prefix:"![",suffix:"]()"}))}},Cz={name:"italic",keyCommand:"italic",shortcuts:"ctrlcmd+i",prefix:"*",buttonProps:{"aria-label":"Add italic text (ctrl + i)",title:"Add italic text (ctrl + i)"},icon:s.jsx("svg",{"data-name":"italic",width:"12",height:"12",role:"img",viewBox:"0 0 320 512",children:s.jsx("path",{fill:"currentColor",d:"M204.758 416h-33.849l62.092-320h40.725a16 16 0 0 0 15.704-12.937l6.242-32C297.599 41.184 290.034 32 279.968 32H120.235a16 16 0 0 0-15.704 12.937l-6.242 32C96.362 86.816 103.927 96 113.993 96h33.846l-62.09 320H46.278a16 16 0 0 0-15.704 12.935l-6.245 32C22.402 470.815 29.967 480 40.034 480h158.479a16 16 0 0 0 15.704-12.935l6.245-32c1.927-9.88-5.638-19.065-15.704-19.065z"})}),execute:(e,t)=>{var r=Ms({text:e.text,selection:e.selection,prefix:e.command.prefix}),n=t.setSelectionRange(r);Za({api:t,selectedText:n.selectedText,selection:e.selection,prefix:e.command.prefix})}},_z={name:"link",keyCommand:"link",shortcuts:"ctrlcmd+l",prefix:"[",suffix:"](url)",buttonProps:{"aria-label":"Add a link (ctrl + l)",title:"Add a link (ctrl + l)"},icon:s.jsx("svg",{"data-name":"italic",width:"12",height:"12",role:"img",viewBox:"0 0 520 520",children:s.jsx("path",{fill:"currentColor",d:"M331.751196,182.121107 C392.438214,241.974735 391.605313,337.935283 332.11686,396.871226 C332.005129,396.991316 331.873084,397.121413 331.751196,397.241503 L263.493918,464.491645 C203.291404,523.80587 105.345257,523.797864 45.151885,464.491645 C-15.0506283,405.187427 -15.0506283,308.675467 45.151885,249.371249 L82.8416853,212.237562 C92.836501,202.39022 110.049118,208.9351 110.56511,222.851476 C111.223305,240.5867 114.451306,258.404985 120.407566,275.611815 C122.424812,281.438159 120.983487,287.882964 116.565047,292.23621 L103.272145,305.332975 C74.8052033,333.379887 73.9123737,379.047937 102.098973,407.369054 C130.563883,435.969378 177.350591,436.139505 206.033884,407.879434 L274.291163,340.6393 C302.9257,312.427264 302.805844,266.827265 274.291163,238.733318 C270.531934,235.036561 266.74528,232.16442 263.787465,230.157924 C259.544542,227.2873 256.928256,222.609848 256.731165,217.542518 C256.328935,206.967633 260.13184,196.070508 268.613213,187.714278 L289.998463,166.643567 C295.606326,161.118448 304.403592,160.439942 310.906317,164.911276 C318.353355,170.034591 325.328531,175.793397 331.751196,182.121107 Z M240.704978,55.4828366 L172.447607,122.733236 C172.325719,122.853326 172.193674,122.983423 172.081943,123.103513 C117.703294,179.334654 129.953294,261.569283 185.365841,328.828764 C191.044403,335.721376 198.762988,340.914712 206.209732,346.037661 C212.712465,350.509012 221.510759,349.829503 227.117615,344.305363 L248.502893,323.234572 C256.984277,314.87831 260.787188,303.981143 260.384957,293.406218 C260.187865,288.338869 257.571576,283.661398 253.328648,280.790763 C250.370829,278.78426 246.58417,275.912107 242.824936,272.215337 C214.310216,244.121282 206.209732,204.825874 229.906702,179.334654 L298.164073,112.094263 C326.847404,83.8340838 373.633159,84.0042113 402.099123,112.604645 C430.285761,140.92587 429.393946,186.594095 400.92595,214.641114 L387.63303,227.737929 C383.214584,232.091191 381.773257,238.536021 383.790506,244.362388 C389.746774,261.569283 392.974779,279.387637 393.632975,297.122928 C394.149984,311.039357 411.361608,317.584262 421.356437,307.736882 L459.046288,270.603053 C519.249898,211.29961 519.249898,114.787281 459.047304,55.4828366 C398.853851,-3.82360914 300.907572,-3.83161514 240.704978,55.4828366 Z"})}),execute:(e,t)=>{var r=Ms({text:e.text,selection:e.selection,prefix:e.command.prefix,suffix:e.command.suffix}),n=t.setSelectionRange(r);n.selectedText.includes("http")||n.selectedText.includes("www")?(r=Ms({text:e.text,selection:e.selection,prefix:"[](",suffix:")"}),n=t.setSelectionRange(r),Za({api:t,selectedText:n.selectedText,selection:e.selection,prefix:"[](",suffix:")"})):n.selectedText.length===0?Za({api:t,selectedText:n.selectedText,selection:e.selection,prefix:"[title",suffix:"](url)"}):Za({api:t,selectedText:n.selectedText,selection:e.selection,prefix:e.command.prefix,suffix:e.command.suffix})}},tI=(e,t,r)=>{var n=Ms({text:e.text,selection:e.selection,prefix:e.command.prefix}),a=t.setSelectionRange(n),i=Ez(a.text,a.selection.start),o=Array(i+1).join(`
`),l=vz(a.text,a.selection.end),u=Array(l+1).join(`
`),{modifiedText:d,insertionLength:h}=JN(a.selectedText,r);if(h<0){var g=a.selection.start,f=a.selection.end;a.selection.start>0&&e.text.slice(a.selection.start-1,a.selection.start)===`
`&&(g-=1),a.selection.end<e.text.length-1&&e.text.slice(a.selection.end,a.selection.end+1)===`
`&&(f+=1),t.setSelectionRange({start:g,end:f}),t.replaceSelection(""+d),t.setSelectionRange({start:g,end:g+d.length})}else{t.replaceSelection(""+o+d+u);var b=a.selection.start+i,x=b+d.length;t.setSelectionRange({start:b,end:x})}},Az={name:"unordered-list",keyCommand:"list",shortcuts:"ctrl+shift+u",prefix:"- ",buttonProps:{"aria-label":"Add unordered list (ctrl + shift + u)",title:"Add unordered list (ctrl + shift + u)"},icon:s.jsx("svg",{"data-name":"unordered-list",width:"12",height:"12",viewBox:"0 0 512 512",children:s.jsx("path",{fill:"currentColor",d:"M96 96c0 26.51-21.49 48-48 48S0 122.51 0 96s21.49-48 48-48 48 21.49 48 48zM48 208c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zm0 160c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zm96-236h352c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H144c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h352c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H144c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h352c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H144c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"})}),execute:(e,t)=>{tI(e,t,"- ")}},Nz={name:"ordered-list",keyCommand:"list",shortcuts:"ctrl+shift+o",prefix:"1. ",buttonProps:{"aria-label":"Add ordered list (ctrl + shift + o)",title:"Add ordered list (ctrl + shift + o)"},icon:s.jsx("svg",{"data-name":"ordered-list",width:"12",height:"12",role:"img",viewBox:"0 0 512 512",children:s.jsx("path",{fill:"currentColor",d:"M3.263 139.527c0-7.477 3.917-11.572 11.573-11.572h15.131V88.078c0-5.163.534-10.503.534-10.503h-.356s-1.779 2.67-2.848 3.738c-4.451 4.273-10.504 4.451-15.666-1.068l-5.518-6.231c-5.342-5.341-4.984-11.216.534-16.379l21.72-19.938C32.815 33.602 36.732 32 42.785 32H54.89c7.656 0 11.749 3.916 11.749 11.572v84.384h15.488c7.655 0 11.572 4.094 11.572 11.572v8.901c0 7.477-3.917 11.572-11.572 11.572H14.836c-7.656 0-11.573-4.095-11.573-11.572v-8.902zM2.211 304.591c0-47.278 50.955-56.383 50.955-69.165 0-7.18-5.954-8.755-9.28-8.755-3.153 0-6.479 1.051-9.455 3.852-5.079 4.903-10.507 7.004-16.111 2.451l-8.579-6.829c-5.779-4.553-7.18-9.805-2.803-15.409C13.592 201.981 26.025 192 47.387 192c19.437 0 44.476 10.506 44.476 39.573 0 38.347-46.753 46.402-48.679 56.909h39.049c7.529 0 11.557 4.027 11.557 11.382v8.755c0 7.354-4.028 11.382-11.557 11.382h-67.94c-7.005 0-12.083-4.028-12.083-11.382v-4.028zM5.654 454.61l5.603-9.28c3.853-6.654 9.105-7.004 15.584-3.152 4.903 2.101 9.63 3.152 14.359 3.152 10.155 0 14.358-3.502 14.358-8.23 0-6.654-5.604-9.106-15.934-9.106h-4.728c-5.954 0-9.28-2.101-12.258-7.88l-1.05-1.926c-2.451-4.728-1.226-9.806 2.801-14.884l5.604-7.004c6.829-8.405 12.257-13.483 12.257-13.483v-.35s-4.203 1.051-12.608 1.051H16.685c-7.53 0-11.383-4.028-11.383-11.382v-8.755c0-7.53 3.853-11.382 11.383-11.382h58.484c7.529 0 11.382 4.027 11.382 11.382v3.327c0 5.778-1.401 9.806-5.079 14.183l-17.509 20.137c19.611 5.078 28.716 20.487 28.716 34.845 0 21.363-14.358 44.126-48.503 44.126-16.636 0-28.192-4.728-35.896-9.455-5.779-4.202-6.304-9.805-2.626-15.934zM144 132h352c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H144c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h352c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H144c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h352c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H144c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"})}),execute:(e,t)=>{tI(e,t,(r,n)=>n+1+". ")}},Iz={name:"checked-list",keyCommand:"list",shortcuts:"ctrl+shift+c",prefix:"- [ ] ",buttonProps:{"aria-label":"Add checked list (ctrl + shift + c)",title:"Add checked list (ctrl + shift + c)"},icon:s.jsx("svg",{"data-name":"checked-list",width:"12",height:"12",role:"img",viewBox:"0 0 512 512",children:s.jsx("path",{fill:"currentColor",d:"M208 132h288c8.8 0 16-7.2 16-16V76c0-8.8-7.2-16-16-16H208c-8.8 0-16 7.2-16 16v40c0 8.8 7.2 16 16 16zm0 160h288c8.8 0 16-7.2 16-16v-40c0-8.8-7.2-16-16-16H208c-8.8 0-16 7.2-16 16v40c0 8.8 7.2 16 16 16zm0 160h288c8.8 0 16-7.2 16-16v-40c0-8.8-7.2-16-16-16H208c-8.8 0-16 7.2-16 16v40c0 8.8 7.2 16 16 16zM64 368c-26.5 0-48.6 21.5-48.6 48s22.1 48 48.6 48 48-21.5 48-48-21.5-48-48-48zm92.5-299l-72.2 72.2-15.6 15.6c-4.7 4.7-12.9 4.7-17.6 0L3.5 109.4c-4.7-4.7-4.7-12.3 0-17l15.7-15.7c4.7-4.7 12.3-4.7 17 0l22.7 22.1 63.7-63.3c4.7-4.7 12.3-4.7 17 0l17 16.5c4.6 4.7 4.6 12.3-.1 17zm0 159.6l-72.2 72.2-15.7 15.7c-4.7 4.7-12.9 4.7-17.6 0L3.5 269c-4.7-4.7-4.7-12.3 0-17l15.7-15.7c4.7-4.7 12.3-4.7 17 0l22.7 22.1 63.7-63.7c4.7-4.7 12.3-4.7 17 0l17 17c4.6 4.6 4.6 12.2-.1 16.9z"})}),execute:(e,t)=>{tI(e,t,(r,n)=>"- [ ] ")}},kNe={name:"preview",keyCommand:"preview",value:"preview",shortcuts:"ctrlcmd+9",buttonProps:{"aria-label":"Preview code (ctrl + 9)",title:"Preview code (ctrl + 9)"},icon:s.jsxs("svg",{width:"12",height:"12",viewBox:"0 0 520 520",children:[s.jsx("polygon",{fill:"currentColor",points:"0 71.293 0 122 38.023 123 38.023 398 0 397 0 449.707 91.023 450.413 91.023 72.293"}),s.jsx("polygon",{fill:"currentColor",points:"148.023 72.293 520 71.293 520 122 200.023 124 200.023 397 520 396 520 449.707 148.023 450.413"})]}),execute:(e,t,r,n,a)=>{t.textArea.focus(),a&&r&&n&&r({preview:"preview"})}},CNe={name:"edit",keyCommand:"preview",value:"edit",shortcuts:"ctrlcmd+7",buttonProps:{"aria-label":"Edit code (ctrl + 7)",title:"Edit code (ctrl + 7)"},icon:s.jsxs("svg",{width:"12",height:"12",viewBox:"0 0 520 520",children:[s.jsx("polygon",{fill:"currentColor",points:"0 71.293 0 122 319 122 319 397 0 397 0 449.707 372 449.413 372 71.293"}),s.jsx("polygon",{fill:"currentColor",points:"429 71.293 520 71.293 520 122 481 123 481 396 520 396 520 449.707 429 449.413"})]}),execute:(e,t,r,n,a)=>{t.textArea.focus(),a&&r&&n&&r({preview:"edit"})}},_Ne={name:"live",keyCommand:"preview",value:"live",shortcuts:"ctrlcmd+8",buttonProps:{"aria-label":"Live code (ctrl + 8)",title:"Live code (ctrl + 8)"},icon:s.jsxs("svg",{width:"12",height:"12",viewBox:"0 0 520 520",children:[s.jsx("polygon",{fill:"currentColor",points:"0 71.293 0 122 179 122 179 397 0 397 0 449.707 232 449.413 232 71.293"}),s.jsx("polygon",{fill:"currentColor",points:"289 71.293 520 71.293 520 122 341 123 341 396 520 396 520 449.707 289 449.413"})]}),execute:(e,t,r,n,a)=>{t.textArea.focus(),a&&r&&n&&r({preview:"live"})}},Rz={name:"quote",keyCommand:"quote",shortcuts:"ctrlcmd+q",prefix:"> ",buttonProps:{"aria-label":"Insert a quote (ctrl + q)",title:"Insert a quote (ctrl + q)"},icon:s.jsx("svg",{width:"12",height:"12",viewBox:"0 0 520 520",children:s.jsx("path",{fill:"currentColor",d:"M520,95.75 L520,225.75 C520,364.908906 457.127578,437.050625 325.040469,472.443125 C309.577578,476.586875 294.396016,464.889922 294.396016,448.881641 L294.396016,414.457031 C294.396016,404.242891 300.721328,395.025078 310.328125,391.554687 C377.356328,367.342187 414.375,349.711094 414.375,274.5 L341.25,274.5 C314.325781,274.5 292.5,252.674219 292.5,225.75 L292.5,95.75 C292.5,68.8257812 314.325781,47 341.25,47 L471.25,47 C498.174219,47 520,68.8257812 520,95.75 Z M178.75,47 L48.75,47 C21.8257813,47 0,68.8257812 0,95.75 L0,225.75 C0,252.674219 21.8257813,274.5 48.75,274.5 L121.875,274.5 C121.875,349.711094 84.8563281,367.342187 17.828125,391.554687 C8.22132813,395.025078 1.89601563,404.242891 1.89601563,414.457031 L1.89601563,448.881641 C1.89601563,464.889922 17.0775781,476.586875 32.5404687,472.443125 C164.627578,437.050625 227.5,364.908906 227.5,225.75 L227.5,95.75 C227.5,68.8257812 205.674219,47 178.75,47 Z"})}),execute:(e,t)=>{var r=Ms({text:e.text,selection:e.selection,prefix:e.command.prefix}),n=t.setSelectionRange(r),a=Ez(n.text,n.selection.start),i=Array(a+1).join(`
`),o=vz(n.text,n.selection.end),l=Array(o+1).join(`
`),u=JN(n.selectedText,e.command.prefix);t.replaceSelection(""+i+u.modifiedText+l);var d=n.selection.start+a,h=d+u.modifiedText.length;t.setSelectionRange({start:d,end:h})}},Dz={name:"strikethrough",keyCommand:"strikethrough",shortcuts:"ctrl+shift+x",buttonProps:{"aria-label":"Add strikethrough text (ctrl + shift + x)",title:"Add strikethrough text (ctrl + shift + x)"},prefix:"~~",icon:s.jsx("svg",{"data-name":"strikethrough",width:"12",height:"12",role:"img",viewBox:"0 0 512 512",children:s.jsx("path",{fill:"currentColor",d:"M496 288H16c-8.837 0-16-7.163-16-16v-32c0-8.837 7.163-16 16-16h480c8.837 0 16 7.163 16 16v32c0 8.837-7.163 16-16 16zm-214.666 16c27.258 12.937 46.524 28.683 46.524 56.243 0 33.108-28.977 53.676-75.621 53.676-32.325 0-76.874-12.08-76.874-44.271V368c0-8.837-7.164-16-16-16H113.75c-8.836 0-16 7.163-16 16v19.204c0 66.845 77.717 101.82 154.487 101.82 88.578 0 162.013-45.438 162.013-134.424 0-19.815-3.618-36.417-10.143-50.6H281.334zm-30.952-96c-32.422-13.505-56.836-28.946-56.836-59.683 0-33.92 30.901-47.406 64.962-47.406 42.647 0 64.962 16.593 64.962 32.985V136c0 8.837 7.164 16 16 16h45.613c8.836 0 16-7.163 16-16v-30.318c0-52.438-71.725-79.875-142.575-79.875-85.203 0-150.726 40.972-150.726 125.646 0 22.71 4.665 41.176 12.777 56.547h129.823z"})}),execute:(e,t)=>{var r=Ms({text:e.text,selection:e.selection,prefix:e.command.prefix}),n=t.setSelectionRange(r);Za({api:t,selectedText:n.selectedText,selection:e.selection,prefix:e.command.prefix})}},Lz={name:"heading1",keyCommand:"heading1",shortcuts:"ctrlcmd+1",prefix:"# ",suffix:"",buttonProps:{"aria-label":"Insert Heading 1 (ctrl + 1)",title:"Insert Heading 1 (ctrl + 1)"},icon:s.jsx("div",{style:{fontSize:18,textAlign:"left"},children:"Heading 1"}),execute:(e,t)=>{Vp({state:e,api:t,prefix:e.command.prefix,suffix:e.command.suffix})}},Oz=Lz;function Vp(e){var{state:t,api:r,prefix:n,suffix:a=n}=e,i=Vg({text:t.text,selection:t.selection}),o=r.setSelectionRange(i);Za({api:r,selectedText:o.selectedText,selection:t.selection,prefix:n,suffix:a})}Wr({},Lz,{icon:s.jsx("svg",{width:"12",height:"12",viewBox:"0 0 520 520",children:s.jsx("path",{fill:"currentColor",d:"M15.7083333,468 C7.03242448,468 0,462.030833 0,454.666667 L0,421.333333 C0,413.969167 7.03242448,408 15.7083333,408 L361.291667,408 C369.967576,408 377,413.969167 377,421.333333 L377,454.666667 C377,462.030833 369.967576,468 361.291667,468 L15.7083333,468 Z M21.6666667,366 C9.69989583,366 0,359.831861 0,352.222222 L0,317.777778 C0,310.168139 9.69989583,304 21.6666667,304 L498.333333,304 C510.300104,304 520,310.168139 520,317.777778 L520,352.222222 C520,359.831861 510.300104,366 498.333333,366 L21.6666667,366 Z M136.835938,64 L136.835937,126 L107.25,126 L107.25,251 L40.75,251 L40.75,126 L-5.68434189e-14,126 L-5.68434189e-14,64 L136.835938,64 Z M212,64 L212,251 L161.648438,251 L161.648438,64 L212,64 Z M378,64 L378,126 L343.25,126 L343.25,251 L281.75,251 L281.75,126 L238,126 L238,64 L378,64 Z M449.047619,189.550781 L520,189.550781 L520,251 L405,251 L405,64 L449.047619,64 L449.047619,189.550781 Z"})})});var ANe={name:"heading2",keyCommand:"heading2",shortcuts:"ctrlcmd+2",prefix:"## ",suffix:"",buttonProps:{"aria-label":"Insert Heading 2 (ctrl + 2)",title:"Insert Heading 2 (ctrl + 2)"},icon:s.jsx("div",{style:{fontSize:16,textAlign:"left"},children:"Heading 2"}),execute:(e,t)=>{Vp({state:e,api:t,prefix:e.command.prefix,suffix:e.command.suffix})}},Mz=ANe,NNe={name:"heading3",keyCommand:"heading3",shortcuts:"ctrlcmd+3",prefix:"### ",suffix:"",buttonProps:{"aria-label":"Insert Heading 3 (ctrl + 3)",title:"Insert Heading 3 (ctrl + 3)"},icon:s.jsx("div",{style:{fontSize:15,textAlign:"left"},children:"Heading 3"}),execute:(e,t)=>{Vp({state:e,api:t,prefix:e.command.prefix,suffix:e.command.suffix})}},Pz=NNe,INe={name:"heading4",keyCommand:"heading4",shortcuts:"ctrlcmd+4",prefix:"#### ",suffix:"",buttonProps:{"aria-label":"Insert Heading 4 (ctrl + 4)",title:"Insert Heading 4 (ctrl + 4)"},icon:s.jsx("div",{style:{fontSize:14,textAlign:"left"},children:"Heading 4"}),execute:(e,t)=>{Vp({state:e,api:t,prefix:e.command.prefix,suffix:e.command.suffix})}},RNe=INe,DNe={name:"heading5",keyCommand:"heading5",shortcuts:"ctrlcmd+5",prefix:"##### ",suffix:"",buttonProps:{"aria-label":"Insert Heading 5 (ctrl + 5)",title:"Insert Heading 5 (ctrl + 5)"},icon:s.jsx("div",{style:{fontSize:12,textAlign:"left"},children:"Heading 5"}),execute:(e,t)=>{Vp({state:e,api:t,prefix:e.command.prefix,suffix:e.command.suffix})}},LNe=DNe,ONe={name:"heading6",keyCommand:"heading6",shortcuts:"ctrlcmd+6",prefix:"###### ",suffix:"",buttonProps:{"aria-label":"Insert Heading 6 (ctrl + 6)",title:"Insert Heading 6 (ctrl + 6)"},icon:s.jsx("div",{style:{fontSize:12,textAlign:"left"},children:"Heading 6"}),execute:(e,t)=>{Vp({state:e,api:t,prefix:e.command.prefix,suffix:e.command.suffix})}},MNe=ONe,jz={name:"table",keyCommand:"table",prefix:`
| Header | Header |
|--------|--------|
| Cell | Cell |
| Cell | Cell |
| Cell | Cell |

`,suffix:"",buttonProps:{"aria-label":"Add table",title:"Add table"},icon:s.jsx("svg",{role:"img",width:"12",height:"12",viewBox:"0 0 512 512",children:s.jsx("path",{fill:"currentColor",d:"M64 256V160H224v96H64zm0 64H224v96H64V320zm224 96V320H448v96H288zM448 256H288V160H448v96zM64 32C28.7 32 0 60.7 0 96V416c0 35.3 28.7 64 64 64H448c35.3 0 64-28.7 64-64V96c0-35.3-28.7-64-64-64H64z"})}),execute:(e,t)=>{var r=Ms({text:e.text,selection:e.selection,prefix:e.command.prefix,suffix:e.command.suffix}),n=t.setSelectionRange(r);n.selectedText.length>=e.command.prefix.length+e.command.suffix.length&&n.selectedText.startsWith(e.command.prefix)?Za({api:t,selectedText:n.selectedText,selection:e.selection,prefix:e.command.prefix,suffix:e.command.suffix}):(n=t.setSelectionRange({start:e.selection.start,end:e.selection.start}),Za({api:t,selectedText:n.selectedText,selection:e.selection,prefix:e.command.prefix,suffix:e.command.suffix}))}},Fz={name:"help",keyCommand:"help",buttonProps:{"aria-label":"Open help",title:"Open help"},icon:s.jsx("svg",{viewBox:"0 0 16 16",width:"12px",height:"12px",children:s.jsx("path",{d:"M8 0C3.6 0 0 3.6 0 8s3.6 8 8 8 8-3.6 8-8-3.6-8-8-8Zm.9 13H7v-1.8h1.9V13Zm-.1-3.6v.5H7.1v-.6c.2-2.1 2-1.9 1.9-3.2.1-.7-.3-1.1-1-1.1-.8 0-1.2.7-1.2 1.6H5c0-1.7 1.2-3 2.9-3 2.3 0 3 1.4 3 2.3.1 2.3-1.9 2-2.1 3.5Z",fill:"currentColor"})}),execute:()=>{window.open("https://www.markdownguide.org/basic-syntax/","_blank","noreferrer")}},PNe=()=>[Sz,Cz,Dz,wNe,wz([Oz,Mz,Pz,RNe,LNe,MNe],{name:"title",groupName:"title",buttonProps:{"aria-label":"Insert title",title:"Insert title"}}),Uo,_z,Rz,Tz,eI,vNe,kz,jz,Uo,Az,Nz,Iz,Uo,Fz],jNe=()=>[CNe,_Ne,kNe,Uo,SNe];function Cy(e){var t;return{selection:{start:e.selectionStart,end:e.selectionEnd},text:e.value,selectedText:(t=e.value)==null?void 0:t.slice(e.selectionStart,e.selectionEnd)}}class rI{constructor(t){this.textArea=void 0,this.textArea=t}replaceSelection(t){return tp(this.textArea,t),Cy(this.textArea)}setSelectionRange(t){return this.textArea.focus(),this.textArea.selectionStart=t.start,this.textArea.selectionEnd=t.end,Cy(this.textArea)}}class nI{constructor(t){this.textArea=void 0,this.textApi=void 0,this.textArea=t,this.textApi=new rI(t)}getState(){return this.textArea?Cy(this.textArea):!1}executeCommand(t,r,n,a){t.execute&&t.execute(Wr({command:t},Cy(this.textArea)),this.textApi,r,n,a)}}function Tb(e){e.stopPropagation(),e.preventDefault()}function _4(e,t){Tb(e);var r=e.target,n=new rI(r),a={start:r.selectionStart,end:r.selectionEnd};if(a=Vg({text:r.value,selection:a}),!(t<0&&a.start<=0||t>0&&a.end>=r.value.length)){var i=r.value.slice(a.start,a.end);if(t<0){var o=Vg({text:r.value,selection:{start:a.start-1,end:a.start-1}}),l=r.value.slice(o.start,o.end);n.setSelectionRange({start:o.start,end:a.end}),tp(r,i+`
`+l),n.setSelectionRange({start:o.start,end:o.start+i.length})}else{var u=Vg({text:r.value,selection:{start:a.end+1,end:a.end+1}}),d=r.value.slice(u.start,u.end);n.setSelectionRange({start:a.start,end:u.end}),tp(r,d+`
`+i),n.setSelectionRange({start:u.end-i.length,end:u.end})}}}function FNe(e,t,r){t===void 0&&(t=2),r===void 0&&(r=!1);var n=e.target,a=n.value.substr(0,n.selectionStart),i=a.split(`
`),o=i[i.length-1],l=new rI(n);if(!r&&e.code&&e.code.toLowerCase()==="tab"){Tb(e);var u=new Array(t+1).join("  ");if(n.selectionStart!==n.selectionEnd){var d=n.value.substring(0,n.selectionStart).split(`
`),h=n.value.substring(0,n.selectionEnd).split(`
`),g=[];h.forEach((j,B)=>{j!==d[B]&&g.push(j)});var f=g.join(`
`),b=n.value.substring(n.selectionStart,n.selectionEnd),x=n.value.substring(0,n.selectionStart).length;l.setSelectionRange({start:n.value.indexOf(f),end:n.selectionEnd});var E=JN(f,e.shiftKey?"":u),v=E.modifiedText;e.shiftKey&&(v=v.split(`
`).map(j=>j.replace(new RegExp("^"+u),"")).join(`
`)),l.replaceSelection(v);var T=e.shiftKey?-t:t,w=e.shiftKey?-g.length*t:g.length*t;l.setSelectionRange({start:x+T,end:x+b.length+w})}else return tp(n,u)}else if(e.keyCode===13&&e.code.toLowerCase()==="enter"&&(/^(-|\*)\s/.test(o)||/^\d+.\s/.test(o))&&!e.shiftKey){Tb(e);var N=`
- `;return o.startsWith("*")&&(N=`
* `),(o.startsWith("- [ ]")||o.startsWith("- [X]")||o.startsWith("- [x]"))&&(N=`
- [ ] `),/^\d+.\s/.test(o)&&(N=`
`+(parseInt(o)+1)+". "),tp(n,N)}else if(e.code&&e.code.toLowerCase()==="keyd"&&e.ctrlKey){Tb(e);var R={start:n.selectionStart,end:n.selectionEnd},D=R;R=Vg({text:n.value,selection:R});var L=n.value.slice(R.start,R.end);l.setSelectionRange({start:R.end,end:R.end}),tp(n,`
`+L),l.setSelectionRange({start:D.start,end:D.end})}else e.code&&e.code.toLowerCase()==="arrowup"&&e.altKey?_4(e,-1):e.code&&e.code.toLowerCase()==="arrowdown"&&e.altKey&&_4(e,1)}var BNe=["prefixCls","onChange"],UNe=["markdown","commands","fullscreen","preview","highlightEnable","extraCommands","tabSize","defaultTabEnable","autoFocusEnd","textareaWarp","dispatch"];function $Ne(e){var{prefixCls:t,onChange:r}=e,n=vm(e,BNe),a=C.useContext(zu),{markdown:i,commands:o,fullscreen:l,preview:u,highlightEnable:d,extraCommands:h,tabSize:g,defaultTabEnable:f,autoFocusEnd:b,textareaWarp:x,dispatch:E}=a;vm(a,UNe);var v=ir.useRef(null),T=ir.useRef(),w=ir.useRef({fullscreen:l,preview:u});C.useEffect(()=>{w.current={fullscreen:l,preview:u,highlightEnable:d}},[l,u,d]),C.useEffect(()=>{if(v.current&&E){var R=new nI(v.current);T.current=R,E({textarea:v.current,commandOrchestrator:R})}},[]),C.useEffect(()=>{if(b&&v.current&&x){v.current.focus();var R=v.current.value.length;v.current.setSelectionRange(R,R),setTimeout(()=>{x&&(x.scrollTop=x.scrollHeight),v.current&&(v.current.scrollTop=v.current.scrollHeight)},0)}},[x]);var N=R=>{FNe(R,g,f),UH(R,[...o||[],...h||[]],T.current,E,w.current)};return C.useEffect(()=>(v.current&&v.current.addEventListener("keydown",N),()=>{v.current&&v.current.removeEventListener("keydown",N)}),[]),s.jsx("textarea",Wr({autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",spellCheck:!1},n,{ref:v,className:t+"-text-input "+(n.className?n.className:""),value:i,onChange:R=>{E&&E({markdown:R.target.value}),r&&r(R)}}))}var HNe=["prefixCls","className","onScroll","renderTextarea"];function zNe(e){var t=e||{},{prefixCls:r,className:n,onScroll:a,renderTextarea:i}=t,o=vm(t,HNe),{markdown:l,scrollTop:u,commands:d,minHeight:h,highlightEnable:g,extraCommands:f,dispatch:b}=C.useContext(zu),x=ir.useRef(null),E=ir.useRef(),v=ir.createRef();C.useEffect(()=>{var w={};v.current&&(w.textareaWarp=v.current||void 0,v.current.scrollTop=u||0),b&&b(Wr({},w))},[]),C.useEffect(()=>{if(x.current&&b){var w=new nI(x.current);E.current=w,b({textarea:x.current,commandOrchestrator:w})}},[]);var T=g?{}:{WebkitTextFillColor:"initial",overflow:"auto"};return s.jsx("div",{ref:v,className:r+"-area "+(n||""),onScroll:a,children:s.jsx("div",{className:r+"-text",style:{minHeight:h},children:i?ir.cloneElement(i(Wr({},o,{value:l,autoComplete:"off",autoCorrect:"off",spellCheck:"false",autoCapitalize:"off",className:r+"-text-input",style:{WebkitTextFillColor:"inherit",overflow:"auto"}}),{dispatch:b,onChange:o.onChange,shortcuts:UH,useContext:{commands:d,extraCommands:f,commandOrchestrator:E.current}}),{ref:x}):s.jsxs(C.Fragment,{children:[g&&s.jsx(xNe,{prefixCls:r}),s.jsx($Ne,Wr({prefixCls:r},o,{style:T}))]})})})}var GNe=e=>{var{prefixCls:t,onChange:r}=e||{},n=C.useRef(null),a=C.useRef(),i=C.useRef(e.height);C.useEffect(()=>{i.current!==e.height&&(i.current=e.height)},[e.height]);function o(h){if(a.current){var g,f=h.clientY||((g=h.changedTouches[0])==null?void 0:g.clientY),b=a.current.height+f-a.current.dragY;b>=e.minHeight&&b<=e.maxHeight&&r&&r(a.current.height+(f-a.current.dragY))}}function l(){var h,g;a.current=void 0,document.removeEventListener("mousemove",o),document.removeEventListener("mouseup",l),(h=n.current)==null||h.removeEventListener("touchmove",o),(g=n.current)==null||g.removeEventListener("touchend",l)}function u(h){var g,f,b;h.preventDefault();var x=h.clientY||((g=h.changedTouches[0])==null?void 0:g.clientY);a.current={height:i.current,dragY:x},document.addEventListener("mousemove",o),document.addEventListener("mouseup",l),(f=n.current)==null||f.addEventListener("touchmove",o,{passive:!1}),(b=n.current)==null||b.addEventListener("touchend",l,{passive:!1})}C.useEffect(()=>{if(document){var h,g;(h=n.current)==null||h.addEventListener("touchstart",u,{passive:!1}),(g=n.current)==null||g.addEventListener("mousedown",u)}return()=>{if(document){var f;(f=n.current)==null||f.removeEventListener("touchstart",u),document.removeEventListener("mousemove",o)}}},[]);var d=C.useMemo(()=>s.jsx("svg",{viewBox:"0 0 512 512",height:"100%",children:s.jsx("path",{fill:"currentColor",d:"M304 256c0 26.5-21.5 48-48 48s-48-21.5-48-48 21.5-48 48-48 48 21.5 48 48zm120-48c-26.5 0-48 21.5-48 48s21.5 48 48 48 48-21.5 48-48-21.5-48-48-48zm-336 0c-26.5 0-48 21.5-48 48s21.5 48 48 48 48-21.5 48-48-21.5-48-48-48z"})}),[]);return s.jsx("div",{className:t+"-bar",ref:n,children:d})},qNe=["prefixCls","className","value","commands","commandsFilter","direction","extraCommands","height","enableScroll","visibleDragbar","highlightEnable","preview","fullscreen","overflow","previewOptions","textareaProps","maxHeight","minHeight","autoFocus","autoFocusEnd","tabSize","defaultTabEnable","onChange","onStatistics","onHeightChange","hideToolbar","toolbarBottom","components","renderTextarea"];function WNe(e){return e===void 0&&(e={}),Object.keys(e).forEach(t=>{e[t]=!1}),e}var YNe=ir.forwardRef((e,t)=>{var r=e||{},{prefixCls:n="w-md-editor",className:a,value:i,commands:o=PNe(),commandsFilter:l,direction:u,extraCommands:d=jNe(),height:h=200,enableScroll:g=!0,visibleDragbar:f=typeof e.visiableDragbar=="boolean"?e.visiableDragbar:!0,highlightEnable:b=!0,preview:x="live",fullscreen:E=!1,overflow:v=!0,previewOptions:T={},textareaProps:w,maxHeight:N=1200,minHeight:R=100,autoFocus:D,autoFocusEnd:L=!1,tabSize:j=2,defaultTabEnable:B=!1,onChange:q,onStatistics:z,onHeightChange:K,hideToolbar:X,toolbarBottom:Q=!1,components:O,renderTextarea:H}=r,$=vm(r,qNe),Y=o.map(wt=>l?l(wt,!1):wt).filter(Boolean),V=d.map(wt=>l?l(wt,!0):wt).filter(Boolean),[ne,P]=C.useReducer(DCe,{markdown:i,preview:x,components:O,height:h,minHeight:R,highlightEnable:b,tabSize:j,defaultTabEnable:B,scrollTop:0,scrollTopPreview:0,commands:Y,extraCommands:V,fullscreen:E,barPopup:{}}),I=C.useRef(null),G=C.useRef(null),F=C.useRef(g);C.useImperativeHandle(t,()=>Wr({},ne,{container:I.current,dispatch:P})),C.useMemo(()=>F.current=g,[g]),C.useEffect(()=>{var wt={};I.current&&(wt.container=I.current||void 0),wt.markdown=i||"",wt.barPopup={},P&&P(Wr({},ne,wt))},[]);var ie=[a,"wmde-markdown-var",u?n+"-"+u:null,n,ne.preview?n+"-show-"+ne.preview:null,ne.fullscreen?n+"-fullscreen":null].filter(Boolean).join(" ").trim();C.useMemo(()=>i!==ne.markdown&&P({markdown:i||""}),[i,ne.markdown]),C.useMemo(()=>x!==ne.preview&&P({preview:x}),[x]),C.useMemo(()=>j!==ne.tabSize&&P({tabSize:j}),[j]),C.useMemo(()=>b!==ne.highlightEnable&&P({highlightEnable:b}),[b]),C.useMemo(()=>D!==ne.autoFocus&&P({autoFocus:D}),[D]),C.useMemo(()=>L!==ne.autoFocusEnd&&P({autoFocusEnd:L}),[L]),C.useMemo(()=>E!==ne.fullscreen&&P({fullscreen:E}),[E]),C.useMemo(()=>h!==ne.height&&P({height:h}),[h]),C.useMemo(()=>h!==ne.height&&K&&K(ne.height,h,ne),[h,K,ne]),C.useMemo(()=>o!==ne.commands&&P({commands:Y}),[e.commands]),C.useMemo(()=>d!==ne.extraCommands&&P({extraCommands:V}),[e.extraCommands]);var he=C.useRef(),ye=C.useRef("preview"),ge=C.useRef(!1);C.useMemo(()=>{he.current=ne.textareaWarp,ne.textareaWarp&&(ne.textareaWarp.addEventListener("mouseover",()=>{ye.current="text"}),ne.textareaWarp.addEventListener("mouseleave",()=>{ye.current="preview"}))},[ne.textareaWarp]);var pe=(wt,_t)=>{if(F.current){var jt=he.current,mt=G.current?G.current:void 0;if(ge.current||(ye.current=_t,ge.current=!0),jt&&mt){var zt=(jt.scrollHeight-jt.offsetHeight)/(mt.scrollHeight-mt.offsetHeight);wt.target===jt&&ye.current==="text"&&(mt.scrollTop=jt.scrollTop/zt),wt.target===mt&&ye.current==="preview"&&(jt.scrollTop=mt.scrollTop*zt);var ar=0;ye.current==="text"?ar=jt.scrollTop||0:ye.current==="preview"&&(ar=mt.scrollTop||0),P({scrollTop:ar})}}},Be=n+"-preview "+(T.className||""),Ee=wt=>pe(wt,"preview"),we=C.useMemo(()=>s.jsx("div",{ref:G,className:Be,children:s.jsx(jH,Wr({},T,{onScroll:Ee,source:ne.markdown||""}))}),[Be,T,ne.markdown]),Je=O?.preview&&O?.preview(ne.markdown||"",ne,P);Je&&ir.isValidElement(Je)&&(we=s.jsx("div",{className:Be,ref:G,onScroll:Ee,children:Je}));var Ke=Wr({},$.style,{height:ne.height||"100%"}),ze=()=>P({barPopup:Wr({},WNe(ne.barPopup))}),Vt=wt=>P({height:wt}),kt=wt=>{if(q&&q(wt.target.value,wt,ne),w&&w.onChange&&w.onChange(wt),ne.textarea&&ne.textarea instanceof HTMLTextAreaElement&&z){var _t=new nI(ne.textarea),jt=_t.getState()||{};z(Wr({},jt,{lineCount:wt.target.value.split(`
`).length,length:wt.target.value.length}))}};return s.jsx(zu.Provider,{value:Wr({},ne,{dispatch:P}),children:s.jsxs("div",Wr({ref:I,className:ie},$,{onClick:ze,style:Ke,children:[s.jsx(u4,{hideToolbar:X,toolbarBottom:Q,prefixCls:n,overflow:v,placement:"top"}),s.jsxs("div",{className:n+"-content",children:[/(edit|live)/.test(ne.preview||"")&&s.jsx(zNe,Wr({className:n+"-input",prefixCls:n,autoFocus:D},w,{onChange:kt,renderTextarea:O?.textarea||H,onScroll:wt=>pe(wt,"text")})),/(live|preview)/.test(ne.preview||"")&&we]}),f&&!ne.fullscreen&&s.jsx(GNe,{prefixCls:n,height:ne.height,maxHeight:N,minHeight:R,onChange:Vt}),s.jsx(u4,{hideToolbar:X,toolbarBottom:Q,prefixCls:n,overflow:v,placement:"bottom"})]}))})}),Bz=YNe;Bz.Markdown=jH;const VNe=({onSelectImage:e,onClose:t})=>{const{snippets:r}=_u(),[n,a]=C.useState(""),i=C.useMemo(()=>{const l=[];return r.forEach(u=>{const d=/!\[([^\]]*)\]\(([^)]+)\)/g;let h;for(;(h=d.exec(u.content))!==null;)l.push({url:h[2],alt:h[1]||"Image",snippetId:u.id,snippetTitle:u.title});const g=/<img[^>]+src="([^"]+)"[^>]*alt="([^"]*)"[^>]*>/gi;let f;for(;(f=g.exec(u.content))!==null;)l.push({url:f[1],alt:f[2]||"Image",snippetId:u.id,snippetTitle:u.title});const b=/<img[^>]+src="([^"]+)"(?![^>]*alt=)[^>]*>/gi;let x;for(;(x=b.exec(u.content))!==null;)l.some(v=>v.url===x[1]&&v.snippetId===u.id)||l.push({url:x[1],alt:"Image",snippetId:u.id,snippetTitle:u.title})}),l},[r]),o=C.useMemo(()=>{if(!n.trim())return i;const l=n.toLowerCase();return i.filter(u=>u.alt.toLowerCase().includes(l)||u.url.toLowerCase().includes(l)||u.snippetTitle?.toLowerCase().includes(l))},[i,n]);return s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 backdrop-blur-sm",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-2xl max-w-4xl w-full mx-4 max-h-[80vh] flex flex-col",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Select Image from Swag"}),s.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors","aria-label":"Close",children:s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),s.jsx("div",{className:"p-4 border-b border-gray-200",children:s.jsx("input",{type:"text",value:n,onChange:l=>a(l.target.value),placeholder:"Search by alt text, URL, or snippet title...",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})}),s.jsx("div",{className:"flex-1 overflow-auto p-4",children:o.length===0?s.jsx("div",{className:"text-center py-12 text-gray-500",children:n?"No images found matching your search":"No images found in Swag"}):s.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4",children:o.map((l,u)=>s.jsxs("button",{onClick:()=>e(l.url,l.alt),className:"group relative aspect-square rounded-lg overflow-hidden border-2 border-gray-200 hover:border-blue-500 transition-all focus:outline-none focus:ring-2 focus:ring-blue-500",children:[s.jsx("img",{src:l.url,alt:l.alt,className:"w-full h-full object-cover",onError:d=>{const h=d.target;h.src='data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" width="100" height="100"%3E%3Crect fill="%23ddd" width="100" height="100"/%3E%3Ctext fill="%23999" x="50%25" y="50%25" dominant-baseline="middle" text-anchor="middle"%3ENo Image%3C/text%3E%3C/svg%3E'}}),s.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-40 transition-opacity flex items-center justify-center",children:s.jsx("svg",{className:"w-8 h-8 text-white opacity-0 group-hover:opacity-100 transition-opacity",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),s.jsxs("div",{className:"absolute bottom-0 left-0 right-0 bg-black bg-opacity-70 text-white text-xs p-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[s.jsx("div",{className:"truncate font-medium",children:l.alt}),l.snippetTitle&&s.jsxs("div",{className:"truncate text-gray-300",children:["From: ",l.snippetTitle]})]})]},`${l.snippetId}-${u}`))})}),s.jsx("div",{className:"p-4 border-t border-gray-200 bg-gray-50",children:s.jsxs("div",{className:"text-sm text-gray-600",children:[o.length," image",o.length!==1?"s":""," available",n&&` (filtered from ${i.length})`]})})]})})},KNe=({value:e,onChange:t,height:r=400,placeholder:n="Enter markdown content...",preview:a="live",onImageUpload:i})=>{const[o,l]=C.useState(!1),[u,d]=C.useState(!1),[h,g]=C.useState(null);C.useEffect(()=>{const E=()=>{l(document.documentElement.classList.contains("dark"))};E();const v=new MutationObserver(E);return v.observe(document.documentElement,{attributes:!0,attributeFilter:["class"]}),()=>v.disconnect()},[]);const f={name:"image-upload",keyCommand:"image-upload",buttonProps:{"aria-label":"Upload image"},icon:s.jsx("svg",{viewBox:"0 0 1024 1024",width:"12",height:"12",children:s.jsx("path",{fill:"currentColor",d:"M716.8 921.6a51.2 51.2 0 1 1 0 102.4H307.2a51.2 51.2 0 1 1 0-102.4h409.6zM475.8016 382.1568a51.2 51.2 0 0 1 72.3968 0l144.8448 144.8448a51.2 51.2 0 0 1-72.448 72.3968L563.2 541.952V768a51.2 51.2 0 0 1-45.2096 50.8416L512 819.2a51.2 51.2 0 0 1-51.2-51.2v-226.048l-57.3952 57.4464a51.2 51.2 0 0 1-67.584 4.2496l-4.864-4.2496a51.2 51.2 0 0 1 0-72.3968zM512 0c138.6496 0 253.4912 102.144 277.1456 236.288l10.752 0.3072C924.928 242.688 1024 348.0576 1024 476.5696 1024 608.9728 918.8352 716.8 788.48 716.8a51.2 51.2 0 1 1 0-102.4l8.3456-0.256C866.2016 609.6384 921.6 550.0416 921.6 476.5696c0-76.4416-59.904-137.8816-133.12-137.8816h-97.28v-51.2C691.2 184.9856 610.6624 102.4 512 102.4S332.8 184.9856 332.8 287.488v51.2h-97.28C162.304 338.688 102.4 400.128 102.4 476.5696c0 73.4208 55.3984 133.0176 124.0576 137.8816l8.3456 0.256a51.2 51.2 0 0 1 0 102.4C104.8064 716.8 0 608.9728 0 476.5696c0-128.512 99.072-233.8816 224.1024-239.9744C247.7568 102.144 362.5984 0 512 0z"})}),execute:async(E,v)=>{if(!i){v.replaceSelection("![alt text](image-url)");return}g(v);const T=document.createElement("input");T.type="file",T.accept="image/*",T.onchange=async w=>{const N=w.target.files?.[0];if(N)try{const R=await i(N);v.replaceSelection(`![${N.name}](${R})`)}catch(R){console.error("Image upload failed:",R),v.replaceSelection("![Upload failed]()")}},T.click()}},b={name:"image-picker",keyCommand:"image-picker",buttonProps:{"aria-label":"Select image from Swag",title:"Select from Swag"},icon:s.jsxs("svg",{viewBox:"0 0 24 24",width:"12",height:"12",children:[s.jsx("path",{fill:"currentColor",d:"M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2zM8.5 13.5l2.5 3.01L14.5 12l4.5 6H5l3.5-4.5z"}),s.jsx("circle",{fill:"currentColor",cx:"8",cy:"9",r:"1.5"})]}),execute:async(E,v)=>{g(v),d(!0)}},x=(E,v)=>{h&&h.replaceSelection(`![${v}](${E})`),d(!1)};return s.jsxs("div",{"data-color-mode":o?"dark":"light",children:[s.jsx(Bz,{value:e,onChange:E=>t(E||""),height:r,preview:a,hideToolbar:!1,enableScroll:!0,textareaProps:{placeholder:n},previewOptions:{rehypePlugins:[[aF]]},commands:[wz([Oz,Mz,Pz],{name:"title",groupName:"title",buttonProps:{"aria-label":"Insert title"}}),Uo,Sz,Cz,Dz,Uo,_z,i?f:kz,b,Uo,Az,Nz,Iz,Uo,Rz,Tz,eI,Uo,jz,Uo,Fz]}),u&&s.jsx(VNe,{onSelectImage:x,onClose:()=>d(!1)})]})};function QNe(e,t){C.useEffect(()=>{const r=n=>{!e.current||e.current.contains(n.target)||t()};return document.addEventListener("mousedown",r),document.addEventListener("touchstart",r),()=>{document.removeEventListener("mousedown",r),document.removeEventListener("touchstart",r)}},[e,t])}const g1=({existingTags:e,currentTags:t,onAddTag:r,placeholder:n="Type to add tag...",className:a=""})=>{const[i,o]=C.useState(""),[l,u]=C.useState(!1),[d,h]=C.useState(0),g=C.useRef(null),f=C.useRef(null);QNe(g,()=>u(!1));const b=ir.useMemo(()=>{const D=i.toLowerCase().trim();return!e||!Array.isArray(e)?[]:D?e.filter(L=>L.toLowerCase().includes(D)&&!t.includes(L)).slice(0,10):e.filter(L=>!t.includes(L)).slice(0,10)},[i,e,t]),x=b.some(D=>D.toLowerCase()===i.toLowerCase().trim()),E=i.trim()&&!x,v=b.length+(E?1:0);C.useEffect(()=>{h(0)},[b.length,E]);const T=D=>{const L=D.trim();L&&!t.includes(L)&&(r(L),o(""),u(!1),h(0),f.current?.focus())},w=D=>{if(!l&&D.key!=="Enter"){u(!0);return}switch(D.key){case"ArrowDown":D.preventDefault(),h(L=>Math.min(L+1,v-1));break;case"ArrowUp":D.preventDefault(),h(L=>Math.max(L-1,0));break;case"Enter":D.preventDefault(),v===0?i.trim()&&T(i.trim()):d<b.length?T(b[d]):T(i.trim());break;case"Escape":D.preventDefault(),u(!1),h(0);break}},N=D=>{o(D.target.value),l||u(!0)},R=l&&(b.length>0||E);return s.jsxs("div",{ref:g,className:`relative ${a}`,children:[s.jsx("input",{ref:f,type:"text",value:i,onChange:N,onKeyDown:w,onFocus:()=>u(!0),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400",placeholder:n,autoComplete:"off"}),R&&s.jsxs("div",{className:"absolute z-10 w-full mt-1 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-lg shadow-lg max-h-60 overflow-y-auto",children:[b.map((D,L)=>s.jsxs("div",{className:`px-4 py-2 cursor-pointer flex items-center justify-between ${L===d?"bg-blue-100 dark:bg-blue-900 text-blue-900 dark:text-blue-100":"text-gray-900 dark:text-gray-100 hover:bg-gray-100 dark:hover:bg-gray-700"}`,onClick:()=>T(D),onMouseEnter:()=>h(L),children:[s.jsx("span",{className:"font-medium",children:D}),s.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 ml-2",children:"(existing)"})]},D)),E&&s.jsxs("div",{className:`px-4 py-2 cursor-pointer border-t border-gray-200 dark:border-gray-700 ${d===b.length?"bg-blue-100 dark:bg-blue-900 text-blue-900 dark:text-blue-100":"text-gray-900 dark:text-gray-100 hover:bg-gray-100 dark:hover:bg-gray-700"}`,onClick:()=>T(i.trim()),onMouseEnter:()=>h(b.length),children:[s.jsx("span",{className:"text-blue-600 dark:text-blue-400",children:"+ Create new: "}),s.jsx("span",{className:"font-medium",children:i.trim()})]}),b.length===0&&!E&&i.trim()&&s.jsxs("div",{className:"px-4 py-3 text-sm text-gray-500 dark:text-gray-400 text-center",children:['No matching tags. Press Enter to create "',i.trim(),'"']})]})]})},XNe=({allTags:e,selectedTags:t,onAdd:r,placeholder:n="Add tag...",className:a=""})=>{const[i,o]=C.useState(""),[l,u]=C.useState(!1),[d,h]=C.useState(0),g=C.useRef(null);C.useEffect(()=>{function x(E){g.current&&!g.current.contains(E.target)&&u(!1)}return l&&document.addEventListener("mousedown",x),()=>document.removeEventListener("mousedown",x)},[l]);const f=e.filter(x=>x.toLowerCase().includes(i.toLowerCase())&&!t.includes(x)).slice(0,8);function b(x){r(x),o(""),u(!1),h(0)}return s.jsxs("div",{className:`relative ${a}`,ref:g,children:[s.jsx("input",{type:"text",value:i,onChange:x=>{o(x.target.value),u(!0),h(0)},onFocus:()=>u(!0),onKeyDown:x=>{l&&(x.key==="ArrowDown"?(h(E=>Math.min(E+1,f.length-1)),x.preventDefault()):x.key==="ArrowUp"?(h(E=>Math.max(E-1,0)),x.preventDefault()):x.key==="Enter"&&f[d]&&b(f[d]))},placeholder:n,className:"w-full px-3 py-1.5 text-sm border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700 text-gray-900 dark:text-white","aria-label":"Add tag to filter"}),l&&f.length>0&&s.jsx("div",{className:"absolute z-10 left-0 right-0 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded shadow-lg mt-1 max-h-48 overflow-auto",children:f.map((x,E)=>s.jsx("div",{className:`px-3 py-2 text-sm cursor-pointer ${E===d?"bg-blue-100 dark:bg-blue-900":""}`,onMouseDown:()=>b(x),onMouseEnter:()=>h(E),children:x},x))})]})},ZNe=({isOpen:e,title:t,message:r,confirmLabel:n="Confirm",cancelLabel:a="Cancel",onConfirm:i,onCancel:o,variant:l="warning"})=>{const u=Au(e,o);if(C.useEffect(()=>{if(!e)return;const h=g=>{g.key==="Enter"?(g.preventDefault(),i()):g.key==="Escape"&&(g.preventDefault(),o())};return document.addEventListener("keydown",h),()=>document.removeEventListener("keydown",h)},[e,i,o]),!e)return null;const d={danger:"bg-red-600 hover:bg-red-700 focus:ring-red-500",warning:"bg-yellow-600 hover:bg-yellow-700 focus:ring-yellow-500",info:"bg-blue-600 hover:bg-blue-700 focus:ring-blue-500"};return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:s.jsx("div",{ref:u,className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-md w-full",role:"dialog","aria-labelledby":"confirm-dialog-title","aria-describedby":"confirm-dialog-description",children:s.jsxs("div",{className:"p-6",children:[s.jsx("h3",{id:"confirm-dialog-title",className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:t}),s.jsx("p",{id:"confirm-dialog-description",className:"text-gray-600 dark:text-gray-400 mb-6",children:r}),s.jsxs("div",{className:"flex justify-end gap-3",children:[s.jsx("button",{onClick:o,className:"px-4 py-2 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-gray-400","aria-label":a,children:a}),s.jsx("button",{onClick:i,className:`px-4 py-2 text-white rounded-lg transition-colors focus:outline-none focus:ring-2 ${d[l]}`,"aria-label":n,autoFocus:!0,children:n})]})]})})})},JNe=({isOpen:e,onClose:t,onUpload:r})=>{const[n,a]=C.useState("file"),[i,o]=C.useState(""),[l,u]=C.useState(null),[d,h]=C.useState(!1),[g,f]=C.useState(!1),[b,x]=C.useState(0),[E,v]=C.useState(null),T=C.useRef(null),{showError:w,showSuccess:N}=go();if(!e)return null;const R=[".pdf",".docx",".txt",".md",".html",".csv",".json",".png",".jpg",".jpeg",".gif",".webp"],D=O=>{try{const H=new URL(O);return H.protocol==="http:"||H.protocol==="https:"}catch{return!1}},L=O=>O.size/4/1e6*.02,j=O=>{const H="."+O.name.split(".").pop()?.toLowerCase();if(!R.includes(H)){w(`File type ${H} not supported`);return}if(O.size>10*1024*1024){w("File size exceeds 10 MB limit");return}u(O);const $=L(O);v($)},B=O=>{const H=O.target.files?.[0];H&&j(H)},q=O=>{O.preventDefault(),O.stopPropagation(),h(!0)},z=O=>{O.preventDefault(),O.stopPropagation(),h(!1)},K=O=>{O.preventDefault(),O.stopPropagation(),h(!1);const H=O.dataTransfer.files?.[0];H&&j(H)},X=async()=>{if(n==="file"&&!l){w("Please select a file");return}if(n==="url"&&!i.trim()){w("Please enter a URL");return}if(n==="url"&&!D(i)){w("Invalid URL format");return}f(!0),x(0);try{const O=setInterval(()=>{x(H=>Math.min(H+10,90))},300);n==="file"&&l?await r(l):await r(i),clearInterval(O),x(100),N("File uploaded and processed successfully"),setTimeout(()=>{u(null),o(""),v(null),x(0),f(!1),t()},500)}catch(O){console.error("Upload error:",O),w(`Upload failed: ${O instanceof Error?O.message:"Unknown error"}`),f(!1),x(0)}},Q=()=>{g||(u(null),o(""),v(null),x(0),t())};return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Upload Document"}),s.jsx("button",{onClick:Q,disabled:g,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 disabled:opacity-50",children:s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),s.jsxs("div",{className:"flex border-b border-gray-200 dark:border-gray-700",children:[s.jsx("button",{onClick:()=>a("file"),disabled:g,className:`flex-1 px-6 py-3 font-medium ${n==="file"?"text-blue-600 dark:text-blue-400 border-b-2 border-blue-600 dark:border-blue-400":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-200"} disabled:opacity-50`,children:" Upload File"}),s.jsx("button",{onClick:()=>a("url"),disabled:g,className:`flex-1 px-6 py-3 font-medium ${n==="url"?"text-blue-600 dark:text-blue-400 border-b-2 border-blue-600 dark:border-blue-400":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-200"} disabled:opacity-50`,children:" Paste URL"})]}),s.jsxs("div",{className:"p-6",children:[n==="file"?s.jsx("div",{children:s.jsxs("div",{onDragOver:q,onDragLeave:z,onDrop:K,onClick:()=>!g&&T.current?.click(),className:`
                  border-2 border-dashed rounded-lg p-8 text-center cursor-pointer
                  transition-colors duration-200
                  ${d?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":"border-gray-300 dark:border-gray-600 hover:border-blue-400 dark:hover:border-blue-500"}
                  ${g?"opacity-50 cursor-not-allowed":""}
                `,children:[s.jsx("input",{ref:T,type:"file",accept:R.join(","),onChange:B,disabled:g,className:"hidden"}),s.jsx("svg",{className:"w-12 h-12 mx-auto mb-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),l?s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white mb-1",children:l.name}),s.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:[(l.size/1024).toFixed(2)," KB"]})]}):s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Drag and drop a file here, or click to browse"}),s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Supported: PDF, DOCX, TXT, MD, HTML, CSV, JSON, Images"}),s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Max size: 10 MB"})]})]})}):s.jsx("div",{children:s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{htmlFor:"url-input",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Document URL"}),s.jsx("input",{id:"url-input",type:"url",value:i,onChange:O=>o(O.target.value),disabled:g,placeholder:"https://example.com/document.pdf",className:`
                    w-full px-4 py-2 border border-gray-300 dark:border-gray-600 
                    rounded-lg focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400
                    bg-white dark:bg-gray-700 text-gray-900 dark:text-white
                    disabled:opacity-50 disabled:cursor-not-allowed
                  `}),s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-2",children:"The document will be fetched and processed. Original URL will be preserved as the source."})]})}),E!==null&&s.jsxs("div",{className:"mt-4 p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[s.jsxs("p",{className:"text-sm text-blue-800 dark:text-blue-300",children:[s.jsx("strong",{children:"Estimated embedding cost:"})," $",E.toFixed(4)]}),s.jsx("p",{className:"text-xs text-blue-600 dark:text-blue-400 mt-1",children:"This estimate is based on file size and may vary depending on actual content."})]}),g&&s.jsxs("div",{className:"mt-4",children:[s.jsxs("div",{className:"flex justify-between text-sm text-gray-600 dark:text-gray-400 mb-2",children:[s.jsx("span",{children:"Uploading and processing..."}),s.jsxs("span",{children:[b,"%"]})]}),s.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:s.jsx("div",{className:"bg-blue-600 dark:bg-blue-400 h-2 rounded-full transition-all duration-300",style:{width:`${b}%`}})})]})]}),s.jsxs("div",{className:"flex justify-end gap-3 p-6 border-t border-gray-200 dark:border-gray-700",children:[s.jsx("button",{onClick:Q,disabled:g,className:`
              px-4 py-2 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 
              rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed
            `,children:"Cancel"}),s.jsx("button",{onClick:X,disabled:g||n==="file"&&!l||n==="url"&&!i.trim(),className:`
              px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg 
              transition-colors disabled:opacity-50 disabled:cursor-not-allowed
              font-medium
            `,children:g?"Processing...":n==="file"?"Upload":"Fetch & Process"})]})]})})},A4=32e3,eIe=1;function tIe(e){const t=JSON.stringify(e);return yx.compressToEncodedURIComponent(t)}function N4(e){try{const t=yx.decompressFromEncodedURIComponent(e);if(!t)return null;const r=JSON.parse(t);return!r.version||r.shareType!=="snippet"||!r.content?(console.error("Invalid snippet share data structure"),null):r}catch(t){return console.error("Failed to decode snippet share data:",t),null}}function rIe(e,t,r,n,a){const i={version:eIe,timestamp:Date.now(),shareType:"snippet",id:e,content:t,title:r,tags:n,sourceType:a,metadata:{compressed:!0,originalSize:t.length}},o=tIe(i);return i.metadata.compressedSize=o.length,o.length>A4&&console.warn(`Snippet share data exceeds ${A4} chars (${o.length})`),o}function nIe(e){return`${window.location.origin+window.location.pathname}#/snippet/shared?data=${e}`}function aIe(){const e=window.location.hash;if(e.includes("/snippet/shared?data=")){const n=e.match(/data=([^&]+)/);if(n)return N4(n[1])}const r=new URLSearchParams(window.location.search).get("snippet");return r?N4(r):null}const sIe=({snippetId:e,content:t,title:r,tags:n,sourceType:a,onClose:i})=>{const[o,l]=C.useState(""),[u,d]=C.useState(!1),[h,g]=C.useState(!0);C.useEffect(()=>{try{const v=rIe(e,t,r,n,a),T=nIe(v);l(T)}catch(v){console.error("Failed to generate snippet share URL:",v)}finally{g(!1)}},[e,t,r,n,a]);const f=async()=>{try{await navigator.clipboard.writeText(o),d(!0),setTimeout(()=>d(!1),2e3)}catch(v){console.error("Failed to copy to clipboard:",v)}},b=()=>{const v=r?`Check out this snippet: ${r}`:"Check out this snippet",T=`https://twitter.com/intent/tweet?text=${encodeURIComponent(v)}&url=${encodeURIComponent(o)}`;window.open(T,"_blank","width=550,height=420")},x=()=>{const v=r||"Shared Snippet",T=`https://reddit.com/submit?url=${encodeURIComponent(o)}&title=${encodeURIComponent(v)}`;window.open(T,"_blank")},E=()=>{const v=r?`Shared Snippet: ${r}`:"Shared Snippet",T=`Check out this snippet:

${o}`;window.location.href=`mailto:?subject=${encodeURIComponent(v)}&body=${encodeURIComponent(T)}`};return h?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 max-w-md w-full",children:s.jsxs("div",{className:"flex items-center justify-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),s.jsx("span",{className:"ml-3",children:"Generating share link..."})]})})}):s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:i,children:s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto",onClick:v=>v.stopPropagation(),children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Share Snippet"}),s.jsx("button",{onClick:i,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900 rounded-lg p-4 border border-gray-200 dark:border-gray-700",children:[s.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-2",children:r||"Untitled Snippet"}),n&&n.length>0&&s.jsx("div",{className:"flex gap-1 mb-2 flex-wrap",children:n.map((v,T)=>s.jsx("span",{className:"px-2 py-0.5 text-xs bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200 rounded-full",children:v},T))}),s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 line-clamp-3",children:t})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Shareable URL"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{type:"text",value:o,readOnly:!0,className:"flex-1 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white font-mono text-sm",onClick:v=>v.target.select()}),s.jsx("button",{onClick:f,className:`px-4 py-2 rounded-md font-medium transition-colors ${u?"bg-green-600 text-white":"bg-blue-600 text-white hover:bg-blue-700"}`,children:u?s.jsxs("span",{className:"flex items-center gap-2",children:[s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Copied!"]}):"Copy"})]}),s.jsxs("p",{className:"mt-2 text-xs text-gray-500 dark:text-gray-400",children:["URL length: ",o.length.toLocaleString()," characters"]})]}),s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"Scan with Mobile Device"}),s.jsx("div",{className:"p-4 bg-white rounded-lg border border-gray-200",children:s.jsx(iC,{value:o,size:200,level:"M"})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"Share On"}),s.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[s.jsxs("button",{onClick:b,className:"flex items-center justify-center gap-2 px-4 py-3 bg-[#1DA1F2] text-white rounded-md hover:bg-[#1a8cd8] transition-colors",children:[s.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M23 3a10.9 10.9 0 01-3.14 1.53 4.48 4.48 0 00-7.86 3v1A10.66 10.66 0 013 4s-4 9 5 13a11.64 11.64 0 01-7 2c9 5 20 0 20-11.5a4.5 4.5 0 00-.08-.83A7.72 7.72 0 0023 3z"})}),"Twitter"]}),s.jsxs("button",{onClick:x,className:"flex items-center justify-center gap-2 px-4 py-3 bg-[#FF4500] text-white rounded-md hover:bg-[#e03d00] transition-colors",children:[s.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M12 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0zm5.01 4.744c.688 0 1.25.561 1.25 1.249a1.25 1.25 0 0 1-2.498.056l-2.597-.547-.8 3.747c1.824.07 3.48.632 4.674 1.488.308-.309.73-.491 1.207-.491.968 0 1.754.786 1.754 1.754 0 .716-.435 1.333-1.01 1.614a3.111 3.111 0 0 1 .042.52c0 2.694-3.13 4.87-7.004 4.87-3.874 0-7.004-2.176-7.004-4.87 0-.183.015-.366.043-.534A1.748 1.748 0 0 1 4.028 12c0-.968.786-1.754 1.754-1.754.463 0 .898.196 1.207.49 1.207-.883 2.878-1.43 4.744-1.487l.885-4.182a.342.342 0 0 1 .14-.197.35.35 0 0 1 .238-.042l2.906.617a1.214 1.214 0 0 1 1.108-.701zM9.25 12C8.561 12 8 12.562 8 13.25c0 .687.561 1.248 1.25 1.248.687 0 1.248-.561 1.248-1.249 0-.688-.561-1.249-1.249-1.249zm5.5 0c-.687 0-1.248.561-1.248 1.25 0 .687.561 1.248 1.249 1.248.688 0 1.249-.561 1.249-1.249 0-.687-.562-1.249-1.25-1.249zm-5.466 3.99a.327.327 0 0 0-.231.094.33.33 0 0 0 0 .463c.842.842 2.484.913 2.961.913.477 0 2.105-.056 2.961-.913a.361.361 0 0 0 .029-.463.33.33 0 0 0-.464 0c-.547.533-1.684.73-2.512.73-.828 0-1.979-.196-2.512-.73a.326.326 0 0 0-.232-.095z"})}),"Reddit"]}),s.jsxs("button",{onClick:E,className:"flex items-center justify-center gap-2 px-4 py-3 bg-gray-600 text-white rounded-md hover:bg-gray-700 transition-colors",children:[s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),"Email"]})]})]}),s.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 space-y-1",children:[s.jsx("p",{children:" Anyone with this URL can view the snippet"}),s.jsx("p",{children:" Snippet data is compressed and encoded in the URL itself (no server storage)"}),s.jsx("p",{children:" Links never expire and work offline once loaded"}),s.jsx("p",{children:" No login required to view shared snippets"})]})]}),s.jsx("div",{className:"flex justify-end gap-3 p-6 border-t border-gray-200 dark:border-gray-700",children:s.jsx("button",{onClick:i,className:"px-4 py-2 text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 rounded-md hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",children:"Close"})})]})})};/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iIe=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),oIe=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,n)=>n?n.toUpperCase():r.toLowerCase()),I4=e=>{const t=oIe(e);return t.charAt(0).toUpperCase()+t.slice(1)},Uz=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim(),lIe=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var cIe={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uIe=C.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:i,iconNode:o,...l},u)=>C.createElement("svg",{ref:u,...cIe,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:Uz("lucide",a),...!i&&!lIe(l)&&{"aria-hidden":"true"},...l},[...o.map(([d,h])=>C.createElement(d,h)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eo=(e,t)=>{const r=C.forwardRef(({className:n,...a},i)=>C.createElement(uIe,{ref:i,iconNode:t,className:Uz(`lucide-${iIe(I4(e))}`,`lucide-${e}`,n),...a}));return r.displayName=I4(e),r};/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dIe=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],pIe=Eo("arrow-left",dIe);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hIe=[["path",{d:"M12 18V5",key:"adv99a"}],["path",{d:"M15 13a4.17 4.17 0 0 1-3-4 4.17 4.17 0 0 1-3 4",key:"1e3is1"}],["path",{d:"M17.598 6.5A3 3 0 1 0 12 5a3 3 0 1 0-5.598 1.5",key:"1gqd8o"}],["path",{d:"M17.997 5.125a4 4 0 0 1 2.526 5.77",key:"iwvgf7"}],["path",{d:"M18 18a4 4 0 0 0 2-7.464",key:"efp6ie"}],["path",{d:"M19.967 17.483A4 4 0 1 1 12 18a4 4 0 1 1-7.967-.517",key:"1gq6am"}],["path",{d:"M6 18a4 4 0 0 1-2-7.464",key:"k1g0md"}],["path",{d:"M6.003 5.125a4 4 0 0 0-2.526 5.77",key:"q97ue3"}]],eu=Eo("brain",hIe);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gIe=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],mIe=Eo("calendar",gIe);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fIe=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],R4=Eo("circle-check",fIe);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bIe=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],D4=Eo("circle-x",bIe);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yIe=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],xIe=Eo("clock",yIe);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EIe=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],vIe=Eo("rotate-ccw",EIe);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SIe=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],TIe=Eo("trash-2",SIe);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wIe=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],kIe=Eo("trending-up",wIe);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CIe=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],Sw=Eo("trophy",CIe);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _Ie=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],L4=Eo("x",_Ie);var aI={};(function e(t,r,n,a){var i=!!(t.Worker&&t.Blob&&t.Promise&&t.OffscreenCanvas&&t.OffscreenCanvasRenderingContext2D&&t.HTMLCanvasElement&&t.HTMLCanvasElement.prototype.transferControlToOffscreen&&t.URL&&t.URL.createObjectURL),o=typeof Path2D=="function"&&typeof DOMMatrix=="function",l=(function(){if(!t.OffscreenCanvas)return!1;try{var P=new OffscreenCanvas(1,1),I=P.getContext("2d");I.fillRect(0,0,1,1);var G=P.transferToImageBitmap();I.createPattern(G,"no-repeat")}catch{return!1}return!0})();function u(){}function d(P){var I=r.exports.Promise,G=I!==void 0?I:t.Promise;return typeof G=="function"?new G(P):(P(u,u),null)}var h=(function(P,I){return{transform:function(G){if(P)return G;if(I.has(G))return I.get(G);var F=new OffscreenCanvas(G.width,G.height),ie=F.getContext("2d");return ie.drawImage(G,0,0),I.set(G,F),F},clear:function(){I.clear()}}})(l,new Map),g=(function(){var P=Math.floor(16.666666666666668),I,G,F={},ie=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(I=function(he){var ye=Math.random();return F[ye]=requestAnimationFrame(function ge(pe){ie===pe||ie+P-1<pe?(ie=pe,delete F[ye],he()):F[ye]=requestAnimationFrame(ge)}),ye},G=function(he){F[he]&&cancelAnimationFrame(F[he])}):(I=function(he){return setTimeout(he,P)},G=function(he){return clearTimeout(he)}),{frame:I,cancel:G}})(),f=(function(){var P,I,G={};function F(ie){function he(ye,ge){ie.postMessage({options:ye||{},callback:ge})}ie.init=function(ge){var pe=ge.transferControlToOffscreen();ie.postMessage({canvas:pe},[pe])},ie.fire=function(ge,pe,Be){if(I)return he(ge,null),I;var Ee=Math.random().toString(36).slice(2);return I=d(function(we){function Je(Ke){Ke.data.callback===Ee&&(delete G[Ee],ie.removeEventListener("message",Je),I=null,h.clear(),Be(),we())}ie.addEventListener("message",Je),he(ge,Ee),G[Ee]=Je.bind(null,{data:{callback:Ee}})}),I},ie.reset=function(){ie.postMessage({reset:!0});for(var ge in G)G[ge](),delete G[ge]}}return function(){if(P)return P;if(!n&&i){var ie=["var CONFETTI, SIZE = {}, module = {};","("+e.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{P=new Worker(URL.createObjectURL(new Blob([ie])))}catch(he){return typeof console<"u"&&typeof console.warn=="function"&&console.warn(" Could not load worker",he),null}F(P)}return P}})(),b={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function x(P,I){return I?I(P):P}function E(P){return P!=null}function v(P,I,G){return x(P&&E(P[I])?P[I]:b[I],G)}function T(P){return P<0?0:Math.floor(P)}function w(P,I){return Math.floor(Math.random()*(I-P))+P}function N(P){return parseInt(P,16)}function R(P){return P.map(D)}function D(P){var I=String(P).replace(/[^0-9a-f]/gi,"");return I.length<6&&(I=I[0]+I[0]+I[1]+I[1]+I[2]+I[2]),{r:N(I.substring(0,2)),g:N(I.substring(2,4)),b:N(I.substring(4,6))}}function L(P){var I=v(P,"origin",Object);return I.x=v(I,"x",Number),I.y=v(I,"y",Number),I}function j(P){P.width=document.documentElement.clientWidth,P.height=document.documentElement.clientHeight}function B(P){var I=P.getBoundingClientRect();P.width=I.width,P.height=I.height}function q(P){var I=document.createElement("canvas");return I.style.position="fixed",I.style.top="0px",I.style.left="0px",I.style.pointerEvents="none",I.style.zIndex=P,I}function z(P,I,G,F,ie,he,ye,ge,pe){P.save(),P.translate(I,G),P.rotate(he),P.scale(F,ie),P.arc(0,0,1,ye,ge,pe),P.restore()}function K(P){var I=P.angle*(Math.PI/180),G=P.spread*(Math.PI/180);return{x:P.x,y:P.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:P.startVelocity*.5+Math.random()*P.startVelocity,angle2D:-I+(.5*G-Math.random()*G),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:P.color,shape:P.shape,tick:0,totalTicks:P.ticks,decay:P.decay,drift:P.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:P.gravity*3,ovalScalar:.6,scalar:P.scalar,flat:P.flat}}function X(P,I){I.x+=Math.cos(I.angle2D)*I.velocity+I.drift,I.y+=Math.sin(I.angle2D)*I.velocity+I.gravity,I.velocity*=I.decay,I.flat?(I.wobble=0,I.wobbleX=I.x+10*I.scalar,I.wobbleY=I.y+10*I.scalar,I.tiltSin=0,I.tiltCos=0,I.random=1):(I.wobble+=I.wobbleSpeed,I.wobbleX=I.x+10*I.scalar*Math.cos(I.wobble),I.wobbleY=I.y+10*I.scalar*Math.sin(I.wobble),I.tiltAngle+=.1,I.tiltSin=Math.sin(I.tiltAngle),I.tiltCos=Math.cos(I.tiltAngle),I.random=Math.random()+2);var G=I.tick++/I.totalTicks,F=I.x+I.random*I.tiltCos,ie=I.y+I.random*I.tiltSin,he=I.wobbleX+I.random*I.tiltCos,ye=I.wobbleY+I.random*I.tiltSin;if(P.fillStyle="rgba("+I.color.r+", "+I.color.g+", "+I.color.b+", "+(1-G)+")",P.beginPath(),o&&I.shape.type==="path"&&typeof I.shape.path=="string"&&Array.isArray(I.shape.matrix))P.fill(Y(I.shape.path,I.shape.matrix,I.x,I.y,Math.abs(he-F)*.1,Math.abs(ye-ie)*.1,Math.PI/10*I.wobble));else if(I.shape.type==="bitmap"){var ge=Math.PI/10*I.wobble,pe=Math.abs(he-F)*.1,Be=Math.abs(ye-ie)*.1,Ee=I.shape.bitmap.width*I.scalar,we=I.shape.bitmap.height*I.scalar,Je=new DOMMatrix([Math.cos(ge)*pe,Math.sin(ge)*pe,-Math.sin(ge)*Be,Math.cos(ge)*Be,I.x,I.y]);Je.multiplySelf(new DOMMatrix(I.shape.matrix));var Ke=P.createPattern(h.transform(I.shape.bitmap),"no-repeat");Ke.setTransform(Je),P.globalAlpha=1-G,P.fillStyle=Ke,P.fillRect(I.x-Ee/2,I.y-we/2,Ee,we),P.globalAlpha=1}else if(I.shape==="circle")P.ellipse?P.ellipse(I.x,I.y,Math.abs(he-F)*I.ovalScalar,Math.abs(ye-ie)*I.ovalScalar,Math.PI/10*I.wobble,0,2*Math.PI):z(P,I.x,I.y,Math.abs(he-F)*I.ovalScalar,Math.abs(ye-ie)*I.ovalScalar,Math.PI/10*I.wobble,0,2*Math.PI);else if(I.shape==="star")for(var ze=Math.PI/2*3,Vt=4*I.scalar,kt=8*I.scalar,wt=I.x,_t=I.y,jt=5,mt=Math.PI/jt;jt--;)wt=I.x+Math.cos(ze)*kt,_t=I.y+Math.sin(ze)*kt,P.lineTo(wt,_t),ze+=mt,wt=I.x+Math.cos(ze)*Vt,_t=I.y+Math.sin(ze)*Vt,P.lineTo(wt,_t),ze+=mt;else P.moveTo(Math.floor(I.x),Math.floor(I.y)),P.lineTo(Math.floor(I.wobbleX),Math.floor(ie)),P.lineTo(Math.floor(he),Math.floor(ye)),P.lineTo(Math.floor(F),Math.floor(I.wobbleY));return P.closePath(),P.fill(),I.tick<I.totalTicks}function Q(P,I,G,F,ie){var he=I.slice(),ye=P.getContext("2d"),ge,pe,Be=d(function(Ee){function we(){ge=pe=null,ye.clearRect(0,0,F.width,F.height),h.clear(),ie(),Ee()}function Je(){n&&!(F.width===a.width&&F.height===a.height)&&(F.width=P.width=a.width,F.height=P.height=a.height),!F.width&&!F.height&&(G(P),F.width=P.width,F.height=P.height),ye.clearRect(0,0,F.width,F.height),he=he.filter(function(Ke){return X(ye,Ke)}),he.length?ge=g.frame(Je):we()}ge=g.frame(Je),pe=we});return{addFettis:function(Ee){return he=he.concat(Ee),Be},canvas:P,promise:Be,reset:function(){ge&&g.cancel(ge),pe&&pe()}}}function O(P,I){var G=!P,F=!!v(I||{},"resize"),ie=!1,he=v(I,"disableForReducedMotion",Boolean),ye=i&&!!v(I||{},"useWorker"),ge=ye?f():null,pe=G?j:B,Be=P&&ge?!!P.__confetti_initialized:!1,Ee=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,we;function Je(ze,Vt,kt){for(var wt=v(ze,"particleCount",T),_t=v(ze,"angle",Number),jt=v(ze,"spread",Number),mt=v(ze,"startVelocity",Number),zt=v(ze,"decay",Number),ar=v(ze,"gravity",Number),kr=v(ze,"drift",Number),dr=v(ze,"colors",R),Jt=v(ze,"ticks",Number),le=v(ze,"shapes"),se=v(ze,"scalar"),Ce=!!v(ze,"flat"),De=L(ze),dt=wt,lt=[],qt=P.width*De.x,Ft=P.height*De.y;dt--;)lt.push(K({x:qt,y:Ft,angle:_t,spread:jt,startVelocity:mt,color:dr[dt%dr.length],shape:le[w(0,le.length)],ticks:Jt,decay:zt,gravity:ar,drift:kr,scalar:se,flat:Ce}));return we?we.addFettis(lt):(we=Q(P,lt,pe,Vt,kt),we.promise)}function Ke(ze){var Vt=he||v(ze,"disableForReducedMotion",Boolean),kt=v(ze,"zIndex",Number);if(Vt&&Ee)return d(function(mt){mt()});G&&we?P=we.canvas:G&&!P&&(P=q(kt),document.body.appendChild(P)),F&&!Be&&pe(P);var wt={width:P.width,height:P.height};ge&&!Be&&ge.init(P),Be=!0,ge&&(P.__confetti_initialized=!0);function _t(){if(ge){var mt={getBoundingClientRect:function(){if(!G)return P.getBoundingClientRect()}};pe(mt),ge.postMessage({resize:{width:mt.width,height:mt.height}});return}wt.width=wt.height=null}function jt(){we=null,F&&(ie=!1,t.removeEventListener("resize",_t)),G&&P&&(document.body.contains(P)&&document.body.removeChild(P),P=null,Be=!1)}return F&&!ie&&(ie=!0,t.addEventListener("resize",_t,!1)),ge?ge.fire(ze,wt,jt):Je(ze,wt,jt)}return Ke.reset=function(){ge&&ge.reset(),we&&we.reset()},Ke}var H;function $(){return H||(H=O(null,{useWorker:!0,resize:!0})),H}function Y(P,I,G,F,ie,he,ye){var ge=new Path2D(P),pe=new Path2D;pe.addPath(ge,new DOMMatrix(I));var Be=new Path2D;return Be.addPath(pe,new DOMMatrix([Math.cos(ye)*ie,Math.sin(ye)*ie,-Math.sin(ye)*he,Math.cos(ye)*he,G,F])),Be}function V(P){if(!o)throw new Error("path confetti are not supported in this browser");var I,G;typeof P=="string"?I=P:(I=P.path,G=P.matrix);var F=new Path2D(I),ie=document.createElement("canvas"),he=ie.getContext("2d");if(!G){for(var ye=1e3,ge=ye,pe=ye,Be=0,Ee=0,we,Je,Ke=0;Ke<ye;Ke+=2)for(var ze=0;ze<ye;ze+=2)he.isPointInPath(F,Ke,ze,"nonzero")&&(ge=Math.min(ge,Ke),pe=Math.min(pe,ze),Be=Math.max(Be,Ke),Ee=Math.max(Ee,ze));we=Be-ge,Je=Ee-pe;var Vt=10,kt=Math.min(Vt/we,Vt/Je);G=[kt,0,0,kt,-Math.round(we/2+ge)*kt,-Math.round(Je/2+pe)*kt]}return{type:"path",path:I,matrix:G}}function ne(P){var I,G=1,F="#000000",ie='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof P=="string"?I=P:(I=P.text,G="scalar"in P?P.scalar:G,ie="fontFamily"in P?P.fontFamily:ie,F="color"in P?P.color:F);var he=10*G,ye=""+he+"px "+ie,ge=new OffscreenCanvas(he,he),pe=ge.getContext("2d");pe.font=ye;var Be=pe.measureText(I),Ee=Math.ceil(Be.actualBoundingBoxRight+Be.actualBoundingBoxLeft),we=Math.ceil(Be.actualBoundingBoxAscent+Be.actualBoundingBoxDescent),Je=2,Ke=Be.actualBoundingBoxLeft+Je,ze=Be.actualBoundingBoxAscent+Je;Ee+=Je+Je,we+=Je+Je,ge=new OffscreenCanvas(Ee,we),pe=ge.getContext("2d"),pe.font=ye,pe.fillStyle=F,pe.fillText(I,Ke,ze);var Vt=1/G;return{type:"bitmap",bitmap:ge.transferToImageBitmap(),matrix:[Vt,0,0,Vt,-Ee*Vt/2,-we*Vt/2]}}r.exports=function(){return $().apply(this,arguments)},r.exports.reset=function(){$().reset()},r.exports.create=O,r.exports.shapeFromPath=V,r.exports.shapeFromText=ne})((function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}})(),aI,!1);const AIe=aI.exports;aI.exports.create;const NIe=({quiz:e,onClose:t,onComplete:r})=>{const[n,a]=C.useState(0),[i,o]=C.useState(null),[l,u]=C.useState("question"),[d,h]=C.useState(0),[g,f]=C.useState([]),b=e.questions[n],x=n+1,E=e.questions.length,v=D=>{if(l!=="question")return;o(D);const L=D===b.answerId;L&&h(d+1),f([...g,{questionId:b.id,questionPrompt:b.prompt,selectedChoiceId:D,correctChoiceId:b.answerId,correct:L,explanation:b.explanation||""}]),u("answered")},T=()=>{n<e.questions.length-1?(a(n+1),o(null),u("question")):(u("completed"),d/e.questions.length*100>=70&&AIe({particleCount:100,spread:70,origin:{y:.6}}),r&&r(d,e.questions.length,g))},w=()=>{a(0),o(null),u("question"),h(0),f([])},N=D=>{const L="w-full p-4 text-left rounded-lg border-2 transition-all duration-200";if(l==="question")return`${L} border-gray-300 hover:border-blue-400 hover:bg-blue-50 cursor-pointer`;const j=i===D.id,B=D.id===b.answerId;return B?`${L} border-green-500 bg-green-50 text-green-900`:j&&!B?`${L} border-red-500 bg-red-50 text-red-900`:`${L} border-gray-300 bg-gray-50 text-gray-500 cursor-not-allowed`},R=D=>{if(l==="question")return null;const L=i===D.id,j=D.id===b.answerId;return j?s.jsx(R4,{className:"w-5 h-5 text-green-600"}):L&&!j?s.jsx(D4,{className:"w-5 h-5 text-red-600"}):null};if(l==="completed"){const D=Math.round(d/e.questions.length*100),L=D>=70;return s.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 max-w-2xl mx-auto",children:[s.jsxs("div",{className:"flex justify-between items-start mb-6",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Sw,{className:`w-8 h-8 ${L?"text-yellow-500":"text-gray-400"}`}),s.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Quiz Complete!"})]}),s.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 rounded-full transition-colors","aria-label":"Close quiz",children:s.jsx(L4,{className:"w-5 h-5 text-gray-600"})})]}),s.jsxs("div",{className:"text-center mb-8",children:[s.jsxs("div",{className:`text-6xl font-bold mb-2 ${L?"text-green-600":"text-orange-600"}`,children:[D,"%"]}),s.jsxs("div",{className:"text-xl text-gray-600 mb-4",children:[d," out of ",e.questions.length," correct"]}),s.jsx("div",{className:`text-lg font-semibold ${L?"text-green-600":"text-orange-600"}`,children:L?" Great job!":" Keep practicing!"})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Review"}),s.jsx("div",{className:"space-y-2",children:g.map((j,B)=>s.jsxs("div",{className:`flex items-center gap-3 p-3 rounded-lg ${j.correct?"bg-green-50":"bg-red-50"}`,children:[j.correct?s.jsx(R4,{className:"w-5 h-5 text-green-600 flex-shrink-0"}):s.jsx(D4,{className:"w-5 h-5 text-red-600 flex-shrink-0"}),s.jsxs("span",{className:"text-sm text-gray-700",children:["Question ",B+1]})]},j.questionId))})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsxs("button",{onClick:w,className:"flex-1 flex items-center justify-center gap-2 py-3 px-4 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium",children:[s.jsx(vIe,{className:"w-4 h-4"}),"Retake Quiz"]}),s.jsx("button",{onClick:t,className:"flex-1 py-3 px-4 bg-gray-200 text-gray-800 rounded-lg hover:bg-gray-300 transition-colors font-medium",children:"Close"})]})]})}return s.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 max-w-2xl mx-auto",children:[s.jsxs("div",{className:"flex justify-between items-start mb-6",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(eu,{className:"w-6 h-6 text-blue-600"}),s.jsx("h2",{className:"text-xl font-bold text-gray-800",children:e.title})]}),s.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600",children:[s.jsxs("span",{className:"font-medium",children:["Question ",x," of ",E]}),s.jsxs("span",{children:["Score: ",d,"/",E]})]})]}),s.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 rounded-full transition-colors","aria-label":"Close quiz",children:s.jsx(L4,{className:"w-5 h-5 text-gray-600"})})]}),s.jsx("div",{className:"mb-6",children:s.jsx("div",{className:"h-2 bg-gray-200 rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-blue-600 transition-all duration-300",style:{width:`${x/E*100}%`}})})}),s.jsxs("div",{className:"mb-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:b.prompt}),s.jsx("div",{className:"space-y-3",children:b.choices.map(D=>s.jsx("button",{onClick:()=>v(D.id),disabled:l!=="question",className:N(D),children:s.jsxs("div",{className:"flex items-center justify-between gap-3",children:[s.jsx("span",{className:"flex-1 text-left",children:D.text}),R(D)]})},D.id))})]}),l==="answered"&&b.explanation&&s.jsxs("div",{className:"mb-6 p-4 bg-blue-50 border-l-4 border-blue-500 rounded",children:[s.jsx("h4",{className:"font-semibold text-blue-900 mb-1",children:"Explanation"}),s.jsx("p",{className:"text-blue-800 text-sm",children:b.explanation})]}),s.jsxs("div",{className:"flex gap-3",children:[l==="answered"&&s.jsx("button",{onClick:T,className:"flex-1 py-3 px-4 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium",children:n<e.questions.length-1?"Next Question ":"Finish Quiz"}),s.jsx("button",{onClick:t,className:"py-3 px-4 bg-gray-200 text-gray-800 rounded-lg hover:bg-gray-300 transition-colors font-medium",children:"Quit"})]})]})};function IIe(e){const t=[];let r=0;for(const n of e){const a=n.content||"";if(a.startsWith("data:image/")){r++,t.push({id:`${n.id}-img-${r}`,url:a,name:n.title||`Image ${r}`,tags:n.tags||[],snippetId:n.id,format:sI(a)});continue}if(a.includes("<img")){const i=RIe(a,n,r);t.push(...i),r+=i.length}if(a.includes("![")){const i=DIe(a,n,r);t.push(...i),r+=i.length}}return t}function RIe(e,t,r){const n=[];return new DOMParser().parseFromString(e,"text/html").querySelectorAll("img").forEach((l,u)=>{const d=l.src||l.getAttribute("src");if(!d||d.includes("placeholder")||d.length<10)return;const h=l.alt||l.getAttribute("alt")||"",g=l.width||parseInt(l.getAttribute("width")||"0"),f=l.height||parseInt(l.getAttribute("height")||"0");n.push({id:`${t.id}-html-${r+u+1}`,url:d,name:h||`${t.title||"Image"} - ${u+1}`,tags:t.tags||[],snippetId:t.id,width:g||void 0,height:f||void 0,format:sI(d)})}),n}function DIe(e,t,r){const n=[],a=/!\[([^\]]*)\]\(([^)\s]+)(?:\s+"([^"]*)")?\)/g;let i,o=0;for(;(i=a.exec(e))!==null;){const l=i[1]||"",u=i[2],d=i[3]||"";!u||u.includes("placeholder")||u.length<10||(n.push({id:`${t.id}-md-${r+o+1}`,url:u,name:d||l||`${t.title||"Image"} - ${o+1}`,tags:t.tags||[],snippetId:t.id,format:sI(u)}),o++)}return n}function sI(e){if(e.startsWith("data:image/")){const r=e.match(/data:image\/([a-z]+);/);return r?r[1].toUpperCase():void 0}const t=e.match(/\.([a-z]{3,4})(?:\?|$)/i);return t?t[1].toUpperCase():void 0}function LIe(e){const t=e.content||"";return!!(t.startsWith("data:image/")||t.includes("<img")||t.includes("!["))}const OIe="quiz_statistics",MIe=1,ls="statistics";class PIe{db=null;initPromise=null;async init(){return this.initPromise?this.initPromise:(this.initPromise=new Promise((t,r)=>{if(!window.indexedDB){console.warn("IndexedDB not supported"),r(new Error("IndexedDB not supported"));return}const n=indexedDB.open(OIe,MIe);n.onerror=()=>{console.error("Failed to open quiz database:",n.error),r(n.error)},n.onsuccess=()=>{this.db=n.result,console.log(" Quiz database initialized"),t()},n.onupgradeneeded=a=>{const i=a.target.result;if(!i.objectStoreNames.contains(ls)){const o=i.createObjectStore(ls,{keyPath:"id"});o.createIndex("completedAt","completedAt",{unique:!1}),o.createIndex("score","score",{unique:!1}),o.createIndex("percentage","percentage",{unique:!1}),o.createIndex("synced","synced",{unique:!1}),console.log(" Quiz statistics store created")}}}),this.initPromise)}generateUUID(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const r=Math.random()*16|0;return(t==="x"?r:r&3|8).toString(16)})}async saveQuizStatistic(t){if(await this.init(),!this.db)throw new Error("Database not initialized");const r=this.generateUUID(),n=Math.round(t.score/t.totalQuestions*100),a={...t,id:r,synced:!1,percentage:n};return new Promise((i,o)=>{const d=this.db.transaction([ls],"readwrite").objectStore(ls).add(a);d.onsuccess=()=>{console.log(" Quiz statistic saved:",r),i(r)},d.onerror=()=>{console.error("Failed to save quiz statistic:",d.error),o(d.error)}})}async getQuizStatistics(t){if(await this.init(),!this.db)throw new Error("Database not initialized");return new Promise((r,n)=>{const l=this.db.transaction([ls],"readonly").objectStore(ls).index("completedAt").openCursor(null,"prev"),u=[];l.onsuccess=()=>{const d=l.result;d&&(!t||u.length<t)?(u.push(d.value),d.continue()):r(u)},l.onerror=()=>{console.error("Failed to get quiz statistics:",l.error),n(l.error)}})}async getQuizStatistic(t){if(await this.init(),!this.db)throw new Error("Database not initialized");return new Promise((r,n)=>{const o=this.db.transaction([ls],"readonly").objectStore(ls).get(t);o.onsuccess=()=>{r(o.result||null)},o.onerror=()=>{console.error("Failed to get quiz statistic:",o.error),n(o.error)}})}async deleteQuizStatistic(t){if(await this.init(),!this.db)throw new Error("Database not initialized");return new Promise((r,n)=>{const o=this.db.transaction([ls],"readwrite").objectStore(ls).delete(t);o.onsuccess=()=>{console.log(" Quiz statistic deleted:",t),r()},o.onerror=()=>{console.error("Failed to delete quiz statistic:",o.error),n(o.error)}})}async markAsSynced(t){if(await this.init(),!this.db)throw new Error("Database not initialized");return new Promise((r,n)=>{const i=this.db.transaction([ls],"readwrite").objectStore(ls);let o=0,l=!1;for(const u of t){const d=i.get(u);d.onsuccess=()=>{const h=d.result;if(h){h.synced=!0;const g=i.put(h);g.onsuccess=()=>{o++,o===t.length&&!l&&(console.log(` Marked ${t.length} quiz statistics as synced`),r())},g.onerror=()=>{l||(l=!0,n(g.error))}}else o++,o===t.length&&!l&&r()},d.onerror=()=>{l||(l=!0,n(d.error))}}})}async getUnsyncedStatistics(){if(await this.init(),!this.db)throw new Error("Database not initialized");return new Promise((t,r)=>{const o=this.db.transaction([ls],"readonly").objectStore(ls).index("synced").openCursor(IDBKeyRange.only(!1)),l=[];o.onsuccess=()=>{const u=o.result;u?(l.push(u.value),u.continue()):t(l)},o.onerror=()=>{console.error("Failed to get unsynced statistics:",o.error),r(o.error)}})}async getStatisticsSummary(){const t=await this.getQuizStatistics();if(t.length===0)return{totalQuizzes:0,averageScore:0,averagePercentage:0,highestScore:0,lowestScore:0,totalQuestionsAnswered:0,totalCorrectAnswers:0};const r=t.reduce((o,l)=>o+l.score,0),n=t.reduce((o,l)=>o+l.totalQuestions,0),a=t.reduce((o,l)=>o+l.score,0),i=t.map(o=>o.percentage);return{totalQuizzes:t.length,averageScore:r/t.length,averagePercentage:i.reduce((o,l)=>o+l,0)/t.length,highestScore:Math.max(...i),lowestScore:Math.min(...i),totalQuestionsAnswered:n,totalCorrectAnswers:a}}async clearAllStatistics(){if(await this.init(),!this.db)throw new Error("Database not initialized");return new Promise((t,r)=>{const i=this.db.transaction([ls],"readwrite").objectStore(ls).clear();i.onsuccess=()=>{console.log(" All quiz statistics cleared"),t()},i.onerror=()=>{console.error("Failed to clear quiz statistics:",i.error),r(i.error)}})}}const rp=new PIe;async function jIe(e,t){try{const r=await rp.getQuizStatistic(e);if(!r)return console.error("Quiz statistic not found:",e),!1;if(r.synced)return console.log("Quiz statistic already synced:",e),!0;const n=await ta(),a=await fetch(`${n}/quiz/sync-statistics`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify({statistics:[r]}),credentials:"include"});return a.ok?(await rp.markAsSynced([e]),console.log(" Quiz statistic synced:",e),!0):(console.error("Failed to sync quiz statistic:",await a.text()),!1)}catch(r){return console.error("Error syncing quiz statistic:",r),!1}}class FIe extends C.Component{constructor(t){super(t),this.state={hasError:!1,error:null}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,r){console.error("ErrorBoundary caught an error:",t,r),this.props.onError?.(t,r)}handleReset=()=>{this.setState({hasError:!1,error:null})};render(){return this.state.hasError?this.props.fallback?this.props.fallback:s.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center p-4",children:s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg p-8 max-w-md w-full",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-red-600 dark:text-red-400 mb-4",children:s.jsx("svg",{className:"w-16 h-16 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),s.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2",children:"Something went wrong"}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:this.state.error?.message||"An unexpected error occurred"}),s.jsx("button",{onClick:this.handleReset,className:"px-4 py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg transition-colors",children:"Try Again"})]})})}):this.props.children}}const BIe=()=>{const e=ni(),t=Gi(),{showSuccess:r,showError:n,showWarning:a}=go(),{getToken:i}=Ps(),{settings:o}=mo(),l=de=>{e("/image-editor",{state:{images:[de],editingSnippetId:H?.id}})},{snippets:u,addSnippet:d,updateSnippet:h,deleteSnippets:g,mergeSnippets:f,toggleSelection:b,selectAll:x,selectNone:E,getSelectedSnippets:v,getAllTags:T,addTagsToSnippets:w,removeTagsFromSnippets:N,getEmbeddingDetails:R,generateEmbeddings:D}=_u(),{isAvailable:L,isConnected:j,castSnippet:B,sendSnippetScrollPosition:q,isCastingSnippet:z}=Am(),{state:K,stop:X}=Dy(),[Q,O]=C.useState(()=>{try{const de=localStorage.getItem("swag-google-docs-cache");if(de)return JSON.parse(de)}catch(de){console.error("Failed to load Google Docs cache:",de)}return[]}),[H,$]=C.useState(null),[Y,V]=C.useState(null),[ne,P]=C.useState(""),[I,G]=C.useState(""),[F,ie]=C.useState([]),[he,ye]=C.useState(""),[ge,pe]=C.useState(!1),[Be,Ee]=C.useState(!1),[we,Je]=C.useState("add"),[Ke,ze]=C.useState([]),[Vt,kt]=C.useState(""),[wt,_t]=C.useState(""),[jt,mt]=C.useState([]),[zt,ar]=C.useState(!1),[kr,dr]=C.useState(!1),[Jt,le]=C.useState("text"),[se,Ce]=C.useState([]),[De,dt]=C.useState(!1),[lt,qt]=C.useState(!1),[Ft,Ct]=C.useState(!1),[je,it]=C.useState(null),[mr,Ut]=C.useState(!1),[Qr,Mt]=C.useState(null),[nn,Bn]=C.useState(!1),[Xr,be]=C.useState(0),[Ue,et]=C.useState(!1),[Ht,Ar]=C.useState(null),[Ur,It]=C.useState(!1),[At,er]=C.useState(null),[fn,Nr]=C.useState(null),[Gn,xs]=C.useState(!1),[lr,fa]=C.useState({}),[en,cn]=C.useState(()=>{try{const de=localStorage.getItem("swag-recent-tags");return de?JSON.parse(de):[]}catch{return[]}});C.useEffect(()=>{localStorage.setItem("swag-recent-tags",JSON.stringify(en.slice(0,10)))},[en]);function Ba(de){cn(Se=>[de,...Se.filter($e=>$e!==de)].slice(0,10))}C.useEffect(()=>{const de=()=>{const Nt=localStorage.getItem("rag_config");if(Nt)try{fa(JSON.parse(Nt))}catch(pr){console.error("Failed to parse RAG config:",pr)}};de();const Se=Nt=>{Nt.key==="rag_config"&&de()};window.addEventListener("storage",Se);const $e=()=>{de()};return window.addEventListener("rag_config_updated",$e),()=>{window.removeEventListener("storage",Se),window.removeEventListener("rag_config_updated",$e)}},[]);const[ba,ns]=C.useState(null),[as,Es]=C.useState(null);C.useEffect(()=>{const de=t.state;if(de?.editingSnippetId){const Se=u.find($e=>$e.id===de.editingSnippetId);Se&&($(Se),P(Se.content),G(Se.title||""),ie(Se.tags||[])),e("/swag",{replace:!0,state:{}})}},[t.state,u,e]);const[Pt,ve]=C.useState({}),[nt,Dt]=C.useState(!1),[Fr,yn]=C.useState("grid"),[Sr,ra]=C.useState("date-new"),[xn,wn]=C.useState(null),ct=C.useRef(null),Rt=C.useRef(null);C.useEffect(()=>{L6().catch(console.error),Q.length===0&&!kr&&Er()},[]),C.useEffect(()=>{(async()=>{if(u.length===0)return;console.log(" Checking embedding status for",u.length,"snippets");const Se={};for(const $e of u)try{const Nt=await R($e.id);Se[$e.id]=Nt.hasEmbedding;const pr=$e.title||"Untitled";console.log(`  Snippet "${pr.substring(0,30)}": ${Nt.hasEmbedding?" indexed":" not indexed"}`)}catch(Nt){console.error(`Failed to check embedding for snippet ${$e.id}:`,Nt)}console.log(" Embedding status loaded:",Object.keys(Se).length,"snippets checked"),ve(Se)})()},[u,R]),C.useEffect(()=>{Y&&j&&!z&&(console.log("Auto-casting snippet to Chromecast:",Y.title),B({id:Y.id,content:Y.content,title:Y.title,tags:Y.tags,created:new Date(Y.timestamp),modified:Y.updateDate?new Date(Y.updateDate):new Date(Y.timestamp)}))},[Y,j,z,B]),C.useEffect(()=>{Jt==="vector"&&wt.trim()&&!lt&&!De&&(console.log("Auto-running vector search on mode switch"),Si())},[Jt]),C.useEffect(()=>{const de=Se=>{const $e=Se.target;if($e.tagName==="INPUT"||$e.tagName==="TEXTAREA"||$e.isContentEditable){Se.key==="Escape"&&($e.blur(),Jt==="text"?kt(""):(_t(""),Ce([]),qt(!1)));return}(Se.ctrlKey||Se.metaKey)&&Se.key==="k"&&(Se.preventDefault(),Rt.current?.focus()),(Se.ctrlKey||Se.metaKey)&&Se.key==="f"&&(Se.preventDefault(),le(Nt=>Nt==="text"?"vector":"text"),r(`Switched to ${Jt==="text"?"Vector":"Text"} search mode`)),Se.key==="Delete"&&v().length>0&&(Se.preventDefault(),Pn("delete")),(Se.ctrlKey||Se.metaKey)&&Se.key==="t"&&v().length>0&&(Se.preventDefault(),Ee(!0),Je("add"),ze([])),(Se.ctrlKey||Se.metaKey)&&Se.key==="m"&&v().length>1&&(Se.preventDefault(),Pn("merge")),(Se.ctrlKey||Se.metaKey)&&Se.key==="i"&&v().length>0&&(Se.preventDefault(),Pn("generate-embeddings")),(Se.ctrlKey||Se.metaKey)&&Se.key==="q"&&v().length>0&&(Se.preventDefault(),Pn("generate-quiz"))};return window.addEventListener("keydown",de),()=>window.removeEventListener("keydown",de)},[Jt,Vt,wt,v]);const Er=async(de=!1)=>{if(!(kr&&!de))try{ar(!0);const Se=await aX();O(Se),dr(!0);try{localStorage.setItem("swag-google-docs-cache",JSON.stringify(Se))}catch($e){console.error("Failed to cache Google Docs:",$e)}}catch(Se){console.error("Failed to load Google Docs:",Se),n("Failed to load Google Docs. Please try again.")}finally{ar(!1)}},Rr=async()=>{if(!he.trim()){a("Please enter a document name");return}try{ar(!0);const de=await lX(he),Se=[de,...Q];O(Se);try{localStorage.setItem("swag-google-docs-cache",JSON.stringify(Se))}catch($e){console.error("Failed to update Google Docs cache:",$e)}ye(""),pe(!1),r(`Document "${de.name}" created successfully in Research Agent folder!`)}catch(de){console.error("Failed to create document:",de),n("Failed to create document. Please grant permissions and try again.")}finally{ar(!1)}},Mn=async de=>{const Se=v();if(Se.length===0){a("No snippets selected");return}try{ar(!0);const $e=Se.map(Nt=>{let pr="";if(Nt.title&&(pr+=`# ${Nt.title}

`),sw(Nt.content)){const Ir=q$(Nt.content);Ir!==null?pr+=JSON.stringify(Ir,null,2):pr+=Nt.content}else pr+=Nt.content;return pr+=`

---
Source: ${Nt.sourceType} | ${new Date(Nt.timestamp).toLocaleString()}`,pr}).join(`

`);await sX(de,$e),E(),r(`${Se.length} snippet(s) appended to document successfully!`)}catch($e){console.error("Failed to append to document:",$e),n("Failed to append to document. Please try again.")}finally{ar(!1)}},Pn=async de=>{console.log(" handleBulkOperation called with:",de);const Se=v();if(de.startsWith("append-")){const $e=de.substring(7);await Mn($e);return}switch(de){case"new-doc":pe(!0);break;case"append":Q.length===0&&await Er(!0);break;case"merge":if(Se.length===0){a("No snippets selected");return}if(Se.length<2){a("Select at least 2 snippets to combine");return}f(Se.map($e=>$e.id)),E(),r(`${Se.length} snippets combined`);break;case"delete":if(Se.length===0){a("No snippets selected");return}confirm(`Delete ${Se.length} snippet(s)?`)&&(g(Se.map($e=>$e.id)),r(`${Se.length} snippet(s) deleted`));break;case"generate-embeddings":console.log(" Generate embeddings case triggered"),await ya();break;case"force-embeddings":console.log(" Force re-embed case triggered"),await ya(!0);break;case"tag":if(Se.length===0){a("No snippets selected");return}Je("add"),ze([]),Ee(!0);break;case"untag":if(Se.length===0){a("No snippets selected");return}Je("remove"),ze([]),Ee(!0);break;case"tag-all":x(),setTimeout(()=>{Je("add"),ze([]),Ee(!0)},100);break;case"untag-all":x(),setTimeout(()=>{Je("remove"),ze([]),Ee(!0)},100);break;case"generate-quiz":if(console.log(" Generate quiz case triggered"),Se.length===0){a("No snippets selected");return}await Aa();break;default:console.warn(" Unknown operation:",de)}},ya=async(de=!1)=>{const Se=v();if(Se.length===0){a("No snippets selected");return}try{Ct(!0),it({current:0,total:Se.length});const $e=await D(Se.map(pr=>pr.id),(pr,Ir)=>{it({current:pr,total:Ir})},de);E();const Nt={};for(const pr of Se){const Ir=await R(pr.id);Nt[pr.id]=Ir.hasEmbedding}ve(pr=>({...pr,...Nt})),$e.embedded>0||$e.skipped>0?r(` Added to index: ${$e.embedded}   Skipped: ${$e.skipped}${$e.failed>0?`   Failed: ${$e.failed}`:""}`):a("No items were added to search index")}catch($e){console.error("Embedding error:",$e),n($e instanceof Error?$e.message:"Failed to add to search index")}finally{Ct(!1),it(null)}},Aa=async()=>{const de=v();if(de.length===0){a("No snippets selected");return}try{xs(!0);const Se=await i();if(!Se){n("Authentication required. Please sign in.");return}const $e=o.providers.filter(Xe=>Xe.enabled===!0);if($e.length===0){n("No LLM providers enabled. Please enable at least one provider in Settings.");return}const Nt=de.map(Xe=>`## ${Xe.title}

${Xe.content}`).join(`

`);if(Nt.trim().length===0){a("Selected snippets are empty. Please select snippets with content.");return}console.log(` Generating quiz from ${de.length} snippet(s), ${Nt.length} characters`);const pr=!0,Ir=Date.now(),un=await N6(Nt,pr,$e,Se);console.log(" Quiz generated:",un.title),Nr({snippetIds:de.map(Xe=>Xe.id),startTime:Ir,enrichment:pr}),er(un),It(!0)}catch(Se){console.error("Quiz generation error:",Se),n(Se instanceof Error?Se.message:"Failed to generate quiz")}finally{xs(!1)}},an=async(de,Se)=>{try{ar(!0);const $e=de.length+Se.length;let Nt=0;Mt({current:0,total:$e,status:"Starting..."});const pr=50*1024*1024,Ir=10*1024*1024,un="http://localhost:3000",Xe=de.filter(Bt=>Bt.size>pr);if(Xe.length>0){const Bt=Xe.map(Kt=>`${Kt.name} (${(Kt.size/1024/1024).toFixed(1)}MB)`).join(", ");n(`Files too large (max 50MB): ${Bt}`),ar(!1),Mt(null);return}const Lt=de.filter(Bt=>Bt.size>Ir&&Bt.size<=pr);if(Lt.length>0){const Bt=Lt.map(Kt=>`${Kt.name} (${(Kt.size/1024/1024).toFixed(1)}MB)`).join(", ");a(`Large files detected - processing may be slow: ${Bt}`)}for(const Bt of de){Mt({current:Nt,total:$e,status:`Converting ${Bt.name}...`});try{let Kt;const Br=Bt.name.split(".").pop()?.toLowerCase();if(["pdf","docx","doc","png","jpg","jpeg","gif","webp","html","htm"].includes(Br||"")){const sa=new FormData;sa.append("file",Bt);const Na=await fetch(`${un}/convert-to-markdown`,{method:"POST",body:sa});if(!Na.ok){const Ss=await Na.text();throw console.error(`Conversion failed for ${Bt.name}:`,Ss),new Error(`Server error (${Na.status}): ${Ss.substring(0,100)}`)}let Mr=await Na.json();if(console.log(` Received response for ${Bt.name}:`,{hasBody:!!Mr.body,bodyType:typeof Mr.body,hasMarkdown:!!Mr.markdown,hasContent:!!Mr.content,resultKeys:Object.keys(Mr),bodyPreview:typeof Mr.body=="string"?Mr.body.substring(0,200):Mr.body}),Mr.body&&typeof Mr.body=="string")try{console.log(` Parsing nested body JSON for ${Bt.name}...`),Mr=JSON.parse(Mr.body),console.log(" Parsed body, keys:",Object.keys(Mr)),console.log(" Parsed body content:",{hasMarkdown:!!Mr.markdown,hasContent:!!Mr.content,markdownType:typeof Mr.markdown,contentType:typeof Mr.content,markdownValue:Mr.markdown,contentValue:Mr.content})}catch(Ss){console.error("Failed to parse response body:",Ss)}if(console.log(` Final result for ${Bt.name}:`,{hasMarkdown:!!Mr.markdown,hasContent:!!Mr.content,markdownLength:Mr.markdown?.length||0,contentLength:Mr.content?.length||0,markdownPreview:Mr.markdown?Mr.markdown.substring(0,100):"(none)",contentPreview:Mr.content?Mr.content.substring(0,100):"(none)"}),!Mr.markdown&&!Mr.content)throw console.error(" No markdown or content in result:",JSON.stringify(Mr,null,2)),new Error("No content returned from conversion - PDF may be empty or image-based");if(Kt=Mr.markdown||Mr.content,!Kt||Kt.trim().length===0)throw console.error(" Markdown content is empty:",{markdownContent:Kt,type:typeof Kt,length:Kt?.length}),new Error("Converted content is empty - PDF may contain only images")}else Kt=await Bt.text();await d(Kt,"user",Bt.name)}catch(Kt){console.error(`Failed to process ${Bt.name}:`,Kt);const Br=Kt instanceof Error?Kt.message:"Unknown error";a(`Could not process ${Bt.name}: ${Br}`)}Nt++}for(const Bt of Se){Mt({current:Nt,total:$e,status:`Fetching ${Bt}...`});try{const Kt=await fetch(`${un}/convert-to-markdown`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({url:Bt})});if(!Kt.ok)throw new Error(`Failed to fetch ${Bt}`);let Br=await Kt.json();if(Br.body&&typeof Br.body=="string")try{Br=JSON.parse(Br.body)}catch(Na){console.error("Failed to parse response body:",Na)}const sa=Br.markdown||Br.content;if(!sa||sa.trim().length===0)throw new Error("No content extracted from URL");await d(sa,"user",Bt)}catch(Kt){console.error(`Failed to fetch ${Bt}:`,Kt),a(`Could not fetch ${Bt}`)}Nt++}Mt({current:$e,total:$e,status:"Complete!"}),r(`Successfully added ${de.length} file(s) and ${Se.length} URL(s) as snippets`),Ut(!1)}catch($e){console.error("Upload error:",$e),n($e instanceof Error?$e.message:"Upload failed")}finally{ar(!1),Mt(null)}},En=async de=>{typeof de=="string"?await an([],[de]):await an([de],[])},Yi=de=>{de.preventDefault(),de.stopPropagation(),be(Se=>Se+1),de.dataTransfer.items&&de.dataTransfer.items.length>0&&Bn(!0)},Vi=de=>{de.preventDefault(),de.stopPropagation(),be(Se=>{const $e=Se-1;return $e===0&&Bn(!1),$e})},si=de=>{de.preventDefault(),de.stopPropagation()},Ki=async de=>{de.preventDefault(),de.stopPropagation(),Bn(!1),be(0);const Se=Array.from(de.dataTransfer.files);Se.length>0&&(console.log(` Dropped ${Se.length} file(s)`),await an(Se,[]))},vo=()=>{if(we==="filter"){mt(Ke),Ee(!1),ze([]);return}const de=v();if(de.length===0||Ke.length===0){a("Please select tags");return}we==="add"?(w(de.map(Se=>Se.id),Ke),r(`Added ${Ke.length} tag(s) to ${de.length} snippet(s)`)):(N(de.map(Se=>Se.id),Ke),r(`Removed ${Ke.length} tag(s) from ${de.length} snippet(s)`)),Ee(!1),ze([])},ua=de=>{$(de),P(de.content),G(de.title||""),ie(de.tags||[])},ii=async()=>{const de=await d("","user","New Snippet");de&&ua(de)},vs=async()=>{H&&(await h(H.id,{content:ne,title:I.trim()||void 0,tags:F.length>0?F:void 0}),jt.length>0&&(jt.every(Se=>F.includes(Se))||a("This snippet is now hidden by current filters.")),$(null))},Si=async()=>{if(!(!wt.trim()||Jt!=="vector")){dt(!0);try{let de;const Se=await As.getCachedQueryEmbedding(wt.trim());if(Se)console.log(" Using cached query embedding"),de=Se.embedding;else{console.log(" Fetching new query embedding from backend");const un=await ta(),Xe=await i();console.log(" Using API URL for embed-query:",un);const Lt=await fetch(`${un}/rag/embed-query`,{method:"POST",headers:{"Content-Type":"application/json",...Xe?{Authorization:`Bearer ${Xe}`}:{}},body:JSON.stringify({query:wt})});if(!Lt.ok)throw new Error(`Backend error: ${Lt.status}`);de=(await Lt.json()).embedding;const Br=JSON.parse(localStorage.getItem("rag_config")||"{}").embeddingModel||"text-embedding-3-small";await As.cacheQueryEmbedding(wt.trim(),de,Br),console.log(" Cached query embedding for future use")}const Nt=JSON.parse(localStorage.getItem("rag_config")||"{}").similarityThreshold??.3;console.log(` Vector search with threshold: ${Nt}, query: "${wt}"`);const pr=await As.getAllChunks();if(console.log(` Total chunks in IndexedDB: ${pr.length}`),pr.length===0){a('No embeddings found in database. Generate embeddings first using "Add to Search Index".'),Ce([]),qt(!0);return}const Ir=await As.vectorSearch(de,10,Nt);console.log(" Vector search results:",{resultsCount:Ir.length,threshold:Nt,scores:Ir.map(un=>un.score.toFixed(3)),snippetIds:Ir.map(un=>un.snippet_id)}),Ce(Ir),qt(!0),Ir.length===0?a(`No similar content found with threshold ${Nt}. Try lowering the threshold in RAG settings or generate more embeddings.`):r(`Found ${Ir.length} similar chunks (scores: ${Ir[0].score.toFixed(3)}-${Ir[Ir.length-1].score.toFixed(3)})`)}catch(de){console.error("Vector search error:",de),n("Failed to perform vector search. Make sure embeddings are generated.")}finally{dt(!1)}}},Kn=de=>{switch(de){case"user":return"bg-blue-500";case"assistant":return"bg-green-500";case"tool":return"bg-purple-500";default:return"bg-gray-500"}},So=(()=>{if(Jt==="vector"){if(console.log(" Vector search mode active",{hasRunVectorSearch:lt,vectorSearchResultsCount:se.length,snippetsCount:u.length}),!lt)return console.log(" No vector search run yet, showing empty"),[];if(se.length===0)return console.log(" Vector search returned no results"),[];const de=new Map;console.log(" Processing vector search results:",se.map($e=>({snippet_id:$e.snippet_id,score:$e.score,chunk_id:$e.chunk_id})));for(const $e of se){const Nt=u.find(Ir=>Ir.id===$e.snippet_id);if(!Nt){console.warn(" Snippet not found for ID:",$e.snippet_id,"Available IDs:",u.map(Ir=>Ir.id).slice(0,5));continue}if(jt.length>0&&(!Nt.tags||Nt.tags.length===0||!jt.every(un=>Nt.tags?.includes(un))))continue;const pr=de.get($e.snippet_id);(!pr||$e.score>pr.score)&&de.set($e.snippet_id,{snippet:Nt,score:$e.score})}const Se=Array.from(de.values()).map(({snippet:$e,score:Nt})=>({...$e,_searchScore:Nt})).sort(($e,Nt)=>Nt._searchScore-$e._searchScore);return console.log(" Returning vector search results:",Se.length,"snippets"),Se}return u.filter(de=>{if(Vt.trim()){const Se=Vt.toLowerCase(),$e=de.content.toLowerCase().includes(Se),Nt=de.title?.toLowerCase().includes(Se);if(!$e&&!Nt)return!1}return!(jt.length>0&&(!de.tags||de.tags.length===0||!jt.every($e=>de.tags?.includes($e))))})})(),Qi=(()=>{const de=[...So];switch(Sr){case"date-new":return de.sort((Se,$e)=>($e.updateDate||$e.timestamp)-(Se.updateDate||Se.timestamp));case"date-old":return de.sort((Se,$e)=>(Se.updateDate||Se.timestamp)-($e.updateDate||$e.timestamp));case"title-az":return de.sort((Se,$e)=>{const Nt=(Se.title||"").toLowerCase(),pr=($e.title||"").toLowerCase();return Nt.localeCompare(pr)});case"title-za":return de.sort((Se,$e)=>{const Nt=(Se.title||"").toLowerCase();return($e.title||"").toLowerCase().localeCompare(Nt)});case"size":return de.sort((Se,$e)=>$e.content.length-Se.content.length);default:return de}})(),rr=Object.values(Pt).filter(Boolean).length;return s.jsxs("div",{className:"h-screen flex flex-col bg-gray-50 dark:bg-gray-900 relative",onDragEnter:Yi,onDragLeave:Vi,onDragOver:si,onDrop:Ki,children:[nn&&s.jsx("div",{className:"absolute inset-0 bg-blue-500/20 backdrop-blur-sm z-40 flex items-center justify-center pointer-events-none",children:s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-2xl p-8 border-4 border-dashed border-blue-500 dark:border-blue-400",children:s.jsxs("div",{className:"flex flex-col items-center gap-4",children:[s.jsx("svg",{className:"w-16 h-16 text-blue-500 dark:text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Drop Documents Here"}),s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-2",children:"Upload files to add them as snippets"})]})]})})}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 px-4 py-2",children:[s.jsxs("div",{className:"flex items-center justify-between gap-4 mb-2",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("h1",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"Swag"}),s.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:[u.length," snippet",u.length!==1?"s":""]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("button",{onClick:ii,className:"p-2 md:px-3 md:py-1.5 text-sm bg-green-600 text-white rounded hover:bg-green-700 transition-colors flex items-center gap-2",title:"Create a new blank snippet","aria-label":"New Snippet",children:[s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),s.jsx("span",{className:"hidden md:inline",children:"New Snippet"})]}),s.jsxs("button",{onClick:()=>Ut(!0),className:"p-2 md:px-3 md:py-1.5 text-sm bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors flex items-center gap-2",title:"Upload documents as snippets (auto-embeds if enabled)","aria-label":"Upload Documents",children:[s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),s.jsx("span",{className:"hidden md:inline",children:"Upload Documents"})]}),u.length>0&&s.jsxs("div",{className:"flex gap-1 bg-gray-100 dark:bg-gray-700 rounded p-1",children:[s.jsx("button",{onClick:()=>yn("grid"),className:`px-3 py-1.5 text-xs rounded transition-colors ${Fr==="grid"?"bg-white dark:bg-gray-800 text-blue-600 font-medium shadow-sm":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-200"}`,title:"Grid view",children:s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"})})}),s.jsx("button",{onClick:()=>yn("list"),className:`px-3 py-1.5 text-xs rounded transition-colors ${Fr==="list"?"bg-white dark:bg-gray-800 text-blue-600 font-medium shadow-sm":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-200"}`,title:"List view",children:s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})]}),u.length>0&&s.jsxs("select",{value:Sr,onChange:de=>ra(de.target.value),className:"px-3 py-1.5 text-xs border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700 text-gray-900 dark:text-white",title:"Sort snippets",children:[s.jsx("option",{value:"date-new",children:" Newest First"}),s.jsx("option",{value:"date-old",children:" Oldest First"}),s.jsx("option",{value:"title-az",children:" Title A-Z"}),s.jsx("option",{value:"title-za",children:" Title Z-A"}),s.jsx("option",{value:"size",children:" By Size"})]}),u.length>0&&s.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Search Index:"}),s.jsx("div",{className:"w-32 h-2 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-green-500 transition-all duration-300",style:{width:`${u.length>0?rr/u.length*100:0}%`}})}),s.jsxs("span",{className:"text-gray-600 dark:text-gray-400 font-medium",children:[rr,"/",u.length]})]})]})]}),u.length>0&&s.jsxs("div",{children:[jt.length>0&&s.jsxs("div",{className:"flex items-center gap-2 flex-wrap mb-2",children:[s.jsx("span",{className:"text-xs font-medium text-gray-600 dark:text-gray-400",children:"Filtering:"}),jt.map(de=>s.jsxs("button",{onClick:()=>mt(jt.filter(Se=>Se!==de)),className:"px-2 py-0.5 text-xs rounded-full bg-blue-600 text-white hover:bg-blue-700 transition-colors flex items-center gap-1",children:[de,s.jsx("span",{children:""})]},de)),s.jsx("button",{onClick:()=>mt([]),className:"text-xs text-blue-600 dark:text-blue-400 hover:underline",children:"Clear"})]}),s.jsxs("div",{className:"flex gap-2 items-start max-w-2xl",children:[s.jsxs("div",{className:"flex gap-1 bg-gray-100 dark:bg-gray-700 rounded p-1 flex-shrink-0",children:[s.jsx("button",{onClick:()=>{le("text")},className:`px-3 py-1.5 text-sm rounded transition-colors ${Jt==="text"?"bg-white dark:bg-gray-800 text-blue-600 font-medium shadow-sm":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-200"}`,children:"Text"}),s.jsx("button",{onClick:()=>{le("vector")},className:`px-3 py-1.5 text-sm rounded transition-colors ${Jt==="vector"?"bg-white dark:bg-gray-800 text-blue-600 font-medium shadow-sm":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-200"}`,title:"Semantic search using embeddings",children:" Vector"})]}),s.jsxs("div",{className:"flex gap-2 items-center flex-1",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx("input",{type:"text",value:Jt==="text"?Vt:wt,onChange:de=>{Jt==="text"?kt(de.target.value):_t(de.target.value)},onKeyDown:de=>{de.key==="Enter"&&Jt==="vector"&&Si()},placeholder:Jt==="vector"?"Semantic search...":"Search snippets...",className:"w-full px-3 py-1.5 pl-8 text-sm border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700 text-gray-900 dark:text-white"}),s.jsx("svg",{className:"w-4 h-4 absolute left-2.5 top-2 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),(Jt==="text"?Vt:wt)&&s.jsx("button",{onClick:()=>{Jt==="text"?kt(""):(_t(""),Ce([]),qt(!1))},className:"absolute right-2.5 top-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-200",children:s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),Jt==="vector"&&s.jsx("button",{onClick:Si,disabled:De||!wt.trim(),className:"px-4 py-1.5 bg-blue-600 text-white rounded hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed text-sm font-medium transition-colors flex-shrink-0",children:De?"Searching...":"Search"})]})]}),s.jsxs("div",{className:"mt-3 flex flex-wrap gap-2 items-center",children:[s.jsx("span",{className:"text-xs font-medium text-gray-600 dark:text-gray-400",children:"Filter by tag:"}),s.jsx("span",{className:"hidden md:flex gap-1",children:en.filter(de=>T().includes(de)).slice(0,5).map(de=>{const Se=jt.includes(de);return s.jsx("button",{onClick:()=>{mt(Se?jt.filter($e=>$e!==de):[...jt,de]),Ba(de)},className:`px-3 py-1 rounded-full text-xs font-medium transition-all ${Se?"bg-blue-600 text-white shadow-md hover:bg-blue-700":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-600"}`,title:`${Se?"Remove":"Add"} tag filter`,children:de},de)})}),s.jsx("div",{className:"flex-1 min-w-[180px] max-w-xs",children:s.jsx(XNe,{allTags:T(),selectedTags:jt,onAdd:de=>{mt([...jt,de]),Ba(de)},placeholder:"Add tag to filter..."})})]})]}),u.length>0&&v().length>0&&!Y&&!H&&s.jsx("div",{className:"mt-2 flex items-center justify-end",children:s.jsxs("span",{className:"text-xs text-gray-600 dark:text-gray-400 font-medium",children:[v().length," selected"]})})]}),je&&s.jsxs("div",{className:"mx-6 mb-4 p-4 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-700 rounded-lg",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:" Adding to Search Index..."}),s.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:[je.current," / ",je.total]})]}),s.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2.5",children:s.jsx("div",{className:"bg-blue-600 h-2.5 rounded-full transition-all duration-300",style:{width:`${je.current/je.total*100}%`}})}),s.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-2",children:"This may take a moment. Embeddings enable semantic search over your snippets."})]}),s.jsx("div",{className:"flex-1 overflow-y-auto p-6 pb-32 min-h-0",children:u.length===0?s.jsxs("div",{className:"text-center py-16 px-4",children:[s.jsx("svg",{className:"w-20 h-20 mx-auto mb-6 text-gray-300 dark:text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 8h14M5 8a2 2 0 110-4h14a2 2 0 110 4M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8m-9 4h4"})}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-3",children:"No Content Snippets Yet"}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-8 max-w-md mx-auto",children:"Start building your knowledge base by capturing content from conversations, documents, or creating new snippets."}),s.jsxs("div",{className:"flex gap-3 justify-center flex-wrap",children:[s.jsxs("button",{onClick:ii,className:"px-5 py-2.5 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center gap-2 shadow-md",children:[s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Create New Snippet"]}),s.jsxs("button",{onClick:()=>Ut(!0),className:"px-5 py-2.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-md",children:[s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),"Upload Documents"]})]}),s.jsxs("div",{className:"mt-8 pt-8 border-t border-gray-200 dark:border-gray-700",children:[s.jsx("h3",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-3",children:" Quick Tips"}),s.jsxs("ul",{className:"text-sm text-gray-600 dark:text-gray-400 space-y-2 max-w-lg mx-auto text-left",children:[s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-green-600 dark:text-green-400 mt-0.5",children:""}),s.jsxs("span",{children:["Use the ",s.jsx("strong",{children:"grab button"})," in chat to save messages as snippets"]})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-green-600 dark:text-green-400 mt-0.5",children:""}),s.jsx("span",{children:"Upload documents to automatically create searchable snippets"})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-green-600 dark:text-green-400 mt-0.5",children:""}),s.jsxs("span",{children:["Add snippets to the ",s.jsx("strong",{children:"Search Index"})," for semantic search"]})]})]})]})]}):So.length===0?s.jsxs("div",{className:"text-center py-12 text-gray-500 dark:text-gray-400",children:[s.jsx("svg",{className:"w-16 h-16 mx-auto mb-4 opacity-50",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),s.jsx("p",{className:"text-lg",children:"No matching snippets"}),s.jsx("p",{className:"text-sm mt-2",children:"Try adjusting your search or tag filters"})]}):Fr==="grid"?s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Qi.map(de=>s.jsxs("div",{className:`relative bg-white dark:bg-gray-800 rounded-lg shadow-sm border-2 transition-all ${de.selected?"border-blue-500 ring-2 ring-blue-200 dark:ring-blue-800":"border-gray-200 dark:border-gray-700"}`,children:[s.jsx("div",{className:"absolute top-2 left-2",children:s.jsx("input",{type:"checkbox",checked:de.selected||!1,onChange:()=>b(de.id),className:"w-5 h-5 rounded border-gray-300 text-blue-600 focus:ring-blue-500 cursor-pointer"})}),L&&s.jsx("div",{className:"absolute top-2 right-2",children:s.jsx("button",{onClick:()=>{B({id:de.id,content:de.content,title:de.title,tags:de.tags,created:new Date(de.timestamp),modified:de.updateDate?new Date(de.updateDate):new Date(de.timestamp)}),r(`Casting snippet to ${j?"TV":"Chromecast"}`)},className:"p-2 text-sm bg-purple-600 text-white rounded-full hover:bg-purple-700 transition-colors shadow-md",title:"Cast to TV",children:s.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M1 18v3h3c0-1.66-1.34-3-3-3zm0-4v2c2.76 0 5 2.24 5 5h2c0-3.87-3.13-7-7-7zm0-4v2c4.97 0 9 4.03 9 9h2c0-6.08-4.93-11-11-11zm20-7H3c-1.1 0-2 .9-2 2v3h2V5h18v14h-7v2h7c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"})})})}),s.jsxs("div",{className:"p-4 pt-10",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2 flex-wrap",children:[s.jsx("span",{className:`px-2 py-1 text-xs rounded-full text-white ${Kn(de.sourceType)}`,children:de.sourceType}),s.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:new Date(de.timestamp).toLocaleString()}),"_searchScore"in de&&s.jsxs("span",{className:"px-2 py-1 text-xs rounded-full bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-200 font-medium",children:[" ",de._searchScore.toFixed(3)]})]}),de.title&&s.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-2",children:de.title}),s.jsx("div",{className:"mb-2",children:s.jsxs("div",{className:"flex flex-wrap items-center gap-1.5",children:[(de.tags||[]).map((Se,$e)=>s.jsxs("span",{className:"group px-2 py-0.5 text-xs bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200 rounded-full flex items-center gap-1",children:[s.jsx("span",{className:"cursor-pointer hover:underline",onClick:Nt=>{Nt.stopPropagation(),jt.includes(Se)||mt([...jt,Se])},title:"Filter by this tag",children:Se}),s.jsx("button",{onClick:async Nt=>{Nt.stopPropagation();const pr=(de.tags||[]).filter(Xe=>Xe!==Se);await h(de.id,{tags:pr});const Ir=de.id,un=Se;wn({snippetId:Ir,tag:un,timestamp:Date.now()}),r(`Removed tag "${Se}"`),setTimeout(()=>{wn(Xe=>Xe&&Xe.snippetId===Ir&&Xe.tag===un?null:Xe)},5e3)},className:"opacity-60 hover:opacity-100 hover:text-red-600 dark:hover:text-red-400 transition-opacity",title:"Remove tag",children:""})]},$e)),s.jsx("div",{className:"inline-block",onClick:Se=>Se.stopPropagation(),children:s.jsx(g1,{existingTags:T(),currentTags:de.tags||[],onAddTag:async Se=>{await h(de.id,{tags:[...de.tags||[],Se]}),r(`Added tag "${Se}"`)},placeholder:"+ tag",className:"text-xs w-20"})})]})}),s.jsx("div",{className:"text-sm text-gray-700 dark:text-gray-300 mb-3 max-h-48 overflow-hidden cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700/50 rounded p-2 -m-2 transition-colors",onClick:()=>V(de),children:s.jsx("div",{className:"line-clamp-6",children:s.jsx(ou,{content:de.content,snippetId:de.id,snippetTags:de.tags||[],onImageEdit:l})})}),s.jsxs("div",{className:"flex gap-2 items-center",children:[s.jsx(iw,{text:de.content,variant:"icon",className:"p-1"}),s.jsx("button",{onClick:Se=>{Se.stopPropagation(),Ar(de)},className:"p-2 text-sm bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors",title:"Share snippet","aria-label":"Share",children:s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.368 2.684 3 3 0 00-5.368-2.684z"})})}),s.jsx("button",{onClick:async()=>{Dt(!0);try{const Se=await R(de.id);if(ve($e=>({...$e,[de.id]:Se.hasEmbedding})),Se.hasEmbedding){const $e=` Embeddings found: ${Se.chunkCount} chunk${Se.chunkCount!==1?"s":""}`;r($e)}else a('No embeddings found. Use "Add to Search Index" to create them.')}catch(Se){console.error("Failed to check embedding status:",Se),n("Failed to check embedding status")}finally{Dt(!1)}},className:`p-2 text-sm rounded transition-colors ${Pt[de.id]===!0?"bg-green-600 text-white hover:bg-green-700":Pt[de.id]===!1?"bg-gray-400 text-white hover:bg-gray-500":"bg-blue-500 text-white hover:bg-blue-600"}`,title:Pt[de.id]===!0?"Has embeddings (click for details)":Pt[de.id]===!1?"No embeddings (click to check)":"Check embedding status",disabled:nt,children:s.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M11 17h2v-6h-2v6zm1-15C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zM11 9h2V7h-2v2z"})})}),s.jsxs("button",{onClick:()=>ua(de),className:"flex-1 p-2 md:px-3 md:py-2 text-sm bg-gray-100 dark:bg-gray-700 rounded hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors flex items-center justify-center gap-1.5",title:"Edit snippet","aria-label":"Edit",children:[s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),s.jsx("span",{className:"hidden md:inline",children:"Edit"})]})]})]})]},de.id))}):s.jsx("div",{className:"space-y-2",children:Qi.map(de=>s.jsxs("div",{className:`flex items-center gap-4 p-3 bg-white dark:bg-gray-800 rounded-lg border-2 transition-all hover:shadow-md ${de.selected?"border-blue-500 ring-2 ring-blue-200 dark:ring-blue-800":"border-gray-200 dark:border-gray-700 hover:border-gray-300 dark:hover:border-gray-600"}`,children:[s.jsx("input",{type:"checkbox",checked:de.selected||!1,onChange:()=>b(de.id),className:"w-5 h-5 rounded border-gray-300 text-blue-600 focus:ring-blue-500 cursor-pointer flex-shrink-0"}),s.jsxs("div",{className:"flex-1 min-w-0 cursor-pointer",onClick:()=>V(de),children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white truncate",children:de.title||"Untitled"}),s.jsx("span",{className:`px-2 py-0.5 text-xs rounded-full text-white flex-shrink-0 ${Kn(de.sourceType)}`,children:de.sourceType}),"_searchScore"in de&&s.jsxs("span",{className:"px-2 py-0.5 text-xs rounded-full bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-200 font-medium flex-shrink-0",children:[" ",de._searchScore.toFixed(3)]})]}),s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 truncate",children:de.content})]}),s.jsxs("div",{className:"flex gap-1 flex-wrap max-w-xs flex-shrink-0",children:[(de.tags||[]).slice(0,3).map((Se,$e)=>s.jsx("span",{className:"px-2 py-0.5 text-xs bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200 rounded-full cursor-pointer hover:bg-blue-200 dark:hover:bg-blue-800",onClick:Nt=>{Nt.stopPropagation(),jt.includes(Se)||mt([...jt,Se])},title:"Filter by this tag",children:Se},$e)),(de.tags||[]).length>3&&s.jsxs("span",{className:"px-2 py-0.5 text-xs text-gray-500 dark:text-gray-400",children:["+",(de.tags||[]).length-3]})]}),s.jsxs("div",{className:"flex items-center gap-3 flex-shrink-0",children:[s.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 whitespace-nowrap",children:new Date(de.timestamp).toLocaleDateString()}),s.jsx("button",{onClick:async Se=>{Se.stopPropagation(),Dt(!0);try{const $e=await R(de.id);if(ve(Nt=>({...Nt,[de.id]:$e.hasEmbedding})),$e.hasEmbedding){const Nt=` Embeddings found: ${$e.chunkCount} chunk${$e.chunkCount!==1?"s":""}`;r(Nt)}else a('No embeddings found. Use "Add to Search Index" to create them.')}catch($e){console.error("Failed to check embedding status:",$e),n("Failed to check embedding status")}finally{Dt(!1)}},className:`p-1.5 text-sm rounded transition-colors ${Pt[de.id]===!0?"bg-green-500 text-white hover:bg-green-600":Pt[de.id]===!1?"bg-gray-400 text-white hover:bg-gray-500":"bg-blue-500 text-white hover:bg-blue-600"}`,title:Pt[de.id]===!0?"Has embeddings (click for details)":Pt[de.id]===!1?"No embeddings (click to check)":"Check embedding status",disabled:nt,children:s.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M11 17h2v-6h-2v6zm1-15C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zM11 9h2V7h-2v2z"})})}),s.jsx("button",{onClick:Se=>{Se.stopPropagation(),Ar(de)},className:"p-1.5 text-blue-500 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-200 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded transition-colors",title:"Share snippet",children:s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.368 2.684 3 3 0 00-5.368-2.684z"})})}),s.jsx("button",{onClick:()=>ua(de),className:"p-1.5 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700 rounded transition-colors",title:"Edit snippet",children:s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 5v.01M12 12v.01M12 19v.01M12 6a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2z"})})})]})]},de.id))})}),H&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center p-4 z-50",children:s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-2xl w-full h-full max-w-6xl max-h-[95vh] overflow-hidden flex flex-col",children:[s.jsxs("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700 flex justify-between items-center",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Edit Snippet"}),s.jsx("button",{onClick:()=>$(null),className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 text-3xl leading-none","aria-label":"Close",children:""})]}),s.jsxs("div",{className:"p-6 flex-1 overflow-y-auto",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Title (optional)"}),s.jsx("input",{type:"text",value:I,onChange:de=>G(de.target.value),className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white text-lg",placeholder:"Enter a title..."})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Tags"}),s.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:F.map(de=>s.jsxs("span",{className:"px-3 py-1 text-sm bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200 rounded-full flex items-center gap-2 group",children:[de,s.jsx("button",{onClick:()=>{ns(de),et(!0)},className:"hover:text-red-600 dark:hover:text-red-400 opacity-60 group-hover:opacity-100 transition-opacity",title:"Remove tag",children:""})]},de))}),s.jsx(g1,{existingTags:T(),currentTags:F,onAddTag:de=>{F.includes(de)||ie([...F,de])},placeholder:"Type to add tag..."})]}),s.jsxs("div",{className:"flex-1",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Content"}),s.jsx(KNe,{value:ne,onChange:P,height:"calc(100vh - 28rem)",placeholder:"Enter markdown content...",preview:"live",onImageUpload:async de=>new Promise((Se,$e)=>{const Nt=new FileReader;Nt.onload=()=>Se(Nt.result),Nt.onerror=$e,Nt.readAsDataURL(de)})})]})]}),s.jsxs("div",{className:"p-4 border-t border-gray-200 dark:border-gray-700 flex justify-end gap-3",children:[s.jsxs("button",{onClick:()=>$(null),className:"p-2 md:px-6 md:py-2 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors flex items-center gap-1.5",title:"Cancel","aria-label":"Cancel",children:[s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),s.jsx("span",{className:"hidden md:inline",children:"Cancel"})]}),s.jsxs("button",{onClick:vs,className:"p-2 md:px-6 md:py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-1.5",title:"Save Changes","aria-label":"Save Changes",children:[s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),s.jsx("span",{className:"hidden md:inline",children:"Save Changes"})]})]})]})}),s.jsx(ZNe,{isOpen:Ue,title:"Remove Tag?",message:`Remove tag "${ba}"?`,confirmLabel:"Remove Tag",cancelLabel:"Cancel",variant:"danger",onConfirm:async()=>{if(ba){if(as){const de=u.find(Se=>Se.id===as);de&&(await h(as,{tags:(de.tags||[]).filter(Se=>Se!==ba)}),r(`Removed tag "${ba}"`)),Es(null)}else ie(F.filter(de=>de!==ba));et(!1),ns(null)}},onCancel:()=>{et(!1),ns(null),Es(null)}}),ge&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-md w-full",children:[s.jsx("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:s.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Create New Google Doc"})}),s.jsxs("div",{className:"p-6",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Document Name"}),s.jsx("input",{type:"text",value:he,onChange:de=>ye(de.target.value),onKeyPress:de=>de.key==="Enter"&&Rr(),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"My Swag Document",autoFocus:!0})]}),s.jsxs("div",{className:"p-6 border-t border-gray-200 dark:border-gray-700 flex justify-end gap-3",children:[s.jsx("button",{onClick:()=>{pe(!1),ye("")},className:"px-4 py-2 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg",disabled:zt,children:"Cancel"}),s.jsx("button",{onClick:Rr,disabled:zt||!he.trim(),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:zt?"Creating...":"Create"})]})]})}),Y&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center p-4 z-50",children:s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-2xl w-full h-full max-w-6xl max-h-[95vh] overflow-hidden flex flex-col",children:[s.jsxs("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700 flex justify-between items-start",children:[s.jsxs("div",{className:"flex-1",children:[Y.title&&s.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:Y.title}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:`px-2 py-1 text-xs rounded-full text-white ${Kn(Y.sourceType)}`,children:Y.sourceType}),s.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:new Date(Y.timestamp).toLocaleString()}),K.isPlaying&&s.jsxs("button",{onClick:X,className:"p-2 md:px-3 md:py-1.5 bg-red-600 text-white rounded-lg shadow-md hover:bg-red-700 transition-colors flex items-center gap-2 animate-pulse",title:"Stop reading aloud","aria-label":"Stop Reading",children:[s.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("rect",{x:"6",y:"6",width:"12",height:"12"})}),s.jsx("span",{className:"hidden md:inline",children:"Stop Reading"})]})]})]}),s.jsx("button",{onClick:()=>V(null),className:"ml-4 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 text-3xl leading-none","aria-label":"Close",children:""})]}),s.jsx("div",{ref:ct,className:"flex-1 overflow-y-auto p-6",onScroll:de=>{if(z&&j){const Se=de.currentTarget,$e=Se.scrollTop/(Se.scrollHeight-Se.clientHeight)*100;q($e)}},children:s.jsx("div",{className:"text-gray-800 dark:text-gray-200",children:(()=>{const de=Y.content;return sw(de)?s.jsx(mTe,{content:de}):s.jsx(ou,{content:de,snippetId:Y.id,snippetTags:Y.tags||[],onImageEdit:l})})()})}),s.jsxs("div",{className:"p-4 border-t border-gray-200 dark:border-gray-700 flex justify-between items-center",children:[j&&z&&s.jsxs("div",{className:"text-sm text-purple-600 dark:text-purple-400 flex items-center gap-2",children:[s.jsx("svg",{className:"w-4 h-4 animate-pulse",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M1 18v3h3c0-1.66-1.34-3-3-3zm0-4v2c2.76 0 5 2.24 5 5h2c0-3.87-3.13-7-7-7zm0-4v2c4.97 0 9 4.03 9 9h2c0-6.08-4.93-11-11-11zm20-7H3c-1.1 0-2 .9-2 2v3h2V5h18v14h-7v2h7c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"})}),"Casting to TV"]}),s.jsxs("div",{className:"flex gap-3 ml-auto",children:[L&&s.jsx("button",{onClick:()=>{B({id:Y.id,content:Y.content,title:Y.title,tags:Y.tags,created:new Date(Y.timestamp),modified:Y.updateDate?new Date(Y.updateDate):new Date(Y.timestamp)}),r(`Casting snippet to ${j?"TV":"Chromecast"}`)},className:"p-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",title:"Cast to TV",children:s.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M1 18v3h3c0-1.66-1.34-3-3-3zm0-4v2c2.76 0 5 2.24 5 5h2c0-3.87-3.13-7-7-7zm0-4v2c4.97 0 9 4.03 9 9h2c0-6.08-4.93-11-11-11zm20-7H3c-1.1 0-2 .9-2 2v3h2V5h18v14h-7v2h7c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"})})}),s.jsx(iw,{text:Y.content,variant:"button",className:"p-2 md:px-4 md:py-2"}),s.jsxs("button",{onClick:()=>{V(null),ua(Y)},className:"p-2 md:px-4 md:py-2 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors flex items-center gap-1.5",title:"Edit","aria-label":"Edit",children:[s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),s.jsx("span",{className:"hidden md:inline",children:"Edit"})]}),s.jsxs("button",{onClick:()=>V(null),className:"p-2 md:px-4 md:py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-1.5",title:"Close","aria-label":"Close",children:[s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),s.jsx("span",{className:"hidden md:inline",children:"Close"})]})]})]})]})}),v().length>0&&!Y&&!H&&s.jsxs("div",{className:"fixed bottom-6 left-1/2 -translate-x-1/2 bg-white dark:bg-gray-800 shadow-2xl rounded-full px-4 md:px-6 py-3 flex items-center gap-2 md:gap-4 border-2 border-gray-200 dark:border-gray-700 z-50 animate-in slide-in-from-bottom duration-200 max-w-[95vw] overflow-x-auto",children:[s.jsxs("button",{onClick:x,className:"px-2 md:px-3 py-1.5 text-sm rounded-lg bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors flex items-center gap-1.5 whitespace-nowrap",title:"Select all snippets (Ctrl+A)",children:[s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"})}),s.jsx("span",{className:"hidden md:inline",children:"All"})]}),s.jsxs("button",{onClick:E,className:"px-2 md:px-3 py-1.5 text-sm rounded-lg bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors flex items-center gap-1.5 whitespace-nowrap",title:"Deselect all snippets (Ctrl+D)",children:[s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),s.jsx("span",{className:"hidden md:inline",children:"None"})]}),s.jsx("div",{className:"h-6 w-px bg-gray-300 dark:bg-gray-600"}),s.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 whitespace-nowrap",children:v().length}),s.jsx("div",{className:"h-6 w-px bg-gray-300 dark:bg-gray-600"}),s.jsxs("button",{onClick:()=>Pn("generate-embeddings"),disabled:Ft,className:"px-2 md:px-3 py-1.5 text-sm rounded-lg bg-green-600 text-white hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-1.5 whitespace-nowrap",title:"Add to Search Index (Ctrl+I)",children:[s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),s.jsx("span",{className:"hidden md:inline",children:"Index"})]}),s.jsxs("button",{onClick:()=>Pn("generate-quiz"),disabled:Gn,className:"px-2 md:px-3 py-1.5 text-sm rounded-lg bg-indigo-600 text-white hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-1.5 whitespace-nowrap",title:"Generate Quiz (Ctrl+Q)",children:[Gn?s.jsxs("svg",{className:"w-4 h-4 animate-spin",fill:"none",viewBox:"0 0 24 24",children:[s.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),s.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})}),s.jsx("span",{className:"hidden md:inline",children:Gn?"Generating...":"Quiz"})]}),s.jsxs("button",{onClick:()=>{Ee(!0),Je("add"),ze([])},className:"px-2 md:px-3 py-1.5 text-sm rounded-lg bg-blue-600 text-white hover:bg-blue-700 transition-colors flex items-center gap-1.5 whitespace-nowrap",title:"Add Tags (Ctrl+T)",children:[s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"})}),s.jsx("span",{className:"hidden md:inline",children:"Tag"})]}),s.jsxs("button",{onClick:()=>{const de=v(),Se=IIe(de);if(Se.length===0){a("No images found in selected snippets");return}e("/image-editor",{state:{images:Se}})},disabled:v().filter(LIe).length===0,className:"px-2 md:px-3 py-1.5 text-sm rounded-lg bg-orange-600 text-white hover:bg-orange-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-1.5 whitespace-nowrap",title:"Edit Images",children:[s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})}),s.jsx("span",{className:"hidden md:inline",children:"Edit Images"})]}),s.jsxs("button",{onClick:()=>Pn("merge"),disabled:v().length<2,className:"px-2 md:px-3 py-1.5 text-sm rounded-lg bg-purple-600 text-white hover:bg-purple-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-1.5 whitespace-nowrap",title:"Merge Snippets (Ctrl+M)",children:[s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4"})}),s.jsx("span",{className:"hidden md:inline",children:"Merge"})]}),s.jsxs("button",{onClick:()=>Pn("delete"),className:"px-2 md:px-3 py-1.5 text-sm rounded-lg bg-red-600 text-white hover:bg-red-700 transition-colors flex items-center gap-1.5 whitespace-nowrap",title:"Delete Selected (Del)",children:[s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),s.jsx("span",{className:"hidden md:inline",children:"Delete"})]})]}),xn&&s.jsxs("div",{className:"fixed bottom-6 right-6 bg-gray-900 dark:bg-gray-800 text-white rounded-lg shadow-2xl px-5 py-3 flex items-center gap-4 border border-gray-700 z-50 animate-in slide-in-from-right duration-200",children:[s.jsxs("span",{className:"text-sm",children:["Removed tag ",s.jsxs("strong",{children:['"',xn.tag,'"']})]}),s.jsx("button",{onClick:async()=>{const de=u.find(Se=>Se.id===xn.snippetId);de&&(await h(xn.snippetId,{tags:[...de.tags||[],xn.tag]}),r(`Restored tag "${xn.tag}"`)),wn(null)},className:"px-3 py-1 text-sm bg-white text-gray-900 rounded hover:bg-gray-100 transition-colors font-medium",children:"Undo"}),s.jsx("button",{onClick:()=>wn(null),className:"text-gray-400 hover:text-white transition-colors",title:"Dismiss",children:""})]}),Be&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center p-4 z-50",children:s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-2xl w-full max-w-md",children:[s.jsxs("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:we==="add"?"Add Tags":we==="remove"?"Remove Tags":"Filter by Tags"}),s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:we==="add"?"Select or create tags to add to selected snippets":we==="remove"?"Select tags to remove from selected snippets":"Select tags to filter snippets"})]}),s.jsxs("div",{className:"p-6",children:[Ke.length>0&&s.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:Ke.map(de=>s.jsxs("span",{className:"px-3 py-1 text-sm bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200 rounded-full flex items-center gap-2",children:[de,s.jsx("button",{onClick:()=>ze(Ke.filter(Se=>Se!==de)),className:"hover:text-red-600 dark:hover:text-red-400",children:""})]},de))}),we==="add"&&s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Add New Tag"}),s.jsx(g1,{existingTags:T(),currentTags:Ke,onAddTag:de=>{Ke.includes(de)||ze([...Ke,de])},placeholder:"Type to search or create tags...",className:"w-full"})]}),T().length>0&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:we==="add"?"Or Select Existing":we==="remove"?"Select Tags to Remove":"Select Tags"}),s.jsx("div",{className:"flex flex-wrap gap-2 max-h-48 overflow-y-auto",children:T().map(de=>s.jsx("button",{onClick:()=>{Ke.includes(de)?ze(Ke.filter(Se=>Se!==de)):ze([...Ke,de])},className:`px-3 py-1 text-sm rounded-full transition-colors ${Ke.includes(de)?"bg-blue-600 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-600"}`,children:de},de))})]})]}),s.jsxs("div",{className:"p-4 border-t border-gray-200 dark:border-gray-700 flex justify-end gap-3",children:[s.jsx("button",{onClick:()=>{Ee(!1),ze([])},className:"px-4 py-2 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:"Cancel"}),s.jsx("button",{onClick:vo,disabled:we!=="filter"&&Ke.length===0,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:we==="add"?"Add Tags":we==="remove"?"Remove Tags":"Apply Filter"})]})]})}),zt&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-25 flex items-center justify-center z-40",children:s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 shadow-xl",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),s.jsx("p",{className:"mt-4 text-gray-700 dark:text-gray-300",children:"Processing..."})]})}),Qr&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-25 flex items-center justify-center z-40",children:s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 shadow-xl min-w-[300px]",children:s.jsxs("div",{className:"mb-4",children:[s.jsxs("div",{className:"flex justify-between text-sm text-gray-700 dark:text-gray-300 mb-2",children:[s.jsx("span",{children:Qr.status}),s.jsxs("span",{children:[Qr.current," / ",Qr.total]})]}),s.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:s.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${Qr.current/Qr.total*100}%`}})})]})})}),mr&&s.jsx(JNe,{isOpen:mr,onClose:()=>Ut(!1),onUpload:En}),Ht&&s.jsx(sIe,{snippetId:Ht.id,content:Ht.content,title:Ht.title,tags:Ht.tags,sourceType:Ht.sourceType,onClose:()=>Ar(null)}),Ur&&At&&fn&&s.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:s.jsx(FIe,{onError:(de,Se)=>{console.error("Quiz error:",de,Se),n("Quiz encountered an error. Please try again."),It(!1),er(null),Nr(null)},children:s.jsx(NIe,{quiz:At,onClose:()=>{It(!1),er(null),Nr(null)},onComplete:async(de,Se,$e)=>{const Nt=Math.round(de/Se*100),pr=Date.now()-fn.startTime;try{const Ir=await rp.saveQuizStatistic({quizTitle:At.title,snippetIds:fn.snippetIds,score:de,totalQuestions:Se,timeTaken:pr,completedAt:new Date().toISOString(),answers:$e,enrichment:fn.enrichment});console.log(" Quiz statistic saved to IndexedDB:",Ir);const un=await i();un&&jIe(Ir,un).then(Xe=>{Xe&&console.log(" Quiz statistic synced to Google Sheets")}).catch(Xe=>{console.error("Failed to sync quiz statistic:",Xe)}),r(`Quiz completed! Score: ${de}/${Se} (${Nt}%)`)}catch(Ir){console.error("Failed to save quiz statistic:",Ir),a(`Quiz completed! Score: ${de}/${Se} (${Nt}%) - Statistics not saved`)}}})})})]})},UIe=()=>{const e=ni(),{showSuccess:t,showError:r}=go(),[n,a]=C.useState([]),[i,o]=C.useState(null),[l,u]=C.useState(!0);C.useEffect(()=>{d()},[]);const d=async()=>{try{u(!0);const[E,v]=await Promise.all([rp.getQuizStatistics(20),rp.getStatisticsSummary()]);a(E),o(v)}catch(E){console.error("Failed to load quiz statistics:",E),r("Failed to load quiz statistics")}finally{u(!1)}},h=async(E,v)=>{if(confirm(`Delete quiz "${v}"?`))try{await rp.deleteQuizStatistic(E),t("Quiz deleted"),await d()}catch(T){console.error("Failed to delete quiz:",T),r("Failed to delete quiz")}},g=E=>{const v=Math.floor(E/6e4),T=Math.floor(E%6e4/1e3);return`${v}:${T.toString().padStart(2,"0")}`},f=E=>{const v=new Date(E),w=new Date().getTime()-v.getTime(),N=Math.floor(w/(1e3*60*60*24));return N===0?"Today":N===1?"Yesterday":N<7?`${N} days ago`:v.toLocaleDateString()},b=E=>E>=90?"text-green-600 dark:text-green-400":E>=70?"text-blue-600 dark:text-blue-400":E>=50?"text-yellow-600 dark:text-yellow-400":"text-red-600 dark:text-red-400",x=E=>E>=90?"bg-green-100 dark:bg-green-900/30":E>=70?"bg-blue-100 dark:bg-blue-900/30":E>=50?"bg-yellow-100 dark:bg-yellow-900/30":"bg-red-100 dark:bg-red-900/30";return l?s.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:s.jsx("div",{className:"text-gray-600 dark:text-gray-400",children:"Loading quiz statistics..."})}):s.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 p-4 pb-24",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("button",{onClick:()=>e("/"),className:"p-2 hover:bg-gray-200 dark:hover:bg-gray-800 rounded-lg transition-colors",title:"Back to Chat",children:s.jsx(pIe,{className:"w-6 h-6 text-gray-600 dark:text-gray-400"})}),s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white flex items-center gap-2",children:[s.jsx(eu,{className:"w-8 h-8 text-indigo-600 dark:text-indigo-400"}),"Quiz Statistics"]}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Track your learning progress and quiz performance"})]})]}),s.jsxs("button",{onClick:()=>e("/swag"),className:"px-4 py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg transition-colors flex items-center gap-2",children:[s.jsx(eu,{className:"w-5 h-5"}),"Create New Quiz"]})]}),i&&i.totalQuizzes>0&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-8",children:[s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Total Quizzes"}),s.jsx("p",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:i.totalQuizzes})]}),s.jsx(Sw,{className:"w-12 h-12 text-yellow-500"})]})}),s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Average Score"}),s.jsxs("p",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:[i.averagePercentage.toFixed(0),"%"]})]}),s.jsx(kIe,{className:"w-12 h-12 text-blue-500"})]})}),s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Highest Score"}),s.jsxs("p",{className:"text-3xl font-bold text-green-600 dark:text-green-400",children:[i.highestScore.toFixed(0),"%"]})]}),s.jsx(Sw,{className:"w-12 h-12 text-green-500"})]})}),s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Questions Answered"}),s.jsx("p",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:i.totalQuestionsAnswered})]}),s.jsx(eu,{className:"w-12 h-12 text-indigo-500"})]})})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow",children:[s.jsx("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:s.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Recent Quizzes"})}),n.length===0?s.jsxs("div",{className:"p-12 text-center",children:[s.jsx(eu,{className:"w-16 h-16 text-gray-400 dark:text-gray-600 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"No Quizzes Yet"}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Create your first quiz from the Swag page by selecting snippets and pressing Ctrl+Q"}),s.jsxs("button",{onClick:()=>e("/swag"),className:"px-4 py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg transition-colors inline-flex items-center gap-2",children:[s.jsx(eu,{className:"w-5 h-5"}),"Go to Swag Page"]})]}):s.jsx("div",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:n.map(E=>s.jsx("div",{className:"p-6 hover:bg-gray-50 dark:hover:bg-gray-750 transition-colors",children:s.jsxs("div",{className:"flex items-start justify-between gap-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:E.quizTitle}),s.jsxs("span",{className:`px-3 py-1 rounded-full text-sm font-semibold ${x(E.percentage)} ${b(E.percentage)}`,children:[E.score,"/",E.totalQuestions," (",E.percentage,"%)"]})]}),s.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm text-gray-600 dark:text-gray-400",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(mIe,{className:"w-4 h-4"}),f(E.completedAt)]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(xIe,{className:"w-4 h-4"}),g(E.timeTaken)]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(eu,{className:"w-4 h-4"}),E.snippetIds.length," snippet",E.snippetIds.length!==1?"s":""]}),E.enrichment&&s.jsx("span",{className:"px-2 py-0.5 bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400 rounded text-xs font-medium",children:"Enriched"}),!E.synced&&s.jsx("span",{className:"px-2 py-0.5 bg-yellow-100 dark:bg-yellow-900/30 text-yellow-700 dark:text-yellow-400 rounded text-xs font-medium",children:"Not synced"})]})]}),s.jsx("button",{onClick:()=>h(E.id,E.quizTitle),className:"p-2 text-gray-400 hover:text-red-600 dark:hover:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors",title:"Delete quiz",children:s.jsx(TIe,{className:"w-5 h-5"})})]})},E.id))})]})]})})},$Ie=({isOpen:e,onClose:t,onConfirm:r,providers:n})=>{const{t:a}=xc(),[i,o]=C.useState("all"),[l,u]=C.useState(""),[d,h]=C.useState(""),[g,f]=C.useState(""),[b,x]=C.useState(!1);if(!e)return null;const E=()=>{const T={};i==="provider"?T.provider=l:i==="dateRange"&&(d&&(T.startDate=d),g&&(T.endDate=g)),r(i,T),x(!1),t()},v=()=>!(!b||i==="provider"&&!l||i==="dateRange"&&!d&&!g);return s.jsx("div",{className:"modal-overlay",onClick:t,children:s.jsxs("div",{className:"modal-content",onClick:T=>T.stopPropagation(),children:[s.jsxs("div",{className:"modal-header",children:[s.jsx("h2",{children:a("billing.clearBillingData")}),s.jsx("button",{className:"modal-close",onClick:t,children:""})]}),s.jsxs("div",{className:"modal-body",children:[s.jsx("div",{className:"warning-banner",children:a("billing.clearDataWarning")}),s.jsxs("div",{className:"clear-mode-tabs",children:[s.jsx("button",{className:i==="all"?"active":"",onClick:()=>o("all"),children:a("billing.clearAll")}),s.jsx("button",{className:i==="provider"?"active":"",onClick:()=>o("provider"),children:a("billing.clearByProvider")}),s.jsx("button",{className:i==="dateRange"?"active":"",onClick:()=>o("dateRange"),children:a("billing.clearByDateRange")})]}),s.jsxs("div",{className:"clear-mode-content",children:[i==="all"&&s.jsxs("div",{className:"clear-mode-description",children:[s.jsx("p",{children:a("billing.clearAllDescription")}),s.jsx("p",{children:a("billing.considerExportFirst")})]}),i==="provider"&&s.jsxs("div",{className:"clear-mode-options",children:[s.jsxs("label",{children:[a("billing.selectProvider"),s.jsxs("select",{value:l,onChange:T=>u(T.target.value),children:[s.jsx("option",{value:"",children:a("billing.selectProviderPlaceholder")}),n.map(T=>s.jsx("option",{value:T,children:T},T))]})]}),s.jsx("p",{className:"hint",children:a("billing.clearProviderHint")})]}),i==="dateRange"&&s.jsxs("div",{className:"clear-mode-options",children:[s.jsxs("label",{children:[a("billing.startDate"),":",s.jsx("input",{type:"date",value:d,onChange:T=>h(T.target.value)})]}),s.jsxs("label",{children:[a("billing.endDate"),":",s.jsx("input",{type:"date",value:g,onChange:T=>f(T.target.value)})]}),s.jsx("p",{className:"hint",children:a("billing.clearDateRangeHint")})]}),s.jsx("div",{className:"confirmation-checkbox",children:s.jsxs("label",{children:[s.jsx("input",{type:"checkbox",checked:b,onChange:T=>x(T.target.checked)}),s.jsx("span",{children:a("billing.confirmUndoCheckbox")})]})})]})]}),s.jsxs("div",{className:"modal-footer",children:[s.jsx("button",{className:"btn-secondary",onClick:t,children:a("billing.cancel")}),s.jsx("button",{className:"btn-danger",onClick:E,disabled:!v(),children:a("billing.clearData")})]})]})})},HIe=()=>{const{t:e}=xc(),{accessToken:t,isAuthenticated:r}=Ps(),{refreshUsage:n}=_m(),[a,i]=C.useState(null),[o,l]=C.useState(!0),[u,d]=C.useState(null),[h,g]=C.useState(""),[f,b]=C.useState(""),[x,E]=C.useState(""),[v,T]=C.useState(""),[w,N]=C.useState(!1),[R,D]=C.useState("overview"),[L,j]=C.useState(!0),[B,q]=C.useState(new Set),[z,K]=C.useState(0),[X,Q]=C.useState(0),[O,H]=C.useState(0),[$,Y]=C.useState(!1),[V,ne]=C.useState("5.00"),[P,I]=C.useState(!1),G=C.useRef(null),[F,ie]=C.useState(1),[he,ye]=C.useState(100);C.useEffect(()=>{console.log(" [BillingPage] Auth State:",{isAuthenticated:r,hasAccessToken:!!t,tokenLength:t?.length||0})},[r,t]);const ge=async()=>{l(!0),d(null);try{if(console.log(" [BillingPage] fetchBillingData called"),console.log(" [BillingPage] accessToken present:",!!t),console.log(" [BillingPage] isAuthenticated:",r),!t||!r){const je="Not authenticated. Please sign in.";throw console.error(" [BillingPage] Authentication check failed:",je),new Error(je)}const se=await Ee(),Ce=`${se}/billing`;console.log(" [BillingPage] API Base:",se),console.log(" [BillingPage] Request URL:",Ce);const De={Authorization:`Bearer ${t}`,"Content-Type":"application/json"};console.log(" [BillingPage] Sending request to:",Ce),console.log(" [BillingPage] Request headers:",Object.keys(De));const dt=await fetch(Ce,{method:"GET",headers:De});if(console.log(" [BillingPage] Response received:",{status:dt.status,statusText:dt.statusText,ok:dt.ok,headers:Object.fromEntries(dt.headers.entries())}),!dt.ok){let je;try{je=await dt.json()}catch(it){throw console.error(" [BillingPage] Failed to parse error response:",it),new Error(`HTTP ${dt.status}: ${dt.statusText}`)}throw console.error(" [BillingPage] Backend returned error:",je),new Error(je.message||je.error||`HTTP ${dt.status}`)}const lt=await dt.json();if(console.log(" Billing data received:",{source:lt.source,transactionCount:lt.transactions?.length,hasByType:!!lt.totals?.byType,hasByProvider:!!lt.totals?.byProvider,hasByModel:!!lt.totals?.byModel,byTypeKeys:lt.totals?.byType?Object.keys(lt.totals.byType):[],byProviderKeys:lt.totals?.byProvider?Object.keys(lt.totals.byProvider):[],byModelKeys:lt.totals?.byModel?Object.keys(lt.totals.byModel):[]}),lt.transactions&&lt.transactions.length>0){const je=[...new Set(lt.transactions.map(it=>it.type))];console.log(" Unique transaction types in data:",je),console.log(" Sample transactions:",lt.transactions.slice(0,3))}lt.source==="service"&&lt.message&&(console.log(" Billing data source: Service key sheet"),console.log(" Message:",lt.message)),i(lt),console.log(" [BillingPage] Billing data loaded successfully");let qt=0,Ft=0,Ct=0;if(lt.transactions)for(const je of lt.transactions)if(je.type==="credit_added"){const it=Math.abs(je.cost);Ft+=it,qt+=it,console.log(` Found credit: +$${it.toFixed(2)}, total credits: $${Ft.toFixed(2)}, balance: $${qt.toFixed(2)}`)}else Ct+=je.cost,qt-=je.cost;K(qt),Q(Ft),H(Ct),console.log(` Final summary - Balance: $${qt.toFixed(4)}, Total Credits: $${Ft.toFixed(4)}, Total Expenses: $${Ct.toFixed(4)}`),n()}catch(se){console.error(" [BillingPage] Error fetching billing data:",{message:se.message,stack:se.stack,name:se.name,error:se});const Ce=se.message||"Failed to load billing data";d(Ce),se.message?.includes("Not authenticated")?d(" Not authenticated. Please sign in with Google to view billing data."):se.message?.includes("NetworkError")||se.message?.includes("Failed to fetch")?d(" Network error. Please check your connection and ensure the backend server is running."):d(` Failed to load billing data: ${Ce}`)}finally{l(!1),console.log(" [BillingPage] fetchBillingData completed, loading:",!1)}},pe=async(se,Ce)=>{try{if(!t||!r)throw new Error("Not authenticated");const De=new URLSearchParams({mode:se});se==="provider"&&Ce.provider&&De.append("provider",Ce.provider),se==="dateRange"&&(Ce.startDate&&De.append("startDate",Ce.startDate),Ce.endDate&&De.append("endDate",Ce.endDate));const dt=await Ee(),lt=await fetch(`${dt}/billing/clear?${De.toString()}`,{method:"DELETE",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}});if(!lt.ok){const Ft=await lt.json();throw new Error(Ft.message||"Failed to clear data")}const qt=await lt.json();alert(e("billing.dataClearedSuccess",{count:qt.deletedCount,remaining:qt.remainingCount})),ge()}catch(De){console.error("Error clearing data:",De),alert(e("billing.dataClearError",{message:De.message}))}},Be=()=>{if(!a||we.length===0){alert(e("billing.noDataToExport"));return}const se=["Timestamp","Type","Provider","Model","Tokens In","Tokens Out","Total Tokens","Cost ($)","Duration (ms)","Memory Limit (MB)","Memory Used (MB)","Request ID","Status","Error"],Ce=we.map(Ft=>[Ft.timestamp,Ft.type,Ft.provider,Ft.model,Ft.tokensIn,Ft.tokensOut,Ft.totalTokens,Ft.cost.toFixed(6),Ft.durationMs,Ft.memoryLimitMB||"",Ft.memoryUsedMB||"",Ft.requestId||"",Ft.status,Ft.error||""]),De=[se.join(","),...Ce.map(Ft=>Ft.map(Ct=>`"${Ct}"`).join(","))].join(`
`),dt=new Blob([De],{type:"text/csv"}),lt=URL.createObjectURL(dt),qt=document.createElement("a");qt.href=lt,qt.download=`billing-${new Date().toISOString().split("T")[0]}.csv`,qt.click(),URL.revokeObjectURL(lt)},Ee=async()=>{const se=window.location.hostname;if(se==="localhost"||se==="127.0.0.1"){const Ce="http://localhost:3000";try{if((await fetch(Ce,{method:"OPTIONS",signal:AbortSignal.timeout(500)})).status!==void 0)return Ce}catch{}}return"https://nrw7pperjjdswbmqgmigbwsbyi0rwdqf.lambda-url.us-east-1.on.aws"};if(C.useEffect(()=>{r&&t&&ge()},[r,t]),C.useEffect(()=>{if(!$||!G.current||!t)return;const se=setInterval(()=>{window.paypal&&(clearInterval(se),I(!0),G.current.innerHTML="",window.paypal.Buttons({createOrder:async()=>{try{const Ce=parseFloat(V);if(Ce<5)throw new Error("Minimum purchase is $5.00");const De=await _6(Ce,t);if(!De.success||!De.orderId)throw new Error(De.error||"Failed to create order");return De.orderId}catch(Ce){throw console.error("PayPal createOrder error:",Ce),alert(`Error creating order: ${Ce.message}`),Ce}},onApprove:async Ce=>{try{const De=await A6(Ce.orderID,t);if(!De.success)throw new Error(De.error||"Failed to capture payment");Y(!1),await ge(),await n()}catch(De){console.error("PayPal onApprove error:",De),alert(`Error processing payment: ${De.message}`)}},onError:Ce=>{console.error("PayPal error:",Ce),alert("PayPal encountered an error. Please try again.")},style:{layout:"vertical",color:"blue",shape:"rect",label:"paypal"}}).render(G.current).then(()=>{I(!1)}).catch(Ce=>{console.error("PayPal render error:",Ce),I(!1)}))},100);return()=>clearInterval(se)},[$,V,t]),C.useEffect(()=>{ie(1)},[h,f,x,v]),!r)return s.jsx("div",{className:"billing-page",children:s.jsxs("div",{className:"error-message",children:[s.jsx("h3",{children:e("billing.signInRequired")}),s.jsx("p",{children:e("billing.signInToViewBilling")}),s.jsxs("div",{className:"info-box",style:{marginTop:"20px",padding:"15px",background:"#e3f2fd",borderRadius:"8px",textAlign:"left"},children:[s.jsx("h4",{style:{marginTop:0,color:"#1976d2"},children:e("billing.howToAccessBilling")}),s.jsxs("ol",{style:{marginLeft:"20px",color:"#424242"},children:[s.jsx("li",{children:e("billing.signInStep1")}),s.jsx("li",{children:e("billing.signInStep2")})]}),s.jsx("p",{style:{marginTop:"15px",color:"#666",fontSize:"0.9em"},children:e("billing.billingDataNote")}),s.jsxs("details",{style:{marginTop:"15px",fontSize:"0.85em",color:"#888"},children:[s.jsx("summary",{style:{cursor:"pointer",fontWeight:"bold"},children:e("billing.debugInfo")}),s.jsx("pre",{style:{marginTop:"10px",padding:"10px",background:"#f5f5f5",borderRadius:"4px",overflow:"auto"},children:JSON.stringify({isAuthenticated:r,hasAccessToken:!!t,tokenLength:t?.length||0,currentPath:window.location.pathname},null,2)})]})]})]})});if(o)return s.jsx("div",{className:"billing-page",children:s.jsx("div",{className:"loading",children:e("billing.loading")})});if(u)return s.jsx("div",{className:"billing-page",children:s.jsxs("div",{className:"error-message",children:[s.jsx("h3",{children:e("billing.errorLoading")}),s.jsx("p",{children:u}),s.jsx("button",{onClick:ge,style:{marginTop:"15px"},children:e("billing.retry")})]})});if(!a)return s.jsx("div",{className:"billing-page",children:s.jsx("div",{className:"loading",children:e("billing.noBillingData")})});if(!a.transactions||a.transactions.length===0)return s.jsxs("div",{className:"billing-page",children:[s.jsxs("div",{className:"billing-header",children:[s.jsx("h1",{children:e("billing.title")}),s.jsx("p",{style:{color:"#666",marginTop:"8px"},children:a.message||e("billing.noTransactionsMessage")})]}),s.jsxs("div",{className:"info-box",style:{marginTop:"20px",padding:"20px",background:"#f5f5f5",borderRadius:"8px"},children:[s.jsx("h3",{style:{marginTop:0},children:e("billing.noBillingDataYet")}),s.jsx("p",{children:e("billing.startUsingChat")}),s.jsx("button",{onClick:ge,style:{marginTop:"15px"},children:e("billing.refresh")})]})]});const we=a.transactions.filter(se=>{if(h||f){const Ce=new Date(se.timestamp);if(h&&Ce<new Date(h))return!1;if(f){const De=new Date(f);if(De.setHours(23,59,59,999),Ce>De)return!1}}return!(x&&String(se.type).toLowerCase()!==x.toLowerCase()||v&&se.provider.toLowerCase()!==v.toLowerCase())}),Je=we.length,Ke=Math.ceil(Je/he),ze=(F-1)*he,Vt=ze+he,kt=we.slice(ze,Vt),_t=((se,Ce=!1)=>{const De={},dt={},lt={};let qt=0,Ft=0,Ct=0,je=0;const it=se.filter(Mt=>Mt.type==="chat"),mr=se.filter(Mt=>Mt.type!=="summary"&&Mt.type!=="credit_added"&&Mt.type!=="lambda_invocation"),Ut=it.length,Qr=mr.length;return se.forEach(Mt=>{if(!Mt||!Mt.model||!Mt.provider){console.warn("Skipping invalid transaction:",Mt);return}(!Ce||String(Mt.type)!=="credit_added")&&(qt+=Mt.cost),Ft+=Mt.totalTokens||0,Ct+=Mt.tokensIn||0,je+=Mt.tokensOut||0;const nn=String(Mt.type);De[nn]||(De[nn]={cost:0,tokens:0,tokensIn:0,tokensOut:0,count:0}),De[nn].cost+=Mt.cost,De[nn].tokens+=Mt.totalTokens||0,De[nn].tokensIn+=Mt.tokensIn||0,De[nn].tokensOut+=Mt.tokensOut||0,De[nn].count+=1,dt[Mt.provider]||(dt[Mt.provider]={cost:0,tokens:0,tokensIn:0,tokensOut:0,count:0}),dt[Mt.provider].cost+=Mt.cost,dt[Mt.provider].tokens+=Mt.totalTokens||0,dt[Mt.provider].tokensIn+=Mt.tokensIn||0,dt[Mt.provider].tokensOut+=Mt.tokensOut||0,dt[Mt.provider].count+=1,lt[Mt.model]||(lt[Mt.model]={cost:0,tokens:0,tokensIn:0,tokensOut:0,count:0,provider:Mt.provider}),lt[Mt.model].cost+=Mt.cost,lt[Mt.model].tokens+=Mt.totalTokens||0,lt[Mt.model].tokensIn+=Mt.tokensIn||0,lt[Mt.model].tokensOut+=Mt.tokensOut||0,lt[Mt.model].count+=1}),{totalCost:qt,totalTokens:Ft,totalTokensIn:Ct,totalTokensOut:je,totalUserQueries:Ut,totalLLMCalls:Qr,byType:De,byProvider:dt,byModel:lt}})(we,!0),jt=Array.from(new Set(a.transactions.map(se=>se.provider))).sort(),mt=Array.from(new Set(a.transactions.map(se=>String(se.type)))),zt=se=>{const Ce=new Map,De=[];se.forEach(lt=>{if(lt.requestId&&lt.requestId!==""){const qt=Ce.get(lt.requestId)||[];qt.push(lt),Ce.set(lt.requestId,qt)}else De.push(lt)}),Ce.forEach(lt=>{lt.sort((qt,Ft)=>new Date(qt.timestamp).getTime()-new Date(Ft.timestamp).getTime())}),De.sort((lt,qt)=>new Date(qt.timestamp).getTime()-new Date(lt.timestamp).getTime());const dt=Array.from(Ce.entries()).sort(([,lt],[,qt])=>{const Ft=lt[0].timestamp,Ct=qt[0].timestamp;return new Date(Ct).getTime()-new Date(Ft).getTime()});return{grouped:new Map(dt),ungrouped:De}},{grouped:ar,ungrouped:kr}=zt(kt),{grouped:dr,ungrouped:Jt}=zt(we),le=se=>{q(Ce=>{const De=new Set(Ce);return De.has(se)?De.delete(se):De.add(se),De})};return s.jsx("div",{className:"billing-page-container",children:s.jsxs("div",{className:"billing-page",children:[s.jsxs("div",{className:"billing-header",children:[s.jsx("div",{className:"billing-title",children:s.jsx("h1",{children:e("billing.title")})}),s.jsxs("div",{className:"billing-actions",children:[s.jsxs("button",{className:"btn-secondary flex items-center gap-1.5",onClick:Be,title:e("billing.exportCSV"),"aria-label":e("billing.exportCSV"),children:[s.jsx("span",{children:""}),s.jsx("span",{className:"hidden md:inline",children:e("billing.exportCSV")})]}),a.source!=="service"&&s.jsxs("button",{className:"btn-danger flex items-center gap-1.5",onClick:()=>N(!0),title:e("billing.clearData"),"aria-label":e("billing.clearData"),children:[s.jsx("span",{children:""}),s.jsx("span",{className:"hidden md:inline",children:e("billing.clearData")})]})]})]}),s.jsxs("div",{className:"billing-filters",children:[s.jsxs("div",{className:"filter-group",children:[s.jsxs("label",{children:[" ",e("billing.startDate"),":",s.jsx("input",{type:"date",value:h,onChange:se=>g(se.target.value),placeholder:e("billing.startDate"),max:f||void 0})]}),s.jsxs("label",{children:[" ",e("billing.endDate"),":",s.jsx("input",{type:"date",value:f,onChange:se=>b(se.target.value),placeholder:e("billing.endDate"),min:h||void 0})]}),s.jsxs("label",{children:[" ",e("billing.type"),":",s.jsxs("select",{value:x,onChange:se=>E(se.target.value),children:[s.jsx("option",{value:"",children:e("billing.allTypes")}),mt.map(se=>s.jsx("option",{value:se,children:e(`billing.types.${se}`,se.replace(/_/g," ").replace(/\b\w/g,Ce=>Ce.toUpperCase()))},se))]})]}),s.jsxs("label",{children:[" ",e("billing.provider"),":",s.jsxs("select",{value:v,onChange:se=>T(se.target.value),children:[s.jsx("option",{value:"",children:e("billing.allProviders")}),jt.map(se=>s.jsx("option",{value:se,children:se},se))]})]}),(h||f||x||v)&&s.jsx("button",{className:"btn-clear-filters",onClick:()=>{g(""),b(""),E(""),T("")},children:e("billing.clearFilters")})]}),s.jsxs("div",{style:{marginTop:"1rem",paddingTop:"1rem",borderTop:"1px solid #e0e0e0",display:"flex",gap:"0.5rem",flexWrap:"wrap",alignItems:"center"},children:[s.jsx("span",{style:{fontSize:"0.85rem",color:"#666",fontWeight:500},children:e("billing.quickRanges")}),s.jsx("button",{className:"btn-clear-filters",style:{fontSize:"0.8rem",padding:"0.4rem 0.8rem"},onClick:()=>{const se=new Date;g(se.toISOString().split("T")[0]),b(se.toISOString().split("T")[0])},children:e("billing.today")}),s.jsx("button",{className:"btn-clear-filters",style:{fontSize:"0.8rem",padding:"0.4rem 0.8rem"},onClick:()=>{const se=new Date,Ce=new Date(se);Ce.setDate(se.getDate()-7),g(Ce.toISOString().split("T")[0]),b(se.toISOString().split("T")[0])},children:e("billing.last7Days")}),s.jsx("button",{className:"btn-clear-filters",style:{fontSize:"0.8rem",padding:"0.4rem 0.8rem"},onClick:()=>{const se=new Date,Ce=new Date(se);Ce.setMonth(se.getMonth()-1),g(Ce.toISOString().split("T")[0]),b(se.toISOString().split("T")[0])},children:e("billing.last30Days")}),s.jsx("button",{className:"btn-clear-filters",style:{fontSize:"0.8rem",padding:"0.4rem 0.8rem"},onClick:()=>{const se=new Date,Ce=new Date(se.getFullYear(),se.getMonth(),1);g(Ce.toISOString().split("T")[0]),b(se.toISOString().split("T")[0])},children:e("billing.thisMonth")})]})]}),s.jsxs("div",{className:"billing-tabs",children:[s.jsx("button",{className:R==="overview"?"active":"",onClick:()=>D("overview"),children:e("billing.overview")}),s.jsxs("button",{className:R==="transactions"?"active":"",onClick:()=>D("transactions"),children:[e("billing.transactions")," (",we.length,")"]})]}),R==="overview"&&s.jsxs("div",{className:"billing-overview",children:[s.jsxs("div",{className:"summary-cards",children:[s.jsxs("div",{className:"summary-card",style:{background:z>0?"linear-gradient(135deg, #667eea 0%, #764ba2 100%)":"linear-gradient(135deg, #f093fb 0%, #f5576c 100%)",color:"white",boxShadow:"0 4px 12px rgba(0,0,0,0.15)",border:"2px solid rgba(255,255,255,0.3)"},children:[s.jsx("div",{className:"summary-label",style:{color:"rgba(255,255,255,0.9)",fontSize:"1.1rem",fontWeight:"bold",marginBottom:"8px"},children:e("billing.balance")}),s.jsxs("div",{className:"summary-value",style:{fontSize:"2.5rem",fontWeight:"bold",marginBottom:"12px"},children:["$",z.toFixed(2)]}),s.jsxs("div",{style:{fontSize:"0.75rem",color:"rgba(255,255,255,0.7)",marginTop:"8px",paddingTop:"8px",borderTop:"1px solid rgba(255,255,255,0.2)"},children:[e("billing.totalCredits"),": $",X.toFixed(2)]}),s.jsx("button",{style:{background:"white",color:"#764ba2",border:"none",padding:"8px 16px",borderRadius:"6px",fontSize:"0.85rem",fontWeight:"bold",cursor:"pointer",marginTop:"12px",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},onClick:()=>Y(!0),children:e("billing.purchaseCredits")})]}),s.jsxs("div",{className:"summary-card",children:[s.jsx("div",{className:"summary-label",children:e("billing.totalCost")}),s.jsxs("div",{className:"summary-value",children:["$",_t.totalCost.toFixed(4)]}),s.jsx("div",{style:{fontSize:"0.75rem",color:"#666",marginTop:"4px"},children:e("billing.usageOnly")})]}),s.jsxs("div",{className:"summary-card",children:[s.jsx("div",{className:"summary-label",children:e("billing.totalTokens")}),s.jsx("div",{className:"summary-value",children:_t.totalTokens.toLocaleString()}),s.jsxs("div",{style:{fontSize:"0.75rem",color:"#666",marginTop:"4px"},children:[e("billing.tokensIn"),": ",_t.totalTokensIn.toLocaleString()," | ",e("billing.tokensOut"),": ",_t.totalTokensOut.toLocaleString()]})]}),s.jsxs("div",{className:"summary-card",children:[s.jsx("div",{className:"summary-label",children:e("billing.totalRequests")}),s.jsxs("div",{className:"summary-value",children:[_t.totalUserQueries," / ",_t.totalLLMCalls]}),s.jsx("div",{style:{fontSize:"0.75rem",color:"#666",marginTop:"4px"},children:e("billing.userQueriesLlmCalls")})]})]}),_t.byType&&Object.keys(_t.byType).length>0&&s.jsxs("div",{className:"breakdown-section",children:[s.jsx("h3",{children:e("billing.byType")}),s.jsxs("table",{className:"breakdown-table",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:e("billing.type")}),s.jsx("th",{children:e("billing.requests")}),s.jsx("th",{children:e("billing.tokensIn")}),s.jsx("th",{children:e("billing.tokensOut")}),s.jsx("th",{children:e("billing.totalTokens")}),s.jsx("th",{children:e("billing.cost")})]})}),s.jsx("tbody",{children:Object.entries(_t.byType).map(([se,Ce])=>s.jsxs("tr",{children:[s.jsx("td",{children:se}),s.jsx("td",{children:Ce.count}),s.jsx("td",{children:Ce.tokensIn.toLocaleString()}),s.jsx("td",{children:Ce.tokensOut.toLocaleString()}),s.jsx("td",{children:Ce.tokens.toLocaleString()}),s.jsxs("td",{children:["$",Ce.cost.toFixed(4)]})]},se))})]})]}),_t.byProvider&&Object.keys(_t.byProvider).length>0&&s.jsxs("div",{className:"breakdown-section",children:[s.jsx("h3",{children:e("billing.byProvider")}),s.jsxs("table",{className:"breakdown-table",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:e("billing.provider")}),s.jsx("th",{children:e("billing.requests")}),s.jsx("th",{children:e("billing.tokensIn")}),s.jsx("th",{children:e("billing.tokensOut")}),s.jsx("th",{children:e("billing.totalTokens")}),s.jsx("th",{children:e("billing.cost")})]})}),s.jsx("tbody",{children:Object.entries(_t.byProvider).map(([se,Ce])=>s.jsxs("tr",{children:[s.jsx("td",{children:se}),s.jsx("td",{children:Ce.count}),s.jsx("td",{children:Ce.tokensIn.toLocaleString()}),s.jsx("td",{children:Ce.tokensOut.toLocaleString()}),s.jsx("td",{children:Ce.tokens.toLocaleString()}),s.jsxs("td",{children:["$",Ce.cost.toFixed(4)]})]},se))})]})]}),_t.byModel&&Object.keys(_t.byModel).length>0&&s.jsxs("div",{className:"breakdown-section",children:[s.jsx("h3",{children:e("billing.byModel")}),s.jsxs("table",{className:"breakdown-table",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:e("billing.provider")}),s.jsx("th",{children:e("billing.model")}),s.jsx("th",{children:e("billing.requests")}),s.jsx("th",{children:e("billing.tokensIn")}),s.jsx("th",{children:e("billing.tokensOut")}),s.jsx("th",{children:e("billing.totalTokens")}),s.jsx("th",{children:e("billing.cost")})]})}),s.jsx("tbody",{children:Object.entries(_t.byModel).filter(([se,Ce])=>Ce&&Ce.provider).sort((se,Ce)=>{const De=se[1].provider.localeCompare(Ce[1].provider);return De!==0?De:se[0].localeCompare(Ce[0])}).map(([se,Ce])=>s.jsxs("tr",{children:[s.jsx("td",{children:Ce.provider}),s.jsx("td",{children:se}),s.jsx("td",{children:Ce.count}),s.jsx("td",{children:Ce.tokensIn.toLocaleString()}),s.jsx("td",{children:Ce.tokensOut.toLocaleString()}),s.jsx("td",{children:Ce.tokens.toLocaleString()}),s.jsxs("td",{children:["$",Ce.cost.toFixed(4)]})]},se))})]})]})]}),R==="transactions"&&s.jsxs("div",{className:"billing-transactions",children:[s.jsxs("div",{style:{marginBottom:"1rem",padding:"0.75rem",background:"#f5f5f5",borderRadius:"8px",display:"flex",alignItems:"center",gap:"0.5rem"},children:[s.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",cursor:"pointer"},children:[s.jsx("input",{type:"checkbox",checked:L,onChange:se=>j(se.target.checked),style:{cursor:"pointer"}}),s.jsx("span",{style:{fontWeight:500,fontSize:"0.9rem"},children:e("billing.groupByRequestId")})]}),s.jsxs("select",{value:he,onChange:se=>{ye(Number(se.target.value)),ie(1)},style:{padding:"0.4rem 0.6rem",border:"1px solid #ccc",borderRadius:"4px",fontSize:"0.85rem"},children:[s.jsxs("option",{value:50,children:["50 ",e("billing.perPage")]}),s.jsxs("option",{value:100,children:["100 ",e("billing.perPage")]}),s.jsxs("option",{value:250,children:["250 ",e("billing.perPage")]}),s.jsxs("option",{value:500,children:["500 ",e("billing.perPage")]}),s.jsxs("option",{value:1e3,children:["1000 ",e("billing.perPage")]})]}),s.jsx("span",{style:{fontSize:"0.85rem",color:"#666",marginLeft:"auto"},children:L?e("billing.totalRequestGroups",{total:dr.size,showing:ar.size,ungrouped:Jt.length}):e("billing.totalTransactionsShowing",{total:Je,showing:kt.length})})]}),s.jsxs("div",{className:"transactions-table-container",children:[s.jsxs("table",{className:"transactions-table",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[L&&s.jsx("th",{style:{width:"40px"},children:""}),s.jsx("th",{children:e("billing.timestamp")}),s.jsx("th",{children:e("billing.type")}),s.jsx("th",{children:e("billing.provider")}),s.jsx("th",{children:e("billing.model")}),s.jsx("th",{children:e("billing.tokens")}),s.jsx("th",{children:e("billing.cost")}),s.jsx("th",{children:e("billing.duration")}),s.jsx("th",{children:e("billing.status")})]})}),s.jsx("tbody",{children:L?s.jsxs(s.Fragment,{children:[Array.from(ar.entries()).map(([se,Ce])=>{const De=B.has(se),dt=Ce.reduce((Ct,je)=>Ct+je.cost,0),lt=Ce.reduce((Ct,je)=>Ct+je.totalTokens,0),qt=Ce.reduce((Ct,je)=>Ct+je.durationMs,0),Ft=Ce[0];return s.jsxs(ir.Fragment,{children:[s.jsxs("tr",{onClick:()=>le(se),style:{background:"#f0f0f0",fontWeight:500,cursor:"pointer",userSelect:"none"},children:[s.jsx("td",{style:{textAlign:"center"},children:De?"":""}),s.jsx("td",{children:new Date(Ft.timestamp).toLocaleString()}),s.jsx("td",{colSpan:3,children:s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[s.jsx("span",{children:e("billing.requestGroup",{count:Ce.length})}),s.jsxs("code",{style:{fontSize:"0.75rem",background:"#fff",padding:"2px 6px",borderRadius:"4px",color:"#666"},children:[se.substring(0,12),"..."]})]})}),s.jsx("td",{children:lt.toLocaleString()}),s.jsx("td",{children:s.jsxs("strong",{children:["$",dt.toFixed(6)]})}),s.jsxs("td",{children:[qt,"ms"]}),s.jsx("td",{className:Ce.every(Ct=>Ct.status==="success")?"status-success":"status-error",children:Ce.every(Ct=>Ct.status==="success")?"success":"partial"})]}),De&&Ce.map((Ct,je)=>s.jsxs("tr",{style:{...String(Ct.type)==="guardrail_input"||String(Ct.type)==="guardrail_output"?{background:"#fffde7"}:String(Ct.type)==="image_generation"?{background:"#e3f2fd"}:String(Ct.type)==="tts"?{background:"#f3e5f5"}:{background:"#fafafa"},borderLeft:"3px solid #ddd"},children:[s.jsx("td",{style:{textAlign:"center",color:"#ccc"},children:""}),s.jsx("td",{style:{paddingLeft:"2rem",fontSize:"0.9rem"},children:new Date(Ct.timestamp).toLocaleString()}),s.jsx("td",{children:String(Ct.type)==="guardrail_input"?" Guardrail Input":String(Ct.type)==="guardrail_output"?" Guardrail Output":String(Ct.type)==="image_generation"?" Image Generation":String(Ct.type)==="tts"?" Text-to-Speech":String(Ct.type)==="chat"?"Chat":String(Ct.type)==="embedding"?"Embedding":String(Ct.type)==="planning"?"Planning":typeof Ct.type=="string"?String(Ct.type).replace(/_/g," ").replace(/\b\w/g,it=>it.toUpperCase()):String(Ct.type)}),s.jsx("td",{children:Ct.provider}),s.jsx("td",{children:Ct.model}),s.jsx("td",{children:Ct.totalTokens.toLocaleString()}),s.jsxs("td",{children:["$",Ct.cost.toFixed(6)]}),s.jsxs("td",{children:[Ct.durationMs,"ms"]}),s.jsx("td",{className:Ct.status==="success"?"status-success":"status-error",children:Ct.status})]},`${se}-${je}`))]},se)}),kr.map((se,Ce)=>s.jsxs("tr",{style:String(se.type)==="guardrail_input"||String(se.type)==="guardrail_output"?{background:"#fffde7"}:String(se.type)==="image_generation"?{background:"#e3f2fd"}:String(se.type)==="tts"?{background:"#f3e5f5"}:{},children:[s.jsx("td",{style:{textAlign:"center",color:"#ccc"},children:""}),s.jsx("td",{children:new Date(se.timestamp).toLocaleString()}),s.jsx("td",{children:e(`billing.types.${se.type}`,{defaultValue:typeof se.type=="string"?String(se.type).replace(/_/g," ").replace(/\b\w/g,De=>De.toUpperCase()):String(se.type)})}),s.jsx("td",{children:se.provider}),s.jsx("td",{children:se.model}),s.jsx("td",{children:se.totalTokens.toLocaleString()}),s.jsxs("td",{children:["$",se.cost.toFixed(6)]}),s.jsxs("td",{children:[se.durationMs,"ms"]}),s.jsx("td",{className:se.status==="success"?"status-success":"status-error",children:se.status})]},`ungrouped-${Ce}`))]}):a.transactions.map((se,Ce)=>s.jsxs("tr",{style:String(se.type)==="guardrail_input"||String(se.type)==="guardrail_output"?{background:"#fffde7"}:String(se.type)==="image_generation"?{background:"#e3f2fd"}:String(se.type)==="tts"?{background:"#f3e5f5"}:{},children:[s.jsx("td",{children:new Date(se.timestamp).toLocaleString()}),s.jsx("td",{children:e(`billing.types.${se.type}`,{defaultValue:typeof se.type=="string"?String(se.type).replace(/_/g," ").replace(/\b\w/g,De=>De.toUpperCase()):String(se.type)})}),s.jsx("td",{children:se.provider}),s.jsx("td",{children:se.model}),s.jsx("td",{children:se.totalTokens.toLocaleString()}),s.jsxs("td",{children:["$",se.cost.toFixed(6)]}),s.jsxs("td",{children:[se.durationMs,"ms"]}),s.jsx("td",{className:se.status==="success"?"status-success":"status-error",children:se.status})]},Ce))})]}),s.jsxs("div",{style:{marginTop:"1rem",display:"flex",justifyContent:"center",alignItems:"center",gap:"1rem",padding:"1rem",borderTop:"1px solid #eee"},children:[s.jsxs("button",{onClick:()=>ie(1),disabled:F===1,style:{padding:"0.5rem 0.75rem",border:"1px solid #ccc",borderRadius:"4px",background:F===1?"#f5f5f5":"white",cursor:F===1?"not-allowed":"pointer",fontSize:"0.85rem"},children:[" ",e("billing.first")]}),s.jsxs("button",{onClick:()=>ie(F-1),disabled:F===1,style:{padding:"0.5rem 0.75rem",border:"1px solid #ccc",borderRadius:"4px",background:F===1?"#f5f5f5":"white",cursor:F===1?"not-allowed":"pointer",fontSize:"0.85rem"},children:[" ",e("billing.prev")]}),s.jsxs("span",{style:{fontSize:"0.9rem",fontWeight:500},children:[e("billing.page")," ",F," ",e("billing.of")," ",Ke]}),s.jsxs("button",{onClick:()=>ie(F+1),disabled:F===Ke,style:{padding:"0.5rem 0.75rem",border:"1px solid #ccc",borderRadius:"4px",background:F===Ke?"#f5f5f5":"white",cursor:F===Ke?"not-allowed":"pointer",fontSize:"0.85rem"},children:[e("billing.next")," "]}),s.jsxs("button",{onClick:()=>ie(Ke),disabled:F===Ke,style:{padding:"0.5rem 0.75rem",border:"1px solid #ccc",borderRadius:"4px",background:F===Ke?"#f5f5f5":"white",cursor:F===Ke?"not-allowed":"pointer",fontSize:"0.85rem"},children:[e("billing.last")," "]})]})]})]}),s.jsx($Ie,{isOpen:w,onClose:()=>N(!1),onConfirm:pe,providers:jt}),$&&s.jsx("div",{className:"modal-overlay",onClick:()=>Y(!1),children:s.jsxs("div",{className:"modal-content",onClick:se=>se.stopPropagation(),style:{maxWidth:"500px"},children:[s.jsxs("div",{className:"modal-header",children:[s.jsx("h2",{children:e("billing.addCreditsTitle")}),s.jsx("button",{className:"modal-close",onClick:()=>Y(!1),children:""})]}),s.jsxs("div",{className:"modal-body",children:[s.jsx("div",{style:{marginBottom:"20px"},children:s.jsx("p",{children:e("billing.purchaseCreditsDescription")})}),s.jsxs("div",{style:{marginBottom:"20px"},children:[s.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"bold"},children:e("billing.enterAmount")}),s.jsx("input",{type:"number",min:"5",step:"1",value:V,onChange:se=>ne(se.target.value),style:{width:"100%",padding:"10px",fontSize:"1rem",border:"1px solid #ddd",borderRadius:"4px"},placeholder:e("billing.minimumPurchase")})]}),s.jsxs("div",{style:{background:"#f5f5f5",padding:"15px",borderRadius:"4px",marginBottom:"20px"},children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"8px"},children:[s.jsx("span",{children:e("billing.creditsToAdd")}),s.jsxs("strong",{children:["$",parseFloat(V||"0").toFixed(2)]})]}),s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"0.9rem",color:"#666"},children:[s.jsx("span",{children:e("billing.newBalance")}),s.jsxs("span",{children:["$",(z+parseFloat(V||"0")).toFixed(2)]})]})]}),s.jsx("div",{style:{padding:"12px",background:"#e3f2fd",borderRadius:"4px",fontSize:"0.9rem",marginBottom:"20px"},children:e("billing.tipUseOwnKeys")}),s.jsx("div",{ref:G,style:{minHeight:"150px",display:P?"none":"block"}}),P&&s.jsx("div",{style:{textAlign:"center",padding:"40px",color:"#666"},children:e("billing.loadingPayPal")}),!window.paypal&&s.jsx("div",{style:{padding:"15px",background:"#fff3cd",border:"1px solid #ffc107",borderRadius:"4px",color:"#856404"},children:e("billing.paypalNotLoaded")})]}),s.jsx("div",{className:"modal-footer",children:s.jsx("button",{className:"btn-secondary",onClick:()=>Y(!1),children:e("common.close")})})]})})]})})};function zIe(){const e=ni(),[t,r]=C.useState("features"),n=C.useRef(null);C.useEffect(()=>{n.current&&(n.current.scrollTop=0)},[t]);const a=[{id:"features",label:"Features & Advantages",icon:""},{id:"planning",label:"Planning & SWAG",icon:""},{id:"tools",label:"Backend LLM Tools",icon:""},{id:"rag",label:"Browser RAG",icon:""},{id:"pricing",label:"Pricing",icon:""}];return s.jsxs("div",{className:"h-full flex flex-col bg-white dark:bg-gray-900",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 border-b dark:border-gray-700",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Help & Documentation"}),s.jsxs("button",{onClick:()=>e("/privacy"),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors",children:[s.jsx("span",{children:""}),s.jsx("span",{className:"text-sm font-medium",children:"Privacy Policy"})]})]}),s.jsx("div",{className:"flex gap-1 p-2 border-b dark:border-gray-700 overflow-x-auto bg-gray-50 dark:bg-gray-800",children:a.map(i=>s.jsxs("button",{onClick:()=>r(i.id),className:`flex items-center gap-2 px-4 py-2 rounded-lg whitespace-nowrap transition-colors ${t===i.id?"bg-blue-600 text-white":"bg-white dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-600"}`,children:[s.jsx("span",{children:i.icon}),s.jsx("span",{className:"text-sm font-medium",children:i.label})]},i.id))}),s.jsx("div",{ref:n,className:"flex-1 overflow-y-auto p-6",children:s.jsxs("div",{className:"max-w-4xl text-left",children:[t==="features"&&s.jsx(GIe,{}),t==="planning"&&s.jsx(qIe,{}),t==="tools"&&s.jsx(WIe,{}),t==="rag"&&s.jsx(YIe,{}),t==="pricing"&&s.jsx(VIe,{})]})})]})}function GIe(){return s.jsxs("div",{className:"space-y-6 text-gray-800 dark:text-gray-200 text-left",children:[s.jsx("h2",{className:"text-3xl font-bold mb-4 text-left",children:"Features & Advantages"}),s.jsxs("section",{className:"space-y-4",children:[s.jsx("h3",{className:"text-xl font-semibold text-green-600 dark:text-green-400",children:" Why Research Agent is Better Than ChatGPT"}),s.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-blue-50 dark:from-green-900/20 dark:to-blue-900/20 p-5 rounded-lg border-2 border-green-300 dark:border-green-700 mb-6",children:[s.jsx("p",{className:"mb-4",children:"While ChatGPT is a powerful AI assistant, Research Agent offers significant advantages for users who want more control, flexibility, and cost optimization:"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"border-l-4 border-green-500 pl-4",children:[s.jsx("p",{className:"font-semibold text-green-700 dark:text-green-300",children:" Access Multiple AI Providers"}),s.jsx("p",{className:"text-sm",children:"Choose from OpenAI, Google Gemini, Groq, Together AI, and custom endpoints - not locked into a single provider. Switch between models seamlessly to find the best fit for each task. Distribute the load among providers to minimise rate limits and costs."})]}),s.jsxs("div",{className:"border-l-4 border-teal-500 pl-4",children:[s.jsx("p",{className:"font-semibold text-teal-700 dark:text-teal-300",children:" Automatic Model Selection"}),s.jsx("p",{className:"text-sm",children:"The system intelligently decides what kind of model is a suitable balance between cost and effectiveness for your query. No point in paying Einstein to do basic maths - simple questions get fast, cheap models while complex reasoning tasks get more powerful models."})]}),s.jsxs("div",{className:"border-l-4 border-blue-500 pl-4",children:[s.jsx("p",{className:"font-semibold text-blue-700 dark:text-blue-300",children:" Massive Cost Savings with BYOK"}),s.jsx("p",{className:"text-sm",children:"Bring Your Own API Keys and pay $0 for LLM operations! Use Groq's unlimited free tier or Google Gemini's generous quotas. Only pay minimal infrastructure fees (~$0.0004 per request) instead of ChatGPT Plus $20/month."})]}),s.jsxs("div",{className:"border-l-4 border-purple-500 pl-4",children:[s.jsx("p",{className:"font-semibold text-purple-700 dark:text-purple-300",children:" Advanced Planning & Research Tools"}),s.jsx("p",{className:"text-sm",children:"Built-in planning mode breaks complex questions into steps. Integrated web search (DuckDuckGo, Tavily), advanced web scraping (Puppeteer, Playwright, Selenium), and YouTube integration for comprehensive research."})]}),s.jsxs("div",{className:"border-l-4 border-amber-500 pl-4",children:[s.jsx("p",{className:"font-semibold text-amber-700 dark:text-amber-300",children:" Persistent Iteration"}),s.jsx("p",{className:"text-sm",children:"The agent is prompted to be generous with calling tools and generating responses to make sure you get the answers you want. An assessor call is made before giving up on your request, ensuring thorough and complete responses."})]}),s.jsxs("div",{className:"border-l-4 border-orange-500 pl-4",children:[s.jsx("p",{className:"font-semibold text-orange-700 dark:text-orange-300",children:" Knowledge Management with Browser RAG"}),s.jsx("p",{className:"text-sm",children:"Save snippets to your personal knowledge base, create semantic embeddings, and retrieve relevant context during conversations. Optional Google Drive sync keeps your data accessible across devices."})]}),s.jsxs("div",{className:"border-l-4 border-pink-500 pl-4",children:[s.jsx("p",{className:"font-semibold text-pink-700 dark:text-pink-300",children:" Full Transparency & Control"}),s.jsx("p",{className:"text-sm",children:"See exact costs for each request, token counts, model selection reasoning, and detailed API interactions. Enable/disable specific tools, customize provider priorities, and maintain complete control over your AI usage."})]}),s.jsxs("div",{className:"border-l-4 border-indigo-500 pl-4",children:[s.jsx("p",{className:"font-semibold text-indigo-700 dark:text-indigo-300",children:" Privacy-First Architecture"}),s.jsx("p",{className:"text-sm",children:"Chat history and content stored locally in your browser's IndexedDB - not on our servers. When using your own API keys, your prompts go directly from Lambda to your chosen provider with no middleman storage."})]})]})]})]}),s.jsx("section",{className:"space-y-4",children:s.jsxs("div",{className:"bg-gradient-to-r from-indigo-50 to-purple-50 dark:from-indigo-900/20 dark:to-purple-900/20 p-5 rounded-lg border-2 border-indigo-300 dark:border-indigo-700",children:[s.jsx("h3",{className:"text-xl font-semibold text-indigo-600 dark:text-indigo-400 mb-3",children:" New to Research Agent?"}),s.jsx("p",{className:"mb-3 text-sm",children:"If you're just getting started or want a quick refresher on the key features, you can replay the interactive welcome tour that introduces you to the main components of the application."}),s.jsxs("button",{onClick:()=>{h6(),window.location.reload()},className:"flex items-center gap-2 px-4 py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg transition-colors font-medium",children:[s.jsx("span",{children:""}),s.jsx("span",{children:"Replay Welcome Tour"})]})]})}),s.jsxs("section",{className:"space-y-4",children:[s.jsx("h3",{className:"text-xl font-semibold text-blue-600 dark:text-blue-400",children:" Multi-Provider LLM Access with Intelligent Load Balancing"}),s.jsx("p",{className:"mb-3",children:"Access multiple AI providers seamlessly through a single interface. The system intelligently selects the best provider for each request using sophisticated load balancing that considers multiple factors to optimize performance, cost, and reliability."}),s.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg border border-blue-200 dark:border-blue-800 mb-4",children:[s.jsx("p",{className:"font-semibold mb-2",children:"Smart Provider Selection Considers:"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 text-sm",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-blue-700 dark:text-blue-300",children:"Performance Factors:"}),s.jsxs("ul",{className:"list-disc pl-5 mt-1 space-y-1",children:[s.jsx("li",{children:"Model capability requirements"}),s.jsx("li",{children:"Response speed optimization"}),s.jsx("li",{children:"Current API availability"}),s.jsx("li",{children:"Rate limit status"})]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-blue-700 dark:text-blue-300",children:"Cost & Strategy:"}),s.jsxs("ul",{className:"list-disc pl-5 mt-1 space-y-1",children:[s.jsx("li",{children:"Pricing tier optimization"}),s.jsx("li",{children:"Free tier preference"}),s.jsx("li",{children:"Custom priority settings"}),s.jsx("li",{children:"Fallback chain resilience"})]})]})]})]}),s.jsx("p",{className:"font-medium mb-2",children:"Supported Providers:"}),s.jsxs("div",{className:"space-y-2 pl-4",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"OpenAI:"})," Industry-leading models including GPT-4, GPT-4o, GPT-4 Turbo, and GPT-4o-mini for high-quality generation and reasoning tasks."]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Google Gemini:"})," Advanced multimodal models (Gemini 1.5 Pro, 2.0 Flash, 2.5 Pro) with generous free tier limits for cost-effective usage."]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Groq:"})," Ultra-fast inference engine delivering responses up to 10x faster using Llama, Mixtral, and Gemma models, perfect for real-time applications."]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Together AI:"})," Access to cutting-edge open source models including Llama 4, DeepSeek, and specialized models, with trial credits available."]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Custom Endpoints:"})," Bring your own OpenAI-compatible API endpoints for complete flexibility and control over model selection."]})]})]}),s.jsxs("section",{className:"space-y-4",children:[s.jsx("h3",{className:"text-xl font-semibold text-blue-600 dark:text-blue-400",children:" Web Search & Scraping Integration"}),s.jsx("p",{className:"mb-3",children:"Get real-time information and extract content from any website using integrated search and advanced web scraping capabilities. The system intelligently handles both simple searches and complex data extraction with multiple fallback strategies."}),s.jsxs("div",{className:"bg-purple-50 dark:bg-purple-900/20 p-4 rounded-lg border border-purple-200 dark:border-purple-800 mb-4",children:[s.jsx("p",{className:"font-semibold mb-2",children:"Web Search Capabilities:"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"DuckDuckGo Search:"})," Privacy-focused web search that doesn't track your queries or build user profiles, ideal for general information retrieval and finding relevant URLs."]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Tavily AI:"})," Advanced AI-powered research engine optimized for gathering comprehensive information from multiple sources (requires API key)."]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Automatic Citation:"})," All search results include source URLs, allowing you to verify information and explore topics further."]})]})]}),s.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg border border-blue-200 dark:border-blue-800",children:[s.jsx("p",{className:"font-semibold mb-3",children:"Advanced Web Scraping Tools:"}),s.jsx("p",{className:"mb-3",children:"Extract structured content from websites that require JavaScript execution, handle anti-bot protection, or need complex interactions. The system automatically selects the best scraping method based on the target site's requirements."}),s.jsxs("div",{className:"space-y-3 mb-3",children:[s.jsxs("div",{className:"border-l-4 border-blue-500 pl-3",children:[s.jsx("p",{className:"font-medium text-blue-700 dark:text-blue-300",children:"Direct HTTP Scraping"}),s.jsx("p",{className:"text-sm",children:"Fast extraction of static HTML content using standard HTTP requests - ideal for simple pages and APIs."})]}),s.jsxs("div",{className:"border-l-4 border-purple-500 pl-3",children:[s.jsx("p",{className:"font-medium text-purple-700 dark:text-purple-300",children:"Puppeteer Scraping"}),s.jsx("p",{className:"text-sm",children:"Headless Chrome automation for JavaScript-heavy sites - executes page scripts, waits for dynamic content, and can interact with elements before extraction."})]}),s.jsxs("div",{className:"border-l-4 border-green-500 pl-3",children:[s.jsx("p",{className:"font-medium text-green-700 dark:text-green-300",children:"Playwright Scraping (Self-Hosted)"}),s.jsxs("p",{className:"text-sm",children:["Cross-browser automation with advanced capabilities - supports multiple browser engines, automatic waiting for elements, and sophisticated page interaction patterns. ",s.jsx("strong",{children:"Only available when running the service on your own computer"}),"(see ",s.jsx("a",{href:"https://github.com/syntithenai/lambdallmproxy",target:"_blank",rel:"noopener noreferrer",className:"text-green-600 dark:text-green-400 hover:underline",children:"GitHub repo"}),"), with the advantage of not paying infrastructure costs."]})]}),s.jsxs("div",{className:"border-l-4 border-orange-500 pl-3",children:[s.jsx("p",{className:"font-medium text-orange-700 dark:text-orange-300",children:"Selenium Scraping (Self-Hosted)"}),s.jsxs("p",{className:"text-sm",children:["Industry-standard browser automation with extensive ecosystem - handles complex workflows, form submissions, and sites with strict anti-automation measures. ",s.jsx("strong",{children:"Only available when running the service on your own computer"}),"(see ",s.jsx("a",{href:"https://github.com/syntithenai/lambdallmproxy",target:"_blank",rel:"noopener noreferrer",className:"text-orange-600 dark:text-orange-400 hover:underline",children:"GitHub repo"}),"), with the advantage of not paying infrastructure costs."]})]})]}),s.jsxs("div",{className:"bg-gradient-to-r from-orange-50 to-red-50 dark:from-orange-900/30 dark:to-red-900/30 p-3 rounded-lg border border-orange-300 dark:border-orange-700",children:[s.jsx("p",{className:"font-semibold text-orange-800 dark:text-orange-200 mb-2",children:" Residential Proxy Support (Optional)"}),s.jsx("p",{className:"text-sm",children:"For websites with stringent bot detection and protection systems, the scraper can route requests through residential proxy networks. This provides real residential IP addresses that appear as legitimate users, allowing successful data extraction from sites that block datacenter IPs, implement CAPTCHA challenges, or employ sophisticated fingerprinting techniques. Particularly useful for e-commerce sites, social media platforms, and services with aggressive anti-scraping measures."})]})]})]}),s.jsxs("section",{className:"space-y-4",children:[s.jsx("h3",{className:"text-xl font-semibold text-blue-600 dark:text-blue-400",children:" Intelligent Planning Mode"}),s.jsx("p",{className:"mb-2",children:"Complex queries benefit from planning before execution. Planning mode breaks down sophisticated questions into manageable steps, executes them efficiently, and synthesizes results into comprehensive answers."}),s.jsxs("div",{className:"space-y-2 pl-4",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Research Planning:"})," Automatically decomposes complex questions into focused sub-queries for thorough investigation."]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Multi-Step Execution:"})," Sequentially executes searches, analyzes intermediate results, and adapts the research strategy based on findings."]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Cost Optimization:"})," Minimizes token usage by planning efficient query sequences and avoiding redundant API calls."]})]})]}),s.jsxs("section",{className:"space-y-4",children:[s.jsx("h3",{className:"text-xl font-semibold text-blue-600 dark:text-blue-400",children:" Rich Media Support"}),s.jsxs("div",{className:"space-y-2 pl-4",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Image Generation:"})," Create images using DALL-E 3, Stable Diffusion, or Flux models with customizable styles and quality settings."]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Chart Generation:"})," Visualize data and processes with Mermaid diagrams including flowcharts, sequence diagrams, Gantt charts, and more."]}),s.jsxs("p",{children:[s.jsx("strong",{children:"YouTube Integration:"})," Search for videos, extract transcripts, and analyze video content without leaving the interface."]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Audio Transcription:"})," Convert audio and video files to searchable text using OpenAI's Whisper model with high accuracy."]})]})]}),s.jsxs("section",{className:"space-y-4",children:[s.jsx("h3",{className:"text-xl font-semibold text-blue-600 dark:text-blue-400",children:" Knowledge Management"}),s.jsxs("div",{className:"space-y-2 pl-4",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Content Management:"})," Save snippets, images, and links to your personal knowledge base with tagging and organization features."]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Browser RAG:"})," Search your saved content using semantic embeddings for intelligent context retrieval during conversations."]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Chat History:"})," Persistent storage of all conversations with full-text search capabilities for easy reference."]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Google Drive Sync:"})," Optionally backup your content to your personal Google Drive for cross-device access and data persistence."]})]})]}),s.jsxs("section",{className:"space-y-4",children:[s.jsx("h3",{className:"text-xl font-semibold text-blue-600 dark:text-blue-400",children:" Media Playback"}),s.jsxs("div",{className:"space-y-2 pl-4",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Background Player:"})," Play audio content from YouTube, podcasts, and other sources while continuing to use the chat interface."]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Playlists:"})," Queue multiple audio tracks and manage playback with standard controls."]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Chromecast Support:"})," Cast audio to compatible TV speakers or smart devices for enhanced listening experience."]})]})]})]})}function qIe(){return s.jsxs("div",{className:"space-y-6 text-gray-800 dark:text-gray-200 text-left",children:[s.jsx("h2",{className:"text-3xl font-bold mb-4 text-left",children:"Planning Wizard, Todos & Content Management for Long-Term Thinking"}),s.jsxs("section",{className:"space-y-4",children:[s.jsx("h3",{className:"text-xl font-semibold text-blue-600 dark:text-blue-400",children:" Creating Effective Plans"}),s.jsxs("p",{className:"mb-3",children:["Whether you're tackling complex research, building documents, or managing multi-step projects, effective planning helps the AI deliver better results. You can create plans explicitly using the ",s.jsx("strong",{children:'"Create a Plan"'})," button in the chat interface, or let the AI generate them automatically based on your needs."]}),s.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 dark:from-blue-900/20 dark:to-purple-900/20 p-5 rounded-lg border border-blue-200 dark:border-blue-800 mb-4",children:[s.jsx("p",{className:"font-semibold mb-4 text-lg",children:"The Planning Process:"}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"border-l-4 border-blue-500 pl-4",children:[s.jsx("strong",{className:"text-blue-700 dark:text-blue-300 block mb-2",children:"1. Define Clear Objectives"}),s.jsx("p",{className:"text-sm mb-3",children:"Start with a detailed prompt that specifies what you want to achieve, the format you need, and any constraints or requirements. The more specific your initial request, the better the AI can plan."}),s.jsxs("div",{className:"bg-white dark:bg-gray-800/50 p-3 rounded border border-blue-200 dark:border-blue-700",children:[s.jsx("p",{className:"text-xs font-semibold text-gray-600 dark:text-gray-400 mb-2",children:"Example Prompts:"}),s.jsxs("div",{className:"space-y-2 text-xs italic text-gray-700 dark:text-gray-300",children:[s.jsx("p",{children:' "Create a comprehensive analysis of renewable energy trends, including solar, wind, and hydro. I need statistics from 2020-2024, key market players, and future projections. Format as a structured report."'}),s.jsx("p",{children:' "Build a 5-week curriculum for learning Python from scratch, with daily exercises, weekly projects, and assessment milestones. Target audience is complete beginners."'}),s.jsx("p",{children:' "Research the top 10 productivity apps for remote teams, compare their features, pricing, and user reviews, then create a decision matrix with recommendations for different team sizes."'}),s.jsx("p",{children:' "Develop a marketing strategy for launching a new mobile app. Include target audience analysis, competitive landscape, channel recommendations, and a 90-day action plan with budget estimates."'})]})]})]}),s.jsx("hr",{className:"border-gray-300 dark:border-gray-600"}),s.jsxs("div",{className:"border-l-4 border-purple-500 pl-4",children:[s.jsx("strong",{className:"text-purple-700 dark:text-purple-300 block mb-2",children:"2. Use Iteration & Tools"}),s.jsx("p",{className:"text-sm mb-3",children:"Plans work best when they leverage available tools strategically. The AI can break down complex tasks into steps that use web search for research, snippets for building documents incrementally, and todos for tracking progress across multiple sessions."}),s.jsxs("div",{className:"bg-white dark:bg-gray-800/50 p-3 rounded border border-purple-200 dark:border-purple-700",children:[s.jsx("p",{className:"text-xs font-semibold text-gray-600 dark:text-gray-400 mb-2",children:"Example Workflow:"}),s.jsx("p",{className:"text-xs text-gray-700 dark:text-gray-300",children:"Search for recent data  Save findings to snippets  Create todo items for each section  Build document piece by piece  Reference saved snippets when needed"})]})]}),s.jsx("hr",{className:"border-gray-300 dark:border-gray-600"}),s.jsxs("div",{className:"border-l-4 border-green-500 pl-4",children:[s.jsx("strong",{className:"text-green-700 dark:text-green-300 block mb-2",children:"3. Enable Planning Wizard (Optional)"}),s.jsxs("p",{className:"text-sm mb-3",children:["For research-heavy tasks, click the ",s.jsx("strong",{children:'"Create a Plan"'})," button in the chat interface to activate the Planning Wizard. This creates an explicit research plan before executing searches, ensuring comprehensive coverage and avoiding redundant queries."]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800/50 p-3 rounded border border-green-200 dark:border-green-700",children:[s.jsx("p",{className:"text-xs font-semibold text-gray-600 dark:text-gray-400 mb-2",children:"When to Use Planning Wizard:"}),s.jsxs("ul",{className:"text-xs space-y-1 pl-4 text-gray-700 dark:text-gray-300",children:[s.jsx("li",{children:" Multi-source research requiring synthesis from 5+ websites"}),s.jsx("li",{children:" Comparative analysis needing structured data gathering"}),s.jsx("li",{children:" Complex topics where you need to ensure thorough coverage"}),s.jsx("li",{children:" Time-sensitive research where you want to avoid re-searching"})]})]})]}),s.jsx("hr",{className:"border-gray-300 dark:border-gray-600"}),s.jsxs("div",{className:"border-l-4 border-orange-500 pl-4",children:[s.jsx("strong",{className:"text-orange-700 dark:text-orange-300 block mb-2",children:"4. Build Incrementally with Snippets"}),s.jsx("p",{className:"text-sm mb-3",children:"For document creation, use the snippet management tool to build content incrementally. The AI can save sections as snippets, update them as new information arrives, and reference them in future conversations to maintain consistency."}),s.jsxs("div",{className:"bg-white dark:bg-gray-800/50 p-3 rounded border border-orange-200 dark:border-orange-700",children:[s.jsx("p",{className:"text-xs font-semibold text-gray-600 dark:text-gray-400 mb-2",children:"Pro Tip:"}),s.jsx("p",{className:"text-xs italic text-gray-700 dark:text-gray-300",children:'Tag snippets by topic (e.g., "renewable-energy-solar", "renewable-energy-wind") for easy retrieval'})]})]}),s.jsx("hr",{className:"border-gray-300 dark:border-gray-600"}),s.jsxs("div",{className:"border-l-4 border-red-500 pl-4",children:[s.jsx("strong",{className:"text-red-700 dark:text-red-300 block mb-2",children:"5. Track with Todos"}),s.jsx("p",{className:"text-sm mb-3",children:"Use the todo management tool to track multi-step projects across sessions. The AI can create tasks, mark them complete as work progresses, and maintain context about what's been done and what remains."}),s.jsxs("div",{className:"bg-white dark:bg-gray-800/50 p-3 rounded border border-red-200 dark:border-red-700",children:[s.jsx("p",{className:"text-xs font-semibold text-gray-600 dark:text-gray-400 mb-2",children:"Example Prompts:"}),s.jsxs("div",{className:"space-y-1 text-xs italic text-gray-700 dark:text-gray-300",children:[s.jsx("p",{children:' "Create a todo list for organizing a conference: venue booking, speaker outreach, marketing plan, registration setup"'}),s.jsx("p",{children:' "Break down the website redesign project into actionable tasks with priorities"'})]})]})]})]})]}),s.jsxs("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 p-4 rounded-lg border border-yellow-200 dark:border-yellow-800",children:[s.jsx("p",{className:"font-semibold mb-2",children:" Pro Tip: Detailed Prompts = Better Plans"}),s.jsxs("p",{className:"text-sm",children:["When asking the AI to create a plan (either by clicking ",s.jsx("strong",{children:'"Create a Plan"'})," or through natural language), be explicit about your requirements, desired format, timeline, and any specific sources or constraints. The AI will use this information to generate a structured plan with clear steps, tool usage, and success criteria."]})]})]}),s.jsxs("section",{className:"space-y-4",children:[s.jsx("h3",{className:"text-xl font-semibold text-blue-600 dark:text-blue-400",children:" Backend Todo Management"}),s.jsxs("p",{className:"mb-2",children:["The ",s.jsx("code",{className:"bg-gray-100 dark:bg-gray-800 px-2 py-1 rounded",children:"manage_todos"})," tool provides persistent task tracking that works across all your chat sessions."]}),s.jsxs("div",{className:"space-y-2 pl-4",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Task Tracking:"})," The AI can create, update, and complete tasks automatically as you work through projects."]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Multi-Turn Context:"})," Todos persist across chat sessions, allowing you to pause work and resume later without losing context."]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Project Management:"})," Break down large tasks into manageable steps, track dependencies, and maintain a clear picture of progress."]})]}),s.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg border border-blue-200 dark:border-blue-800 mt-3",children:[s.jsx("p",{className:"font-medium mb-2",children:"Example Usage:"}),s.jsx("p",{className:"text-sm italic",children:'"Create a todo list for building a web scraper: research libraries, write code, test with sample data, deploy to production"'}),s.jsx("p",{className:"text-xs mt-2 text-gray-600 dark:text-gray-400",children:"The AI will create structured todos and can mark them complete as you make progress"})]})]}),s.jsxs("section",{className:"space-y-4",children:[s.jsx("h3",{className:"text-xl font-semibold text-blue-600 dark:text-blue-400",children:" Content Management"}),s.jsx("p",{className:"mb-2",children:"Your personal knowledge repository for saving, organizing, and retrieving information across sessions."}),s.jsxs("div",{className:"space-y-2 pl-4",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Save Anything:"})," Store text snippets, code blocks, images, links, and any other content you want to reference later."]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Organize with Tags:"})," Categorize content using tags for easy filtering and retrieval by topic or project."]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Search & Filter:"})," Find content quickly using full-text search, tag filters, or content type."]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Generate Embeddings:"})," Enable semantic search across your content to find relevant information by meaning, not just keywords."]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Cloud Sync:"})," Backup your content to Google Drive for persistence across devices and browsers."]})]}),s.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 p-4 rounded-lg border border-green-200 dark:border-green-800 mt-3",children:[s.jsx("p",{className:"font-semibold mb-2",children:" Long-Term Knowledge Building:"}),s.jsx("p",{className:"text-sm",children:"Combine Planning Mode, Todos, and Content Management to build a growing knowledge base over time. Save research findings as you discover them, reference past work using RAG semantic search, track ongoing projects with todos, and build comprehensive documents incrementally using saved snippets."})]})]}),s.jsxs("section",{className:"space-y-4",children:[s.jsx("h3",{className:"text-xl font-semibold text-blue-600 dark:text-blue-400",children:" Google Sheets Integration"}),s.jsxs("p",{className:"mb-2",children:["The ",s.jsx("code",{className:"bg-gray-100 dark:bg-gray-800 px-2 py-1 rounded",children:"manage_snippets"})," tool provides cloud-based snippet storage with Google Sheets integration."]}),s.jsxs("div",{className:"space-y-2 pl-4",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Cloud Storage:"})," Snippets are automatically synced to a Google Sheet in your Drive for permanent storage."]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Collaborative:"})," Share your snippet sheets with team members for collaborative knowledge management."]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Always Available:"})," Access your snippets from any device by connecting to your Google account."]})]})]})]})}function WIe(){return s.jsxs("div",{className:"space-y-6 text-gray-800 dark:text-gray-200 text-left",children:[s.jsx("h2",{className:"text-3xl font-bold mb-4 text-left",children:"Backend LLM Tools"}),s.jsxs("p",{className:"text-lg mb-4",children:["The AI has access to powerful backend tools that it can call automatically when needed. Enable or disable specific tools in ",s.jsx("strong",{children:"Settings  Tools"})," to control which capabilities are available."]}),s.jsxs("section",{className:"space-y-4",children:[s.jsx("h3",{className:"text-xl font-semibold text-blue-600 dark:text-blue-400",children:" Available Tools"}),s.jsxs("div",{className:"space-y-4",children:[s.jsx(Pi,{name:"web_search",icon:"",description:"Search the web using DuckDuckGo for current information, news, and research",trigger:"Automatically triggered when current information is needed",examples:["What's the current price of Bitcoin?","Find the latest research on climate change mitigation strategies","What are the top news stories today about artificial intelligence?"]}),s.jsx(Pi,{name:"execute_js",icon:"",description:"Execute JavaScript code for calculations, data processing, and algorithmic tasks",trigger:"Triggered when computation or data manipulation is needed",examples:["Calculate the Fibonacci sequence up to the 20th number","Sort this list of numbers: [42, 17, 93, 8, 51] and find the median","Generate a random password with 16 characters including symbols"]}),s.jsx(Pi,{name:"scrape_url",icon:"",description:"Extract and analyze content from any publicly accessible URL",trigger:"Triggered when a specific webpage needs to be analyzed",examples:["Summarize the main points from https://example.com/article","Extract all the product prices from this e-commerce page","What are the key features described on this documentation page?"]}),s.jsx(Pi,{name:"youtube",icon:"",description:"Search YouTube and extract video transcripts for analysis",trigger:"Triggered when YouTube content is mentioned",examples:["Find videos about machine learning fundamentals","Get the transcript from this YouTube video about quantum computing","Search for tutorials on React hooks and summarize the top result"]}),s.jsx(Pi,{name:"transcribe",icon:"",description:"Transcribe audio and video files using OpenAI's Whisper model",trigger:"User uploads an audio or video file",examples:["Upload an MP3 recording and ask: 'Transcribe this interview'","Transcribe this podcast episode and create a summary","Convert this meeting recording to text and extract action items"]}),s.jsx(Pi,{name:"generate_chart",icon:"",description:"Create diagrams and visualizations using Mermaid syntax",trigger:"Triggered when visualization is requested",examples:["Create a flowchart showing the user authentication process","Generate a sequence diagram for a REST API call","Draw a Gantt chart for a 3-month software development project"]}),s.jsx(Pi,{name:"generate_image",icon:"",description:"Generate images using DALL-E 3, Stable Diffusion, or Flux models",trigger:"Triggered when image generation is requested",examples:["Generate an image of a sunset over mountains in watercolor style","Create a professional headshot of a businesswoman in an office","Design a logo for a coffee shop with a minimalist aesthetic"]}),s.jsx(Pi,{name:"search_knowledge_base",icon:"",description:"Search server-side knowledge base (separate from local RAG)",trigger:"Manually enabled tool - searches backend embeddings",examples:["Search the knowledge base for information about API authentication","Find all documentation related to database schema design","What does the knowledge base say about deployment procedures?"]}),s.jsx(Pi,{name:"manage_todos",icon:"",description:"Create, update, and manage a persistent todo list across chat sessions",trigger:"Triggered when task management is discussed",examples:["Add a todo to finish the quarterly report by Friday","Create a checklist for preparing the product launch","Mark the 'Review design mockups' todo as complete"]}),s.jsx(Pi,{name:"manage_snippets",icon:"",description:"Save and retrieve text snippets to Google Sheets for later reference",trigger:"Triggered when snippet storage is requested",examples:["Save this code snippet for later: [code block]","Store these meeting notes in my snippets","Retrieve all snippets tagged with 'python-tips'"]}),s.jsx(Pi,{name:"ask_llm",icon:"",description:"Recursive LLM agent for complex multi-step reasoning (HIGH token usage)",trigger:" DISABLED by default - HIGH token usage",examples:["Use deep reasoning to analyze the ethical implications of AI governance","Break down this complex business problem into strategic recommendations","Perform a comprehensive competitive analysis with multiple perspectives"],warning:"Can result in very high API costs due to recursive calls"}),s.jsx(Pi,{name:"generate_reasoning_chain",icon:"",description:"Deep reasoning chains for academic-level problem-solving (EXTREME token usage)",trigger:" DISABLED by default - EXTREME token usage",examples:["Prove this mathematical theorem using step-by-step logical reasoning","Analyze the philosophical arguments for and against utilitarianism","Develop a comprehensive research methodology for studying climate patterns"],warning:"Can result in extremely high API costs due to extensive reasoning chains"})]})]}),s.jsxs("section",{className:"space-y-4",children:[s.jsx("h3",{className:"text-xl font-semibold text-blue-600 dark:text-blue-400",children:" How to Use Tools"}),s.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg border border-blue-200 dark:border-blue-800",children:s.jsxs("ol",{className:"space-y-3",children:[s.jsxs("li",{className:"border-l-4 border-blue-500 pl-3",children:[s.jsx("strong",{children:"1. Enable tools"})," in Settings  Tools by toggling the switches for the capabilities you want available"]}),s.jsxs("li",{className:"border-l-4 border-purple-500 pl-3",children:[s.jsx("strong",{children:"2. Ask naturally"})," - The AI will automatically call the right tool based on your request context"]}),s.jsxs("li",{className:"border-l-4 border-green-500 pl-3",children:[s.jsx("strong",{children:"3. Check responses"})," - Tool calls are shown in the chat with their inputs and outputs"]}),s.jsxs("li",{className:"border-l-4 border-orange-500 pl-3",children:[s.jsx("strong",{children:"4. Review costs"})," - Tool usage affects API billing, especially for compute-intensive operations"]})]})})]})]})}function Pi({name:e,icon:t,description:r,trigger:n,examples:a,warning:i}){return s.jsx("div",{className:"border dark:border-gray-700 rounded-lg p-4 bg-gray-50 dark:bg-gray-800",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-2xl",children:t}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"font-semibold text-lg",children:s.jsx("code",{className:"bg-gray-200 dark:bg-gray-700 px-2 py-1 rounded text-sm",children:e})}),s.jsx("p",{className:"text-gray-700 dark:text-gray-300 mt-2",children:r}),s.jsxs("div",{className:"mt-3 text-sm",children:[s.jsxs("p",{className:"text-gray-600 dark:text-gray-400 mb-2",children:[s.jsx("strong",{children:"Triggered:"})," ",n]}),s.jsx("p",{className:"font-medium text-blue-700 dark:text-blue-300 mb-1",children:"Example Uses:"}),s.jsx("ul",{className:"space-y-1 pl-4",children:a.map((o,l)=>s.jsxs("li",{className:"text-blue-600 dark:text-blue-400 text-sm",children:[' "',o,'"']},l))})]}),i&&s.jsxs("div",{className:"mt-3 text-sm text-red-600 dark:text-red-400 bg-red-50 dark:bg-red-900/20 p-2 rounded border border-red-200 dark:border-red-800",children:[" ",i]})]})]})})}function YIe(){return s.jsxs("div",{className:"space-y-6 text-gray-800 dark:text-gray-200 text-left",children:[s.jsx("h2",{className:"text-3xl font-bold mb-4 text-left",children:"Browser-Based RAG (Retrieval Augmented Generation)"}),s.jsxs("section",{className:"space-y-4",children:[s.jsx("h3",{className:"text-xl font-semibold text-blue-600 dark:text-blue-400",children:" What is RAG and Why Use It?"}),s.jsx("p",{className:"mb-3",children:"RAG (Retrieval Augmented Generation) is a system for capturing, managing, and intelligently retrieving content from your conversations and saved materials. It enhances AI responses by finding and injecting relevant context from your personal knowledge base before generating answers."}),s.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 dark:from-blue-900/20 dark:to-purple-900/20 p-4 rounded-lg border border-blue-200 dark:border-blue-800",children:[s.jsx("p",{className:"font-semibold mb-2",children:"Core Purpose:"}),s.jsxs("ul",{className:"space-y-2 text-sm pl-4",children:[s.jsxs("li",{className:"border-l-4 border-blue-500 pl-3",children:[s.jsx("strong",{children:"Capture:"})," Save valuable content from LLM responses, your own notes, code snippets, and research findings"]}),s.jsxs("li",{className:"border-l-4 border-purple-500 pl-3",children:[s.jsx("strong",{children:"Manage:"})," Organize content with tags, search by keywords, and generate embeddings for semantic search"]}),s.jsxs("li",{className:"border-l-4 border-green-500 pl-3",children:[s.jsx("strong",{children:"Retrieve:"})," Automatically find relevant content when you ask questions, ensuring the AI has access to your accumulated knowledge"]}),s.jsxs("li",{className:"border-l-4 border-orange-500 pl-3",children:[s.jsx("strong",{children:"Export:"})," Download your knowledge base or sync to Google Drive for backup and cross-device access"]})]})]}),s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-3",children:"Everything runs in your browser using local embeddings - your content never leaves your device unless you explicitly sync to Google Drive."})]}),s.jsxs("section",{className:"space-y-4",children:[s.jsx("h3",{className:"text-xl font-semibold text-blue-600 dark:text-blue-400",children:" Interaction Modes"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"border-2 border-green-500 dark:border-green-600 rounded-lg p-4 bg-green-50 dark:bg-green-900/20",children:[s.jsx("h4",{className:"font-semibold text-green-800 dark:text-green-200 mb-2",children:" Automatic Injection (Recommended)"}),s.jsx("p",{className:"text-sm mb-2",children:'When you enable "Use Knowledge Base Context" in the chat interface, the system automatically:'}),s.jsxs("ol",{className:"text-sm space-y-1 pl-5",children:[s.jsx("li",{children:"1. Takes your query and generates an embedding for it"}),s.jsx("li",{children:"2. Searches your knowledge base for semantically similar content"}),s.jsx("li",{children:"3. Injects the top matching snippets into the conversation context"}),s.jsx("li",{children:"4. The AI uses this context when generating its response"})]}),s.jsx("p",{className:"text-xs mt-2 text-gray-600 dark:text-gray-400 italic",children:"This happens transparently - you don't need to manually select what context to include"})]}),s.jsxs("div",{className:"border-2 border-blue-500 dark:border-blue-600 rounded-lg p-4 bg-blue-50 dark:bg-blue-900/20",children:[s.jsx("h4",{className:"font-semibold text-blue-800 dark:text-blue-200 mb-2",children:" Explicit Attach Context (Manual Control)"}),s.jsx("p",{className:"text-sm mb-2",children:"Alternatively, you can manually control what context to include:"}),s.jsxs("ol",{className:"text-sm space-y-1 pl-5",children:[s.jsx("li",{children:"1. Browse your saved content in the Content Management page"}),s.jsx("li",{children:"2. Select specific snippets you want to reference"}),s.jsx("li",{children:'3. Use the "Attach to Chat" feature to explicitly include them'}),s.jsx("li",{children:"4. The selected content is added to your next message"})]}),s.jsx("p",{className:"text-xs mt-2 text-gray-600 dark:text-gray-400 italic",children:"Useful when you know exactly which content is relevant, or want to control token usage"})]})]})]}),s.jsxs("section",{className:"space-y-4",children:[s.jsx("h3",{className:"text-xl font-semibold text-blue-600 dark:text-blue-400",children:" How to Use Browser RAG"}),s.jsx("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 dark:from-purple-900/20 dark:to-pink-900/20 p-6 rounded-lg border border-purple-200 dark:border-purple-800",children:s.jsxs("ol",{className:"space-y-4",children:[s.jsxs("li",{className:"border-l-4 border-purple-500 pl-4",children:[s.jsx("strong",{className:"text-purple-700 dark:text-purple-300",children:"Step 1: Save Content"}),s.jsx("p",{className:"text-sm mt-1",children:"Navigate to the Content Management page and add text snippets, code blocks, research notes, or any content you want to reference later. You can save content from LLM responses directly or paste your own material."})]}),s.jsxs("li",{className:"border-l-4 border-pink-500 pl-4",children:[s.jsx("strong",{className:"text-pink-700 dark:text-pink-300",children:"Step 2: Generate Embeddings"}),s.jsx("p",{className:"text-sm mt-1",children:'Select snippets and click "Generate Embeddings". This creates vector representations using a local ML model (Transformers.js) running in your browser. Embeddings enable semantic search by meaning rather than keywords.'})]}),s.jsxs("li",{className:"border-l-4 border-blue-500 pl-4",children:[s.jsx("strong",{className:"text-blue-700 dark:text-blue-300",children:"Step 3: Enable RAG in Chat"}),s.jsx("p",{className:"text-sm mt-1",children:'In the chat interface, check "Use Knowledge Base Context" to enable automatic context injection. The system will search your knowledge base for each query and include relevant snippets.'})]}),s.jsxs("li",{className:"border-l-4 border-green-500 pl-4",children:[s.jsx("strong",{className:"text-green-700 dark:text-green-300",children:"Step 4: Ask Questions"}),s.jsx("p",{className:"text-sm mt-1",children:"Ask questions naturally. The AI will automatically search your knowledge base and use relevant snippets to provide more informed, personalized responses based on your accumulated knowledge."})]})]})})]}),s.jsxs("section",{className:"space-y-4",children:[s.jsx("h3",{className:"text-xl font-semibold text-blue-600 dark:text-blue-400",children:" Features"}),s.jsxs("div",{className:"space-y-2 pl-4",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Local Processing:"})," Embeddings are generated in your browser using Transformers.js - no data sent to external servers for the embedding process."]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Privacy First:"})," Your content stays on your device unless you explicitly enable Google Drive sync for backup."]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Semantic Search:"})," Find content by meaning and context, not just exact keyword matches."]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Smart Ranking:"})," Most relevant snippets are prioritized using cosine similarity scoring."]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Chunk Management:"})," Large content is automatically split into optimal-sized chunks for better retrieval accuracy."]})]})]}),s.jsxs("section",{className:"space-y-4",children:[s.jsx("h3",{className:"text-xl font-semibold text-blue-600 dark:text-blue-400",children:" Storage & Sync"}),s.jsxs("div",{className:"space-y-2 pl-4",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"IndexedDB:"})," All snippets and embeddings are stored locally in your browser's IndexedDB for instant access."]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Google Drive Backup:"})," Enable optional cloud sync to back up your content to Google Drive for persistence across browsers and devices."]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Browser Storage Limits:"})," Most modern browsers allow several GB of IndexedDB storage, sufficient for extensive knowledge bases."]})]}),s.jsxs("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 p-3 rounded-lg border border-yellow-200 dark:border-yellow-800 mt-2 text-sm",children:[s.jsx("p",{className:"font-medium",children:" Note on Storage:"}),s.jsx("p",{children:"While browser storage is generous, very large knowledge bases (100,000+ snippets) may impact performance. Consider organizing content into focused collections and archiving older material if needed."})]})]}),s.jsxs("section",{className:"space-y-4",children:[s.jsx("h3",{className:"text-xl font-semibold text-blue-600 dark:text-blue-400",children:" Best Practices"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 p-4 rounded-lg border border-green-200 dark:border-green-800",children:[s.jsx("p",{className:"font-medium text-green-800 dark:text-green-200 mb-2",children:" Do:"}),s.jsxs("ul",{className:"space-y-1 text-sm pl-5",children:[s.jsx("li",{children:"Save well-organized, focused snippets with clear topics"}),s.jsx("li",{children:'Use descriptive tags for categorization (e.g., "python-tutorial", "project-ideas")'}),s.jsx("li",{children:"Generate embeddings for content you'll reference often in conversations"}),s.jsx("li",{children:"Keep individual snippets under 10,000 characters for optimal retrieval"}),s.jsx("li",{children:"Regularly review and archive outdated content"})]})]}),s.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 p-4 rounded-lg border border-red-200 dark:border-red-800",children:[s.jsx("p",{className:"font-medium text-red-800 dark:text-red-200 mb-2",children:" Don't:"}),s.jsxs("ul",{className:"space-y-1 text-sm pl-5",children:[s.jsx("li",{children:"Save duplicate or highly redundant content (wastes storage and degrades search quality)"}),s.jsx("li",{children:"Store sensitive passwords, API keys, or credentials (use a password manager instead)"}),s.jsx("li",{children:"Expect perfect recall with poorly organized or vague snippets"}),s.jsx("li",{children:"Generate embeddings for content you'll never search (wastes processing time)"})]})]})]})]}),s.jsxs("section",{className:"space-y-4",children:[s.jsx("h3",{className:"text-xl font-semibold text-blue-600 dark:text-blue-400",children:" Browser RAG vs Server Knowledge Base"}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full border dark:border-gray-700",children:[s.jsx("thead",{className:"bg-gray-100 dark:bg-gray-800",children:s.jsxs("tr",{children:[s.jsx("th",{className:"border dark:border-gray-700 px-4 py-2 text-left font-semibold",children:"Feature"}),s.jsx("th",{className:"border dark:border-gray-700 px-4 py-2 text-left font-semibold",children:"Browser RAG (Local)"}),s.jsx("th",{className:"border dark:border-gray-700 px-4 py-2 text-left font-semibold",children:"Server KB Tool"})]})}),s.jsxs("tbody",{className:"text-sm",children:[s.jsxs("tr",{children:[s.jsx("td",{className:"border dark:border-gray-700 px-4 py-2 font-medium",children:"Data Location"}),s.jsx("td",{className:"border dark:border-gray-700 px-4 py-2",children:"Your browser (IndexedDB)"}),s.jsx("td",{className:"border dark:border-gray-700 px-4 py-2",children:"Backend server"})]}),s.jsxs("tr",{className:"bg-gray-50 dark:bg-gray-800/50",children:[s.jsx("td",{className:"border dark:border-gray-700 px-4 py-2 font-medium",children:"Privacy"}),s.jsx("td",{className:"border dark:border-gray-700 px-4 py-2 text-green-600 dark:text-green-400",children:"100% private (offline)"}),s.jsx("td",{className:"border dark:border-gray-700 px-4 py-2 text-orange-600 dark:text-orange-400",children:"Shared with backend"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border dark:border-gray-700 px-4 py-2 font-medium",children:"Content Source"}),s.jsx("td",{className:"border dark:border-gray-700 px-4 py-2",children:"Your saved content"}),s.jsx("td",{className:"border dark:border-gray-700 px-4 py-2",children:"Admin-uploaded documents"})]}),s.jsxs("tr",{className:"bg-gray-50 dark:bg-gray-800/50",children:[s.jsx("td",{className:"border dark:border-gray-700 px-4 py-2 font-medium",children:"Setup Required"}),s.jsx("td",{className:"border dark:border-gray-700 px-4 py-2 text-green-600 dark:text-green-400",children:"Automatic (built-in)"}),s.jsx("td",{className:"border dark:border-gray-700 px-4 py-2 text-orange-600 dark:text-orange-400",children:"Enable in Settings"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border dark:border-gray-700 px-4 py-2 font-medium",children:"Use Case"}),s.jsx("td",{className:"border dark:border-gray-700 px-4 py-2",children:"Personal knowledge base"}),s.jsx("td",{className:"border dark:border-gray-700 px-4 py-2",children:"Shared documentation"})]})]})]})})]})]})}function VIe(){return s.jsxs("div",{className:"space-y-6 text-gray-800 dark:text-gray-200 text-left",children:[s.jsx("h2",{className:"text-3xl font-bold mb-4 text-left",children:"Pricing"}),s.jsxs("section",{className:"space-y-4",children:[s.jsx("h3",{className:"text-xl font-semibold text-blue-600 dark:text-blue-400",children:" Credit-Based System"}),s.jsx("p",{className:"mb-3",children:"Research Agent uses a prepaid credit system. Purchase credits via PayPal and they're automatically deducted as you use the service. Credits never expire and can be used for any API operations."}),s.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg border border-blue-200 dark:border-blue-800",children:[s.jsx("p",{className:"font-semibold mb-2",children:" Welcome Bonus: $0.50 in free credits for new users!"}),s.jsx("p",{className:"text-sm",children:"Start experimenting with the service immediately - no payment required to try it out."})]})]}),s.jsxs("section",{className:"space-y-4",children:[s.jsx("h3",{className:"text-xl font-semibold text-blue-600 dark:text-blue-400",children:" Purchasing Credits"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-blue-50 dark:from-green-900/20 dark:to-blue-900/20 p-4 rounded-lg border-2 border-green-300 dark:border-green-700",children:[s.jsx("p",{className:"font-semibold text-lg mb-2",children:"Quick Add Credits"}),s.jsxs("p",{className:"text-sm mb-3",children:["Navigate to ",s.jsx("strong",{children:"Billing  Add Credits"})," to purchase more credits instantly."]}),s.jsxs("ul",{className:"space-y-1 text-sm pl-4",children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Minimum Purchase:"})," $5.00 USD"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Payment Method:"})," PayPal (secure checkout)"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"No Expiration:"})," Credits never expire"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Instant Availability:"})," Credits appear immediately after payment"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"No Refunds:"})," All sales are final"]})]})]}),s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Check your current balance and transaction history on the Billing page anytime."})]})]}),s.jsxs("section",{className:"space-y-4",children:[s.jsx("h3",{className:"text-xl font-semibold text-blue-600 dark:text-blue-400",children:" Complete Pricing Breakdown"}),s.jsx("p",{className:"mb-3",children:"Understanding your costs is straightforward - we charge for two things:"}),s.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 dark:from-blue-900/20 dark:to-purple-900/20 p-5 rounded-lg border-2 border-blue-300 dark:border-blue-700 mb-4",children:[s.jsx("h4",{className:"font-bold text-lg mb-3",children:"1. AWS Infrastructure Costs (Always Charged)"}),s.jsxs("p",{className:"text-sm mb-3",children:["Every request incurs a small infrastructure fee to cover AWS Lambda hosting. We charge a ",s.jsx("strong",{children:"6x markup"})," on total AWS costs (industry standard is 3-10x)."]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg border border-blue-200 dark:border-blue-700 mb-3",children:[s.jsx("p",{className:"font-semibold mb-2 text-sm",children:"AWS Cost Components (Example: 512MB, 800ms execution):"}),s.jsxs("div",{className:"space-y-1 text-xs font-mono",children:[s.jsxs("div",{className:"flex justify-between border-b dark:border-gray-600 pb-1",children:[s.jsx("span",{children:"Lambda Compute:"}),s.jsx("span",{children:"$0.00000667"})]}),s.jsxs("div",{className:"flex justify-between border-b dark:border-gray-600 pb-1",children:[s.jsx("span",{children:"Lambda Request:"}),s.jsx("span",{children:"$0.00000020"})]}),s.jsxs("div",{className:"flex justify-between border-b dark:border-gray-600 pb-1",children:[s.jsx("span",{children:"CloudWatch Logs:"}),s.jsx("span",{children:"$0.00000102"})]}),s.jsxs("div",{className:"flex justify-between border-b dark:border-gray-600 pb-1",children:[s.jsx("span",{children:"Data Transfer Out:"}),s.jsx("span",{children:"$0.00000036"})]}),s.jsxs("div",{className:"flex justify-between border-b dark:border-gray-600 pb-1",children:[s.jsx("span",{children:"S3 Storage:"}),s.jsx("span",{children:"$0.00000003"})]}),s.jsxs("div",{className:"flex justify-between font-bold text-sm pt-2 border-t-2 dark:border-gray-500",children:[s.jsx("span",{children:"Total AWS Cost:"}),s.jsx("span",{children:"$0.00001087"})]}),s.jsxs("div",{className:"flex justify-between text-blue-600 dark:text-blue-400 font-bold text-sm pt-1",children:[s.jsx("span",{children:"With 6x markup:"}),s.jsx("span",{children:"$0.00006522"})]})]})]}),s.jsxs("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:[s.jsx("strong",{children:"Per 1,000 requests:"})," $0.065 infrastructure cost",s.jsx("br",{}),s.jsx("strong",{children:"Why 6x?"})," Industry competitive: AWS API Gateway (3-6x), Twilio (1.3x), SendGrid (3x), Stripe (1.6x)"]})]}),s.jsxs("div",{className:"bg-gradient-to-r from-orange-50 to-red-50 dark:from-orange-900/20 dark:to-red-900/20 p-5 rounded-lg border-2 border-orange-300 dark:border-orange-700 mb-4",children:[s.jsx("h4",{className:"font-bold text-lg mb-3",children:"2. LLM API Costs (Depends on Configuration)"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg border border-orange-200 dark:border-orange-700",children:[s.jsx("p",{className:"font-semibold text-orange-700 dark:text-orange-300 mb-2",children:"Option A: Server-Provided Keys"}),s.jsx("p",{className:"text-sm mb-2",children:"Convenient for occasional use, no setup required."}),s.jsxs("p",{className:"text-sm font-mono",children:[s.jsx("strong",{children:"Cost:"})," Provider pricing + 25% surcharge",s.jsx("br",{}),s.jsx("strong",{children:"Example:"})," $0.10 LLM call  ",s.jsx("span",{className:"text-orange-600 dark:text-orange-400 font-bold",children:"$0.125 charged"})]})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg border-2 border-green-500 dark:border-green-600",children:[s.jsx("p",{className:"font-semibold text-green-700 dark:text-green-300 mb-2",children:"Option B: Bring Your Own Keys (BYOK) - RECOMMENDED "}),s.jsx("p",{className:"text-sm mb-2",children:"Regular users, cost-conscious users, access to free tiers."}),s.jsxs("p",{className:"text-sm font-mono",children:[s.jsx("strong",{children:"Cost:"})," ",s.jsx("span",{className:"text-green-600 dark:text-green-400 font-bold text-lg",children:"$0.00"})," (you pay provider directly!)",s.jsx("br",{}),s.jsx("strong",{children:"Only Pay:"})," Infrastructure fee (~$0.00007/request)"]})]})]})]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full border-2 dark:border-gray-600 text-sm",children:[s.jsx("thead",{className:"bg-gradient-to-r from-blue-100 to-purple-100 dark:from-blue-900 dark:to-purple-900",children:s.jsxs("tr",{children:[s.jsx("th",{className:"border dark:border-gray-600 px-4 py-3 text-left font-bold",children:"Configuration"}),s.jsx("th",{className:"border dark:border-gray-600 px-4 py-3 text-left font-bold",children:"LLM Cost (100 requests)"}),s.jsx("th",{className:"border dark:border-gray-600 px-4 py-3 text-left font-bold",children:"Infrastructure"}),s.jsx("th",{className:"border dark:border-gray-600 px-4 py-3 text-left font-bold",children:"Total"})]})}),s.jsxs("tbody",{children:[s.jsxs("tr",{className:"bg-white dark:bg-gray-800",children:[s.jsx("td",{className:"border dark:border-gray-600 px-4 py-3 font-semibold",children:"Server Keys"}),s.jsxs("td",{className:"border dark:border-gray-600 px-4 py-3",children:["$10.00 + 25% = ",s.jsx("strong",{className:"text-orange-600 dark:text-orange-400",children:"$12.50"})]}),s.jsx("td",{className:"border dark:border-gray-600 px-4 py-3",children:"$0.0065"}),s.jsx("td",{className:"border dark:border-gray-600 px-4 py-3 font-bold text-orange-600 dark:text-orange-400",children:"$12.51"})]}),s.jsxs("tr",{className:"bg-green-50 dark:bg-green-900/20",children:[s.jsx("td",{className:"border dark:border-gray-600 px-4 py-3 font-semibold",children:"BYOK (OpenAI)"}),s.jsxs("td",{className:"border dark:border-gray-600 px-4 py-3",children:[s.jsx("strong",{className:"text-green-600 dark:text-green-400",children:"$0.00"})," (paid direct)"]}),s.jsx("td",{className:"border dark:border-gray-600 px-4 py-3",children:"$0.0065"}),s.jsx("td",{className:"border dark:border-gray-600 px-4 py-3 font-bold text-green-600 dark:text-green-400",children:"$0.0065"})]}),s.jsxs("tr",{className:"bg-gradient-to-r from-green-100 to-blue-100 dark:from-green-900/30 dark:to-blue-900/30",children:[s.jsx("td",{className:"border dark:border-gray-600 px-4 py-3 font-semibold",children:"BYOK (Groq Free Tier)"}),s.jsxs("td",{className:"border dark:border-gray-600 px-4 py-3",children:[s.jsx("strong",{className:"text-green-600 dark:text-green-400",children:"$0.00"})," (free tier!)"]}),s.jsx("td",{className:"border dark:border-gray-600 px-4 py-3",children:"$0.0065"}),s.jsx("td",{className:"border dark:border-gray-600 px-4 py-3 font-bold text-green-600 dark:text-green-400",children:"$0.0065"})]})]})]})}),s.jsxs("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 p-4 rounded-lg border border-yellow-200 dark:border-yellow-800 mt-4",children:[s.jsx("p",{className:"font-semibold mb-2",children:" Massive Savings with BYOK:"}),s.jsxs("p",{className:"text-sm",children:["Bring Your Own Key (BYOK) users save ",s.jsx("strong",{children:"99.5%"})," on total costs! Pay only the minimal infrastructure fee (~$0.07 per 1,000 requests). Use free tier providers like Groq or Gemini and your LLM costs are literally $0."]})]})]}),s.jsxs("section",{className:"space-y-4",children:[s.jsx("h3",{className:"text-xl font-semibold text-blue-600 dark:text-blue-400",children:" Bring Your Own API Keys (BYOK)"}),s.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 dark:from-purple-900/20 dark:to-pink-900/20 p-5 rounded-lg border-2 border-purple-300 dark:border-purple-700",children:[s.jsx("p",{className:"font-semibold mb-3 text-lg",children:"Why use your own API keys?"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"border-l-4 border-green-500 pl-4",children:[s.jsx("p",{className:"font-semibold text-green-700 dark:text-green-300",children:" Zero LLM Surcharge"}),s.jsx("p",{className:"text-sm",children:"Avoid the 25% markup - you only pay the small Lambda infrastructure fee ($0.0001-0.0005 per request)."})]}),s.jsxs("div",{className:"border-l-4 border-blue-500 pl-4",children:[s.jsx("p",{className:"font-semibold text-blue-700 dark:text-blue-300",children:" Access Free Tier Plans"}),s.jsx("p",{className:"text-sm",children:"Use Groq's free tier (unlimited), Google Gemini's free tier, or Together AI's trial credits directly. These generous free quotas mean you pay almost nothing for LLM usage."})]}),s.jsxs("div",{className:"border-l-4 border-purple-500 pl-4",children:[s.jsx("p",{className:"font-semibold text-purple-700 dark:text-purple-300",children:" Wider Model Selection"}),s.jsx("p",{className:"text-sm",children:"Access all models available to your account, including latest releases, specialized models, and experimental features not available through server-side keys."})]}),s.jsxs("div",{className:"border-l-4 border-orange-500 pl-4",children:[s.jsx("p",{className:"font-semibold text-orange-700 dark:text-orange-300",children:" Full Control"}),s.jsx("p",{className:"text-sm",children:"Choose exactly which providers and models to use, set your own rate limits, and manage your own API budgets."})]}),s.jsxs("div",{className:"border-l-4 border-pink-500 pl-4",children:[s.jsx("p",{className:"font-semibold text-pink-700 dark:text-pink-300",children:" Better Privacy"}),s.jsx("p",{className:"text-sm",children:"Your prompts go directly from Lambda to your API provider - the service owner doesn't need to manage server-side keys."})]})]}),s.jsxs("div",{className:"mt-4 bg-white dark:bg-gray-800 p-3 rounded-lg",children:[s.jsx("p",{className:"text-sm font-semibold mb-1",children:"How to add your API keys:"}),s.jsxs("p",{className:"text-sm",children:["Go to ",s.jsx("strong",{children:"Settings  Providers  Add Provider"})," and enter your API key from OpenAI, Groq, Gemini, Together AI, or any OpenAI-compatible endpoint."]})]})]}),s.jsxs("div",{className:"mt-6 bg-blue-50 dark:bg-blue-900/20 p-5 rounded-lg border-2 border-blue-300 dark:border-blue-700",children:[s.jsx("h4",{className:"text-lg font-semibold text-blue-800 dark:text-blue-200 mb-3",children:" Where to Get API Keys"}),s.jsx("p",{className:"mb-4 text-sm",children:"Getting your own API keys lets you use the service with zero LLM costs! Here's where to sign up:"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"border-l-4 border-blue-500 pl-3",children:[s.jsx("p",{className:"font-semibold text-blue-700 dark:text-blue-300",children:s.jsx("a",{href:"https://console.groq.com/",target:"_blank",rel:"noopener noreferrer",className:"hover:underline",children:"Groq "})}),s.jsx("p",{className:"text-xs",children:"Unlimited free tier with fast inference. Perfect for most users. Supports Llama, Mixtral, and Gemma models."})]}),s.jsxs("div",{className:"border-l-4 border-green-500 pl-3",children:[s.jsx("p",{className:"font-semibold text-green-700 dark:text-green-300",children:s.jsx("a",{href:"https://aistudio.google.com/app/apikey",target:"_blank",rel:"noopener noreferrer",className:"hover:underline",children:"Google Gemini "})}),s.jsx("p",{className:"text-xs",children:"Generous free tier with daily quotas. Multimodal AI models with excellent performance."})]}),s.jsxs("div",{className:"border-l-4 border-orange-500 pl-3",children:[s.jsx("p",{className:"font-semibold text-orange-700 dark:text-orange-300",children:s.jsx("a",{href:"https://api.together.xyz/",target:"_blank",rel:"noopener noreferrer",className:"hover:underline",children:"Together AI "})}),s.jsx("p",{className:"text-xs",children:"Free trial credits for new accounts. Access to cutting-edge open source models including Llama 4 and DeepSeek."})]}),s.jsxs("div",{className:"border-l-4 border-purple-500 pl-3",children:[s.jsx("p",{className:"font-semibold text-purple-700 dark:text-purple-300",children:s.jsx("a",{href:"https://platform.openai.com/",target:"_blank",rel:"noopener noreferrer",className:"hover:underline",children:"OpenAI "})}),s.jsx("p",{className:"text-xs",children:"Industry-leading GPT models. Paid service but competitive pricing. Includes GPT-4, GPT-4o, and GPT-4o-mini."})]})]}),s.jsxs("p",{className:"mt-4 text-xs text-gray-600 dark:text-gray-400",children:["After getting your API key, add it in ",s.jsx("strong",{children:"Settings  Providers  Add Provider"})," to start using it immediately with $0 LLM costs!"]})]})]}),s.jsxs("section",{className:"space-y-4",children:[s.jsx("h3",{className:"text-xl font-semibold text-blue-600 dark:text-blue-400",children:" Usage Tracking"}),s.jsxs("div",{className:"space-y-2 pl-4",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Real-Time Balance:"})," Check your credit balance anytime on the Billing page."]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Transaction History:"})," View detailed logs of all API calls with timestamps, models used, token counts, and costs."]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Cost Breakdown:"})," See exactly what you paid for each request - LLM costs, infrastructure fees, and surcharges (if applicable)."]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Export Options:"})," Download your transaction history for personal record-keeping or expense reporting."]})]})]}),s.jsxs("section",{className:"space-y-4",children:[s.jsx("h3",{className:"text-xl font-semibold text-blue-600 dark:text-blue-400",children:" Cost Optimization Tips"}),s.jsx("div",{className:"bg-green-50 dark:bg-green-900/20 p-4 rounded-lg border border-green-200 dark:border-green-800",children:s.jsxs("ul",{className:"space-y-2 pl-4",children:[s.jsxs("li",{className:"border-l-4 border-green-500 pl-3",children:[s.jsx("strong",{children:" #1 Best Savings:"})," Add your own API keys in Settings - pay $0 for LLM operations! Use Groq or Gemini free tiers for unlimited access."]}),s.jsxs("li",{className:"border-l-4 border-blue-500 pl-3",children:[s.jsx("strong",{children:"Choose Smaller Models:"})," Use GPT-4o-mini instead of GPT-4, or Gemini Flash instead of Pro for routine tasks."]}),s.jsxs("li",{className:"border-l-4 border-purple-500 pl-3",children:[s.jsx("strong",{children:"Enable Only Necessary Tools:"})," Disable expensive tools like `ask_llm` and `generate_reasoning_chain` unless absolutely needed."]}),s.jsxs("li",{className:"border-l-4 border-orange-500 pl-3",children:[s.jsx("strong",{children:"Strategic Planning Mode:"})," Use planning mode only for complex research queries where the upfront planning cost saves tokens overall."]}),s.jsxs("li",{className:"border-l-4 border-pink-500 pl-3",children:[s.jsx("strong",{children:"Monitor Transparently:"})," Check the LLM API Transparency panel in chat to see real-time costs and adjust your usage patterns."]})]})}),s.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg border border-blue-200 dark:border-blue-800 mt-4",children:[s.jsx("p",{className:"font-semibold mb-2",children:" How Infrastructure Costs Are Calculated"}),s.jsxs("p",{className:"text-sm mb-3",children:["Every Lambda request incurs costs from 5 AWS services. We apply a ",s.jsx("strong",{children:"6x markup"})," to cover operational overhead and ensure service sustainability:"]}),s.jsxs("div",{className:"space-y-2 text-sm pl-4",children:[s.jsxs("div",{className:"border-l-4 border-blue-500 pl-3",children:[s.jsx("p",{className:"font-medium",children:"1. Lambda Compute"}),s.jsxs("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:["Memory allocation  execution time  $0.0000166667 per GB-second",s.jsx("br",{}),s.jsx("em",{children:"Example: 512MB  0.8s = $0.00000667"})]})]}),s.jsxs("div",{className:"border-l-4 border-purple-500 pl-3",children:[s.jsx("p",{className:"font-medium",children:"2. Lambda Requests"}),s.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"$0.20 per million requests ($0.0000002 per request)"})]}),s.jsxs("div",{className:"border-l-4 border-green-500 pl-3",children:[s.jsx("p",{className:"font-medium",children:"3. CloudWatch Logs"}),s.jsxs("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:["~2KB per request  ($0.50/GB ingestion + $0.03/GB storage/month)",s.jsx("br",{}),s.jsx("em",{children:"Example: ~$0.00000102 per request"})]})]}),s.jsxs("div",{className:"border-l-4 border-orange-500 pl-3",children:[s.jsx("p",{className:"font-medium",children:"4. Data Transfer Out"}),s.jsxs("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:["~4KB response size  $0.09/GB (first 10TB/month)",s.jsx("br",{}),s.jsx("em",{children:"Example: ~$0.00000036 per request"})]})]}),s.jsxs("div",{className:"border-l-4 border-pink-500 pl-3",children:[s.jsx("p",{className:"font-medium",children:"5. S3 Storage"}),s.jsxs("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:["Deployment packages (~700MB)  $0.023/GB/month, averaged across requests",s.jsx("br",{}),s.jsx("em",{children:"Example: ~$0.00000003 per request"})]})]})]}),s.jsx("div",{className:"mt-3 p-3 bg-white dark:bg-gray-800 rounded border border-blue-300 dark:border-blue-700",children:s.jsxs("p",{className:"text-xs font-mono",children:[s.jsx("strong",{children:"Total AWS Cost:"})," $0.00001087 per request",s.jsx("br",{}),s.jsx("strong",{children:"With 6x markup:"})," $0.00006522 per request",s.jsx("br",{}),s.jsx("strong",{children:"Profit margin:"})," 83% (industry competitive)"]})})]})]}),s.jsxs("section",{className:"space-y-4",children:[s.jsx("h3",{className:"text-xl font-semibold text-blue-600 dark:text-blue-400",children:" Frequently Asked Questions"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("details",{className:"border-2 dark:border-gray-600 rounded-lg p-4 bg-gray-50 dark:bg-gray-800",children:[s.jsx("summary",{className:"font-semibold cursor-pointer text-base",children:"What happens if I run out of credits?"}),s.jsx("p",{className:"mt-2 text-sm pl-4",children:'Chat requests will be rejected with a "402 Payment Required" error. Simply add more credits via the Billing page to continue using the service. Your chat history and settings are preserved.'})]}),s.jsxs("details",{className:"border-2 dark:border-gray-600 rounded-lg p-4 bg-gray-50 dark:bg-gray-800",children:[s.jsx("summary",{className:"font-semibold cursor-pointer text-base",children:"Do I need credits if I provide my own API keys?"}),s.jsxs("p",{className:"mt-2 text-sm pl-4",children:["Yes, but only for minimal infrastructure costs! When using your own API keys (BYOK), you pay ",s.jsx("strong",{children:"$0 for LLM operations"}),"and only pay the Lambda infrastructure fee (4x markup on AWS costs, typically $0.0001-0.0005 per request). This is 99.6% cheaper than using server-provided keys."]})]}),s.jsxs("details",{className:"border-2 dark:border-gray-600 rounded-lg p-4 bg-gray-50 dark:bg-gray-800",children:[s.jsx("summary",{className:"font-semibold cursor-pointer text-base",children:"Why is there a 25% surcharge on server-side keys?"}),s.jsxs("p",{className:"mt-2 text-sm pl-4",children:["The 25% surcharge on server-provided API keys covers the cost of maintaining API subscriptions and service overhead. When you use your own keys (BYOK), there's ",s.jsx("strong",{children:"no surcharge"})," - you only pay infrastructure costs."]})]}),s.jsxs("details",{className:"border-2 dark:border-gray-600 rounded-lg p-4 bg-gray-50 dark:bg-gray-800",children:[s.jsx("summary",{className:"font-semibold cursor-pointer text-base",children:"How do I add my own API keys?"}),s.jsxs("p",{className:"mt-2 text-sm pl-4",children:["Navigate to ",s.jsx("strong",{children:"Settings  Providers  Add Provider"}),". Select your provider (OpenAI, Groq, Gemini, Together AI, or Custom), enter your API key, and save. Once configured, requests will use your key automatically, and you'll pay $0 for LLM operations!"]})]}),s.jsxs("details",{className:"border-2 dark:border-gray-600 rounded-lg p-4 bg-gray-50 dark:bg-gray-800",children:[s.jsx("summary",{className:"font-semibold cursor-pointer text-base",children:"What free tier options are available with BYOK?"}),s.jsxs("p",{className:"mt-2 text-sm pl-4",children:[s.jsx("strong",{children:"Groq:"})," Unlimited free tier with rate limits (perfect for most users)",s.jsx("br",{}),s.jsx("strong",{children:"Google Gemini:"})," Generous free tier with daily quotas",s.jsx("br",{}),s.jsx("strong",{children:"Together AI:"})," Free trial credits for new accounts",s.jsx("br",{}),"When you use these free tiers with your own keys, your only cost is the minimal Lambda infrastructure fee!"]})]}),s.jsxs("details",{className:"border-2 dark:border-gray-600 rounded-lg p-4 bg-gray-50 dark:bg-gray-800",children:[s.jsx("summary",{className:"font-semibold cursor-pointer text-base",children:"Can I get a refund on credit purchases?"}),s.jsx("p",{className:"mt-2 text-sm pl-4",children:"No, all credit purchases are final and non-refundable. Credits never expire, so you can use them whenever you're ready."})]})]})]})]})}function KIe(){const e=ni();return s.jsxs("div",{className:"h-full flex flex-col bg-white dark:bg-gray-900",children:[s.jsx("div",{className:"flex items-center justify-between p-4 border-b dark:border-gray-700",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("button",{onClick:()=>e("/"),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg transition-colors",title:"Back to Chat",children:s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})})}),s.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Privacy Policy"})]})}),s.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:s.jsxs("div",{className:"max-w-4xl mx-auto space-y-6 text-gray-800 dark:text-gray-200",children:[s.jsxs("section",{className:"space-y-4",children:[s.jsx("h3",{className:"text-xl font-semibold text-blue-600 dark:text-blue-400",children:" Last Updated"}),s.jsx("p",{children:"October 26, 2025"})]}),s.jsxs("section",{className:"space-y-4",children:[s.jsx("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Welcome to Our Privacy Policy"}),s.jsx("p",{children:"We believe transparency is essential when it comes to your personal information. This privacy policy explains clearly and honestly what data we collect when you use Research Agent, how we use it, who we share it with, and what rights you have over your information."}),s.jsx("p",{children:"Research Agent is designed with privacy as a core principle. We minimize data collection, store most of your content locally on your device, and never sell your personal information to third parties. Let's walk through exactly how we handle your data."})]}),s.jsxs("section",{className:"space-y-4",children:[s.jsx("h3",{className:"text-xl font-semibold text-blue-600 dark:text-blue-400",children:" What Information Do We Collect?"}),s.jsx("p",{children:"When you use Research Agent, we collect only what's necessary to provide and improve our service:"}),s.jsxs("p",{children:[s.jsx("strong",{children:"Authentication Information:"})," We use Google OAuth to verify your identity, which means we receive your email address and basic profile information (like your name and profile picture). This helps us secure your account and personalize your experience."]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Your Conversations:"})," The messages you send to AI models and their responses are stored locally in your browser's storagenot on our servers. This keeps your conversations private and under your control. Only you can access them through your authenticated account."]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Usage and Billing Data:"})," We track which AI models you use, how many tokens you consume, the costs associated with your requests, and when you make them. This information is essential for billing purposes and helps you understand your spending. When you purchase credits through PayPal, we record the transaction ID, amount, and your current balance."]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Content You Create:"}),` If you use our content management features (called "Swag"), your snippets, notes, embeddings, and tags are stored locally in your browser's IndexedDB database. You can optionally sync this content to your personal Google Drive for backup and access across devices.`]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Optional Information:"})," Some features work better with additional data that you can choose to provide. If you grant permission, we may access your location for location-based queries, or connect to your Google Drive for cloud synchronization. These are entirely optionalthe service works without them."]})]}),s.jsxs("section",{className:"space-y-4",children:[s.jsx("h3",{className:"text-xl font-semibold text-blue-600 dark:text-blue-400",children:" How Do We Use Your Information?"}),s.jsx("p",{children:"Every piece of information we collect serves a specific purpose:"}),s.jsxs("p",{children:[s.jsx("strong",{children:"Providing the Service:"})," We use your authentication data to verify who you are and keep your account secure. When you ask a question or make a request, we route it to the AI provider you've selected (like OpenAI, Google, or Groq), including the necessary context to get you a helpful response."]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Managing Your Account:"})," Your billing information helps us track your credit balance, process payments through PayPal, and generate transparent transaction records so you always know where your money is going. This financial visibility is importantyou should never wonder what you're being charged for."]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Improving the Service:"})," We analyze aggregated usage patterns (without identifying individual users) to monitor performance, identify and fix bugs, and optimize our infrastructure for better speed and reliability. When something breaks or could work better, this data helps us fix it."]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Communicating With You:"})," If we need to send important service updates, security alerts, or respond to your support requests, we'll use your email address. We don't send marketing emails or spamjust essential service information."]})]}),s.jsxs("section",{className:"space-y-4",children:[s.jsx("h3",{className:"text-xl font-semibold text-blue-600 dark:text-blue-400",children:" Who Do We Share Your Data With?"}),s.jsx("p",{children:"To provide Research Agent's functionality, we work with several trusted partners:"}),s.jsxs("p",{children:[s.jsx("strong",{children:"AI Service Providers:"})," When you send a prompt, it goes to the AI provider you've selectedOpenAI, Google, Anthropic, Groq, or others. Your conversation history is shared with these providers so they can generate relevant responses. Each provider has their own privacy policy that governs how they handle your data. We recommend reviewing their policies to understand how your prompts are processed and whether they're used for training."]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Payment Processor:"})," All financial transactions are handled directly by PayPal. When you buy credits, PayPal processes your payment according to their privacy policy. We never see or store your credit card numbers, bank account information, or other sensitive financial details. We only receive confirmation that the payment succeeded and the transaction ID for our records."]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Cloud Infrastructure:"})," Our backend runs on Amazon Web Services (AWS) Lambda, which hosts the code that processes your requests and manages routing to AI providers. AWS is a secure, enterprise-grade cloud platform trusted by millions of applications worldwide."]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Your Personal Cloud Storage:"})," If you enable Google Drive synchronization, your content travels directly from your browser to your own Google Drive account. We don't maintain copies on our serversthe data goes straight to storage you control."]}),s.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 p-4 rounded-lg border border-red-200 dark:border-red-800",children:[s.jsx("p",{className:"font-semibold text-red-800 dark:text-red-200 mb-2",children:" What We DON'T Do"}),s.jsx("p",{className:"text-sm",children:"We do NOT sell your personal information to advertisers, data brokers, or marketing companies. We do NOT share your conversations or content with third parties for purposes unrelated to providing you the service. Your data is used solely to give you the AI assistance you signed up for, nothing more."})]})]}),s.jsxs("section",{className:"space-y-4",children:[s.jsx("h3",{className:"text-xl font-semibold text-blue-600 dark:text-blue-400",children:" How We Protect and Store Your Data"}),s.jsxs("p",{children:[s.jsx("strong",{children:"Privacy-First Architecture:"})," Research Agent is built around a simple principle: your private data should stay private. The majority of your contentyour complete chat history, all your saved snippets, and generated embeddingsnever leaves your device. It's stored exclusively in your browser's local IndexedDB database, which means it stays on your computer or phone unless you explicitly choose to back it up to your Google Drive."]}),s.jsxs("p",{children:[s.jsx("strong",{children:"What Lives on Our Servers:"})," The only information we store on our backend infrastructure is billing-related: your transaction history, credit purchases, and usage logs. We keep this for accounting purposes and to ensure billing transparency. This data is stored securely with appropriate access controls and encryption."]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Data Security:"})," All communication between your browser and our servers is encrypted using HTTPS, the same technology that protects online banking. Your authentication happens through Google's OAuth2 system, which means we never see your Google password. Access to your personal data is restricted to you alone through your authenticated Google accountnot even administrators can peek at your conversations or content."]}),s.jsxs("p",{children:[s.jsx("strong",{children:"How Long We Keep Data:"})," Billing records are retained as required by law for tax and accounting compliance. Your chat history and content are stored locally in your browser, so they persist until you choose to delete them. You're always in controlclear your data whenever you want through the app or your browser's storage settings."]})]}),s.jsxs("section",{className:"space-y-4",children:[s.jsx("h3",{className:"text-xl font-semibold text-blue-600 dark:text-blue-400",children:" Your Rights and Control"}),s.jsx("p",{children:"You have meaningful control over your information:"}),s.jsxs("p",{children:[s.jsx("strong",{children:"Access Your Data:"})," View your complete billing history and detailed usage statistics anytime through the Billing page. See exactly what you've been charged for, when, and how many credits you have remaining."]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Delete Your Data:"})," Because your conversations and content live in your browser, you can delete them whenever you choose. Use the app's clear data features or your browser's storage management tools. It's truly deletedwe can't recover it because we never had a copy."]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Export Your Data:"})," Download your transaction history and usage data for your own records or to move to another service. Your data isn't locked inyou can take it with you."]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Control Optional Features:"})," Turn off Google Drive sync to keep content local-only. Revoke location access if you no longer want location-based features. Close your account entirely if you no longer wish to use Research Agent."]})]}),s.jsxs("section",{className:"space-y-4",children:[s.jsx("h3",{className:"text-xl font-semibold text-blue-600 dark:text-blue-400",children:" Important Disclaimers and Limitations"}),s.jsxs("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 p-5 rounded-lg border-2 border-yellow-300 dark:border-yellow-700 space-y-4",children:[s.jsxs("p",{children:[s.jsx("strong",{className:"text-yellow-800 dark:text-yellow-200",children:"Understanding AI-Generated Content:"}),` The responses you receive from AI models are generated by sophisticated artificial intelligence, but they're not perfect. AI can make mistakes, exhibit biases from training data, provide outdated information, or even "hallucinate"confidently presenting false information as fact. AI-generated content may also include inappropriate, offensive, or potentially harmful material.`]}),s.jsxs("p",{children:[s.jsx("strong",{className:"text-yellow-800 dark:text-yellow-200",children:"No Warranties:"}),` We provide Research Agent "as is" without guarantees of any kind. We don't warrant that the AI responses will be accurate, complete, safe, or suitable for any particular purpose. The service may have bugs, experience downtime, or not work as expected.`]}),s.jsxs("p",{children:[s.jsx("strong",{className:"text-yellow-800 dark:text-yellow-200",children:"Your Responsibility:"})," You are solely responsible for verifying information before acting on it. This is especially critical for important decisions involving health, legal matters, financial planning, safety, or anything consequential. When it matters, consult qualified professionals rather than relying on AI alone."]}),s.jsxs("p",{children:[s.jsx("strong",{className:"text-yellow-800 dark:text-yellow-200",children:"Third-Party Services:"})," We're not responsible for issues with OpenAI, Google, Groq, PayPal, or other integrated services. Their performance, availability, and policies are beyond our control. Problems with these services are governed by their own terms and privacy policies."]}),s.jsxs("p",{children:[s.jsx("strong",{className:"text-yellow-800 dark:text-yellow-200",children:"Data Loss:"})," While we implement reasonable protections, we can't guarantee against data loss. We're not liable for lost chat history, content, or other browser-stored data due to cache clearing, device failure, software conflicts, or any other cause. Back up anything important to external storage."]}),s.jsxs("p",{children:[s.jsx("strong",{className:"text-yellow-800 dark:text-yellow-200",children:"Liability Limits:"})," To the maximum extent permitted by law, our total liability for all claims will not exceed what you've paid us for credits in the past 30 days. We're not liable for indirect damages, lost profits, or consequential losses."]})]})]}),s.jsxs("section",{className:"space-y-4",children:[s.jsx("h3",{className:"text-xl font-semibold text-blue-600 dark:text-blue-400",children:" Changes to This Policy"}),s.jsx("p",{children:`As Research Agent evolves and legal requirements change, we may update this privacy policy. When we make significant changes affecting your rights or our data practices, we'll notify you prominently in the app and update the "Last Updated" date above. We encourage you to review this policy periodically. Continued use after changes means you accept the updated terms.`})]}),s.jsxs("section",{className:"space-y-4",children:[s.jsx("h3",{className:"text-xl font-semibold text-blue-600 dark:text-blue-400",children:" Contact Us"}),s.jsx("p",{children:"We're here to answer your questions and address your concerns:"}),s.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg border border-blue-200 dark:border-blue-800 space-y-3",children:[s.jsxs("div",{className:"border-l-4 border-blue-500 pl-4",children:[s.jsx("p",{className:"font-semibold text-blue-700 dark:text-blue-300",children:"Email Support"}),s.jsx("p",{className:"text-sm mb-1",children:"For privacy questions, general inquiries, or billing issues:"}),s.jsx("a",{href:"mailto:syntithenai@gmail.com",className:"text-blue-600 dark:text-blue-400 hover:underline text-sm",children:"syntithenai@gmail.com"})]}),s.jsxs("div",{className:"border-l-4 border-purple-500 pl-4",children:[s.jsx("p",{className:"font-semibold text-purple-700 dark:text-purple-300",children:"Bug Reports & Feature Requests"}),s.jsx("p",{className:"text-sm mb-1",children:"For technical issues, bug reports, or feature suggestions:"}),s.jsx("button",{onClick:()=>window.open("https://github.com/syntithenai/lambdallmproxy/issues","_blank"),className:"text-purple-600 dark:text-purple-400 hover:underline text-sm",children:"GitHub Issues "})]})]}),s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:'We typically respond within a few business days. For urgent billing or account issues, mark your message as "URGENT."'})]}),s.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-5 rounded-lg border-2 border-blue-300 dark:border-blue-700",children:[s.jsx("p",{className:"font-semibold text-lg mb-2 text-blue-900 dark:text-blue-100",children:"Your Consent"}),s.jsx("p",{className:"text-sm",children:"By using Research Agent, you confirm that you've read and understood this privacy policy, agree to its terms including the disclaimers and liability limitations, and understand both the capabilities and limitations of AI technology. If you don't agree with any part of this policy, please don't use the service."})]})]})})]})}const O4=()=>{const e=ni(),[t]=hQ(),{isAuthenticated:r}=Ps(),[n,a]=C.useState(null),[i,o]=C.useState(!0),[l,u]=C.useState(null);C.useEffect(()=>{try{const h=aIe();h?(a(h),console.log(" Loaded shared snippet:",h.title||"Untitled")):u("Invalid or missing snippet data in URL")}catch(h){console.error("Failed to load shared snippet:",h),u("Failed to decode snippet data")}finally{o(!1)}},[t]);const d=()=>{e(r?"/":"/login?redirect=/")};return i?s.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading shared snippet..."})]})}):l||!n?s.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center p-4",children:s.jsxs("div",{className:"max-w-md w-full bg-white dark:bg-gray-800 rounded-lg shadow-xl p-8 text-center",children:[s.jsx("div",{className:"text-red-500 text-5xl mb-4",children:""}),s.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:"Unable to Load Snippet"}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:l||"The shared snippet could not be found or loaded."}),s.jsx("button",{onClick:d,className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:r?"Go to Chat":"Go to Login"})]})}):s.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[s.jsx("div",{className:"fixed top-0 right-0 left-0 bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 shadow-sm z-10",children:s.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-3 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"text-2xl",children:""}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Shared Snippet"}),s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"View only  No login required"})]})]}),s.jsxs("button",{onClick:d,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})}),s.jsx("span",{children:r?"Back to Chat":"Login & Chat"})]})]})}),s.jsx("div",{className:"pt-20 pb-8 px-4",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl overflow-hidden",children:[s.jsxs("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-3",children:n.title||"Untitled Snippet"}),s.jsxs("div",{className:"flex flex-wrap items-center gap-3 text-sm text-gray-600 dark:text-gray-400",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),new Date(n.timestamp).toLocaleString()]}),n.sourceType&&s.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${n.sourceType==="user"?"bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200":n.sourceType==="assistant"?"bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-200":"bg-purple-100 dark:bg-purple-900 text-purple-800 dark:text-purple-200"}`,children:n.sourceType}),n.metadata&&s.jsxs("div",{className:"flex items-center gap-1 text-xs",children:[s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),n.metadata.originalSize.toLocaleString()," chars",n.metadata.compressedSize&&s.jsxs("span",{className:"text-gray-400",children:["(",((1-n.metadata.compressedSize/n.metadata.originalSize)*100).toFixed(0),"% compressed)"]})]})]}),n.tags&&n.tags.length>0&&s.jsx("div",{className:"flex gap-2 flex-wrap mt-3",children:n.tags.map((h,g)=>s.jsxs("span",{className:"px-3 py-1 text-sm bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-full",children:["#",h]},g))})]}),s.jsx("div",{className:"p-6",children:s.jsx("div",{className:"prose dark:prose-invert max-w-none",children:s.jsx(ou,{content:n.content})})})]}),s.jsx("div",{className:"mt-6 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4",children:s.jsxs("div",{className:"flex gap-3",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("svg",{className:"w-6 h-6 text-blue-600 dark:text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-semibold text-blue-900 dark:text-blue-200 mb-1",children:"This is a shared snippet"}),s.jsxs("p",{className:"text-sm text-blue-800 dark:text-blue-300",children:["Someone shared this content with you. No login is required to view it.",!r&&s.jsx("span",{children:' Click "Login & Chat" to create an account and start using the chat features.'})]})]})]})})]})})]})},QIe=({image:e,isSelected:t,onToggleSelection:r,processingStatus:n,isNew:a=!1})=>s.jsxs("div",{className:`
        relative rounded-lg overflow-hidden border-2 transition-all
        ${t?"border-blue-500 shadow-lg":"border-gray-200"}
        ${a?"ring-4 ring-green-500 animate-pulse":""}
      `,children:[s.jsx("div",{className:"absolute top-2 left-2 z-10",children:s.jsx("input",{type:"checkbox",checked:t,onChange:r,className:"w-5 h-5 rounded bg-white/80 backdrop-blur cursor-pointer"})}),s.jsx("img",{src:e.url,alt:e.name,className:"w-full h-auto object-cover",loading:"lazy"}),n?.status==="processing"&&s.jsx("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center text-white",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-white mx-auto"}),s.jsx("p",{className:"text-sm mt-2",children:n.message}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mt-2 mx-4",children:s.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all",style:{width:`${n.progress}%`}})})]})}),n?.status==="error"&&s.jsx("div",{className:"absolute inset-0 bg-red-500/20 flex items-center justify-center",children:s.jsxs("div",{className:"text-center text-red-900 bg-white/90 p-2 rounded",children:[s.jsx("p",{className:"text-sm font-bold",children:" Error"}),s.jsx("p",{className:"text-xs",children:n.error})]})}),n?.status==="complete"&&s.jsx("div",{className:"absolute top-2 right-2 bg-green-500 text-white px-2 py-1 rounded text-xs font-bold",children:" Done"}),s.jsxs("div",{className:"p-2 bg-gray-50",children:[s.jsx("p",{className:"text-sm font-medium truncate",children:e.name}),s.jsx("div",{className:"flex gap-1 mt-1 flex-wrap",children:e.tags.map(i=>s.jsx("span",{className:"px-2 py-0.5 bg-blue-100 text-xs rounded",children:i},i))}),e.width&&e.height&&s.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[e.width,"  ",e.height,e.format&&`  ${e.format.toUpperCase()}`]})]})]}),XIe=({images:e,selectedImages:t,onToggleSelection:r,processingStatus:n,newlyGeneratedIds:a=new Set})=>s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 p-4",children:[e.map(i=>s.jsx(QIe,{image:i,isSelected:t.has(i.id),onToggleSelection:()=>r(i.id),processingStatus:n.get(i.id),isNew:a.has(i.id)},i.id)),e.length===0&&s.jsxs("div",{className:"col-span-full text-center py-12 text-gray-500",children:[s.jsx("p",{className:"text-lg",children:"No images to display"}),s.jsx("p",{className:"text-sm",children:"Navigate from the Swag page to edit images"})]})]}),ZIe=({onSelectAll:e,onSelectNone:t,selectedCount:r,totalCount:n})=>s.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 border-b border-gray-200",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("button",{onClick:e,className:"text-sm text-blue-600 hover:text-blue-800 font-medium",disabled:r===n,children:"Select All"}),s.jsx("button",{onClick:t,className:"text-sm text-blue-600 hover:text-blue-800 font-medium",disabled:r===0,children:"Select None"})]}),s.jsxs("div",{className:"text-sm text-gray-600",children:[r," of ",n," selected"]})]}),JIe=({selectedCount:e,onOperation:t,disabled:r})=>{const n=(a="")=>`px-3 py-1.5 text-xs font-medium rounded transition-colors ${r||e===0?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-gray-200 hover:bg-gray-300 text-gray-700"} ${a}`;return s.jsxs("div",{className:"bg-white border-b border-gray-200 p-4",children:[s.jsxs("div",{className:"flex flex-wrap gap-4",children:[s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsx("label",{className:"text-xs text-gray-500 uppercase font-semibold",children:"Resize"}),s.jsxs("div",{className:"flex gap-1",children:[s.jsx("button",{onClick:()=>t({type:"resize",params:{scale:.25},label:"25%"}),disabled:r||e===0,className:n(),children:"25%"}),s.jsx("button",{onClick:()=>t({type:"resize",params:{scale:.5},label:"50%"}),disabled:r||e===0,className:n(),children:"50%"}),s.jsx("button",{onClick:()=>t({type:"resize",params:{scale:.75},label:"75%"}),disabled:r||e===0,className:n(),children:"75%"}),s.jsx("button",{onClick:()=>t({type:"resize",params:{scale:1.5},label:"150%"}),disabled:r||e===0,className:n(),children:"150%"}),s.jsx("button",{onClick:()=>t({type:"resize",params:{scale:2},label:"200%"}),disabled:r||e===0,className:n(),children:"200%"})]})]}),s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsx("label",{className:"text-xs text-gray-500 uppercase font-semibold",children:"Rotate"}),s.jsxs("div",{className:"flex gap-1",children:[s.jsx("button",{onClick:()=>t({type:"rotate",params:{degrees:90},label:"90"}),disabled:r||e===0,className:n(),children:"90"}),s.jsx("button",{onClick:()=>t({type:"rotate",params:{degrees:180},label:"180"}),disabled:r||e===0,className:n(),children:"180"}),s.jsx("button",{onClick:()=>t({type:"rotate",params:{degrees:270},label:"270"}),disabled:r||e===0,className:n(),children:"270"})]})]}),s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsx("label",{className:"text-xs text-gray-500 uppercase font-semibold",children:"Flip"}),s.jsxs("div",{className:"flex gap-1",children:[s.jsx("button",{onClick:()=>t({type:"flip",params:{direction:"horizontal"},label:"Horizontal"}),disabled:r||e===0,className:n(),title:"Flip Horizontal",children:""}),s.jsx("button",{onClick:()=>t({type:"flip",params:{direction:"vertical"},label:"Vertical"}),disabled:r||e===0,className:n(),title:"Flip Vertical",children:""})]})]}),s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsx("label",{className:"text-xs text-gray-500 uppercase font-semibold",children:"Format"}),s.jsxs("div",{className:"flex gap-1",children:[s.jsx("button",{onClick:()=>t({type:"format",params:{format:"jpg"},label:"JPG"}),disabled:r||e===0,className:n(),children:"JPG"}),s.jsx("button",{onClick:()=>t({type:"format",params:{format:"png"},label:"PNG"}),disabled:r||e===0,className:n(),children:"PNG"}),s.jsx("button",{onClick:()=>t({type:"format",params:{format:"webp"},label:"WebP"}),disabled:r||e===0,className:n(),children:"WebP"})]})]}),s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsx("label",{className:"text-xs text-gray-500 uppercase font-semibold",children:"Filters"}),s.jsxs("div",{className:"flex gap-1",children:[s.jsx("button",{onClick:()=>t({type:"filter",params:{filter:"grayscale"},label:"Grayscale"}),disabled:r||e===0,className:n(),title:"Grayscale",children:""}),s.jsx("button",{onClick:()=>t({type:"filter",params:{filter:"sepia"},label:"Sepia"}),disabled:r||e===0,className:n(),title:"Sepia",children:""}),s.jsx("button",{onClick:()=>t({type:"filter",params:{filter:"blur"},label:"Blur"}),disabled:r||e===0,className:n(),title:"Blur",children:""}),s.jsx("button",{onClick:()=>t({type:"filter",params:{filter:"sharpen"},label:"Sharpen"}),disabled:r||e===0,className:n(),title:"Sharpen",children:""})]})]})]}),s.jsxs("div",{className:"text-xs text-gray-500 mt-2",children:[e," image",e!==1?"s":""," selected"]})]})},eRe=({value:e,onChange:t,onSubmit:r,disabled:n,placeholder:a="Describe transformation (e.g., 'resize to 800px width' or 'convert to grayscale')"})=>{const[i,o]=C.useState(!1),[l,u]=C.useState(!1),[d,h]=C.useState(!1),g=C.useRef(null),f=C.useRef(null),b=C.useRef(!1),x=C.useRef(""),E=C.useRef(null),v=C.useRef(null),T=C.useRef(null),w=C.useRef(null),N=C.useRef(null),R=C.useRef(null),D=async()=>{try{const K=await navigator.mediaDevices.getUserMedia({audio:!0});R.current=K;const X=new(window.AudioContext||window.webkitAudioContext);E.current=X;const Q=X.createAnalyser();Q.fftSize=256,Q.smoothingTimeConstant=.8,v.current=Q,X.createMediaStreamSource(K).connect(Q);const H=Q.frequencyBinCount,$=new Uint8Array(H);T.current=$,L()}catch(K){console.error("Error accessing microphone:",K)}},L=()=>{if(!v.current||!T.current||!N.current)return;const K=N.current,X=K.getContext("2d");if(!X)return;const Q=v.current,O=T.current,H=Q.frequencyBinCount,$=()=>{if(!i)return;w.current=requestAnimationFrame($),Q.getByteFrequencyData(O),X.fillStyle="rgba(15, 23, 42, 0.95)",X.fillRect(0,0,K.width,K.height);const Y=K.width/H*2.5;let V,ne=0;for(let P=0;P<H;P++){V=O[P]/255*K.height*.8;const I=O[P]/255,G=200,F=50+I*30,ie=40+I*30;X.fillStyle=`hsl(${G}, ${F}%, ${ie}%)`,X.fillRect(ne,K.height-V,Y,V),ne+=Y+1}X.strokeStyle="rgba(148, 163, 184, 0.3)",X.lineWidth=1,X.beginPath(),X.moveTo(0,K.height/2),X.lineTo(K.width,K.height/2),X.stroke()};$()},j=()=>{w.current&&(cancelAnimationFrame(w.current),w.current=null),R.current&&(R.current.getTracks().forEach(K=>K.stop()),R.current=null),E.current&&(E.current.close(),E.current=null)};C.useEffect(()=>{const K=window.SpeechRecognition||window.webkitSpeechRecognition;return K&&(u(!0),g.current=new K,g.current.continuous=!0,g.current.interimResults=!0,g.current.lang="en-US",g.current.maxAlternatives=1,g.current.onresult=X=>{let Q="",O="";for(let H=X.resultIndex;H<X.results.length;H++){const $=X.results[H][0].transcript;X.results[H].isFinal?O+=$:Q+=$}if((Q.trim()||O.trim())&&(b.current||(b.current=!0,console.log(" Speech detected, starting timeout...")),x.current=Q,f.current&&clearTimeout(f.current),f.current=setTimeout(()=>{console.log(" Silence detected, stopping..."),g.current&&g.current.stop()},2e3)),O){const H=(x.current+" "+O).trim();t(e?`${e} ${H}`:H),x.current=""}},g.current.onerror=X=>{if(console.error("Speech recognition error:",X.error),X.error==="no-speech"){if(console.log(" No speech detected yet, continuing to listen..."),!b.current&&i)try{g.current.start()}catch{}}else o(!1),b.current=!1,f.current&&clearTimeout(f.current)},g.current.onend=()=>{console.log(" Recognition ended"),o(!1),h(!1),b.current=!1,x.current="",f.current&&clearTimeout(f.current),j()}),()=>{g.current&&g.current.stop(),f.current&&clearTimeout(f.current),j()}},[t,e,i]);const B=async()=>{if(g.current)if(i)g.current.stop(),o(!1),h(!1),j();else try{h(!0),await D(),g.current.start(),o(!0)}catch(K){console.error("Error starting speech recognition:",K),o(!1),h(!1),j()}};C.useEffect(()=>{const K=X=>{X.key==="Escape"&&d&&B()};return window.addEventListener("keydown",K),()=>window.removeEventListener("keydown",K)},[d]);const q=K=>{K.preventDefault(),e.trim()&&!n&&r()},z=K=>{K.key==="Enter"&&K.ctrlKey&&(K.preventDefault(),r())};return s.jsxs("div",{className:"bg-white p-4",children:[s.jsxs("form",{onSubmit:q,children:[s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx("textarea",{value:e,onChange:K=>t(K.target.value),disabled:n,placeholder:a,className:"w-full border border-gray-300 rounded-lg p-3 pr-12 resize-none h-24 focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:bg-gray-100 disabled:cursor-not-allowed",onKeyDown:z}),l&&s.jsx("button",{type:"button",onClick:B,disabled:n,className:`
                  absolute right-2 top-2 p-2 rounded-full transition-all
                  ${i?"bg-blue-500 text-white":"bg-gray-100 hover:bg-gray-200 text-gray-700"}
                  ${n?"opacity-50 cursor-not-allowed":""}
                `,title:i?"Listening... Click to stop":"Click to speak command","aria-label":i?"Stop voice input":"Start voice input",children:s.jsxs("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:[s.jsx("path",{d:"M7 4a3 3 0 016 0v6a3 3 0 11-6 0V4z"}),s.jsx("path",{d:"M5.5 9.643a.75.75 0 00-1.5 0V10c0 3.06 2.29 5.585 5.25 5.954V17.5h-1.5a.75.75 0 000 1.5h4.5a.75.75 0 000-1.5h-1.5v-1.546A6.001 6.001 0 0016 10v-.357a.75.75 0 00-1.5 0V10a4.5 4.5 0 01-9 0v-.357z"})]})})]}),s.jsx("button",{type:"submit",disabled:n||!e.trim(),className:`
              self-end px-6 py-3 rounded-lg font-medium transition-colors
              ${n||!e.trim()?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700"}
            `,children:"Apply"})]}),s.jsxs("div",{className:"mt-2 text-xs text-gray-500",children:[s.jsx("strong",{children:"Examples:"}),' "resize to 800px width"  "convert to grayscale"  "rotate 90 degrees"  "add 10px border"',l&&s.jsxs(s.Fragment,{children:["  ",s.jsx("strong",{children:" Voice:"})," Click microphone to speak commands"]})," "," Press ",s.jsx("kbd",{className:"px-1 py-0.5 bg-gray-200 rounded",children:"Ctrl+Enter"})," to apply"]})]}),d&&s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-60 backdrop-blur-sm",children:s.jsxs("div",{className:"relative bg-slate-900 rounded-2xl shadow-2xl p-8 max-w-2xl w-full mx-4",children:[s.jsx("button",{onClick:B,className:"absolute top-4 right-4 text-slate-400 hover:text-white transition-colors","aria-label":"Close",children:s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),s.jsxs("div",{className:"text-center mb-6",children:[s.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 mb-4 rounded-full bg-blue-500 bg-opacity-20",children:s.jsxs("svg",{className:"w-8 h-8 text-blue-400",fill:"currentColor",viewBox:"0 0 20 20",children:[s.jsx("path",{d:"M7 4a3 3 0 016 0v6a3 3 0 11-6 0V4z"}),s.jsx("path",{d:"M5.5 9.643a.75.75 0 00-1.5 0V10c0 3.06 2.29 5.585 5.25 5.954V17.5h-1.5a.75.75 0 000 1.5h4.5a.75.75 0 000-1.5h-1.5v-1.546A6.001 6.001 0 0016 10v-.357a.75.75 0 00-1.5 0V10a4.5 4.5 0 01-9 0v-.357z"})]})}),s.jsx("h3",{className:"text-2xl font-semibold text-white mb-2",children:b.current?"Listening...":"Speak your command"}),s.jsx("p",{className:"text-slate-400 text-sm",children:b.current?"Processing your voice input...":'Try: "resize to 800 pixels" or "convert to grayscale"'})]}),s.jsx("div",{className:"mb-6 rounded-xl overflow-hidden border border-slate-700 shadow-inner",children:s.jsx("canvas",{ref:N,width:600,height:200,className:"w-full h-48"})}),s.jsxs("div",{className:"flex items-center justify-center gap-3 text-slate-300",children:[s.jsxs("div",{className:"flex gap-1",children:[s.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-pulse",style:{animationDelay:"0ms"}}),s.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-pulse",style:{animationDelay:"150ms"}}),s.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-pulse",style:{animationDelay:"300ms"}})]}),s.jsx("span",{className:"text-sm font-medium",children:b.current?"Speech detected":"Ready to listen"})]}),x.current&&s.jsx("div",{className:"mt-4 p-3 bg-slate-800 rounded-lg border border-slate-700",children:s.jsxs("p",{className:"text-slate-300 text-sm italic",children:['"',x.current,'"']})}),s.jsx("div",{className:"mt-6 text-center text-xs text-slate-500",children:"Click outside or press ESC to cancel  Stops automatically after 2 seconds of silence"})]})})]})};async function tRe(e,t){const n=`${await ta()}/image-edit`,a=localStorage.getItem("google_oauth_token"),i=await fetch(n,{method:"POST",headers:{"Content-Type":"application/json",...a?{"X-Google-OAuth-Token":a}:{}},body:JSON.stringify(e)});if(!i.ok)throw new Error(`HTTP error! status: ${i.status}`);if(!i.body)throw new Error("Response body is null");const o=i.body.getReader(),l=new TextDecoder;let u="";try{for(;;){const{done:d,value:h}=await o.read();if(d)break;u+=l.decode(h,{stream:!0});const g=u.split(`

`);u=g.pop()||"";for(const f of g)if(f.startsWith("data: ")){const b=f.substring(6);try{const x=JSON.parse(b);if(t(x),x.type==="error"||x.type==="complete")return}catch(x){console.error("Failed to parse SSE event:",x,b)}}}}finally{o.releaseLock()}}async function rRe(e){const r=`${await ta()}/parse-image-command`,n=localStorage.getItem("google_oauth_token"),a=await fetch(r,{method:"POST",headers:{"Content-Type":"application/json",...n?{"X-Google-OAuth-Token":n}:{}},body:JSON.stringify({command:e})});if(!a.ok)throw new Error(`HTTP error! status: ${a.status}`);return await a.json()}const nRe=()=>{const e=ni(),t=Gi(),{addSnippet:r,updateSnippet:n,snippets:a}=_u(),i=t.state,o=i?.images||[],l=i?.editingSnippetId,u=o.length===1&&o[0].snippetId,d=u?o[0].snippetId:null,[h]=C.useState(o),[g,f]=C.useState(new Set),[b]=C.useState([]),[x,E]=C.useState(new Map),[v,T]=C.useState(""),[w,N]=C.useState(!1),[R]=C.useState(new Set),[D,L]=C.useState(new Map),j=[...b,...h],B=()=>{f(new Set(j.map(H=>H.id)))},q=()=>{f(new Set)},z=H=>{const $=new Set(g);$.has(H)?$.delete(H):$.add(H),f($)},K=async H=>{if(g.size===0)return;N(!0);const $=Array.from(g),Y=j.filter(V=>$.includes(V.id));try{await tRe({images:Y.map(V=>({id:V.id,url:V.url})),operations:[H]},V=>{V.type==="image_start"&&V.imageId?E(ne=>new Map(ne).set(V.imageId,{imageId:V.imageId,status:"processing",progress:0,message:`Starting ${H.label}...`})):V.type==="progress"&&V.imageId?E(ne=>new Map(ne).set(V.imageId,{imageId:V.imageId,status:"processing",progress:V.progress||0,message:V.currentOperation?`${V.currentOperation}... ${V.progress}%`:`${V.status}...`})):V.type==="image_complete"&&V.imageId&&V.result?(E(ne=>new Map(ne).set(V.imageId,{imageId:V.imageId,status:"complete",progress:100,message:"Complete",result:V.result?.url})),V.result?.url&&L(ne=>new Map(ne).set(V.imageId,V.result.url))):V.type==="image_error"&&V.imageId?E(ne=>new Map(ne).set(V.imageId,{imageId:V.imageId,status:"error",progress:0,message:V.error||"Processing failed",error:V.error})):V.type==="complete"?console.log("All images processed:",V):V.type==="error"&&(console.error("API error:",V.error),alert(`Error: ${V.error}`))}),setTimeout(()=>{N(!1),$.forEach(V=>{E(ne=>{const P=new Map(ne);return P.delete(V),P})})},3e3)}catch(V){console.error("Image processing error:",V),alert(`Error processing images: ${V instanceof Error?V.message:String(V)}`),N(!1),$.forEach(ne=>{E(P=>new Map(P).set(ne,{imageId:ne,status:"error",progress:0,message:"Failed",error:V instanceof Error?V.message:String(V)}))})}},X=async()=>{if(D.size===0){alert("No processed images to save");return}N(!0);try{if(u&&d){const $=Array.from(D.keys())[0],Y=D.get($),V=j.find(ne=>ne.id===$);if(Y&&V){const ne=Y,P=a.find(F=>F.id===d);if(!P)throw new Error("Source snippet not found");let I=P.content;const G=V.url;I=I.replace(new RegExp(`!\\[([^\\]]*)\\]\\(${Q(G)}\\)`,"g"),`![$1](${ne})`),I=I.replace(new RegExp(`<img([^>]*?)src="${Q(G)}"`,"g"),`<img$1src="${ne}"`),I=I.replace(new RegExp(`<img([^>]*?)src='${Q(G)}'`,"g"),`<img$1src='${ne}'`),(I.trim()===G||I.trim()===`![](${G})`)&&(I=ne),await n(d,{content:I}),alert("Image updated inline in snippet"),e("/swag");return}}let H=0;for(const[$,Y]of D.entries()){const V=j.find(ne=>ne.id===$);if(V)try{const ne=Y,P=`Edited Image - ${new Date().toLocaleString()}`,I=`![${V.name||"Edited image"}](${ne})`;await r(I,"user",P),H++}catch(ne){console.error(`Failed to save image ${$}:`,ne)}}alert(`Successfully saved ${H} edited image(s) to Swag as new snippets`),L(new Map),e("/swag")}catch(H){console.error("Save to swag error:",H),alert(`Error saving: ${H instanceof Error?H.message:String(H)}`)}finally{N(!1)}},Q=H=>H.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),O=async()=>{if(!(!v.trim()||g.size===0)){N(!0);try{console.log("Parsing command:",v);const H=await rRe(v);if(!H.success||H.operations.length===0){alert(H.explanation||'Could not understand command. Try: "make smaller", "rotate right", "convert to jpg"'),N(!1);return}console.log("Parsed operations:",H.operations);for(const $ of H.operations)await K($);T("")}catch(H){console.error("Command parsing error:",H),alert(`Error: ${H instanceof Error?H.message:String(H)}`)}finally{N(!1)}}};return s.jsxs("div",{className:"min-h-screen flex flex-col bg-gray-50",children:[s.jsx("header",{className:"bg-white border-b border-gray-200 p-4 sticky top-0 z-20 shadow-sm",children:s.jsxs("div",{className:"max-w-7xl mx-auto flex items-center justify-between",children:[s.jsxs("button",{onClick:()=>{l?e("/swag",{state:{editingSnippetId:l}}):e("/swag")},className:"flex items-center gap-2 text-gray-700 hover:text-gray-900 font-medium transition-colors",children:[s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Back to Swag"]}),s.jsxs("h1",{className:"text-xl font-bold text-gray-900",children:[u?"Edit Inline Image":"Image Editor",g.size>0&&` (${g.size} selected)`]}),s.jsx("button",{onClick:X,disabled:D.size===0||w,className:`px-4 py-2 rounded-lg font-medium transition-colors ${D.size===0||w?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-green-600 text-white hover:bg-green-700"}`,children:w?"Saving...":u?"Update in Snippet":`Save to Swag (${D.size})`})]})}),s.jsx("main",{className:"flex-1 overflow-auto",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsx(ZIe,{onSelectAll:B,onSelectNone:q,selectedCount:g.size,totalCount:j.length}),s.jsx(XIe,{images:j,selectedImages:g,onToggleSelection:z,processingStatus:x,newlyGeneratedIds:R})]})}),s.jsx("footer",{className:"bg-white border-t border-gray-200 sticky bottom-0 z-20 shadow-lg",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsx(JIe,{selectedCount:g.size,onOperation:K,disabled:w}),s.jsx(eRe,{value:v,onChange:T,onSubmit:O,disabled:w||g.size===0,placeholder:g.size===0?"Select images to apply transformations":"Describe transformation (e.g., 'resize to 800px width' or 'convert to grayscale')"})]})})]})},aRe=({isBlocked:e,onUnblock:t})=>{const{settings:r}=mo(),{isAuthenticated:n}=Ps(),a=ni();return C.useEffect(()=>{if(e&&r.providers&&r.providers.length>0){console.log("User has UI providers configured, unblocking UI"),t();return}},[e,r.providers,t]),C.useEffect(()=>{const i=o=>{console.log("Provider added:",o.detail),setTimeout(()=>{r.providers&&r.providers.length>0&&t()},100)};return window.addEventListener("provider-added",i),()=>{window.removeEventListener("provider-added",i)}},[r.providers,t]),e&&n?s.jsxs("div",{className:"provider-setup-gate",children:[s.jsx("div",{className:"gate-overlay",children:s.jsxs("div",{className:"gate-content",children:[s.jsxs("div",{className:"gate-header",children:[s.jsx("h1",{children:" Credits Required"}),s.jsx("p",{className:"gate-subtitle",children:"To use this service, you need to purchase credits."})]}),s.jsxs("div",{className:"gate-info",children:[s.jsxs("div",{className:"info-box",children:[s.jsx("h3",{children:"How does it work?"}),s.jsx("p",{children:"This is a pay-as-you-go service. Purchase credits to access our LLM providers without needing your own API keys. Your credits are tracked automatically, and you will be charged based on actual usage."})]}),s.jsxs("div",{className:"info-box",children:[s.jsx("h3",{children:"Pricing"}),s.jsxs("ul",{children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Small models:"})," approximately $0.0001 per request"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Large models:"})," approximately $0.001 per request"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Minimum purchase:"})," $5.00 (5,000-50,000 requests)"]})]}),s.jsx("p",{style:{marginTop:"1rem",fontSize:"0.9rem",color:"#888"},children:"Actual costs vary based on model and tokens used."})]}),s.jsxs("div",{className:"info-box",children:[s.jsx("h3",{children:"Secure Payment"}),s.jsx("p",{children:"Payments are processed securely through PayPal. Your credit balance is updated instantly after purchase."})]})]}),s.jsx("div",{className:"gate-action",children:s.jsx("button",{className:"btn-primary btn-large",onClick:()=>{console.log("Navigating to billing page"),t(),a("/settings?tab=billing")},children:"Buy Credits Now"})}),s.jsx("div",{className:"gate-footer",children:s.jsx("p",{className:"text-muted",children:"Your balance will be displayed in the top left corner after purchase. New users receive trial credits that expire after 24 hours."})})]})}),s.jsx("style",{children:".provider-setup-gate{position:fixed;top:0;left:0;right:0;bottom:0;z-index:10000;background:rgba(0,0,0,0.95);display:flex;align-items:center;justify-content:center;backdrop-filter:blur(10px)}.gate-overlay{width:100%;height:100%;overflow-y:auto;display:flex;align-items:center;justify-content:center;padding:2rem}.gate-content{max-width:800px;width:100%;background:#1a1a1a;border-radius:12px;padding:3rem;box-shadow:0 20px 60px rgba(0,0,0,0.5);border:1px solid #333}.gate-header{text-align:center;margin-bottom:2rem}.gate-header h1{font-size:2rem;margin:0 0 1rem 0;color:#fff}.gate-subtitle{font-size:1.1rem;color:#bbb;margin:0}.gate-info{margin-bottom:2rem}.info-box{background:#252525;border-radius:8px;padding:1.5rem;margin-bottom:1rem;border:1px solid #333}.info-box h3{margin:0 0 0.75rem 0;color:#fff;font-size:1.1rem}.info-box p{margin:0;color:#bbb;line-height:1.6}.info-box ul{margin:0.5rem 0 0 0;padding-left:1.5rem;color:#bbb}.info-box li{margin-bottom:0.75rem;line-height:1.6}.gate-action{text-align:center;margin-bottom:2rem}.btn-primary{background:#4a9eff;color:white;border:none;padding:1rem 2rem;border-radius:8px;font-size:1.1rem;font-weight:600;cursor:pointer;transition:all 0.2s ease}.btn-primary:hover{background:#357ac9;transform:translateY(-2px);box-shadow:0 4px 12px rgba(74,158,255,0.3)}.btn-large{padding:1.25rem 2.5rem;font-size:1.2rem}.gate-footer{text-align:center;border-top:1px solid #333;padding-top:1.5rem}.text-muted{color:#888;font-size:0.95rem;margin:0}@media (max-width:768px){.gate-content{padding:2rem 1.5rem}.gate-header h1{font-size:1.5rem}.gate-subtitle{font-size:1rem}}"})]}):null},X0=[{id:"welcome",type:"modal",title:" Welcome to Research Agent!",content:`Your AI-powered research assistant with:
  Real-time web search
  Advanced planning tools
  Knowledge management (SWAG)
  Voice & transcription
  Cost tracking & billing

Ready to explore? Let's take a quick tour! (2 minutes)`},{id:"chat",type:"spotlight",title:" Start Here: Chat Interface",content:`This is your main workspace. Ask questions, request research, or use tools like web search, transcription, and more.

Try: "Search for the latest AI news and summarize it"`,targetSelector:'textarea[placeholder*="message"]',tooltipPosition:"top"},{id:"swag",type:"spotlight",title:" SWAG: Your Knowledge Base",content:`Save and organize important information:
 Capture chat responses as snippets
 Upload documents for quick reference
 Tag and search your content
 Generate embeddings for semantic search

All stored locally in your browser for privacy!`,targetSelector:'button[title*="Swag" i]',tooltipPosition:"bottom"},{id:"settings",type:"spotlight",title:" Settings & AI Providers",content:`Customize your experience:
 Add your own API keys for $0 cost
 Enable/disable tools (search, transcription, etc.)
 Configure RAG (semantic search) settings
 Manage display preferences

Start with free providers, add your keys later!`,targetSelector:'button[aria-label*="Settings" i]',tooltipPosition:"bottom"},{id:"billing",type:"spotlight",title:" Billing & Usage Tracking",content:`Transparent cost management:
 $0.50 welcome bonus for new users
 Real-time usage tracking per request
 Detailed cost breakdown by provider
 No hidden fees - pay only for what you use

View your balance anytime in the Billing page.`,targetSelector:'button[title*="Billing" i]',tooltipPosition:"bottom"},{id:"planning",type:"spotlight",title:" Planning & Todos",content:`Break complex tasks into structured plans:
 Multi-step research workflows
 Auto-generated action items
 Persistent todo tracking
 Transfer between planning and chat

Perfect for research projects and learning paths!`,targetSelector:'button[title*="Planning" i]',tooltipPosition:"bottom"},{id:"complete",type:"modal",title:" You're All Set!",content:`You now know the essentials. Here are some quick tips:

 Quick Actions:
 Press "/" to see example prompts
 Use voice input for hands-free interaction
 Save important responses to SWAG
 Enable Planning for complex research

Need help? Visit the Help page anytime!`}],sRe=({isOpen:e,onClose:t})=>{const[r,n]=C.useState(0),[a,i]=C.useState(null),o=C.useRef(null),l=X0[r],u=r===0,d=r===X0.length-1;C.useEffect(()=>{if(!e||l.type!=="spotlight"||!l.targetSelector){i(null);return}const x=()=>{const v=document.querySelector(l.targetSelector);if(v){const T=v.getBoundingClientRect();i(T)}else console.warn(`Spotlight target not found: ${l.targetSelector}`),i(null)},E=setTimeout(x,100);return window.addEventListener("resize",x),()=>{clearTimeout(E),window.removeEventListener("resize",x)}},[e,l,r]),C.useEffect(()=>{if(!e)return;const x=E=>{E.key==="Escape"?f():E.key==="ArrowRight"&&!d?h():E.key==="ArrowLeft"&&!u&&g()};return window.addEventListener("keydown",x),()=>window.removeEventListener("keydown",x)},[e,r]);const h=()=>{d?b():n(x=>x+1)},g=()=>{u||n(x=>x-1)},f=()=>{A1(),t()},b=()=>{A1(),t()};return e?s.jsxs("div",{className:"fixed inset-0 z-[9999]",children:[s.jsx("div",{className:"absolute inset-0 bg-black transition-opacity duration-300",style:{opacity:l.type==="modal"?.75:.6},onClick:f,children:l.type==="spotlight"&&a&&s.jsx("div",{className:"absolute pointer-events-none transition-all duration-500 ease-out",style:{top:a.top-8,left:a.left-8,width:a.width+16,height:a.height+16,boxShadow:"0 0 0 9999px rgba(0, 0, 0, 0.6)",borderRadius:"12px",animation:"pulse-spotlight 2s ease-in-out infinite"}})}),l.type==="modal"&&s.jsx("div",{className:"absolute inset-0 flex items-center justify-center p-4",onClick:x=>x.stopPropagation(),children:s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-2xl max-w-lg w-full p-8 transform transition-all duration-300 scale-100",children:[s.jsx("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-4",children:l.title}),s.jsx("div",{className:"text-gray-700 dark:text-gray-300 whitespace-pre-line mb-8 text-lg leading-relaxed",children:l.content}),s.jsx("div",{className:"flex justify-center gap-2 mb-6",children:X0.map((x,E)=>s.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ${E===r?"w-8 bg-blue-600 dark:bg-blue-400":E<r?"w-2 bg-green-500 dark:bg-green-400":"w-2 bg-gray-300 dark:bg-gray-600"}`},E))}),s.jsxs("div",{className:"flex justify-between items-center gap-4",children:[s.jsx("button",{onClick:f,className:"px-4 py-2 text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200 transition-colors text-sm font-medium",children:"Skip Tour"}),s.jsxs("div",{className:"flex gap-3",children:[!u&&s.jsx("button",{onClick:g,className:"px-5 py-2 bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors font-medium",children:"Back"}),s.jsx("button",{onClick:h,className:"px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors font-medium shadow-lg shadow-blue-500/30",children:u?"Start Tour":d?"Start Using Research Agent":"Next"})]})]})]})}),l.type==="spotlight"&&a&&s.jsxs("div",{ref:o,className:"absolute bg-white dark:bg-gray-800 rounded-xl shadow-2xl p-6 max-w-md transform transition-all duration-300",style:{...iRe(a,l.tooltipPosition||"top"),zIndex:1e4},onClick:x=>x.stopPropagation(),children:[s.jsx("div",{className:"absolute w-4 h-4 bg-white dark:bg-gray-800 transform rotate-45",style:oRe(l.tooltipPosition||"top")}),s.jsxs("div",{className:"relative z-10",children:[s.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-3",children:l.title}),s.jsx("div",{className:"text-gray-700 dark:text-gray-300 whitespace-pre-line mb-6 leading-relaxed",children:l.content}),s.jsx("div",{className:"flex justify-center gap-2 mb-4",children:X0.map((x,E)=>s.jsx("div",{className:`h-1.5 rounded-full transition-all duration-300 ${E===r?"w-6 bg-blue-600 dark:bg-blue-400":E<r?"w-1.5 bg-green-500 dark:bg-green-400":"w-1.5 bg-gray-300 dark:bg-gray-600"}`},E))}),s.jsxs("div",{className:"flex justify-between items-center gap-4",children:[s.jsx("button",{onClick:f,className:"text-sm text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200 transition-colors font-medium",children:"Skip"}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("button",{onClick:g,className:"px-4 py-2 bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors font-medium text-sm",disabled:u,children:"Back"}),s.jsx("button",{onClick:h,className:"px-5 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors font-medium text-sm shadow-lg shadow-blue-500/30",children:d?"Complete":"Next"})]})]})]})]}),l.type==="spotlight"&&!a&&s.jsx("div",{className:"absolute inset-0 flex items-center justify-center p-4",onClick:x=>x.stopPropagation(),children:s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-2xl p-6 max-w-md",children:[s.jsx("div",{className:"text-center mb-4",children:s.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm mb-4",children:"Target element not found. It may not be visible yet."})}),s.jsxs("div",{className:"flex justify-center gap-3",children:[s.jsx("button",{onClick:g,className:"px-4 py-2 bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors font-medium text-sm",children:"Back"}),s.jsx("button",{onClick:h,className:"px-5 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors font-medium text-sm",children:"Skip & Continue"})]})]})}),s.jsx("style",{children:`
        @keyframes pulse-spotlight {
          0%, 100% {
            box-shadow: 0 0 0 9999px rgba(0, 0, 0, 0.6);
          }
          50% {
            box-shadow: 0 0 0 9999px rgba(0, 0, 0, 0.7);
          }
        }
      `})]}):null};function iRe(e,t){switch(t){case"top":return{left:e.left+e.width/2,top:e.top-20,transform:"translate(-50%, -100%)"};case"bottom":return{left:e.left+e.width/2,top:e.bottom+20,transform:"translate(-50%, 0)"};case"left":return{left:e.left-20,top:e.top+e.height/2,transform:"translate(-100%, -50%)"};case"right":return{left:e.right+20,top:e.top+e.height/2,transform:"translate(0, -50%)"};default:return{}}}function oRe(e){switch(e){case"top":return{bottom:"-8px",left:"50%",transform:"translateX(-50%) rotate(45deg)"};case"bottom":return{top:"-8px",left:"50%",transform:"translateX(-50%) rotate(45deg)"};case"left":return{right:"-8px",top:"50%",transform:"translateY(-50%) rotate(45deg)"};case"right":return{left:"-8px",top:"50%",transform:"translateY(-50%) rotate(45deg)"};default:return{}}}const M4="LLM Proxy App Data",m1="saved_plans.json";let Od=null;class lRe{name="plans";enabled=!0;async getAppFolder(){if(Od)return Od;const t=await Pa(),r=await fetch(`https://www.googleapis.com/drive/v3/files?q=name='${M4}' and mimeType='application/vnd.google-apps.folder' and trashed=false`,{headers:{Authorization:`Bearer ${t}`}});if(!r.ok)throw new Error(`Failed to search for app folder: ${r.statusText}`);const n=await r.json();if(n.files&&n.files.length>0)return Od=n.files[0].id,Od;const a=await fetch("https://www.googleapis.com/drive/v3/files",{method:"POST",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"},body:JSON.stringify({name:M4,mimeType:"application/vnd.google-apps.folder"})});if(!a.ok)throw new Error(`Failed to create app folder: ${a.statusText}`);return Od=(await a.json()).id,Od}async getFileId(t){const r=await Pa(),n=await this.getAppFolder(),a=await fetch(`https://www.googleapis.com/drive/v3/files?q=name='${t}' and '${n}' in parents and trashed=false`,{headers:{Authorization:`Bearer ${r}`}});if(!a.ok)throw new Error(`Failed to search for file: ${a.statusText}`);const i=await a.json();return i.files&&i.files.length>0?i.files[0].id:null}async pull(){try{const t=await this.getFileId(m1);if(!t)return null;const r=await Pa(),n=await fetch(`https://www.googleapis.com/drive/v3/files/${t}?alt=media`,{headers:{Authorization:`Bearer ${r}`}});if(!n.ok)throw new Error(`Failed to download plans: ${n.statusText}`);const a=await n.text();return JSON.parse(a)}catch(t){throw console.error("Error pulling plans from Google Drive:",t),t}}async push(t){try{const r=await Pa(),n=await this.getAppFolder(),a=await this.getFileId(m1),i=JSON.stringify(t,null,2),o=new Blob([i],{type:"application/json"});if(a){const l=await fetch(`https://www.googleapis.com/upload/drive/v3/files/${a}?uploadType=media`,{method:"PATCH",headers:{Authorization:`Bearer ${r}`,"Content-Type":"application/json"},body:o});if(!l.ok)throw new Error(`Failed to update plans file: ${l.statusText}`)}else{const l={name:m1,parents:[n],mimeType:"application/json"},u=new FormData;u.append("metadata",new Blob([JSON.stringify(l)],{type:"application/json"})),u.append("file",o);const d=await fetch("https://www.googleapis.com/upload/drive/v3/files?uploadType=multipart",{method:"POST",headers:{Authorization:`Bearer ${r}`},body:u});if(!d.ok)throw new Error(`Failed to create plans file: ${d.statusText}`)}console.log(` Pushed ${t.length} plans to Google Drive`)}catch(r){throw console.error("Error pushing plans to Google Drive:",r),r}}async getLocalData(){return await pc.getAllPlans()}async setLocalData(t){await pc.replacePlans(t)}async getLastModified(){const t=await this.getLocalData();return t.length===0?0:Math.max(...t.map(r=>r.timestamp))}async shouldSync(){try{const t=localStorage.getItem("google_access_token");return t?(await fetch("https://www.googleapis.com/drive/v3/about?fields=user",{headers:{Authorization:`Bearer ${t}`}})).ok:!1}catch(t){return console.error("Error checking if plans should sync:",t),!1}}mergeData(t,r){return pc.mergePlans(t,r)}}const cRe=new lRe,P4="LLM Proxy App Data",f1="saved_playlists.json";let Md=null;class uRe{name="playlists";enabled=!0;async getAppFolder(){if(Md)return Md;const t=await Pa(),r=await fetch(`https://www.googleapis.com/drive/v3/files?q=name='${P4}' and mimeType='application/vnd.google-apps.folder' and trashed=false`,{headers:{Authorization:`Bearer ${t}`}});if(!r.ok)throw new Error(`Failed to search for app folder: ${r.statusText}`);const n=await r.json();if(n.files&&n.files.length>0)return Md=n.files[0].id,Md;const a=await fetch("https://www.googleapis.com/drive/v3/files",{method:"POST",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"},body:JSON.stringify({name:P4,mimeType:"application/vnd.google-apps.folder"})});if(!a.ok)throw new Error(`Failed to create app folder: ${a.statusText}`);return Md=(await a.json()).id,Md}async getFileId(t){const r=await Pa(),n=await this.getAppFolder(),a=await fetch(`https://www.googleapis.com/drive/v3/files?q=name='${t}' and '${n}' in parents and trashed=false`,{headers:{Authorization:`Bearer ${r}`}});if(!a.ok)throw new Error(`Failed to search for file: ${a.statusText}`);const i=await a.json();return i.files&&i.files.length>0?i.files[0].id:null}async pull(){try{const t=await this.getFileId(f1);if(!t)return null;const r=await Pa(),n=await fetch(`https://www.googleapis.com/drive/v3/files/${t}?alt=media`,{headers:{Authorization:`Bearer ${r}`}});if(!n.ok)throw new Error(`Failed to download playlists: ${n.statusText}`);const a=await n.text();return JSON.parse(a)}catch(t){throw console.error("Error pulling playlists from Google Drive:",t),t}}async push(t){try{const r=await Pa(),n=await this.getAppFolder(),a=await this.getFileId(f1),i=JSON.stringify(t,null,2),o=new Blob([i],{type:"application/json"});if(a){const l=await fetch(`https://www.googleapis.com/upload/drive/v3/files/${a}?uploadType=media`,{method:"PATCH",headers:{Authorization:`Bearer ${r}`,"Content-Type":"application/json"},body:o});if(!l.ok)throw new Error(`Failed to update playlists file: ${l.statusText}`)}else{const l={name:f1,parents:[n],mimeType:"application/json"},u=new FormData;u.append("metadata",new Blob([JSON.stringify(l)],{type:"application/json"})),u.append("file",o);const d=await fetch("https://www.googleapis.com/upload/drive/v3/files?uploadType=multipart",{method:"POST",headers:{Authorization:`Bearer ${r}`},body:u});if(!d.ok)throw new Error(`Failed to create playlists file: ${d.statusText}`)}console.log(` Pushed ${t.length} playlists to Google Drive`)}catch(r){throw console.error("Error pushing playlists to Google Drive:",r),r}}async getLocalData(){return await yi.init(),await yi.exportAllPlaylists()}async setLocalData(t){await yi.init(),await yi.importAndMergePlaylists(t)}async getLastModified(){const t=await this.getLocalData();return t.length===0?0:Math.max(...t.map(r=>r.updatedAt||r.createdAt||0))}async shouldSync(){try{const t=localStorage.getItem("google_access_token");return t?(await fetch("https://www.googleapis.com/drive/v3/about?fields=user",{headers:{Authorization:`Bearer ${t}`}})).ok:!1}catch(t){return console.error("Error checking if playlists should sync:",t),!1}}mergeData(t,r){const n=new Map;return t.forEach(a=>{const i=a.name.trim().toLowerCase();n.set(i,a)}),r.forEach(a=>{const i=a.name.trim().toLowerCase(),o=n.get(i),l=a.updatedAt||a.createdAt||0,u=o&&(o.updatedAt||o.createdAt)||0;(!o||l>u)&&n.set(i,a)}),Array.from(n.values())}}const dRe=new uRe,$z=C.createContext(void 0);function pRe({children:e}){const[t,r]=C.useState(La.getStatus());C.useEffect(()=>{const o=La.onStatusChange(l=>{r(l)});return()=>{o()}},[]);const n=async()=>{await La.syncAll()},a=o=>{La.setAdapterEnabled(o,!0)},i=o=>{La.setAdapterEnabled(o,!1)};return s.jsx($z.Provider,{value:{syncStatus:t,manualSync:n,enableAdapter:a,disableAdapter:i},children:e})}function hRe(){const e=C.useContext($z);if(!e)throw new Error("useSyncStatus must be used within SyncStatusProvider");return e}function gRe(){const{syncStatus:e,manualSync:t}=hRe(),[r,n]=C.useState(!1);if(Object.keys(e.adapterStatuses).length===0)return null;const a=u=>{if(!u)return"Never";const d=Math.floor((Date.now()-u)/1e3);return d<60?"Just now":d<3600?`${Math.floor(d/60)}m ago`:d<86400?`${Math.floor(d/3600)}h ago`:`${Math.floor(d/86400)}d ago`},i=Object.values(e.adapterStatuses).some(u=>u.status==="error"),o=e.syncing||Object.values(e.adapterStatuses).some(u=>u.status==="syncing"),l=Object.values(e.adapterStatuses).every(u=>u.status==="idle"||u.status==="success");return s.jsxs("div",{className:"relative",children:[s.jsxs("button",{onClick:()=>n(!r),className:`flex items-center gap-2 px-3 py-1.5 rounded-lg text-sm transition-colors ${i?"bg-red-500/10 text-red-400 hover:bg-red-500/20":o?"bg-blue-500/10 text-blue-400 hover:bg-blue-500/20":l?"bg-green-500/10 text-green-400 hover:bg-green-500/20":"bg-gray-500/10 text-gray-400 hover:bg-gray-500/20"}`,title:"Click for sync details",children:[o?s.jsxs("svg",{className:"w-4 h-4 animate-spin",fill:"none",viewBox:"0 0 24 24",children:[s.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),s.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):i?s.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}):s.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),s.jsx("span",{className:"hidden sm:inline",children:o?"Syncing...":i?"Sync Error":"Synced"}),e.lastSyncTime&&!o&&s.jsx("span",{className:"text-xs opacity-75 hidden md:inline",children:a(e.lastSyncTime)})]}),r&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>n(!1)}),s.jsxs("div",{className:"absolute right-0 mt-2 w-80 bg-gray-800 border border-gray-700 rounded-lg shadow-xl z-50 overflow-hidden",children:[s.jsxs("div",{className:"px-4 py-3 border-b border-gray-700 flex items-center justify-between",children:[s.jsx("h3",{className:"font-semibold text-white",children:"Sync Status"}),s.jsx("button",{onClick:u=>{u.stopPropagation(),t()},className:"px-3 py-1 text-xs bg-blue-500 hover:bg-blue-600 text-white rounded transition-colors",disabled:o,children:o?"Syncing...":"Sync Now"})]}),s.jsx("div",{className:"max-h-96 overflow-y-auto",children:Object.values(e.adapterStatuses).map(u=>s.jsxs("div",{className:"px-4 py-3 border-b border-gray-700/50 hover:bg-gray-700/30",children:[s.jsxs("div",{className:"flex items-center justify-between mb-1",children:[s.jsx("span",{className:"font-medium text-white capitalize",children:u.name}),s.jsx("span",{className:`text-xs px-2 py-0.5 rounded ${u.status==="error"?"bg-red-500/20 text-red-400":u.status==="syncing"?"bg-blue-500/20 text-blue-400":u.status==="success"?"bg-green-500/20 text-green-400":"bg-gray-500/20 text-gray-400"}`,children:u.status})]}),s.jsxs("div",{className:"text-xs text-gray-400 space-y-1",children:[u.lastSync&&s.jsxs("div",{children:["Last sync: ",a(u.lastSync)]}),u.itemCount>0&&s.jsxs("div",{children:[u.itemCount," items"]}),u.error&&s.jsx("div",{className:"text-red-400 mt-1",children:u.error})]})]},u.name))}),s.jsx("div",{className:"px-4 py-2 bg-gray-900/50 text-xs text-gray-400",children:"Auto-sync every 5 minutes"})]})]})]})}const Hz={maxConcurrentAgents:3,maxQueuedAgents:10,maxIterationsPerAgent:10,maxMemoryPerAgent:200,maxTotalMemory:600},zz=150,Gz=.7;function mRe(e,t,r,n){const a=t.length>0?typeof t[0].content=="string"?t[0].content:JSON.stringify(t[0].content):r;return{id:crypto.randomUUID(),chatId:e,status:"idle",phase:"waiting",messages:t,currentInput:r,iterationCount:0,maxIterations:10,startTime:Date.now(),lastUpdateTime:Date.now(),estimatedMemoryUsage:0,tokenCount:0,toolCallsCount:0,retryCount:0,title:n||a.slice(0,50),createdAt:Date.now()}}function qz(e){let t=50;return t+=e.messages.length*5/1024,e.phase==="streaming"&&(t+=20),t+=e.toolCallsCount*10,Math.round(t)}function iI(e){const t=Math.floor(e/1e3),r=Math.floor(t/60),n=Math.floor(r/60);return n>0?`${n}h ${r%60}m`:r>0?`${r}m ${t%60}s`:`${t}s`}const fRe=Object.freeze(Object.defineProperty({__proto__:null,DEFAULT_AGENT_LIMITS:Hz,MEMORY_PER_AGENT:zz,SAFETY_MARGIN:Gz,createAgentState:mRe,estimateAgentMemory:qz,formatDuration:iI},Symbol.toStringTag,{value:"Module"})),bRe="AgentManagerDB",ji="agents",yRe=1;class xRe{dbPromise=null;async getDB(){return this.dbPromise||(this.dbPromise=Nw(bRe,yRe,{upgrade(t){if(!t.objectStoreNames.contains(ji)){const r=t.createObjectStore(ji,{keyPath:"id"});r.createIndex("status","status"),r.createIndex("chatId","chatId"),r.createIndex("createdAt","createdAt"),r.createIndex("completedAt","completedAt")}}})),this.dbPromise}async saveAgent(t){try{await(await this.getDB()).put(ji,t),this.backupToLocalStorage(t)}catch(r){throw console.error("Failed to save agent to IndexedDB:",r),r}}async getAgent(t){try{return await(await this.getDB()).get(ji,t)||null}catch(r){return console.error("Failed to get agent from IndexedDB:",r),null}}async getAllAgents(){try{return(await(await this.getDB()).getAll(ji)).sort((n,a)=>a.createdAt-n.createdAt)}catch(t){return console.error("Failed to get all agents from IndexedDB:",t),[]}}async getRunningAgents(){try{return await(await this.getDB()).transaction(ji).store.index("status").getAll("running")}catch(t){return console.error("Failed to get running agents from IndexedDB:",t),[]}}async getQueuedAgents(){try{return await(await this.getDB()).transaction(ji).store.index("status").getAll("queued")}catch(t){return console.error("Failed to get queued agents from IndexedDB:",t),[]}}async getCompletedAgents(){try{return(await(await this.getDB()).transaction(ji).store.index("status").getAll("completed")).sort((a,i)=>(i.completedAt||0)-(a.completedAt||0))}catch(t){return console.error("Failed to get completed agents from IndexedDB:",t),[]}}async getFailedAgents(){try{return(await(await this.getDB()).getAll(ji)).filter(n=>n.status==="error"||n.status==="aborted").sort((n,a)=>a.lastUpdateTime-n.lastUpdateTime)}catch(t){return console.error("Failed to get failed agents from IndexedDB:",t),[]}}async deleteAgent(t){try{await(await this.getDB()).delete(ji,t),localStorage.removeItem(`agent_backup_${t}`)}catch(r){throw console.error("Failed to delete agent from IndexedDB:",r),r}}async updateAgentStatus(t,r){try{const n=await this.getAgent(t);n&&(n.status=r,n.lastUpdateTime=Date.now(),r==="completed"&&(n.completedAt=Date.now()),await this.saveAgent(n))}catch(n){throw console.error("Failed to update agent status:",n),n}}async clearCompletedAgents(){try{const t=await this.getCompletedAgents(),n=(await this.getDB()).transaction(ji,"readwrite");await Promise.all([...t.map(a=>n.store.delete(a.id)),n.done]),t.forEach(a=>{localStorage.removeItem(`agent_backup_${a.id}`)})}catch(t){throw console.error("Failed to clear completed agents:",t),t}}async clearAllAgents(){try{await(await this.getDB()).clear(ji),Object.keys(localStorage).forEach(n=>{n.startsWith("agent_backup_")&&localStorage.removeItem(n)})}catch(t){throw console.error("Failed to clear all agents:",t),t}}backupToLocalStorage(t){try{const r={id:t.id,chatId:t.chatId,status:t.status,lastUpdateTime:t.lastUpdateTime,title:t.title};localStorage.setItem(`agent_backup_${t.id}`,JSON.stringify(r))}catch(r){console.warn("Failed to backup agent to localStorage:",r)}}}const gn=new xRe;async function ERe(){const e=await gn.getAllAgents(),t=Date.now(),r=3e4;return e.filter(n=>n.status==="running"&&t-n.lastUpdateTime>r)}function oI(){if("memory"in performance&&performance.memory){const e=performance.memory,t=e.jsHeapSizeLimit/(1024*1024),r=e.usedJSHeapSize/(1024*1024),n=t-r;return{totalMemory:t,usedMemory:r,availableMemory:n,jsHeapLimit:t,isLowMemory:n/t<.2}}return{totalMemory:2048,usedMemory:512,availableMemory:1536,jsHeapLimit:2048,isLowMemory:!1}}function Wz(e){const t=Math.floor(e.availableMemory*Gz/zz);return Math.max(1,Math.min(5,t))}function vRe(e,t,r,n){return e.iterationCount>=t.maxIterationsPerAgent?(e.status="error",e.lastError=`Exceeded max iterations (${t.maxIterationsPerAgent})`,{canProceed:!1,reason:e.lastError}):e.estimatedMemoryUsage>t.maxMemoryPerAgent?(e.status="error",e.lastError=`Exceeded memory limit (${t.maxMemoryPerAgent}MB)`,{canProceed:!1,reason:e.lastError}):r>=t.maxConcurrentAgents?{canProceed:!1,reason:"Max concurrent agents reached - queueing"}:n>=t.maxQueuedAgents?(e.status="error",e.lastError=`Queue full (${t.maxQueuedAgents} agents)`,{canProceed:!1,reason:e.lastError}):{canProceed:!0}}function SRe(){const e=oI(),t=Wz(e);return{...Hz,maxConcurrentAgents:t}}function TRe(e){return e.availableMemory<200?{level:"critical",message:`Critical: Only ${Math.round(e.availableMemory)}MB available. Consider closing tabs or reloading.`}:e.isLowMemory?{level:"warning",message:`Warning: Low memory detected (${Math.round(e.availableMemory)}MB available). New agents may be paused.`}:{level:"ok"}}class wRe{runningAgents=new Map;queuedAgents=[];limits;listeners=new Map;executionCallback=null;constructor(t){this.limits=t||SRe()}setExecutionCallback(t){this.executionCallback=t}on(t,r){this.listeners.has(t)||this.listeners.set(t,new Set),this.listeners.get(t).add(r)}off(t,r){const n=this.listeners.get(t);n&&n.delete(r)}emit(t,r){const n=this.listeners.get(t);n&&n.forEach(a=>a(r))}async enqueue(t){t.estimatedMemoryUsage=qz(t);const r=vRe(t,this.limits,this.runningAgents.size,this.queuedAgents.length);if(!r.canProceed){if(t.status==="error")throw await gn.saveAgent(t),this.emit("agent-error",t),new Error(r.reason);t.status="queued",this.queuedAgents.push(t),await gn.saveAgent(t),this.emit("agent-queued",t),this.emit("queue-updated",t);return}await this.startAgent(t)}async startAgent(t){if(t.status="running",t.startTime=Date.now(),t.lastUpdateTime=Date.now(),this.runningAgents.set(t.id,t),await gn.saveAgent(t),this.emit("agent-started",t),this.emit("queue-updated",t),this.executionCallback)try{await this.executionCallback(t)}catch(r){console.error("Agent execution error:",r),t.status="error",t.lastError=r.message,await gn.saveAgent(t),this.emit("agent-error",t),this.runningAgents.delete(t.id),await this.dequeue()}}async completeAgent(t){const r=this.runningAgents.get(t);r&&(r.status="completed",r.completedAt=Date.now(),await gn.saveAgent(r),this.runningAgents.delete(t),this.emit("agent-completed",r),this.emit("queue-updated",r),await this.dequeue())}async pauseAgent(t){const r=this.runningAgents.get(t);if(!r){const n=this.queuedAgents.findIndex(a=>a.id===t);if(n!==-1){const a=this.queuedAgents[n];a.status="paused",await gn.saveAgent(a),this.queuedAgents.splice(n,1),this.emit("agent-paused",a),this.emit("queue-updated",a)}return}r.status="paused",await gn.saveAgent(r),this.runningAgents.delete(t),this.emit("agent-paused",r),this.emit("queue-updated",r),await this.dequeue()}async abortAgent(t){const r=this.runningAgents.get(t);if(!r){const n=this.queuedAgents.findIndex(a=>a.id===t);if(n!==-1){const a=this.queuedAgents[n];a.status="aborted",await gn.saveAgent(a),this.queuedAgents.splice(n,1),this.emit("agent-aborted",a),this.emit("queue-updated",a)}return}r.status="aborted",await gn.saveAgent(r),this.runningAgents.delete(t),this.emit("agent-aborted",r),this.emit("queue-updated",r),await this.dequeue()}async resumeAgent(t){const r=await gn.getAgent(t);!r||r.status!=="paused"||(r.status="idle",await this.enqueue(r))}async dequeue(){if(this.queuedAgents.length>0&&this.runningAgents.size<this.limits.maxConcurrentAgents){const t=this.queuedAgents.shift();await this.startAgent(t)}}updateMaxConcurrent(t){this.limits.maxConcurrentAgents=Math.max(1,Math.min(5,t)),this.dequeue()}async pauseQueue(){const t=[...this.queuedAgents];this.queuedAgents=[];for(const r of t)r.status="paused",await gn.saveAgent(r),this.emit("agent-paused",r);this.emit("queue-updated",t[0]||{})}getStatus(){return{running:this.runningAgents.size,queued:this.queuedAgents.length,maxConcurrent:this.limits.maxConcurrentAgents,runningAgents:Array.from(this.runningAgents.values()),queuedAgents:[...this.queuedAgents]}}clear(){this.runningAgents.clear(),this.queuedAgents=[]}}const zn=new wRe,kRe=new URL("/assets/agent-worker-a1XFDa3h.ts",import.meta.url);function CRe(){const e=C.useRef(new Map),t=5,[,r]=C.useState({}),n=C.useCallback(l=>{if(e.current.size>=t)throw new Error("Max concurrent workers reached. Please queue agent.");const u=new Worker(kRe,{type:"module"});u.addEventListener("message",async h=>{const{type:g,payload:f}=h.data;try{switch(g){case"AGENT_UPDATE":f?.agent&&(await gn.saveAgent(f.agent),window.dispatchEvent(new CustomEvent("agent-update",{detail:f.agent})));break;case"AGENT_COMPLETED":f?.agent&&(await gn.saveAgent(f.agent),e.current.delete(f.agent.id),u.terminate(),await zn.completeAgent(f.agent.id),window.dispatchEvent(new CustomEvent("agent-completed",{detail:f.agent})),r({}));break;case"AGENT_ERROR":f?.agent&&(await gn.saveAgent(f.agent),e.current.delete(f.agent.id),u.terminate(),window.dispatchEvent(new CustomEvent("agent-error",{detail:f.agent})),r({}));break;case"AGENT_ABORTED":f?.agent&&(await gn.saveAgent(f.agent),e.current.delete(f.agent.id),u.terminate(),window.dispatchEvent(new CustomEvent("agent-aborted",{detail:f.agent})),r({}));break;case"AGENT_PAUSED":f?.agent&&(await gn.saveAgent(f.agent),e.current.delete(f.agent.id),u.terminate(),window.dispatchEvent(new CustomEvent("agent-paused",{detail:f.agent})),r({}));break}}catch(b){console.error("Error handling worker message:",b)}}),u.addEventListener("error",h=>{console.error("Worker error:",h),e.current.delete(l.id),u.terminate(),l.status="error",l.lastError="Worker crashed: "+h.message,gn.saveAgent(l),window.dispatchEvent(new CustomEvent("agent-error",{detail:l})),r({})});const d={type:"START_AGENT",payload:{agent:l}};u.postMessage(d),e.current.set(l.id,u),r({})},[t]),a=C.useCallback(l=>{const u=e.current.get(l);if(u){const d={type:"PAUSE_AGENT",payload:{agentId:l}};u.postMessage(d)}},[]),i=C.useCallback(l=>{const u=e.current.get(l);if(u){const d={type:"ABORT_AGENT",payload:{agentId:l}};u.postMessage(d)}},[]),o=C.useCallback(()=>{e.current.forEach(l=>{try{l.terminate()}catch(u){console.warn("Error terminating worker:",u)}}),e.current.clear(),r({})},[]);return C.useEffect(()=>o,[o]),{workers:e.current,maxWorkers:t,startAgent:n,pauseAgent:a,abortAgent:i,cleanup:o}}async function _Re(e={}){const t=await ERe();return t.length===0?!1:(console.log(` Found ${t.length} interrupted agent(s)`,t),e.autoRecover?(await Yz(t.map(r=>r.id)),!0):e.autoDiscard?(await Vz(t.map(r=>r.id)),!0):(e.onInterruptedAgentsFound&&e.onInterruptedAgentsFound(t),!0))}async function Yz(e){const t=e.length;for(const r of e){const n=await gn.getAgent(r);n&&(n.status="queued",n.retryCount+=1,n.lastUpdateTime=Date.now(),n.lastError=void 0,await gn.saveAgent(n),window.dispatchEvent(new CustomEvent("agent-recovered",{detail:n})))}console.log(` Recovered ${t} agent(s)`)}async function Vz(e){const t=e.length;for(const r of e){const n=await gn.getAgent(r);n&&(n.status="aborted",n.lastError="Discarded by user after interruption",n.lastUpdateTime=Date.now(),await gn.saveAgent(n))}console.log(` Discarded ${t} agent(s)`)}const ARe=({agents:e,onRecover:t,onDiscard:r,onClose:n})=>{const[a,i]=C.useState(new Set(e.map(f=>f.id))),o=f=>{const b=new Set(a);b.has(f)?b.delete(f):b.add(f),i(b)},l=()=>{i(new Set(e.map(f=>f.id)))},u=()=>{i(new Set)},d=()=>{t(Array.from(a)),n()},h=()=>{r(Array.from(a)),n()},g=()=>{r(e.map(f=>f.id)),n()};return s.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-2xl max-w-2xl w-full max-h-[80vh] flex flex-col",children:[s.jsxs("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("span",{className:"text-3xl",children:""}),s.jsx("h2",{className:"text-2xl font-bold dark:text-gray-100",children:"Recover Interrupted Agents"})]}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"The following agents were interrupted when you closed the browser. Would you like to recover them?"})]}),s.jsx("div",{className:"flex-1 overflow-y-auto p-6 space-y-3",children:e.map(f=>{const b=Date.now()-f.lastUpdateTime;return s.jsx("div",{className:`border-2 rounded-lg p-4 cursor-pointer transition-all ${a.has(f.id)?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":"border-gray-300 dark:border-gray-600 hover:border-gray-400 dark:hover:border-gray-500"}`,onClick:()=>o(f.id),children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("input",{type:"checkbox",checked:a.has(f.id),onChange:x=>{x.stopPropagation(),o(f.id)},className:"mt-1"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("div",{className:"font-medium text-gray-900 dark:text-gray-100 truncate mb-1",children:f.title}),s.jsxs("div",{className:"flex flex-wrap gap-3 text-sm text-gray-600 dark:text-gray-400",children:[s.jsxs("div",{children:[" Iteration ",f.iterationCount,"/",f.maxIterations]}),s.jsxs("div",{children:[" ",f.messages.length," messages"]}),s.jsxs("div",{children:[" Interrupted ",iI(b)," ago"]})]}),f.lastError&&s.jsxs("div",{className:"mt-2 text-xs text-red-600 dark:text-red-400",children:[" Last error: ",f.lastError]})]})]})},f.id)})}),s.jsxs("div",{className:"px-6 py-3 border-t border-gray-200 dark:border-gray-700 flex items-center justify-between",children:[s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:l,className:"text-sm text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300",children:"Select All"}),s.jsx("span",{className:"text-gray-400",children:""}),s.jsx("button",{onClick:u,className:"text-sm text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300",children:"Select None"})]}),s.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:[a.size," of ",e.length," selected"]})]}),s.jsxs("div",{className:"p-6 border-t border-gray-200 dark:border-gray-700 flex gap-3",children:[s.jsxs("button",{onClick:d,disabled:a.size===0,className:"flex-1 px-6 py-3 bg-blue-600 hover:bg-blue-700 disabled:bg-gray-300 dark:disabled:bg-gray-600 disabled:cursor-not-allowed text-white font-medium rounded-lg transition-colors",children:[" Recover Selected (",a.size,")"]}),s.jsx("button",{onClick:h,disabled:a.size===0,className:"flex-1 px-6 py-3 bg-gray-200 hover:bg-gray-300 dark:bg-gray-700 dark:hover:bg-gray-600 disabled:bg-gray-100 dark:disabled:bg-gray-800 disabled:cursor-not-allowed text-gray-700 dark:text-gray-300 font-medium rounded-lg transition-colors",children:" Discard Selected"}),s.jsx("button",{onClick:g,className:"px-6 py-3 bg-red-600 hover:bg-red-700 text-white font-medium rounded-lg transition-colors",children:"Discard All"})]})]})})},Kz=C.createContext(void 0),NRe=({children:e})=>{const[t,r]=C.useState([]),[n,a]=C.useState([]),[i,o]=C.useState([]),[l,u]=C.useState(!1),[d,h]=C.useState(!1),[g,f]=C.useState([]),b=CRe();C.useEffect(()=>{zn.setExecutionCallback(async B=>{try{b.startAgent(B)}catch(q){console.error("Failed to start agent in worker:",q),B.status="error",B.lastError=q instanceof Error?q.message:"Failed to start worker",await gn.saveAgent(B)}})},[b]),C.useEffect(()=>{x()},[]),C.useEffect(()=>{const B=()=>{x()};return window.addEventListener("agent-update",B),window.addEventListener("agent-completed",B),window.addEventListener("agent-error",B),window.addEventListener("agent-paused",B),window.addEventListener("agent-aborted",B),window.addEventListener("agent-recovered",B),()=>{window.removeEventListener("agent-update",B),window.removeEventListener("agent-completed",B),window.removeEventListener("agent-error",B),window.removeEventListener("agent-paused",B),window.removeEventListener("agent-aborted",B),window.removeEventListener("agent-recovered",B)}},[]),C.useEffect(()=>{_Re({onInterruptedAgentsFound:B=>{f(B),h(!0)}})},[]),C.useEffect(()=>{const B=setInterval(()=>{const q=oI(),z=Wz(q);zn.updateMaxConcurrent(z),q.isLowMemory&&(console.warn(" Low memory detected - pausing queue"),zn.pauseQueue())},1e4);return()=>clearInterval(B)},[]);const x=async()=>{const B=await gn.getAllAgents(),q=await gn.getRunningAgents(),z=await gn.getQueuedAgents();o(B),r(q),a(z)},E=C.useCallback(async(B,q,z,K)=>{const{createAgentState:X}=await wr(async()=>{const{createAgentState:O}=await Promise.resolve().then(()=>fRe);return{createAgentState:O}},void 0),Q=X(B,q,z,K);return await gn.saveAgent(Q),Q},[]),v=C.useCallback(async B=>{await zn.enqueue(B),await x()},[]),T=C.useCallback(async B=>{await zn.pauseAgent(B),b.pauseAgent(B),await x()},[b]),w=C.useCallback(async B=>{await zn.resumeAgent(B),await x()},[]),N=C.useCallback(async B=>{await zn.abortAgent(B),b.abortAgent(B),await x()},[b]),R=C.useCallback(async B=>{const q=await gn.getAgent(B);q&&(q.status="idle",q.retryCount+=1,q.lastError=void 0,await zn.enqueue(q),await x())},[]),D=C.useCallback(async B=>{await Yz(B),h(!1);for(const q of B){const z=await gn.getAgent(q);z&&z.status==="queued"&&await zn.enqueue(z)}await x()},[]),L=C.useCallback(async B=>{await Vz(B),h(!1),await x()},[]),j={createAgent:E,startAgent:v,pauseAgent:T,resumeAgent:w,abortAgent:N,retryAgent:R,runningAgents:t,queuedAgents:n,allAgents:i,showAgentManager:l,setShowAgentManager:u};return s.jsxs(Kz.Provider,{value:j,children:[e,d&&g.length>0&&s.jsx(ARe,{agents:g,onRecover:D,onDiscard:L,onClose:()=>h(!1)})]})},Qz=()=>{const e=C.useContext(Kz);if(!e)throw new Error("useAgents must be used within an AgentProvider");return e},IRe=()=>{const{runningAgents:e,queuedAgents:t,setShowAgentManager:r}=Qz();return e.length+t.length===0?null:s.jsxs("button",{onClick:()=>r(!0),className:"flex items-center gap-2 px-3 py-1.5 bg-blue-600 hover:bg-blue-700 text-white text-sm rounded-lg transition-colors shadow-md",title:"View agent manager",children:[s.jsxs("div",{className:"relative",children:[s.jsx("span",{className:"text-lg",children:""}),e.length>0&&s.jsxs("span",{className:"absolute -top-1 -right-1 flex h-3 w-3",children:[s.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-green-400 opacity-75"}),s.jsx("span",{className:"relative inline-flex rounded-full h-3 w-3 bg-green-500"})]})]}),s.jsx("div",{className:"flex flex-col items-start text-xs",children:s.jsxs("span",{className:"font-medium",children:[e.length>0&&s.jsxs("span",{className:"text-green-200",children:[e.length," running"]}),e.length>0&&t.length>0&&s.jsx("span",{className:"mx-1",children:""}),t.length>0&&s.jsxs("span",{className:"text-yellow-200",children:[t.length," queued"]})]})})]})},cg=({agent:e,isSelected:t,onSelect:r,onPause:n,onAbort:a,onRetry:i,onResume:o})=>{const l=e.completedAt?e.completedAt-e.startTime:Date.now()-e.startTime,u={idle:"",queued:"",running:"",paused:"",completed:"",error:"",aborted:""},d={thinking:"",tool_execution:"",streaming:"",waiting:""},h={idle:"bg-gray-100 dark:bg-gray-800 border-gray-300 dark:border-gray-600",queued:"bg-yellow-50 dark:bg-yellow-900/20 border-yellow-300 dark:border-yellow-600",running:"bg-blue-50 dark:bg-blue-900/20 border-blue-300 dark:border-blue-600",paused:"bg-orange-50 dark:bg-orange-900/20 border-orange-300 dark:border-orange-600",completed:"bg-green-50 dark:bg-green-900/20 border-green-300 dark:border-green-600",error:"bg-red-50 dark:bg-red-900/20 border-red-300 dark:border-red-600",aborted:"bg-gray-100 dark:bg-gray-800 border-gray-400 dark:border-gray-500"};return s.jsxs("div",{className:`
        agent-card p-3 rounded-lg border-2 cursor-pointer transition-all
        ${h[e.status]||h.idle}
        ${t?"ring-2 ring-blue-500 shadow-lg":"hover:shadow-md"}
      `,onClick:r,children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[s.jsx("span",{className:"text-xl",children:u[e.status]}),s.jsx("span",{className:"font-medium truncate dark:text-gray-100",children:e.title})]}),s.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 whitespace-nowrap ml-2",children:iI(l)})]}),e.status==="running"&&s.jsxs("div",{className:"flex items-center gap-2 mb-2 text-sm",children:[s.jsx("span",{children:d[e.phase]}),s.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:e.phase.replace("_"," ")}),s.jsxs("span",{className:"ml-auto text-xs text-gray-500 dark:text-gray-400",children:["Iteration ",e.iterationCount,"/",e.maxIterations]})]}),s.jsxs("div",{className:"flex gap-3 text-xs text-gray-600 dark:text-gray-400 mb-2",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("span",{className:"font-medium",children:"Memory:"}),s.jsxs("span",{children:[e.estimatedMemoryUsage,"MB"]})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("span",{className:"font-medium",children:"Tokens:"}),s.jsx("span",{children:e.tokenCount.toLocaleString()})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("span",{className:"font-medium",children:"Tools:"}),s.jsx("span",{children:e.toolCallsCount})]})]}),e.lastError&&s.jsxs("div",{className:"bg-red-100 dark:bg-red-900/30 text-red-800 dark:text-red-200 text-xs p-2 rounded mb-2",children:[" ",e.lastError]}),e.retryCount>0&&s.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 mb-2",children:["Retry attempt ",e.retryCount]}),s.jsxs("div",{className:"flex gap-2 mt-2",children:[e.status==="running"&&s.jsxs(s.Fragment,{children:[n&&s.jsx("button",{onClick:g=>{g.stopPropagation(),n()},className:"text-xs px-2 py-1 bg-orange-500 hover:bg-orange-600 text-white rounded transition-colors",children:" Pause"}),a&&s.jsx("button",{onClick:g=>{g.stopPropagation(),a()},className:"text-xs px-2 py-1 bg-red-500 hover:bg-red-600 text-white rounded transition-colors",children:" Abort"})]}),e.status==="paused"&&o&&s.jsx("button",{onClick:g=>{g.stopPropagation(),o()},className:"text-xs px-2 py-1 bg-blue-500 hover:bg-blue-600 text-white rounded transition-colors",children:" Resume"}),(e.status==="error"||e.status==="aborted")&&i&&s.jsx("button",{onClick:g=>{g.stopPropagation(),i()},className:"text-xs px-2 py-1 bg-green-500 hover:bg-green-600 text-white rounded transition-colors",children:" Retry"})]})]})},RRe=({onSwitchToAgent:e,onCreateNewAgent:t,onClose:r})=>{const[n,a]=C.useState([]),[i,o]=C.useState(null),[l,u]=C.useState(null),[d,h]=C.useState(!0);C.useEffect(()=>{g(),f();const B=setInterval(()=>{d&&g()},2e3),q=setInterval(()=>{f()},5e3);return()=>{clearInterval(B),clearInterval(q)}},[d]),C.useEffect(()=>{const B=()=>{g()};return zn.on("agent-started",B),zn.on("agent-completed",B),zn.on("agent-error",B),zn.on("agent-paused",B),zn.on("agent-aborted",B),zn.on("queue-updated",B),()=>{zn.off("agent-started",B),zn.off("agent-completed",B),zn.off("agent-error",B),zn.off("agent-paused",B),zn.off("agent-aborted",B),zn.off("queue-updated",B)}},[]);const g=async()=>{const B=await gn.getAllAgents();a(B)},f=()=>{const B=oI();o(B)},b=async B=>{await zn.pauseAgent(B)},x=async B=>{await zn.resumeAgent(B)},E=async B=>{await zn.abortAgent(B)},v=async B=>{const q=await gn.getAgent(B);q&&(q.status="idle",q.retryCount+=1,q.lastError=void 0,await zn.enqueue(q))},T=async()=>{confirm("Clear all completed agents?")&&(await gn.clearCompletedAgents(),await g())},w=n.filter(B=>B.status==="running"),N=n.filter(B=>B.status==="queued"),R=n.filter(B=>B.status==="completed"),D=n.filter(B=>["error","aborted"].includes(B.status)),L=n.filter(B=>B.status==="paused"),j=i?TRe(i):{level:"ok"};return s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] flex flex-col",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("h2",{className:"text-xl font-bold dark:text-gray-100",children:" Agent Manager"}),s.jsx("button",{onClick:t,className:"px-3 py-1 bg-blue-600 hover:bg-blue-700 text-white text-sm rounded transition-colors",children:"+ New Chat"})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("label",{className:"flex items-center gap-2 text-sm text-gray-600 dark:text-gray-400",children:[s.jsx("input",{type:"checkbox",checked:d,onChange:B=>h(B.target.checked),className:"rounded"}),"Auto-refresh"]}),s.jsx("button",{onClick:r,className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:""})]})]}),i&&s.jsxs("div",{className:`p-3 border-b ${j.level==="critical"?"bg-red-50 dark:bg-red-900/20 border-red-300 dark:border-red-600":j.level==="warning"?"bg-yellow-50 dark:bg-yellow-900/20 border-yellow-300 dark:border-yellow-600":"border-gray-200 dark:border-gray-700"}`,children:[s.jsxs("div",{className:"text-xs text-gray-600 dark:text-gray-400 mb-1",children:["Browser Memory: ",i.usedMemory.toFixed(0),"MB / ",i.totalMemory.toFixed(0),"MB","  ",i.availableMemory.toFixed(0),"MB available"]}),s.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2 overflow-hidden",children:s.jsx("div",{className:`h-full transition-all ${i.isLowMemory?"bg-red-500":"bg-blue-500"}`,style:{width:`${Math.min(100,i.usedMemory/i.totalMemory*100)}%`}})}),"message"in j&&j.message&&s.jsx("div",{className:`text-xs mt-1 ${j.level==="critical"?"text-red-700 dark:text-red-300":"text-yellow-700 dark:text-yellow-300"}`,children:j.message})]}),s.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[w.length>0&&s.jsxs("div",{children:[s.jsxs("h3",{className:"text-sm font-semibold mb-2 text-gray-700 dark:text-gray-300",children:[" Running (",w.length,")"]}),s.jsx("div",{className:"space-y-2",children:w.map(B=>s.jsx(cg,{agent:B,isSelected:l===B.id,onSelect:()=>{u(B.id),e(B.id,B.chatId)},onPause:()=>b(B.id),onAbort:()=>E(B.id)},B.id))})]}),N.length>0&&s.jsxs("div",{children:[s.jsxs("h3",{className:"text-sm font-semibold mb-2 text-gray-700 dark:text-gray-300",children:[" Queued (",N.length,")"]}),s.jsx("div",{className:"space-y-2",children:N.map(B=>s.jsx(cg,{agent:B,isSelected:l===B.id,onSelect:()=>{u(B.id),e(B.id,B.chatId)},onAbort:()=>E(B.id)},B.id))})]}),L.length>0&&s.jsxs("div",{children:[s.jsxs("h3",{className:"text-sm font-semibold mb-2 text-gray-700 dark:text-gray-300",children:[" Paused (",L.length,")"]}),s.jsx("div",{className:"space-y-2",children:L.map(B=>s.jsx(cg,{agent:B,isSelected:l===B.id,onSelect:()=>{u(B.id),e(B.id,B.chatId)},onResume:()=>x(B.id),onAbort:()=>E(B.id)},B.id))})]}),R.length>0&&s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("h3",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300",children:[" Completed (",R.length,")"]}),s.jsx("button",{onClick:T,className:"text-xs text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:"Clear All"})]}),s.jsx("div",{className:"space-y-2",children:R.slice(0,5).map(B=>s.jsx(cg,{agent:B,isSelected:l===B.id,onSelect:()=>{u(B.id),e(B.id,B.chatId)}},B.id))}),R.length>5&&s.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-2",children:["... and ",R.length-5," more"]})]}),D.length>0&&s.jsxs("div",{children:[s.jsxs("h3",{className:"text-sm font-semibold mb-2 text-gray-700 dark:text-gray-300",children:[" Failed/Aborted (",D.length,")"]}),s.jsx("div",{className:"space-y-2",children:D.map(B=>s.jsx(cg,{agent:B,isSelected:l===B.id,onSelect:()=>{u(B.id),e(B.id,B.chatId)},onRetry:()=>v(B.id)},B.id))})]}),n.length===0&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"text-4xl mb-2",children:""}),s.jsx("div",{className:"text-gray-500 dark:text-gray-400",children:"No agents yet. Start a new chat to create one!"}),s.jsx("button",{onClick:t,className:"mt-4 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded transition-colors",children:"Create New Chat"})]})]})]})})};function DRe(){const{isAuthenticated:e,getToken:t}=Ps(),{settings:r}=mo(),{usage:n,loading:a}=_m(),{showAgentManager:i,setShowAgentManager:o}=Qz(),{i18n:l}=xc(),u=ni(),d=Gi(),[h,g]=C.useState(!1),[f,b]=C.useState(!1),[x,E]=C.useState(!1),[v,T]=C.useState(!1),[w,N]=C.useState(!1),[R,D]=C.useState(!1),[L,j]=C.useState(null),[B,q]=C.useState(!1),[z,K]=C.useState(!1);C.useEffect(()=>(La.registerAdapter(cRe),La.registerAdapter(dRe),localStorage.getItem("auto_sync_enabled")!=="false"?(La.start(300*1e3),console.log(" Unified sync started")):console.log(" Auto-sync disabled by user"),()=>{La.stop()}),[]),C.useEffect(()=>{r.language&&l.language!==r.language&&l.changeLanguage(r.language);const P=["ar","he","fa"].includes(l.language)?"rtl":"ltr";document.documentElement.dir=P,document.documentElement.lang=l.language},[r.language,l]),C.useEffect(()=>{q(!1)},[d.pathname]);const X=P=>{w&&d.pathname==="/"?(j(P),D(!0)):u(P)},Q=()=>{D(!1),L==="settings"?g(!0):L&&u(L),j(null)},O=()=>{D(!1),j(null)};C.useEffect(()=>{!w&&R&&(D(!1),j(null))},[w,R]);const H=()=>{w&&d.pathname==="/"?(j("settings"),D(!0)):g(!0)},[$,Y]=xi("chat_enabled_tools",{web_search:!0,execute_js:!0,scrape_url:!0,youtube:!0,transcribe:!0,generate_chart:!0,generate_image:!0,search_knowledge_base:!1,manage_todos:!0,manage_snippets:!0,ask_llm:!1,generate_reasoning_chain:!1});if(C.useEffect(()=>{const P=I=>{if(w&&d.pathname==="/")return I.preventDefault(),I.returnValue="",""};return window.addEventListener("beforeunload",P),()=>window.removeEventListener("beforeunload",P)},[w,d.pathname]),C.useEffect(()=>{(async()=>{try{console.log("Starting migration from localStorage to IndexedDB...");const I=await mu.migrateFromLocalStorage();console.log(`Migration complete: ${I} chats migrated`),await mu.cleanupOldChats(100),console.log("Cleanup complete: kept 100 most recent chats")}catch(I){console.error("Error during migration:",I)}})()},[]),C.useEffect(()=>{},[]),C.useEffect(()=>{e&&!v&&(async()=>{if(!e){T(!0);return}try{const I=await t();if(!I){T(!0);return}const G=await ta(),F=await fetch(`${G}/chat`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${I}`},body:JSON.stringify({messages:[{role:"user",content:"test"}],providers:r.providers||[]})});F.status===403&&(await F.json()).requiresProviderSetup&&(console.log(" User needs to configure providers"),E(!0))}catch{console.log("Unable to verify provider setup status (this is not critical)")}finally{T(!0)}})()},[e,t,r.providers,v]),C.useEffect(()=>{if(v&&e&&g6(e)){const P=setTimeout(()=>K(!0),500);return()=>clearTimeout(P)}},[v,e]),d.pathname.startsWith("/snippet/shared")||d.hash.includes("/snippet/shared"))return s.jsx(O4,{});if(!e)return s.jsx(OX,{});if(!v)return s.jsx("div",{className:"flex items-center justify-center h-screen bg-gray-900",children:s.jsx("div",{className:"text-white text-xl",children:"Loading..."})});const ne=n?.exceeded||!1;return x||ne?s.jsx(aRe,{isBlocked:x||ne,onUnblock:()=>E(!1)}):s.jsxs("div",{className:"flex flex-col h-screen bg-gray-50 dark:bg-gray-900",children:[s.jsx("a",{href:"#main-content",className:"sr-only focus:not-sr-only focus:absolute focus:top-0 focus:left-0 focus:z-50 focus:p-4 focus:bg-blue-600 focus:text-white focus:rounded-br-lg focus:shadow-lg",children:"Skip to main content"}),s.jsxs("header",{className:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700",children:[s.jsxs("div",{className:"flex justify-between items-center px-1 md:px-4 py-3 max-w-screen-2xl md:mx-auto",children:[s.jsx("img",{src:"/agent.png",alt:"Research Agent",className:"h-10 sm:h-12 w-auto object-contain"}),s.jsxs("div",{className:"hidden md:flex items-center gap-3",children:[s.jsx(BX,{}),d.pathname!=="/billing"&&s.jsxs("button",{onClick:()=>X("/billing"),className:"flex items-center gap-2 px-3 py-2 rounded-lg transition-colors shadow-sm font-medium bg-gray-200 hover:bg-gray-300 dark:bg-gray-700 dark:hover:bg-gray-600 text-gray-700 dark:text-gray-300 min-h-11 touch-target",title:n?`You have $${n.creditBalance.toFixed(2)} remaining of $${n.totalCredits.toFixed(2)} total credits`:"View billing and usage details","aria-label":"Billing and credits",children:[s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 7h6m0 10v-3m-3 3h.01M9 17h.01M9 14h.01M12 14h.01M15 11h.01M12 11h.01M9 11h.01M7 21h10a2 2 0 002-2V5a2 2 0 00-2-2H7a2 2 0 00-2 2v14a2 2 0 002 2z"})}),n&&!a&&typeof n.creditBalance=="number"&&typeof n.totalCredits=="number"&&s.jsxs("span",{className:`text-xs font-medium ${n.exceeded?"text-red-600 dark:text-red-400":"text-green-600 dark:text-green-400"}`,children:["$",n.creditBalance.toFixed(2)," / $",n.totalCredits.toFixed(2)]})]}),d.pathname==="/billing"||d.pathname==="/planning"?s.jsxs("button",{onClick:()=>u("/"),className:"flex items-center gap-2 p-2 md:px-3 md:py-2 bg-gray-600 hover:bg-gray-700 text-white rounded-lg transition-colors shadow-sm font-medium min-h-11 touch-target",title:"Back to Chat","aria-label":"Back to Chat",children:[s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),s.jsx("span",{className:"text-sm hidden md:inline",children:"Back to Chat"})]}):d.pathname==="/help"||d.pathname==="/privacy"?s.jsxs(s.Fragment,{children:[s.jsxs("button",{onClick:()=>u("/"),className:"flex items-center gap-2 p-2 md:px-3 md:py-2 bg-gray-600 hover:bg-gray-700 text-white rounded-lg transition-colors shadow-sm font-medium min-h-11 touch-target",title:"Back to Chat","aria-label":"Back to Chat",children:[s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),s.jsx("span",{className:"text-sm hidden md:inline",children:"Back to Chat"})]}),s.jsxs("button",{onClick:()=>X("/swag"),className:"flex items-center gap-2 p-2 md:px-3 md:py-2 rounded-lg transition-colors shadow-sm font-medium bg-blue-600 hover:bg-blue-700 text-white min-h-11 touch-target",title:"Swag - Save and manage snippets","aria-label":"Swag",children:[s.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:s.jsx("path",{d:"M8 2C8 1.45 8.45 1 9 1h6c.55 0 1 .45 1 1v2h-8V2zm-1 4h10l1.5 13c.08.72-.48 1.32-1.2 1.32H6.7c-.72 0-1.28-.6-1.2-1.32L7 6zm5 2c-2.21 0-4 1.79-4 4v6h8v-6c0-2.21-1.79-4-4-4z"})}),s.jsx("span",{className:"text-sm hidden md:inline",children:"Swag"})]})]}):s.jsx(s.Fragment,{children:s.jsxs("button",{onClick:()=>X("/swag"),className:"flex items-center gap-2 p-2 md:px-3 md:py-2 rounded-lg transition-colors shadow-sm font-medium bg-blue-600 hover:bg-blue-700 text-white min-h-11 touch-target",title:"Swag - Save and manage snippets","aria-label":"Swag",children:[s.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:s.jsx("path",{d:"M8 2C8 1.45 8.45 1 9 1h6c.55 0 1 .45 1 1v2h-8V2zm-1 4h10l1.5 13c.08.72-.48 1.32-1.2 1.32H6.7c-.72 0-1.28-.6-1.2-1.32L7 6zm5 2c-2.21 0-4 1.79-4 4v6h8v-6c0-2.21-1.79-4-4-4z"})}),s.jsx("span",{className:"text-sm hidden md:inline",children:"Swag"})]})}),s.jsx(gRe,{}),s.jsx(IRe,{}),s.jsx(d3,{})]}),s.jsxs("div",{className:"flex md:hidden items-center gap-2",children:[d.pathname!=="/billing"&&n&&!a&&typeof n.creditBalance=="number"&&s.jsxs("div",{className:`text-xs font-medium px-2 py-1 rounded ${n.exceeded?"text-red-600 dark:text-red-400 bg-red-50 dark:bg-red-900/20":"text-green-600 dark:text-green-400 bg-green-50 dark:bg-green-900/20"}`,children:["$",n.creditBalance.toFixed(2)]}),d.pathname==="/swag"||d.pathname==="/billing"||d.pathname==="/planning"?s.jsxs("button",{onClick:()=>X("/"),className:"px-3 py-2 bg-gray-200 hover:bg-gray-300 dark:bg-gray-700 dark:hover:bg-gray-600 rounded-lg transition-colors flex items-center gap-2",title:"Back to Chat","aria-label":"Back to Chat",children:[s.jsx("svg",{className:"w-5 h-5 text-gray-700 dark:text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),s.jsx("span",{className:"hidden md:inline text-sm font-medium text-gray-700 dark:text-gray-300",children:"Back to Chat"})]}):s.jsx(s.Fragment,{children:s.jsx("button",{onClick:()=>X("/swag"),className:"p-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors",title:"Swag","aria-label":"Swag",children:s.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M8 2C8 1.45 8.45 1 9 1h6c.55 0 1 .45 1 1v2h-8V2zm-1 4h10l1.5 13c.08.72-.48 1.32-1.2 1.32H6.7c-.72 0-1.28-.6-1.2-1.32L7 6zm5 2c-2.21 0-4 1.79-4 4v6h8v-6c0-2.21-1.79-4-4-4z"})})})}),s.jsx("button",{onClick:()=>q(!B),className:"icon-button","aria-label":B?"Close menu":"Open menu","aria-expanded":B,children:B?s.jsx("svg",{className:"w-6 h-6 text-gray-600 dark:text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}):s.jsx("svg",{className:"w-6 h-6 text-gray-600 dark:text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})]})]}),B&&s.jsx("nav",{className:"md:hidden border-t border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800",role:"navigation","aria-label":"Mobile navigation",children:s.jsxs("div",{className:"px-4 py-2 space-y-1",children:[d.pathname!=="/"&&s.jsxs("button",{onClick:()=>{u("/"),q(!1)},className:"flex items-center gap-3 w-full px-4 py-3 rounded-lg transition-colors text-left touch-target hover:bg-gray-100 dark:hover:bg-gray-700",children:[s.jsx("svg",{className:"w-5 h-5 text-gray-600 dark:text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z"})}),s.jsx("span",{className:"font-medium text-gray-700 dark:text-gray-300",children:"Chat"})]}),d.pathname!=="/billing"&&s.jsxs("button",{onClick:()=>{X("/billing"),q(!1)},className:"flex items-center gap-3 w-full px-4 py-3 rounded-lg transition-colors text-left touch-target hover:bg-gray-100 dark:hover:bg-gray-700",children:[s.jsx("svg",{className:"w-5 h-5 text-gray-600 dark:text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 7h6m0 10v-3m-3 3h.01M9 17h.01M9 14h.01M12 14h.01M15 11h.01M12 11h.01M9 11h.01M7 21h10a2 2 0 002-2V5a2 2 0 00-2-2H7a2 2 0 00-2 2v14a2 2 0 002 2z"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"font-medium text-gray-700 dark:text-gray-300",children:"Billing"}),n&&!a&&typeof n.creditBalance=="number"&&typeof n.totalCredits=="number"&&s.jsxs("div",{className:`text-xs ${n.exceeded?"text-red-600 dark:text-red-400":"text-green-600 dark:text-green-400"}`,children:["$",n.creditBalance.toFixed(2)," / $",n.totalCredits.toFixed(2)]})]})]}),d.pathname!=="/swag"&&s.jsxs("button",{onClick:()=>{X("/swag"),q(!1)},className:"flex items-center gap-3 w-full px-4 py-3 rounded-lg transition-colors text-left touch-target hover:bg-gray-100 dark:hover:bg-gray-700",children:[s.jsx("svg",{className:"w-5 h-5 text-gray-600 dark:text-gray-400",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:s.jsx("path",{d:"M8 2C8 1.45 8.45 1 9 1h6c.55 0 1 .45 1 1v2h-8V2zm-1 4h10l1.5 13c.08.72-.48 1.32-1.2 1.32H6.7c-.72 0-1.28-.6-1.2-1.32L7 6zm5 2c-2.21 0-4 1.79-4 4v6h8v-6c0-2.21-1.79-4-4-4z"})}),s.jsx("span",{className:"font-medium text-gray-700 dark:text-gray-300",children:"Swag"})]}),s.jsxs("button",{onClick:()=>{X("/image-editor"),q(!1)},className:"flex items-center gap-3 w-full px-4 py-3 rounded-lg transition-colors text-left touch-target hover:bg-gray-100 dark:hover:bg-gray-700",children:[s.jsx("svg",{className:"w-5 h-5 text-gray-600 dark:text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})}),s.jsx("span",{className:"font-medium text-gray-700 dark:text-gray-300",children:"Image Editor"})]}),s.jsxs("button",{onClick:()=>{H(),q(!1)},className:"flex items-center gap-3 w-full px-4 py-3 rounded-lg transition-colors text-left touch-target hover:bg-gray-100 dark:hover:bg-gray-700",children:[s.jsxs("svg",{className:"w-5 h-5 text-gray-600 dark:text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:[s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),s.jsx("span",{className:"font-medium text-gray-700 dark:text-gray-300",children:"Settings"})]}),s.jsxs("button",{onClick:()=>{X("/help"),q(!1)},className:"flex items-center gap-3 w-full px-4 py-3 rounded-lg transition-colors text-left touch-target hover:bg-gray-100 dark:hover:bg-gray-700",children:[s.jsx("svg",{className:"w-5 h-5 text-gray-600 dark:text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),s.jsx("span",{className:"font-medium text-gray-700 dark:text-gray-300",children:"Help"})]}),s.jsxs("button",{onClick:()=>{X("/privacy"),q(!1)},className:"flex items-center gap-3 w-full px-4 py-3 rounded-lg transition-colors text-left touch-target hover:bg-gray-100 dark:hover:bg-gray-700",children:[s.jsx("svg",{className:"w-5 h-5 text-gray-600 dark:text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})}),s.jsx("span",{className:"font-medium text-gray-700 dark:text-gray-300",children:"Privacy Policy"})]}),s.jsxs("a",{href:"https://github.com/syntithenai/lambdallmproxy",target:"_blank",rel:"noopener noreferrer",onClick:()=>q(!1),className:"flex items-center gap-3 w-full px-4 py-3 rounded-lg transition-colors text-left touch-target hover:bg-gray-100 dark:hover:bg-gray-700",children:[s.jsx("svg",{className:"w-5 h-5 text-gray-600 dark:text-gray-400",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:s.jsx("path",{d:"M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"})}),s.jsx("span",{className:"font-medium text-gray-700 dark:text-gray-300",children:"GitHub"})]}),s.jsx("div",{className:"pt-2 border-t border-gray-200 dark:border-gray-700",children:s.jsx(d3,{})})]})})]}),s.jsx(yTe,{}),s.jsx(nZ,{}),s.jsx("main",{id:"main-content",className:"flex-1 overflow-hidden",children:s.jsx("div",{className:"h-full max-w-screen-2xl md:mx-auto",children:s.jsxs(FK,{children:[s.jsx(Ro,{path:"/",element:s.jsx(VTe,{enabledTools:$,setEnabledTools:Y,showMCPDialog:f,setShowMCPDialog:b,onLoadingChange:N})}),s.jsx(Ro,{path:"/planning",element:s.jsx(KTe,{})}),s.jsx(Ro,{path:"/swag",element:s.jsx(BIe,{})}),s.jsx(Ro,{path:"/quiz",element:s.jsx(UIe,{})}),s.jsx(Ro,{path:"/image-editor",element:s.jsx(nRe,{})}),s.jsx(Ro,{path:"/snippet/shared",element:s.jsx(O4,{})}),s.jsx(Ro,{path:"/billing",element:s.jsx(HIe,{})}),s.jsx(Ro,{path:"/help",element:s.jsx(zIe,{})}),s.jsx(Ro,{path:"/privacy",element:s.jsx(KIe,{})})]})})}),s.jsx(wZ,{isOpen:h,onClose:()=>g(!1),enabledTools:$,setEnabledTools:Y,onOpenMCPDialog:()=>b(!0)}),i&&s.jsx(RRe,{onSwitchToAgent:(P,I)=>{X("/"),o(!1)},onCreateNewAgent:()=>{X("/"),o(!1)},onClose:()=>o(!1)}),R&&s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:s.jsxs("div",{className:"card max-w-md w-full p-6",children:[s.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-gray-100 mb-4",children:" Active Request in Progress"}),s.jsx("p",{className:"text-gray-700 dark:text-gray-300 mb-6",children:"You have an active chat request running. Navigating away will stop the current request and you may lose the response."}),s.jsx("p",{className:"text-gray-700 dark:text-gray-300 mb-6 font-semibold",children:"Are you sure you want to continue?"}),s.jsxs("div",{className:"flex gap-3 justify-end",children:[s.jsx("button",{onClick:O,className:"btn-secondary px-4 py-2",children:"Stay Here"}),s.jsx("button",{onClick:Q,className:"btn-primary px-4 py-2 bg-orange-600 hover:bg-orange-700",children:"Navigate Away"})]})]})}),s.jsx(W6,{onOpenSettings:H}),s.jsx(sRe,{isOpen:z,onClose:()=>K(!1)})]})}function LRe(){return s.jsx(lQ,{basename:"/",children:s.jsx(YQ,{children:s.jsx(kQ,{children:s.jsx(xX,{children:s.jsx(uX,{children:s.jsx(vX,{children:s.jsx(pRe,{children:s.jsx(NRe,{children:s.jsx(NX,{children:s.jsx(EX,{children:s.jsx(yX,{children:s.jsx(HQ,{children:s.jsx(zQ,{children:s.jsx(CQ,{children:s.jsx(bX,{children:s.jsx(DRe,{})})})})})})})})})})})})})})})})}typeof window<"u"&&(window.ragDB=As,console.log(" ragDB exposed to window.ragDB for debugging"));const ORe=()=>{{console.warn(" VITE_PAYPAL_CLIENT_ID not found in environment - PayPal integration disabled");return}};ORe();const b1=new URLSearchParams(window.location.search);if(b1.get("reset")==="true"){console.log(" Reset parameter detected - clearing remote Lambda preference"),k6(),b1.delete("reset");const e=b1.toString(),t=window.location.pathname+(e?"?"+e:"")+window.location.hash;window.history.replaceState({},"",t)}kq.createRoot(document.getElementById("root")).render(s.jsx(LRe,{}));export{Qge as $,KRe as A,jg as B,cue as C,Ide as D,$k as E,ps as F,FF as G,oye as H,cme as I,mfe as J,zO as K,que as L,mp as M,YRe as N,ox as O,ude as P,ik as Q,ir as R,tM as S,eme as T,ub as U,iye as V,Bm as W,vr as X,zo as Y,Zbe as Z,M as _,wde as a,MU as a$,vM as a0,EM as a1,aDe as a2,JRe as a3,rDe as a4,tDe as a5,XRe as a6,Rd as a7,xk as a8,nDe as a9,EDe as aA,SDe as aB,yDe as aC,Zt as aD,xDe as aE,xEe as aF,gEe as aG,hEe as aH,vxe as aI,Xge as aJ,Al as aK,WRe as aL,Wm as aM,xxe as aN,yxe as aO,mk as aP,cc as aQ,gM as aR,Ihe as aS,cm as aT,Du as aU,Kbe as aV,PU as aW,rx as aX,ix as aY,ly as aZ,FU as a_,ZRe as aa,iDe as ab,sDe as ac,eDe as ad,yde as ae,Fm as af,Wt as ag,ur as ah,YF as ai,Wxe as aj,W9 as ak,vDe as al,bfe as am,ja as an,Tc as ao,Rk as ap,y7 as aq,Mu as ar,GU as as,wr as at,Vbe as au,U0e as av,$be as aw,Dk as ax,xP as ay,jEe as az,Tde as b,kbe as b0,Xt as b1,wU as b2,ri as b3,The as b4,gk as b5,oB as b6,$m as b7,uB as b8,QRe as b9,PM as bA,Mk as bB,RU as bC,tw as bD,Qbe as bE,sx as bF,lue as ba,Ybe as bb,Ube as bc,_0e as bd,Lk as be,vbe as bf,Xbe as bg,Gm as bh,Fp as bi,sy as bj,Dbe as bk,ive as bl,zm as bm,oy as bn,Cbe as bo,NU as bp,I0e as bq,R0e as br,Jc as bs,$M as bt,D0e as bu,Ok as bv,N0e as bw,M0e as bx,Bp as by,Sc as bz,Sn as c,sn as d,WF as e,Oa as f,Cde as g,Cl as h,Hi as i,Tfe as j,Pp as k,st as l,WU as m,VRe as n,wDe as o,TDe as p,_de as q,C as r,kde as s,Ade as t,lo as u,ffe as v,uye as w,uEe as x,oDe as y,Sde as z};
