import{r as g,b5 as Q,j as e,b6 as q,b7 as X,b8 as Z,b9 as Y,ba as ee,bb as te,bc as se,a_ as ae,b4 as re,c as le,bd as G,be as B,bf as ne,bg as ie,bh as $,bi as oe,aB as de,bj as ce,bk as xe,bl as ge}from"./index-B8LbjC1z.js";function me({initialProvider:o,onSave:s,onCancel:l}){const[a,h]=g.useState(o?.type||""),[n,d]=g.useState(o?.apiKey||""),[p,t]=g.useState(o?.apiEndpoint||""),[f,w]=g.useState(o?.modelName||""),[S,b]=g.useState(o?.rateLimitTPM?.toString()||""),[v,i]=g.useState({chat:o?.capabilities?.chat!==!1,image:o?.capabilities?.image!==!1,embedding:o?.capabilities?.embedding!==!1,voice:o?.capabilities?.voice!==!1,tts:o?.capabilities?.tts!==!1}),[m,N]=g.useState(o?.allowedModels?.join(", ")||""),[P,L]=g.useState(o?.maxImageQuality||"fast"),[c,M]=g.useState({});g.useEffect(()=>{a&&a!=="openai-compatible"?t(Q[a]):a==="openai-compatible"&&t(o?.apiEndpoint||"https://")},[a,o]);const j=u=>{if(u.preventDefault(),!a){M({type:"Please select a provider type"});return}const C={type:a,apiKey:n,apiEndpoint:p,capabilities:v};a==="openai-compatible"&&(C.modelName=f,S&&(C.rateLimitTPM=parseInt(S,10))),m.trim()?C.allowedModels=m.split(",").map(y=>y.trim()).filter(y=>y.length>0):C.allowedModels=null,v.image&&P&&(C.maxImageQuality=P);const r=X(C);if(!r.valid){M(r.errors);return}s(C)},E=["groq","openai","gemini","together","openai-compatible"];return e.jsxs("form",{onSubmit:j,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-200 mb-2",children:"Provider Type"}),e.jsxs("select",{value:a,onChange:u=>h(u.target.value),className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:[e.jsx("option",{value:"",children:"Select provider type..."}),E.map(u=>{const C=q[u];return e.jsxs("option",{value:u,children:[C.icon," ",C.name]},u)})]}),c.type&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:c.type})]}),a&&e.jsx("div",{className:"p-3 bg-gray-800 rounded-lg border border-gray-700",children:e.jsx("p",{className:"text-sm text-gray-400",children:q[a].description})}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-200 mb-2",children:"API Endpoint"}),e.jsx("input",{type:"text",value:p,onChange:u=>t(u.target.value),disabled:a!=="openai-compatible",className:`w-full px-3 py-2 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500 ${a!=="openai-compatible"?"bg-gray-900 cursor-not-allowed":"bg-gray-800"}`,placeholder:"https://",required:!0}),a!=="openai-compatible"&&e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"ⓘ Auto-filled, not editable"}),a==="openai-compatible"&&e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"✏️ EDITABLE - Enter custom endpoint"}),c.apiEndpoint&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:c.apiEndpoint})]}),a==="openai-compatible"&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-200 mb-2",children:"Model Name"}),e.jsx("input",{type:"text",value:f,onChange:u=>w(u.target.value),className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"llama-3.1-70b-instruct",required:!0}),e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"✏️ REQUIRED - Exact model name for API"}),c.modelName&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:c.modelName})]}),a==="openai-compatible"&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-200 mb-2",children:"Rate Limit (Tokens Per Minute)"}),e.jsx("input",{type:"number",value:S,onChange:u=>b(u.target.value),className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Leave empty for no rate limiting",min:"0"}),e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"ⓘ Optional - Leave empty to disable rate limiting"}),c.rateLimitTPM&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:c.rateLimitTPM})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-200 mb-2",children:"API Key"}),e.jsx("input",{type:"password",value:n,onChange:u=>d(u.target.value),className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter your API key",required:!0}),e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"ⓘ Your API key for this provider"}),c.apiKey&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:c.apiKey})]}),e.jsxs("div",{className:"p-4 bg-gray-800 border border-gray-700 rounded-lg",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-200 mb-3",children:"Service Capabilities"}),e.jsx("p",{className:"text-xs text-gray-500 mb-3",children:"Select which services this provider can be used for. By default, all are enabled."}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:v.chat,onChange:u=>i({...v,chat:u.target.checked}),className:"w-4 h-4 text-blue-600 bg-gray-700 border-gray-600 rounded focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-300",children:"💬 Chat / Text Completion"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:v.image,onChange:u=>i({...v,image:u.target.checked}),className:"w-4 h-4 text-blue-600 bg-gray-700 border-gray-600 rounded focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-300",children:"🎨 Image Generation"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:v.embedding,onChange:u=>i({...v,embedding:u.target.checked}),className:"w-4 h-4 text-blue-600 bg-gray-700 border-gray-600 rounded focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-300",children:"🔗 Embeddings"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:v.voice,onChange:u=>i({...v,voice:u.target.checked}),className:"w-4 h-4 text-blue-600 bg-gray-700 border-gray-600 rounded focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-300",children:"🎤 Voice / Transcription"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:v.tts,onChange:u=>i({...v,tts:u.target.checked}),className:"w-4 h-4 text-blue-600 bg-gray-700 border-gray-600 rounded focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-300",children:"🔊 Text-to-Speech"})]})]})]}),e.jsxs("div",{className:"p-4 bg-gray-800 border border-gray-700 rounded-lg",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-200 mb-3",children:"� Model Access Restrictions"}),e.jsx("p",{className:"text-xs text-gray-500 mb-3",children:"Restrict which models can be used for ALL LLM operations (chat, image generation, etc.). Leave empty to allow all models."}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-200 mb-2",children:"Allowed Models (comma-separated)"}),e.jsx("input",{type:"text",value:m,onChange:u=>N(u.target.value),className:"w-full px-3 py-2 bg-gray-900 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500 font-mono text-sm",placeholder:"Leave empty for all models, or: llama-3.1-8b-instant, gpt-4o-mini"}),e.jsxs("p",{className:"mt-1 text-xs text-gray-500",children:["ⓘ ",e.jsx("strong",{children:"Empty"})," = allow all models | ",e.jsx("strong",{children:"Non-empty"})," = exact model name must match"]}),e.jsxs("p",{className:"mt-1 text-xs text-gray-400",children:["Examples: ",e.jsx("code",{className:"text-blue-400",children:"llama-3.1-8b-instant"}),", ",e.jsx("code",{className:"text-blue-400",children:"black-forest-labs/FLUX.1-schnell-Free"})]})]})]}),v.image&&e.jsxs("div",{className:"p-4 bg-gray-800 border border-gray-700 rounded-lg",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-200 mb-3",children:"🎨 Image Generation Quality Cap"}),e.jsx("p",{className:"text-xs text-gray-500 mb-3",children:'Limit maximum image quality to control costs. Works together with "Allowed Models" above.'}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-200 mb-2",children:"Maximum Quality Tier"}),e.jsxs("select",{value:P,onChange:u=>L(u.target.value),className:"w-full px-3 py-2 bg-gray-900 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"fast",children:"Fast (draft, <$0.001/image) - DEFAULT"}),e.jsx("option",{value:"standard",children:"Standard (normal, ~$0.002/image)"}),e.jsx("option",{value:"high",children:"High (detailed, ~$0.04/image)"}),e.jsx("option",{value:"ultra",children:"Ultra (photorealistic, ~$0.12/image)"})]}),e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"ⓘ Prevents generating images above this quality tier"})]})]}),e.jsxs("div",{className:"flex gap-2 justify-end pt-4",children:[e.jsx("button",{type:"button",onClick:l,className:"px-4 py-2 bg-gray-700 text-white rounded-lg hover:bg-gray-600 transition-colors",children:"Cancel"}),e.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:o?"Update Provider":"Save Provider"})]})]})}function he({onEditingChange:o}={}){const{providers:s,addProvider:l,updateProvider:a,deleteProvider:h}=Z(),{loadFromGoogleDrive:n,saveToGoogleDrive:d}=Y(),[p,t]=g.useState(!1),[f,w]=g.useState(null);g.useEffect(()=>{o&&o(p||f!==null)},[p,f,o]);const[S,b]=g.useState(null),[v,i]=g.useState(null),[m,N]=g.useState(!1),P=()=>{t(!0),w(null),b(null),i(null)},L=r=>{w(r),t(!1),b(null),i(null)},c=r=>{window.confirm("Are you sure you want to delete this provider?")&&(h(r),i("Provider deleted successfully"),setTimeout(()=>i(null),3e3))},M=r=>{if(f){const y=a(f,r);y.success?(i("Provider updated successfully"),w(null),setTimeout(()=>i(null),3e3)):b(y.error||"Failed to update provider")}else{const y=l(r);y.success?(i("Provider added successfully"),t(!1),setTimeout(()=>i(null),3e3),window.dispatchEvent(new CustomEvent("provider-added"))):b(y.error||"Failed to add provider")}},j=()=>{t(!1),w(null),b(null)},E=async()=>{try{N(!0),b(null),await n(),i("Settings loaded successfully from Google Drive!"),setTimeout(()=>i(null),3e3)}catch(r){b(r.message||"Failed to load settings from Google Drive")}finally{N(!1)}},u=async()=>{try{N(!0),b(null),await d(),i("Settings saved successfully to Google Drive!"),setTimeout(()=>i(null),3e3)}catch(r){b(r.message||"Failed to save settings to Google Drive")}finally{N(!1)}},C=f?s.find(r=>r.id===f):void 0;return e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-700",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("span",{className:"text-2xl",children:"☁️"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-medium text-blue-900 dark:text-blue-100 mb-2",children:"Cloud Sync for Provider Credentials"}),e.jsxs("div",{className:"text-sm text-blue-700 dark:text-blue-300 mb-3",children:["Connect to Google Drive in the ",e.jsx("strong",{children:"Cloud Sync"})," tab to enable automatic synchronization of your provider settings.",ee()&&e.jsx("span",{className:"block mt-1 text-green-700 dark:text-green-400 font-medium",children:"✓ Cloud sync is active - changes are saved automatically"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:E,disabled:m,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors text-sm flex items-center gap-2",children:m?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin h-4 w-4",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Loading..."]}):e.jsx(e.Fragment,{children:"📥 Load from Drive"})}),e.jsx("button",{onClick:u,disabled:m,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors text-sm flex items-center gap-2",children:m?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin h-4 w-4",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Saving..."]}):e.jsx(e.Fragment,{children:"💾 Save to Drive"})})]})]})]})}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h3",{className:"text-lg font-semibold text-white",children:"Configured Providers"}),!p&&!f&&e.jsx("button",{onClick:P,className:"px-3 py-1 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm",children:"+ Add Provider"})]}),v&&e.jsx("div",{className:"p-3 bg-green-700 border border-green-400 rounded-lg",children:e.jsxs("p",{className:"text-sm text-white font-bold",children:["✓ ",v]})}),S&&e.jsx("div",{className:"p-3 bg-red-900/30 border border-red-700 rounded-lg",children:e.jsxs("p",{className:"text-sm text-red-400",children:["✗ ",S]})}),(p||f)&&e.jsxs("div",{className:"p-4 bg-gray-800 rounded-lg border border-gray-700",children:[e.jsx("h4",{className:"text-md font-medium text-white mb-4",children:f?"Edit Provider":"Add Provider"}),e.jsx(me,{initialProvider:C,onSave:M,onCancel:j})]}),!p&&!f&&e.jsx(e.Fragment,{children:s.length===0?e.jsxs("div",{className:"p-6 bg-gray-800 rounded-lg border border-gray-700 text-center",children:[e.jsx("p",{className:"text-gray-400",children:"No providers configured yet"}),e.jsx("p",{className:"text-sm text-gray-500 mt-2",children:'Click "Add Provider" to configure your first LLM provider'})]}):e.jsx("div",{className:"space-y-3",children:s.map(r=>{const y=q[r.type]||{name:r.type||"Unknown Provider",icon:"❓"},k=r.type==="together",D=typeof r.enabled=="boolean"?r.enabled:!k;return e.jsxs("div",{className:`p-4 rounded-lg border transition-colors ${D?"bg-gray-800 border-gray-700 hover:border-gray-600":"bg-gray-900 border-gray-800 hover:border-gray-700 opacity-80 grayscale"}`,children:[e.jsxs("div",{className:"flex justify-between items-center mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-xl",children:y.icon}),e.jsx("span",{className:`font-medium ${D?"text-white":"text-gray-500"}`,children:y.name})]}),e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx("button",{onClick:()=>{a(r.id,{enabled:!D}),i(D?`${y.name} disabled`:`${y.name} enabled`),setTimeout(()=>i(null),2e3)},className:`px-3 py-1 rounded transition-colors text-sm font-bold ${D?"bg-green-600 hover:bg-green-700 text-white":"bg-red-700 hover:bg-red-800 text-red-100 border border-red-400"}`,title:D?"Click to disable":"Click to enable",children:D?"Enabled":"Disabled"}),e.jsx("button",{onClick:()=>L(r.id),className:"px-3 py-1 bg-gray-700 text-white rounded hover:bg-gray-600 transition-colors text-sm",title:"Edit provider",children:"Edit"}),e.jsx("button",{onClick:()=>c(r.id),className:"px-3 py-1 bg-red-700 text-white rounded hover:bg-red-600 transition-colors text-sm",title:"Delete provider",children:"Delete"})]})]}),e.jsxs("div",{className:"space-y-1 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-gray-400 min-w-[80px]",children:"Endpoint:"}),e.jsx("span",{className:"text-gray-300 break-all",children:r.apiEndpoint})]}),r.modelName&&e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-gray-400 min-w-[80px]",children:"Model:"}),e.jsx("span",{className:"text-gray-300",children:r.modelName})]}),r.rateLimitTPM&&e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-gray-400 min-w-[80px]",children:"Rate Limit:"}),e.jsxs("span",{className:"text-gray-300",children:[r.rateLimitTPM.toLocaleString()," TPM"]})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-gray-400 min-w-[80px]",children:"API Key:"}),e.jsx("span",{className:"text-gray-300 font-mono",children:te(r.apiKey)})]})]})]},r.id)})})}),!p&&!f&&e.jsxs("div",{className:"p-4 bg-blue-900/20 border border-blue-700/50 rounded-lg",children:[e.jsx("h4",{className:"text-sm font-medium text-blue-400 mb-2",children:"ℹ️ How Provider Selection Works:"}),e.jsxs("ul",{className:"space-y-1 text-sm text-gray-400",children:[e.jsx("li",{children:"• Free tier providers (🆓) are used first"}),e.jsx("li",{children:"• Paid providers (💰) are used when free tier rate limits are exceeded"}),e.jsx("li",{children:"• The backend automatically selects the best model for each request"}),e.jsx("li",{children:"• No need to configure rate limits or priorities - it's all automatic!"})]})]})]})}const ue=()=>{const{state:o,setEnabled:s,setProvider:l,setVoice:a,setRate:h,setPitch:n,setVolume:d,setAutoSummarize:p,setElevenLabsApiKey:t,getAvailableProviders:f}=se(),[w,S]=g.useState([]),[b,v]=g.useState(o.voices),[i,m]=g.useState(!1);g.useEffect(()=>{const c=f();S(c)},[f]),g.useEffect(()=>{v(o.voices)},[o.voices]);const N=async c=>{m(!0);try{await l(c)}catch(M){console.error("Failed to change provider:",M)}finally{m(!1)}},P=c=>({llm:"LLM Provider (Auto)","openai-tts":"OpenAI TTS","groq-tts":"Groq TTS","gemini-tts":"Gemini TTS","together-tts":"Together AI TTS (Not Available)",elevenlabs:o.elevenlabsApiKey?"ElevenLabs (Specialized TTS)":"ElevenLabs (Needs API Key)",browser:"Browser (Web Speech API)",speakjs:"speak.js (Offline)"})[c],L=c=>({llm:"Automatically selects best available LLM provider (fallback option)","openai-tts":"OpenAI's text-to-speech model (high quality, fast)","groq-tts":"Groq's PlayAI TTS model (fast inference)","gemini-tts":"Google Gemini text-to-speech (natural voices)","together-tts":"Together AI does not provide TTS API - please use another provider",elevenlabs:o.elevenlabsApiKey?"Ultra-realistic AI voices":"Ultra-realistic AI voices (configure API key below)",browser:"Uses your browser's built-in voices",speakjs:"Offline synthesis, basic quality"})[c];return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"card bg-white dark:bg-gray-800 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Enable Text-to-Speech"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Allow AI responses and snippets to be read aloud"})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:o.isEnabled,onChange:c=>s(c.target.checked),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"})]})]})}),o.isEnabled&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"card bg-white dark:bg-gray-800 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Auto-Summarize Long Content"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Use LLM to generate concise, speakable summaries for long responses"})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:o.autoSummarize,onChange:c=>p(c.target.checked),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"})]})]})}),e.jsxs("div",{className:"card bg-white dark:bg-gray-800 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-4",children:"Voice Provider"}),e.jsx("div",{className:"space-y-3",children:w.map(c=>e.jsxs("label",{className:`flex items-start gap-3 cursor-pointer p-4 rounded-lg border-2 transition-all hover:border-blue-300 dark:hover:border-blue-700 ${o.currentProvider===c?"border-blue-500 dark:border-blue-400 bg-blue-50 dark:bg-blue-900/20":"border-gray-200 dark:border-gray-700"}`,children:[e.jsx("input",{type:"radio",name:"tts-provider",value:c,checked:o.currentProvider===c,onChange:()=>N(c),className:"mt-1 w-4 h-4 text-blue-600 focus:ring-2 focus:ring-blue-500"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"font-medium text-gray-900 dark:text-gray-100 mb-1 flex items-center gap-2",children:[P(c),c==="elevenlabs"&&!o.elevenlabsApiKey&&e.jsx("span",{className:"text-xs bg-yellow-100 dark:bg-yellow-900/30 text-yellow-800 dark:text-yellow-300 px-2 py-1 rounded-full",children:"Configure"})]}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:L(c)})]})]},c))})]}),e.jsxs("div",{className:"card bg-white dark:bg-gray-800 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-4",children:"Voice"}),i?e.jsxs("div",{className:"flex items-center justify-center py-8",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),e.jsx("span",{className:"ml-3 text-gray-600 dark:text-gray-400",children:"Loading voices..."})]}):b.length===0?e.jsx("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:"No voices available for this provider"}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 max-h-64 overflow-y-auto",children:b.map(c=>e.jsxs("button",{onClick:()=>a(c.id),className:`p-3 text-left border rounded-lg transition-colors ${o.currentVoice===c.id?"border-blue-600 bg-blue-50 dark:bg-blue-900/20 dark:border-blue-400":"border-gray-300 dark:border-gray-600 hover:border-blue-400 dark:hover:border-blue-500"}`,children:[e.jsx("div",{className:"font-medium text-gray-900 dark:text-gray-100",children:c.name}),e.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:[c.language," • ",c.gender||"neutral"]})]},c.id))})]}),e.jsxs("div",{className:"card bg-white dark:bg-gray-800 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-4",children:"Playback Settings"}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["Speed: ",o.rate.toFixed(1),"x"]}),e.jsx("input",{type:"range",min:"0.5",max:"2.0",step:"0.1",value:o.rate,onChange:c=>h(parseFloat(c.target.value)),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer dark:bg-gray-700 slider"}),e.jsxs("div",{className:"flex justify-between text-xs text-gray-500 dark:text-gray-400 mt-1",children:[e.jsx("span",{children:"0.5x Slower"}),e.jsx("span",{children:"1.0x Normal"}),e.jsx("span",{children:"2.0x Faster"})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["Pitch: ",o.pitch.toFixed(1)]}),e.jsx("input",{type:"range",min:"0.5",max:"2.0",step:"0.1",value:o.pitch,onChange:c=>n(parseFloat(c.target.value)),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer dark:bg-gray-700 slider"}),e.jsxs("div",{className:"flex justify-between text-xs text-gray-500 dark:text-gray-400 mt-1",children:[e.jsx("span",{children:"0.5 Lower"}),e.jsx("span",{children:"1.0 Normal"}),e.jsx("span",{children:"2.0 Higher"})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["Volume: ",Math.round(o.volume*100),"%"]}),e.jsx("input",{type:"range",min:"0",max:"1",step:"0.05",value:o.volume,onChange:c=>d(parseFloat(c.target.value)),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer dark:bg-gray-700 slider"}),e.jsxs("div",{className:"flex justify-between text-xs text-gray-500 dark:text-gray-400 mt-1",children:[e.jsx("span",{children:"0% Silent"}),e.jsx("span",{children:"50%"}),e.jsx("span",{children:"100% Max"})]})]})]}),e.jsxs("div",{className:"card bg-white dark:bg-gray-800 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-4",children:"ElevenLabs Authentication"}),e.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4 mb-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("svg",{className:"w-5 h-5 text-blue-600 mt-0.5 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-blue-900 dark:text-blue-100",children:"Specialized TTS Service"}),e.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-300 mt-1",children:"ElevenLabs provides TTS-only services and requires separate authentication from your LLM providers."})]})]})}),e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"API Key:"}),e.jsx("input",{type:"password",placeholder:"Enter ElevenLabs API key",value:o.elevenlabsApiKey,onChange:c=>t(c.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),e.jsxs("div",{className:"mt-3 space-y-2",children:[e.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Get your API key from ",e.jsx("a",{href:"https://elevenlabs.io/speech-synthesis",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:"ElevenLabs Dashboard"})]}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"• Free tier: 10,000 characters/month"}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"• Starter: $1/month for 30,000 characters"}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"• Creator: $22/month for 100,000 characters"})]})]}),["llm","openai-tts","groq-tts","gemini-tts","together-tts"].includes(o.currentProvider)&&e.jsxs("div",{className:"card bg-white dark:bg-gray-800 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-4",children:o.currentProvider==="llm"?"LLM Provider TTS":`${P(o.currentProvider)}`}),o.currentProvider==="together-tts"&&e.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4 mb-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("svg",{className:"w-5 h-5 text-red-600 mt-0.5 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-red-900 dark:text-red-100",children:"TTS Not Available"}),e.jsx("p",{className:"text-sm text-red-700 dark:text-red-300 mt-1",children:"Together AI does not provide a Text-to-Speech API. Please select a different TTS provider like OpenAI TTS, Groq TTS, or Gemini TTS."})]})]})}),o.currentProvider!=="together-tts"&&e.jsx("div",{className:"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("svg",{className:"w-5 h-5 text-green-600 mt-0.5 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-green-900 dark:text-green-100",children:"Using Existing Configuration"}),e.jsx("p",{className:"text-sm text-green-700 dark:text-green-300 mt-1",children:o.currentProvider==="llm"?"TTS will use your currently configured LLM provider and API key. No additional authentication required.":`TTS will use your ${P(o.currentProvider)} configuration and API key. No additional authentication required.`})]})]})})]})]})]})},z={enabled:!1,autoEmbed:!0,embeddingModel:"text-embedding-3-small",embeddingProvider:"openai",chunkSize:1e3,chunkOverlap:200,topK:5,similarityThreshold:.3},K=[{name:"text-embedding-3-small",provider:"openai",cost:"$0.02/1M tokens",recommended:!0},{name:"text-embedding-3-large",provider:"openai",cost:"$0.13/1M tokens"},{name:"embed-english-v3.0",provider:"cohere",cost:"$0.10/1M tokens"},{name:"m2-bert-80M-8k-retrieval",provider:"together",cost:"$0.008/1M tokens"}],pe=()=>{const{showSuccess:o,showError:s,showWarning:l}=ae(),{getUserRagSpreadsheet:a}=re(),{user:h}=le(),[n,d]=g.useState(z),[p,t]=g.useState(!1),[f,w]=g.useState(!1);g.useEffect(()=>{S()},[]);const S=async()=>{try{const i=localStorage.getItem("rag_config");if(i){const m=JSON.parse(i);d({...z,...m})}else d(z)}catch(i){console.error("Failed to load RAG config:",i),d(z)}},b=(i,m)=>{d(N=>({...N,[i]:m})),w(!0)},v=async()=>{try{if(t(!0),localStorage.setItem("rag_config",JSON.stringify(n)),window.dispatchEvent(new Event("rag_config_updated")),h){console.log("📊 User authenticated - ensuring spreadsheet exists...");const i=await a();i?(console.log("✅ Spreadsheet ready:",i),o("RAG settings saved! Your embeddings will sync to Google Sheets when you connect Google Drive.")):(console.warn("⚠️ Failed to get spreadsheet ID"),l("Settings saved. Connect Google Drive in Cloud Sync tab to enable automatic backup."))}else o("RAG settings saved successfully");w(!1)}catch(i){console.error("Failed to save RAG config:",i),s("Failed to save RAG settings")}finally{t(!1)}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-2",children:"🧠 RAG (Retrieval-Augmented Generation)"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Enable semantic search over your saved snippets using embeddings. Enhances LLM responses with relevant context from your content."})]}),e.jsx("div",{className:"card p-4",children:e.jsxs("label",{className:"flex items-center justify-between cursor-pointer",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900 dark:text-gray-100",children:"Enable RAG System"}),e.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Automatically search your snippets when asking questions"})]}),e.jsx("input",{type:"checkbox",checked:n.enabled,onChange:i=>b("enabled",i.target.checked),className:"w-5 h-5 text-blue-600 rounded focus:ring-2 focus:ring-blue-500"})]})}),e.jsx("div",{className:"card p-4",children:e.jsxs("label",{className:"flex items-center justify-between cursor-pointer",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900 dark:text-gray-100",children:"Auto-Embed New Snippets"}),e.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Automatically generate embeddings when saving snippets"})]}),e.jsx("input",{type:"checkbox",checked:n.autoEmbed,onChange:i=>b("autoEmbed",i.target.checked),disabled:!n.enabled,className:"w-5 h-5 text-blue-600 rounded focus:ring-2 focus:ring-blue-500 disabled:opacity-50"})]})}),e.jsxs("div",{className:"card p-4",children:[e.jsx("label",{className:"block mb-2",children:e.jsx("span",{className:"font-medium text-gray-900 dark:text-gray-100",children:"Embedding Model"})}),e.jsx("select",{value:n.embeddingModel,onChange:i=>{const m=K.find(N=>N.name===i.target.value);m&&(b("embeddingModel",m.name),b("embeddingProvider",m.provider))},disabled:!n.enabled,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 disabled:opacity-50",children:K.map(i=>e.jsxs("option",{value:i.name,children:[i.name," (",i.cost,") ",i.recommended?"⭐ Recommended":""]},i.name))}),e.jsx("p",{className:"text-xs text-yellow-600 dark:text-yellow-400 mt-2",children:"⚠️ Changing models requires re-embedding all content"})]}),e.jsxs("div",{className:"card p-4 space-y-4",children:[e.jsx("h4",{className:"font-medium text-gray-900 dark:text-gray-100",children:"Chunking Settings"}),e.jsxs("div",{children:[e.jsx("label",{className:"block mb-2",children:e.jsxs("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:["Chunk Size: ",n.chunkSize||1e3," characters (≈",Math.round((n.chunkSize||1e3)/4)," tokens)"]})}),e.jsx("input",{type:"range",min:"500",max:"2000",step:"100",value:n.chunkSize||1e3,onChange:i=>b("chunkSize",parseInt(i.target.value)),disabled:!n.enabled,className:"w-full disabled:opacity-50"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block mb-2",children:e.jsxs("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:["Chunk Overlap: ",n.chunkOverlap||200," characters (",Math.round((n.chunkOverlap||200)/(n.chunkSize||1e3)*100),"%)"]})}),e.jsx("input",{type:"range",min:"0",max:"500",step:"50",value:n.chunkOverlap||200,onChange:i=>b("chunkOverlap",parseInt(i.target.value)),disabled:!n.enabled,className:"w-full disabled:opacity-50"})]})]}),e.jsxs("div",{className:"card p-4 space-y-4",children:[e.jsx("h4",{className:"font-medium text-gray-900 dark:text-gray-100",children:"Search Settings"}),e.jsxs("div",{children:[e.jsx("label",{className:"block mb-2",children:e.jsxs("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:["Top-K Results: ",n.topK||5]})}),e.jsx("input",{type:"range",min:"1",max:"20",step:"1",value:n.topK||5,onChange:i=>b("topK",parseInt(i.target.value)),disabled:!n.enabled,className:"w-full disabled:opacity-50"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block mb-2",children:e.jsxs("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:["Similarity Threshold: ",(n.similarityThreshold||.3).toFixed(2)]})}),e.jsx("input",{type:"range",min:"0.3",max:"0.95",step:"0.05",value:n.similarityThreshold||.3,onChange:i=>b("similarityThreshold",parseFloat(i.target.value)),disabled:!n.enabled,className:"w-full disabled:opacity-50"})]})]}),e.jsx("div",{className:"flex gap-3",children:e.jsx("button",{onClick:v,disabled:!f||p,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:p?"Saving...":"Save Settings"})}),e.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 space-y-1",children:[e.jsxs("p",{children:["💡 ",e.jsx("strong",{children:"Tip:"})," Start with default settings (text-embedding-3-small, 1000 char chunks, 200 overlap)"]}),e.jsxs("p",{children:["📖 ",e.jsx("strong",{children:"Learn more:"})," Check src/rag/README.md for detailed documentation"]})]})]})},V="LLM Proxy App Data",O="saved_plans.json",U="saved_playlists.json",H="sync_metadata.json";let R=null;class be{async isAuthenticated(){try{const s=localStorage.getItem("google_access_token");return s?(await fetch("https://www.googleapis.com/drive/v3/about?fields=user",{headers:{Authorization:`Bearer ${s}`}})).ok:!1}catch(s){return console.error("Error checking authentication:",s),!1}}async getAppFolder(){if(R)return R;const s=await G(),l=await fetch(`https://www.googleapis.com/drive/v3/files?q=name='${V}' and mimeType='application/vnd.google-apps.folder' and trashed=false`,{headers:{Authorization:`Bearer ${s}`}});if(!l.ok)throw new Error("Failed to search for app folder");const a=await l.json();if(a.files&&a.files.length>0)return R=a.files[0].id,a.files[0].id;const h=await fetch("https://www.googleapis.com/drive/v3/files",{method:"POST",headers:{Authorization:`Bearer ${s}`,"Content-Type":"application/json"},body:JSON.stringify({name:V,mimeType:"application/vnd.google-apps.folder"})});if(!h.ok)throw new Error("Failed to create app folder");const n=await h.json();return R=n.id,n.id}async uploadFile(s,l){const a=await G(),h=await this.getAppFolder(),n=await fetch(`https://www.googleapis.com/drive/v3/files?q=name='${s}' and '${h}' in parents and trashed=false`,{headers:{Authorization:`Bearer ${a}`}});if(!n.ok)throw new Error(`Failed to search for file: ${s}`);const d=await n.json();if(d.files&&d.files.length>0){const p=d.files[0].id;if(!(await fetch(`https://www.googleapis.com/upload/drive/v3/files/${p}?uploadType=media`,{method:"PATCH",headers:{Authorization:`Bearer ${a}`,"Content-Type":"application/json"},body:l})).ok)throw new Error(`Failed to update file: ${s}`)}else{const p={name:s,parents:[h]},t=new FormData;if(t.append("metadata",new Blob([JSON.stringify(p)],{type:"application/json"})),t.append("file",new Blob([l],{type:"application/json"})),!(await fetch("https://www.googleapis.com/upload/drive/v3/files?uploadType=multipart",{method:"POST",headers:{Authorization:`Bearer ${a}`},body:t})).ok)throw new Error(`Failed to create file: ${s}`)}}async downloadFile(s){try{const l=await G(),a=await this.getAppFolder(),h=await fetch(`https://www.googleapis.com/drive/v3/files?q=name='${s}' and '${a}' in parents and trashed=false`,{headers:{Authorization:`Bearer ${l}`}});if(!h.ok)throw new Error(`Failed to search for file: ${s}`);const n=await h.json();if(!n.files||n.files.length===0)return null;const d=n.files[0].id,p=await fetch(`https://www.googleapis.com/drive/v3/files/${d}?alt=media`,{headers:{Authorization:`Bearer ${l}`}});if(!p.ok)throw new Error(`Failed to download file: ${s}`);return await p.text()}catch(l){return console.error(`Error downloading file ${s}:`,l),null}}async syncPlans(){try{const s=await B(),l=s.length>0?Math.max(...s.map(d=>d.timestamp)):0,a=await this.downloadFile(O);if(!a)return s.length>0?(await this.uploadPlans(s),await this.updateSyncMetadata("plans",s.length),{success:!0,action:"uploaded",timestamp:Date.now(),itemCount:s.length}):{success:!0,action:"no-change",timestamp:Date.now(),itemCount:0};const h=JSON.parse(a),n=h.length>0?Math.max(...h.map(d=>d.timestamp)):0;return n>l?(await this.mergePlans(h),await this.updateSyncMetadata("plans",h.length),{success:!0,action:"downloaded",timestamp:Date.now(),itemCount:h.length}):l>n?(await this.uploadPlans(s),await this.updateSyncMetadata("plans",s.length),{success:!0,action:"uploaded",timestamp:Date.now(),itemCount:s.length}):{success:!0,action:"no-change",timestamp:Date.now(),itemCount:s.length}}catch(s){return console.error("Error syncing plans:",s),{success:!1,action:"error",timestamp:Date.now(),itemCount:0,error:s instanceof Error?s.message:"Unknown error"}}}async uploadPlans(s){const l=JSON.stringify(s,null,2);await this.uploadFile(O,l)}async downloadPlans(){const s=await this.downloadFile(O);return s?JSON.parse(s):[]}async mergePlans(s){const l=await B(),a=new Map;l.forEach(n=>{const d=n.query.trim().toLowerCase();a.set(d,n)}),s.forEach(n=>{const d=n.query.trim().toLowerCase(),p=a.get(d);(!p||n.timestamp>p.timestamp)&&a.set(d,n)});const h=Array.from(a.values()).sort((n,d)=>d.timestamp-n.timestamp).slice(0,50);await ne();for(const n of h)await ie(n.query,n.plan,n.systemPrompt,n.userPrompt)}async syncPlaylists(){try{await $.init();const s=await $.exportAllPlaylists(),l=s.length>0?Math.max(...s.map(d=>d.updatedAt)):0,a=await this.downloadFile(U);if(!a)return s.length>0?(await this.uploadPlaylists(s),await this.updateSyncMetadata("playlists",s.length),{success:!0,action:"uploaded",timestamp:Date.now(),itemCount:s.length}):{success:!0,action:"no-change",timestamp:Date.now(),itemCount:0};const h=JSON.parse(a),n=h.length>0?Math.max(...h.map(d=>d.updatedAt)):0;if(n>l){const d=await $.importAndMergePlaylists(h);return await this.updateSyncMetadata("playlists",d),{success:!0,action:"downloaded",timestamp:Date.now(),itemCount:d}}else return l>n?(await this.uploadPlaylists(s),await this.updateSyncMetadata("playlists",s.length),{success:!0,action:"uploaded",timestamp:Date.now(),itemCount:s.length}):{success:!0,action:"no-change",timestamp:Date.now(),itemCount:s.length}}catch(s){return console.error("Error syncing playlists:",s),{success:!1,action:"error",timestamp:Date.now(),itemCount:0,error:s instanceof Error?s.message:"Unknown error"}}}async uploadPlaylists(s){const l=JSON.stringify(s,null,2);await this.uploadFile(U,l)}async downloadPlaylists(){const s=await this.downloadFile(U);return s?JSON.parse(s):[]}async syncAll(){const[s,l]=await Promise.all([this.syncPlans(),this.syncPlaylists()]);return{plans:s,playlists:l}}async getLastSyncTime(){return(await this.getSyncMetadata()).lastSyncTime}async getSyncMetadata(){const s=await this.downloadFile(H);return s?JSON.parse(s):{lastSyncTime:0,lastPlansSync:0,lastPlaylistsSync:0,plansCount:0,playlistsCount:0}}async updateSyncMetadata(s,l){const a=await this.getSyncMetadata();a.lastSyncTime=Date.now(),s==="plans"?(a.lastPlansSync=Date.now(),a.plansCount=l):(a.lastPlaylistsSync=Date.now(),a.playlistsCount=l);const h=JSON.stringify(a,null,2);await this.uploadFile(H,h)}}const J=new be,ye=({onClose:o})=>{const[s,l]=g.useState(!1),[a,h]=g.useState(!1),[n,d]=g.useState(null),[p,t]=g.useState(null),[f,w]=g.useState(!1),[S,b]=g.useState(null),[v,i]=g.useState(0),[m,N]=g.useState({plansCount:0,playlistsCount:0}),[P,L]=g.useState(localStorage.getItem("auto_sync_enabled")==="true");g.useEffect(()=>{const r=localStorage.getItem("google_drive_access_token"),y=localStorage.getItem("user_email");r&&r.length>0&&(l(!0),t(y),c())},[]);const c=async()=>{try{const r=await J.getSyncMetadata();i(r.lastSyncTime),N({plansCount:r.plansCount,playlistsCount:r.playlistsCount})}catch(r){console.error("Failed to load sync metadata:",r)}},M=async()=>{w(!0),b(null),d(null);try{const r=await J.syncAll(),y=[];r.plans.action==="uploaded"?y.push(`Uploaded ${r.plans.itemCount} plan(s)`):r.plans.action==="downloaded"&&y.push(`Downloaded ${r.plans.itemCount} plan(s)`),r.playlists.action==="uploaded"?y.push(`Uploaded ${r.playlists.itemCount} playlist(s)`):r.playlists.action==="downloaded"&&y.push(`Downloaded ${r.playlists.itemCount} playlist(s)`),y.length===0?b("Everything is up to date"):b(y.join(", ")),await c(),console.log("✅ Sync completed:",r)}catch(r){d(r.message||"Sync failed"),console.error("Sync error:",r)}finally{w(!1)}},j=()=>{const r=!P;L(r),localStorage.setItem("auto_sync_enabled",String(r))},E=r=>{if(r===0)return"Never";const k=Date.now()-r;return k<6e4?"Just now":k<36e5?`${Math.floor(k/6e4)} minutes ago`:k<864e5?`${Math.floor(k/36e5)} hours ago`:`${Math.floor(k/864e5)} days ago`},u=async()=>{h(!0),d(null);try{if(!window.google?.accounts?.oauth2)throw new Error("Google Identity Services not loaded. Please refresh the page.");const r=void 0;if(!r)throw new Error("Google Client ID not configured. Please set VITE_GOOGLE_CLIENT_ID in ui-new/.env");window.google.accounts.oauth2.initTokenClient({client_id:r,scope:"https://www.googleapis.com/auth/drive.file",callback:k=>{if(k.error){d(`Authentication failed: ${k.error}`),h(!1);return}if(k.access_token){const D=k.access_token.trim().replace(/[\r\n]/g,"");if(localStorage.setItem("google_drive_access_token",D),k.id_token)try{const _=k.id_token.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),T=decodeURIComponent(atob(_).split("").map(x=>"%"+("00"+x.charCodeAt(0).toString(16)).slice(-2)).join("")),F=JSON.parse(T);F.email&&(localStorage.setItem("user_email",F.email),t(F.email))}catch(I){console.error("Failed to decode ID token:",I)}l(!0),h(!1),console.log("✅ Successfully authenticated with Google Drive"),window.dispatchEvent(new CustomEvent("billing-settings-changed"))}},error_callback:k=>{d(`Authentication error: ${k.message||"Unknown error"}`),h(!1)}}).requestAccessToken({prompt:"consent"})}catch(r){d(r.message||"Failed to authenticate with Google"),h(!1)}},C=()=>{localStorage.removeItem("google_drive_access_token"),localStorage.removeItem("user_email"),l(!1),t(null),d(null)};return e.jsxs("div",{className:"cloud-sync-settings",children:[e.jsx("h2",{children:"Cloud Sync Settings"}),e.jsxs("div",{className:"auth-section",children:[e.jsx("h3",{children:"Google Drive Authentication"}),s?e.jsxs("div",{className:"auth-status",children:[e.jsxs("div",{className:"connected-info",children:[e.jsx("span",{className:"status-indicator",children:"✓"}),e.jsxs("div",{children:[e.jsx("strong",{children:"Connected"}),p&&e.jsx("div",{className:"user-email",children:p})]})]}),e.jsx("button",{onClick:C,className:"disconnect-button",children:"Disconnect"})]}):e.jsxs("div",{className:"auth-prompt",children:[e.jsx("p",{children:"Connect your Google account to enable automatic cloud synchronization of your settings, API keys, SWAG content, and usage logs."}),e.jsxs("p",{className:"mt-2 text-sm text-gray-600 dark:text-gray-400",children:[e.jsx("strong",{children:"Note:"})," All sync features are automatically enabled when you connect your Google account. No additional configuration needed!"]}),e.jsx("button",{onClick:u,disabled:a,className:"google-auth-button",children:a?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"spinner"}),"Connecting..."]}):e.jsxs(e.Fragment,{children:[e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 18 18",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("path",{fill:"#4285F4",d:"M17.64 9.2c0-.637-.057-1.251-.164-1.84H9v3.481h4.844c-.209 1.125-.843 2.078-1.796 2.717v2.258h2.908c1.702-1.567 2.684-3.874 2.684-6.615z"}),e.jsx("path",{fill:"#34A853",d:"M9.003 18c2.43 0 4.467-.806 5.956-2.184l-2.908-2.258c-.806.54-1.837.86-3.048.86-2.344 0-4.328-1.584-5.036-3.711H.957v2.332C2.438 15.983 5.482 18 9.003 18z"}),e.jsx("path",{fill:"#FBBC05",d:"M3.964 10.71c-.18-.54-.282-1.117-.282-1.71s.102-1.17.282-1.71V4.958H.957C.347 6.173 0 7.548 0 9s.348 2.827.957 4.042l3.007-2.332z"}),e.jsx("path",{fill:"#EA4335",d:"M9.003 3.58c1.321 0 2.508.454 3.44 1.345l2.582-2.58C13.464.891 11.428 0 9.003 0 5.482 0 2.438 2.017.957 4.958L3.964 7.29c.708-2.127 2.692-3.71 5.036-3.71z"})]}),"Connect to Google Drive"]})}),n&&e.jsxs("div",{className:"error-message",children:[e.jsx("strong",{children:"Error:"})," ",n]})]})]}),s&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"card p-4 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-700 mt-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("span",{className:"text-2xl",children:"☁️"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-semibold text-blue-900 dark:text-blue-100 mb-3",children:"Plans & Playlists Sync"}),e.jsxs("div",{className:"text-sm text-blue-700 dark:text-blue-300 space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{children:"Last synced:"}),e.jsx("strong",{children:E(v)})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{children:"Saved plans:"}),e.jsxs("strong",{children:[m.plansCount," items"]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{children:"Saved playlists:"}),e.jsxs("strong",{children:[m.playlistsCount," items"]})]}),S&&e.jsxs("div",{className:"p-2 bg-green-100 dark:bg-green-800 rounded text-green-800 dark:text-green-100",children:["✓ ",S]}),e.jsx("div",{className:"flex gap-2 mt-3",children:e.jsx("button",{onClick:M,disabled:f,className:"flex-1 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded disabled:opacity-50 disabled:cursor-not-allowed",children:f?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"inline-block animate-spin mr-2",children:"🔄"}),"Syncing..."]}):e.jsx(e.Fragment,{children:"🔄 Sync Now"})})}),e.jsxs("div",{className:"flex items-center gap-2 mt-3 p-2 bg-blue-100 dark:bg-blue-800 rounded",children:[e.jsx("input",{type:"checkbox",id:"auto-sync",checked:P,onChange:j,className:"w-4 h-4"}),e.jsx("label",{htmlFor:"auto-sync",className:"cursor-pointer",children:"Auto-sync every 5 minutes"})]})]})]})]})}),e.jsx("div",{className:"card p-4 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-700 mt-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("span",{className:"text-2xl",children:"✅"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-semibold text-green-900 dark:text-green-100 mb-2",children:"Cloud Sync Enabled"}),e.jsxs("div",{className:"text-sm text-green-700 dark:text-green-300 space-y-1",children:[e.jsx("p",{children:"All sync features are now active:"}),e.jsxs("ul",{className:"list-disc ml-5 mt-2 space-y-1",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Settings & Preferences:"})," Automatically synced across devices"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"API Keys (SWAG):"})," Securely backed up to your Google Drive"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"RAG Content:"})," Snippets and embeddings synced to Google Sheets"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Usage Logs:"})," Billing and transaction history backed up"]})]})]})]})]})})]})]})},ve=({isOpen:o,onClose:s,enabledTools:l,setEnabledTools:a,onOpenMCPDialog:h})=>{const n=oe(o,s),{settings:d,setSettings:p}=Y(),{t,i18n:f}=de(),{isConnected:w,isLoading:S,error:b,initiateOAuthFlow:v,disconnect:i}=ce(),{location:m,isLoading:N,error:P,permissionState:L,requestLocation:c,clearLocation:M}=xe(),[j,E]=g.useState("general"),[u,C]=g.useState(!1),[r,y]=g.useState(""),[k,D]=g.useState(""),[I,_]=g.useState(!1);g.useEffect(()=>{const x=localStorage.getItem("proxy_settings");if(x)try{const A=JSON.parse(x);y(A.username||""),D(A.password||""),_(A.enabled!==!1)}catch(A){console.error("Failed to parse proxy settings:",A)}},[o]);const T=(x,A,W)=>{localStorage.setItem("proxy_settings",JSON.stringify({username:x,password:A,enabled:W}))},F=x=>{f.changeLanguage(x),p({...d,language:x})};return o?e.jsx(ge.FocusTrap,{active:o,children:e.jsx("div",{ref:n,className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 p-4",children:e.jsxs("div",{className:"card max-w-2xl w-full max-h-[90vh] overflow-y-auto p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:t("settings.title")}),e.jsx("button",{onClick:s,className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200","aria-label":t("common.close"),children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsxs("div",{className:"flex border-b border-gray-200 dark:border-gray-700 mb-6 overflow-x-auto",children:[e.jsxs("button",{onClick:()=>E("general"),className:`px-6 py-3 text-sm font-medium transition-colors border-b-2 whitespace-nowrap ${j==="general"?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300"}`,children:["⚙️ ",t("settings.tabs.general")]}),e.jsxs("button",{onClick:()=>E("provider"),className:`px-6 py-3 text-sm font-medium transition-colors border-b-2 whitespace-nowrap ${j==="provider"?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300"}`,children:["🔌 ",t("settings.tabs.provider")]}),e.jsxs("button",{onClick:()=>E("cloud"),className:`px-6 py-3 text-sm font-medium transition-colors border-b-2 ${j==="cloud"?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300"}`,children:["☁️ ",t("settings.tabs.cloud")]}),e.jsxs("button",{onClick:()=>E("tools"),className:`px-6 py-3 text-sm font-medium transition-colors border-b-2 ${j==="tools"?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300"}`,children:["🛠️ ",t("settings.tabs.tools")]}),e.jsxs("button",{onClick:()=>E("proxy"),className:`px-6 py-3 text-sm font-medium transition-colors border-b-2 ${j==="proxy"?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300"}`,children:["🌐 ",t("settings.tabs.proxy")]}),e.jsxs("button",{onClick:()=>E("location"),className:`px-6 py-3 text-sm font-medium transition-colors border-b-2 ${j==="location"?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300"}`,children:["📍 ",t("settings.tabs.location")]}),e.jsxs("button",{onClick:()=>E("tts"),className:`px-6 py-3 text-sm font-medium transition-colors border-b-2 ${j==="tts"?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300"}`,children:["🔊 ",t("settings.tabs.tts")]}),e.jsxs("button",{onClick:()=>E("rag"),className:`px-6 py-3 text-sm font-medium transition-colors border-b-2 ${j==="rag"?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300"}`,children:["🧠 ",t("settings.tabs.rag")]})]}),j==="general"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-2",children:t("settings.general")}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:t("settings.generalDescription")})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["🌍 ",t("settings.language")]}),e.jsxs("select",{value:d.language||"en",onChange:x=>F(x.target.value),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[e.jsxs("option",{value:"en",children:["🇬🇧 ",t("languages.en")," - English"]}),e.jsxs("option",{value:"es",children:["🇪🇸 ",t("languages.es")," - Spanish"]}),e.jsxs("option",{value:"fr",children:["🇫🇷 ",t("languages.fr")," - French"]}),e.jsxs("option",{value:"de",children:["🇩🇪 ",t("languages.de")," - German"]}),e.jsxs("option",{value:"nl",children:["🇳🇱 ",t("languages.nl")," - Dutch"]}),e.jsxs("option",{value:"pt",children:["🇵🇹 ",t("languages.pt")," - Portuguese"]}),e.jsxs("option",{value:"ru",children:["🇷🇺 ",t("languages.ru")," - Russian"]}),e.jsxs("option",{value:"zh",children:["🇨🇳 ",t("languages.zh")," - Chinese"]}),e.jsxs("option",{value:"ja",children:["🇯🇵 ",t("languages.ja")," - Japanese"]}),e.jsxs("option",{value:"ar",children:["🇸🇦 ",t("languages.ar")," - Arabic"]})]}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:t("settings.languageHelp")})]})]}),j==="provider"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"mb-4",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-2",children:["⚡ ",t("settings.providerCredentials")]}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:t("settings.providerDescription")})]}),e.jsx(he,{onEditingChange:C}),!u&&e.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-6 mt-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-2",children:["🎯 ",t("settings.modelSelectionStrategy")]}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-4",children:t("settings.modelStrategyDescription")}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:"flex items-start gap-3 cursor-pointer p-4 rounded-lg border-2 transition-all hover:border-blue-300 dark:hover:border-blue-700 has-[:checked]:border-blue-500 dark:has-[:checked]:border-blue-400 has-[:checked]:bg-blue-50 dark:has-[:checked]:bg-blue-900/20",children:[e.jsx("input",{type:"radio",name:"optimization",value:"cheap",checked:(d.optimization||"cheap")==="cheap",onChange:x=>p({...d,optimization:x.target.value}),className:"mt-1 w-4 h-4 text-blue-600 focus:ring-2 focus:ring-blue-500"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"font-medium text-gray-900 dark:text-gray-100 mb-1",children:["💰 ",t("settings.cheap")]}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:t("settings.cheapDescription")})]})]}),e.jsxs("label",{className:"flex items-start gap-3 cursor-pointer p-4 rounded-lg border-2 transition-all hover:border-blue-300 dark:hover:border-blue-700 has-[:checked]:border-blue-500 dark:has-[:checked]:border-blue-400 has-[:checked]:bg-blue-50 dark:has-[:checked]:bg-blue-900/20",children:[e.jsx("input",{type:"radio",name:"optimization",value:"balanced",checked:d.optimization==="balanced",onChange:x=>p({...d,optimization:x.target.value}),className:"mt-1 w-4 h-4 text-blue-600 focus:ring-2 focus:ring-blue-500"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"font-medium text-gray-900 dark:text-gray-100 mb-1",children:["⚖️ ",t("settings.balanced")]}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:t("settings.balancedDescription")})]})]}),e.jsxs("label",{className:"flex items-start gap-3 cursor-pointer p-4 rounded-lg border-2 transition-all hover:border-blue-300 dark:hover:border-blue-700 has-[:checked]:border-blue-500 dark:has-[:checked]:border-blue-400 has-[:checked]:bg-blue-50 dark:has-[:checked]:bg-blue-900/20",children:[e.jsx("input",{type:"radio",name:"optimization",value:"powerful",checked:d.optimization==="powerful",onChange:x=>p({...d,optimization:x.target.value}),className:"mt-1 w-4 h-4 text-blue-600 focus:ring-2 focus:ring-blue-500"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"font-medium text-gray-900 dark:text-gray-100 mb-1",children:["💪 ",t("settings.powerful")]}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:t("settings.powerfulDescription")})]})]}),e.jsxs("label",{className:"flex items-start gap-3 cursor-pointer p-4 rounded-lg border-2 transition-all hover:border-blue-300 dark:hover:border-blue-700 has-[:checked]:border-blue-500 dark:has-[:checked]:border-blue-400 has-[:checked]:bg-blue-50 dark:has-[:checked]:bg-blue-900/20",children:[e.jsx("input",{type:"radio",name:"optimization",value:"fastest",checked:d.optimization==="fastest",onChange:x=>p({...d,optimization:x.target.value}),className:"mt-1 w-4 h-4 text-blue-600 focus:ring-2 focus:ring-blue-500"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"font-medium text-gray-900 dark:text-gray-100 mb-1",children:["⚡ ",t("settings.fastest")]}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:t("settings.fastestDescription")})]})]})]})]})]}),j==="tools"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:t("settings.tavilyApiKey")}),e.jsx("input",{type:"password",value:d.tavilyApiKey,onChange:x=>p({...d,tavilyApiKey:x.target.value}),className:"input-field",placeholder:t("settings.tavilyPlaceholder")}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:t("settings.tavilyHelp")})]}),e.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-6 mt-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-4",children:t("settings.enabledTools")}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:"flex items-center gap-3 cursor-pointer p-3 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors",children:[e.jsx("input",{type:"checkbox",checked:l.web_search,onChange:x=>a({...l,web_search:x.target.checked}),className:"w-5 h-5 text-blue-600 rounded focus:ring-2 focus:ring-blue-500"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"font-medium text-gray-900 dark:text-gray-100",children:["🔍 ",t("settings.webSearch")]}),e.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:t("settings.webSearchDescription")})]})]}),e.jsxs("label",{className:"flex items-center gap-3 cursor-pointer p-3 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors",children:[e.jsx("input",{type:"checkbox",checked:l.execute_js,onChange:x=>a({...l,execute_js:x.target.checked}),className:"w-5 h-5 text-blue-600 rounded focus:ring-2 focus:ring-blue-500"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"font-medium text-gray-900 dark:text-gray-100",children:["⚡ ",t("settings.executeJs")]}),e.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:t("settings.executeJsDescription")})]})]}),e.jsxs("label",{className:"flex items-center gap-3 cursor-pointer p-3 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors",children:[e.jsx("input",{type:"checkbox",checked:l.scrape_url,onChange:x=>a({...l,scrape_url:x.target.checked}),className:"w-5 h-5 text-blue-600 rounded focus:ring-2 focus:ring-blue-500"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"font-medium text-gray-900 dark:text-gray-100",children:["🌐 ",t("settings.scrapeUrl")]}),e.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:t("settings.scrapeUrlDescription")})]})]}),e.jsxs("label",{className:"flex items-center gap-3 cursor-pointer p-3 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors",children:[e.jsx("input",{type:"checkbox",checked:l.youtube,onChange:x=>a({...l,youtube:x.target.checked}),className:"w-5 h-5 text-blue-600 rounded focus:ring-2 focus:ring-blue-500"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"font-medium text-gray-900 dark:text-gray-100",children:["🎬 ",t("settings.youtubeSearch")]}),e.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:t("settings.youtubeDescription")})]})]}),e.jsxs("label",{className:"flex items-center gap-3 cursor-pointer p-3 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors",children:[e.jsx("input",{type:"checkbox",checked:l.transcribe,onChange:x=>a({...l,transcribe:x.target.checked}),className:"w-5 h-5 text-blue-600 rounded focus:ring-2 focus:ring-blue-500"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"font-medium text-gray-900 dark:text-gray-100",children:["🎙️ ",t("settings.transcribe")]}),e.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:t("settings.transcribeDescription")})]})]}),e.jsxs("label",{className:"flex items-center gap-3 cursor-pointer p-3 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors",children:[e.jsx("input",{type:"checkbox",checked:l.generate_chart,onChange:x=>a({...l,generate_chart:x.target.checked}),className:"w-5 h-5 text-blue-600 rounded focus:ring-2 focus:ring-blue-500"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"font-medium text-gray-900 dark:text-gray-100",children:["📊 ",t("settings.generateChart")]}),e.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:t("settings.chartDescription")})]})]}),e.jsxs("label",{className:"flex items-center gap-3 cursor-pointer p-3 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors",children:[e.jsx("input",{type:"checkbox",checked:l.generate_image,onChange:x=>a({...l,generate_image:x.target.checked}),className:"w-5 h-5 text-blue-600 rounded focus:ring-2 focus:ring-blue-500"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"font-medium text-gray-900 dark:text-gray-100",children:["🎨 ",t("settings.generateImage")]}),e.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:t("settings.imageDescription")})]})]}),e.jsxs("label",{className:"flex items-center gap-3 cursor-pointer p-3 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors",children:[e.jsx("input",{type:"checkbox",checked:l.search_knowledge_base,onChange:x=>a({...l,search_knowledge_base:x.target.checked}),className:"w-5 h-5 text-blue-600 rounded focus:ring-2 focus:ring-blue-500"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"font-medium text-gray-900 dark:text-gray-100",children:["📚 ",t("settings.searchKnowledgeBase")]}),e.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:t("settings.ragDescription")})]})]}),e.jsxs("label",{className:"flex items-center gap-3 cursor-pointer p-3 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors",children:[e.jsx("input",{type:"checkbox",checked:l.manage_todos,onChange:x=>a({...l,manage_todos:x.target.checked}),className:"w-5 h-5 text-blue-600 rounded focus:ring-2 focus:ring-blue-500"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"font-medium text-gray-900 dark:text-gray-100",children:["✅ ",t("settings.manageTodos")]}),e.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:t("settings.todosDescription")})]})]}),e.jsxs("label",{className:"flex items-center gap-3 cursor-pointer p-3 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors",children:[e.jsx("input",{type:"checkbox",checked:l.manage_snippets,onChange:x=>a({...l,manage_snippets:x.target.checked}),className:"w-5 h-5 text-blue-600 rounded focus:ring-2 focus:ring-blue-500"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"font-medium text-gray-900 dark:text-gray-100",children:["📝 ",t("settings.manageSnippets")]}),e.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:t("settings.snippetsDescription")})]})]}),e.jsxs("label",{className:"flex items-center gap-3 cursor-pointer p-4 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors border-2 border-amber-200 dark:border-amber-900/50 bg-amber-50 dark:bg-amber-900/10",children:[e.jsx("input",{type:"checkbox",checked:l.ask_llm,onChange:x=>a({...l,ask_llm:x.target.checked}),className:"w-5 h-5 text-blue-600 rounded focus:ring-2 focus:ring-blue-500"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"font-medium text-gray-900 dark:text-gray-100 flex items-center gap-2",children:["🤖 ",t("settings.askLlm"),e.jsx("span",{className:"inline-flex items-center px-2 py-0.5 text-xs font-medium text-amber-700 bg-amber-200 dark:bg-amber-900/50 dark:text-amber-400 rounded-full",children:"⚠️ HIGH TOKEN USAGE"})]}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-300 font-medium mb-1",children:t("settings.askLlmDescription")}),e.jsxs("div",{className:"text-xs text-amber-700 dark:text-amber-400 bg-amber-100 dark:bg-amber-900/30 p-2 rounded border border-amber-300 dark:border-amber-800",children:[e.jsx("strong",{children:"WARNING:"})," This tool creates complete recursive conversations with all available tools and multiple iterations. Can consume ",e.jsx("strong",{children:"5-10x more tokens"})," than direct responses. Use ONLY for complex queries requiring multiple steps with different tools. Limited to 5 iterations with token budget safeguards."]})]})]}),e.jsxs("label",{className:"flex items-center gap-3 cursor-pointer p-4 rounded-lg hover:bg-red-50 dark:hover:bg-red-950/30 transition-colors border-3 border-red-400 dark:border-red-900 bg-red-50 dark:bg-red-950/20 shadow-md",children:[e.jsx("input",{type:"checkbox",checked:l.generate_reasoning_chain,onChange:x=>a({...l,generate_reasoning_chain:x.target.checked}),className:"w-5 h-5 text-blue-600 rounded focus:ring-2 focus:ring-red-500"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"font-medium text-gray-900 dark:text-gray-100 flex items-center gap-2",children:["🧠 ",t("settings.generateReasoning"),e.jsx("span",{className:"inline-flex items-center px-2 py-0.5 text-xs font-bold text-red-800 bg-red-300 dark:bg-red-900/70 dark:text-red-300 rounded-full animate-pulse",children:"⚠️⚠️ EXTREME TOKEN USAGE"})]}),e.jsx("div",{className:"text-sm text-gray-700 dark:text-gray-200 font-semibold mb-1",children:t("settings.reasoningDescription")}),e.jsxs("div",{className:"text-xs text-red-800 dark:text-red-300 bg-red-100 dark:bg-red-950/50 p-3 rounded border-2 border-red-400 dark:border-red-800 space-y-1",children:[e.jsx("div",{className:"font-bold text-sm mb-2",children:"🚨 CRITICAL WARNINGS:"}),e.jsxs("div",{children:["• Can consume ",e.jsx("strong",{className:"text-red-900 dark:text-red-200",children:"10-50x MORE tokens"})," than normal responses"]}),e.jsxs("div",{children:["• Uses ",e.jsx("strong",{children:"maximum reasoning depth"})," - models think extensively before responding"]}),e.jsxs("div",{children:["• May trigger ",e.jsx("strong",{children:"PARALLEL ASYNCHRONOUS TOOL CALLS"})," causing rapid token consumption"]}),e.jsxs("div",{children:["• Reasoning models charge for ",e.jsx("strong",{children:"both reasoning AND output tokens"})]}),e.jsxs("div",{className:"mt-2 pt-2 border-t border-red-300 dark:border-red-800",children:[e.jsx("strong",{children:"USE ONLY FOR:"})," Complex problems requiring deep logical analysis, multi-step proofs, mathematical derivations, or strategic planning where explicit reasoning transparency is essential."]})]})]})]})]})]}),e.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-6 mt-6",children:[e.jsx("div",{className:"mb-4",children:e.jsxs("label",{className:"flex items-center gap-3 cursor-pointer p-3 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors",children:[e.jsx("input",{type:"checkbox",checked:w,onChange:x=>{x.preventDefault()},className:"w-5 h-5 text-blue-600 rounded focus:ring-2 focus:ring-blue-500"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-medium text-gray-900 dark:text-gray-100",children:"📺 Use YouTube Captions API"}),e.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Direct access to YouTube transcripts (faster than Whisper transcription)"})]}),w&&e.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 text-xs font-medium text-green-700 bg-green-100 dark:bg-green-900/30 dark:text-green-400 rounded-full",children:[e.jsx("svg",{className:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),"Connected"]})]})}),!w&&e.jsxs("div",{className:"ml-11 mb-4",children:[e.jsx("button",{onClick:v,disabled:S,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed rounded-lg transition-colors",children:S?"Connecting...":"Connect YouTube Account"}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-2",children:"Requires Google account authorization (read-only access)"})]}),w&&e.jsx("div",{className:"ml-11 mb-4",children:e.jsx("button",{onClick:()=>{confirm("Are you sure you want to disconnect YouTube access?")&&i()},className:"px-4 py-2 text-sm font-medium text-red-600 hover:text-red-700 dark:text-red-400 dark:hover:text-red-300 border border-red-300 dark:border-red-700 rounded-lg transition-colors",children:"Disconnect YouTube Access"})}),b&&e.jsxs("div",{className:"ml-11 mb-4 text-sm text-red-600 dark:text-red-400 flex items-start gap-2",children:[e.jsx("svg",{className:"w-4 h-4 flex-shrink-0 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),e.jsx("span",{children:b})]})]}),e.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-6 mt-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"MCP Servers"}),e.jsx("button",{onClick:()=>{h(),s()},className:"btn-secondary text-sm px-4 py-2",title:"Configure Model Context Protocol Servers",children:"➕ Configure MCP"})]}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Add and manage Model Context Protocol servers for extended functionality"})]})]}),j==="proxy"&&e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-2 text-gray-900 dark:text-gray-100",children:t("settings.proxySettings")}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-4",children:t("settings.proxyDescription")}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:t("settings.proxyUsername")}),e.jsx("input",{type:"text",value:r,onChange:x=>{const A=x.target.value;y(A),T(A,k,I)},placeholder:"exrihquq",className:"input w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:t("settings.proxyPassword")}),e.jsx("input",{type:"password",value:k,onChange:x=>{const A=x.target.value;D(A),T(r,A,I)},placeholder:"Enter password",className:"input w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:"proxyEnabled",checked:I,onChange:x=>{const A=x.target.checked;_(A),T(r,k,A)},className:"w-4 h-4"}),e.jsx("label",{htmlFor:"proxyEnabled",className:"text-sm text-gray-700 dark:text-gray-300",children:"Enable proxy for all requests"})]})]}),e.jsxs("div",{className:"mt-4 text-xs text-gray-500 dark:text-gray-400 space-y-1 bg-gray-50 dark:bg-gray-800 p-3 rounded-md",children:[e.jsx("p",{children:"✓ Rotating residential IPs via p.webshare.io:80"}),e.jsx("p",{children:"✓ Avoids rate limiting from Google and other services"}),e.jsxs("p",{children:["✓ Get credentials from ",e.jsx("a",{href:"https://dashboard.webshare.io/dashboard",target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:text-blue-600 underline",children:"Webshare Dashboard"})]}),e.jsx("p",{children:"⚠️ UI settings override environment variables"})]})]})}),j==="location"&&e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-semibold mb-2 text-gray-900 dark:text-gray-100",children:["📍 ",t("settings.locationServices")]}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-4",children:t("settings.locationDescription")}),e.jsx("div",{className:`p-6 rounded-lg border-2 ${m?"bg-green-50 dark:bg-green-900/20 border-green-300 dark:border-green-700":L==="denied"?"bg-red-50 dark:bg-red-900/20 border-red-300 dark:border-red-700":"bg-gray-50 dark:bg-gray-800 border-gray-300 dark:border-gray-700"}`,children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"flex-shrink-0",children:N?e.jsxs("svg",{className:"w-12 h-12 text-blue-500 animate-spin",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",strokeWidth:"3"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):m?e.jsx("svg",{className:"w-12 h-12 text-green-500",viewBox:"0 0 24 24",fill:"currentColor",children:e.jsx("path",{d:"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"})}):L==="denied"?e.jsx("svg",{className:"w-12 h-12 text-red-500",viewBox:"0 0 24 24",fill:"currentColor",children:e.jsx("path",{d:"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm1 13h-2v-2h2v2zm0-4h-2V7h2v4z"})}):e.jsx("svg",{className:"w-12 h-12 text-gray-400",viewBox:"0 0 24 24",fill:"currentColor",opacity:"0.5",children:e.jsx("path",{d:"M12 8c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4zm8.94 3c-.46-4.17-3.77-7.48-7.94-7.94V1h-2v2.06C6.83 3.52 3.52 6.83 3.06 11H1v2h2.06c.46 4.17 3.77 7.48 7.94 7.94V23h2v-2.06c4.17-.46 7.48-3.77 7.94-7.94H23v-2h-2.06zM12 19c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7z"})})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"mb-3",children:N?e.jsx("div",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Getting your location..."}):m?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"text-lg font-semibold text-green-700 dark:text-green-400 mb-2",children:"Location Enabled"}),m.address&&e.jsxs("div",{className:"space-y-1",children:[m.address.formatted&&e.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:m.address.formatted}),!m.address.formatted&&e.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:[m.address.city,m.address.state,m.address.country].filter(Boolean).join(", ")})]}),e.jsxs("div",{className:"mt-2 text-xs text-gray-600 dark:text-gray-400 space-y-1",children:[e.jsxs("div",{children:["Coordinates: ",m.latitude.toFixed(6),", ",m.longitude.toFixed(6)]}),e.jsxs("div",{children:["Accuracy: ±",m.accuracy.toFixed(0)," meters"]}),e.jsxs("div",{children:["Updated: ",new Date(m.timestamp).toLocaleString()]})]})]}):L==="denied"?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"text-lg font-semibold text-red-700 dark:text-red-400 mb-2",children:"Location Access Denied"}),e.jsx("div",{className:"text-sm text-gray-700 dark:text-gray-300",children:"You have denied location access. To enable it, please update your browser settings and reload the page."})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"text-lg font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Location Not Enabled"}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Click the button below to share your location. This helps provide better responses for location-specific queries."})]})}),P&&e.jsx("div",{className:"mt-3 p-3 bg-red-100 dark:bg-red-900/30 border border-red-300 dark:border-red-700 rounded-lg",children:e.jsxs("div",{className:"text-sm text-red-700 dark:text-red-400 flex items-start gap-2",children:[e.jsx("svg",{className:"w-4 h-4 flex-shrink-0 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),e.jsx("span",{children:P})]})}),e.jsxs("div",{className:"mt-4 flex gap-3",children:[!m&&L!=="denied"&&e.jsx("button",{onClick:c,disabled:N,className:"btn-primary px-6 py-2 disabled:opacity-50 disabled:cursor-not-allowed",children:N?"Getting Location...":"Enable Location"}),m&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:c,disabled:N,className:"btn-secondary px-4 py-2",children:"🔄 Refresh"}),e.jsx("button",{onClick:M,className:"btn-secondary px-4 py-2 text-red-600 hover:bg-red-50 dark:text-red-400 dark:hover:bg-red-900/20",children:"🗑️ Clear"})]})]})]})]})}),e.jsx("div",{className:"mt-6 p-4 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("svg",{className:"w-5 h-5 text-blue-500 flex-shrink-0 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"text-sm font-semibold text-blue-900 dark:text-blue-100 mb-2",children:"Privacy & Usage"}),e.jsxs("div",{className:"text-xs text-blue-800 dark:text-blue-300 space-y-1",children:[e.jsx("p",{children:"✓ Your location is stored locally in your browser (not on our servers)"}),e.jsx("p",{children:"✓ Location data is only sent to the Lambda function when you send a chat message"}),e.jsx("p",{children:"✓ Automatically expires after 24 hours"}),e.jsx("p",{children:"✓ You can clear your location data at any time"}),e.jsx("p",{children:"✓ Used for: weather, local businesses, directions, time zones, regional info"})]})]})]})})]})}),j==="tts"&&e.jsx(ue,{}),j==="rag"&&e.jsx(pe,{}),j==="cloud"&&e.jsx(ye,{}),e.jsx("div",{className:"flex justify-end gap-3 mt-8",children:e.jsx("button",{onClick:s,className:"btn-primary",children:"Close"})})]})})}):null};export{ve as SettingsModal};
