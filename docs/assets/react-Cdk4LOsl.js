import{at as S,R as A}from"./index-BltPGkpZ.js";import{M as H,C as T}from"./mixin-D3UDm--6.js";class I extends H(T){static shadowRootOptions={...T.shadowRootOptions};static getTemplateHTML=s=>{const{src:o,...n}=s;return T.getTemplateHTML(n)};#t;attributeChangedCallback(s,o,n){s!=="src"&&super.attributeChangedCallback(s,o,n),s==="src"&&o!=n&&this.load()}async load(){if(this.#t){this.api.attachSource(this.src);return}this.#t=!0;const s=await S(()=>import("./dash.all.min-c_ldjLP4.js"),[]);this.api=s.MediaPlayer().create(),this.api.initialize(this.nativeEl,this.src,this.autoplay),this.api.on(s.MediaPlayer.events.STREAM_INITIALIZED,()=>{const o=this.api.getRepresentationsByType("video");let n=this.videoTracks.getTrackById("main");n||(n=this.addVideoTrack("main"),n.id="main",n.selected=!0),o.forEach(r=>{const v=r.bandwidth??r.bitrate??(Number.isFinite(r.bitrateInKbit)?r.bitrateInKbit*1e3:void 0),m=n.addRendition(r.id,r.width,r.height,r.mimeType??r.codec,v);m.id=r.id}),this.videoRenditions.addEventListener("change",()=>{const r=this.videoRenditions[this.videoRenditions.selectedIndex];r?.id?(this.api.updateSettings({streaming:{abr:{autoSwitchBitrate:{video:!1}}}}),this.api.setRepresentationForTypeById("video",r.id,!0)):this.api.updateSettings({streaming:{abr:{autoSwitchBitrate:{video:!0}}}})})})}}globalThis.customElements&&!globalThis.customElements.get("dash-video")&&globalThis.customElements.define("dash-video",I);var N=I,C=new Set(["style","children","ref","key","suppressContentEditableWarning","suppressHydrationWarning","dangerouslySetInnerHTML"]),O={className:"class",htmlFor:"for"};function k(t){return t.toLowerCase()}function M(t){if(typeof t=="boolean")return t?"":void 0;if(typeof t!="function"&&!(typeof t=="object"&&t!==null))return t}function B({react:t,tagName:s,elementClass:o,events:n,displayName:r,defaultProps:v,toAttributeName:m=k,toAttributeValue:P=M}){const y=Number.parseInt(t.version)>=19,g=t.forwardRef((E,f)=>{var w,_;const d=t.useRef(null),p=t.useRef(new Map),b={},L={},c={},h={};for(const[e,i]of Object.entries(E)){if(C.has(e)){c[e]=i;continue}const a=m(O[e]??e);if(o.prototype&&e in o.prototype&&!(e in(((w=globalThis.HTMLElement)==null?void 0:w.prototype)??{}))&&!((_=o.observedAttributes)!=null&&_.some(l=>l===a))){h[e]=i;continue}if(e.startsWith("on")){b[e]=i;continue}const u=P(i);if(a&&u!=null&&(L[a]=String(u),y||(c[a]=u)),a&&y){const l=M(i);u!==l?c[a]=u:c[a]=i}}if(typeof window<"u"){for(const e in b){const i=b[e],a=e.endsWith("Capture"),u=(n?.[e]??e.slice(2).toLowerCase()).slice(0,a?-7:void 0);t.useLayoutEffect(()=>{const l=d?.current;if(!(!l||typeof i!="function"))return l.addEventListener(u,i,a),()=>{l.removeEventListener(u,i,a)}},[d?.current,i])}t.useLayoutEffect(()=>{if(d.current===null)return;const e=new Map;for(const i in h)R(d.current,i,h[i]),p.current.delete(i),e.set(i,h[i]);for(const[i,a]of p.current)R(d.current,i,void 0);p.current=e})}if(typeof window>"u"&&o?.getTemplateHTML&&o?.shadowRootOptions){const{mode:e,delegatesFocus:i}=o.shadowRootOptions,a=t.createElement("template",{shadowrootmode:e,shadowrootdelegatesfocus:i,dangerouslySetInnerHTML:{__html:o.getTemplateHTML(L,E)}});c.children=[a,c.children]}return t.createElement(s,{...v,...c,ref:t.useCallback(e=>{d.current=e,typeof f=="function"?f(e):f!==null&&(f.current=e)},[f])})});return g.displayName=r??o.name,g}function R(t,s,o){var n;t[s]=o,o==null&&s in(((n=globalThis.HTMLElement)==null?void 0:n.prototype)??{})&&t.removeAttribute(s)}var W=B({react:A,tagName:"dash-video",elementClass:N,toAttributeName(t){return t==="muted"?"":t==="defaultMuted"?"muted":k(t)}});/*! Bundled license information:

ce-la-react/dist/ce-la-react.js:
  (**
   * @license
   * Copyright 2018 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *
   * Modified version of `@lit/react` for vanilla custom elements with support for SSR.
   *)
*/export{W as default};
