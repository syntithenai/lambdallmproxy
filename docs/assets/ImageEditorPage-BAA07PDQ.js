import{j as e,r as g,b2 as U,u as _,b3 as q,b4 as H}from"./index-BJU8w3B-.js";const J=({image:s,isSelected:o,onToggleSelection:l,processingStatus:r,isNew:x=!1})=>e.jsxs("div",{className:`
        relative rounded-lg overflow-hidden border-2 transition-all
        ${o?"border-blue-500 shadow-lg":"border-gray-200"}
        ${x?"ring-4 ring-green-500 animate-pulse":""}
      `,children:[e.jsx("div",{className:"absolute top-2 left-2 z-10",children:e.jsx("input",{type:"checkbox",checked:o,onChange:l,className:"w-5 h-5 rounded bg-white/80 backdrop-blur cursor-pointer"})}),e.jsx("img",{src:s.url,alt:s.name,className:"w-full h-auto object-cover",loading:"lazy"}),r?.status==="processing"&&e.jsx("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center text-white",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-white mx-auto"}),e.jsx("p",{className:"text-sm mt-2",children:r.message}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mt-2 mx-4",children:e.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all",style:{width:`${r.progress}%`}})})]})}),r?.status==="error"&&e.jsx("div",{className:"absolute inset-0 bg-red-500/20 flex items-center justify-center",children:e.jsxs("div",{className:"text-center text-red-900 bg-white/90 p-2 rounded",children:[e.jsx("p",{className:"text-sm font-bold",children:"âŒ Error"}),e.jsx("p",{className:"text-xs",children:r.error})]})}),r?.status==="complete"&&e.jsx("div",{className:"absolute top-2 right-2 bg-green-500 text-white px-2 py-1 rounded text-xs font-bold",children:"âœ“ Done"}),e.jsxs("div",{className:"p-2 bg-gray-50",children:[e.jsx("p",{className:"text-sm font-medium truncate",children:s.name}),e.jsx("div",{className:"flex gap-1 mt-1 flex-wrap",children:s.tags.map(m=>e.jsx("span",{className:"px-2 py-0.5 bg-blue-100 text-xs rounded",children:m},m))}),s.width&&s.height&&e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[s.width," Ã— ",s.height,s.format&&` â€¢ ${s.format.toUpperCase()}`]})]})]}),K=({images:s,selectedImages:o,onToggleSelection:l,processingStatus:r,newlyGeneratedIds:x=new Set})=>e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 p-4",children:[s.map(m=>e.jsx(J,{image:m,isSelected:o.has(m.id),onToggleSelection:()=>l(m.id),processingStatus:r.get(m.id),isNew:x.has(m.id)},m.id)),s.length===0&&e.jsxs("div",{className:"col-span-full text-center py-12 text-gray-500",children:[e.jsx("p",{className:"text-lg",children:"No images to display"}),e.jsx("p",{className:"text-sm",children:"Navigate from the Swag page to edit images"})]})]}),X=({onSelectAll:s,onSelectNone:o,selectedCount:l,totalCount:r})=>e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 border-b border-gray-200",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("button",{onClick:s,className:"text-sm text-blue-600 hover:text-blue-800 font-medium",disabled:l===r,children:"Select All"}),e.jsx("button",{onClick:o,className:"text-sm text-blue-600 hover:text-blue-800 font-medium",disabled:l===0,children:"Select None"})]}),e.jsxs("div",{className:"text-sm text-gray-600",children:[l," of ",r," selected"]})]}),Q=({selectedCount:s,onOperation:o,disabled:l})=>{const r=(x="")=>`px-3 py-1.5 text-xs font-medium rounded transition-colors ${l||s===0?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-gray-200 hover:bg-gray-300 text-gray-700"} ${x}`;return e.jsxs("div",{className:"bg-white border-b border-gray-200 p-4",children:[e.jsxs("div",{className:"flex flex-wrap gap-4",children:[e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("label",{className:"text-xs text-gray-500 uppercase font-semibold",children:"Resize"}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:()=>o({type:"resize",params:{scale:.25},label:"25%"}),disabled:l||s===0,className:r(),children:"25%"}),e.jsx("button",{onClick:()=>o({type:"resize",params:{scale:.5},label:"50%"}),disabled:l||s===0,className:r(),children:"50%"}),e.jsx("button",{onClick:()=>o({type:"resize",params:{scale:.75},label:"75%"}),disabled:l||s===0,className:r(),children:"75%"}),e.jsx("button",{onClick:()=>o({type:"resize",params:{scale:1.5},label:"150%"}),disabled:l||s===0,className:r(),children:"150%"}),e.jsx("button",{onClick:()=>o({type:"resize",params:{scale:2},label:"200%"}),disabled:l||s===0,className:r(),children:"200%"})]})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("label",{className:"text-xs text-gray-500 uppercase font-semibold",children:"Rotate"}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:()=>o({type:"rotate",params:{degrees:90},label:"90Â°"}),disabled:l||s===0,className:r(),children:"90Â°"}),e.jsx("button",{onClick:()=>o({type:"rotate",params:{degrees:180},label:"180Â°"}),disabled:l||s===0,className:r(),children:"180Â°"}),e.jsx("button",{onClick:()=>o({type:"rotate",params:{degrees:270},label:"270Â°"}),disabled:l||s===0,className:r(),children:"270Â°"})]})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("label",{className:"text-xs text-gray-500 uppercase font-semibold",children:"Flip"}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:()=>o({type:"flip",params:{direction:"horizontal"},label:"Horizontal"}),disabled:l||s===0,className:r(),title:"Flip Horizontal",children:"â†”ï¸"}),e.jsx("button",{onClick:()=>o({type:"flip",params:{direction:"vertical"},label:"Vertical"}),disabled:l||s===0,className:r(),title:"Flip Vertical",children:"â†•ï¸"})]})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("label",{className:"text-xs text-gray-500 uppercase font-semibold",children:"Format"}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:()=>o({type:"format",params:{format:"jpg"},label:"JPG"}),disabled:l||s===0,className:r(),children:"JPG"}),e.jsx("button",{onClick:()=>o({type:"format",params:{format:"png"},label:"PNG"}),disabled:l||s===0,className:r(),children:"PNG"}),e.jsx("button",{onClick:()=>o({type:"format",params:{format:"webp"},label:"WebP"}),disabled:l||s===0,className:r(),children:"WebP"})]})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("label",{className:"text-xs text-gray-500 uppercase font-semibold",children:"Filters"}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:()=>o({type:"filter",params:{filter:"grayscale"},label:"Grayscale"}),disabled:l||s===0,className:r(),title:"Grayscale",children:"âš«"}),e.jsx("button",{onClick:()=>o({type:"filter",params:{filter:"sepia"},label:"Sepia"}),disabled:l||s===0,className:r(),title:"Sepia",children:"ðŸŸ¤"}),e.jsx("button",{onClick:()=>o({type:"filter",params:{filter:"blur"},label:"Blur"}),disabled:l||s===0,className:r(),title:"Blur",children:"ðŸŒ«ï¸"}),e.jsx("button",{onClick:()=>o({type:"filter",params:{filter:"sharpen"},label:"Sharpen"}),disabled:l||s===0,className:r(),title:"Sharpen",children:"âœ¨"})]})]})]}),e.jsxs("div",{className:"text-xs text-gray-500 mt-2",children:[s," image",s!==1?"s":""," selected"]})]})},Y=({value:s,onChange:o,onSubmit:l,disabled:r,placeholder:x="Describe transformation (e.g., 'resize to 800px width' or 'convert to grayscale')"})=>{const[m,w]=g.useState(!1),[A,I]=g.useState(!1),[C,z]=g.useState(!1),i=g.useRef(null),h=g.useRef(null),j=g.useRef(!1),b=g.useRef(""),S=g.useRef(null),T=g.useRef(null),M=g.useRef(null),$=g.useRef(null),N=g.useRef(null),B=g.useRef(null),E=async()=>{try{const n=await navigator.mediaDevices.getUserMedia({audio:!0});B.current=n;const d=new(window.AudioContext||window.webkitAudioContext);S.current=d;const p=d.createAnalyser();p.fftSize=256,p.smoothingTimeConstant=.8,T.current=p,d.createMediaStreamSource(n).connect(p);const a=p.frequencyBinCount,u=new Uint8Array(a);M.current=u,L()}catch(n){console.error("Error accessing microphone:",n)}},L=()=>{if(!T.current||!M.current||!N.current)return;const n=N.current,d=n.getContext("2d");if(!d)return;const p=T.current,k=M.current,a=p.frequencyBinCount,u=()=>{if(!m)return;$.current=requestAnimationFrame(u),p.getByteFrequencyData(k),d.fillStyle="rgba(15, 23, 42, 0.95)",d.fillRect(0,0,n.width,n.height);const R=n.width/a*2.5;let t,c=0;for(let y=0;y<a;y++){t=k[y]/255*n.height*.8;const f=k[y]/255,P=200,G=50+f*30,W=40+f*30;d.fillStyle=`hsl(${P}, ${G}%, ${W}%)`,d.fillRect(c,n.height-t,R,t),c+=R+1}d.strokeStyle="rgba(148, 163, 184, 0.3)",d.lineWidth=1,d.beginPath(),d.moveTo(0,n.height/2),d.lineTo(n.width,n.height/2),d.stroke()};u()},v=()=>{$.current&&(cancelAnimationFrame($.current),$.current=null),B.current&&(B.current.getTracks().forEach(n=>n.stop()),B.current=null),S.current&&(S.current.close(),S.current=null)};g.useEffect(()=>{const n=window.SpeechRecognition||window.webkitSpeechRecognition;return n&&(I(!0),i.current=new n,i.current.continuous=!0,i.current.interimResults=!0,i.current.lang="en-US",i.current.maxAlternatives=1,i.current.onresult=d=>{let p="",k="";for(let a=d.resultIndex;a<d.results.length;a++){const u=d.results[a][0].transcript;d.results[a].isFinal?k+=u:p+=u}if((p.trim()||k.trim())&&(j.current||(j.current=!0,console.log("ðŸŽ¤ Speech detected, starting timeout...")),b.current=p,h.current&&clearTimeout(h.current),h.current=setTimeout(()=>{console.log("ðŸŽ¤ Silence detected, stopping..."),i.current&&i.current.stop()},2e3)),k){const a=(b.current+" "+k).trim();o(s?`${s} ${a}`:a),b.current=""}},i.current.onerror=d=>{if(console.error("Speech recognition error:",d.error),d.error==="no-speech"){if(console.log("ðŸŽ¤ No speech detected yet, continuing to listen..."),!j.current&&m)try{i.current.start()}catch{}}else w(!1),j.current=!1,h.current&&clearTimeout(h.current)},i.current.onend=()=>{console.log("ðŸŽ¤ Recognition ended"),w(!1),z(!1),j.current=!1,b.current="",h.current&&clearTimeout(h.current),v()}),()=>{i.current&&i.current.stop(),h.current&&clearTimeout(h.current),v()}},[o,s,m]);const D=async()=>{if(i.current)if(m)i.current.stop(),w(!1),z(!1),v();else try{z(!0),await E(),i.current.start(),w(!0)}catch(n){console.error("Error starting speech recognition:",n),w(!1),z(!1),v()}};g.useEffect(()=>{const n=d=>{d.key==="Escape"&&C&&D()};return window.addEventListener("keydown",n),()=>window.removeEventListener("keydown",n)},[C]);const F=n=>{n.preventDefault(),s.trim()&&!r&&l()},V=n=>{n.key==="Enter"&&n.ctrlKey&&(n.preventDefault(),l())};return e.jsxs("div",{className:"bg-white p-4",children:[e.jsxs("form",{onSubmit:F,children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx("textarea",{value:s,onChange:n=>o(n.target.value),disabled:r,placeholder:x,className:"w-full border border-gray-300 rounded-lg p-3 pr-12 resize-none h-24 focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:bg-gray-100 disabled:cursor-not-allowed",onKeyDown:V}),A&&e.jsx("button",{type:"button",onClick:D,disabled:r,className:`
                  absolute right-2 top-2 p-2 rounded-full transition-all
                  ${m?"bg-blue-500 text-white":"bg-gray-100 hover:bg-gray-200 text-gray-700"}
                  ${r?"opacity-50 cursor-not-allowed":""}
                `,title:m?"Listening... Click to stop":"Click to speak command","aria-label":m?"Stop voice input":"Start voice input",children:e.jsxs("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:[e.jsx("path",{d:"M7 4a3 3 0 016 0v6a3 3 0 11-6 0V4z"}),e.jsx("path",{d:"M5.5 9.643a.75.75 0 00-1.5 0V10c0 3.06 2.29 5.585 5.25 5.954V17.5h-1.5a.75.75 0 000 1.5h4.5a.75.75 0 000-1.5h-1.5v-1.546A6.001 6.001 0 0016 10v-.357a.75.75 0 00-1.5 0V10a4.5 4.5 0 01-9 0v-.357z"})]})})]}),e.jsx("button",{type:"submit",disabled:r||!s.trim(),className:`
              self-end px-6 py-3 rounded-lg font-medium transition-colors
              ${r||!s.trim()?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700"}
            `,children:"Apply"})]}),e.jsxs("div",{className:"mt-2 text-xs text-gray-500",children:[e.jsx("strong",{children:"Examples:"}),' "resize to 800px width" â€¢ "convert to grayscale" â€¢ "rotate 90 degrees" â€¢ "add 10px border"',A&&e.jsxs(e.Fragment,{children:[" â€¢ ",e.jsx("strong",{children:"ðŸŽ¤ Voice:"})," Click microphone to speak commands"]})," ","â€¢ Press ",e.jsx("kbd",{className:"px-1 py-0.5 bg-gray-200 rounded",children:"Ctrl+Enter"})," to apply"]})]}),C&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-60 backdrop-blur-sm",children:e.jsxs("div",{className:"relative bg-slate-900 rounded-2xl shadow-2xl p-8 max-w-2xl w-full mx-4",children:[e.jsx("button",{onClick:D,className:"absolute top-4 right-4 text-slate-400 hover:text-white transition-colors","aria-label":"Close",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 mb-4 rounded-full bg-blue-500 bg-opacity-20",children:e.jsxs("svg",{className:"w-8 h-8 text-blue-400",fill:"currentColor",viewBox:"0 0 20 20",children:[e.jsx("path",{d:"M7 4a3 3 0 016 0v6a3 3 0 11-6 0V4z"}),e.jsx("path",{d:"M5.5 9.643a.75.75 0 00-1.5 0V10c0 3.06 2.29 5.585 5.25 5.954V17.5h-1.5a.75.75 0 000 1.5h4.5a.75.75 0 000-1.5h-1.5v-1.546A6.001 6.001 0 0016 10v-.357a.75.75 0 00-1.5 0V10a4.5 4.5 0 01-9 0v-.357z"})]})}),e.jsx("h3",{className:"text-2xl font-semibold text-white mb-2",children:j.current?"Listening...":"Speak your command"}),e.jsx("p",{className:"text-slate-400 text-sm",children:j.current?"Processing your voice input...":'Try: "resize to 800 pixels" or "convert to grayscale"'})]}),e.jsx("div",{className:"mb-6 rounded-xl overflow-hidden border border-slate-700 shadow-inner",children:e.jsx("canvas",{ref:N,width:600,height:200,className:"w-full h-48"})}),e.jsxs("div",{className:"flex items-center justify-center gap-3 text-slate-300",children:[e.jsxs("div",{className:"flex gap-1",children:[e.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-pulse",style:{animationDelay:"0ms"}}),e.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-pulse",style:{animationDelay:"150ms"}}),e.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-pulse",style:{animationDelay:"300ms"}})]}),e.jsx("span",{className:"text-sm font-medium",children:j.current?"Speech detected":"Ready to listen"})]}),b.current&&e.jsx("div",{className:"mt-4 p-3 bg-slate-800 rounded-lg border border-slate-700",children:e.jsxs("p",{className:"text-slate-300 text-sm italic",children:['"',b.current,'"']})}),e.jsx("div",{className:"mt-6 text-center text-xs text-slate-500",children:"Click outside or press ESC to cancel â€¢ Stops automatically after 2 seconds of silence"})]})})]})};async function Z(s,o){const r=`${await U()}/image-edit`,x=localStorage.getItem("google_oauth_token"),m=await fetch(r,{method:"POST",headers:{"Content-Type":"application/json",...x?{"X-Google-OAuth-Token":x}:{}},body:JSON.stringify(s)});if(!m.ok)throw new Error(`HTTP error! status: ${m.status}`);if(!m.body)throw new Error("Response body is null");const w=m.body.getReader(),A=new TextDecoder;let I="";try{for(;;){const{done:C,value:z}=await w.read();if(C)break;I+=A.decode(z,{stream:!0});const i=I.split(`

`);I=i.pop()||"";for(const h of i)if(h.startsWith("data: ")){const j=h.substring(6);try{const b=JSON.parse(j);if(o(b),b.type==="error"||b.type==="complete")return}catch(b){console.error("Failed to parse SSE event:",b,j)}}}}finally{w.releaseLock()}}async function O(s){const l=`${await U()}/parse-image-command`,r=localStorage.getItem("google_oauth_token"),x=await fetch(l,{method:"POST",headers:{"Content-Type":"application/json",...r?{"X-Google-OAuth-Token":r}:{}},body:JSON.stringify({command:s})});if(!x.ok)throw new Error(`HTTP error! status: ${x.status}`);return await x.json()}const te=()=>{const s=_(),o=q(),{addSnippet:l,updateSnippet:r,snippets:x}=H(),m=o.state,w=m?.images||[],A=m?.editingSnippetId,I=w.length===1&&w[0].snippetId,C=I?w[0].snippetId:null,[z]=g.useState(w),[i,h]=g.useState(new Set),[j]=g.useState([]),[b,S]=g.useState(new Map),[T,M]=g.useState(""),[$,N]=g.useState(!1),[B]=g.useState(new Set),[E,L]=g.useState(new Map),v=[...j,...z],D=()=>{h(new Set(v.map(a=>a.id)))},F=()=>{h(new Set)},V=a=>{const u=new Set(i);u.has(a)?u.delete(a):u.add(a),h(u)},n=async a=>{if(i.size===0)return;N(!0);const u=Array.from(i),R=v.filter(t=>u.includes(t.id));try{await Z({images:R.map(t=>({id:t.id,url:t.url})),operations:[a]},t=>{t.type==="image_start"&&t.imageId?S(c=>new Map(c).set(t.imageId,{imageId:t.imageId,status:"processing",progress:0,message:`Starting ${a.label}...`})):t.type==="progress"&&t.imageId?S(c=>new Map(c).set(t.imageId,{imageId:t.imageId,status:"processing",progress:t.progress||0,message:t.currentOperation?`${t.currentOperation}... ${t.progress}%`:`${t.status}...`})):t.type==="image_complete"&&t.imageId&&t.result?(S(c=>new Map(c).set(t.imageId,{imageId:t.imageId,status:"complete",progress:100,message:"Complete",result:t.result?.url})),t.result?.url&&L(c=>new Map(c).set(t.imageId,t.result.url))):t.type==="image_error"&&t.imageId?S(c=>new Map(c).set(t.imageId,{imageId:t.imageId,status:"error",progress:0,message:t.error||"Processing failed",error:t.error})):t.type==="complete"?console.log("All images processed:",t):t.type==="error"&&(console.error("API error:",t.error),alert(`Error: ${t.error}`))}),setTimeout(()=>{N(!1),u.forEach(t=>{S(c=>{const y=new Map(c);return y.delete(t),y})})},3e3)}catch(t){console.error("Image processing error:",t),alert(`Error processing images: ${t instanceof Error?t.message:String(t)}`),N(!1),u.forEach(c=>{S(y=>new Map(y).set(c,{imageId:c,status:"error",progress:0,message:"Failed",error:t instanceof Error?t.message:String(t)}))})}},d=async()=>{if(E.size===0){alert("No processed images to save");return}N(!0);try{if(I&&C){const u=Array.from(E.keys())[0],R=E.get(u),t=v.find(c=>c.id===u);if(R&&t){const c=R,y=x.find(G=>G.id===C);if(!y)throw new Error("Source snippet not found");let f=y.content;const P=t.url;f=f.replace(new RegExp(`!\\[([^\\]]*)\\]\\(${p(P)}\\)`,"g"),`![$1](${c})`),f=f.replace(new RegExp(`<img([^>]*?)src="${p(P)}"`,"g"),`<img$1src="${c}"`),f=f.replace(new RegExp(`<img([^>]*?)src='${p(P)}'`,"g"),`<img$1src='${c}'`),(f.trim()===P||f.trim()===`![](${P})`)&&(f=c),await r(C,{content:f}),alert("Image updated inline in snippet"),s("/swag");return}}let a=0;for(const[u,R]of E.entries()){const t=v.find(c=>c.id===u);if(t)try{const c=R,y=`Edited Image - ${new Date().toLocaleString()}`,f=`![${t.name||"Edited image"}](${c})`;await l(f,"user",y),a++}catch(c){console.error(`Failed to save image ${u}:`,c)}}alert(`Successfully saved ${a} edited image(s) to Swag as new snippets`),L(new Map),s("/swag")}catch(a){console.error("Save to swag error:",a),alert(`Error saving: ${a instanceof Error?a.message:String(a)}`)}finally{N(!1)}},p=a=>a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),k=async()=>{if(!(!T.trim()||i.size===0)){N(!0);try{console.log("Parsing command:",T);const a=await O(T);if(!a.success||a.operations.length===0){alert(a.explanation||'Could not understand command. Try: "make smaller", "rotate right", "convert to jpg"'),N(!1);return}console.log("Parsed operations:",a.operations);for(const u of a.operations)await n(u);M("")}catch(a){console.error("Command parsing error:",a),alert(`Error: ${a instanceof Error?a.message:String(a)}`)}finally{N(!1)}}};return e.jsxs("div",{className:"min-h-screen flex flex-col bg-gray-50",children:[e.jsx("header",{className:"bg-white border-b border-gray-200 p-4 sticky top-0 z-20 shadow-sm",children:e.jsxs("div",{className:"max-w-7xl mx-auto flex items-center justify-between",children:[e.jsxs("button",{onClick:()=>{A?s("/swag",{state:{editingSnippetId:A}}):s("/swag")},className:"flex items-center gap-2 text-gray-700 hover:text-gray-900 font-medium transition-colors",children:[e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Back to Swag"]}),e.jsxs("h1",{className:"text-xl font-bold text-gray-900",children:[I?"Edit Inline Image":"Image Editor",i.size>0&&` (${i.size} selected)`]}),e.jsx("button",{onClick:d,disabled:E.size===0||$,className:`px-4 py-2 rounded-lg font-medium transition-colors ${E.size===0||$?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-green-600 text-white hover:bg-green-700"}`,children:$?"Saving...":I?"Update in Snippet":`Save to Swag (${E.size})`})]})}),e.jsx("main",{className:"flex-1 overflow-auto",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx(X,{onSelectAll:D,onSelectNone:F,selectedCount:i.size,totalCount:v.length}),e.jsx(K,{images:v,selectedImages:i,onToggleSelection:V,processingStatus:b,newlyGeneratedIds:B})]})}),e.jsx("footer",{className:"bg-white border-t border-gray-200 sticky bottom-0 z-20 shadow-lg",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx(Q,{selectedCount:i.size,onOperation:n,disabled:$}),e.jsx(Y,{value:T,onChange:M,onSubmit:k,disabled:$||i.size===0,placeholder:i.size===0?"Select images to apply transformations":"Describe transformation (e.g., 'resize to 800px width' or 'convert to grayscale')"})]})})]})};export{te as ImageEditorPage};
