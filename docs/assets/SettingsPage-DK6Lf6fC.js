const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/localEmbeddings-Bgpt1d3S.js","assets/index-Drh4wbhL.js","assets/index-BYk0Vwgh.css"])))=>i.map(i=>d[i]);
import{c as O,r as o,bo as J,j as e,bp as U,bq as Y,br as X,bi as H,bs as Z,bt as ee,aI as K,bh as Q,bu as se,b5 as te,aQ as $,b8 as V,aH as ae,bv as re,bw as le}from"./index-Drh4wbhL.js";import{C as W}from"./clock-fh3PFL0o.js";/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ne=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["rect",{x:"9",y:"2",width:"6",height:"13",rx:"3",key:"s6n7sd"}]],B=O("mic",ne);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ie=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],de=O("settings",ie);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oe=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],ce=O("volume-2",oe);function xe({initialProvider:a,onSave:j,onCancel:L}){const[l,k]=o.useState(a?.type||""),[s,p]=o.useState(a?.apiKey||""),[x,f]=o.useState(a?.apiEndpoint||""),[c,C]=o.useState(a?.modelName||""),[w,m]=o.useState(a?.rateLimitTPM?.toString()||""),[v,h]=o.useState({chat:a?.capabilities?.chat!==!1,image:a?.capabilities?.image!==!1,embedding:a?.capabilities?.embedding!==!1,voice:a?.capabilities?.voice!==!1,tts:a?.capabilities?.tts!==!1}),[S,u]=o.useState(a?.allowedModels?.join(", ")||""),[P,t]=o.useState(a?.maxImageQuality||"fast"),[n,y]=o.useState({});o.useEffect(()=>{l&&l!=="openai-compatible"?f(J[l]):l==="openai-compatible"&&f(a?.apiEndpoint||"https://")},[l,a]);const M=g=>{if(g.preventDefault(),!l){y({type:"Please select a provider type"});return}const r={type:l,apiKey:s,apiEndpoint:x,capabilities:v};l==="openai-compatible"&&(r.modelName=c,w&&(r.rateLimitTPM=parseInt(w,10))),S.trim()?r.allowedModels=S.split(",").map(b=>b.trim()).filter(b=>b.length>0):r.allowedModels=null,v.image&&P&&(r.maxImageQuality=P);const i=Y(r);if(!i.valid){y(i.errors);return}j(r)},E=["groq","openai","gemini","together","openai-compatible"];return e.jsxs("form",{onSubmit:M,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-200 mb-2",children:"Provider Type"}),e.jsxs("select",{value:l,onChange:g=>k(g.target.value),className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:[e.jsx("option",{value:"",children:"Select provider type..."}),E.map(g=>{const r=U[g];return e.jsxs("option",{value:g,children:[r.icon," ",r.name]},g)})]}),n.type&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:n.type})]}),l&&e.jsx("div",{className:"p-3 bg-gray-800 rounded-lg border border-gray-700",children:e.jsx("p",{className:"text-sm text-gray-400",children:U[l].description})}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-200 mb-2",children:"API Endpoint"}),e.jsx("input",{type:"text",value:x,onChange:g=>f(g.target.value),disabled:l!=="openai-compatible",className:`w-full px-3 py-2 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500 ${l!=="openai-compatible"?"bg-gray-900 cursor-not-allowed":"bg-gray-800"}`,placeholder:"https://",required:!0}),l!=="openai-compatible"&&e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"â“˜ Auto-filled, not editable"}),l==="openai-compatible"&&e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"âœï¸ EDITABLE - Enter custom endpoint"}),n.apiEndpoint&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:n.apiEndpoint})]}),l==="openai-compatible"&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-200 mb-2",children:"Model Name"}),e.jsx("input",{type:"text",value:c,onChange:g=>C(g.target.value),className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"llama-3.1-70b-instruct",required:!0}),e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"âœï¸ REQUIRED - Exact model name for API"}),n.modelName&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:n.modelName})]}),l==="openai-compatible"&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-200 mb-2",children:"Rate Limit (Tokens Per Minute)"}),e.jsx("input",{type:"number",value:w,onChange:g=>m(g.target.value),className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Leave empty for no rate limiting",min:"0"}),e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"â“˜ Optional - Leave empty to disable rate limiting"}),n.rateLimitTPM&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:n.rateLimitTPM})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-200 mb-2",children:"API Key"}),e.jsx("input",{type:"password",value:s,onChange:g=>p(g.target.value),className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter your API key",required:!0}),e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"â“˜ Your API key for this provider"}),n.apiKey&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:n.apiKey})]}),e.jsxs("div",{className:"p-4 bg-gray-800 border border-gray-700 rounded-lg",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-200 mb-3",children:"Service Capabilities"}),e.jsx("p",{className:"text-xs text-gray-500 mb-3",children:"Select which services this provider can be used for. By default, all are enabled."}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:v.chat,onChange:g=>h({...v,chat:g.target.checked}),className:"w-4 h-4 text-blue-600 bg-gray-700 border-gray-600 rounded focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-300",children:"ðŸ’¬ Chat / Text Completion"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:v.image,onChange:g=>h({...v,image:g.target.checked}),className:"w-4 h-4 text-blue-600 bg-gray-700 border-gray-600 rounded focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-300",children:"ðŸŽ¨ Image Generation"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:v.embedding,onChange:g=>h({...v,embedding:g.target.checked}),className:"w-4 h-4 text-blue-600 bg-gray-700 border-gray-600 rounded focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-300",children:"ðŸ”— Embeddings"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:v.voice,onChange:g=>h({...v,voice:g.target.checked}),className:"w-4 h-4 text-blue-600 bg-gray-700 border-gray-600 rounded focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-300",children:"ðŸŽ¤ Voice / Transcription"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:v.tts,onChange:g=>h({...v,tts:g.target.checked}),className:"w-4 h-4 text-blue-600 bg-gray-700 border-gray-600 rounded focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-300",children:"ðŸ”Š Text-to-Speech"})]})]})]}),e.jsxs("div",{className:"p-4 bg-gray-800 border border-gray-700 rounded-lg",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-200 mb-3",children:"ï¿½ Model Access Restrictions"}),e.jsx("p",{className:"text-xs text-gray-500 mb-3",children:"Restrict which models can be used for ALL LLM operations (chat, image generation, etc.). Leave empty to allow all models."}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-200 mb-2",children:"Allowed Models (comma-separated)"}),e.jsx("input",{type:"text",value:S,onChange:g=>u(g.target.value),className:"w-full px-3 py-2 bg-gray-900 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500 font-mono text-sm",placeholder:"Leave empty for all models, or: llama-3.1-8b-instant, gpt-4o-mini"}),e.jsxs("p",{className:"mt-1 text-xs text-gray-500",children:["â“˜ ",e.jsx("strong",{children:"Empty"})," = allow all models | ",e.jsx("strong",{children:"Non-empty"})," = exact model name must match"]}),e.jsxs("p",{className:"mt-1 text-xs text-gray-400",children:["Examples: ",e.jsx("code",{className:"text-blue-400",children:"llama-3.1-8b-instant"}),", ",e.jsx("code",{className:"text-blue-400",children:"black-forest-labs/FLUX.1-schnell-Free"})]})]})]}),v.image&&e.jsxs("div",{className:"p-4 bg-gray-800 border border-gray-700 rounded-lg",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-200 mb-3",children:"ðŸŽ¨ Image Generation Quality Cap"}),e.jsx("p",{className:"text-xs text-gray-500 mb-3",children:'Limit maximum image quality to control costs. Works together with "Allowed Models" above.'}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-200 mb-2",children:"Maximum Quality Tier"}),e.jsxs("select",{value:P,onChange:g=>t(g.target.value),className:"w-full px-3 py-2 bg-gray-900 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"fast",children:"Fast (draft, <$0.001/image) - DEFAULT"}),e.jsx("option",{value:"standard",children:"Standard (normal, ~$0.002/image)"}),e.jsx("option",{value:"high",children:"High (detailed, ~$0.04/image)"}),e.jsx("option",{value:"ultra",children:"Ultra (photorealistic, ~$0.12/image)"})]}),e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"â“˜ Prevents generating images above this quality tier"})]})]}),e.jsxs("div",{className:"flex gap-2 justify-end pt-4",children:[e.jsx("button",{type:"button",onClick:L,className:"px-4 py-2 bg-gray-700 text-white rounded-lg hover:bg-gray-600 transition-colors",children:"Cancel"}),e.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:a?"Update Provider":"Save Provider"})]})]})}function ge({onEditingChange:a}={}){const{providers:j,addProvider:L,updateProvider:l,deleteProvider:k}=X(),{loadFromGoogleDrive:s,saveToGoogleDrive:p}=H(),[x,f]=o.useState(!1),[c,C]=o.useState(null);o.useEffect(()=>{a&&a(x||c!==null)},[x,c,a]);const[w,m]=o.useState(null),[v,h]=o.useState(null),[S,u]=o.useState(!1),P=()=>{f(!0),C(null),m(null),h(null)},t=i=>{C(i),f(!1),m(null),h(null)},n=i=>{window.confirm("Are you sure you want to delete this provider?")&&(k(i),h("Provider deleted successfully"),setTimeout(()=>h(null),3e3))},y=i=>{if(c){const b=l(c,i);b.success?(h("Provider updated successfully"),C(null),setTimeout(()=>h(null),3e3)):m(b.error||"Failed to update provider")}else{const b=L(i);b.success?(h("Provider added successfully"),f(!1),setTimeout(()=>h(null),3e3),window.dispatchEvent(new CustomEvent("provider-added"))):m(b.error||"Failed to add provider")}},M=()=>{f(!1),C(null),m(null)},E=async()=>{try{u(!0),m(null),await s(),h("Settings loaded successfully from Google Drive!"),setTimeout(()=>h(null),3e3)}catch(i){m(i.message||"Failed to load settings from Google Drive")}finally{u(!1)}},g=async()=>{try{u(!0),m(null),await p(),h("Settings saved successfully to Google Drive!"),setTimeout(()=>h(null),3e3)}catch(i){m(i.message||"Failed to save settings to Google Drive")}finally{u(!1)}},r=c?j.find(i=>i.id===c):void 0;return e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-700",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("span",{className:"text-2xl",children:"â˜ï¸"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-medium text-blue-900 dark:text-blue-100 mb-2",children:"Cloud Sync for Provider Credentials"}),e.jsx("div",{className:"text-sm text-blue-700 dark:text-blue-300 mb-3",children:Z()?e.jsx("span",{className:"block text-green-700 dark:text-green-400 font-medium",children:"âœ“ Cloud sync is active - changes are saved automatically"}):e.jsxs(e.Fragment,{children:["Connect to Google Drive in the ",e.jsx("strong",{children:"Cloud Sync"})," tab to enable automatic synchronization of your provider settings."]})}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:E,disabled:S,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors text-sm flex items-center gap-2",children:S?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin h-4 w-4",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Loading..."]}):e.jsx(e.Fragment,{children:"ðŸ“¥ Load from Drive"})}),e.jsx("button",{onClick:g,disabled:S,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors text-sm flex items-center gap-2",children:S?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin h-4 w-4",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Saving..."]}):e.jsx(e.Fragment,{children:"ðŸ’¾ Save to Drive"})})]})]})]})}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h3",{className:"text-lg font-semibold text-white",children:"Configured Providers"}),!x&&!c&&e.jsx("button",{onClick:P,className:"px-3 py-1 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm",children:"+ Add Provider"})]}),v&&e.jsx("div",{className:"p-3 bg-green-700 border border-green-400 rounded-lg",children:e.jsxs("p",{className:"text-sm text-white font-bold",children:["âœ“ ",v]})}),w&&e.jsx("div",{className:"p-3 bg-red-900/30 border border-red-700 rounded-lg",children:e.jsxs("p",{className:"text-sm text-red-400",children:["âœ— ",w]})}),(x||c)&&e.jsxs("div",{className:"p-4 bg-gray-800 rounded-lg border border-gray-700",children:[e.jsx("h4",{className:"text-md font-medium text-white mb-4",children:c?"Edit Provider":"Add Provider"}),e.jsx(xe,{initialProvider:r,onSave:y,onCancel:M})]}),!x&&!c&&e.jsx(e.Fragment,{children:j.length===0?e.jsxs("div",{className:"p-6 bg-gray-800 rounded-lg border border-gray-700 text-center",children:[e.jsx("p",{className:"text-gray-400",children:"No providers configured yet"}),e.jsx("p",{className:"text-sm text-gray-500 mt-2",children:'Click "Add Provider" to configure your first LLM provider'})]}):e.jsx("div",{className:"space-y-3",children:j.map(i=>{const b=U[i.type]||{name:i.type||"Unknown Provider",icon:"â“"},I=i.type==="together",A=typeof i.enabled=="boolean"?i.enabled:!I;return e.jsxs("div",{className:`p-4 rounded-lg border transition-colors ${A?"bg-gray-800 border-gray-700 hover:border-gray-600":"bg-gray-900 border-gray-800 hover:border-gray-700 opacity-80 grayscale"}`,children:[e.jsxs("div",{className:"flex justify-between items-center mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-xl",children:b.icon}),e.jsx("span",{className:`font-medium ${A?"text-white":"text-gray-500"}`,children:b.name})]}),e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx("button",{onClick:()=>{l(i.id,{enabled:!A}),h(A?`${b.name} disabled`:`${b.name} enabled`),setTimeout(()=>h(null),2e3)},className:`px-3 py-1 rounded transition-colors text-sm font-bold ${A?"bg-green-600 hover:bg-green-700 text-white":"bg-red-700 hover:bg-red-800 text-red-100 border border-red-400"}`,title:A?"Click to disable":"Click to enable",children:A?"Enabled":"Disabled"}),e.jsx("button",{onClick:()=>t(i.id),className:"px-3 py-1 bg-gray-700 text-white rounded hover:bg-gray-600 transition-colors text-sm",title:"Edit provider",children:"Edit"}),e.jsx("button",{onClick:()=>n(i.id),className:"px-3 py-1 bg-red-700 text-white rounded hover:bg-red-600 transition-colors text-sm",title:"Delete provider",children:"Delete"})]})]}),e.jsxs("div",{className:"space-y-1 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-gray-400 min-w-[80px]",children:"Endpoint:"}),e.jsx("span",{className:"text-gray-300 break-all",children:i.apiEndpoint})]}),i.modelName&&e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-gray-400 min-w-[80px]",children:"Model:"}),e.jsx("span",{className:"text-gray-300",children:i.modelName})]}),i.rateLimitTPM&&e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-gray-400 min-w-[80px]",children:"Rate Limit:"}),e.jsxs("span",{className:"text-gray-300",children:[i.rateLimitTPM.toLocaleString()," TPM"]})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-gray-400 min-w-[80px]",children:"API Key:"}),e.jsx("span",{className:"text-gray-300 font-mono",children:ee(i.apiKey)})]})]})]},i.id)})})}),!x&&!c&&e.jsxs("div",{className:"p-4 bg-blue-900/20 border border-blue-700/50 rounded-lg",children:[e.jsx("h4",{className:"text-sm font-medium text-blue-400 mb-2",children:"â„¹ï¸ How Provider Selection Works:"}),e.jsxs("ul",{className:"space-y-1 text-sm text-gray-400",children:[e.jsx("li",{children:"â€¢ Free tier providers (ðŸ†“) are used first"}),e.jsx("li",{children:"â€¢ Paid providers (ðŸ’°) are used when free tier rate limits are exceeded"}),e.jsx("li",{children:"â€¢ The backend automatically selects the best model for each request"}),e.jsx("li",{children:"â€¢ No need to configure rate limits or priorities - it's all automatic!"})]})]})]})}const me=()=>{const{providerCapabilities:a,loading:j,error:L}=K(),{features:l}=Q();if(j)return e.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4",children:e.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:"â³ Loading server providers..."})});if(L)return e.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4",children:e.jsxs("p",{className:"text-sm text-red-700 dark:text-red-300",children:["âŒ ",L]})});if(a.length===0)return e.jsx("div",{className:"bg-gray-50 dark:bg-gray-800/50 border border-gray-200 dark:border-gray-700 rounded-lg p-4",children:e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"â„¹ï¸ No server-configured providers found"})});const k=a.reduce((s,p)=>{const x=s.find(f=>f.type===p.type);return x?(p.allowedModels&&p.allowedModels.length>0&&(x.allowedModels=x.allowedModels||[],p.allowedModels.forEach(f=>{x.allowedModels.includes(f)||x.allowedModels.push(f)})),p.rateLimitTPM&&(x.rateLimitTPM=Math.max(x.rateLimitTPM||0,p.rateLimitTPM)),p.priority&&(x.priority=Math.min(x.priority||100,p.priority)),p.maxQuality&&(x.maxQualityList=x.maxQualityList||[],x.maxQualityList.includes(p.maxQuality)||x.maxQualityList.push(p.maxQuality)),x.instanceCount=(x.instanceCount||1)+1):s.push({...p,instanceCount:1,maxQualityList:p.maxQuality?[p.maxQuality]:[]}),s},[]);return e.jsxs("div",{className:"space-y-4",children:[l&&e.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4",children:[e.jsx("h4",{className:"font-semibold text-blue-900 dark:text-blue-100 mb-3",children:"âœ¨ Available Features"}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[l.chat?e.jsx("span",{className:"text-green-600 dark:text-green-400",children:"âœ…"}):e.jsx("span",{className:"text-gray-400 dark:text-gray-600",children:"âŒ"}),e.jsx("span",{className:l.chat?"text-blue-900 dark:text-blue-100":"text-gray-500 dark:text-gray-500",children:"Chat & LLM"})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[l.imageGeneration?e.jsx("span",{className:"text-green-600 dark:text-green-400",children:"âœ…"}):e.jsx("span",{className:"text-gray-400 dark:text-gray-600",children:"âŒ"}),e.jsx("span",{className:l.imageGeneration?"text-blue-900 dark:text-blue-100":"text-gray-500 dark:text-gray-500",children:"Image Generation"})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[l.imageEditing?e.jsx("span",{className:"text-green-600 dark:text-green-400",children:"âœ…"}):e.jsx("span",{className:"text-gray-400 dark:text-gray-600",children:"âŒ"}),e.jsx("span",{className:l.imageEditing?"text-blue-900 dark:text-blue-100":"text-gray-500 dark:text-gray-500",children:"Image Editing"})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[l.transcription?e.jsx("span",{className:"text-green-600 dark:text-green-400",children:"âœ…"}):e.jsx("span",{className:"text-gray-400 dark:text-gray-600",children:"âŒ"}),e.jsx("span",{className:l.transcription?"text-blue-900 dark:text-blue-100":"text-gray-500 dark:text-gray-500",children:"Transcription"})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[l.textToSpeech?e.jsx("span",{className:"text-green-600 dark:text-green-400",children:"âœ…"}):e.jsx("span",{className:"text-gray-400 dark:text-gray-600",children:"âŒ"}),e.jsx("span",{className:l.textToSpeech?"text-blue-900 dark:text-blue-100":"text-gray-500 dark:text-gray-500",children:"Text-to-Speech"})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[l.embeddings?e.jsx("span",{className:"text-green-600 dark:text-green-400",children:"âœ…"}):e.jsx("span",{className:"text-gray-400 dark:text-gray-600",children:"âŒ"}),e.jsx("span",{className:l.embeddings?"text-blue-900 dark:text-blue-100":"text-gray-500 dark:text-gray-500",children:"Embeddings (RAG)"})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[l.webSearch?e.jsx("span",{className:"text-green-600 dark:text-green-400",children:"âœ…"}):e.jsx("span",{className:"text-gray-400 dark:text-gray-600",children:"âŒ"}),e.jsx("span",{className:l.webSearch?"text-blue-900 dark:text-blue-100":"text-gray-500 dark:text-gray-500",children:"Web Search"})]})]})]}),e.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg",children:[e.jsxs("div",{className:"p-4 border-b border-green-200 dark:border-green-800",children:[e.jsxs("h4",{className:"font-semibold text-green-900 dark:text-green-100 flex items-center gap-2",children:[e.jsx("span",{children:"ðŸ–¥ï¸"}),e.jsx("span",{children:"Server-Configured Providers"}),e.jsxs("span",{className:"text-xs font-normal text-green-700 dark:text-green-300",children:["(",k.length," type",k.length!==1?"s":"",", ",a.length," instance",a.length!==1?"s":"",")"]})]}),e.jsx("p",{className:"text-sm text-green-700 dark:text-green-300 mt-1",children:"These providers are configured via environment variables on the server and are automatically available."})]}),e.jsx("div",{className:"divide-y divide-green-200 dark:divide-green-800",children:k.map(s=>{const p=[];return s.allowedModels&&s.allowedModels.length>0&&p.push(`models: ${s.allowedModels.join(", ")}`),s.maxQualityList&&s.maxQualityList.length>0&&p.push(`max quality: ${s.maxQualityList.join(" | ")}`),e.jsx("div",{className:"p-3",children:e.jsxs("div",{className:"text-sm text-green-900 dark:text-green-100",children:[e.jsx("span",{className:"font-medium",children:s.type}),p.length>0&&e.jsxs("span",{className:"text-green-600 dark:text-green-400",children:[" â€” ",p.join("; ")]})]})},s.id)})})]})]})},he=()=>{const{state:a,setProvider:j,setVoice:L,setRate:l,setPitch:k,setVolume:s,setAutoSummarize:p,setElevenLabsApiKey:x,getAvailableProviders:f}=se(),[c,C]=o.useState([]),[w,m]=o.useState(a.voices),[v,h]=o.useState(!1);o.useEffect(()=>{const t=f();C(t)},[f]),o.useEffect(()=>{m(a.voices)},[a.voices]);const S=async t=>{console.log(`ðŸ”„ Changing TTS provider to: ${t}`),h(!0);try{await j(t),console.log(`âœ… TTS provider changed to: ${t}`)}catch(n){console.error("âŒ Failed to change provider:",n)}finally{h(!1)}},u=t=>({chatterbox:"Chatterbox TTS (Local GPU)",speaches:"Speaches TTS (Local)",llm:"LLM Provider (Auto)","openai-tts":"OpenAI TTS","groq-tts":"Groq TTS","gemini-tts":"Gemini TTS",elevenlabs:a.elevenlabsApiKey?"ElevenLabs (Specialized TTS)":"ElevenLabs (Needs API Key)",browser:"Browser (Web Speech API)",speakjs:"speak.js (Offline)"})[t],P=t=>({chatterbox:"High-quality neural TTS with GPU acceleration (requires Docker container on localhost:8001)",speaches:"Local TTS server (configure in LLM providers)",llm:"Automatically selects best available LLM provider (fallback option)","openai-tts":"OpenAI's text-to-speech model (high quality, fast)","groq-tts":"Groq's PlayAI TTS model (fast inference)","gemini-tts":"Google Gemini text-to-speech (natural voices)",elevenlabs:a.elevenlabsApiKey?"Ultra-realistic AI voices":"Ultra-realistic AI voices (configure API key below)",browser:"Uses your browser's built-in voices",speakjs:"Offline synthesis, basic quality"})[t];return console.log("ðŸ” [TTSSettings] Available providers:",c),console.log("ðŸ” [TTSSettings] Current provider:",a.currentProvider),e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"card bg-white dark:bg-gray-800 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Auto-Summarize Long Content"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Use LLM to generate concise, speakable summaries for long responses"})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:a.autoSummarize,onChange:t=>p(t.target.checked),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"})]})]})}),e.jsxs("div",{className:"card bg-white dark:bg-gray-800 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-4",children:"Voice Provider"}),e.jsx("div",{className:"space-y-3",children:c.map(t=>e.jsxs("div",{children:[e.jsxs("div",{className:`flex items-start gap-3 cursor-pointer p-4 rounded-lg border-2 transition-all hover:border-blue-300 dark:hover:border-blue-700 ${a.currentProvider===t?"border-blue-500 dark:border-blue-400 bg-blue-50 dark:bg-blue-900/20":"border-gray-200 dark:border-gray-700"}`,onClick:()=>S(t),children:[e.jsx("input",{type:"radio",name:"tts-provider",value:t,checked:a.currentProvider===t,onChange:()=>{},className:"mt-1 w-4 h-4 text-blue-600 focus:ring-2 focus:ring-blue-500"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"font-medium text-gray-900 dark:text-gray-100 mb-1 flex items-center gap-2",children:[u(t),t==="elevenlabs"&&!a.elevenlabsApiKey&&e.jsx("span",{className:"text-xs bg-yellow-100 dark:bg-yellow-900/30 text-yellow-800 dark:text-yellow-300 px-2 py-1 rounded-full",children:"Configure"})]}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:P(t)})]})]}),t==="elevenlabs"&&a.currentProvider==="elevenlabs"&&e.jsxs("div",{className:"ml-7 mt-3 p-4 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"ElevenLabs API Key:"}),e.jsx("input",{type:"password",placeholder:"Enter ElevenLabs API key",value:a.elevenlabsApiKey,onChange:n=>x(n.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),e.jsxs("div",{className:"mt-2 space-y-1",children:[e.jsxs("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:["Get your API key from ",e.jsx("a",{href:"https://elevenlabs.io/speech-synthesis",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:"ElevenLabs Dashboard"})]}),e.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"â€¢ Free tier: 10,000 characters/month"}),e.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"â€¢ Starter: $1/month for 30,000 characters"}),e.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"â€¢ Creator: $22/month for 100,000 characters"})]})]})]},t))})]}),e.jsxs("div",{className:"card bg-white dark:bg-gray-800 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-4",children:"Voice"}),v?e.jsxs("div",{className:"flex items-center justify-center py-8",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),e.jsx("span",{className:"ml-3 text-gray-600 dark:text-gray-400",children:"Loading voices..."})]}):w.length===0?e.jsx("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:"No voices available for this provider"}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 max-h-64 overflow-y-auto",children:w.map(t=>e.jsxs("button",{onClick:()=>L(t.id),className:`p-3 text-left border rounded-lg transition-colors ${a.currentVoice===t.id?"border-blue-600 bg-blue-50 dark:bg-blue-900/20 dark:border-blue-400":"border-gray-300 dark:border-gray-600 hover:border-blue-400 dark:hover:border-blue-500"}`,children:[e.jsx("div",{className:"font-medium text-gray-900 dark:text-gray-100",children:t.name}),e.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:[t.language," â€¢ ",t.gender||"neutral"]})]},t.id))})]}),e.jsxs("div",{className:"card bg-white dark:bg-gray-800 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-4",children:"Playback Settings"}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["Speed: ",a.rate.toFixed(1),"x"]}),e.jsx("input",{type:"range",min:"0.5",max:"2.0",step:"0.1",value:a.rate,onChange:t=>l(parseFloat(t.target.value)),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer dark:bg-gray-700 slider"}),e.jsxs("div",{className:"flex justify-between text-xs text-gray-500 dark:text-gray-400 mt-1",children:[e.jsx("span",{children:"0.5x Slower"}),e.jsx("span",{children:"1.0x Normal"}),e.jsx("span",{children:"2.0x Faster"})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["Pitch: ",a.pitch.toFixed(1)]}),e.jsx("input",{type:"range",min:"0.5",max:"2.0",step:"0.1",value:a.pitch,onChange:t=>k(parseFloat(t.target.value)),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer dark:bg-gray-700 slider"}),e.jsxs("div",{className:"flex justify-between text-xs text-gray-500 dark:text-gray-400 mt-1",children:[e.jsx("span",{children:"0.5 Lower"}),e.jsx("span",{children:"1.0 Normal"}),e.jsx("span",{children:"2.0 Higher"})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["Volume: ",Math.round(a.volume*100),"%"]}),e.jsx("input",{type:"range",min:"0",max:"1",step:"0.05",value:a.volume,onChange:t=>s(parseFloat(t.target.value)),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer dark:bg-gray-700 slider"}),e.jsxs("div",{className:"flex justify-between text-xs text-gray-500 dark:text-gray-400 mt-1",children:[e.jsx("span",{children:"0% Silent"}),e.jsx("span",{children:"50%"}),e.jsx("span",{children:"100% Max"})]})]})]}),["llm","openai-tts","groq-tts","gemini-tts"].includes(a.currentProvider)&&e.jsxs("div",{className:"card bg-white dark:bg-gray-800 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-4",children:a.currentProvider==="llm"?"LLM Provider TTS":`${u(a.currentProvider)}`}),e.jsx("div",{className:"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("svg",{className:"w-5 h-5 text-green-600 mt-0.5 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-green-900 dark:text-green-100",children:"Using Existing Configuration"}),e.jsx("p",{className:"text-sm text-green-700 dark:text-green-300 mt-1",children:a.currentProvider==="llm"?"TTS will use your currently configured LLM provider and API key. No additional authentication required.":`TTS will use your ${u(a.currentProvider)} configuration and API key. No additional authentication required.`})]})]})})]})]})},ue=()=>{const a=[{value:"hey google",label:"Hey Google"},{value:"ok google",label:"OK Google"},{value:"alexa",label:"Alexa"},{value:"hey siri",label:"Hey Siri"},{value:"computer",label:"Computer"},{value:"jarvis",label:"Jarvis"}],[j,L]=o.useState(()=>localStorage.getItem("continuousVoice_hotword")||"hey google"),[l,k]=o.useState(()=>parseFloat(localStorage.getItem("continuousVoice_sensitivity")||"0.5")),[s,p]=o.useState(()=>parseFloat(localStorage.getItem("continuousVoice_speechTimeout")||"2")),[x,f]=o.useState(()=>parseInt(localStorage.getItem("continuousVoice_conversationTimeout")||"10000")),[c,C]=o.useState(()=>localStorage.getItem("voice_useLocalWhisper")==="true"),[w,m]=o.useState(()=>localStorage.getItem("voice_localWhisperUrl")||"http://localhost:8000");o.useEffect(()=>{localStorage.setItem("continuousVoice_hotword",j)},[j]),o.useEffect(()=>{localStorage.setItem("continuousVoice_sensitivity",l.toString())},[l]),o.useEffect(()=>{localStorage.setItem("continuousVoice_speechTimeout",s.toString())},[s]),o.useEffect(()=>{localStorage.setItem("continuousVoice_conversationTimeout",x.toString())},[x]),o.useEffect(()=>{localStorage.setItem("voice_useLocalWhisper",c.toString())},[c]),o.useEffect(()=>{localStorage.setItem("voice_localWhisperUrl",w)},[w]);const v=u=>{k(parseFloat(u.target.value))},h=u=>{p(parseFloat(u.target.value))},S=u=>{f(parseInt(u.target.value))};return e.jsxs("div",{className:"space-y-6 max-w-4xl",children:[e.jsxs("section",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 shadow-sm",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(B,{className:"w-5 h-5 text-blue-600"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Continuous Voice Mode"})]}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-6",children:"Configure voice activation settings for hands-free conversation. Say the hotword to activate voice input, then speak your question. The system will respond and automatically return to listening for the hotword."}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[e.jsx(ce,{className:"w-4 h-4 inline mr-2"}),"Hotword / Wake Word"]}),e.jsx("select",{value:j,onChange:u=>L(u.target.value),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:a.map(({value:u,label:P})=>e.jsx("option",{value:u,children:P},u))}),e.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-2",children:["Say this phrase to activate voice input. Current: ",e.jsxs("strong",{children:['"',j,'"']})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[e.jsx(de,{className:"w-4 h-4 inline mr-2"}),"Hotword Sensitivity"]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("input",{type:"range",min:"0",max:"1",step:"0.1",value:l,onChange:v,className:"flex-1 h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer dark:bg-gray-700"}),e.jsxs("span",{className:"text-sm font-medium text-gray-900 dark:text-white w-12 text-right",children:[(l*100).toFixed(0),"%"]})]}),e.jsxs("div",{className:"flex justify-between text-xs text-gray-500 dark:text-gray-400 mt-2",children:[e.jsx("span",{children:"Less sensitive (fewer false positives)"}),e.jsx("span",{children:"More sensitive (easier activation)"})]}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-2",children:"Adjust how easily the hotword triggers. Higher values activate more easily but may cause false positives."})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[e.jsx(W,{className:"w-4 h-4 inline mr-2"}),"Speech Timeout"]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("input",{type:"range",min:"0.2",max:"5",step:"0.1",value:s,onChange:h,className:"flex-1 h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer dark:bg-gray-700"}),e.jsxs("span",{className:"text-sm font-medium text-gray-900 dark:text-white w-16 text-right",children:[s.toFixed(1),"s"]})]}),e.jsxs("div",{className:"flex justify-between text-xs text-gray-500 dark:text-gray-400 mt-2",children:[e.jsx("span",{children:"0.2s (fast)"}),e.jsx("span",{children:"5s (patient)"})]}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-2",children:"How long to wait for silence before auto-submitting your speech. Lower values respond faster but may cut off mid-sentence. Higher values allow for thinking pauses."})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[e.jsx(W,{className:"w-4 h-4 inline mr-2"}),"Conversation Timeout"]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("input",{type:"range",min:"3000",max:"30000",step:"1000",value:x,onChange:S,className:"flex-1 h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer dark:bg-gray-700"}),e.jsxs("span",{className:"text-sm font-medium text-gray-900 dark:text-white w-16 text-right",children:[(x/1e3).toFixed(0),"s"]})]}),e.jsxs("div",{className:"flex justify-between text-xs text-gray-500 dark:text-gray-400 mt-2",children:[e.jsx("span",{children:"3 seconds"}),e.jsx("span",{children:"30 seconds"})]}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-2",children:"How long to wait before returning to hotword listening mode. After AI responds, this timeout determines how long you have to continue the conversation."})]})]}),e.jsxs("section",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 shadow-sm",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(B,{className:"w-5 h-5 text-purple-600"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Speech Recognition (STT)"})]}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-6",children:"Configure speech-to-text settings. When running locally, the system can use a local Whisper service for faster, privacy-first transcription before falling back to configured cloud providers."}),e.jsx("div",{className:"mb-6",children:e.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:c,onChange:u=>C(u.target.checked),className:"w-5 h-5 text-blue-600 border-gray-300 rounded focus:ring-2 focus:ring-blue-500"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"ðŸ  Try Local Whisper First"}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"When running Lambda locally, attempt to use local Whisper service before cloud providers"})]})]})}),c&&e.jsxs("div",{className:"mb-6 pl-8",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Local Whisper Service URL"}),e.jsx("input",{type:"text",value:w,onChange:u=>m(u.target.value),placeholder:"http://localhost:8000",className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),e.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-2",children:["URL of your local Whisper service. Default: ",e.jsx("code",{className:"bg-gray-100 dark:bg-gray-700 px-1 rounded",children:"http://localhost:8000"})]}),e.jsx("div",{className:"mt-3 p-3 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg",children:e.jsxs("p",{className:"text-xs text-blue-800 dark:text-blue-300",children:[e.jsx("strong",{children:"â„¹ï¸ How it works:"})," When Lambda is running locally (",e.jsx("code",{children:"make dev"}),"), the system will first attempt transcription via your local Whisper service. If the local service is unavailable or fails, it automatically falls back to your configured cloud STT providers (OpenAI, Groq, etc.) for reliability."]})})]}),e.jsx("div",{className:"mt-4 p-4 bg-gray-50 dark:bg-gray-700/50 rounded-lg",children:e.jsxs("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:[e.jsx("strong",{children:"Cloud STT Providers:"})," Configure your speech-to-text providers in the ",e.jsx("strong",{children:"Provider"})," tab (OpenAI Whisper, Groq Whisper, etc.). These will be used when local Whisper is disabled or unavailable."]})})]}),e.jsxs("section",{className:"bg-gradient-to-r from-indigo-50 to-purple-50 dark:from-indigo-900/20 dark:to-purple-900/20 rounded-lg p-6 border border-indigo-200 dark:border-indigo-800",children:[e.jsx("h4",{className:"text-sm font-semibold text-indigo-900 dark:text-indigo-300 mb-3",children:"ðŸ’¡ Usage Tips"}),e.jsxs("ul",{className:"space-y-2 text-sm text-indigo-800 dark:text-indigo-300",children:[e.jsxs("li",{className:"flex gap-2",children:[e.jsx("span",{className:"text-indigo-600 dark:text-indigo-400",children:"â€¢"}),e.jsx("span",{children:"Enable continuous voice mode from the chat interface microphone button"})]}),e.jsxs("li",{className:"flex gap-2",children:[e.jsx("span",{className:"text-indigo-600 dark:text-indigo-400",children:"â€¢"}),e.jsx("span",{children:"Speak clearly and at a moderate pace for best recognition accuracy"})]}),e.jsxs("li",{className:"flex gap-2",children:[e.jsx("span",{className:"text-indigo-600 dark:text-indigo-400",children:"â€¢"}),e.jsx("span",{children:"Wait for the AI to finish responding before saying the hotword again"})]}),e.jsxs("li",{className:"flex gap-2",children:[e.jsx("span",{className:"text-indigo-600 dark:text-indigo-400",children:"â€¢"}),e.jsx("span",{children:"Lower sensitivity if you experience frequent false activations"})]}),e.jsxs("li",{className:"flex gap-2",children:[e.jsx("span",{className:"text-indigo-600 dark:text-indigo-400",children:"â€¢"}),e.jsx("span",{children:"Increase timeout if you need more time to formulate your questions"})]})]})]})]})},R={enabled:!0,autoEmbed:!0,embeddingModel:"text-embedding-3-small",embeddingProvider:"openai",chunkSize:1e3,chunkOverlap:200,topK:5,similarityThreshold:.3},q=[{id:"Xenova/all-MiniLM-L6-v2",name:"MiniLM-L6 (Recommended)",dimensions:384,size:"23 MB",speed:"Fast",description:"Balanced quality and speed, best for general use"},{id:"Xenova/paraphrase-MiniLM-L3-v2",name:"MiniLM-L3 (Fastest)",dimensions:384,size:"17 MB",speed:"Very Fast",description:"Fastest option, slightly lower quality"},{id:"Xenova/bge-small-en-v1.5",name:"BGE-Small (Highest Quality)",dimensions:384,size:"33 MB",speed:"Slower",description:"Best quality for English text, slower generation"}],be=()=>{const{showSuccess:a,showError:j,showPersistentToast:L,removeToast:l,updateToast:k}=te(),{settings:s,setSettings:p}=H(),{availableEmbeddings:x,loading:f}=K(),[c,C]=o.useState(R),[w,m]=o.useState(null);o.useEffect(()=>{h()},[]);const v=()=>s.embeddingSource==="local"?!0:s.embeddingModel?x.some(t=>t.id===s.embeddingModel):x.length>0,h=async()=>{try{const t=localStorage.getItem("rag_config");if(t){const n=JSON.parse(t);C({...R,...n})}else C(R)}catch(t){console.error("Failed to load RAG config:",t),C(R)}},S=async t=>{try{localStorage.setItem("rag_config",JSON.stringify(t)),window.dispatchEvent(new Event("rag_config_updated")),console.log("âœ… RAG settings auto-saved")}catch(n){console.error("Failed to auto-save RAG config:",n)}},u=(t,n)=>{const y={...c,[t]:n};C(y),S(y)},P=async t=>{let n=null;try{m({loading:!0,progress:0,model:t});const y=t.split("/")[1];n=L(`ðŸ”„ Loading model ${y}... 0%`,"info");const{getLocalEmbeddingService:M}=await $(async()=>{const{getLocalEmbeddingService:g}=await import("./localEmbeddings-Bgpt1d3S.js");return{getLocalEmbeddingService:g}},__vite__mapDeps([0,1,2]));await M().loadModel(t,g=>{const r=Math.round(g.progress);m({loading:!0,progress:r,model:t}),n&&k(n,`ðŸ”„ Loading model ${y}... ${r}%`)}),n&&l(n),a(`âœ… Model ${y} loaded successfully! Ready to use.`),m(null)}catch(y){console.error("Failed to preload local model:",y),n&&l(n),j(`âŒ Failed to load model: ${y instanceof Error?y.message:"Unknown error"}`),m(null)}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-2",children:"ðŸ§  RAG (Retrieval-Augmented Generation)"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Enable semantic search over your saved snippets using embeddings. Enhances LLM responses with relevant context from your content."})]}),e.jsx("div",{className:"card p-4",children:e.jsxs("label",{className:"flex items-center justify-between cursor-pointer",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900 dark:text-gray-100",children:"Enable RAG System"}),e.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Automatically search your snippets when asking questions"})]}),e.jsx("input",{type:"checkbox",checked:c.enabled,onChange:t=>u("enabled",t.target.checked),className:"w-5 h-5 text-blue-600 rounded focus:ring-2 focus:ring-blue-500"})]})}),c.enabled&&!f&&!v()&&e.jsx("div",{className:"card p-4 bg-red-50 dark:bg-red-900/20 border-2 border-red-300 dark:border-red-700",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"text-2xl",children:"âš ï¸"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-bold text-red-900 dark:text-red-200 mb-2",children:"RAG System Disabled: Embedding Model Not Available"}),e.jsxs("div",{className:"text-sm text-red-800 dark:text-red-300 space-y-2",children:[e.jsxs("p",{children:['Your selected embedding model "',s.embeddingModel||"none",'" is not available from your configured providers.']}),e.jsx("p",{className:"font-medium",children:"To fix this:"}),e.jsxs("ol",{className:"list-decimal list-inside space-y-1 ml-2",children:[e.jsx("li",{children:"Select a new embedding model from the available options below"}),e.jsx("li",{children:"Save your settings"}),e.jsx("li",{children:"Go to SWAG page and regenerate embeddings for all your snippets"}),e.jsx("li",{children:"Or configure a provider that supports your selected model in the Providers tab"})]})]})]})]})}),e.jsx("div",{className:"card p-4",children:e.jsxs("label",{className:"flex items-center justify-between cursor-pointer",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900 dark:text-gray-100",children:"Auto-Embed New Snippets"}),e.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Automatically generate embeddings when saving snippets"})]}),e.jsx("input",{type:"checkbox",checked:c.autoEmbed,onChange:t=>u("autoEmbed",t.target.checked),disabled:!c.enabled,className:"w-5 h-5 text-blue-600 rounded focus:ring-2 focus:ring-blue-500 disabled:opacity-50"})]})}),e.jsxs("div",{className:"card p-4",children:[e.jsxs("label",{className:"block mb-3",children:[e.jsx("span",{className:"font-medium text-gray-900 dark:text-gray-100",children:"Embedding Model"}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Choose from API-based (server) or local (browser) embedding models"})]}),f?e.jsx("div",{className:"text-sm text-gray-500",children:"Loading available models..."}):e.jsxs(e.Fragment,{children:[e.jsxs("select",{value:s.embeddingModel||"text-embedding-3-small",onChange:async t=>{const n=t.target.value,y=q.some(E=>E.id===n);p({...s,embeddingModel:n,embeddingSource:y?"local":"api"}),y&&await P(n)},disabled:!c.enabled||w?.loading,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 disabled:opacity-50",children:[e.jsx("optgroup",{label:"ðŸ  Local (Browser) - Free, Offline",children:q.map(t=>e.jsxs("option",{value:t.id,children:[t.name," - ",t.size,", ",t.speed,", ",t.dimensions,"d"]},t.id))}),x.length>0&&e.jsx("optgroup",{label:"â˜ï¸ API (Server) - High Quality, Fast",children:x.map(t=>e.jsxs("option",{value:t.id,children:[t.name," (",t.provider,") - $",t.pricing?.perMillionTokens||0,"/M tokens, ",t.dimensions,"d",t.recommended?" â­":"",t.deprecated?" (Legacy)":""]},t.id))})]}),e.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-2",children:(()=>{const t=q.find(y=>y.id===s.embeddingModel);if(t)return`ðŸ  Local: ${t.description}. Model downloads on first use (~${t.size}).`;const n=x.find(y=>y.id===s.embeddingModel);return n?`â˜ï¸ API: ${n.description}`:"Select an embedding model to see details"})()})]}),x.length===0&&!f&&e.jsx("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg p-4 mt-2",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("svg",{className:"w-5 h-5 text-yellow-600 mt-0.5 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-yellow-900 dark:text-yellow-100",children:"No API Embedding Models Available"}),e.jsxs("p",{className:"text-sm text-yellow-700 dark:text-yellow-300 mt-1",children:["To use API-based embeddings, configure a provider in the ",e.jsx("strong",{children:"Providers"})," tab with an API key. Supported providers: OpenAI, Gemini, Together AI, Cohere, Voyage AI."]}),e.jsxs("p",{className:"text-sm text-yellow-700 dark:text-yellow-300 mt-2",children:["ðŸ’¡ ",e.jsx("strong",{children:"Tip:"})," Local browser-based embeddings work without any API keys and are perfect for getting started!"]})]})]})}),e.jsx("p",{className:"text-xs text-yellow-600 dark:text-yellow-400 mt-2",children:"âš ï¸ Changing models requires re-embedding all content"})]}),e.jsxs("div",{className:"card p-4 space-y-4",children:[e.jsx("h4",{className:"font-medium text-gray-900 dark:text-gray-100",children:"Chunking Settings"}),e.jsxs("div",{children:[e.jsx("label",{className:"block mb-2",children:e.jsxs("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:["Chunk Size: ",c.chunkSize||1e3," characters (â‰ˆ",Math.round((c.chunkSize||1e3)/4)," tokens)"]})}),e.jsx("input",{type:"range",min:"500",max:"2000",step:"100",value:c.chunkSize||1e3,onChange:t=>u("chunkSize",parseInt(t.target.value)),disabled:!c.enabled,className:"w-full disabled:opacity-50"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block mb-2",children:e.jsxs("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:["Chunk Overlap: ",c.chunkOverlap||200," characters (",Math.round((c.chunkOverlap||200)/(c.chunkSize||1e3)*100),"%)"]})}),e.jsx("input",{type:"range",min:"0",max:"500",step:"50",value:c.chunkOverlap||200,onChange:t=>u("chunkOverlap",parseInt(t.target.value)),disabled:!c.enabled,className:"w-full disabled:opacity-50"})]})]}),e.jsxs("div",{className:"card p-4 space-y-4",children:[e.jsx("h4",{className:"font-medium text-gray-900 dark:text-gray-100",children:"Search Settings"}),e.jsxs("div",{children:[e.jsx("label",{className:"block mb-2",children:e.jsxs("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:["Top-K Results: ",c.topK||5]})}),e.jsx("input",{type:"range",min:"1",max:"20",step:"1",value:c.topK||5,onChange:t=>u("topK",parseInt(t.target.value)),disabled:!c.enabled,className:"w-full disabled:opacity-50"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block mb-2",children:e.jsxs("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:["Similarity Threshold: ",(c.similarityThreshold||.3).toFixed(2)]})}),e.jsx("input",{type:"range",min:"0.1",max:"0.95",step:"0.05",value:c.similarityThreshold||.3,onChange:t=>u("similarityThreshold",parseFloat(t.target.value)),disabled:!c.enabled,className:"w-full disabled:opacity-50"})]})]}),e.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 space-y-1",children:[e.jsxs("p",{children:["ðŸ’¡ ",e.jsx("strong",{children:"Tip:"})," All settings auto-save. Start with text-embedding-3-small (or local MiniLM-L6 for free), 1000 char chunks, 200 overlap"]}),e.jsxs("p",{children:["ðŸ“– ",e.jsx("strong",{children:"Learn more:"})," Check src/rag/README.md for detailed documentation"]})]})]})},pe=()=>{const[a,j]=o.useState(!1),[L,l]=o.useState(!1),[k,s]=o.useState(null),[p,x]=o.useState(null),[f,c]=o.useState(!1),[C,w]=o.useState(null),[m,v]=o.useState(0),[h,S]=o.useState({plansCount:0,playlistsCount:0,snippetsCount:0,embeddingsCount:0,chatHistoryCount:0,quizProgressCount:0,feedItemsCount:0}),[u,P]=o.useState(localStorage.getItem("auto_sync_enabled")==="true"),t=async()=>{try{const r=await V.getSyncMetadata();v(r.lastSyncTime);const i=JSON.parse(localStorage.getItem("saved_plans")||"[]"),b=JSON.parse(localStorage.getItem("playlists")||"[]"),I=JSON.parse(localStorage.getItem("swag-snippets")||"[]"),A=JSON.parse(localStorage.getItem("chat_history")||"[]"),{feedDB:_}=await $(async()=>{const{feedDB:D}=await import("./index-Drh4wbhL.js").then(z=>z.cM);return{feedDB:D}},__vite__mapDeps([1,2])),{quizDB:F}=await $(async()=>{const{quizDB:D}=await import("./index-Drh4wbhL.js").then(z=>z.cL);return{quizDB:D}},__vite__mapDeps([1,2])),{ragDB:T}=await $(async()=>{const{ragDB:D}=await import("./index-Drh4wbhL.js").then(z=>z.cK);return{ragDB:D}},__vite__mapDeps([1,2])),G=await _.getCount(),d=await F.getQuizStatistics(),N=await T.getAllChunks();console.log("ðŸ“Š Loaded sync metadata counts:",{plans:i.length,playlists:b.length,snippets:I.length,embeddings:N.length,chatHistory:A.length,quizProgress:d.length,feedItems:G}),S({plansCount:i.length,playlistsCount:b.length,snippetsCount:I.length,embeddingsCount:N.length,chatHistoryCount:A.length,quizProgressCount:d.length,feedItemsCount:G})}catch(r){console.error("Failed to load sync metadata:",r)}},n=async()=>{c(!0),w(null),s(null);try{const r=await V.syncAll(),i=[];r.plans.action==="uploaded"?i.push(`Uploaded ${r.plans.itemCount} plan(s)`):r.plans.action==="downloaded"&&i.push(`Downloaded ${r.plans.itemCount} plan(s)`),r.playlists.action==="uploaded"?i.push(`Uploaded ${r.playlists.itemCount} playlist(s)`):r.playlists.action==="downloaded"&&i.push(`Downloaded ${r.playlists.itemCount} playlist(s)`),r.snippets.action==="uploaded"?i.push(`Uploaded ${r.snippets.itemCount} snippet(s)`):r.snippets.action==="downloaded"&&i.push(`Downloaded ${r.snippets.itemCount} snippet(s)`),r.embeddings.action==="uploaded"?i.push(`Uploaded ${r.embeddings.itemCount} embedding(s)`):r.embeddings.action==="downloaded"&&i.push(`Downloaded ${r.embeddings.itemCount} embedding(s)`),r.chatHistory.action==="uploaded"?i.push(`Uploaded ${r.chatHistory.itemCount} chat(s)`):r.chatHistory.action==="downloaded"&&i.push(`Downloaded ${r.chatHistory.itemCount} chat(s)`),r.quizProgress.action==="uploaded"?i.push(`Uploaded ${r.quizProgress.itemCount} quiz stat(s)`):r.quizProgress.action==="downloaded"&&i.push(`Downloaded ${r.quizProgress.itemCount} quiz stat(s)`),r.feedItems.action==="uploaded"?i.push(`Uploaded ${r.feedItems.itemCount} feed item(s)`):r.feedItems.action==="downloaded"&&i.push(`Downloaded ${r.feedItems.itemCount} feed item(s)`),i.length===0?w("Everything is up to date"):w(i.join(", ")),await t(),console.log("âœ… Sync completed:",r)}catch(r){s(r.message||"Sync failed"),console.error("Sync error:",r)}finally{c(!1)}},y=()=>{const r=!u;P(r),localStorage.setItem("auto_sync_enabled",String(r))},M=r=>{if(r===0)return"Never";const b=Date.now()-r;return b<6e4?"Just now":b<36e5?`${Math.floor(b/6e4)} minutes ago`:b<864e5?`${Math.floor(b/36e5)} hours ago`:`${Math.floor(b/864e5)} days ago`};o.useEffect(()=>{const r=localStorage.getItem("google_drive_access_token"),i=localStorage.getItem("user_email");r&&r.length>0&&(j(!0),x(i),t())},[]);const E=async()=>{l(!0),s(null);try{if(!window.google?.accounts?.oauth2)throw new Error("Google Identity Services not loaded. Please refresh the page.");const r="548179877633-cfvhlc5roj9prus33jlarcm540i495qi.apps.googleusercontent.com";window.google.accounts.oauth2.initTokenClient({client_id:r,scope:"https://www.googleapis.com/auth/drive.file",callback:b=>{if(b.error){s(`Authentication failed: ${b.error}`),l(!1);return}if(b.access_token){const I=b.access_token.trim().replace(/[\r\n]/g,"");if(localStorage.setItem("google_drive_access_token",I),b.id_token)try{const _=b.id_token.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),F=decodeURIComponent(atob(_).split("").map(G=>"%"+("00"+G.charCodeAt(0).toString(16)).slice(-2)).join("")),T=JSON.parse(F);T.email&&(localStorage.setItem("user_email",T.email),x(T.email))}catch(A){console.error("Failed to decode ID token:",A)}j(!0),l(!1),console.log("âœ… Successfully authenticated with Google Drive"),window.dispatchEvent(new CustomEvent("billing-settings-changed"))}},error_callback:b=>{s(`Authentication error: ${b.message||"Unknown error"}`),l(!1)}}).requestAccessToken({prompt:"consent"})}catch(r){s(r.message||"Failed to authenticate with Google"),l(!1)}},g=()=>{localStorage.removeItem("google_drive_access_token"),localStorage.removeItem("user_email"),j(!1),x(null),s(null)};return e.jsxs("div",{className:"cloud-sync-settings",children:[e.jsx("h2",{children:"Cloud Sync Settings"}),e.jsxs("div",{className:"auth-section",children:[e.jsx("h3",{children:"Google Drive Authentication"}),a?e.jsxs("div",{className:"auth-status",children:[e.jsxs("div",{className:"connected-info",children:[e.jsx("span",{className:"status-indicator",children:"âœ“"}),e.jsxs("div",{children:[e.jsx("strong",{children:"Connected"}),p&&e.jsx("div",{className:"user-email",children:p})]})]}),e.jsx("button",{onClick:g,className:"disconnect-button",children:"Disconnect"})]}):e.jsxs("div",{className:"auth-prompt",children:[e.jsx("p",{children:"Connect your Google account to enable automatic cloud synchronization of your settings, API keys, SWAG content, and usage logs."}),e.jsxs("p",{className:"mt-2 text-sm text-gray-600 dark:text-gray-400",children:[e.jsx("strong",{children:"Note:"})," All sync features are automatically enabled when you connect your Google account. No additional configuration needed!"]}),e.jsx("button",{onClick:E,disabled:L,className:"google-auth-button",children:L?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"spinner"}),"Connecting..."]}):e.jsxs(e.Fragment,{children:[e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 18 18",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("path",{fill:"#4285F4",d:"M17.64 9.2c0-.637-.057-1.251-.164-1.84H9v3.481h4.844c-.209 1.125-.843 2.078-1.796 2.717v2.258h2.908c1.702-1.567 2.684-3.874 2.684-6.615z"}),e.jsx("path",{fill:"#34A853",d:"M9.003 18c2.43 0 4.467-.806 5.956-2.184l-2.908-2.258c-.806.54-1.837.86-3.048.86-2.344 0-4.328-1.584-5.036-3.711H.957v2.332C2.438 15.983 5.482 18 9.003 18z"}),e.jsx("path",{fill:"#FBBC05",d:"M3.964 10.71c-.18-.54-.282-1.117-.282-1.71s.102-1.17.282-1.71V4.958H.957C.347 6.173 0 7.548 0 9s.348 2.827.957 4.042l3.007-2.332z"}),e.jsx("path",{fill:"#EA4335",d:"M9.003 3.58c1.321 0 2.508.454 3.44 1.345l2.582-2.58C13.464.891 11.428 0 9.003 0 5.482 0 2.438 2.017.957 4.958L3.964 7.29c.708-2.127 2.692-3.71 5.036-3.71z"})]}),"Connect to Google Drive"]})}),k&&e.jsxs("div",{className:"error-message",children:[e.jsx("strong",{children:"Error:"})," ",k]})]})]}),a&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"card p-4 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-700 mt-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("span",{className:"text-2xl",children:"â˜ï¸"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-semibold text-blue-900 dark:text-blue-100 mb-3",children:"Data Sync Status"}),e.jsxs("div",{className:"text-sm text-blue-700 dark:text-blue-300 space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{children:"Last synced:"}),e.jsx("strong",{children:M(m)})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{children:"Saved plans:"}),e.jsxs("strong",{children:[h.plansCount," items"]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{children:"Saved playlists:"}),e.jsxs("strong",{children:[h.playlistsCount," items"]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{children:"Saved snippets:"}),e.jsxs("strong",{children:[h.snippetsCount," items"]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{children:"Saved embeddings:"}),e.jsxs("strong",{children:[h.embeddingsCount," chunks"]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{children:"Chat history:"}),e.jsxs("strong",{children:[h.chatHistoryCount," chats"]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{children:"Quiz progress:"}),e.jsxs("strong",{children:[h.quizProgressCount," quizzes"]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{children:"Feed items:"}),e.jsxs("strong",{children:[h.feedItemsCount," items"]})]}),C&&e.jsxs("div",{className:"p-2 bg-green-100 dark:bg-green-800 rounded text-green-800 dark:text-green-100",children:["âœ“ ",C]}),e.jsx("div",{className:"flex gap-2 mt-3",children:e.jsx("button",{onClick:n,disabled:f,className:"flex-1 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded disabled:opacity-50 disabled:cursor-not-allowed",children:f?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"inline-block animate-spin mr-2",children:"ðŸ”„"}),"Syncing..."]}):e.jsx(e.Fragment,{children:"ðŸ”„ Sync Now"})})}),e.jsxs("div",{className:"flex items-center gap-2 mt-3 p-2 bg-blue-100 dark:bg-blue-800 rounded",children:[e.jsx("input",{type:"checkbox",id:"auto-sync",checked:u,onChange:y,className:"w-4 h-4"}),e.jsx("label",{htmlFor:"auto-sync",className:"cursor-pointer",children:"Auto-sync every 5 minutes"})]})]})]})]})}),e.jsx("div",{className:"card p-4 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-700 mt-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("span",{className:"text-2xl",children:"âœ…"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-semibold text-green-900 dark:text-green-100 mb-2",children:"Cloud Sync Enabled"}),e.jsxs("div",{className:"text-sm text-green-700 dark:text-green-300 space-y-1",children:[e.jsx("p",{children:"All sync features are now active:"}),e.jsxs("ul",{className:"list-disc ml-5 mt-2 space-y-1",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Settings & Preferences:"})," Automatically synced across devices"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"API Keys (SWAG):"})," Securely backed up to your Google Drive"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"RAG Content:"})," Snippets and embeddings synced to Google Drive"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Chat History:"})," All conversations backed up with metadata"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Quiz Progress:"})," Quiz statistics and scores synced"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Feed Items:"})," Generated content and recommendations backed up"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Usage Logs:"})," Billing and transaction history backed up"]})]})]})]})]})})]})]})},ve=({enabledTools:a,setEnabledTools:j,onOpenMCPDialog:L})=>{const{settings:l,setSettings:k}=H(),{t:s,i18n:p}=ae(),{isConnected:x,isLoading:f,error:c,initiateOAuthFlow:C,disconnect:w}=re(),{location:m,isLoading:v,error:h,permissionState:S,requestLocation:u,clearLocation:P}=le(),{features:t}=Q(),[n,y]=o.useState("general"),[M,E]=o.useState(!1),[g,r]=o.useState(!1),[i,b]=o.useState(""),[I,A]=o.useState(""),[_,F]=o.useState(!1);o.useEffect(()=>{const d=localStorage.getItem("proxy_settings");if(d)try{const N=JSON.parse(d);r(N.useServerProxy||!1),b(N.username||""),A(N.password||""),F(N.enabled!==!1)}catch(N){console.error("Failed to parse proxy settings:",N)}},[]);const T=(d,N,D,z)=>{localStorage.setItem("proxy_settings",JSON.stringify({useServerProxy:d,username:N,password:D,enabled:z}))},G=d=>{p.changeLanguage(d),k({...l,language:d})};return e.jsx("div",{className:"max-w-4xl mx-auto p-6",children:e.jsxs("div",{className:"card p-6",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100 mb-6",children:s("settings.title")}),e.jsxs("div",{className:"flex border-b border-gray-200 dark:border-gray-700 mb-6 overflow-x-auto",children:[e.jsxs("button",{onClick:()=>y("general"),className:`px-3 sm:px-6 py-3 text-sm font-medium transition-colors border-b-2 whitespace-nowrap ${n==="general"?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300"}`,children:["âš™ï¸ ",e.jsx("span",{className:"hidden sm:inline",children:s("settings.tabs.general")})]}),e.jsxs("button",{onClick:()=>y("provider"),className:`px-3 sm:px-6 py-3 text-sm font-medium transition-colors border-b-2 whitespace-nowrap ${n==="provider"?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300"}`,children:["ðŸ”Œ ",e.jsx("span",{className:"hidden sm:inline",children:s("settings.tabs.provider")})]}),e.jsxs("button",{onClick:()=>y("cloud"),className:`px-3 sm:px-6 py-3 text-sm font-medium transition-colors border-b-2 ${n==="cloud"?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300"}`,children:["â˜ï¸ ",e.jsx("span",{className:"hidden sm:inline",children:s("settings.tabs.cloud")})]}),e.jsxs("button",{onClick:()=>y("tools"),className:`px-3 sm:px-6 py-3 text-sm font-medium transition-colors border-b-2 ${n==="tools"?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300"}`,children:["ðŸ› ï¸ ",e.jsx("span",{className:"hidden sm:inline",children:s("settings.tabs.tools")})]}),e.jsxs("button",{onClick:()=>y("proxy"),className:`px-3 sm:px-6 py-3 text-sm font-medium transition-colors border-b-2 ${n==="proxy"?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300"}`,children:["ðŸŒ ",e.jsx("span",{className:"hidden sm:inline",children:s("settings.tabs.proxy")})]}),e.jsxs("button",{onClick:()=>y("location"),className:`px-3 sm:px-6 py-3 text-sm font-medium transition-colors border-b-2 ${n==="location"?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300"}`,children:["ðŸ“ ",e.jsx("span",{className:"hidden sm:inline",children:s("settings.tabs.location")})]}),e.jsxs("button",{onClick:()=>y("tts"),className:`px-3 sm:px-6 py-3 text-sm font-medium transition-colors border-b-2 ${n==="tts"?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300"}`,children:["ðŸ”Š ",e.jsx("span",{className:"hidden sm:inline",children:s("settings.tabs.tts")})]}),e.jsxs("button",{onClick:()=>y("voice"),className:`px-3 sm:px-6 py-3 text-sm font-medium transition-colors border-b-2 ${n==="voice"?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300"}`,children:["ðŸŽ¤ ",e.jsx("span",{className:"hidden sm:inline",children:"Voice"})]}),e.jsxs("button",{onClick:()=>y("rag"),className:`px-3 sm:px-6 py-3 text-sm font-medium transition-colors border-b-2 ${n==="rag"?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300"}`,children:["ðŸ§  ",e.jsx("span",{className:"hidden sm:inline",children:s("settings.tabs.rag")})]})]}),n==="general"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-2",children:s("settings.general")}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:s("settings.generalDescription")})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["ðŸŒ ",s("settings.language")]}),e.jsxs("select",{value:l.language||"en",onChange:d=>G(d.target.value),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[e.jsxs("option",{value:"en",children:["ðŸ‡¬ðŸ‡§ ",s("languages.en")," - English"]}),e.jsxs("option",{value:"es",children:["ðŸ‡ªðŸ‡¸ ",s("languages.es")," - Spanish"]}),e.jsxs("option",{value:"fr",children:["ðŸ‡«ðŸ‡· ",s("languages.fr")," - French"]}),e.jsxs("option",{value:"de",children:["ðŸ‡©ðŸ‡ª ",s("languages.de")," - German"]}),e.jsxs("option",{value:"nl",children:["ðŸ‡³ðŸ‡± ",s("languages.nl")," - Dutch"]}),e.jsxs("option",{value:"pt",children:["ðŸ‡µðŸ‡¹ ",s("languages.pt")," - Portuguese"]}),e.jsxs("option",{value:"ru",children:["ðŸ‡·ðŸ‡º ",s("languages.ru")," - Russian"]}),e.jsxs("option",{value:"zh",children:["ðŸ‡¨ðŸ‡³ ",s("languages.zh")," - Chinese"]}),e.jsxs("option",{value:"ja",children:["ðŸ‡¯ðŸ‡µ ",s("languages.ja")," - Japanese"]}),e.jsxs("option",{value:"ar",children:["ðŸ‡¸ðŸ‡¦ ",s("languages.ar")," - Arabic"]})]}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:s("settings.languageHelp")})]})]}),n==="provider"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"mb-4",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-2",children:["âš¡ ",s("settings.providerCredentials")]}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:s("settings.providerDescription")})]}),e.jsx(ge,{onEditingChange:E}),!M&&e.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-6 mt-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-2",children:["ðŸŒ ",s("settings.serverProviders")]}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-4",children:s("settings.serverProvidersDescription")}),e.jsx(me,{})]}),!M&&e.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-6 mt-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-2",children:["ðŸŽ¯ ",s("settings.modelSelectionStrategy")]}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-4",children:s("settings.modelStrategyDescription")}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:"flex items-start gap-3 cursor-pointer p-4 rounded-lg border-2 transition-all hover:border-blue-300 dark:hover:border-blue-700 has-[:checked]:border-blue-500 dark:has-[:checked]:border-blue-400 has-[:checked]:bg-blue-50 dark:has-[:checked]:bg-blue-900/20",children:[e.jsx("input",{type:"radio",name:"optimization",value:"cheap",checked:(l.optimization||"cheap")==="cheap",onChange:d=>k({...l,optimization:d.target.value}),className:"mt-1 w-4 h-4 text-blue-600 focus:ring-2 focus:ring-blue-500"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"font-medium text-gray-900 dark:text-gray-100 mb-1",children:["ðŸ’° ",s("settings.cheap")]}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:s("settings.cheapDescription")})]})]}),e.jsxs("label",{className:"flex items-start gap-3 cursor-pointer p-4 rounded-lg border-2 transition-all hover:border-blue-300 dark:hover:border-blue-700 has-[:checked]:border-blue-500 dark:has-[:checked]:border-blue-400 has-[:checked]:bg-blue-50 dark:has-[:checked]:bg-blue-900/20",children:[e.jsx("input",{type:"radio",name:"optimization",value:"balanced",checked:l.optimization==="balanced",onChange:d=>k({...l,optimization:d.target.value}),className:"mt-1 w-4 h-4 text-blue-600 focus:ring-2 focus:ring-blue-500"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"font-medium text-gray-900 dark:text-gray-100 mb-1",children:["âš–ï¸ ",s("settings.balanced")]}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:s("settings.balancedDescription")})]})]}),e.jsxs("label",{className:"flex items-start gap-3 cursor-pointer p-4 rounded-lg border-2 transition-all hover:border-blue-300 dark:hover:border-blue-700 has-[:checked]:border-blue-500 dark:has-[:checked]:border-blue-400 has-[:checked]:bg-blue-50 dark:has-[:checked]:bg-blue-900/20",children:[e.jsx("input",{type:"radio",name:"optimization",value:"powerful",checked:l.optimization==="powerful",onChange:d=>k({...l,optimization:d.target.value}),className:"mt-1 w-4 h-4 text-blue-600 focus:ring-2 focus:ring-blue-500"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"font-medium text-gray-900 dark:text-gray-100 mb-1",children:["ðŸ’ª ",s("settings.powerful")]}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:s("settings.powerfulDescription")})]})]}),e.jsxs("label",{className:"flex items-start gap-3 cursor-pointer p-4 rounded-lg border-2 transition-all hover:border-blue-300 dark:hover:border-blue-700 has-[:checked]:border-blue-500 dark:has-[:checked]:border-blue-400 has-[:checked]:bg-blue-50 dark:has-[:checked]:bg-blue-900/20",children:[e.jsx("input",{type:"radio",name:"optimization",value:"fastest",checked:l.optimization==="fastest",onChange:d=>k({...l,optimization:d.target.value}),className:"mt-1 w-4 h-4 text-blue-600 focus:ring-2 focus:ring-blue-500"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"font-medium text-gray-900 dark:text-gray-100 mb-1",children:["âš¡ ",s("settings.fastest")]}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:s("settings.fastestDescription")})]})]})]})]})]}),n==="tools"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:s("settings.tavilyApiKey")}),e.jsx("input",{type:"password",value:l.tavilyApiKey,onChange:d=>k({...l,tavilyApiKey:d.target.value}),className:"input-field",placeholder:s("settings.tavilyPlaceholder")}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:s("settings.tavilyHelp")})]}),e.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-6 mt-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-4",children:s("settings.enabledTools")}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:"flex items-center gap-3 cursor-pointer p-3 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors",children:[e.jsx("input",{type:"checkbox",checked:a.web_search,onChange:d=>j({...a,web_search:d.target.checked}),className:"w-5 h-5 text-blue-600 rounded focus:ring-2 focus:ring-blue-500"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"font-medium text-gray-900 dark:text-gray-100",children:["ðŸ” ",s("settings.webSearch")]}),e.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:s("settings.webSearchDescription")})]})]}),e.jsxs("label",{className:"flex items-center gap-3 cursor-pointer p-3 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors",children:[e.jsx("input",{type:"checkbox",checked:a.execute_js,onChange:d=>j({...a,execute_js:d.target.checked}),className:"w-5 h-5 text-blue-600 rounded focus:ring-2 focus:ring-blue-500"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"font-medium text-gray-900 dark:text-gray-100",children:["âš¡ ",s("settings.executeJs")]}),e.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:s("settings.executeJsDescription")})]})]}),e.jsxs("label",{className:"flex items-center gap-3 cursor-pointer p-3 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors",children:[e.jsx("input",{type:"checkbox",checked:a.scrape_url,onChange:d=>j({...a,scrape_url:d.target.checked}),className:"w-5 h-5 text-blue-600 rounded focus:ring-2 focus:ring-blue-500"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"font-medium text-gray-900 dark:text-gray-100",children:["ðŸŒ ",s("settings.scrapeUrl")]}),e.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:s("settings.scrapeUrlDescription")})]})]}),e.jsxs("label",{className:"flex items-center gap-3 cursor-pointer p-3 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors",children:[e.jsx("input",{type:"checkbox",checked:a.youtube,onChange:d=>j({...a,youtube:d.target.checked}),className:"w-5 h-5 text-blue-600 rounded focus:ring-2 focus:ring-blue-500"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"font-medium text-gray-900 dark:text-gray-100",children:["ðŸŽ¬ ",s("settings.youtubeSearch")]}),e.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:s("settings.youtubeDescription")})]})]}),e.jsxs("label",{className:"flex items-center gap-3 cursor-pointer p-3 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors",children:[e.jsx("input",{type:"checkbox",checked:a.transcribe,onChange:d=>j({...a,transcribe:d.target.checked}),className:"w-5 h-5 text-blue-600 rounded focus:ring-2 focus:ring-blue-500"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"font-medium text-gray-900 dark:text-gray-100",children:["ðŸŽ™ï¸ ",s("settings.transcribe")]}),e.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:s("settings.transcribeDescription")})]})]}),e.jsxs("label",{className:"flex items-center gap-3 cursor-pointer p-3 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors",children:[e.jsx("input",{type:"checkbox",checked:a.generate_chart,onChange:d=>j({...a,generate_chart:d.target.checked}),className:"w-5 h-5 text-blue-600 rounded focus:ring-2 focus:ring-blue-500"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"font-medium text-gray-900 dark:text-gray-100",children:["ðŸ“Š ",s("settings.generateChart")]}),e.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:s("settings.chartDescription")})]})]}),e.jsxs("label",{className:"flex items-center gap-3 cursor-pointer p-3 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors",children:[e.jsx("input",{type:"checkbox",checked:a.generate_image,onChange:d=>j({...a,generate_image:d.target.checked}),className:"w-5 h-5 text-blue-600 rounded focus:ring-2 focus:ring-blue-500"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"font-medium text-gray-900 dark:text-gray-100",children:["ðŸŽ¨ ",s("settings.generateImage")]}),e.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:s("settings.imageDescription")})]})]}),e.jsxs("label",{className:"flex items-center gap-3 cursor-pointer p-3 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors",children:[e.jsx("input",{type:"checkbox",checked:a.search_knowledge_base,onChange:d=>j({...a,search_knowledge_base:d.target.checked}),className:"w-5 h-5 text-blue-600 rounded focus:ring-2 focus:ring-blue-500"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"font-medium text-gray-900 dark:text-gray-100",children:["ðŸ“š ",s("settings.searchKnowledgeBase")]}),e.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:s("settings.ragDescription")})]})]}),e.jsxs("label",{className:"flex items-center gap-3 cursor-pointer p-3 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors",children:[e.jsx("input",{type:"checkbox",checked:a.manage_todos,onChange:d=>j({...a,manage_todos:d.target.checked}),className:"w-5 h-5 text-blue-600 rounded focus:ring-2 focus:ring-blue-500"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"font-medium text-gray-900 dark:text-gray-100",children:["âœ… ",s("settings.manageTodos")]}),e.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:s("settings.todosDescription")})]})]}),e.jsxs("label",{className:"flex items-center gap-3 cursor-pointer p-3 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors",children:[e.jsx("input",{type:"checkbox",checked:a.manage_snippets,onChange:d=>j({...a,manage_snippets:d.target.checked}),className:"w-5 h-5 text-blue-600 rounded focus:ring-2 focus:ring-blue-500"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"font-medium text-gray-900 dark:text-gray-100",children:["ðŸ“ ",s("settings.manageSnippets")]}),e.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:s("settings.snippetsDescription")})]})]})]})]}),e.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-6 mt-6",children:[e.jsx("div",{className:"mb-4",children:e.jsxs("label",{className:"flex items-center gap-3 cursor-pointer p-3 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors",children:[e.jsx("input",{type:"checkbox",checked:x,onChange:d=>{d.preventDefault()},className:"w-5 h-5 text-blue-600 rounded focus:ring-2 focus:ring-blue-500"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-medium text-gray-900 dark:text-gray-100",children:"ðŸ“º Use YouTube Captions API"}),e.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Direct access to YouTube transcripts (faster than Whisper transcription)"})]}),x&&e.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 text-xs font-medium text-green-700 bg-green-100 dark:bg-green-900/30 dark:text-green-400 rounded-full",children:[e.jsx("svg",{className:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),"Connected"]})]})}),!x&&e.jsxs("div",{className:"ml-11 mb-4",children:[e.jsx("button",{onClick:C,disabled:f,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed rounded-lg transition-colors",children:f?"Connecting...":"Connect YouTube Account"}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-2",children:"Requires Google account authorization (read-only access)"})]}),x&&e.jsx("div",{className:"ml-11 mb-4",children:e.jsx("button",{onClick:()=>{confirm("Are you sure you want to disconnect YouTube access?")&&w()},className:"px-4 py-2 text-sm font-medium text-red-600 hover:text-red-700 dark:text-red-400 dark:hover:text-red-300 border border-red-300 dark:border-red-700 rounded-lg transition-colors",children:"Disconnect YouTube Access"})}),c&&e.jsxs("div",{className:"ml-11 mb-4 text-sm text-red-600 dark:text-red-400 flex items-start gap-2",children:[e.jsx("svg",{className:"w-4 h-4 flex-shrink-0 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),e.jsx("span",{children:c})]})]}),e.jsx("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-6 mt-6",children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:"flex items-center gap-3 cursor-pointer p-4 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors border-2 border-amber-200 dark:border-amber-900/50 bg-amber-50 dark:bg-amber-900/10",children:[e.jsx("input",{type:"checkbox",checked:a.ask_llm,onChange:d=>j({...a,ask_llm:d.target.checked}),className:"w-5 h-5 text-blue-600 rounded focus:ring-2 focus:ring-blue-500"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"font-medium text-gray-900 dark:text-gray-100 flex items-center gap-2",children:["ðŸ¤– ",s("settings.askLlm"),e.jsx("span",{className:"inline-flex items-center px-2 py-0.5 text-xs font-medium text-amber-700 bg-amber-200 dark:bg-amber-900/50 dark:text-amber-400 rounded-full",children:"âš ï¸ HIGH TOKEN USAGE"})]}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-300 font-medium mb-1",children:s("settings.askLlmDescription")}),e.jsxs("div",{className:"text-xs text-amber-700 dark:text-amber-400 bg-amber-100 dark:bg-amber-900/30 p-2 rounded border border-amber-300 dark:border-amber-800",children:[e.jsx("strong",{children:"WARNING:"})," This tool creates complete recursive conversations with all available tools and multiple iterations. Can consume ",e.jsx("strong",{children:"5-10x more tokens"})," than direct responses. Use ONLY for complex queries requiring multiple steps with different tools. Limited to 5 iterations with token budget safeguards."]})]})]}),e.jsxs("label",{className:"flex items-center gap-3 cursor-pointer p-4 rounded-lg hover:bg-red-50 dark:hover:bg-red-950/30 transition-colors border-3 border-red-400 dark:border-red-900 bg-red-50 dark:bg-red-950/20 shadow-md",children:[e.jsx("input",{type:"checkbox",checked:a.generate_reasoning_chain,onChange:d=>j({...a,generate_reasoning_chain:d.target.checked}),className:"w-5 h-5 text-blue-600 rounded focus:ring-2 focus:ring-red-500"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"font-medium text-gray-900 dark:text-gray-100 flex items-center gap-2",children:["ðŸ§  ",s("settings.generateReasoning"),e.jsx("span",{className:"inline-flex items-center px-2 py-0.5 text-xs font-bold text-red-800 bg-red-300 dark:bg-red-900/70 dark:text-red-300 rounded-full animate-pulse",children:"âš ï¸âš ï¸ EXTREME TOKEN USAGE"})]}),e.jsx("div",{className:"text-sm text-gray-700 dark:text-gray-200 font-semibold mb-1",children:s("settings.reasoningDescription")}),e.jsxs("div",{className:"text-xs text-red-800 dark:text-red-300 bg-red-100 dark:bg-red-950/50 p-3 rounded border-2 border-red-400 dark:border-red-800 space-y-1",children:[e.jsx("div",{className:"font-bold text-sm mb-2",children:"ðŸš¨ CRITICAL WARNINGS:"}),e.jsxs("div",{children:["â€¢ Can consume ",e.jsx("strong",{className:"text-red-900 dark:text-red-200",children:"10-50x MORE tokens"})," than normal responses"]}),e.jsxs("div",{children:["â€¢ Uses ",e.jsx("strong",{children:"maximum reasoning depth"})," - models think extensively before responding"]}),e.jsxs("div",{children:["â€¢ May trigger ",e.jsx("strong",{children:"PARALLEL ASYNCHRONOUS TOOL CALLS"})," causing rapid token consumption"]}),e.jsxs("div",{children:["â€¢ Reasoning models charge for ",e.jsx("strong",{children:"both reasoning AND output tokens"})]}),e.jsxs("div",{className:"mt-2 pt-2 border-t border-red-300 dark:border-red-800",children:[e.jsx("strong",{children:"USE ONLY FOR:"})," Complex problems requiring deep logical analysis, multi-step proofs, mathematical derivations, or strategic planning where explicit reasoning transparency is essential."]})]})]})]})]})}),e.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-6 mt-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"MCP Servers"}),e.jsx("button",{onClick:()=>{L()},className:"btn-secondary text-sm px-4 py-2",title:"Configure Model Context Protocol Servers",children:"âž• Configure MCP"})]}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Add and manage Model Context Protocol servers for extended functionality"})]})]}),n==="proxy"&&e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-2 text-gray-900 dark:text-gray-100",children:s("settings.proxySettings")}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-4",children:s("settings.proxyDescription")}),e.jsxs("div",{className:"space-y-4",children:[t?.proxy&&e.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("input",{type:"checkbox",id:"useServerProxy",checked:g,onChange:d=>{const N=d.target.checked;r(N),T(N,i,I,_)},className:"w-4 h-4"}),e.jsx("label",{htmlFor:"useServerProxy",className:"text-sm font-medium text-blue-900 dark:text-blue-100",children:"Use Server Proxy (Recommended)"})]}),e.jsx("p",{className:"text-xs text-blue-700 dark:text-blue-300 ml-6",children:"Server has a proxy configured. Uses server's proxy credentials for all requests."})]}),e.jsxs("div",{className:g?"opacity-50 pointer-events-none":"",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:s("settings.proxyUsername")}),e.jsx("input",{type:"text",value:i,onChange:d=>{const N=d.target.value;b(N),T(g,N,I,_)},placeholder:"exrihquq",disabled:g,className:"input w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 disabled:opacity-50 disabled:cursor-not-allowed"})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:s("settings.proxyPassword")}),e.jsx("input",{type:"password",value:I,onChange:d=>{const N=d.target.value;A(N),T(g,i,N,_)},placeholder:"Enter password",disabled:g,className:"input w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 disabled:opacity-50 disabled:cursor-not-allowed"})]}),e.jsxs("div",{className:"flex items-center gap-2 mt-4",children:[e.jsx("input",{type:"checkbox",id:"proxyEnabled",checked:_,onChange:d=>{const N=d.target.checked;F(N),T(g,i,I,N)},disabled:g,className:"w-4 h-4 disabled:opacity-50 disabled:cursor-not-allowed"}),e.jsx("label",{htmlFor:"proxyEnabled",className:"text-sm text-gray-700 dark:text-gray-300",children:"Enable user proxy for all requests"})]})]})]}),e.jsxs("div",{className:"mt-4 text-xs text-gray-500 dark:text-gray-400 space-y-1 bg-gray-50 dark:bg-gray-800 p-3 rounded-md",children:[e.jsx("p",{children:"âœ“ Rotating residential IPs via p.webshare.io:80"}),e.jsx("p",{children:"âœ“ Avoids rate limiting from Google and other services"}),e.jsxs("p",{children:["âœ“ Get credentials from ",e.jsx("a",{href:"https://dashboard.webshare.io/dashboard",target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:text-blue-600 underline",children:"Webshare Dashboard"})]}),e.jsx("p",{children:"âš ï¸ UI settings override environment variables"})]})]})}),n==="location"&&e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-semibold mb-2 text-gray-900 dark:text-gray-100",children:["ðŸ“ ",s("settings.locationServices")]}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-4",children:s("settings.locationDescription")}),e.jsx("div",{className:`p-6 rounded-lg border-2 ${m?"bg-green-50 dark:bg-green-900/20 border-green-300 dark:border-green-700":S==="denied"?"bg-red-50 dark:bg-red-900/20 border-red-300 dark:border-red-700":"bg-gray-50 dark:bg-gray-800 border-gray-300 dark:border-gray-700"}`,children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"flex-shrink-0",children:v?e.jsxs("svg",{className:"w-12 h-12 text-blue-500 animate-spin",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",strokeWidth:"3"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):m?e.jsx("svg",{className:"w-12 h-12 text-green-500",viewBox:"0 0 24 24",fill:"currentColor",children:e.jsx("path",{d:"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"})}):S==="denied"?e.jsx("svg",{className:"w-12 h-12 text-red-500",viewBox:"0 0 24 24",fill:"currentColor",children:e.jsx("path",{d:"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm1 13h-2v-2h2v2zm0-4h-2V7h2v4z"})}):e.jsx("svg",{className:"w-12 h-12 text-gray-400",viewBox:"0 0 24 24",fill:"currentColor",opacity:"0.5",children:e.jsx("path",{d:"M12 8c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4zm8.94 3c-.46-4.17-3.77-7.48-7.94-7.94V1h-2v2.06C6.83 3.52 3.52 6.83 3.06 11H1v2h2.06c.46 4.17 3.77 7.48 7.94 7.94V23h2v-2.06c4.17-.46 7.48-3.77 7.94-7.94H23v-2h-2.06zM12 19c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7z"})})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"mb-3",children:v?e.jsx("div",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Getting your location..."}):m?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"text-lg font-semibold text-green-700 dark:text-green-400 mb-2",children:"Location Enabled"}),m.address&&e.jsxs("div",{className:"space-y-1",children:[m.address.formatted&&e.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:m.address.formatted}),!m.address.formatted&&e.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:[m.address.city,m.address.state,m.address.country].filter(Boolean).join(", ")})]}),e.jsxs("div",{className:"mt-2 text-xs text-gray-600 dark:text-gray-400 space-y-1",children:[e.jsxs("div",{children:["Coordinates: ",m.latitude.toFixed(6),", ",m.longitude.toFixed(6)]}),e.jsxs("div",{children:["Accuracy: Â±",m.accuracy.toFixed(0)," meters"]}),e.jsxs("div",{children:["Updated: ",new Date(m.timestamp).toLocaleString()]})]})]}):S==="denied"?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"text-lg font-semibold text-red-700 dark:text-red-400 mb-2",children:"Location Access Denied"}),e.jsx("div",{className:"text-sm text-gray-700 dark:text-gray-300",children:"You have denied location access. To enable it, please update your browser settings and reload the page."})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"text-lg font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Location Not Enabled"}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Click the button below to share your location. This helps provide better responses for location-specific queries."})]})}),h&&e.jsx("div",{className:"mt-3 p-3 bg-red-100 dark:bg-red-900/30 border border-red-300 dark:border-red-700 rounded-lg",children:e.jsxs("div",{className:"text-sm text-red-700 dark:text-red-400 flex items-start gap-2",children:[e.jsx("svg",{className:"w-4 h-4 flex-shrink-0 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),e.jsx("span",{children:h})]})}),e.jsxs("div",{className:"mt-4 flex gap-3",children:[!m&&S!=="denied"&&e.jsx("button",{onClick:u,disabled:v,className:"btn-primary px-6 py-2 disabled:opacity-50 disabled:cursor-not-allowed",children:v?"Getting Location...":"Enable Location"}),m&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:u,disabled:v,className:"btn-secondary px-4 py-2",children:"ðŸ”„ Refresh"}),e.jsx("button",{onClick:P,className:"btn-secondary px-4 py-2 text-red-600 hover:bg-red-50 dark:text-red-400 dark:hover:bg-red-900/20",children:"ðŸ—‘ï¸ Clear"})]})]})]})]})}),e.jsx("div",{className:"mt-6 p-4 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("svg",{className:"w-5 h-5 text-blue-500 flex-shrink-0 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"text-sm font-semibold text-blue-900 dark:text-blue-100 mb-2",children:"Privacy & Usage"}),e.jsxs("div",{className:"text-xs text-blue-800 dark:text-blue-300 space-y-1",children:[e.jsx("p",{children:"âœ“ Your location is stored locally in your browser (not on our servers)"}),e.jsx("p",{children:"âœ“ Location data is only sent to the Lambda function when you send a chat message"}),e.jsx("p",{children:"âœ“ Automatically expires after 24 hours"}),e.jsx("p",{children:"âœ“ You can clear your location data at any time"}),e.jsx("p",{children:"âœ“ Used for: weather, local businesses, directions, time zones, regional info"})]})]})]})})]})}),n==="tts"&&e.jsx(he,{}),n==="voice"&&e.jsx(ue,{}),n==="rag"&&e.jsx(be,{}),n==="cloud"&&e.jsx(pe,{})]})})};export{ve as SettingsPage};
