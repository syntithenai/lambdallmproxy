import{L as i}from"./index-85uSmEIK.js";const o=32e3,d=1;function h(t){const e=JSON.stringify(t);return i.compressToEncodedURIComponent(e)}function c(t){try{const e=i.decompressFromEncodedURIComponent(t);if(!e)return null;const n=JSON.parse(e);return!n.version||n.shareType!=="snippet"||!n.content?(console.error("Invalid snippet share data structure"),null):n}catch(e){return console.error("Failed to decode snippet share data:",e),null}}function m(t,e,n,a,p){const s={version:d,timestamp:Date.now(),shareType:"snippet",id:t,content:e,title:n,tags:a,sourceType:p,metadata:{compressed:!0,originalSize:e.length}},r=h(s);return s.metadata.compressedSize=r.length,r.length>o&&console.warn(`Snippet share data exceeds ${o} chars (${r.length})`),r}function u(t){return`${"https://ai.syntithenai.com"+window.location.pathname}#/snippet/shared?data=${t}`}function S(){const t=window.location.hash;if(t.includes("/snippet/shared?data=")){const a=t.match(/data=([^&]+)/);if(a)return c(a[1])}const n=new URLSearchParams(window.location.search).get("snippet");return n?c(n):null}export{u as a,m as c,S as g};
