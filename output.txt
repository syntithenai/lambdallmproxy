      ✓ should have reduced emphasis markers (CRITICAL/NEVER)
      ✓ should have no emojis
      ✓ should not have excessive examples section
    No Functional Loss
      ✓ should still have OpenAI function calling mention
      ✓ should still specify all tool parameters
      ✓ should still warn about brief responses (1 ms)
      ✓ should still mention citing sources
  System Prompt Structure Validation
    ✓ should have clear sections (TOOLS, RESPONSE, etc.)
    ✓ should start with a clear AI assistant description (1 ms)
    ✓ should have date/time near the beginning
    ✓ should not have excessive whitespace or line breaks
  Token Estimation
    ✓ should estimate tokens correctly (1 ms)
  Critical Rules Checklist
    ✓ CRITICAL RULE: Tool parameter restrictions (additionalProperties: false)
    ✓ CRITICAL RULE: Date/time handling (use provided, never guess) (1 ms)
    ✓ CRITICAL RULE: YouTube priority (search_youtube for videos)
    ✓ CRITICAL RULE: Multi-query support (array of queries)
    ✓ CRITICAL RULE: Response format (Markdown with headings, lists, code)
    ✓ CRITICAL RULE: Completeness check before finalizing (1 ms)
    ✓ CRITICAL RULE: Comprehensive response length (1000-3000 words)
    ✓ CRITICAL RULE: Tool usage when helpful
  Removed Redundancies Validation
    ✓ should not have 8+ NEVER statements (1 ms)
    ✓ should not have 12+ CRITICAL statements
    ✓ should not have emojis
    ✓ should not have verbose example categories
    ✓ should not have excessive transitional phrases (1 ms)
    ✓ should not have redundant temporal sections
    ✓ should not have explicit markdown instruction lists
  Output Format
    ✓ should print optimization summary (3 ms)

Test Suites: 1 passed, 1 total
Tests:       43 passed, 43 total
Snapshots:   0 total
Time:        0.186 s, estimated 1 s
Ran all test suites matching /tests\/integration\/system_prompt_optimization.test.js/i.
